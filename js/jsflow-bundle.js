(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
'use strict'

exports.byteLength = byteLength
exports.toByteArray = toByteArray
exports.fromByteArray = fromByteArray

var lookup = []
var revLookup = []
var Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array

var code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'
for (var i = 0, len = code.length; i < len; ++i) {
  lookup[i] = code[i]
  revLookup[code.charCodeAt(i)] = i
}

// Support decoding URL-safe base64 strings, as Node.js does.
// See: https://en.wikipedia.org/wiki/Base64#URL_applications
revLookup['-'.charCodeAt(0)] = 62
revLookup['_'.charCodeAt(0)] = 63

function getLens (b64) {
  var len = b64.length

  if (len % 4 > 0) {
    throw new Error('Invalid string. Length must be a multiple of 4')
  }

  // Trim off extra bytes after placeholder bytes are found
  // See: https://github.com/beatgammit/base64-js/issues/42
  var validLen = b64.indexOf('=')
  if (validLen === -1) validLen = len

  var placeHoldersLen = validLen === len
    ? 0
    : 4 - (validLen % 4)

  return [validLen, placeHoldersLen]
}

// base64 is 4/3 + up to two characters of the original data
function byteLength (b64) {
  var lens = getLens(b64)
  var validLen = lens[0]
  var placeHoldersLen = lens[1]
  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen
}

function _byteLength (b64, validLen, placeHoldersLen) {
  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen
}

function toByteArray (b64) {
  var tmp
  var lens = getLens(b64)
  var validLen = lens[0]
  var placeHoldersLen = lens[1]

  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))

  var curByte = 0

  // if there are placeholders, only get up to the last complete 4 chars
  var len = placeHoldersLen > 0
    ? validLen - 4
    : validLen

  var i
  for (i = 0; i < len; i += 4) {
    tmp =
      (revLookup[b64.charCodeAt(i)] << 18) |
      (revLookup[b64.charCodeAt(i + 1)] << 12) |
      (revLookup[b64.charCodeAt(i + 2)] << 6) |
      revLookup[b64.charCodeAt(i + 3)]
    arr[curByte++] = (tmp >> 16) & 0xFF
    arr[curByte++] = (tmp >> 8) & 0xFF
    arr[curByte++] = tmp & 0xFF
  }

  if (placeHoldersLen === 2) {
    tmp =
      (revLookup[b64.charCodeAt(i)] << 2) |
      (revLookup[b64.charCodeAt(i + 1)] >> 4)
    arr[curByte++] = tmp & 0xFF
  }

  if (placeHoldersLen === 1) {
    tmp =
      (revLookup[b64.charCodeAt(i)] << 10) |
      (revLookup[b64.charCodeAt(i + 1)] << 4) |
      (revLookup[b64.charCodeAt(i + 2)] >> 2)
    arr[curByte++] = (tmp >> 8) & 0xFF
    arr[curByte++] = tmp & 0xFF
  }

  return arr
}

function tripletToBase64 (num) {
  return lookup[num >> 18 & 0x3F] +
    lookup[num >> 12 & 0x3F] +
    lookup[num >> 6 & 0x3F] +
    lookup[num & 0x3F]
}

function encodeChunk (uint8, start, end) {
  var tmp
  var output = []
  for (var i = start; i < end; i += 3) {
    tmp =
      ((uint8[i] << 16) & 0xFF0000) +
      ((uint8[i + 1] << 8) & 0xFF00) +
      (uint8[i + 2] & 0xFF)
    output.push(tripletToBase64(tmp))
  }
  return output.join('')
}

function fromByteArray (uint8) {
  var tmp
  var len = uint8.length
  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes
  var parts = []
  var maxChunkLength = 16383 // must be multiple of 3

  // go through the array every three bytes, we'll deal with trailing stuff later
  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {
    parts.push(encodeChunk(
      uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)
    ))
  }

  // pad the end with zeros, but make sure to not forget the extra bytes
  if (extraBytes === 1) {
    tmp = uint8[len - 1]
    parts.push(
      lookup[tmp >> 2] +
      lookup[(tmp << 4) & 0x3F] +
      '=='
    )
  } else if (extraBytes === 2) {
    tmp = (uint8[len - 2] << 8) + uint8[len - 1]
    parts.push(
      lookup[tmp >> 10] +
      lookup[(tmp >> 4) & 0x3F] +
      lookup[(tmp << 2) & 0x3F] +
      '='
    )
  }

  return parts.join('')
}

},{}],2:[function(require,module,exports){

},{}],3:[function(require,module,exports){
(function (Buffer){
var toString = Object.prototype.toString

var isModern = (
  typeof Buffer.alloc === 'function' &&
  typeof Buffer.allocUnsafe === 'function' &&
  typeof Buffer.from === 'function'
)

function isArrayBuffer (input) {
  return toString.call(input).slice(8, -1) === 'ArrayBuffer'
}

function fromArrayBuffer (obj, byteOffset, length) {
  byteOffset >>>= 0

  var maxLength = obj.byteLength - byteOffset

  if (maxLength < 0) {
    throw new RangeError("'offset' is out of bounds")
  }

  if (length === undefined) {
    length = maxLength
  } else {
    length >>>= 0

    if (length > maxLength) {
      throw new RangeError("'length' is out of bounds")
    }
  }

  return isModern
    ? Buffer.from(obj.slice(byteOffset, byteOffset + length))
    : new Buffer(new Uint8Array(obj.slice(byteOffset, byteOffset + length)))
}

function fromString (string, encoding) {
  if (typeof encoding !== 'string' || encoding === '') {
    encoding = 'utf8'
  }

  if (!Buffer.isEncoding(encoding)) {
    throw new TypeError('"encoding" must be a valid string encoding')
  }

  return isModern
    ? Buffer.from(string, encoding)
    : new Buffer(string, encoding)
}

function bufferFrom (value, encodingOrOffset, length) {
  if (typeof value === 'number') {
    throw new TypeError('"value" argument must not be a number')
  }

  if (isArrayBuffer(value)) {
    return fromArrayBuffer(value, encodingOrOffset, length)
  }

  if (typeof value === 'string') {
    return fromString(value, encodingOrOffset)
  }

  return isModern
    ? Buffer.from(value)
    : new Buffer(value)
}

module.exports = bufferFrom

}).call(this,require("buffer").Buffer)

},{"buffer":4}],4:[function(require,module,exports){
(function (Buffer){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
/* eslint-disable no-proto */

'use strict'

var base64 = require('base64-js')
var ieee754 = require('ieee754')
var customInspectSymbol =
  (typeof Symbol === 'function' && typeof Symbol.for === 'function')
    ? Symbol.for('nodejs.util.inspect.custom')
    : null

exports.Buffer = Buffer
exports.SlowBuffer = SlowBuffer
exports.INSPECT_MAX_BYTES = 50

var K_MAX_LENGTH = 0x7fffffff
exports.kMaxLength = K_MAX_LENGTH

/**
 * If `Buffer.TYPED_ARRAY_SUPPORT`:
 *   === true    Use Uint8Array implementation (fastest)
 *   === false   Print warning and recommend using `buffer` v4.x which has an Object
 *               implementation (most compatible, even IE6)
 *
 * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,
 * Opera 11.6+, iOS 4.2+.
 *
 * We report that the browser does not support typed arrays if the are not subclassable
 * using __proto__. Firefox 4-29 lacks support for adding new properties to `Uint8Array`
 * (See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438). IE 10 lacks support
 * for __proto__ and has a buggy typed array implementation.
 */
Buffer.TYPED_ARRAY_SUPPORT = typedArraySupport()

if (!Buffer.TYPED_ARRAY_SUPPORT && typeof console !== 'undefined' &&
    typeof console.error === 'function') {
  console.error(
    'This browser lacks typed array (Uint8Array) support which is required by ' +
    '`buffer` v5.x. Use `buffer` v4.x if you require old browser support.'
  )
}

function typedArraySupport () {
  // Can typed array instances can be augmented?
  try {
    var arr = new Uint8Array(1)
    var proto = { foo: function () { return 42 } }
    Object.setPrototypeOf(proto, Uint8Array.prototype)
    Object.setPrototypeOf(arr, proto)
    return arr.foo() === 42
  } catch (e) {
    return false
  }
}

Object.defineProperty(Buffer.prototype, 'parent', {
  enumerable: true,
  get: function () {
    if (!Buffer.isBuffer(this)) return undefined
    return this.buffer
  }
})

Object.defineProperty(Buffer.prototype, 'offset', {
  enumerable: true,
  get: function () {
    if (!Buffer.isBuffer(this)) return undefined
    return this.byteOffset
  }
})

function createBuffer (length) {
  if (length > K_MAX_LENGTH) {
    throw new RangeError('The value "' + length + '" is invalid for option "size"')
  }
  // Return an augmented `Uint8Array` instance
  var buf = new Uint8Array(length)
  Object.setPrototypeOf(buf, Buffer.prototype)
  return buf
}

/**
 * The Buffer constructor returns instances of `Uint8Array` that have their
 * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of
 * `Uint8Array`, so the returned instances will have all the node `Buffer` methods
 * and the `Uint8Array` methods. Square bracket notation works as expected -- it
 * returns a single octet.
 *
 * The `Uint8Array` prototype remains unmodified.
 */

function Buffer (arg, encodingOrOffset, length) {
  // Common case.
  if (typeof arg === 'number') {
    if (typeof encodingOrOffset === 'string') {
      throw new TypeError(
        'The "string" argument must be of type string. Received type number'
      )
    }
    return allocUnsafe(arg)
  }
  return from(arg, encodingOrOffset, length)
}

// Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97
if (typeof Symbol !== 'undefined' && Symbol.species != null &&
    Buffer[Symbol.species] === Buffer) {
  Object.defineProperty(Buffer, Symbol.species, {
    value: null,
    configurable: true,
    enumerable: false,
    writable: false
  })
}

Buffer.poolSize = 8192 // not used by this implementation

function from (value, encodingOrOffset, length) {
  if (typeof value === 'string') {
    return fromString(value, encodingOrOffset)
  }

  if (ArrayBuffer.isView(value)) {
    return fromArrayLike(value)
  }

  if (value == null) {
    throw new TypeError(
      'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +
      'or Array-like Object. Received type ' + (typeof value)
    )
  }

  if (isInstance(value, ArrayBuffer) ||
      (value && isInstance(value.buffer, ArrayBuffer))) {
    return fromArrayBuffer(value, encodingOrOffset, length)
  }

  if (typeof value === 'number') {
    throw new TypeError(
      'The "value" argument must not be of type number. Received type number'
    )
  }

  var valueOf = value.valueOf && value.valueOf()
  if (valueOf != null && valueOf !== value) {
    return Buffer.from(valueOf, encodingOrOffset, length)
  }

  var b = fromObject(value)
  if (b) return b

  if (typeof Symbol !== 'undefined' && Symbol.toPrimitive != null &&
      typeof value[Symbol.toPrimitive] === 'function') {
    return Buffer.from(
      value[Symbol.toPrimitive]('string'), encodingOrOffset, length
    )
  }

  throw new TypeError(
    'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +
    'or Array-like Object. Received type ' + (typeof value)
  )
}

/**
 * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError
 * if value is a number.
 * Buffer.from(str[, encoding])
 * Buffer.from(array)
 * Buffer.from(buffer)
 * Buffer.from(arrayBuffer[, byteOffset[, length]])
 **/
Buffer.from = function (value, encodingOrOffset, length) {
  return from(value, encodingOrOffset, length)
}

// Note: Change prototype *after* Buffer.from is defined to workaround Chrome bug:
// https://github.com/feross/buffer/pull/148
Object.setPrototypeOf(Buffer.prototype, Uint8Array.prototype)
Object.setPrototypeOf(Buffer, Uint8Array)

function assertSize (size) {
  if (typeof size !== 'number') {
    throw new TypeError('"size" argument must be of type number')
  } else if (size < 0) {
    throw new RangeError('The value "' + size + '" is invalid for option "size"')
  }
}

function alloc (size, fill, encoding) {
  assertSize(size)
  if (size <= 0) {
    return createBuffer(size)
  }
  if (fill !== undefined) {
    // Only pay attention to encoding if it's a string. This
    // prevents accidentally sending in a number that would
    // be interpretted as a start offset.
    return typeof encoding === 'string'
      ? createBuffer(size).fill(fill, encoding)
      : createBuffer(size).fill(fill)
  }
  return createBuffer(size)
}

/**
 * Creates a new filled Buffer instance.
 * alloc(size[, fill[, encoding]])
 **/
Buffer.alloc = function (size, fill, encoding) {
  return alloc(size, fill, encoding)
}

function allocUnsafe (size) {
  assertSize(size)
  return createBuffer(size < 0 ? 0 : checked(size) | 0)
}

/**
 * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.
 * */
Buffer.allocUnsafe = function (size) {
  return allocUnsafe(size)
}
/**
 * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.
 */
Buffer.allocUnsafeSlow = function (size) {
  return allocUnsafe(size)
}

function fromString (string, encoding) {
  if (typeof encoding !== 'string' || encoding === '') {
    encoding = 'utf8'
  }

  if (!Buffer.isEncoding(encoding)) {
    throw new TypeError('Unknown encoding: ' + encoding)
  }

  var length = byteLength(string, encoding) | 0
  var buf = createBuffer(length)

  var actual = buf.write(string, encoding)

  if (actual !== length) {
    // Writing a hex string, for example, that contains invalid characters will
    // cause everything after the first invalid character to be ignored. (e.g.
    // 'abxxcd' will be treated as 'ab')
    buf = buf.slice(0, actual)
  }

  return buf
}

function fromArrayLike (array) {
  var length = array.length < 0 ? 0 : checked(array.length) | 0
  var buf = createBuffer(length)
  for (var i = 0; i < length; i += 1) {
    buf[i] = array[i] & 255
  }
  return buf
}

function fromArrayBuffer (array, byteOffset, length) {
  if (byteOffset < 0 || array.byteLength < byteOffset) {
    throw new RangeError('"offset" is outside of buffer bounds')
  }

  if (array.byteLength < byteOffset + (length || 0)) {
    throw new RangeError('"length" is outside of buffer bounds')
  }

  var buf
  if (byteOffset === undefined && length === undefined) {
    buf = new Uint8Array(array)
  } else if (length === undefined) {
    buf = new Uint8Array(array, byteOffset)
  } else {
    buf = new Uint8Array(array, byteOffset, length)
  }

  // Return an augmented `Uint8Array` instance
  Object.setPrototypeOf(buf, Buffer.prototype)

  return buf
}

function fromObject (obj) {
  if (Buffer.isBuffer(obj)) {
    var len = checked(obj.length) | 0
    var buf = createBuffer(len)

    if (buf.length === 0) {
      return buf
    }

    obj.copy(buf, 0, 0, len)
    return buf
  }

  if (obj.length !== undefined) {
    if (typeof obj.length !== 'number' || numberIsNaN(obj.length)) {
      return createBuffer(0)
    }
    return fromArrayLike(obj)
  }

  if (obj.type === 'Buffer' && Array.isArray(obj.data)) {
    return fromArrayLike(obj.data)
  }
}

function checked (length) {
  // Note: cannot use `length < K_MAX_LENGTH` here because that fails when
  // length is NaN (which is otherwise coerced to zero.)
  if (length >= K_MAX_LENGTH) {
    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +
                         'size: 0x' + K_MAX_LENGTH.toString(16) + ' bytes')
  }
  return length | 0
}

function SlowBuffer (length) {
  if (+length != length) { // eslint-disable-line eqeqeq
    length = 0
  }
  return Buffer.alloc(+length)
}

Buffer.isBuffer = function isBuffer (b) {
  return b != null && b._isBuffer === true &&
    b !== Buffer.prototype // so Buffer.isBuffer(Buffer.prototype) will be false
}

Buffer.compare = function compare (a, b) {
  if (isInstance(a, Uint8Array)) a = Buffer.from(a, a.offset, a.byteLength)
  if (isInstance(b, Uint8Array)) b = Buffer.from(b, b.offset, b.byteLength)
  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {
    throw new TypeError(
      'The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array'
    )
  }

  if (a === b) return 0

  var x = a.length
  var y = b.length

  for (var i = 0, len = Math.min(x, y); i < len; ++i) {
    if (a[i] !== b[i]) {
      x = a[i]
      y = b[i]
      break
    }
  }

  if (x < y) return -1
  if (y < x) return 1
  return 0
}

Buffer.isEncoding = function isEncoding (encoding) {
  switch (String(encoding).toLowerCase()) {
    case 'hex':
    case 'utf8':
    case 'utf-8':
    case 'ascii':
    case 'latin1':
    case 'binary':
    case 'base64':
    case 'ucs2':
    case 'ucs-2':
    case 'utf16le':
    case 'utf-16le':
      return true
    default:
      return false
  }
}

Buffer.concat = function concat (list, length) {
  if (!Array.isArray(list)) {
    throw new TypeError('"list" argument must be an Array of Buffers')
  }

  if (list.length === 0) {
    return Buffer.alloc(0)
  }

  var i
  if (length === undefined) {
    length = 0
    for (i = 0; i < list.length; ++i) {
      length += list[i].length
    }
  }

  var buffer = Buffer.allocUnsafe(length)
  var pos = 0
  for (i = 0; i < list.length; ++i) {
    var buf = list[i]
    if (isInstance(buf, Uint8Array)) {
      buf = Buffer.from(buf)
    }
    if (!Buffer.isBuffer(buf)) {
      throw new TypeError('"list" argument must be an Array of Buffers')
    }
    buf.copy(buffer, pos)
    pos += buf.length
  }
  return buffer
}

function byteLength (string, encoding) {
  if (Buffer.isBuffer(string)) {
    return string.length
  }
  if (ArrayBuffer.isView(string) || isInstance(string, ArrayBuffer)) {
    return string.byteLength
  }
  if (typeof string !== 'string') {
    throw new TypeError(
      'The "string" argument must be one of type string, Buffer, or ArrayBuffer. ' +
      'Received type ' + typeof string
    )
  }

  var len = string.length
  var mustMatch = (arguments.length > 2 && arguments[2] === true)
  if (!mustMatch && len === 0) return 0

  // Use a for loop to avoid recursion
  var loweredCase = false
  for (;;) {
    switch (encoding) {
      case 'ascii':
      case 'latin1':
      case 'binary':
        return len
      case 'utf8':
      case 'utf-8':
        return utf8ToBytes(string).length
      case 'ucs2':
      case 'ucs-2':
      case 'utf16le':
      case 'utf-16le':
        return len * 2
      case 'hex':
        return len >>> 1
      case 'base64':
        return base64ToBytes(string).length
      default:
        if (loweredCase) {
          return mustMatch ? -1 : utf8ToBytes(string).length // assume utf8
        }
        encoding = ('' + encoding).toLowerCase()
        loweredCase = true
    }
  }
}
Buffer.byteLength = byteLength

function slowToString (encoding, start, end) {
  var loweredCase = false

  // No need to verify that "this.length <= MAX_UINT32" since it's a read-only
  // property of a typed array.

  // This behaves neither like String nor Uint8Array in that we set start/end
  // to their upper/lower bounds if the value passed is out of range.
  // undefined is handled specially as per ECMA-262 6th Edition,
  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.
  if (start === undefined || start < 0) {
    start = 0
  }
  // Return early if start > this.length. Done here to prevent potential uint32
  // coercion fail below.
  if (start > this.length) {
    return ''
  }

  if (end === undefined || end > this.length) {
    end = this.length
  }

  if (end <= 0) {
    return ''
  }

  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.
  end >>>= 0
  start >>>= 0

  if (end <= start) {
    return ''
  }

  if (!encoding) encoding = 'utf8'

  while (true) {
    switch (encoding) {
      case 'hex':
        return hexSlice(this, start, end)

      case 'utf8':
      case 'utf-8':
        return utf8Slice(this, start, end)

      case 'ascii':
        return asciiSlice(this, start, end)

      case 'latin1':
      case 'binary':
        return latin1Slice(this, start, end)

      case 'base64':
        return base64Slice(this, start, end)

      case 'ucs2':
      case 'ucs-2':
      case 'utf16le':
      case 'utf-16le':
        return utf16leSlice(this, start, end)

      default:
        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)
        encoding = (encoding + '').toLowerCase()
        loweredCase = true
    }
  }
}

// This property is used by `Buffer.isBuffer` (and the `is-buffer` npm package)
// to detect a Buffer instance. It's not possible to use `instanceof Buffer`
// reliably in a browserify context because there could be multiple different
// copies of the 'buffer' package in use. This method works even for Buffer
// instances that were created from another copy of the `buffer` package.
// See: https://github.com/feross/buffer/issues/154
Buffer.prototype._isBuffer = true

function swap (b, n, m) {
  var i = b[n]
  b[n] = b[m]
  b[m] = i
}

Buffer.prototype.swap16 = function swap16 () {
  var len = this.length
  if (len % 2 !== 0) {
    throw new RangeError('Buffer size must be a multiple of 16-bits')
  }
  for (var i = 0; i < len; i += 2) {
    swap(this, i, i + 1)
  }
  return this
}

Buffer.prototype.swap32 = function swap32 () {
  var len = this.length
  if (len % 4 !== 0) {
    throw new RangeError('Buffer size must be a multiple of 32-bits')
  }
  for (var i = 0; i < len; i += 4) {
    swap(this, i, i + 3)
    swap(this, i + 1, i + 2)
  }
  return this
}

Buffer.prototype.swap64 = function swap64 () {
  var len = this.length
  if (len % 8 !== 0) {
    throw new RangeError('Buffer size must be a multiple of 64-bits')
  }
  for (var i = 0; i < len; i += 8) {
    swap(this, i, i + 7)
    swap(this, i + 1, i + 6)
    swap(this, i + 2, i + 5)
    swap(this, i + 3, i + 4)
  }
  return this
}

Buffer.prototype.toString = function toString () {
  var length = this.length
  if (length === 0) return ''
  if (arguments.length === 0) return utf8Slice(this, 0, length)
  return slowToString.apply(this, arguments)
}

Buffer.prototype.toLocaleString = Buffer.prototype.toString

Buffer.prototype.equals = function equals (b) {
  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')
  if (this === b) return true
  return Buffer.compare(this, b) === 0
}

Buffer.prototype.inspect = function inspect () {
  var str = ''
  var max = exports.INSPECT_MAX_BYTES
  str = this.toString('hex', 0, max).replace(/(.{2})/g, '$1 ').trim()
  if (this.length > max) str += ' ... '
  return '<Buffer ' + str + '>'
}
if (customInspectSymbol) {
  Buffer.prototype[customInspectSymbol] = Buffer.prototype.inspect
}

Buffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {
  if (isInstance(target, Uint8Array)) {
    target = Buffer.from(target, target.offset, target.byteLength)
  }
  if (!Buffer.isBuffer(target)) {
    throw new TypeError(
      'The "target" argument must be one of type Buffer or Uint8Array. ' +
      'Received type ' + (typeof target)
    )
  }

  if (start === undefined) {
    start = 0
  }
  if (end === undefined) {
    end = target ? target.length : 0
  }
  if (thisStart === undefined) {
    thisStart = 0
  }
  if (thisEnd === undefined) {
    thisEnd = this.length
  }

  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {
    throw new RangeError('out of range index')
  }

  if (thisStart >= thisEnd && start >= end) {
    return 0
  }
  if (thisStart >= thisEnd) {
    return -1
  }
  if (start >= end) {
    return 1
  }

  start >>>= 0
  end >>>= 0
  thisStart >>>= 0
  thisEnd >>>= 0

  if (this === target) return 0

  var x = thisEnd - thisStart
  var y = end - start
  var len = Math.min(x, y)

  var thisCopy = this.slice(thisStart, thisEnd)
  var targetCopy = target.slice(start, end)

  for (var i = 0; i < len; ++i) {
    if (thisCopy[i] !== targetCopy[i]) {
      x = thisCopy[i]
      y = targetCopy[i]
      break
    }
  }

  if (x < y) return -1
  if (y < x) return 1
  return 0
}

// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,
// OR the last index of `val` in `buffer` at offset <= `byteOffset`.
//
// Arguments:
// - buffer - a Buffer to search
// - val - a string, Buffer, or number
// - byteOffset - an index into `buffer`; will be clamped to an int32
// - encoding - an optional encoding, relevant is val is a string
// - dir - true for indexOf, false for lastIndexOf
function bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {
  // Empty buffer means no match
  if (buffer.length === 0) return -1

  // Normalize byteOffset
  if (typeof byteOffset === 'string') {
    encoding = byteOffset
    byteOffset = 0
  } else if (byteOffset > 0x7fffffff) {
    byteOffset = 0x7fffffff
  } else if (byteOffset < -0x80000000) {
    byteOffset = -0x80000000
  }
  byteOffset = +byteOffset // Coerce to Number.
  if (numberIsNaN(byteOffset)) {
    // byteOffset: it it's undefined, null, NaN, "foo", etc, search whole buffer
    byteOffset = dir ? 0 : (buffer.length - 1)
  }

  // Normalize byteOffset: negative offsets start from the end of the buffer
  if (byteOffset < 0) byteOffset = buffer.length + byteOffset
  if (byteOffset >= buffer.length) {
    if (dir) return -1
    else byteOffset = buffer.length - 1
  } else if (byteOffset < 0) {
    if (dir) byteOffset = 0
    else return -1
  }

  // Normalize val
  if (typeof val === 'string') {
    val = Buffer.from(val, encoding)
  }

  // Finally, search either indexOf (if dir is true) or lastIndexOf
  if (Buffer.isBuffer(val)) {
    // Special case: looking for empty string/buffer always fails
    if (val.length === 0) {
      return -1
    }
    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)
  } else if (typeof val === 'number') {
    val = val & 0xFF // Search for a byte value [0-255]
    if (typeof Uint8Array.prototype.indexOf === 'function') {
      if (dir) {
        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)
      } else {
        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)
      }
    }
    return arrayIndexOf(buffer, [val], byteOffset, encoding, dir)
  }

  throw new TypeError('val must be string, number or Buffer')
}

function arrayIndexOf (arr, val, byteOffset, encoding, dir) {
  var indexSize = 1
  var arrLength = arr.length
  var valLength = val.length

  if (encoding !== undefined) {
    encoding = String(encoding).toLowerCase()
    if (encoding === 'ucs2' || encoding === 'ucs-2' ||
        encoding === 'utf16le' || encoding === 'utf-16le') {
      if (arr.length < 2 || val.length < 2) {
        return -1
      }
      indexSize = 2
      arrLength /= 2
      valLength /= 2
      byteOffset /= 2
    }
  }

  function read (buf, i) {
    if (indexSize === 1) {
      return buf[i]
    } else {
      return buf.readUInt16BE(i * indexSize)
    }
  }

  var i
  if (dir) {
    var foundIndex = -1
    for (i = byteOffset; i < arrLength; i++) {
      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {
        if (foundIndex === -1) foundIndex = i
        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize
      } else {
        if (foundIndex !== -1) i -= i - foundIndex
        foundIndex = -1
      }
    }
  } else {
    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength
    for (i = byteOffset; i >= 0; i--) {
      var found = true
      for (var j = 0; j < valLength; j++) {
        if (read(arr, i + j) !== read(val, j)) {
          found = false
          break
        }
      }
      if (found) return i
    }
  }

  return -1
}

Buffer.prototype.includes = function includes (val, byteOffset, encoding) {
  return this.indexOf(val, byteOffset, encoding) !== -1
}

Buffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {
  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)
}

Buffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {
  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)
}

function hexWrite (buf, string, offset, length) {
  offset = Number(offset) || 0
  var remaining = buf.length - offset
  if (!length) {
    length = remaining
  } else {
    length = Number(length)
    if (length > remaining) {
      length = remaining
    }
  }

  var strLen = string.length

  if (length > strLen / 2) {
    length = strLen / 2
  }
  for (var i = 0; i < length; ++i) {
    var parsed = parseInt(string.substr(i * 2, 2), 16)
    if (numberIsNaN(parsed)) return i
    buf[offset + i] = parsed
  }
  return i
}

function utf8Write (buf, string, offset, length) {
  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)
}

function asciiWrite (buf, string, offset, length) {
  return blitBuffer(asciiToBytes(string), buf, offset, length)
}

function latin1Write (buf, string, offset, length) {
  return asciiWrite(buf, string, offset, length)
}

function base64Write (buf, string, offset, length) {
  return blitBuffer(base64ToBytes(string), buf, offset, length)
}

function ucs2Write (buf, string, offset, length) {
  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)
}

Buffer.prototype.write = function write (string, offset, length, encoding) {
  // Buffer#write(string)
  if (offset === undefined) {
    encoding = 'utf8'
    length = this.length
    offset = 0
  // Buffer#write(string, encoding)
  } else if (length === undefined && typeof offset === 'string') {
    encoding = offset
    length = this.length
    offset = 0
  // Buffer#write(string, offset[, length][, encoding])
  } else if (isFinite(offset)) {
    offset = offset >>> 0
    if (isFinite(length)) {
      length = length >>> 0
      if (encoding === undefined) encoding = 'utf8'
    } else {
      encoding = length
      length = undefined
    }
  } else {
    throw new Error(
      'Buffer.write(string, encoding, offset[, length]) is no longer supported'
    )
  }

  var remaining = this.length - offset
  if (length === undefined || length > remaining) length = remaining

  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {
    throw new RangeError('Attempt to write outside buffer bounds')
  }

  if (!encoding) encoding = 'utf8'

  var loweredCase = false
  for (;;) {
    switch (encoding) {
      case 'hex':
        return hexWrite(this, string, offset, length)

      case 'utf8':
      case 'utf-8':
        return utf8Write(this, string, offset, length)

      case 'ascii':
        return asciiWrite(this, string, offset, length)

      case 'latin1':
      case 'binary':
        return latin1Write(this, string, offset, length)

      case 'base64':
        // Warning: maxLength not taken into account in base64Write
        return base64Write(this, string, offset, length)

      case 'ucs2':
      case 'ucs-2':
      case 'utf16le':
      case 'utf-16le':
        return ucs2Write(this, string, offset, length)

      default:
        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)
        encoding = ('' + encoding).toLowerCase()
        loweredCase = true
    }
  }
}

Buffer.prototype.toJSON = function toJSON () {
  return {
    type: 'Buffer',
    data: Array.prototype.slice.call(this._arr || this, 0)
  }
}

function base64Slice (buf, start, end) {
  if (start === 0 && end === buf.length) {
    return base64.fromByteArray(buf)
  } else {
    return base64.fromByteArray(buf.slice(start, end))
  }
}

function utf8Slice (buf, start, end) {
  end = Math.min(buf.length, end)
  var res = []

  var i = start
  while (i < end) {
    var firstByte = buf[i]
    var codePoint = null
    var bytesPerSequence = (firstByte > 0xEF) ? 4
      : (firstByte > 0xDF) ? 3
        : (firstByte > 0xBF) ? 2
          : 1

    if (i + bytesPerSequence <= end) {
      var secondByte, thirdByte, fourthByte, tempCodePoint

      switch (bytesPerSequence) {
        case 1:
          if (firstByte < 0x80) {
            codePoint = firstByte
          }
          break
        case 2:
          secondByte = buf[i + 1]
          if ((secondByte & 0xC0) === 0x80) {
            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)
            if (tempCodePoint > 0x7F) {
              codePoint = tempCodePoint
            }
          }
          break
        case 3:
          secondByte = buf[i + 1]
          thirdByte = buf[i + 2]
          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {
            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)
            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {
              codePoint = tempCodePoint
            }
          }
          break
        case 4:
          secondByte = buf[i + 1]
          thirdByte = buf[i + 2]
          fourthByte = buf[i + 3]
          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {
            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)
            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {
              codePoint = tempCodePoint
            }
          }
      }
    }

    if (codePoint === null) {
      // we did not generate a valid codePoint so insert a
      // replacement char (U+FFFD) and advance only 1 byte
      codePoint = 0xFFFD
      bytesPerSequence = 1
    } else if (codePoint > 0xFFFF) {
      // encode to utf16 (surrogate pair dance)
      codePoint -= 0x10000
      res.push(codePoint >>> 10 & 0x3FF | 0xD800)
      codePoint = 0xDC00 | codePoint & 0x3FF
    }

    res.push(codePoint)
    i += bytesPerSequence
  }

  return decodeCodePointsArray(res)
}

// Based on http://stackoverflow.com/a/22747272/680742, the browser with
// the lowest limit is Chrome, with 0x10000 args.
// We go 1 magnitude less, for safety
var MAX_ARGUMENTS_LENGTH = 0x1000

function decodeCodePointsArray (codePoints) {
  var len = codePoints.length
  if (len <= MAX_ARGUMENTS_LENGTH) {
    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()
  }

  // Decode in chunks to avoid "call stack size exceeded".
  var res = ''
  var i = 0
  while (i < len) {
    res += String.fromCharCode.apply(
      String,
      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)
    )
  }
  return res
}

function asciiSlice (buf, start, end) {
  var ret = ''
  end = Math.min(buf.length, end)

  for (var i = start; i < end; ++i) {
    ret += String.fromCharCode(buf[i] & 0x7F)
  }
  return ret
}

function latin1Slice (buf, start, end) {
  var ret = ''
  end = Math.min(buf.length, end)

  for (var i = start; i < end; ++i) {
    ret += String.fromCharCode(buf[i])
  }
  return ret
}

function hexSlice (buf, start, end) {
  var len = buf.length

  if (!start || start < 0) start = 0
  if (!end || end < 0 || end > len) end = len

  var out = ''
  for (var i = start; i < end; ++i) {
    out += hexSliceLookupTable[buf[i]]
  }
  return out
}

function utf16leSlice (buf, start, end) {
  var bytes = buf.slice(start, end)
  var res = ''
  for (var i = 0; i < bytes.length; i += 2) {
    res += String.fromCharCode(bytes[i] + (bytes[i + 1] * 256))
  }
  return res
}

Buffer.prototype.slice = function slice (start, end) {
  var len = this.length
  start = ~~start
  end = end === undefined ? len : ~~end

  if (start < 0) {
    start += len
    if (start < 0) start = 0
  } else if (start > len) {
    start = len
  }

  if (end < 0) {
    end += len
    if (end < 0) end = 0
  } else if (end > len) {
    end = len
  }

  if (end < start) end = start

  var newBuf = this.subarray(start, end)
  // Return an augmented `Uint8Array` instance
  Object.setPrototypeOf(newBuf, Buffer.prototype)

  return newBuf
}

/*
 * Need to make sure that buffer isn't trying to write out of bounds.
 */
function checkOffset (offset, ext, length) {
  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')
  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')
}

Buffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {
  offset = offset >>> 0
  byteLength = byteLength >>> 0
  if (!noAssert) checkOffset(offset, byteLength, this.length)

  var val = this[offset]
  var mul = 1
  var i = 0
  while (++i < byteLength && (mul *= 0x100)) {
    val += this[offset + i] * mul
  }

  return val
}

Buffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {
  offset = offset >>> 0
  byteLength = byteLength >>> 0
  if (!noAssert) {
    checkOffset(offset, byteLength, this.length)
  }

  var val = this[offset + --byteLength]
  var mul = 1
  while (byteLength > 0 && (mul *= 0x100)) {
    val += this[offset + --byteLength] * mul
  }

  return val
}

Buffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 1, this.length)
  return this[offset]
}

Buffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 2, this.length)
  return this[offset] | (this[offset + 1] << 8)
}

Buffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 2, this.length)
  return (this[offset] << 8) | this[offset + 1]
}

Buffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 4, this.length)

  return ((this[offset]) |
      (this[offset + 1] << 8) |
      (this[offset + 2] << 16)) +
      (this[offset + 3] * 0x1000000)
}

Buffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 4, this.length)

  return (this[offset] * 0x1000000) +
    ((this[offset + 1] << 16) |
    (this[offset + 2] << 8) |
    this[offset + 3])
}

Buffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {
  offset = offset >>> 0
  byteLength = byteLength >>> 0
  if (!noAssert) checkOffset(offset, byteLength, this.length)

  var val = this[offset]
  var mul = 1
  var i = 0
  while (++i < byteLength && (mul *= 0x100)) {
    val += this[offset + i] * mul
  }
  mul *= 0x80

  if (val >= mul) val -= Math.pow(2, 8 * byteLength)

  return val
}

Buffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {
  offset = offset >>> 0
  byteLength = byteLength >>> 0
  if (!noAssert) checkOffset(offset, byteLength, this.length)

  var i = byteLength
  var mul = 1
  var val = this[offset + --i]
  while (i > 0 && (mul *= 0x100)) {
    val += this[offset + --i] * mul
  }
  mul *= 0x80

  if (val >= mul) val -= Math.pow(2, 8 * byteLength)

  return val
}

Buffer.prototype.readInt8 = function readInt8 (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 1, this.length)
  if (!(this[offset] & 0x80)) return (this[offset])
  return ((0xff - this[offset] + 1) * -1)
}

Buffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 2, this.length)
  var val = this[offset] | (this[offset + 1] << 8)
  return (val & 0x8000) ? val | 0xFFFF0000 : val
}

Buffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 2, this.length)
  var val = this[offset + 1] | (this[offset] << 8)
  return (val & 0x8000) ? val | 0xFFFF0000 : val
}

Buffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 4, this.length)

  return (this[offset]) |
    (this[offset + 1] << 8) |
    (this[offset + 2] << 16) |
    (this[offset + 3] << 24)
}

Buffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 4, this.length)

  return (this[offset] << 24) |
    (this[offset + 1] << 16) |
    (this[offset + 2] << 8) |
    (this[offset + 3])
}

Buffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 4, this.length)
  return ieee754.read(this, offset, true, 23, 4)
}

Buffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 4, this.length)
  return ieee754.read(this, offset, false, 23, 4)
}

Buffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 8, this.length)
  return ieee754.read(this, offset, true, 52, 8)
}

Buffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 8, this.length)
  return ieee754.read(this, offset, false, 52, 8)
}

function checkInt (buf, value, offset, ext, max, min) {
  if (!Buffer.isBuffer(buf)) throw new TypeError('"buffer" argument must be a Buffer instance')
  if (value > max || value < min) throw new RangeError('"value" argument is out of bounds')
  if (offset + ext > buf.length) throw new RangeError('Index out of range')
}

Buffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset >>> 0
  byteLength = byteLength >>> 0
  if (!noAssert) {
    var maxBytes = Math.pow(2, 8 * byteLength) - 1
    checkInt(this, value, offset, byteLength, maxBytes, 0)
  }

  var mul = 1
  var i = 0
  this[offset] = value & 0xFF
  while (++i < byteLength && (mul *= 0x100)) {
    this[offset + i] = (value / mul) & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset >>> 0
  byteLength = byteLength >>> 0
  if (!noAssert) {
    var maxBytes = Math.pow(2, 8 * byteLength) - 1
    checkInt(this, value, offset, byteLength, maxBytes, 0)
  }

  var i = byteLength - 1
  var mul = 1
  this[offset + i] = value & 0xFF
  while (--i >= 0 && (mul *= 0x100)) {
    this[offset + i] = (value / mul) & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)
  this[offset] = (value & 0xff)
  return offset + 1
}

Buffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)
  this[offset] = (value & 0xff)
  this[offset + 1] = (value >>> 8)
  return offset + 2
}

Buffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)
  this[offset] = (value >>> 8)
  this[offset + 1] = (value & 0xff)
  return offset + 2
}

Buffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)
  this[offset + 3] = (value >>> 24)
  this[offset + 2] = (value >>> 16)
  this[offset + 1] = (value >>> 8)
  this[offset] = (value & 0xff)
  return offset + 4
}

Buffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)
  this[offset] = (value >>> 24)
  this[offset + 1] = (value >>> 16)
  this[offset + 2] = (value >>> 8)
  this[offset + 3] = (value & 0xff)
  return offset + 4
}

Buffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) {
    var limit = Math.pow(2, (8 * byteLength) - 1)

    checkInt(this, value, offset, byteLength, limit - 1, -limit)
  }

  var i = 0
  var mul = 1
  var sub = 0
  this[offset] = value & 0xFF
  while (++i < byteLength && (mul *= 0x100)) {
    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {
      sub = 1
    }
    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) {
    var limit = Math.pow(2, (8 * byteLength) - 1)

    checkInt(this, value, offset, byteLength, limit - 1, -limit)
  }

  var i = byteLength - 1
  var mul = 1
  var sub = 0
  this[offset + i] = value & 0xFF
  while (--i >= 0 && (mul *= 0x100)) {
    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {
      sub = 1
    }
    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)
  if (value < 0) value = 0xff + value + 1
  this[offset] = (value & 0xff)
  return offset + 1
}

Buffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)
  this[offset] = (value & 0xff)
  this[offset + 1] = (value >>> 8)
  return offset + 2
}

Buffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)
  this[offset] = (value >>> 8)
  this[offset + 1] = (value & 0xff)
  return offset + 2
}

Buffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)
  this[offset] = (value & 0xff)
  this[offset + 1] = (value >>> 8)
  this[offset + 2] = (value >>> 16)
  this[offset + 3] = (value >>> 24)
  return offset + 4
}

Buffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)
  if (value < 0) value = 0xffffffff + value + 1
  this[offset] = (value >>> 24)
  this[offset + 1] = (value >>> 16)
  this[offset + 2] = (value >>> 8)
  this[offset + 3] = (value & 0xff)
  return offset + 4
}

function checkIEEE754 (buf, value, offset, ext, max, min) {
  if (offset + ext > buf.length) throw new RangeError('Index out of range')
  if (offset < 0) throw new RangeError('Index out of range')
}

function writeFloat (buf, value, offset, littleEndian, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) {
    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)
  }
  ieee754.write(buf, value, offset, littleEndian, 23, 4)
  return offset + 4
}

Buffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {
  return writeFloat(this, value, offset, true, noAssert)
}

Buffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {
  return writeFloat(this, value, offset, false, noAssert)
}

function writeDouble (buf, value, offset, littleEndian, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) {
    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)
  }
  ieee754.write(buf, value, offset, littleEndian, 52, 8)
  return offset + 8
}

Buffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {
  return writeDouble(this, value, offset, true, noAssert)
}

Buffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {
  return writeDouble(this, value, offset, false, noAssert)
}

// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)
Buffer.prototype.copy = function copy (target, targetStart, start, end) {
  if (!Buffer.isBuffer(target)) throw new TypeError('argument should be a Buffer')
  if (!start) start = 0
  if (!end && end !== 0) end = this.length
  if (targetStart >= target.length) targetStart = target.length
  if (!targetStart) targetStart = 0
  if (end > 0 && end < start) end = start

  // Copy 0 bytes; we're done
  if (end === start) return 0
  if (target.length === 0 || this.length === 0) return 0

  // Fatal error conditions
  if (targetStart < 0) {
    throw new RangeError('targetStart out of bounds')
  }
  if (start < 0 || start >= this.length) throw new RangeError('Index out of range')
  if (end < 0) throw new RangeError('sourceEnd out of bounds')

  // Are we oob?
  if (end > this.length) end = this.length
  if (target.length - targetStart < end - start) {
    end = target.length - targetStart + start
  }

  var len = end - start

  if (this === target && typeof Uint8Array.prototype.copyWithin === 'function') {
    // Use built-in when available, missing from IE11
    this.copyWithin(targetStart, start, end)
  } else if (this === target && start < targetStart && targetStart < end) {
    // descending copy from end
    for (var i = len - 1; i >= 0; --i) {
      target[i + targetStart] = this[i + start]
    }
  } else {
    Uint8Array.prototype.set.call(
      target,
      this.subarray(start, end),
      targetStart
    )
  }

  return len
}

// Usage:
//    buffer.fill(number[, offset[, end]])
//    buffer.fill(buffer[, offset[, end]])
//    buffer.fill(string[, offset[, end]][, encoding])
Buffer.prototype.fill = function fill (val, start, end, encoding) {
  // Handle string cases:
  if (typeof val === 'string') {
    if (typeof start === 'string') {
      encoding = start
      start = 0
      end = this.length
    } else if (typeof end === 'string') {
      encoding = end
      end = this.length
    }
    if (encoding !== undefined && typeof encoding !== 'string') {
      throw new TypeError('encoding must be a string')
    }
    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {
      throw new TypeError('Unknown encoding: ' + encoding)
    }
    if (val.length === 1) {
      var code = val.charCodeAt(0)
      if ((encoding === 'utf8' && code < 128) ||
          encoding === 'latin1') {
        // Fast path: If `val` fits into a single byte, use that numeric value.
        val = code
      }
    }
  } else if (typeof val === 'number') {
    val = val & 255
  } else if (typeof val === 'boolean') {
    val = Number(val)
  }

  // Invalid ranges are not set to a default, so can range check early.
  if (start < 0 || this.length < start || this.length < end) {
    throw new RangeError('Out of range index')
  }

  if (end <= start) {
    return this
  }

  start = start >>> 0
  end = end === undefined ? this.length : end >>> 0

  if (!val) val = 0

  var i
  if (typeof val === 'number') {
    for (i = start; i < end; ++i) {
      this[i] = val
    }
  } else {
    var bytes = Buffer.isBuffer(val)
      ? val
      : Buffer.from(val, encoding)
    var len = bytes.length
    if (len === 0) {
      throw new TypeError('The value "' + val +
        '" is invalid for argument "value"')
    }
    for (i = 0; i < end - start; ++i) {
      this[i + start] = bytes[i % len]
    }
  }

  return this
}

// HELPER FUNCTIONS
// ================

var INVALID_BASE64_RE = /[^+/0-9A-Za-z-_]/g

function base64clean (str) {
  // Node takes equal signs as end of the Base64 encoding
  str = str.split('=')[0]
  // Node strips out invalid characters like \n and \t from the string, base64-js does not
  str = str.trim().replace(INVALID_BASE64_RE, '')
  // Node converts strings with length < 2 to ''
  if (str.length < 2) return ''
  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not
  while (str.length % 4 !== 0) {
    str = str + '='
  }
  return str
}

function utf8ToBytes (string, units) {
  units = units || Infinity
  var codePoint
  var length = string.length
  var leadSurrogate = null
  var bytes = []

  for (var i = 0; i < length; ++i) {
    codePoint = string.charCodeAt(i)

    // is surrogate component
    if (codePoint > 0xD7FF && codePoint < 0xE000) {
      // last char was a lead
      if (!leadSurrogate) {
        // no lead yet
        if (codePoint > 0xDBFF) {
          // unexpected trail
          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
          continue
        } else if (i + 1 === length) {
          // unpaired lead
          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
          continue
        }

        // valid lead
        leadSurrogate = codePoint

        continue
      }

      // 2 leads in a row
      if (codePoint < 0xDC00) {
        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
        leadSurrogate = codePoint
        continue
      }

      // valid surrogate pair
      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000
    } else if (leadSurrogate) {
      // valid bmp char, but last char was a lead
      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
    }

    leadSurrogate = null

    // encode utf8
    if (codePoint < 0x80) {
      if ((units -= 1) < 0) break
      bytes.push(codePoint)
    } else if (codePoint < 0x800) {
      if ((units -= 2) < 0) break
      bytes.push(
        codePoint >> 0x6 | 0xC0,
        codePoint & 0x3F | 0x80
      )
    } else if (codePoint < 0x10000) {
      if ((units -= 3) < 0) break
      bytes.push(
        codePoint >> 0xC | 0xE0,
        codePoint >> 0x6 & 0x3F | 0x80,
        codePoint & 0x3F | 0x80
      )
    } else if (codePoint < 0x110000) {
      if ((units -= 4) < 0) break
      bytes.push(
        codePoint >> 0x12 | 0xF0,
        codePoint >> 0xC & 0x3F | 0x80,
        codePoint >> 0x6 & 0x3F | 0x80,
        codePoint & 0x3F | 0x80
      )
    } else {
      throw new Error('Invalid code point')
    }
  }

  return bytes
}

function asciiToBytes (str) {
  var byteArray = []
  for (var i = 0; i < str.length; ++i) {
    // Node's code seems to be doing this and not & 0x7F..
    byteArray.push(str.charCodeAt(i) & 0xFF)
  }
  return byteArray
}

function utf16leToBytes (str, units) {
  var c, hi, lo
  var byteArray = []
  for (var i = 0; i < str.length; ++i) {
    if ((units -= 2) < 0) break

    c = str.charCodeAt(i)
    hi = c >> 8
    lo = c % 256
    byteArray.push(lo)
    byteArray.push(hi)
  }

  return byteArray
}

function base64ToBytes (str) {
  return base64.toByteArray(base64clean(str))
}

function blitBuffer (src, dst, offset, length) {
  for (var i = 0; i < length; ++i) {
    if ((i + offset >= dst.length) || (i >= src.length)) break
    dst[i + offset] = src[i]
  }
  return i
}

// ArrayBuffer or Uint8Array objects from other contexts (i.e. iframes) do not pass
// the `instanceof` check but they should be treated as of that type.
// See: https://github.com/feross/buffer/issues/166
function isInstance (obj, type) {
  return obj instanceof type ||
    (obj != null && obj.constructor != null && obj.constructor.name != null &&
      obj.constructor.name === type.name)
}
function numberIsNaN (obj) {
  // For IE11 support
  return obj !== obj // eslint-disable-line no-self-compare
}

// Create lookup table for `toString('hex')`
// See: https://github.com/feross/buffer/issues/219
var hexSliceLookupTable = (function () {
  var alphabet = '0123456789abcdef'
  var table = new Array(256)
  for (var i = 0; i < 16; ++i) {
    var i16 = i * 16
    for (var j = 0; j < 16; ++j) {
      table[i16 + j] = alphabet[i] + alphabet[j]
    }
  }
  return table
})()

}).call(this,require("buffer").Buffer)

},{"base64-js":1,"buffer":4,"ieee754":25}],5:[function(require,module,exports){
(function (global){
/*
  Copyright (C) 2012-2014 Yusuke Suzuki <utatane.tea@gmail.com>
  Copyright (C) 2015 Ingvar Stepanyan <me@rreverser.com>
  Copyright (C) 2014 Ivan Nikulin <ifaaan@gmail.com>
  Copyright (C) 2012-2013 Michael Ficarra <escodegen.copyright@michael.ficarra.me>
  Copyright (C) 2012-2013 Mathias Bynens <mathias@qiwi.be>
  Copyright (C) 2013 Irakli Gozalishvili <rfobic@gmail.com>
  Copyright (C) 2012 Robert Gust-Bardon <donate@robert.gust-bardon.org>
  Copyright (C) 2012 John Freeman <jfreeman08@gmail.com>
  Copyright (C) 2011-2012 Ariya Hidayat <ariya.hidayat@gmail.com>
  Copyright (C) 2012 Joost-Wim Boekesteijn <joost-wim@boekesteijn.nl>
  Copyright (C) 2012 Kris Kowal <kris.kowal@cixar.com>
  Copyright (C) 2012 Arpad Borsos <arpad.borsos@googlemail.com>

  Redistribution and use in source and binary forms, with or without
  modification, are permitted provided that the following conditions are met:

    * Redistributions of source code must retain the above copyright
      notice, this list of conditions and the following disclaimer.
    * Redistributions in binary form must reproduce the above copyright
      notice, this list of conditions and the following disclaimer in the
      documentation and/or other materials provided with the distribution.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
  AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
  IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
  ARE DISCLAIMED. IN NO EVENT SHALL <COPYRIGHT HOLDER> BE LIABLE FOR ANY
  DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
  (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
  LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
  ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
  (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF
  THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/

/*global exports:true, require:true, global:true*/
(function () {
    'use strict';

    var Syntax,
        Precedence,
        BinaryPrecedence,
        SourceNode,
        estraverse,
        esutils,
        base,
        indent,
        json,
        renumber,
        hexadecimal,
        quotes,
        escapeless,
        newline,
        space,
        parentheses,
        semicolons,
        safeConcatenation,
        directive,
        extra,
        parse,
        sourceMap,
        sourceCode,
        preserveBlankLines,
        FORMAT_MINIFY,
        FORMAT_DEFAULTS;

    estraverse = require('estraverse');
    esutils = require('esutils');

    Syntax = estraverse.Syntax;

    // Generation is done by generateExpression.
    function isExpression(node) {
        return CodeGenerator.Expression.hasOwnProperty(node.type);
    }

    // Generation is done by generateStatement.
    function isStatement(node) {
        return CodeGenerator.Statement.hasOwnProperty(node.type);
    }

    Precedence = {
        Sequence: 0,
        Yield: 1,
        Assignment: 1,
        Conditional: 2,
        ArrowFunction: 2,
        LogicalOR: 3,
        LogicalAND: 4,
        BitwiseOR: 5,
        BitwiseXOR: 6,
        BitwiseAND: 7,
        Equality: 8,
        Relational: 9,
        BitwiseSHIFT: 10,
        Additive: 11,
        Multiplicative: 12,
        Exponentiation: 13,
        Await: 14,
        Unary: 14,
        Postfix: 15,
        Call: 16,
        New: 17,
        TaggedTemplate: 18,
        Member: 19,
        Primary: 20
    };

    BinaryPrecedence = {
        '||': Precedence.LogicalOR,
        '&&': Precedence.LogicalAND,
        '|': Precedence.BitwiseOR,
        '^': Precedence.BitwiseXOR,
        '&': Precedence.BitwiseAND,
        '==': Precedence.Equality,
        '!=': Precedence.Equality,
        '===': Precedence.Equality,
        '!==': Precedence.Equality,
        'is': Precedence.Equality,
        'isnt': Precedence.Equality,
        '<': Precedence.Relational,
        '>': Precedence.Relational,
        '<=': Precedence.Relational,
        '>=': Precedence.Relational,
        'in': Precedence.Relational,
        'instanceof': Precedence.Relational,
        '<<': Precedence.BitwiseSHIFT,
        '>>': Precedence.BitwiseSHIFT,
        '>>>': Precedence.BitwiseSHIFT,
        '+': Precedence.Additive,
        '-': Precedence.Additive,
        '*': Precedence.Multiplicative,
        '%': Precedence.Multiplicative,
        '/': Precedence.Multiplicative,
        '**': Precedence.Exponentiation
    };

    //Flags
    var F_ALLOW_IN = 1,
        F_ALLOW_CALL = 1 << 1,
        F_ALLOW_UNPARATH_NEW = 1 << 2,
        F_FUNC_BODY = 1 << 3,
        F_DIRECTIVE_CTX = 1 << 4,
        F_SEMICOLON_OPT = 1 << 5;

    //Expression flag sets
    //NOTE: Flag order:
    // F_ALLOW_IN
    // F_ALLOW_CALL
    // F_ALLOW_UNPARATH_NEW
    var E_FTT = F_ALLOW_CALL | F_ALLOW_UNPARATH_NEW,
        E_TTF = F_ALLOW_IN | F_ALLOW_CALL,
        E_TTT = F_ALLOW_IN | F_ALLOW_CALL | F_ALLOW_UNPARATH_NEW,
        E_TFF = F_ALLOW_IN,
        E_FFT = F_ALLOW_UNPARATH_NEW,
        E_TFT = F_ALLOW_IN | F_ALLOW_UNPARATH_NEW;

    //Statement flag sets
    //NOTE: Flag order:
    // F_ALLOW_IN
    // F_FUNC_BODY
    // F_DIRECTIVE_CTX
    // F_SEMICOLON_OPT
    var S_TFFF = F_ALLOW_IN,
        S_TFFT = F_ALLOW_IN | F_SEMICOLON_OPT,
        S_FFFF = 0x00,
        S_TFTF = F_ALLOW_IN | F_DIRECTIVE_CTX,
        S_TTFF = F_ALLOW_IN | F_FUNC_BODY;

    function getDefaultOptions() {
        // default options
        return {
            indent: null,
            base: null,
            parse: null,
            comment: false,
            format: {
                indent: {
                    style: '    ',
                    base: 0,
                    adjustMultilineComment: false
                },
                newline: '\n',
                space: ' ',
                json: false,
                renumber: false,
                hexadecimal: false,
                quotes: 'single',
                escapeless: false,
                compact: false,
                parentheses: true,
                semicolons: true,
                safeConcatenation: false,
                preserveBlankLines: false
            },
            moz: {
                comprehensionExpressionStartsWithAssignment: false,
                starlessGenerator: false
            },
            sourceMap: null,
            sourceMapRoot: null,
            sourceMapWithCode: false,
            directive: false,
            raw: true,
            verbatim: null,
            sourceCode: null
        };
    }

    function stringRepeat(str, num) {
        var result = '';

        for (num |= 0; num > 0; num >>>= 1, str += str) {
            if (num & 1) {
                result += str;
            }
        }

        return result;
    }

    function hasLineTerminator(str) {
        return (/[\r\n]/g).test(str);
    }

    function endsWithLineTerminator(str) {
        var len = str.length;
        return len && esutils.code.isLineTerminator(str.charCodeAt(len - 1));
    }

    function merge(target, override) {
        var key;
        for (key in override) {
            if (override.hasOwnProperty(key)) {
                target[key] = override[key];
            }
        }
        return target;
    }

    function updateDeeply(target, override) {
        var key, val;

        function isHashObject(target) {
            return typeof target === 'object' && target instanceof Object && !(target instanceof RegExp);
        }

        for (key in override) {
            if (override.hasOwnProperty(key)) {
                val = override[key];
                if (isHashObject(val)) {
                    if (isHashObject(target[key])) {
                        updateDeeply(target[key], val);
                    } else {
                        target[key] = updateDeeply({}, val);
                    }
                } else {
                    target[key] = val;
                }
            }
        }
        return target;
    }

    function generateNumber(value) {
        var result, point, temp, exponent, pos;

        if (value !== value) {
            throw new Error('Numeric literal whose value is NaN');
        }
        if (value < 0 || (value === 0 && 1 / value < 0)) {
            throw new Error('Numeric literal whose value is negative');
        }

        if (value === 1 / 0) {
            return json ? 'null' : renumber ? '1e400' : '1e+400';
        }

        result = '' + value;
        if (!renumber || result.length < 3) {
            return result;
        }

        point = result.indexOf('.');
        if (!json && result.charCodeAt(0) === 0x30  /* 0 */ && point === 1) {
            point = 0;
            result = result.slice(1);
        }
        temp = result;
        result = result.replace('e+', 'e');
        exponent = 0;
        if ((pos = temp.indexOf('e')) > 0) {
            exponent = +temp.slice(pos + 1);
            temp = temp.slice(0, pos);
        }
        if (point >= 0) {
            exponent -= temp.length - point - 1;
            temp = +(temp.slice(0, point) + temp.slice(point + 1)) + '';
        }
        pos = 0;
        while (temp.charCodeAt(temp.length + pos - 1) === 0x30  /* 0 */) {
            --pos;
        }
        if (pos !== 0) {
            exponent -= pos;
            temp = temp.slice(0, pos);
        }
        if (exponent !== 0) {
            temp += 'e' + exponent;
        }
        if ((temp.length < result.length ||
                    (hexadecimal && value > 1e12 && Math.floor(value) === value && (temp = '0x' + value.toString(16)).length < result.length)) &&
                +temp === value) {
            result = temp;
        }

        return result;
    }

    // Generate valid RegExp expression.
    // This function is based on https://github.com/Constellation/iv Engine

    function escapeRegExpCharacter(ch, previousIsBackslash) {
        // not handling '\' and handling \u2028 or \u2029 to unicode escape sequence
        if ((ch & ~1) === 0x2028) {
            return (previousIsBackslash ? 'u' : '\\u') + ((ch === 0x2028) ? '2028' : '2029');
        } else if (ch === 10 || ch === 13) {  // \n, \r
            return (previousIsBackslash ? '' : '\\') + ((ch === 10) ? 'n' : 'r');
        }
        return String.fromCharCode(ch);
    }

    function generateRegExp(reg) {
        var match, result, flags, i, iz, ch, characterInBrack, previousIsBackslash;

        result = reg.toString();

        if (reg.source) {
            // extract flag from toString result
            match = result.match(/\/([^/]*)$/);
            if (!match) {
                return result;
            }

            flags = match[1];
            result = '';

            characterInBrack = false;
            previousIsBackslash = false;
            for (i = 0, iz = reg.source.length; i < iz; ++i) {
                ch = reg.source.charCodeAt(i);

                if (!previousIsBackslash) {
                    if (characterInBrack) {
                        if (ch === 93) {  // ]
                            characterInBrack = false;
                        }
                    } else {
                        if (ch === 47) {  // /
                            result += '\\';
                        } else if (ch === 91) {  // [
                            characterInBrack = true;
                        }
                    }
                    result += escapeRegExpCharacter(ch, previousIsBackslash);
                    previousIsBackslash = ch === 92;  // \
                } else {
                    // if new RegExp("\\\n') is provided, create /\n/
                    result += escapeRegExpCharacter(ch, previousIsBackslash);
                    // prevent like /\\[/]/
                    previousIsBackslash = false;
                }
            }

            return '/' + result + '/' + flags;
        }

        return result;
    }

    function escapeAllowedCharacter(code, next) {
        var hex;

        if (code === 0x08  /* \b */) {
            return '\\b';
        }

        if (code === 0x0C  /* \f */) {
            return '\\f';
        }

        if (code === 0x09  /* \t */) {
            return '\\t';
        }

        hex = code.toString(16).toUpperCase();
        if (json || code > 0xFF) {
            return '\\u' + '0000'.slice(hex.length) + hex;
        } else if (code === 0x0000 && !esutils.code.isDecimalDigit(next)) {
            return '\\0';
        } else if (code === 0x000B  /* \v */) { // '\v'
            return '\\x0B';
        } else {
            return '\\x' + '00'.slice(hex.length) + hex;
        }
    }

    function escapeDisallowedCharacter(code) {
        if (code === 0x5C  /* \ */) {
            return '\\\\';
        }

        if (code === 0x0A  /* \n */) {
            return '\\n';
        }

        if (code === 0x0D  /* \r */) {
            return '\\r';
        }

        if (code === 0x2028) {
            return '\\u2028';
        }

        if (code === 0x2029) {
            return '\\u2029';
        }

        throw new Error('Incorrectly classified character');
    }

    function escapeDirective(str) {
        var i, iz, code, quote;

        quote = quotes === 'double' ? '"' : '\'';
        for (i = 0, iz = str.length; i < iz; ++i) {
            code = str.charCodeAt(i);
            if (code === 0x27  /* ' */) {
                quote = '"';
                break;
            } else if (code === 0x22  /* " */) {
                quote = '\'';
                break;
            } else if (code === 0x5C  /* \ */) {
                ++i;
            }
        }

        return quote + str + quote;
    }

    function escapeString(str) {
        var result = '', i, len, code, singleQuotes = 0, doubleQuotes = 0, single, quote;

        for (i = 0, len = str.length; i < len; ++i) {
            code = str.charCodeAt(i);
            if (code === 0x27  /* ' */) {
                ++singleQuotes;
            } else if (code === 0x22  /* " */) {
                ++doubleQuotes;
            } else if (code === 0x2F  /* / */ && json) {
                result += '\\';
            } else if (esutils.code.isLineTerminator(code) || code === 0x5C  /* \ */) {
                result += escapeDisallowedCharacter(code);
                continue;
            } else if (!esutils.code.isIdentifierPartES5(code) && (json && code < 0x20  /* SP */ || !json && !escapeless && (code < 0x20  /* SP */ || code > 0x7E  /* ~ */))) {
                result += escapeAllowedCharacter(code, str.charCodeAt(i + 1));
                continue;
            }
            result += String.fromCharCode(code);
        }

        single = !(quotes === 'double' || (quotes === 'auto' && doubleQuotes < singleQuotes));
        quote = single ? '\'' : '"';

        if (!(single ? singleQuotes : doubleQuotes)) {
            return quote + result + quote;
        }

        str = result;
        result = quote;

        for (i = 0, len = str.length; i < len; ++i) {
            code = str.charCodeAt(i);
            if ((code === 0x27  /* ' */ && single) || (code === 0x22  /* " */ && !single)) {
                result += '\\';
            }
            result += String.fromCharCode(code);
        }

        return result + quote;
    }

    /**
     * flatten an array to a string, where the array can contain
     * either strings or nested arrays
     */
    function flattenToString(arr) {
        var i, iz, elem, result = '';
        for (i = 0, iz = arr.length; i < iz; ++i) {
            elem = arr[i];
            result += Array.isArray(elem) ? flattenToString(elem) : elem;
        }
        return result;
    }

    /**
     * convert generated to a SourceNode when source maps are enabled.
     */
    function toSourceNodeWhenNeeded(generated, node) {
        if (!sourceMap) {
            // with no source maps, generated is either an
            // array or a string.  if an array, flatten it.
            // if a string, just return it
            if (Array.isArray(generated)) {
                return flattenToString(generated);
            } else {
                return generated;
            }
        }
        if (node == null) {
            if (generated instanceof SourceNode) {
                return generated;
            } else {
                node = {};
            }
        }
        if (node.loc == null) {
            return new SourceNode(null, null, sourceMap, generated, node.name || null);
        }
        return new SourceNode(node.loc.start.line, node.loc.start.column, (sourceMap === true ? node.loc.source || null : sourceMap), generated, node.name || null);
    }

    function noEmptySpace() {
        return (space) ? space : ' ';
    }

    function join(left, right) {
        var leftSource,
            rightSource,
            leftCharCode,
            rightCharCode;

        leftSource = toSourceNodeWhenNeeded(left).toString();
        if (leftSource.length === 0) {
            return [right];
        }

        rightSource = toSourceNodeWhenNeeded(right).toString();
        if (rightSource.length === 0) {
            return [left];
        }

        leftCharCode = leftSource.charCodeAt(leftSource.length - 1);
        rightCharCode = rightSource.charCodeAt(0);

        if ((leftCharCode === 0x2B  /* + */ || leftCharCode === 0x2D  /* - */) && leftCharCode === rightCharCode ||
            esutils.code.isIdentifierPartES5(leftCharCode) && esutils.code.isIdentifierPartES5(rightCharCode) ||
            leftCharCode === 0x2F  /* / */ && rightCharCode === 0x69  /* i */) { // infix word operators all start with `i`
            return [left, noEmptySpace(), right];
        } else if (esutils.code.isWhiteSpace(leftCharCode) || esutils.code.isLineTerminator(leftCharCode) ||
                esutils.code.isWhiteSpace(rightCharCode) || esutils.code.isLineTerminator(rightCharCode)) {
            return [left, right];
        }
        return [left, space, right];
    }

    function addIndent(stmt) {
        return [base, stmt];
    }

    function withIndent(fn) {
        var previousBase;
        previousBase = base;
        base += indent;
        fn(base);
        base = previousBase;
    }

    function calculateSpaces(str) {
        var i;
        for (i = str.length - 1; i >= 0; --i) {
            if (esutils.code.isLineTerminator(str.charCodeAt(i))) {
                break;
            }
        }
        return (str.length - 1) - i;
    }

    function adjustMultilineComment(value, specialBase) {
        var array, i, len, line, j, spaces, previousBase, sn;

        array = value.split(/\r\n|[\r\n]/);
        spaces = Number.MAX_VALUE;

        // first line doesn't have indentation
        for (i = 1, len = array.length; i < len; ++i) {
            line = array[i];
            j = 0;
            while (j < line.length && esutils.code.isWhiteSpace(line.charCodeAt(j))) {
                ++j;
            }
            if (spaces > j) {
                spaces = j;
            }
        }

        if (typeof specialBase !== 'undefined') {
            // pattern like
            // {
            //   var t = 20;  /*
            //                 * this is comment
            //                 */
            // }
            previousBase = base;
            if (array[1][spaces] === '*') {
                specialBase += ' ';
            }
            base = specialBase;
        } else {
            if (spaces & 1) {
                // /*
                //  *
                //  */
                // If spaces are odd number, above pattern is considered.
                // We waste 1 space.
                --spaces;
            }
            previousBase = base;
        }

        for (i = 1, len = array.length; i < len; ++i) {
            sn = toSourceNodeWhenNeeded(addIndent(array[i].slice(spaces)));
            array[i] = sourceMap ? sn.join('') : sn;
        }

        base = previousBase;

        return array.join('\n');
    }

    function generateComment(comment, specialBase) {
        if (comment.type === 'Line') {
            if (endsWithLineTerminator(comment.value)) {
                return '//' + comment.value;
            } else {
                // Always use LineTerminator
                var result = '//' + comment.value;
                if (!preserveBlankLines) {
                    result += '\n';
                }
                return result;
            }
        }
        if (extra.format.indent.adjustMultilineComment && /[\n\r]/.test(comment.value)) {
            return adjustMultilineComment('/*' + comment.value + '*/', specialBase);
        }
        return '/*' + comment.value + '*/';
    }

    function addComments(stmt, result) {
        var i, len, comment, save, tailingToStatement, specialBase, fragment,
            extRange, range, prevRange, prefix, infix, suffix, count;

        if (stmt.leadingComments && stmt.leadingComments.length > 0) {
            save = result;

            if (preserveBlankLines) {
                comment = stmt.leadingComments[0];
                result = [];

                extRange = comment.extendedRange;
                range = comment.range;

                prefix = sourceCode.substring(extRange[0], range[0]);
                count = (prefix.match(/\n/g) || []).length;
                if (count > 0) {
                    result.push(stringRepeat('\n', count));
                    result.push(addIndent(generateComment(comment)));
                } else {
                    result.push(prefix);
                    result.push(generateComment(comment));
                }

                prevRange = range;

                for (i = 1, len = stmt.leadingComments.length; i < len; i++) {
                    comment = stmt.leadingComments[i];
                    range = comment.range;

                    infix = sourceCode.substring(prevRange[1], range[0]);
                    count = (infix.match(/\n/g) || []).length;
                    result.push(stringRepeat('\n', count));
                    result.push(addIndent(generateComment(comment)));

                    prevRange = range;
                }

                suffix = sourceCode.substring(range[1], extRange[1]);
                count = (suffix.match(/\n/g) || []).length;
                result.push(stringRepeat('\n', count));
            } else {
                comment = stmt.leadingComments[0];
                result = [];
                if (safeConcatenation && stmt.type === Syntax.Program && stmt.body.length === 0) {
                    result.push('\n');
                }
                result.push(generateComment(comment));
                if (!endsWithLineTerminator(toSourceNodeWhenNeeded(result).toString())) {
                    result.push('\n');
                }

                for (i = 1, len = stmt.leadingComments.length; i < len; ++i) {
                    comment = stmt.leadingComments[i];
                    fragment = [generateComment(comment)];
                    if (!endsWithLineTerminator(toSourceNodeWhenNeeded(fragment).toString())) {
                        fragment.push('\n');
                    }
                    result.push(addIndent(fragment));
                }
            }

            result.push(addIndent(save));
        }

        if (stmt.trailingComments) {

            if (preserveBlankLines) {
                comment = stmt.trailingComments[0];
                extRange = comment.extendedRange;
                range = comment.range;

                prefix = sourceCode.substring(extRange[0], range[0]);
                count = (prefix.match(/\n/g) || []).length;

                if (count > 0) {
                    result.push(stringRepeat('\n', count));
                    result.push(addIndent(generateComment(comment)));
                } else {
                    result.push(prefix);
                    result.push(generateComment(comment));
                }
            } else {
                tailingToStatement = !endsWithLineTerminator(toSourceNodeWhenNeeded(result).toString());
                specialBase = stringRepeat(' ', calculateSpaces(toSourceNodeWhenNeeded([base, result, indent]).toString()));
                for (i = 0, len = stmt.trailingComments.length; i < len; ++i) {
                    comment = stmt.trailingComments[i];
                    if (tailingToStatement) {
                        // We assume target like following script
                        //
                        // var t = 20;  /**
                        //               * This is comment of t
                        //               */
                        if (i === 0) {
                            // first case
                            result = [result, indent];
                        } else {
                            result = [result, specialBase];
                        }
                        result.push(generateComment(comment, specialBase));
                    } else {
                        result = [result, addIndent(generateComment(comment))];
                    }
                    if (i !== len - 1 && !endsWithLineTerminator(toSourceNodeWhenNeeded(result).toString())) {
                        result = [result, '\n'];
                    }
                }
            }
        }

        return result;
    }

    function generateBlankLines(start, end, result) {
        var j, newlineCount = 0;

        for (j = start; j < end; j++) {
            if (sourceCode[j] === '\n') {
                newlineCount++;
            }
        }

        for (j = 1; j < newlineCount; j++) {
            result.push(newline);
        }
    }

    function parenthesize(text, current, should) {
        if (current < should) {
            return ['(', text, ')'];
        }
        return text;
    }

    function generateVerbatimString(string) {
        var i, iz, result;
        result = string.split(/\r\n|\n/);
        for (i = 1, iz = result.length; i < iz; i++) {
            result[i] = newline + base + result[i];
        }
        return result;
    }

    function generateVerbatim(expr, precedence) {
        var verbatim, result, prec;
        verbatim = expr[extra.verbatim];

        if (typeof verbatim === 'string') {
            result = parenthesize(generateVerbatimString(verbatim), Precedence.Sequence, precedence);
        } else {
            // verbatim is object
            result = generateVerbatimString(verbatim.content);
            prec = (verbatim.precedence != null) ? verbatim.precedence : Precedence.Sequence;
            result = parenthesize(result, prec, precedence);
        }

        return toSourceNodeWhenNeeded(result, expr);
    }

    function CodeGenerator() {
    }

    // Helpers.

    CodeGenerator.prototype.maybeBlock = function(stmt, flags) {
        var result, noLeadingComment, that = this;

        noLeadingComment = !extra.comment || !stmt.leadingComments;

        if (stmt.type === Syntax.BlockStatement && noLeadingComment) {
            return [space, this.generateStatement(stmt, flags)];
        }

        if (stmt.type === Syntax.EmptyStatement && noLeadingComment) {
            return ';';
        }

        withIndent(function () {
            result = [
                newline,
                addIndent(that.generateStatement(stmt, flags))
            ];
        });

        return result;
    };

    CodeGenerator.prototype.maybeBlockSuffix = function (stmt, result) {
        var ends = endsWithLineTerminator(toSourceNodeWhenNeeded(result).toString());
        if (stmt.type === Syntax.BlockStatement && (!extra.comment || !stmt.leadingComments) && !ends) {
            return [result, space];
        }
        if (ends) {
            return [result, base];
        }
        return [result, newline, base];
    };

    function generateIdentifier(node) {
        return toSourceNodeWhenNeeded(node.name, node);
    }

    function generateAsyncPrefix(node, spaceRequired) {
        return node.async ? 'async' + (spaceRequired ? noEmptySpace() : space) : '';
    }

    function generateStarSuffix(node) {
        var isGenerator = node.generator && !extra.moz.starlessGenerator;
        return isGenerator ? '*' + space : '';
    }

    function generateMethodPrefix(prop) {
        var func = prop.value, prefix = '';
        if (func.async) {
            prefix += generateAsyncPrefix(func, !prop.computed);
        }
        if (func.generator) {
            // avoid space before method name
            prefix += generateStarSuffix(func) ? '*' : '';
        }
        return prefix;
    }

    CodeGenerator.prototype.generatePattern = function (node, precedence, flags) {
        if (node.type === Syntax.Identifier) {
            return generateIdentifier(node);
        }
        return this.generateExpression(node, precedence, flags);
    };

    CodeGenerator.prototype.generateFunctionParams = function (node) {
        var i, iz, result, hasDefault;

        hasDefault = false;

        if (node.type === Syntax.ArrowFunctionExpression &&
                !node.rest && (!node.defaults || node.defaults.length === 0) &&
                node.params.length === 1 && node.params[0].type === Syntax.Identifier) {
            // arg => { } case
            result = [generateAsyncPrefix(node, true), generateIdentifier(node.params[0])];
        } else {
            result = node.type === Syntax.ArrowFunctionExpression ? [generateAsyncPrefix(node, false)] : [];
            result.push('(');
            if (node.defaults) {
                hasDefault = true;
            }
            for (i = 0, iz = node.params.length; i < iz; ++i) {
                if (hasDefault && node.defaults[i]) {
                    // Handle default values.
                    result.push(this.generateAssignment(node.params[i], node.defaults[i], '=', Precedence.Assignment, E_TTT));
                } else {
                    result.push(this.generatePattern(node.params[i], Precedence.Assignment, E_TTT));
                }
                if (i + 1 < iz) {
                    result.push(',' + space);
                }
            }

            if (node.rest) {
                if (node.params.length) {
                    result.push(',' + space);
                }
                result.push('...');
                result.push(generateIdentifier(node.rest));
            }

            result.push(')');
        }

        return result;
    };

    CodeGenerator.prototype.generateFunctionBody = function (node) {
        var result, expr;

        result = this.generateFunctionParams(node);

        if (node.type === Syntax.ArrowFunctionExpression) {
            result.push(space);
            result.push('=>');
        }

        if (node.expression) {
            result.push(space);
            expr = this.generateExpression(node.body, Precedence.Assignment, E_TTT);
            if (expr.toString().charAt(0) === '{') {
                expr = ['(', expr, ')'];
            }
            result.push(expr);
        } else {
            result.push(this.maybeBlock(node.body, S_TTFF));
        }

        return result;
    };

    CodeGenerator.prototype.generateIterationForStatement = function (operator, stmt, flags) {
        var result = ['for' + (stmt.await ? noEmptySpace() + 'await' : '') + space + '('], that = this;
        withIndent(function () {
            if (stmt.left.type === Syntax.VariableDeclaration) {
                withIndent(function () {
                    result.push(stmt.left.kind + noEmptySpace());
                    result.push(that.generateStatement(stmt.left.declarations[0], S_FFFF));
                });
            } else {
                result.push(that.generateExpression(stmt.left, Precedence.Call, E_TTT));
            }

            result = join(result, operator);
            result = [join(
                result,
                that.generateExpression(stmt.right, Precedence.Assignment, E_TTT)
            ), ')'];
        });
        result.push(this.maybeBlock(stmt.body, flags));
        return result;
    };

    CodeGenerator.prototype.generatePropertyKey = function (expr, computed) {
        var result = [];

        if (computed) {
            result.push('[');
        }

        result.push(this.generateExpression(expr, Precedence.Sequence, E_TTT));

        if (computed) {
            result.push(']');
        }

        return result;
    };

    CodeGenerator.prototype.generateAssignment = function (left, right, operator, precedence, flags) {
        if (Precedence.Assignment < precedence) {
            flags |= F_ALLOW_IN;
        }

        return parenthesize(
            [
                this.generateExpression(left, Precedence.Call, flags),
                space + operator + space,
                this.generateExpression(right, Precedence.Assignment, flags)
            ],
            Precedence.Assignment,
            precedence
        );
    };

    CodeGenerator.prototype.semicolon = function (flags) {
        if (!semicolons && flags & F_SEMICOLON_OPT) {
            return '';
        }
        return ';';
    };

    // Statements.

    CodeGenerator.Statement = {

        BlockStatement: function (stmt, flags) {
            var range, content, result = ['{', newline], that = this;

            withIndent(function () {
                // handle functions without any code
                if (stmt.body.length === 0 && preserveBlankLines) {
                    range = stmt.range;
                    if (range[1] - range[0] > 2) {
                        content = sourceCode.substring(range[0] + 1, range[1] - 1);
                        if (content[0] === '\n') {
                            result = ['{'];
                        }
                        result.push(content);
                    }
                }

                var i, iz, fragment, bodyFlags;
                bodyFlags = S_TFFF;
                if (flags & F_FUNC_BODY) {
                    bodyFlags |= F_DIRECTIVE_CTX;
                }

                for (i = 0, iz = stmt.body.length; i < iz; ++i) {
                    if (preserveBlankLines) {
                        // handle spaces before the first line
                        if (i === 0) {
                            if (stmt.body[0].leadingComments) {
                                range = stmt.body[0].leadingComments[0].extendedRange;
                                content = sourceCode.substring(range[0], range[1]);
                                if (content[0] === '\n') {
                                    result = ['{'];
                                }
                            }
                            if (!stmt.body[0].leadingComments) {
                                generateBlankLines(stmt.range[0], stmt.body[0].range[0], result);
                            }
                        }

                        // handle spaces between lines
                        if (i > 0) {
                            if (!stmt.body[i - 1].trailingComments  && !stmt.body[i].leadingComments) {
                                generateBlankLines(stmt.body[i - 1].range[1], stmt.body[i].range[0], result);
                            }
                        }
                    }

                    if (i === iz - 1) {
                        bodyFlags |= F_SEMICOLON_OPT;
                    }

                    if (stmt.body[i].leadingComments && preserveBlankLines) {
                        fragment = that.generateStatement(stmt.body[i], bodyFlags);
                    } else {
                        fragment = addIndent(that.generateStatement(stmt.body[i], bodyFlags));
                    }

                    result.push(fragment);
                    if (!endsWithLineTerminator(toSourceNodeWhenNeeded(fragment).toString())) {
                        if (preserveBlankLines && i < iz - 1) {
                            // don't add a new line if there are leading coments
                            // in the next statement
                            if (!stmt.body[i + 1].leadingComments) {
                                result.push(newline);
                            }
                        } else {
                            result.push(newline);
                        }
                    }

                    if (preserveBlankLines) {
                        // handle spaces after the last line
                        if (i === iz - 1) {
                            if (!stmt.body[i].trailingComments) {
                                generateBlankLines(stmt.body[i].range[1], stmt.range[1], result);
                            }
                        }
                    }
                }
            });

            result.push(addIndent('}'));
            return result;
        },

        BreakStatement: function (stmt, flags) {
            if (stmt.label) {
                return 'break ' + stmt.label.name + this.semicolon(flags);
            }
            return 'break' + this.semicolon(flags);
        },

        ContinueStatement: function (stmt, flags) {
            if (stmt.label) {
                return 'continue ' + stmt.label.name + this.semicolon(flags);
            }
            return 'continue' + this.semicolon(flags);
        },

        ClassBody: function (stmt, flags) {
            var result = [ '{', newline], that = this;

            withIndent(function (indent) {
                var i, iz;

                for (i = 0, iz = stmt.body.length; i < iz; ++i) {
                    result.push(indent);
                    result.push(that.generateExpression(stmt.body[i], Precedence.Sequence, E_TTT));
                    if (i + 1 < iz) {
                        result.push(newline);
                    }
                }
            });

            if (!endsWithLineTerminator(toSourceNodeWhenNeeded(result).toString())) {
                result.push(newline);
            }
            result.push(base);
            result.push('}');
            return result;
        },

        ClassDeclaration: function (stmt, flags) {
            var result, fragment;
            result  = ['class'];
            if (stmt.id) {
                result = join(result, this.generateExpression(stmt.id, Precedence.Sequence, E_TTT));
            }
            if (stmt.superClass) {
                fragment = join('extends', this.generateExpression(stmt.superClass, Precedence.Unary, E_TTT));
                result = join(result, fragment);
            }
            result.push(space);
            result.push(this.generateStatement(stmt.body, S_TFFT));
            return result;
        },

        DirectiveStatement: function (stmt, flags) {
            if (extra.raw && stmt.raw) {
                return stmt.raw + this.semicolon(flags);
            }
            return escapeDirective(stmt.directive) + this.semicolon(flags);
        },

        DoWhileStatement: function (stmt, flags) {
            // Because `do 42 while (cond)` is Syntax Error. We need semicolon.
            var result = join('do', this.maybeBlock(stmt.body, S_TFFF));
            result = this.maybeBlockSuffix(stmt.body, result);
            return join(result, [
                'while' + space + '(',
                this.generateExpression(stmt.test, Precedence.Sequence, E_TTT),
                ')' + this.semicolon(flags)
            ]);
        },

        CatchClause: function (stmt, flags) {
            var result, that = this;
            withIndent(function () {
                var guard;

                if (stmt.param) {
                    result = [
                        'catch' + space + '(',
                        that.generateExpression(stmt.param, Precedence.Sequence, E_TTT),
                        ')'
                    ];

                    if (stmt.guard) {
                        guard = that.generateExpression(stmt.guard, Precedence.Sequence, E_TTT);
                        result.splice(2, 0, ' if ', guard);
                    }
                } else {
                    result = ['catch'];
                }
            });
            result.push(this.maybeBlock(stmt.body, S_TFFF));
            return result;
        },

        DebuggerStatement: function (stmt, flags) {
            return 'debugger' + this.semicolon(flags);
        },

        EmptyStatement: function (stmt, flags) {
            return ';';
        },

        ExportDefaultDeclaration: function (stmt, flags) {
            var result = [ 'export' ], bodyFlags;

            bodyFlags = (flags & F_SEMICOLON_OPT) ? S_TFFT : S_TFFF;

            // export default HoistableDeclaration[Default]
            // export default AssignmentExpression[In] ;
            result = join(result, 'default');
            if (isStatement(stmt.declaration)) {
                result = join(result, this.generateStatement(stmt.declaration, bodyFlags));
            } else {
                result = join(result, this.generateExpression(stmt.declaration, Precedence.Assignment, E_TTT) + this.semicolon(flags));
            }
            return result;
        },

        ExportNamedDeclaration: function (stmt, flags) {
            var result = [ 'export' ], bodyFlags, that = this;

            bodyFlags = (flags & F_SEMICOLON_OPT) ? S_TFFT : S_TFFF;

            // export VariableStatement
            // export Declaration[Default]
            if (stmt.declaration) {
                return join(result, this.generateStatement(stmt.declaration, bodyFlags));
            }

            // export ExportClause[NoReference] FromClause ;
            // export ExportClause ;
            if (stmt.specifiers) {
                if (stmt.specifiers.length === 0) {
                    result = join(result, '{' + space + '}');
                } else if (stmt.specifiers[0].type === Syntax.ExportBatchSpecifier) {
                    result = join(result, this.generateExpression(stmt.specifiers[0], Precedence.Sequence, E_TTT));
                } else {
                    result = join(result, '{');
                    withIndent(function (indent) {
                        var i, iz;
                        result.push(newline);
                        for (i = 0, iz = stmt.specifiers.length; i < iz; ++i) {
                            result.push(indent);
                            result.push(that.generateExpression(stmt.specifiers[i], Precedence.Sequence, E_TTT));
                            if (i + 1 < iz) {
                                result.push(',' + newline);
                            }
                        }
                    });
                    if (!endsWithLineTerminator(toSourceNodeWhenNeeded(result).toString())) {
                        result.push(newline);
                    }
                    result.push(base + '}');
                }

                if (stmt.source) {
                    result = join(result, [
                        'from' + space,
                        // ModuleSpecifier
                        this.generateExpression(stmt.source, Precedence.Sequence, E_TTT),
                        this.semicolon(flags)
                    ]);
                } else {
                    result.push(this.semicolon(flags));
                }
            }
            return result;
        },

        ExportAllDeclaration: function (stmt, flags) {
            // export * FromClause ;
            return [
                'export' + space,
                '*' + space,
                'from' + space,
                // ModuleSpecifier
                this.generateExpression(stmt.source, Precedence.Sequence, E_TTT),
                this.semicolon(flags)
            ];
        },

        ExpressionStatement: function (stmt, flags) {
            var result, fragment;

            function isClassPrefixed(fragment) {
                var code;
                if (fragment.slice(0, 5) !== 'class') {
                    return false;
                }
                code = fragment.charCodeAt(5);
                return code === 0x7B  /* '{' */ || esutils.code.isWhiteSpace(code) || esutils.code.isLineTerminator(code);
            }

            function isFunctionPrefixed(fragment) {
                var code;
                if (fragment.slice(0, 8) !== 'function') {
                    return false;
                }
                code = fragment.charCodeAt(8);
                return code === 0x28 /* '(' */ || esutils.code.isWhiteSpace(code) || code === 0x2A  /* '*' */ || esutils.code.isLineTerminator(code);
            }

            function isAsyncPrefixed(fragment) {
                var code, i, iz;
                if (fragment.slice(0, 5) !== 'async') {
                    return false;
                }
                if (!esutils.code.isWhiteSpace(fragment.charCodeAt(5))) {
                    return false;
                }
                for (i = 6, iz = fragment.length; i < iz; ++i) {
                    if (!esutils.code.isWhiteSpace(fragment.charCodeAt(i))) {
                        break;
                    }
                }
                if (i === iz) {
                    return false;
                }
                if (fragment.slice(i, i + 8) !== 'function') {
                    return false;
                }
                code = fragment.charCodeAt(i + 8);
                return code === 0x28 /* '(' */ || esutils.code.isWhiteSpace(code) || code === 0x2A  /* '*' */ || esutils.code.isLineTerminator(code);
            }

            result = [this.generateExpression(stmt.expression, Precedence.Sequence, E_TTT)];
            // 12.4 '{', 'function', 'class' is not allowed in this position.
            // wrap expression with parentheses
            fragment = toSourceNodeWhenNeeded(result).toString();
            if (fragment.charCodeAt(0) === 0x7B  /* '{' */ ||  // ObjectExpression
                    isClassPrefixed(fragment) ||
                    isFunctionPrefixed(fragment) ||
                    isAsyncPrefixed(fragment) ||
                    (directive && (flags & F_DIRECTIVE_CTX) && stmt.expression.type === Syntax.Literal && typeof stmt.expression.value === 'string')) {
                result = ['(', result, ')' + this.semicolon(flags)];
            } else {
                result.push(this.semicolon(flags));
            }
            return result;
        },

        ImportDeclaration: function (stmt, flags) {
            // ES6: 15.2.1 valid import declarations:
            //     - import ImportClause FromClause ;
            //     - import ModuleSpecifier ;
            var result, cursor, that = this;

            // If no ImportClause is present,
            // this should be `import ModuleSpecifier` so skip `from`
            // ModuleSpecifier is StringLiteral.
            if (stmt.specifiers.length === 0) {
                // import ModuleSpecifier ;
                return [
                    'import',
                    space,
                    // ModuleSpecifier
                    this.generateExpression(stmt.source, Precedence.Sequence, E_TTT),
                    this.semicolon(flags)
                ];
            }

            // import ImportClause FromClause ;
            result = [
                'import'
            ];
            cursor = 0;

            // ImportedBinding
            if (stmt.specifiers[cursor].type === Syntax.ImportDefaultSpecifier) {
                result = join(result, [
                        this.generateExpression(stmt.specifiers[cursor], Precedence.Sequence, E_TTT)
                ]);
                ++cursor;
            }

            if (stmt.specifiers[cursor]) {
                if (cursor !== 0) {
                    result.push(',');
                }

                if (stmt.specifiers[cursor].type === Syntax.ImportNamespaceSpecifier) {
                    // NameSpaceImport
                    result = join(result, [
                            space,
                            this.generateExpression(stmt.specifiers[cursor], Precedence.Sequence, E_TTT)
                    ]);
                } else {
                    // NamedImports
                    result.push(space + '{');

                    if ((stmt.specifiers.length - cursor) === 1) {
                        // import { ... } from "...";
                        result.push(space);
                        result.push(this.generateExpression(stmt.specifiers[cursor], Precedence.Sequence, E_TTT));
                        result.push(space + '}' + space);
                    } else {
                        // import {
                        //    ...,
                        //    ...,
                        // } from "...";
                        withIndent(function (indent) {
                            var i, iz;
                            result.push(newline);
                            for (i = cursor, iz = stmt.specifiers.length; i < iz; ++i) {
                                result.push(indent);
                                result.push(that.generateExpression(stmt.specifiers[i], Precedence.Sequence, E_TTT));
                                if (i + 1 < iz) {
                                    result.push(',' + newline);
                                }
                            }
                        });
                        if (!endsWithLineTerminator(toSourceNodeWhenNeeded(result).toString())) {
                            result.push(newline);
                        }
                        result.push(base + '}' + space);
                    }
                }
            }

            result = join(result, [
                'from' + space,
                // ModuleSpecifier
                this.generateExpression(stmt.source, Precedence.Sequence, E_TTT),
                this.semicolon(flags)
            ]);
            return result;
        },

        VariableDeclarator: function (stmt, flags) {
            var itemFlags = (flags & F_ALLOW_IN) ? E_TTT : E_FTT;
            if (stmt.init) {
                return [
                    this.generateExpression(stmt.id, Precedence.Assignment, itemFlags),
                    space,
                    '=',
                    space,
                    this.generateExpression(stmt.init, Precedence.Assignment, itemFlags)
                ];
            }
            return this.generatePattern(stmt.id, Precedence.Assignment, itemFlags);
        },

        VariableDeclaration: function (stmt, flags) {
            // VariableDeclarator is typed as Statement,
            // but joined with comma (not LineTerminator).
            // So if comment is attached to target node, we should specialize.
            var result, i, iz, node, bodyFlags, that = this;

            result = [ stmt.kind ];

            bodyFlags = (flags & F_ALLOW_IN) ? S_TFFF : S_FFFF;

            function block() {
                node = stmt.declarations[0];
                if (extra.comment && node.leadingComments) {
                    result.push('\n');
                    result.push(addIndent(that.generateStatement(node, bodyFlags)));
                } else {
                    result.push(noEmptySpace());
                    result.push(that.generateStatement(node, bodyFlags));
                }

                for (i = 1, iz = stmt.declarations.length; i < iz; ++i) {
                    node = stmt.declarations[i];
                    if (extra.comment && node.leadingComments) {
                        result.push(',' + newline);
                        result.push(addIndent(that.generateStatement(node, bodyFlags)));
                    } else {
                        result.push(',' + space);
                        result.push(that.generateStatement(node, bodyFlags));
                    }
                }
            }

            if (stmt.declarations.length > 1) {
                withIndent(block);
            } else {
                block();
            }

            result.push(this.semicolon(flags));

            return result;
        },

        ThrowStatement: function (stmt, flags) {
            return [join(
                'throw',
                this.generateExpression(stmt.argument, Precedence.Sequence, E_TTT)
            ), this.semicolon(flags)];
        },

        TryStatement: function (stmt, flags) {
            var result, i, iz, guardedHandlers;

            result = ['try', this.maybeBlock(stmt.block, S_TFFF)];
            result = this.maybeBlockSuffix(stmt.block, result);

            if (stmt.handlers) {
                // old interface
                for (i = 0, iz = stmt.handlers.length; i < iz; ++i) {
                    result = join(result, this.generateStatement(stmt.handlers[i], S_TFFF));
                    if (stmt.finalizer || i + 1 !== iz) {
                        result = this.maybeBlockSuffix(stmt.handlers[i].body, result);
                    }
                }
            } else {
                guardedHandlers = stmt.guardedHandlers || [];

                for (i = 0, iz = guardedHandlers.length; i < iz; ++i) {
                    result = join(result, this.generateStatement(guardedHandlers[i], S_TFFF));
                    if (stmt.finalizer || i + 1 !== iz) {
                        result = this.maybeBlockSuffix(guardedHandlers[i].body, result);
                    }
                }

                // new interface
                if (stmt.handler) {
                    if (Array.isArray(stmt.handler)) {
                        for (i = 0, iz = stmt.handler.length; i < iz; ++i) {
                            result = join(result, this.generateStatement(stmt.handler[i], S_TFFF));
                            if (stmt.finalizer || i + 1 !== iz) {
                                result = this.maybeBlockSuffix(stmt.handler[i].body, result);
                            }
                        }
                    } else {
                        result = join(result, this.generateStatement(stmt.handler, S_TFFF));
                        if (stmt.finalizer) {
                            result = this.maybeBlockSuffix(stmt.handler.body, result);
                        }
                    }
                }
            }
            if (stmt.finalizer) {
                result = join(result, ['finally', this.maybeBlock(stmt.finalizer, S_TFFF)]);
            }
            return result;
        },

        SwitchStatement: function (stmt, flags) {
            var result, fragment, i, iz, bodyFlags, that = this;
            withIndent(function () {
                result = [
                    'switch' + space + '(',
                    that.generateExpression(stmt.discriminant, Precedence.Sequence, E_TTT),
                    ')' + space + '{' + newline
                ];
            });
            if (stmt.cases) {
                bodyFlags = S_TFFF;
                for (i = 0, iz = stmt.cases.length; i < iz; ++i) {
                    if (i === iz - 1) {
                        bodyFlags |= F_SEMICOLON_OPT;
                    }
                    fragment = addIndent(this.generateStatement(stmt.cases[i], bodyFlags));
                    result.push(fragment);
                    if (!endsWithLineTerminator(toSourceNodeWhenNeeded(fragment).toString())) {
                        result.push(newline);
                    }
                }
            }
            result.push(addIndent('}'));
            return result;
        },

        SwitchCase: function (stmt, flags) {
            var result, fragment, i, iz, bodyFlags, that = this;
            withIndent(function () {
                if (stmt.test) {
                    result = [
                        join('case', that.generateExpression(stmt.test, Precedence.Sequence, E_TTT)),
                        ':'
                    ];
                } else {
                    result = ['default:'];
                }

                i = 0;
                iz = stmt.consequent.length;
                if (iz && stmt.consequent[0].type === Syntax.BlockStatement) {
                    fragment = that.maybeBlock(stmt.consequent[0], S_TFFF);
                    result.push(fragment);
                    i = 1;
                }

                if (i !== iz && !endsWithLineTerminator(toSourceNodeWhenNeeded(result).toString())) {
                    result.push(newline);
                }

                bodyFlags = S_TFFF;
                for (; i < iz; ++i) {
                    if (i === iz - 1 && flags & F_SEMICOLON_OPT) {
                        bodyFlags |= F_SEMICOLON_OPT;
                    }
                    fragment = addIndent(that.generateStatement(stmt.consequent[i], bodyFlags));
                    result.push(fragment);
                    if (i + 1 !== iz && !endsWithLineTerminator(toSourceNodeWhenNeeded(fragment).toString())) {
                        result.push(newline);
                    }
                }
            });
            return result;
        },

        IfStatement: function (stmt, flags) {
            var result, bodyFlags, semicolonOptional, that = this;
            withIndent(function () {
                result = [
                    'if' + space + '(',
                    that.generateExpression(stmt.test, Precedence.Sequence, E_TTT),
                    ')'
                ];
            });
            semicolonOptional = flags & F_SEMICOLON_OPT;
            bodyFlags = S_TFFF;
            if (semicolonOptional) {
                bodyFlags |= F_SEMICOLON_OPT;
            }
            if (stmt.alternate) {
                result.push(this.maybeBlock(stmt.consequent, S_TFFF));
                result = this.maybeBlockSuffix(stmt.consequent, result);
                if (stmt.alternate.type === Syntax.IfStatement) {
                    result = join(result, ['else ', this.generateStatement(stmt.alternate, bodyFlags)]);
                } else {
                    result = join(result, join('else', this.maybeBlock(stmt.alternate, bodyFlags)));
                }
            } else {
                result.push(this.maybeBlock(stmt.consequent, bodyFlags));
            }
            return result;
        },

        ForStatement: function (stmt, flags) {
            var result, that = this;
            withIndent(function () {
                result = ['for' + space + '('];
                if (stmt.init) {
                    if (stmt.init.type === Syntax.VariableDeclaration) {
                        result.push(that.generateStatement(stmt.init, S_FFFF));
                    } else {
                        // F_ALLOW_IN becomes false.
                        result.push(that.generateExpression(stmt.init, Precedence.Sequence, E_FTT));
                        result.push(';');
                    }
                } else {
                    result.push(';');
                }

                if (stmt.test) {
                    result.push(space);
                    result.push(that.generateExpression(stmt.test, Precedence.Sequence, E_TTT));
                    result.push(';');
                } else {
                    result.push(';');
                }

                if (stmt.update) {
                    result.push(space);
                    result.push(that.generateExpression(stmt.update, Precedence.Sequence, E_TTT));
                    result.push(')');
                } else {
                    result.push(')');
                }
            });

            result.push(this.maybeBlock(stmt.body, flags & F_SEMICOLON_OPT ? S_TFFT : S_TFFF));
            return result;
        },

        ForInStatement: function (stmt, flags) {
            return this.generateIterationForStatement('in', stmt, flags & F_SEMICOLON_OPT ? S_TFFT : S_TFFF);
        },

        ForOfStatement: function (stmt, flags) {
            return this.generateIterationForStatement('of', stmt, flags & F_SEMICOLON_OPT ? S_TFFT : S_TFFF);
        },

        LabeledStatement: function (stmt, flags) {
            return [stmt.label.name + ':', this.maybeBlock(stmt.body, flags & F_SEMICOLON_OPT ? S_TFFT : S_TFFF)];
        },

        Program: function (stmt, flags) {
            var result, fragment, i, iz, bodyFlags;
            iz = stmt.body.length;
            result = [safeConcatenation && iz > 0 ? '\n' : ''];
            bodyFlags = S_TFTF;
            for (i = 0; i < iz; ++i) {
                if (!safeConcatenation && i === iz - 1) {
                    bodyFlags |= F_SEMICOLON_OPT;
                }

                if (preserveBlankLines) {
                    // handle spaces before the first line
                    if (i === 0) {
                        if (!stmt.body[0].leadingComments) {
                            generateBlankLines(stmt.range[0], stmt.body[i].range[0], result);
                        }
                    }

                    // handle spaces between lines
                    if (i > 0) {
                        if (!stmt.body[i - 1].trailingComments && !stmt.body[i].leadingComments) {
                            generateBlankLines(stmt.body[i - 1].range[1], stmt.body[i].range[0], result);
                        }
                    }
                }

                fragment = addIndent(this.generateStatement(stmt.body[i], bodyFlags));
                result.push(fragment);
                if (i + 1 < iz && !endsWithLineTerminator(toSourceNodeWhenNeeded(fragment).toString())) {
                    if (preserveBlankLines) {
                        if (!stmt.body[i + 1].leadingComments) {
                            result.push(newline);
                        }
                    } else {
                        result.push(newline);
                    }
                }

                if (preserveBlankLines) {
                    // handle spaces after the last line
                    if (i === iz - 1) {
                        if (!stmt.body[i].trailingComments) {
                            generateBlankLines(stmt.body[i].range[1], stmt.range[1], result);
                        }
                    }
                }
            }
            return result;
        },

        FunctionDeclaration: function (stmt, flags) {
            return [
                generateAsyncPrefix(stmt, true),
                'function',
                generateStarSuffix(stmt) || noEmptySpace(),
                stmt.id ? generateIdentifier(stmt.id) : '',
                this.generateFunctionBody(stmt)
            ];
        },

        ReturnStatement: function (stmt, flags) {
            if (stmt.argument) {
                return [join(
                    'return',
                    this.generateExpression(stmt.argument, Precedence.Sequence, E_TTT)
                ), this.semicolon(flags)];
            }
            return ['return' + this.semicolon(flags)];
        },

        WhileStatement: function (stmt, flags) {
            var result, that = this;
            withIndent(function () {
                result = [
                    'while' + space + '(',
                    that.generateExpression(stmt.test, Precedence.Sequence, E_TTT),
                    ')'
                ];
            });
            result.push(this.maybeBlock(stmt.body, flags & F_SEMICOLON_OPT ? S_TFFT : S_TFFF));
            return result;
        },

        WithStatement: function (stmt, flags) {
            var result, that = this;
            withIndent(function () {
                result = [
                    'with' + space + '(',
                    that.generateExpression(stmt.object, Precedence.Sequence, E_TTT),
                    ')'
                ];
            });
            result.push(this.maybeBlock(stmt.body, flags & F_SEMICOLON_OPT ? S_TFFT : S_TFFF));
            return result;
        }

    };

    merge(CodeGenerator.prototype, CodeGenerator.Statement);

    // Expressions.

    CodeGenerator.Expression = {

        SequenceExpression: function (expr, precedence, flags) {
            var result, i, iz;
            if (Precedence.Sequence < precedence) {
                flags |= F_ALLOW_IN;
            }
            result = [];
            for (i = 0, iz = expr.expressions.length; i < iz; ++i) {
                result.push(this.generateExpression(expr.expressions[i], Precedence.Assignment, flags));
                if (i + 1 < iz) {
                    result.push(',' + space);
                }
            }
            return parenthesize(result, Precedence.Sequence, precedence);
        },

        AssignmentExpression: function (expr, precedence, flags) {
            return this.generateAssignment(expr.left, expr.right, expr.operator, precedence, flags);
        },

        ArrowFunctionExpression: function (expr, precedence, flags) {
            return parenthesize(this.generateFunctionBody(expr), Precedence.ArrowFunction, precedence);
        },

        ConditionalExpression: function (expr, precedence, flags) {
            if (Precedence.Conditional < precedence) {
                flags |= F_ALLOW_IN;
            }
            return parenthesize(
                [
                    this.generateExpression(expr.test, Precedence.LogicalOR, flags),
                    space + '?' + space,
                    this.generateExpression(expr.consequent, Precedence.Assignment, flags),
                    space + ':' + space,
                    this.generateExpression(expr.alternate, Precedence.Assignment, flags)
                ],
                Precedence.Conditional,
                precedence
            );
        },

        LogicalExpression: function (expr, precedence, flags) {
            return this.BinaryExpression(expr, precedence, flags);
        },

        BinaryExpression: function (expr, precedence, flags) {
            var result, leftPrecedence, rightPrecedence, currentPrecedence, fragment, leftSource;
            currentPrecedence = BinaryPrecedence[expr.operator];
            leftPrecedence = expr.operator === '**' ? Precedence.Postfix : currentPrecedence;
            rightPrecedence = expr.operator === '**' ? currentPrecedence : currentPrecedence + 1;

            if (currentPrecedence < precedence) {
                flags |= F_ALLOW_IN;
            }

            fragment = this.generateExpression(expr.left, leftPrecedence, flags);

            leftSource = fragment.toString();

            if (leftSource.charCodeAt(leftSource.length - 1) === 0x2F /* / */ && esutils.code.isIdentifierPartES5(expr.operator.charCodeAt(0))) {
                result = [fragment, noEmptySpace(), expr.operator];
            } else {
                result = join(fragment, expr.operator);
            }

            fragment = this.generateExpression(expr.right, rightPrecedence, flags);

            if (expr.operator === '/' && fragment.toString().charAt(0) === '/' ||
            expr.operator.slice(-1) === '<' && fragment.toString().slice(0, 3) === '!--') {
                // If '/' concats with '/' or `<` concats with `!--`, it is interpreted as comment start
                result.push(noEmptySpace());
                result.push(fragment);
            } else {
                result = join(result, fragment);
            }

            if (expr.operator === 'in' && !(flags & F_ALLOW_IN)) {
                return ['(', result, ')'];
            }
            return parenthesize(result, currentPrecedence, precedence);
        },

        CallExpression: function (expr, precedence, flags) {
            var result, i, iz;
            // F_ALLOW_UNPARATH_NEW becomes false.
            result = [this.generateExpression(expr.callee, Precedence.Call, E_TTF)];
            result.push('(');
            for (i = 0, iz = expr['arguments'].length; i < iz; ++i) {
                result.push(this.generateExpression(expr['arguments'][i], Precedence.Assignment, E_TTT));
                if (i + 1 < iz) {
                    result.push(',' + space);
                }
            }
            result.push(')');

            if (!(flags & F_ALLOW_CALL)) {
                return ['(', result, ')'];
            }
            return parenthesize(result, Precedence.Call, precedence);
        },

        NewExpression: function (expr, precedence, flags) {
            var result, length, i, iz, itemFlags;
            length = expr['arguments'].length;

            // F_ALLOW_CALL becomes false.
            // F_ALLOW_UNPARATH_NEW may become false.
            itemFlags = (flags & F_ALLOW_UNPARATH_NEW && !parentheses && length === 0) ? E_TFT : E_TFF;

            result = join(
                'new',
                this.generateExpression(expr.callee, Precedence.New, itemFlags)
            );

            if (!(flags & F_ALLOW_UNPARATH_NEW) || parentheses || length > 0) {
                result.push('(');
                for (i = 0, iz = length; i < iz; ++i) {
                    result.push(this.generateExpression(expr['arguments'][i], Precedence.Assignment, E_TTT));
                    if (i + 1 < iz) {
                        result.push(',' + space);
                    }
                }
                result.push(')');
            }

            return parenthesize(result, Precedence.New, precedence);
        },

        MemberExpression: function (expr, precedence, flags) {
            var result, fragment;

            // F_ALLOW_UNPARATH_NEW becomes false.
            result = [this.generateExpression(expr.object, Precedence.Call, (flags & F_ALLOW_CALL) ? E_TTF : E_TFF)];

            if (expr.computed) {
                result.push('[');
                result.push(this.generateExpression(expr.property, Precedence.Sequence, flags & F_ALLOW_CALL ? E_TTT : E_TFT));
                result.push(']');
            } else {
                if (expr.object.type === Syntax.Literal && typeof expr.object.value === 'number') {
                    fragment = toSourceNodeWhenNeeded(result).toString();
                    // When the following conditions are all true,
                    //   1. No floating point
                    //   2. Don't have exponents
                    //   3. The last character is a decimal digit
                    //   4. Not hexadecimal OR octal number literal
                    // we should add a floating point.
                    if (
                            fragment.indexOf('.') < 0 &&
                            !/[eExX]/.test(fragment) &&
                            esutils.code.isDecimalDigit(fragment.charCodeAt(fragment.length - 1)) &&
                            !(fragment.length >= 2 && fragment.charCodeAt(0) === 48)  // '0'
                            ) {
                        result.push(' ');
                    }
                }
                result.push('.');
                result.push(generateIdentifier(expr.property));
            }

            return parenthesize(result, Precedence.Member, precedence);
        },

        MetaProperty: function (expr, precedence, flags) {
            var result;
            result = [];
            result.push(typeof expr.meta === "string" ? expr.meta : generateIdentifier(expr.meta));
            result.push('.');
            result.push(typeof expr.property === "string" ? expr.property : generateIdentifier(expr.property));
            return parenthesize(result, Precedence.Member, precedence);
        },

        UnaryExpression: function (expr, precedence, flags) {
            var result, fragment, rightCharCode, leftSource, leftCharCode;
            fragment = this.generateExpression(expr.argument, Precedence.Unary, E_TTT);

            if (space === '') {
                result = join(expr.operator, fragment);
            } else {
                result = [expr.operator];
                if (expr.operator.length > 2) {
                    // delete, void, typeof
                    // get `typeof []`, not `typeof[]`
                    result = join(result, fragment);
                } else {
                    // Prevent inserting spaces between operator and argument if it is unnecessary
                    // like, `!cond`
                    leftSource = toSourceNodeWhenNeeded(result).toString();
                    leftCharCode = leftSource.charCodeAt(leftSource.length - 1);
                    rightCharCode = fragment.toString().charCodeAt(0);

                    if (((leftCharCode === 0x2B  /* + */ || leftCharCode === 0x2D  /* - */) && leftCharCode === rightCharCode) ||
                            (esutils.code.isIdentifierPartES5(leftCharCode) && esutils.code.isIdentifierPartES5(rightCharCode))) {
                        result.push(noEmptySpace());
                        result.push(fragment);
                    } else {
                        result.push(fragment);
                    }
                }
            }
            return parenthesize(result, Precedence.Unary, precedence);
        },

        YieldExpression: function (expr, precedence, flags) {
            var result;
            if (expr.delegate) {
                result = 'yield*';
            } else {
                result = 'yield';
            }
            if (expr.argument) {
                result = join(
                    result,
                    this.generateExpression(expr.argument, Precedence.Yield, E_TTT)
                );
            }
            return parenthesize(result, Precedence.Yield, precedence);
        },

        AwaitExpression: function (expr, precedence, flags) {
            var result = join(
                expr.all ? 'await*' : 'await',
                this.generateExpression(expr.argument, Precedence.Await, E_TTT)
            );
            return parenthesize(result, Precedence.Await, precedence);
        },

        UpdateExpression: function (expr, precedence, flags) {
            if (expr.prefix) {
                return parenthesize(
                    [
                        expr.operator,
                        this.generateExpression(expr.argument, Precedence.Unary, E_TTT)
                    ],
                    Precedence.Unary,
                    precedence
                );
            }
            return parenthesize(
                [
                    this.generateExpression(expr.argument, Precedence.Postfix, E_TTT),
                    expr.operator
                ],
                Precedence.Postfix,
                precedence
            );
        },

        FunctionExpression: function (expr, precedence, flags) {
            var result = [
                generateAsyncPrefix(expr, true),
                'function'
            ];
            if (expr.id) {
                result.push(generateStarSuffix(expr) || noEmptySpace());
                result.push(generateIdentifier(expr.id));
            } else {
                result.push(generateStarSuffix(expr) || space);
            }
            result.push(this.generateFunctionBody(expr));
            return result;
        },

        ArrayPattern: function (expr, precedence, flags) {
            return this.ArrayExpression(expr, precedence, flags, true);
        },

        ArrayExpression: function (expr, precedence, flags, isPattern) {
            var result, multiline, that = this;
            if (!expr.elements.length) {
                return '[]';
            }
            multiline = isPattern ? false : expr.elements.length > 1;
            result = ['[', multiline ? newline : ''];
            withIndent(function (indent) {
                var i, iz;
                for (i = 0, iz = expr.elements.length; i < iz; ++i) {
                    if (!expr.elements[i]) {
                        if (multiline) {
                            result.push(indent);
                        }
                        if (i + 1 === iz) {
                            result.push(',');
                        }
                    } else {
                        result.push(multiline ? indent : '');
                        result.push(that.generateExpression(expr.elements[i], Precedence.Assignment, E_TTT));
                    }
                    if (i + 1 < iz) {
                        result.push(',' + (multiline ? newline : space));
                    }
                }
            });
            if (multiline && !endsWithLineTerminator(toSourceNodeWhenNeeded(result).toString())) {
                result.push(newline);
            }
            result.push(multiline ? base : '');
            result.push(']');
            return result;
        },

        RestElement: function(expr, precedence, flags) {
            return '...' + this.generatePattern(expr.argument);
        },

        ClassExpression: function (expr, precedence, flags) {
            var result, fragment;
            result = ['class'];
            if (expr.id) {
                result = join(result, this.generateExpression(expr.id, Precedence.Sequence, E_TTT));
            }
            if (expr.superClass) {
                fragment = join('extends', this.generateExpression(expr.superClass, Precedence.Unary, E_TTT));
                result = join(result, fragment);
            }
            result.push(space);
            result.push(this.generateStatement(expr.body, S_TFFT));
            return result;
        },

        MethodDefinition: function (expr, precedence, flags) {
            var result, fragment;
            if (expr['static']) {
                result = ['static' + space];
            } else {
                result = [];
            }
            if (expr.kind === 'get' || expr.kind === 'set') {
                fragment = [
                    join(expr.kind, this.generatePropertyKey(expr.key, expr.computed)),
                    this.generateFunctionBody(expr.value)
                ];
            } else {
                fragment = [
                    generateMethodPrefix(expr),
                    this.generatePropertyKey(expr.key, expr.computed),
                    this.generateFunctionBody(expr.value)
                ];
            }
            return join(result, fragment);
        },

        Property: function (expr, precedence, flags) {
            if (expr.kind === 'get' || expr.kind === 'set') {
                return [
                    expr.kind, noEmptySpace(),
                    this.generatePropertyKey(expr.key, expr.computed),
                    this.generateFunctionBody(expr.value)
                ];
            }

            if (expr.shorthand) {
                if (expr.value.type === "AssignmentPattern") {
                    return this.AssignmentPattern(expr.value, Precedence.Sequence, E_TTT);
                }
                return this.generatePropertyKey(expr.key, expr.computed);
            }

            if (expr.method) {
                return [
                    generateMethodPrefix(expr),
                    this.generatePropertyKey(expr.key, expr.computed),
                    this.generateFunctionBody(expr.value)
                ];
            }

            return [
                this.generatePropertyKey(expr.key, expr.computed),
                ':' + space,
                this.generateExpression(expr.value, Precedence.Assignment, E_TTT)
            ];
        },

        ObjectExpression: function (expr, precedence, flags) {
            var multiline, result, fragment, that = this;

            if (!expr.properties.length) {
                return '{}';
            }
            multiline = expr.properties.length > 1;

            withIndent(function () {
                fragment = that.generateExpression(expr.properties[0], Precedence.Sequence, E_TTT);
            });

            if (!multiline) {
                // issues 4
                // Do not transform from
                //   dejavu.Class.declare({
                //       method2: function () {}
                //   });
                // to
                //   dejavu.Class.declare({method2: function () {
                //       }});
                if (!hasLineTerminator(toSourceNodeWhenNeeded(fragment).toString())) {
                    return [ '{', space, fragment, space, '}' ];
                }
            }

            withIndent(function (indent) {
                var i, iz;
                result = [ '{', newline, indent, fragment ];

                if (multiline) {
                    result.push(',' + newline);
                    for (i = 1, iz = expr.properties.length; i < iz; ++i) {
                        result.push(indent);
                        result.push(that.generateExpression(expr.properties[i], Precedence.Sequence, E_TTT));
                        if (i + 1 < iz) {
                            result.push(',' + newline);
                        }
                    }
                }
            });

            if (!endsWithLineTerminator(toSourceNodeWhenNeeded(result).toString())) {
                result.push(newline);
            }
            result.push(base);
            result.push('}');
            return result;
        },

        AssignmentPattern: function(expr, precedence, flags) {
            return this.generateAssignment(expr.left, expr.right, '=', precedence, flags);
        },

        ObjectPattern: function (expr, precedence, flags) {
            var result, i, iz, multiline, property, that = this;
            if (!expr.properties.length) {
                return '{}';
            }

            multiline = false;
            if (expr.properties.length === 1) {
                property = expr.properties[0];
                if (property.value.type !== Syntax.Identifier) {
                    multiline = true;
                }
            } else {
                for (i = 0, iz = expr.properties.length; i < iz; ++i) {
                    property = expr.properties[i];
                    if (!property.shorthand) {
                        multiline = true;
                        break;
                    }
                }
            }
            result = ['{', multiline ? newline : '' ];

            withIndent(function (indent) {
                var i, iz;
                for (i = 0, iz = expr.properties.length; i < iz; ++i) {
                    result.push(multiline ? indent : '');
                    result.push(that.generateExpression(expr.properties[i], Precedence.Sequence, E_TTT));
                    if (i + 1 < iz) {
                        result.push(',' + (multiline ? newline : space));
                    }
                }
            });

            if (multiline && !endsWithLineTerminator(toSourceNodeWhenNeeded(result).toString())) {
                result.push(newline);
            }
            result.push(multiline ? base : '');
            result.push('}');
            return result;
        },

        ThisExpression: function (expr, precedence, flags) {
            return 'this';
        },

        Super: function (expr, precedence, flags) {
            return 'super';
        },

        Identifier: function (expr, precedence, flags) {
            return generateIdentifier(expr);
        },

        ImportDefaultSpecifier: function (expr, precedence, flags) {
            return generateIdentifier(expr.id || expr.local);
        },

        ImportNamespaceSpecifier: function (expr, precedence, flags) {
            var result = ['*'];
            var id = expr.id || expr.local;
            if (id) {
                result.push(space + 'as' + noEmptySpace() + generateIdentifier(id));
            }
            return result;
        },

        ImportSpecifier: function (expr, precedence, flags) {
            var imported = expr.imported;
            var result = [ imported.name ];
            var local = expr.local;
            if (local && local.name !== imported.name) {
                result.push(noEmptySpace() + 'as' + noEmptySpace() + generateIdentifier(local));
            }
            return result;
        },

        ExportSpecifier: function (expr, precedence, flags) {
            var local = expr.local;
            var result = [ local.name ];
            var exported = expr.exported;
            if (exported && exported.name !== local.name) {
                result.push(noEmptySpace() + 'as' + noEmptySpace() + generateIdentifier(exported));
            }
            return result;
        },

        Literal: function (expr, precedence, flags) {
            var raw;
            if (expr.hasOwnProperty('raw') && parse && extra.raw) {
                try {
                    raw = parse(expr.raw).body[0].expression;
                    if (raw.type === Syntax.Literal) {
                        if (raw.value === expr.value) {
                            return expr.raw;
                        }
                    }
                } catch (e) {
                    // not use raw property
                }
            }

            if (expr.regex) {
              return '/' + expr.regex.pattern + '/' + expr.regex.flags;
            }

            if (expr.value === null) {
                return 'null';
            }

            if (typeof expr.value === 'string') {
                return escapeString(expr.value);
            }

            if (typeof expr.value === 'number') {
                return generateNumber(expr.value);
            }

            if (typeof expr.value === 'boolean') {
                return expr.value ? 'true' : 'false';
            }

            return generateRegExp(expr.value);
        },

        GeneratorExpression: function (expr, precedence, flags) {
            return this.ComprehensionExpression(expr, precedence, flags);
        },

        ComprehensionExpression: function (expr, precedence, flags) {
            // GeneratorExpression should be parenthesized with (...), ComprehensionExpression with [...]
            // Due to https://bugzilla.mozilla.org/show_bug.cgi?id=883468 position of expr.body can differ in Spidermonkey and ES6

            var result, i, iz, fragment, that = this;
            result = (expr.type === Syntax.GeneratorExpression) ? ['('] : ['['];

            if (extra.moz.comprehensionExpressionStartsWithAssignment) {
                fragment = this.generateExpression(expr.body, Precedence.Assignment, E_TTT);
                result.push(fragment);
            }

            if (expr.blocks) {
                withIndent(function () {
                    for (i = 0, iz = expr.blocks.length; i < iz; ++i) {
                        fragment = that.generateExpression(expr.blocks[i], Precedence.Sequence, E_TTT);
                        if (i > 0 || extra.moz.comprehensionExpressionStartsWithAssignment) {
                            result = join(result, fragment);
                        } else {
                            result.push(fragment);
                        }
                    }
                });
            }

            if (expr.filter) {
                result = join(result, 'if' + space);
                fragment = this.generateExpression(expr.filter, Precedence.Sequence, E_TTT);
                result = join(result, [ '(', fragment, ')' ]);
            }

            if (!extra.moz.comprehensionExpressionStartsWithAssignment) {
                fragment = this.generateExpression(expr.body, Precedence.Assignment, E_TTT);

                result = join(result, fragment);
            }

            result.push((expr.type === Syntax.GeneratorExpression) ? ')' : ']');
            return result;
        },

        ComprehensionBlock: function (expr, precedence, flags) {
            var fragment;
            if (expr.left.type === Syntax.VariableDeclaration) {
                fragment = [
                    expr.left.kind, noEmptySpace(),
                    this.generateStatement(expr.left.declarations[0], S_FFFF)
                ];
            } else {
                fragment = this.generateExpression(expr.left, Precedence.Call, E_TTT);
            }

            fragment = join(fragment, expr.of ? 'of' : 'in');
            fragment = join(fragment, this.generateExpression(expr.right, Precedence.Sequence, E_TTT));

            return [ 'for' + space + '(', fragment, ')' ];
        },

        SpreadElement: function (expr, precedence, flags) {
            return [
                '...',
                this.generateExpression(expr.argument, Precedence.Assignment, E_TTT)
            ];
        },

        TaggedTemplateExpression: function (expr, precedence, flags) {
            var itemFlags = E_TTF;
            if (!(flags & F_ALLOW_CALL)) {
                itemFlags = E_TFF;
            }
            var result = [
                this.generateExpression(expr.tag, Precedence.Call, itemFlags),
                this.generateExpression(expr.quasi, Precedence.Primary, E_FFT)
            ];
            return parenthesize(result, Precedence.TaggedTemplate, precedence);
        },

        TemplateElement: function (expr, precedence, flags) {
            // Don't use "cooked". Since tagged template can use raw template
            // representation. So if we do so, it breaks the script semantics.
            return expr.value.raw;
        },

        TemplateLiteral: function (expr, precedence, flags) {
            var result, i, iz;
            result = [ '`' ];
            for (i = 0, iz = expr.quasis.length; i < iz; ++i) {
                result.push(this.generateExpression(expr.quasis[i], Precedence.Primary, E_TTT));
                if (i + 1 < iz) {
                    result.push('${' + space);
                    result.push(this.generateExpression(expr.expressions[i], Precedence.Sequence, E_TTT));
                    result.push(space + '}');
                }
            }
            result.push('`');
            return result;
        },

        ModuleSpecifier: function (expr, precedence, flags) {
            return this.Literal(expr, precedence, flags);
        },

        ImportExpression: function(expr, precedence, flag) {
            return parenthesize([
                'import(',
                this.generateExpression(expr.source, Precedence.Assignment, E_TTT),
                ')'
            ], Precedence.Call, precedence);
        },

    };

    merge(CodeGenerator.prototype, CodeGenerator.Expression);

    CodeGenerator.prototype.generateExpression = function (expr, precedence, flags) {
        var result, type;

        type = expr.type || Syntax.Property;

        if (extra.verbatim && expr.hasOwnProperty(extra.verbatim)) {
            return generateVerbatim(expr, precedence);
        }

        result = this[type](expr, precedence, flags);


        if (extra.comment) {
            result = addComments(expr, result);
        }
        return toSourceNodeWhenNeeded(result, expr);
    };

    CodeGenerator.prototype.generateStatement = function (stmt, flags) {
        var result,
            fragment;

        result = this[stmt.type](stmt, flags);

        // Attach comments

        if (extra.comment) {
            result = addComments(stmt, result);
        }

        fragment = toSourceNodeWhenNeeded(result).toString();
        if (stmt.type === Syntax.Program && !safeConcatenation && newline === '' &&  fragment.charAt(fragment.length - 1) === '\n') {
            result = sourceMap ? toSourceNodeWhenNeeded(result).replaceRight(/\s+$/, '') : fragment.replace(/\s+$/, '');
        }

        return toSourceNodeWhenNeeded(result, stmt);
    };

    function generateInternal(node) {
        var codegen;

        codegen = new CodeGenerator();
        if (isStatement(node)) {
            return codegen.generateStatement(node, S_TFFF);
        }

        if (isExpression(node)) {
            return codegen.generateExpression(node, Precedence.Sequence, E_TTT);
        }

        throw new Error('Unknown node type: ' + node.type);
    }

    function generate(node, options) {
        var defaultOptions = getDefaultOptions(), result, pair;

        if (options != null) {
            // Obsolete options
            //
            //   `options.indent`
            //   `options.base`
            //
            // Instead of them, we can use `option.format.indent`.
            if (typeof options.indent === 'string') {
                defaultOptions.format.indent.style = options.indent;
            }
            if (typeof options.base === 'number') {
                defaultOptions.format.indent.base = options.base;
            }
            options = updateDeeply(defaultOptions, options);
            indent = options.format.indent.style;
            if (typeof options.base === 'string') {
                base = options.base;
            } else {
                base = stringRepeat(indent, options.format.indent.base);
            }
        } else {
            options = defaultOptions;
            indent = options.format.indent.style;
            base = stringRepeat(indent, options.format.indent.base);
        }
        json = options.format.json;
        renumber = options.format.renumber;
        hexadecimal = json ? false : options.format.hexadecimal;
        quotes = json ? 'double' : options.format.quotes;
        escapeless = options.format.escapeless;
        newline = options.format.newline;
        space = options.format.space;
        if (options.format.compact) {
            newline = space = indent = base = '';
        }
        parentheses = options.format.parentheses;
        semicolons = options.format.semicolons;
        safeConcatenation = options.format.safeConcatenation;
        directive = options.directive;
        parse = json ? null : options.parse;
        sourceMap = options.sourceMap;
        sourceCode = options.sourceCode;
        preserveBlankLines = options.format.preserveBlankLines && sourceCode !== null;
        extra = options;

        if (sourceMap) {
            if (!exports.browser) {
                // We assume environment is node.js
                // And prevent from including source-map by browserify
                SourceNode = require('source-map').SourceNode;
            } else {
                SourceNode = global.sourceMap.SourceNode;
            }
        }

        result = generateInternal(node);

        if (!sourceMap) {
            pair = {code: result.toString(), map: null};
            return options.sourceMapWithCode ? pair : pair.code;
        }


        pair = result.toStringWithSourceMap({
            file: options.file,
            sourceRoot: options.sourceMapRoot
        });

        if (options.sourceContent) {
            pair.map.setSourceContent(options.sourceMap,
                                      options.sourceContent);
        }

        if (options.sourceMapWithCode) {
            return pair;
        }

        return pair.map.toString();
    }

    FORMAT_MINIFY = {
        indent: {
            style: '',
            base: 0
        },
        renumber: true,
        hexadecimal: true,
        quotes: 'auto',
        escapeless: true,
        compact: true,
        parentheses: false,
        semicolons: false
    };

    FORMAT_DEFAULTS = getDefaultOptions().format;

    exports.version = require('./package.json').version;
    exports.generate = generate;
    exports.attachComments = estraverse.attachComments;
    exports.Precedence = updateDeeply({}, Precedence);
    exports.browser = false;
    exports.FORMAT_MINIFY = FORMAT_MINIFY;
    exports.FORMAT_DEFAULTS = FORMAT_DEFAULTS;
}());
/* vim: set sw=4 ts=4 et tw=80 : */

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./package.json":17,"estraverse":19,"esutils":24,"source-map":16}],6:[function(require,module,exports){
/* -*- Mode: js; js-indent-level: 2; -*- */
/*
 * Copyright 2011 Mozilla Foundation and contributors
 * Licensed under the New BSD license. See LICENSE or:
 * http://opensource.org/licenses/BSD-3-Clause
 */

var util = require('./util');
var has = Object.prototype.hasOwnProperty;
var hasNativeMap = typeof Map !== "undefined";

/**
 * A data structure which is a combination of an array and a set. Adding a new
 * member is O(1), testing for membership is O(1), and finding the index of an
 * element is O(1). Removing elements from the set is not supported. Only
 * strings are supported for membership.
 */
function ArraySet() {
  this._array = [];
  this._set = hasNativeMap ? new Map() : Object.create(null);
}

/**
 * Static method for creating ArraySet instances from an existing array.
 */
ArraySet.fromArray = function ArraySet_fromArray(aArray, aAllowDuplicates) {
  var set = new ArraySet();
  for (var i = 0, len = aArray.length; i < len; i++) {
    set.add(aArray[i], aAllowDuplicates);
  }
  return set;
};

/**
 * Return how many unique items are in this ArraySet. If duplicates have been
 * added, than those do not count towards the size.
 *
 * @returns Number
 */
ArraySet.prototype.size = function ArraySet_size() {
  return hasNativeMap ? this._set.size : Object.getOwnPropertyNames(this._set).length;
};

/**
 * Add the given string to this set.
 *
 * @param String aStr
 */
ArraySet.prototype.add = function ArraySet_add(aStr, aAllowDuplicates) {
  var sStr = hasNativeMap ? aStr : util.toSetString(aStr);
  var isDuplicate = hasNativeMap ? this.has(aStr) : has.call(this._set, sStr);
  var idx = this._array.length;
  if (!isDuplicate || aAllowDuplicates) {
    this._array.push(aStr);
  }
  if (!isDuplicate) {
    if (hasNativeMap) {
      this._set.set(aStr, idx);
    } else {
      this._set[sStr] = idx;
    }
  }
};

/**
 * Is the given string a member of this set?
 *
 * @param String aStr
 */
ArraySet.prototype.has = function ArraySet_has(aStr) {
  if (hasNativeMap) {
    return this._set.has(aStr);
  } else {
    var sStr = util.toSetString(aStr);
    return has.call(this._set, sStr);
  }
};

/**
 * What is the index of the given string in the array?
 *
 * @param String aStr
 */
ArraySet.prototype.indexOf = function ArraySet_indexOf(aStr) {
  if (hasNativeMap) {
    var idx = this._set.get(aStr);
    if (idx >= 0) {
        return idx;
    }
  } else {
    var sStr = util.toSetString(aStr);
    if (has.call(this._set, sStr)) {
      return this._set[sStr];
    }
  }

  throw new Error('"' + aStr + '" is not in the set.');
};

/**
 * What is the element at the given index?
 *
 * @param Number aIdx
 */
ArraySet.prototype.at = function ArraySet_at(aIdx) {
  if (aIdx >= 0 && aIdx < this._array.length) {
    return this._array[aIdx];
  }
  throw new Error('No element indexed by ' + aIdx);
};

/**
 * Returns the array representation of this set (which has the proper indices
 * indicated by indexOf). Note that this is a copy of the internal array used
 * for storing the members so that no one can mess with internal state.
 */
ArraySet.prototype.toArray = function ArraySet_toArray() {
  return this._array.slice();
};

exports.ArraySet = ArraySet;

},{"./util":15}],7:[function(require,module,exports){
/* -*- Mode: js; js-indent-level: 2; -*- */
/*
 * Copyright 2011 Mozilla Foundation and contributors
 * Licensed under the New BSD license. See LICENSE or:
 * http://opensource.org/licenses/BSD-3-Clause
 *
 * Based on the Base 64 VLQ implementation in Closure Compiler:
 * https://code.google.com/p/closure-compiler/source/browse/trunk/src/com/google/debugging/sourcemap/Base64VLQ.java
 *
 * Copyright 2011 The Closure Compiler Authors. All rights reserved.
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are
 * met:
 *
 *  * Redistributions of source code must retain the above copyright
 *    notice, this list of conditions and the following disclaimer.
 *  * Redistributions in binary form must reproduce the above
 *    copyright notice, this list of conditions and the following
 *    disclaimer in the documentation and/or other materials provided
 *    with the distribution.
 *  * Neither the name of Google Inc. nor the names of its
 *    contributors may be used to endorse or promote products derived
 *    from this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 * "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

var base64 = require('./base64');

// A single base 64 digit can contain 6 bits of data. For the base 64 variable
// length quantities we use in the source map spec, the first bit is the sign,
// the next four bits are the actual value, and the 6th bit is the
// continuation bit. The continuation bit tells us whether there are more
// digits in this value following this digit.
//
//   Continuation
//   |    Sign
//   |    |
//   V    V
//   101011

var VLQ_BASE_SHIFT = 5;

// binary: 100000
var VLQ_BASE = 1 << VLQ_BASE_SHIFT;

// binary: 011111
var VLQ_BASE_MASK = VLQ_BASE - 1;

// binary: 100000
var VLQ_CONTINUATION_BIT = VLQ_BASE;

/**
 * Converts from a two-complement value to a value where the sign bit is
 * placed in the least significant bit.  For example, as decimals:
 *   1 becomes 2 (10 binary), -1 becomes 3 (11 binary)
 *   2 becomes 4 (100 binary), -2 becomes 5 (101 binary)
 */
function toVLQSigned(aValue) {
  return aValue < 0
    ? ((-aValue) << 1) + 1
    : (aValue << 1) + 0;
}

/**
 * Converts to a two-complement value from a value where the sign bit is
 * placed in the least significant bit.  For example, as decimals:
 *   2 (10 binary) becomes 1, 3 (11 binary) becomes -1
 *   4 (100 binary) becomes 2, 5 (101 binary) becomes -2
 */
function fromVLQSigned(aValue) {
  var isNegative = (aValue & 1) === 1;
  var shifted = aValue >> 1;
  return isNegative
    ? -shifted
    : shifted;
}

/**
 * Returns the base 64 VLQ encoded value.
 */
exports.encode = function base64VLQ_encode(aValue) {
  var encoded = "";
  var digit;

  var vlq = toVLQSigned(aValue);

  do {
    digit = vlq & VLQ_BASE_MASK;
    vlq >>>= VLQ_BASE_SHIFT;
    if (vlq > 0) {
      // There are still more digits in this value, so we must make sure the
      // continuation bit is marked.
      digit |= VLQ_CONTINUATION_BIT;
    }
    encoded += base64.encode(digit);
  } while (vlq > 0);

  return encoded;
};

/**
 * Decodes the next base 64 VLQ value from the given string and returns the
 * value and the rest of the string via the out parameter.
 */
exports.decode = function base64VLQ_decode(aStr, aIndex, aOutParam) {
  var strLen = aStr.length;
  var result = 0;
  var shift = 0;
  var continuation, digit;

  do {
    if (aIndex >= strLen) {
      throw new Error("Expected more digits in base 64 VLQ value.");
    }

    digit = base64.decode(aStr.charCodeAt(aIndex++));
    if (digit === -1) {
      throw new Error("Invalid base64 digit: " + aStr.charAt(aIndex - 1));
    }

    continuation = !!(digit & VLQ_CONTINUATION_BIT);
    digit &= VLQ_BASE_MASK;
    result = result + (digit << shift);
    shift += VLQ_BASE_SHIFT;
  } while (continuation);

  aOutParam.value = fromVLQSigned(result);
  aOutParam.rest = aIndex;
};

},{"./base64":8}],8:[function(require,module,exports){
/* -*- Mode: js; js-indent-level: 2; -*- */
/*
 * Copyright 2011 Mozilla Foundation and contributors
 * Licensed under the New BSD license. See LICENSE or:
 * http://opensource.org/licenses/BSD-3-Clause
 */

var intToCharMap = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'.split('');

/**
 * Encode an integer in the range of 0 to 63 to a single base 64 digit.
 */
exports.encode = function (number) {
  if (0 <= number && number < intToCharMap.length) {
    return intToCharMap[number];
  }
  throw new TypeError("Must be between 0 and 63: " + number);
};

/**
 * Decode a single base 64 character code digit to an integer. Returns -1 on
 * failure.
 */
exports.decode = function (charCode) {
  var bigA = 65;     // 'A'
  var bigZ = 90;     // 'Z'

  var littleA = 97;  // 'a'
  var littleZ = 122; // 'z'

  var zero = 48;     // '0'
  var nine = 57;     // '9'

  var plus = 43;     // '+'
  var slash = 47;    // '/'

  var littleOffset = 26;
  var numberOffset = 52;

  // 0 - 25: ABCDEFGHIJKLMNOPQRSTUVWXYZ
  if (bigA <= charCode && charCode <= bigZ) {
    return (charCode - bigA);
  }

  // 26 - 51: abcdefghijklmnopqrstuvwxyz
  if (littleA <= charCode && charCode <= littleZ) {
    return (charCode - littleA + littleOffset);
  }

  // 52 - 61: 0123456789
  if (zero <= charCode && charCode <= nine) {
    return (charCode - zero + numberOffset);
  }

  // 62: +
  if (charCode == plus) {
    return 62;
  }

  // 63: /
  if (charCode == slash) {
    return 63;
  }

  // Invalid base64 digit.
  return -1;
};

},{}],9:[function(require,module,exports){
/* -*- Mode: js; js-indent-level: 2; -*- */
/*
 * Copyright 2011 Mozilla Foundation and contributors
 * Licensed under the New BSD license. See LICENSE or:
 * http://opensource.org/licenses/BSD-3-Clause
 */

exports.GREATEST_LOWER_BOUND = 1;
exports.LEAST_UPPER_BOUND = 2;

/**
 * Recursive implementation of binary search.
 *
 * @param aLow Indices here and lower do not contain the needle.
 * @param aHigh Indices here and higher do not contain the needle.
 * @param aNeedle The element being searched for.
 * @param aHaystack The non-empty array being searched.
 * @param aCompare Function which takes two elements and returns -1, 0, or 1.
 * @param aBias Either 'binarySearch.GREATEST_LOWER_BOUND' or
 *     'binarySearch.LEAST_UPPER_BOUND'. Specifies whether to return the
 *     closest element that is smaller than or greater than the one we are
 *     searching for, respectively, if the exact element cannot be found.
 */
function recursiveSearch(aLow, aHigh, aNeedle, aHaystack, aCompare, aBias) {
  // This function terminates when one of the following is true:
  //
  //   1. We find the exact element we are looking for.
  //
  //   2. We did not find the exact element, but we can return the index of
  //      the next-closest element.
  //
  //   3. We did not find the exact element, and there is no next-closest
  //      element than the one we are searching for, so we return -1.
  var mid = Math.floor((aHigh - aLow) / 2) + aLow;
  var cmp = aCompare(aNeedle, aHaystack[mid], true);
  if (cmp === 0) {
    // Found the element we are looking for.
    return mid;
  }
  else if (cmp > 0) {
    // Our needle is greater than aHaystack[mid].
    if (aHigh - mid > 1) {
      // The element is in the upper half.
      return recursiveSearch(mid, aHigh, aNeedle, aHaystack, aCompare, aBias);
    }

    // The exact needle element was not found in this haystack. Determine if
    // we are in termination case (3) or (2) and return the appropriate thing.
    if (aBias == exports.LEAST_UPPER_BOUND) {
      return aHigh < aHaystack.length ? aHigh : -1;
    } else {
      return mid;
    }
  }
  else {
    // Our needle is less than aHaystack[mid].
    if (mid - aLow > 1) {
      // The element is in the lower half.
      return recursiveSearch(aLow, mid, aNeedle, aHaystack, aCompare, aBias);
    }

    // we are in termination case (3) or (2) and return the appropriate thing.
    if (aBias == exports.LEAST_UPPER_BOUND) {
      return mid;
    } else {
      return aLow < 0 ? -1 : aLow;
    }
  }
}

/**
 * This is an implementation of binary search which will always try and return
 * the index of the closest element if there is no exact hit. This is because
 * mappings between original and generated line/col pairs are single points,
 * and there is an implicit region between each of them, so a miss just means
 * that you aren't on the very start of a region.
 *
 * @param aNeedle The element you are looking for.
 * @param aHaystack The array that is being searched.
 * @param aCompare A function which takes the needle and an element in the
 *     array and returns -1, 0, or 1 depending on whether the needle is less
 *     than, equal to, or greater than the element, respectively.
 * @param aBias Either 'binarySearch.GREATEST_LOWER_BOUND' or
 *     'binarySearch.LEAST_UPPER_BOUND'. Specifies whether to return the
 *     closest element that is smaller than or greater than the one we are
 *     searching for, respectively, if the exact element cannot be found.
 *     Defaults to 'binarySearch.GREATEST_LOWER_BOUND'.
 */
exports.search = function search(aNeedle, aHaystack, aCompare, aBias) {
  if (aHaystack.length === 0) {
    return -1;
  }

  var index = recursiveSearch(-1, aHaystack.length, aNeedle, aHaystack,
                              aCompare, aBias || exports.GREATEST_LOWER_BOUND);
  if (index < 0) {
    return -1;
  }

  // We have found either the exact element, or the next-closest element than
  // the one we are searching for. However, there may be more than one such
  // element. Make sure we always return the smallest of these.
  while (index - 1 >= 0) {
    if (aCompare(aHaystack[index], aHaystack[index - 1], true) !== 0) {
      break;
    }
    --index;
  }

  return index;
};

},{}],10:[function(require,module,exports){
/* -*- Mode: js; js-indent-level: 2; -*- */
/*
 * Copyright 2014 Mozilla Foundation and contributors
 * Licensed under the New BSD license. See LICENSE or:
 * http://opensource.org/licenses/BSD-3-Clause
 */

var util = require('./util');

/**
 * Determine whether mappingB is after mappingA with respect to generated
 * position.
 */
function generatedPositionAfter(mappingA, mappingB) {
  // Optimized for most common case
  var lineA = mappingA.generatedLine;
  var lineB = mappingB.generatedLine;
  var columnA = mappingA.generatedColumn;
  var columnB = mappingB.generatedColumn;
  return lineB > lineA || lineB == lineA && columnB >= columnA ||
         util.compareByGeneratedPositionsInflated(mappingA, mappingB) <= 0;
}

/**
 * A data structure to provide a sorted view of accumulated mappings in a
 * performance conscious manner. It trades a neglibable overhead in general
 * case for a large speedup in case of mappings being added in order.
 */
function MappingList() {
  this._array = [];
  this._sorted = true;
  // Serves as infimum
  this._last = {generatedLine: -1, generatedColumn: 0};
}

/**
 * Iterate through internal items. This method takes the same arguments that
 * `Array.prototype.forEach` takes.
 *
 * NOTE: The order of the mappings is NOT guaranteed.
 */
MappingList.prototype.unsortedForEach =
  function MappingList_forEach(aCallback, aThisArg) {
    this._array.forEach(aCallback, aThisArg);
  };

/**
 * Add the given source mapping.
 *
 * @param Object aMapping
 */
MappingList.prototype.add = function MappingList_add(aMapping) {
  if (generatedPositionAfter(this._last, aMapping)) {
    this._last = aMapping;
    this._array.push(aMapping);
  } else {
    this._sorted = false;
    this._array.push(aMapping);
  }
};

/**
 * Returns the flat, sorted array of mappings. The mappings are sorted by
 * generated position.
 *
 * WARNING: This method returns internal data without copying, for
 * performance. The return value must NOT be mutated, and should be treated as
 * an immutable borrow. If you want to take ownership, you must make your own
 * copy.
 */
MappingList.prototype.toArray = function MappingList_toArray() {
  if (!this._sorted) {
    this._array.sort(util.compareByGeneratedPositionsInflated);
    this._sorted = true;
  }
  return this._array;
};

exports.MappingList = MappingList;

},{"./util":15}],11:[function(require,module,exports){
/* -*- Mode: js; js-indent-level: 2; -*- */
/*
 * Copyright 2011 Mozilla Foundation and contributors
 * Licensed under the New BSD license. See LICENSE or:
 * http://opensource.org/licenses/BSD-3-Clause
 */

// It turns out that some (most?) JavaScript engines don't self-host
// `Array.prototype.sort`. This makes sense because C++ will likely remain
// faster than JS when doing raw CPU-intensive sorting. However, when using a
// custom comparator function, calling back and forth between the VM's C++ and
// JIT'd JS is rather slow *and* loses JIT type information, resulting in
// worse generated code for the comparator function than would be optimal. In
// fact, when sorting with a comparator, these costs outweigh the benefits of
// sorting in C++. By using our own JS-implemented Quick Sort (below), we get
// a ~3500ms mean speed-up in `bench/bench.html`.

/**
 * Swap the elements indexed by `x` and `y` in the array `ary`.
 *
 * @param {Array} ary
 *        The array.
 * @param {Number} x
 *        The index of the first item.
 * @param {Number} y
 *        The index of the second item.
 */
function swap(ary, x, y) {
  var temp = ary[x];
  ary[x] = ary[y];
  ary[y] = temp;
}

/**
 * Returns a random integer within the range `low .. high` inclusive.
 *
 * @param {Number} low
 *        The lower bound on the range.
 * @param {Number} high
 *        The upper bound on the range.
 */
function randomIntInRange(low, high) {
  return Math.round(low + (Math.random() * (high - low)));
}

/**
 * The Quick Sort algorithm.
 *
 * @param {Array} ary
 *        An array to sort.
 * @param {function} comparator
 *        Function to use to compare two items.
 * @param {Number} p
 *        Start index of the array
 * @param {Number} r
 *        End index of the array
 */
function doQuickSort(ary, comparator, p, r) {
  // If our lower bound is less than our upper bound, we (1) partition the
  // array into two pieces and (2) recurse on each half. If it is not, this is
  // the empty array and our base case.

  if (p < r) {
    // (1) Partitioning.
    //
    // The partitioning chooses a pivot between `p` and `r` and moves all
    // elements that are less than or equal to the pivot to the before it, and
    // all the elements that are greater than it after it. The effect is that
    // once partition is done, the pivot is in the exact place it will be when
    // the array is put in sorted order, and it will not need to be moved
    // again. This runs in O(n) time.

    // Always choose a random pivot so that an input array which is reverse
    // sorted does not cause O(n^2) running time.
    var pivotIndex = randomIntInRange(p, r);
    var i = p - 1;

    swap(ary, pivotIndex, r);
    var pivot = ary[r];

    // Immediately after `j` is incremented in this loop, the following hold
    // true:
    //
    //   * Every element in `ary[p .. i]` is less than or equal to the pivot.
    //
    //   * Every element in `ary[i+1 .. j-1]` is greater than the pivot.
    for (var j = p; j < r; j++) {
      if (comparator(ary[j], pivot) <= 0) {
        i += 1;
        swap(ary, i, j);
      }
    }

    swap(ary, i + 1, j);
    var q = i + 1;

    // (2) Recurse on each half.

    doQuickSort(ary, comparator, p, q - 1);
    doQuickSort(ary, comparator, q + 1, r);
  }
}

/**
 * Sort the given array in-place with the given comparator function.
 *
 * @param {Array} ary
 *        An array to sort.
 * @param {function} comparator
 *        Function to use to compare two items.
 */
exports.quickSort = function (ary, comparator) {
  doQuickSort(ary, comparator, 0, ary.length - 1);
};

},{}],12:[function(require,module,exports){
/* -*- Mode: js; js-indent-level: 2; -*- */
/*
 * Copyright 2011 Mozilla Foundation and contributors
 * Licensed under the New BSD license. See LICENSE or:
 * http://opensource.org/licenses/BSD-3-Clause
 */

var util = require('./util');
var binarySearch = require('./binary-search');
var ArraySet = require('./array-set').ArraySet;
var base64VLQ = require('./base64-vlq');
var quickSort = require('./quick-sort').quickSort;

function SourceMapConsumer(aSourceMap, aSourceMapURL) {
  var sourceMap = aSourceMap;
  if (typeof aSourceMap === 'string') {
    sourceMap = util.parseSourceMapInput(aSourceMap);
  }

  return sourceMap.sections != null
    ? new IndexedSourceMapConsumer(sourceMap, aSourceMapURL)
    : new BasicSourceMapConsumer(sourceMap, aSourceMapURL);
}

SourceMapConsumer.fromSourceMap = function(aSourceMap, aSourceMapURL) {
  return BasicSourceMapConsumer.fromSourceMap(aSourceMap, aSourceMapURL);
}

/**
 * The version of the source mapping spec that we are consuming.
 */
SourceMapConsumer.prototype._version = 3;

// `__generatedMappings` and `__originalMappings` are arrays that hold the
// parsed mapping coordinates from the source map's "mappings" attribute. They
// are lazily instantiated, accessed via the `_generatedMappings` and
// `_originalMappings` getters respectively, and we only parse the mappings
// and create these arrays once queried for a source location. We jump through
// these hoops because there can be many thousands of mappings, and parsing
// them is expensive, so we only want to do it if we must.
//
// Each object in the arrays is of the form:
//
//     {
//       generatedLine: The line number in the generated code,
//       generatedColumn: The column number in the generated code,
//       source: The path to the original source file that generated this
//               chunk of code,
//       originalLine: The line number in the original source that
//                     corresponds to this chunk of generated code,
//       originalColumn: The column number in the original source that
//                       corresponds to this chunk of generated code,
//       name: The name of the original symbol which generated this chunk of
//             code.
//     }
//
// All properties except for `generatedLine` and `generatedColumn` can be
// `null`.
//
// `_generatedMappings` is ordered by the generated positions.
//
// `_originalMappings` is ordered by the original positions.

SourceMapConsumer.prototype.__generatedMappings = null;
Object.defineProperty(SourceMapConsumer.prototype, '_generatedMappings', {
  configurable: true,
  enumerable: true,
  get: function () {
    if (!this.__generatedMappings) {
      this._parseMappings(this._mappings, this.sourceRoot);
    }

    return this.__generatedMappings;
  }
});

SourceMapConsumer.prototype.__originalMappings = null;
Object.defineProperty(SourceMapConsumer.prototype, '_originalMappings', {
  configurable: true,
  enumerable: true,
  get: function () {
    if (!this.__originalMappings) {
      this._parseMappings(this._mappings, this.sourceRoot);
    }

    return this.__originalMappings;
  }
});

SourceMapConsumer.prototype._charIsMappingSeparator =
  function SourceMapConsumer_charIsMappingSeparator(aStr, index) {
    var c = aStr.charAt(index);
    return c === ";" || c === ",";
  };

/**
 * Parse the mappings in a string in to a data structure which we can easily
 * query (the ordered arrays in the `this.__generatedMappings` and
 * `this.__originalMappings` properties).
 */
SourceMapConsumer.prototype._parseMappings =
  function SourceMapConsumer_parseMappings(aStr, aSourceRoot) {
    throw new Error("Subclasses must implement _parseMappings");
  };

SourceMapConsumer.GENERATED_ORDER = 1;
SourceMapConsumer.ORIGINAL_ORDER = 2;

SourceMapConsumer.GREATEST_LOWER_BOUND = 1;
SourceMapConsumer.LEAST_UPPER_BOUND = 2;

/**
 * Iterate over each mapping between an original source/line/column and a
 * generated line/column in this source map.
 *
 * @param Function aCallback
 *        The function that is called with each mapping.
 * @param Object aContext
 *        Optional. If specified, this object will be the value of `this` every
 *        time that `aCallback` is called.
 * @param aOrder
 *        Either `SourceMapConsumer.GENERATED_ORDER` or
 *        `SourceMapConsumer.ORIGINAL_ORDER`. Specifies whether you want to
 *        iterate over the mappings sorted by the generated file's line/column
 *        order or the original's source/line/column order, respectively. Defaults to
 *        `SourceMapConsumer.GENERATED_ORDER`.
 */
SourceMapConsumer.prototype.eachMapping =
  function SourceMapConsumer_eachMapping(aCallback, aContext, aOrder) {
    var context = aContext || null;
    var order = aOrder || SourceMapConsumer.GENERATED_ORDER;

    var mappings;
    switch (order) {
    case SourceMapConsumer.GENERATED_ORDER:
      mappings = this._generatedMappings;
      break;
    case SourceMapConsumer.ORIGINAL_ORDER:
      mappings = this._originalMappings;
      break;
    default:
      throw new Error("Unknown order of iteration.");
    }

    var sourceRoot = this.sourceRoot;
    mappings.map(function (mapping) {
      var source = mapping.source === null ? null : this._sources.at(mapping.source);
      source = util.computeSourceURL(sourceRoot, source, this._sourceMapURL);
      return {
        source: source,
        generatedLine: mapping.generatedLine,
        generatedColumn: mapping.generatedColumn,
        originalLine: mapping.originalLine,
        originalColumn: mapping.originalColumn,
        name: mapping.name === null ? null : this._names.at(mapping.name)
      };
    }, this).forEach(aCallback, context);
  };

/**
 * Returns all generated line and column information for the original source,
 * line, and column provided. If no column is provided, returns all mappings
 * corresponding to a either the line we are searching for or the next
 * closest line that has any mappings. Otherwise, returns all mappings
 * corresponding to the given line and either the column we are searching for
 * or the next closest column that has any offsets.
 *
 * The only argument is an object with the following properties:
 *
 *   - source: The filename of the original source.
 *   - line: The line number in the original source.  The line number is 1-based.
 *   - column: Optional. the column number in the original source.
 *    The column number is 0-based.
 *
 * and an array of objects is returned, each with the following properties:
 *
 *   - line: The line number in the generated source, or null.  The
 *    line number is 1-based.
 *   - column: The column number in the generated source, or null.
 *    The column number is 0-based.
 */
SourceMapConsumer.prototype.allGeneratedPositionsFor =
  function SourceMapConsumer_allGeneratedPositionsFor(aArgs) {
    var line = util.getArg(aArgs, 'line');

    // When there is no exact match, BasicSourceMapConsumer.prototype._findMapping
    // returns the index of the closest mapping less than the needle. By
    // setting needle.originalColumn to 0, we thus find the last mapping for
    // the given line, provided such a mapping exists.
    var needle = {
      source: util.getArg(aArgs, 'source'),
      originalLine: line,
      originalColumn: util.getArg(aArgs, 'column', 0)
    };

    needle.source = this._findSourceIndex(needle.source);
    if (needle.source < 0) {
      return [];
    }

    var mappings = [];

    var index = this._findMapping(needle,
                                  this._originalMappings,
                                  "originalLine",
                                  "originalColumn",
                                  util.compareByOriginalPositions,
                                  binarySearch.LEAST_UPPER_BOUND);
    if (index >= 0) {
      var mapping = this._originalMappings[index];

      if (aArgs.column === undefined) {
        var originalLine = mapping.originalLine;

        // Iterate until either we run out of mappings, or we run into
        // a mapping for a different line than the one we found. Since
        // mappings are sorted, this is guaranteed to find all mappings for
        // the line we found.
        while (mapping && mapping.originalLine === originalLine) {
          mappings.push({
            line: util.getArg(mapping, 'generatedLine', null),
            column: util.getArg(mapping, 'generatedColumn', null),
            lastColumn: util.getArg(mapping, 'lastGeneratedColumn', null)
          });

          mapping = this._originalMappings[++index];
        }
      } else {
        var originalColumn = mapping.originalColumn;

        // Iterate until either we run out of mappings, or we run into
        // a mapping for a different line than the one we were searching for.
        // Since mappings are sorted, this is guaranteed to find all mappings for
        // the line we are searching for.
        while (mapping &&
               mapping.originalLine === line &&
               mapping.originalColumn == originalColumn) {
          mappings.push({
            line: util.getArg(mapping, 'generatedLine', null),
            column: util.getArg(mapping, 'generatedColumn', null),
            lastColumn: util.getArg(mapping, 'lastGeneratedColumn', null)
          });

          mapping = this._originalMappings[++index];
        }
      }
    }

    return mappings;
  };

exports.SourceMapConsumer = SourceMapConsumer;

/**
 * A BasicSourceMapConsumer instance represents a parsed source map which we can
 * query for information about the original file positions by giving it a file
 * position in the generated source.
 *
 * The first parameter is the raw source map (either as a JSON string, or
 * already parsed to an object). According to the spec, source maps have the
 * following attributes:
 *
 *   - version: Which version of the source map spec this map is following.
 *   - sources: An array of URLs to the original source files.
 *   - names: An array of identifiers which can be referrenced by individual mappings.
 *   - sourceRoot: Optional. The URL root from which all sources are relative.
 *   - sourcesContent: Optional. An array of contents of the original source files.
 *   - mappings: A string of base64 VLQs which contain the actual mappings.
 *   - file: Optional. The generated file this source map is associated with.
 *
 * Here is an example source map, taken from the source map spec[0]:
 *
 *     {
 *       version : 3,
 *       file: "out.js",
 *       sourceRoot : "",
 *       sources: ["foo.js", "bar.js"],
 *       names: ["src", "maps", "are", "fun"],
 *       mappings: "AA,AB;;ABCDE;"
 *     }
 *
 * The second parameter, if given, is a string whose value is the URL
 * at which the source map was found.  This URL is used to compute the
 * sources array.
 *
 * [0]: https://docs.google.com/document/d/1U1RGAehQwRypUTovF1KRlpiOFze0b-_2gc6fAH0KY0k/edit?pli=1#
 */
function BasicSourceMapConsumer(aSourceMap, aSourceMapURL) {
  var sourceMap = aSourceMap;
  if (typeof aSourceMap === 'string') {
    sourceMap = util.parseSourceMapInput(aSourceMap);
  }

  var version = util.getArg(sourceMap, 'version');
  var sources = util.getArg(sourceMap, 'sources');
  // Sass 3.3 leaves out the 'names' array, so we deviate from the spec (which
  // requires the array) to play nice here.
  var names = util.getArg(sourceMap, 'names', []);
  var sourceRoot = util.getArg(sourceMap, 'sourceRoot', null);
  var sourcesContent = util.getArg(sourceMap, 'sourcesContent', null);
  var mappings = util.getArg(sourceMap, 'mappings');
  var file = util.getArg(sourceMap, 'file', null);

  // Once again, Sass deviates from the spec and supplies the version as a
  // string rather than a number, so we use loose equality checking here.
  if (version != this._version) {
    throw new Error('Unsupported version: ' + version);
  }

  if (sourceRoot) {
    sourceRoot = util.normalize(sourceRoot);
  }

  sources = sources
    .map(String)
    // Some source maps produce relative source paths like "./foo.js" instead of
    // "foo.js".  Normalize these first so that future comparisons will succeed.
    // See bugzil.la/1090768.
    .map(util.normalize)
    // Always ensure that absolute sources are internally stored relative to
    // the source root, if the source root is absolute. Not doing this would
    // be particularly problematic when the source root is a prefix of the
    // source (valid, but why??). See github issue #199 and bugzil.la/1188982.
    .map(function (source) {
      return sourceRoot && util.isAbsolute(sourceRoot) && util.isAbsolute(source)
        ? util.relative(sourceRoot, source)
        : source;
    });

  // Pass `true` below to allow duplicate names and sources. While source maps
  // are intended to be compressed and deduplicated, the TypeScript compiler
  // sometimes generates source maps with duplicates in them. See Github issue
  // #72 and bugzil.la/889492.
  this._names = ArraySet.fromArray(names.map(String), true);
  this._sources = ArraySet.fromArray(sources, true);

  this._absoluteSources = this._sources.toArray().map(function (s) {
    return util.computeSourceURL(sourceRoot, s, aSourceMapURL);
  });

  this.sourceRoot = sourceRoot;
  this.sourcesContent = sourcesContent;
  this._mappings = mappings;
  this._sourceMapURL = aSourceMapURL;
  this.file = file;
}

BasicSourceMapConsumer.prototype = Object.create(SourceMapConsumer.prototype);
BasicSourceMapConsumer.prototype.consumer = SourceMapConsumer;

/**
 * Utility function to find the index of a source.  Returns -1 if not
 * found.
 */
BasicSourceMapConsumer.prototype._findSourceIndex = function(aSource) {
  var relativeSource = aSource;
  if (this.sourceRoot != null) {
    relativeSource = util.relative(this.sourceRoot, relativeSource);
  }

  if (this._sources.has(relativeSource)) {
    return this._sources.indexOf(relativeSource);
  }

  // Maybe aSource is an absolute URL as returned by |sources|.  In
  // this case we can't simply undo the transform.
  var i;
  for (i = 0; i < this._absoluteSources.length; ++i) {
    if (this._absoluteSources[i] == aSource) {
      return i;
    }
  }

  return -1;
};

/**
 * Create a BasicSourceMapConsumer from a SourceMapGenerator.
 *
 * @param SourceMapGenerator aSourceMap
 *        The source map that will be consumed.
 * @param String aSourceMapURL
 *        The URL at which the source map can be found (optional)
 * @returns BasicSourceMapConsumer
 */
BasicSourceMapConsumer.fromSourceMap =
  function SourceMapConsumer_fromSourceMap(aSourceMap, aSourceMapURL) {
    var smc = Object.create(BasicSourceMapConsumer.prototype);

    var names = smc._names = ArraySet.fromArray(aSourceMap._names.toArray(), true);
    var sources = smc._sources = ArraySet.fromArray(aSourceMap._sources.toArray(), true);
    smc.sourceRoot = aSourceMap._sourceRoot;
    smc.sourcesContent = aSourceMap._generateSourcesContent(smc._sources.toArray(),
                                                            smc.sourceRoot);
    smc.file = aSourceMap._file;
    smc._sourceMapURL = aSourceMapURL;
    smc._absoluteSources = smc._sources.toArray().map(function (s) {
      return util.computeSourceURL(smc.sourceRoot, s, aSourceMapURL);
    });

    // Because we are modifying the entries (by converting string sources and
    // names to indices into the sources and names ArraySets), we have to make
    // a copy of the entry or else bad things happen. Shared mutable state
    // strikes again! See github issue #191.

    var generatedMappings = aSourceMap._mappings.toArray().slice();
    var destGeneratedMappings = smc.__generatedMappings = [];
    var destOriginalMappings = smc.__originalMappings = [];

    for (var i = 0, length = generatedMappings.length; i < length; i++) {
      var srcMapping = generatedMappings[i];
      var destMapping = new Mapping;
      destMapping.generatedLine = srcMapping.generatedLine;
      destMapping.generatedColumn = srcMapping.generatedColumn;

      if (srcMapping.source) {
        destMapping.source = sources.indexOf(srcMapping.source);
        destMapping.originalLine = srcMapping.originalLine;
        destMapping.originalColumn = srcMapping.originalColumn;

        if (srcMapping.name) {
          destMapping.name = names.indexOf(srcMapping.name);
        }

        destOriginalMappings.push(destMapping);
      }

      destGeneratedMappings.push(destMapping);
    }

    quickSort(smc.__originalMappings, util.compareByOriginalPositions);

    return smc;
  };

/**
 * The version of the source mapping spec that we are consuming.
 */
BasicSourceMapConsumer.prototype._version = 3;

/**
 * The list of original sources.
 */
Object.defineProperty(BasicSourceMapConsumer.prototype, 'sources', {
  get: function () {
    return this._absoluteSources.slice();
  }
});

/**
 * Provide the JIT with a nice shape / hidden class.
 */
function Mapping() {
  this.generatedLine = 0;
  this.generatedColumn = 0;
  this.source = null;
  this.originalLine = null;
  this.originalColumn = null;
  this.name = null;
}

/**
 * Parse the mappings in a string in to a data structure which we can easily
 * query (the ordered arrays in the `this.__generatedMappings` and
 * `this.__originalMappings` properties).
 */
BasicSourceMapConsumer.prototype._parseMappings =
  function SourceMapConsumer_parseMappings(aStr, aSourceRoot) {
    var generatedLine = 1;
    var previousGeneratedColumn = 0;
    var previousOriginalLine = 0;
    var previousOriginalColumn = 0;
    var previousSource = 0;
    var previousName = 0;
    var length = aStr.length;
    var index = 0;
    var cachedSegments = {};
    var temp = {};
    var originalMappings = [];
    var generatedMappings = [];
    var mapping, str, segment, end, value;

    while (index < length) {
      if (aStr.charAt(index) === ';') {
        generatedLine++;
        index++;
        previousGeneratedColumn = 0;
      }
      else if (aStr.charAt(index) === ',') {
        index++;
      }
      else {
        mapping = new Mapping();
        mapping.generatedLine = generatedLine;

        // Because each offset is encoded relative to the previous one,
        // many segments often have the same encoding. We can exploit this
        // fact by caching the parsed variable length fields of each segment,
        // allowing us to avoid a second parse if we encounter the same
        // segment again.
        for (end = index; end < length; end++) {
          if (this._charIsMappingSeparator(aStr, end)) {
            break;
          }
        }
        str = aStr.slice(index, end);

        segment = cachedSegments[str];
        if (segment) {
          index += str.length;
        } else {
          segment = [];
          while (index < end) {
            base64VLQ.decode(aStr, index, temp);
            value = temp.value;
            index = temp.rest;
            segment.push(value);
          }

          if (segment.length === 2) {
            throw new Error('Found a source, but no line and column');
          }

          if (segment.length === 3) {
            throw new Error('Found a source and line, but no column');
          }

          cachedSegments[str] = segment;
        }

        // Generated column.
        mapping.generatedColumn = previousGeneratedColumn + segment[0];
        previousGeneratedColumn = mapping.generatedColumn;

        if (segment.length > 1) {
          // Original source.
          mapping.source = previousSource + segment[1];
          previousSource += segment[1];

          // Original line.
          mapping.originalLine = previousOriginalLine + segment[2];
          previousOriginalLine = mapping.originalLine;
          // Lines are stored 0-based
          mapping.originalLine += 1;

          // Original column.
          mapping.originalColumn = previousOriginalColumn + segment[3];
          previousOriginalColumn = mapping.originalColumn;

          if (segment.length > 4) {
            // Original name.
            mapping.name = previousName + segment[4];
            previousName += segment[4];
          }
        }

        generatedMappings.push(mapping);
        if (typeof mapping.originalLine === 'number') {
          originalMappings.push(mapping);
        }
      }
    }

    quickSort(generatedMappings, util.compareByGeneratedPositionsDeflated);
    this.__generatedMappings = generatedMappings;

    quickSort(originalMappings, util.compareByOriginalPositions);
    this.__originalMappings = originalMappings;
  };

/**
 * Find the mapping that best matches the hypothetical "needle" mapping that
 * we are searching for in the given "haystack" of mappings.
 */
BasicSourceMapConsumer.prototype._findMapping =
  function SourceMapConsumer_findMapping(aNeedle, aMappings, aLineName,
                                         aColumnName, aComparator, aBias) {
    // To return the position we are searching for, we must first find the
    // mapping for the given position and then return the opposite position it
    // points to. Because the mappings are sorted, we can use binary search to
    // find the best mapping.

    if (aNeedle[aLineName] <= 0) {
      throw new TypeError('Line must be greater than or equal to 1, got '
                          + aNeedle[aLineName]);
    }
    if (aNeedle[aColumnName] < 0) {
      throw new TypeError('Column must be greater than or equal to 0, got '
                          + aNeedle[aColumnName]);
    }

    return binarySearch.search(aNeedle, aMappings, aComparator, aBias);
  };

/**
 * Compute the last column for each generated mapping. The last column is
 * inclusive.
 */
BasicSourceMapConsumer.prototype.computeColumnSpans =
  function SourceMapConsumer_computeColumnSpans() {
    for (var index = 0; index < this._generatedMappings.length; ++index) {
      var mapping = this._generatedMappings[index];

      // Mappings do not contain a field for the last generated columnt. We
      // can come up with an optimistic estimate, however, by assuming that
      // mappings are contiguous (i.e. given two consecutive mappings, the
      // first mapping ends where the second one starts).
      if (index + 1 < this._generatedMappings.length) {
        var nextMapping = this._generatedMappings[index + 1];

        if (mapping.generatedLine === nextMapping.generatedLine) {
          mapping.lastGeneratedColumn = nextMapping.generatedColumn - 1;
          continue;
        }
      }

      // The last mapping for each line spans the entire line.
      mapping.lastGeneratedColumn = Infinity;
    }
  };

/**
 * Returns the original source, line, and column information for the generated
 * source's line and column positions provided. The only argument is an object
 * with the following properties:
 *
 *   - line: The line number in the generated source.  The line number
 *     is 1-based.
 *   - column: The column number in the generated source.  The column
 *     number is 0-based.
 *   - bias: Either 'SourceMapConsumer.GREATEST_LOWER_BOUND' or
 *     'SourceMapConsumer.LEAST_UPPER_BOUND'. Specifies whether to return the
 *     closest element that is smaller than or greater than the one we are
 *     searching for, respectively, if the exact element cannot be found.
 *     Defaults to 'SourceMapConsumer.GREATEST_LOWER_BOUND'.
 *
 * and an object is returned with the following properties:
 *
 *   - source: The original source file, or null.
 *   - line: The line number in the original source, or null.  The
 *     line number is 1-based.
 *   - column: The column number in the original source, or null.  The
 *     column number is 0-based.
 *   - name: The original identifier, or null.
 */
BasicSourceMapConsumer.prototype.originalPositionFor =
  function SourceMapConsumer_originalPositionFor(aArgs) {
    var needle = {
      generatedLine: util.getArg(aArgs, 'line'),
      generatedColumn: util.getArg(aArgs, 'column')
    };

    var index = this._findMapping(
      needle,
      this._generatedMappings,
      "generatedLine",
      "generatedColumn",
      util.compareByGeneratedPositionsDeflated,
      util.getArg(aArgs, 'bias', SourceMapConsumer.GREATEST_LOWER_BOUND)
    );

    if (index >= 0) {
      var mapping = this._generatedMappings[index];

      if (mapping.generatedLine === needle.generatedLine) {
        var source = util.getArg(mapping, 'source', null);
        if (source !== null) {
          source = this._sources.at(source);
          source = util.computeSourceURL(this.sourceRoot, source, this._sourceMapURL);
        }
        var name = util.getArg(mapping, 'name', null);
        if (name !== null) {
          name = this._names.at(name);
        }
        return {
          source: source,
          line: util.getArg(mapping, 'originalLine', null),
          column: util.getArg(mapping, 'originalColumn', null),
          name: name
        };
      }
    }

    return {
      source: null,
      line: null,
      column: null,
      name: null
    };
  };

/**
 * Return true if we have the source content for every source in the source
 * map, false otherwise.
 */
BasicSourceMapConsumer.prototype.hasContentsOfAllSources =
  function BasicSourceMapConsumer_hasContentsOfAllSources() {
    if (!this.sourcesContent) {
      return false;
    }
    return this.sourcesContent.length >= this._sources.size() &&
      !this.sourcesContent.some(function (sc) { return sc == null; });
  };

/**
 * Returns the original source content. The only argument is the url of the
 * original source file. Returns null if no original source content is
 * available.
 */
BasicSourceMapConsumer.prototype.sourceContentFor =
  function SourceMapConsumer_sourceContentFor(aSource, nullOnMissing) {
    if (!this.sourcesContent) {
      return null;
    }

    var index = this._findSourceIndex(aSource);
    if (index >= 0) {
      return this.sourcesContent[index];
    }

    var relativeSource = aSource;
    if (this.sourceRoot != null) {
      relativeSource = util.relative(this.sourceRoot, relativeSource);
    }

    var url;
    if (this.sourceRoot != null
        && (url = util.urlParse(this.sourceRoot))) {
      // XXX: file:// URIs and absolute paths lead to unexpected behavior for
      // many users. We can help them out when they expect file:// URIs to
      // behave like it would if they were running a local HTTP server. See
      // https://bugzilla.mozilla.org/show_bug.cgi?id=885597.
      var fileUriAbsPath = relativeSource.replace(/^file:\/\//, "");
      if (url.scheme == "file"
          && this._sources.has(fileUriAbsPath)) {
        return this.sourcesContent[this._sources.indexOf(fileUriAbsPath)]
      }

      if ((!url.path || url.path == "/")
          && this._sources.has("/" + relativeSource)) {
        return this.sourcesContent[this._sources.indexOf("/" + relativeSource)];
      }
    }

    // This function is used recursively from
    // IndexedSourceMapConsumer.prototype.sourceContentFor. In that case, we
    // don't want to throw if we can't find the source - we just want to
    // return null, so we provide a flag to exit gracefully.
    if (nullOnMissing) {
      return null;
    }
    else {
      throw new Error('"' + relativeSource + '" is not in the SourceMap.');
    }
  };

/**
 * Returns the generated line and column information for the original source,
 * line, and column positions provided. The only argument is an object with
 * the following properties:
 *
 *   - source: The filename of the original source.
 *   - line: The line number in the original source.  The line number
 *     is 1-based.
 *   - column: The column number in the original source.  The column
 *     number is 0-based.
 *   - bias: Either 'SourceMapConsumer.GREATEST_LOWER_BOUND' or
 *     'SourceMapConsumer.LEAST_UPPER_BOUND'. Specifies whether to return the
 *     closest element that is smaller than or greater than the one we are
 *     searching for, respectively, if the exact element cannot be found.
 *     Defaults to 'SourceMapConsumer.GREATEST_LOWER_BOUND'.
 *
 * and an object is returned with the following properties:
 *
 *   - line: The line number in the generated source, or null.  The
 *     line number is 1-based.
 *   - column: The column number in the generated source, or null.
 *     The column number is 0-based.
 */
BasicSourceMapConsumer.prototype.generatedPositionFor =
  function SourceMapConsumer_generatedPositionFor(aArgs) {
    var source = util.getArg(aArgs, 'source');
    source = this._findSourceIndex(source);
    if (source < 0) {
      return {
        line: null,
        column: null,
        lastColumn: null
      };
    }

    var needle = {
      source: source,
      originalLine: util.getArg(aArgs, 'line'),
      originalColumn: util.getArg(aArgs, 'column')
    };

    var index = this._findMapping(
      needle,
      this._originalMappings,
      "originalLine",
      "originalColumn",
      util.compareByOriginalPositions,
      util.getArg(aArgs, 'bias', SourceMapConsumer.GREATEST_LOWER_BOUND)
    );

    if (index >= 0) {
      var mapping = this._originalMappings[index];

      if (mapping.source === needle.source) {
        return {
          line: util.getArg(mapping, 'generatedLine', null),
          column: util.getArg(mapping, 'generatedColumn', null),
          lastColumn: util.getArg(mapping, 'lastGeneratedColumn', null)
        };
      }
    }

    return {
      line: null,
      column: null,
      lastColumn: null
    };
  };

exports.BasicSourceMapConsumer = BasicSourceMapConsumer;

/**
 * An IndexedSourceMapConsumer instance represents a parsed source map which
 * we can query for information. It differs from BasicSourceMapConsumer in
 * that it takes "indexed" source maps (i.e. ones with a "sections" field) as
 * input.
 *
 * The first parameter is a raw source map (either as a JSON string, or already
 * parsed to an object). According to the spec for indexed source maps, they
 * have the following attributes:
 *
 *   - version: Which version of the source map spec this map is following.
 *   - file: Optional. The generated file this source map is associated with.
 *   - sections: A list of section definitions.
 *
 * Each value under the "sections" field has two fields:
 *   - offset: The offset into the original specified at which this section
 *       begins to apply, defined as an object with a "line" and "column"
 *       field.
 *   - map: A source map definition. This source map could also be indexed,
 *       but doesn't have to be.
 *
 * Instead of the "map" field, it's also possible to have a "url" field
 * specifying a URL to retrieve a source map from, but that's currently
 * unsupported.
 *
 * Here's an example source map, taken from the source map spec[0], but
 * modified to omit a section which uses the "url" field.
 *
 *  {
 *    version : 3,
 *    file: "app.js",
 *    sections: [{
 *      offset: {line:100, column:10},
 *      map: {
 *        version : 3,
 *        file: "section.js",
 *        sources: ["foo.js", "bar.js"],
 *        names: ["src", "maps", "are", "fun"],
 *        mappings: "AAAA,E;;ABCDE;"
 *      }
 *    }],
 *  }
 *
 * The second parameter, if given, is a string whose value is the URL
 * at which the source map was found.  This URL is used to compute the
 * sources array.
 *
 * [0]: https://docs.google.com/document/d/1U1RGAehQwRypUTovF1KRlpiOFze0b-_2gc6fAH0KY0k/edit#heading=h.535es3xeprgt
 */
function IndexedSourceMapConsumer(aSourceMap, aSourceMapURL) {
  var sourceMap = aSourceMap;
  if (typeof aSourceMap === 'string') {
    sourceMap = util.parseSourceMapInput(aSourceMap);
  }

  var version = util.getArg(sourceMap, 'version');
  var sections = util.getArg(sourceMap, 'sections');

  if (version != this._version) {
    throw new Error('Unsupported version: ' + version);
  }

  this._sources = new ArraySet();
  this._names = new ArraySet();

  var lastOffset = {
    line: -1,
    column: 0
  };
  this._sections = sections.map(function (s) {
    if (s.url) {
      // The url field will require support for asynchronicity.
      // See https://github.com/mozilla/source-map/issues/16
      throw new Error('Support for url field in sections not implemented.');
    }
    var offset = util.getArg(s, 'offset');
    var offsetLine = util.getArg(offset, 'line');
    var offsetColumn = util.getArg(offset, 'column');

    if (offsetLine < lastOffset.line ||
        (offsetLine === lastOffset.line && offsetColumn < lastOffset.column)) {
      throw new Error('Section offsets must be ordered and non-overlapping.');
    }
    lastOffset = offset;

    return {
      generatedOffset: {
        // The offset fields are 0-based, but we use 1-based indices when
        // encoding/decoding from VLQ.
        generatedLine: offsetLine + 1,
        generatedColumn: offsetColumn + 1
      },
      consumer: new SourceMapConsumer(util.getArg(s, 'map'), aSourceMapURL)
    }
  });
}

IndexedSourceMapConsumer.prototype = Object.create(SourceMapConsumer.prototype);
IndexedSourceMapConsumer.prototype.constructor = SourceMapConsumer;

/**
 * The version of the source mapping spec that we are consuming.
 */
IndexedSourceMapConsumer.prototype._version = 3;

/**
 * The list of original sources.
 */
Object.defineProperty(IndexedSourceMapConsumer.prototype, 'sources', {
  get: function () {
    var sources = [];
    for (var i = 0; i < this._sections.length; i++) {
      for (var j = 0; j < this._sections[i].consumer.sources.length; j++) {
        sources.push(this._sections[i].consumer.sources[j]);
      }
    }
    return sources;
  }
});

/**
 * Returns the original source, line, and column information for the generated
 * source's line and column positions provided. The only argument is an object
 * with the following properties:
 *
 *   - line: The line number in the generated source.  The line number
 *     is 1-based.
 *   - column: The column number in the generated source.  The column
 *     number is 0-based.
 *
 * and an object is returned with the following properties:
 *
 *   - source: The original source file, or null.
 *   - line: The line number in the original source, or null.  The
 *     line number is 1-based.
 *   - column: The column number in the original source, or null.  The
 *     column number is 0-based.
 *   - name: The original identifier, or null.
 */
IndexedSourceMapConsumer.prototype.originalPositionFor =
  function IndexedSourceMapConsumer_originalPositionFor(aArgs) {
    var needle = {
      generatedLine: util.getArg(aArgs, 'line'),
      generatedColumn: util.getArg(aArgs, 'column')
    };

    // Find the section containing the generated position we're trying to map
    // to an original position.
    var sectionIndex = binarySearch.search(needle, this._sections,
      function(needle, section) {
        var cmp = needle.generatedLine - section.generatedOffset.generatedLine;
        if (cmp) {
          return cmp;
        }

        return (needle.generatedColumn -
                section.generatedOffset.generatedColumn);
      });
    var section = this._sections[sectionIndex];

    if (!section) {
      return {
        source: null,
        line: null,
        column: null,
        name: null
      };
    }

    return section.consumer.originalPositionFor({
      line: needle.generatedLine -
        (section.generatedOffset.generatedLine - 1),
      column: needle.generatedColumn -
        (section.generatedOffset.generatedLine === needle.generatedLine
         ? section.generatedOffset.generatedColumn - 1
         : 0),
      bias: aArgs.bias
    });
  };

/**
 * Return true if we have the source content for every source in the source
 * map, false otherwise.
 */
IndexedSourceMapConsumer.prototype.hasContentsOfAllSources =
  function IndexedSourceMapConsumer_hasContentsOfAllSources() {
    return this._sections.every(function (s) {
      return s.consumer.hasContentsOfAllSources();
    });
  };

/**
 * Returns the original source content. The only argument is the url of the
 * original source file. Returns null if no original source content is
 * available.
 */
IndexedSourceMapConsumer.prototype.sourceContentFor =
  function IndexedSourceMapConsumer_sourceContentFor(aSource, nullOnMissing) {
    for (var i = 0; i < this._sections.length; i++) {
      var section = this._sections[i];

      var content = section.consumer.sourceContentFor(aSource, true);
      if (content) {
        return content;
      }
    }
    if (nullOnMissing) {
      return null;
    }
    else {
      throw new Error('"' + aSource + '" is not in the SourceMap.');
    }
  };

/**
 * Returns the generated line and column information for the original source,
 * line, and column positions provided. The only argument is an object with
 * the following properties:
 *
 *   - source: The filename of the original source.
 *   - line: The line number in the original source.  The line number
 *     is 1-based.
 *   - column: The column number in the original source.  The column
 *     number is 0-based.
 *
 * and an object is returned with the following properties:
 *
 *   - line: The line number in the generated source, or null.  The
 *     line number is 1-based. 
 *   - column: The column number in the generated source, or null.
 *     The column number is 0-based.
 */
IndexedSourceMapConsumer.prototype.generatedPositionFor =
  function IndexedSourceMapConsumer_generatedPositionFor(aArgs) {
    for (var i = 0; i < this._sections.length; i++) {
      var section = this._sections[i];

      // Only consider this section if the requested source is in the list of
      // sources of the consumer.
      if (section.consumer._findSourceIndex(util.getArg(aArgs, 'source')) === -1) {
        continue;
      }
      var generatedPosition = section.consumer.generatedPositionFor(aArgs);
      if (generatedPosition) {
        var ret = {
          line: generatedPosition.line +
            (section.generatedOffset.generatedLine - 1),
          column: generatedPosition.column +
            (section.generatedOffset.generatedLine === generatedPosition.line
             ? section.generatedOffset.generatedColumn - 1
             : 0)
        };
        return ret;
      }
    }

    return {
      line: null,
      column: null
    };
  };

/**
 * Parse the mappings in a string in to a data structure which we can easily
 * query (the ordered arrays in the `this.__generatedMappings` and
 * `this.__originalMappings` properties).
 */
IndexedSourceMapConsumer.prototype._parseMappings =
  function IndexedSourceMapConsumer_parseMappings(aStr, aSourceRoot) {
    this.__generatedMappings = [];
    this.__originalMappings = [];
    for (var i = 0; i < this._sections.length; i++) {
      var section = this._sections[i];
      var sectionMappings = section.consumer._generatedMappings;
      for (var j = 0; j < sectionMappings.length; j++) {
        var mapping = sectionMappings[j];

        var source = section.consumer._sources.at(mapping.source);
        source = util.computeSourceURL(section.consumer.sourceRoot, source, this._sourceMapURL);
        this._sources.add(source);
        source = this._sources.indexOf(source);

        var name = null;
        if (mapping.name) {
          name = section.consumer._names.at(mapping.name);
          this._names.add(name);
          name = this._names.indexOf(name);
        }

        // The mappings coming from the consumer for the section have
        // generated positions relative to the start of the section, so we
        // need to offset them to be relative to the start of the concatenated
        // generated file.
        var adjustedMapping = {
          source: source,
          generatedLine: mapping.generatedLine +
            (section.generatedOffset.generatedLine - 1),
          generatedColumn: mapping.generatedColumn +
            (section.generatedOffset.generatedLine === mapping.generatedLine
            ? section.generatedOffset.generatedColumn - 1
            : 0),
          originalLine: mapping.originalLine,
          originalColumn: mapping.originalColumn,
          name: name
        };

        this.__generatedMappings.push(adjustedMapping);
        if (typeof adjustedMapping.originalLine === 'number') {
          this.__originalMappings.push(adjustedMapping);
        }
      }
    }

    quickSort(this.__generatedMappings, util.compareByGeneratedPositionsDeflated);
    quickSort(this.__originalMappings, util.compareByOriginalPositions);
  };

exports.IndexedSourceMapConsumer = IndexedSourceMapConsumer;

},{"./array-set":6,"./base64-vlq":7,"./binary-search":9,"./quick-sort":11,"./util":15}],13:[function(require,module,exports){
/* -*- Mode: js; js-indent-level: 2; -*- */
/*
 * Copyright 2011 Mozilla Foundation and contributors
 * Licensed under the New BSD license. See LICENSE or:
 * http://opensource.org/licenses/BSD-3-Clause
 */

var base64VLQ = require('./base64-vlq');
var util = require('./util');
var ArraySet = require('./array-set').ArraySet;
var MappingList = require('./mapping-list').MappingList;

/**
 * An instance of the SourceMapGenerator represents a source map which is
 * being built incrementally. You may pass an object with the following
 * properties:
 *
 *   - file: The filename of the generated source.
 *   - sourceRoot: A root for all relative URLs in this source map.
 */
function SourceMapGenerator(aArgs) {
  if (!aArgs) {
    aArgs = {};
  }
  this._file = util.getArg(aArgs, 'file', null);
  this._sourceRoot = util.getArg(aArgs, 'sourceRoot', null);
  this._skipValidation = util.getArg(aArgs, 'skipValidation', false);
  this._sources = new ArraySet();
  this._names = new ArraySet();
  this._mappings = new MappingList();
  this._sourcesContents = null;
}

SourceMapGenerator.prototype._version = 3;

/**
 * Creates a new SourceMapGenerator based on a SourceMapConsumer
 *
 * @param aSourceMapConsumer The SourceMap.
 */
SourceMapGenerator.fromSourceMap =
  function SourceMapGenerator_fromSourceMap(aSourceMapConsumer) {
    var sourceRoot = aSourceMapConsumer.sourceRoot;
    var generator = new SourceMapGenerator({
      file: aSourceMapConsumer.file,
      sourceRoot: sourceRoot
    });
    aSourceMapConsumer.eachMapping(function (mapping) {
      var newMapping = {
        generated: {
          line: mapping.generatedLine,
          column: mapping.generatedColumn
        }
      };

      if (mapping.source != null) {
        newMapping.source = mapping.source;
        if (sourceRoot != null) {
          newMapping.source = util.relative(sourceRoot, newMapping.source);
        }

        newMapping.original = {
          line: mapping.originalLine,
          column: mapping.originalColumn
        };

        if (mapping.name != null) {
          newMapping.name = mapping.name;
        }
      }

      generator.addMapping(newMapping);
    });
    aSourceMapConsumer.sources.forEach(function (sourceFile) {
      var sourceRelative = sourceFile;
      if (sourceRoot !== null) {
        sourceRelative = util.relative(sourceRoot, sourceFile);
      }

      if (!generator._sources.has(sourceRelative)) {
        generator._sources.add(sourceRelative);
      }

      var content = aSourceMapConsumer.sourceContentFor(sourceFile);
      if (content != null) {
        generator.setSourceContent(sourceFile, content);
      }
    });
    return generator;
  };

/**
 * Add a single mapping from original source line and column to the generated
 * source's line and column for this source map being created. The mapping
 * object should have the following properties:
 *
 *   - generated: An object with the generated line and column positions.
 *   - original: An object with the original line and column positions.
 *   - source: The original source file (relative to the sourceRoot).
 *   - name: An optional original token name for this mapping.
 */
SourceMapGenerator.prototype.addMapping =
  function SourceMapGenerator_addMapping(aArgs) {
    var generated = util.getArg(aArgs, 'generated');
    var original = util.getArg(aArgs, 'original', null);
    var source = util.getArg(aArgs, 'source', null);
    var name = util.getArg(aArgs, 'name', null);

    if (!this._skipValidation) {
      this._validateMapping(generated, original, source, name);
    }

    if (source != null) {
      source = String(source);
      if (!this._sources.has(source)) {
        this._sources.add(source);
      }
    }

    if (name != null) {
      name = String(name);
      if (!this._names.has(name)) {
        this._names.add(name);
      }
    }

    this._mappings.add({
      generatedLine: generated.line,
      generatedColumn: generated.column,
      originalLine: original != null && original.line,
      originalColumn: original != null && original.column,
      source: source,
      name: name
    });
  };

/**
 * Set the source content for a source file.
 */
SourceMapGenerator.prototype.setSourceContent =
  function SourceMapGenerator_setSourceContent(aSourceFile, aSourceContent) {
    var source = aSourceFile;
    if (this._sourceRoot != null) {
      source = util.relative(this._sourceRoot, source);
    }

    if (aSourceContent != null) {
      // Add the source content to the _sourcesContents map.
      // Create a new _sourcesContents map if the property is null.
      if (!this._sourcesContents) {
        this._sourcesContents = Object.create(null);
      }
      this._sourcesContents[util.toSetString(source)] = aSourceContent;
    } else if (this._sourcesContents) {
      // Remove the source file from the _sourcesContents map.
      // If the _sourcesContents map is empty, set the property to null.
      delete this._sourcesContents[util.toSetString(source)];
      if (Object.keys(this._sourcesContents).length === 0) {
        this._sourcesContents = null;
      }
    }
  };

/**
 * Applies the mappings of a sub-source-map for a specific source file to the
 * source map being generated. Each mapping to the supplied source file is
 * rewritten using the supplied source map. Note: The resolution for the
 * resulting mappings is the minimium of this map and the supplied map.
 *
 * @param aSourceMapConsumer The source map to be applied.
 * @param aSourceFile Optional. The filename of the source file.
 *        If omitted, SourceMapConsumer's file property will be used.
 * @param aSourceMapPath Optional. The dirname of the path to the source map
 *        to be applied. If relative, it is relative to the SourceMapConsumer.
 *        This parameter is needed when the two source maps aren't in the same
 *        directory, and the source map to be applied contains relative source
 *        paths. If so, those relative source paths need to be rewritten
 *        relative to the SourceMapGenerator.
 */
SourceMapGenerator.prototype.applySourceMap =
  function SourceMapGenerator_applySourceMap(aSourceMapConsumer, aSourceFile, aSourceMapPath) {
    var sourceFile = aSourceFile;
    // If aSourceFile is omitted, we will use the file property of the SourceMap
    if (aSourceFile == null) {
      if (aSourceMapConsumer.file == null) {
        throw new Error(
          'SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, ' +
          'or the source map\'s "file" property. Both were omitted.'
        );
      }
      sourceFile = aSourceMapConsumer.file;
    }
    var sourceRoot = this._sourceRoot;
    // Make "sourceFile" relative if an absolute Url is passed.
    if (sourceRoot != null) {
      sourceFile = util.relative(sourceRoot, sourceFile);
    }
    // Applying the SourceMap can add and remove items from the sources and
    // the names array.
    var newSources = new ArraySet();
    var newNames = new ArraySet();

    // Find mappings for the "sourceFile"
    this._mappings.unsortedForEach(function (mapping) {
      if (mapping.source === sourceFile && mapping.originalLine != null) {
        // Check if it can be mapped by the source map, then update the mapping.
        var original = aSourceMapConsumer.originalPositionFor({
          line: mapping.originalLine,
          column: mapping.originalColumn
        });
        if (original.source != null) {
          // Copy mapping
          mapping.source = original.source;
          if (aSourceMapPath != null) {
            mapping.source = util.join(aSourceMapPath, mapping.source)
          }
          if (sourceRoot != null) {
            mapping.source = util.relative(sourceRoot, mapping.source);
          }
          mapping.originalLine = original.line;
          mapping.originalColumn = original.column;
          if (original.name != null) {
            mapping.name = original.name;
          }
        }
      }

      var source = mapping.source;
      if (source != null && !newSources.has(source)) {
        newSources.add(source);
      }

      var name = mapping.name;
      if (name != null && !newNames.has(name)) {
        newNames.add(name);
      }

    }, this);
    this._sources = newSources;
    this._names = newNames;

    // Copy sourcesContents of applied map.
    aSourceMapConsumer.sources.forEach(function (sourceFile) {
      var content = aSourceMapConsumer.sourceContentFor(sourceFile);
      if (content != null) {
        if (aSourceMapPath != null) {
          sourceFile = util.join(aSourceMapPath, sourceFile);
        }
        if (sourceRoot != null) {
          sourceFile = util.relative(sourceRoot, sourceFile);
        }
        this.setSourceContent(sourceFile, content);
      }
    }, this);
  };

/**
 * A mapping can have one of the three levels of data:
 *
 *   1. Just the generated position.
 *   2. The Generated position, original position, and original source.
 *   3. Generated and original position, original source, as well as a name
 *      token.
 *
 * To maintain consistency, we validate that any new mapping being added falls
 * in to one of these categories.
 */
SourceMapGenerator.prototype._validateMapping =
  function SourceMapGenerator_validateMapping(aGenerated, aOriginal, aSource,
                                              aName) {
    // When aOriginal is truthy but has empty values for .line and .column,
    // it is most likely a programmer error. In this case we throw a very
    // specific error message to try to guide them the right way.
    // For example: https://github.com/Polymer/polymer-bundler/pull/519
    if (aOriginal && typeof aOriginal.line !== 'number' && typeof aOriginal.column !== 'number') {
        throw new Error(
            'original.line and original.column are not numbers -- you probably meant to omit ' +
            'the original mapping entirely and only map the generated position. If so, pass ' +
            'null for the original mapping instead of an object with empty or null values.'
        );
    }

    if (aGenerated && 'line' in aGenerated && 'column' in aGenerated
        && aGenerated.line > 0 && aGenerated.column >= 0
        && !aOriginal && !aSource && !aName) {
      // Case 1.
      return;
    }
    else if (aGenerated && 'line' in aGenerated && 'column' in aGenerated
             && aOriginal && 'line' in aOriginal && 'column' in aOriginal
             && aGenerated.line > 0 && aGenerated.column >= 0
             && aOriginal.line > 0 && aOriginal.column >= 0
             && aSource) {
      // Cases 2 and 3.
      return;
    }
    else {
      throw new Error('Invalid mapping: ' + JSON.stringify({
        generated: aGenerated,
        source: aSource,
        original: aOriginal,
        name: aName
      }));
    }
  };

/**
 * Serialize the accumulated mappings in to the stream of base 64 VLQs
 * specified by the source map format.
 */
SourceMapGenerator.prototype._serializeMappings =
  function SourceMapGenerator_serializeMappings() {
    var previousGeneratedColumn = 0;
    var previousGeneratedLine = 1;
    var previousOriginalColumn = 0;
    var previousOriginalLine = 0;
    var previousName = 0;
    var previousSource = 0;
    var result = '';
    var next;
    var mapping;
    var nameIdx;
    var sourceIdx;

    var mappings = this._mappings.toArray();
    for (var i = 0, len = mappings.length; i < len; i++) {
      mapping = mappings[i];
      next = ''

      if (mapping.generatedLine !== previousGeneratedLine) {
        previousGeneratedColumn = 0;
        while (mapping.generatedLine !== previousGeneratedLine) {
          next += ';';
          previousGeneratedLine++;
        }
      }
      else {
        if (i > 0) {
          if (!util.compareByGeneratedPositionsInflated(mapping, mappings[i - 1])) {
            continue;
          }
          next += ',';
        }
      }

      next += base64VLQ.encode(mapping.generatedColumn
                                 - previousGeneratedColumn);
      previousGeneratedColumn = mapping.generatedColumn;

      if (mapping.source != null) {
        sourceIdx = this._sources.indexOf(mapping.source);
        next += base64VLQ.encode(sourceIdx - previousSource);
        previousSource = sourceIdx;

        // lines are stored 0-based in SourceMap spec version 3
        next += base64VLQ.encode(mapping.originalLine - 1
                                   - previousOriginalLine);
        previousOriginalLine = mapping.originalLine - 1;

        next += base64VLQ.encode(mapping.originalColumn
                                   - previousOriginalColumn);
        previousOriginalColumn = mapping.originalColumn;

        if (mapping.name != null) {
          nameIdx = this._names.indexOf(mapping.name);
          next += base64VLQ.encode(nameIdx - previousName);
          previousName = nameIdx;
        }
      }

      result += next;
    }

    return result;
  };

SourceMapGenerator.prototype._generateSourcesContent =
  function SourceMapGenerator_generateSourcesContent(aSources, aSourceRoot) {
    return aSources.map(function (source) {
      if (!this._sourcesContents) {
        return null;
      }
      if (aSourceRoot != null) {
        source = util.relative(aSourceRoot, source);
      }
      var key = util.toSetString(source);
      return Object.prototype.hasOwnProperty.call(this._sourcesContents, key)
        ? this._sourcesContents[key]
        : null;
    }, this);
  };

/**
 * Externalize the source map.
 */
SourceMapGenerator.prototype.toJSON =
  function SourceMapGenerator_toJSON() {
    var map = {
      version: this._version,
      sources: this._sources.toArray(),
      names: this._names.toArray(),
      mappings: this._serializeMappings()
    };
    if (this._file != null) {
      map.file = this._file;
    }
    if (this._sourceRoot != null) {
      map.sourceRoot = this._sourceRoot;
    }
    if (this._sourcesContents) {
      map.sourcesContent = this._generateSourcesContent(map.sources, map.sourceRoot);
    }

    return map;
  };

/**
 * Render the source map being generated to a string.
 */
SourceMapGenerator.prototype.toString =
  function SourceMapGenerator_toString() {
    return JSON.stringify(this.toJSON());
  };

exports.SourceMapGenerator = SourceMapGenerator;

},{"./array-set":6,"./base64-vlq":7,"./mapping-list":10,"./util":15}],14:[function(require,module,exports){
/* -*- Mode: js; js-indent-level: 2; -*- */
/*
 * Copyright 2011 Mozilla Foundation and contributors
 * Licensed under the New BSD license. See LICENSE or:
 * http://opensource.org/licenses/BSD-3-Clause
 */

var SourceMapGenerator = require('./source-map-generator').SourceMapGenerator;
var util = require('./util');

// Matches a Windows-style `\r\n` newline or a `\n` newline used by all other
// operating systems these days (capturing the result).
var REGEX_NEWLINE = /(\r?\n)/;

// Newline character code for charCodeAt() comparisons
var NEWLINE_CODE = 10;

// Private symbol for identifying `SourceNode`s when multiple versions of
// the source-map library are loaded. This MUST NOT CHANGE across
// versions!
var isSourceNode = "$$$isSourceNode$$$";

/**
 * SourceNodes provide a way to abstract over interpolating/concatenating
 * snippets of generated JavaScript source code while maintaining the line and
 * column information associated with the original source code.
 *
 * @param aLine The original line number.
 * @param aColumn The original column number.
 * @param aSource The original source's filename.
 * @param aChunks Optional. An array of strings which are snippets of
 *        generated JS, or other SourceNodes.
 * @param aName The original identifier.
 */
function SourceNode(aLine, aColumn, aSource, aChunks, aName) {
  this.children = [];
  this.sourceContents = {};
  this.line = aLine == null ? null : aLine;
  this.column = aColumn == null ? null : aColumn;
  this.source = aSource == null ? null : aSource;
  this.name = aName == null ? null : aName;
  this[isSourceNode] = true;
  if (aChunks != null) this.add(aChunks);
}

/**
 * Creates a SourceNode from generated code and a SourceMapConsumer.
 *
 * @param aGeneratedCode The generated code
 * @param aSourceMapConsumer The SourceMap for the generated code
 * @param aRelativePath Optional. The path that relative sources in the
 *        SourceMapConsumer should be relative to.
 */
SourceNode.fromStringWithSourceMap =
  function SourceNode_fromStringWithSourceMap(aGeneratedCode, aSourceMapConsumer, aRelativePath) {
    // The SourceNode we want to fill with the generated code
    // and the SourceMap
    var node = new SourceNode();

    // All even indices of this array are one line of the generated code,
    // while all odd indices are the newlines between two adjacent lines
    // (since `REGEX_NEWLINE` captures its match).
    // Processed fragments are accessed by calling `shiftNextLine`.
    var remainingLines = aGeneratedCode.split(REGEX_NEWLINE);
    var remainingLinesIndex = 0;
    var shiftNextLine = function() {
      var lineContents = getNextLine();
      // The last line of a file might not have a newline.
      var newLine = getNextLine() || "";
      return lineContents + newLine;

      function getNextLine() {
        return remainingLinesIndex < remainingLines.length ?
            remainingLines[remainingLinesIndex++] : undefined;
      }
    };

    // We need to remember the position of "remainingLines"
    var lastGeneratedLine = 1, lastGeneratedColumn = 0;

    // The generate SourceNodes we need a code range.
    // To extract it current and last mapping is used.
    // Here we store the last mapping.
    var lastMapping = null;

    aSourceMapConsumer.eachMapping(function (mapping) {
      if (lastMapping !== null) {
        // We add the code from "lastMapping" to "mapping":
        // First check if there is a new line in between.
        if (lastGeneratedLine < mapping.generatedLine) {
          // Associate first line with "lastMapping"
          addMappingWithCode(lastMapping, shiftNextLine());
          lastGeneratedLine++;
          lastGeneratedColumn = 0;
          // The remaining code is added without mapping
        } else {
          // There is no new line in between.
          // Associate the code between "lastGeneratedColumn" and
          // "mapping.generatedColumn" with "lastMapping"
          var nextLine = remainingLines[remainingLinesIndex] || '';
          var code = nextLine.substr(0, mapping.generatedColumn -
                                        lastGeneratedColumn);
          remainingLines[remainingLinesIndex] = nextLine.substr(mapping.generatedColumn -
                                              lastGeneratedColumn);
          lastGeneratedColumn = mapping.generatedColumn;
          addMappingWithCode(lastMapping, code);
          // No more remaining code, continue
          lastMapping = mapping;
          return;
        }
      }
      // We add the generated code until the first mapping
      // to the SourceNode without any mapping.
      // Each line is added as separate string.
      while (lastGeneratedLine < mapping.generatedLine) {
        node.add(shiftNextLine());
        lastGeneratedLine++;
      }
      if (lastGeneratedColumn < mapping.generatedColumn) {
        var nextLine = remainingLines[remainingLinesIndex] || '';
        node.add(nextLine.substr(0, mapping.generatedColumn));
        remainingLines[remainingLinesIndex] = nextLine.substr(mapping.generatedColumn);
        lastGeneratedColumn = mapping.generatedColumn;
      }
      lastMapping = mapping;
    }, this);
    // We have processed all mappings.
    if (remainingLinesIndex < remainingLines.length) {
      if (lastMapping) {
        // Associate the remaining code in the current line with "lastMapping"
        addMappingWithCode(lastMapping, shiftNextLine());
      }
      // and add the remaining lines without any mapping
      node.add(remainingLines.splice(remainingLinesIndex).join(""));
    }

    // Copy sourcesContent into SourceNode
    aSourceMapConsumer.sources.forEach(function (sourceFile) {
      var content = aSourceMapConsumer.sourceContentFor(sourceFile);
      if (content != null) {
        if (aRelativePath != null) {
          sourceFile = util.join(aRelativePath, sourceFile);
        }
        node.setSourceContent(sourceFile, content);
      }
    });

    return node;

    function addMappingWithCode(mapping, code) {
      if (mapping === null || mapping.source === undefined) {
        node.add(code);
      } else {
        var source = aRelativePath
          ? util.join(aRelativePath, mapping.source)
          : mapping.source;
        node.add(new SourceNode(mapping.originalLine,
                                mapping.originalColumn,
                                source,
                                code,
                                mapping.name));
      }
    }
  };

/**
 * Add a chunk of generated JS to this source node.
 *
 * @param aChunk A string snippet of generated JS code, another instance of
 *        SourceNode, or an array where each member is one of those things.
 */
SourceNode.prototype.add = function SourceNode_add(aChunk) {
  if (Array.isArray(aChunk)) {
    aChunk.forEach(function (chunk) {
      this.add(chunk);
    }, this);
  }
  else if (aChunk[isSourceNode] || typeof aChunk === "string") {
    if (aChunk) {
      this.children.push(aChunk);
    }
  }
  else {
    throw new TypeError(
      "Expected a SourceNode, string, or an array of SourceNodes and strings. Got " + aChunk
    );
  }
  return this;
};

/**
 * Add a chunk of generated JS to the beginning of this source node.
 *
 * @param aChunk A string snippet of generated JS code, another instance of
 *        SourceNode, or an array where each member is one of those things.
 */
SourceNode.prototype.prepend = function SourceNode_prepend(aChunk) {
  if (Array.isArray(aChunk)) {
    for (var i = aChunk.length-1; i >= 0; i--) {
      this.prepend(aChunk[i]);
    }
  }
  else if (aChunk[isSourceNode] || typeof aChunk === "string") {
    this.children.unshift(aChunk);
  }
  else {
    throw new TypeError(
      "Expected a SourceNode, string, or an array of SourceNodes and strings. Got " + aChunk
    );
  }
  return this;
};

/**
 * Walk over the tree of JS snippets in this node and its children. The
 * walking function is called once for each snippet of JS and is passed that
 * snippet and the its original associated source's line/column location.
 *
 * @param aFn The traversal function.
 */
SourceNode.prototype.walk = function SourceNode_walk(aFn) {
  var chunk;
  for (var i = 0, len = this.children.length; i < len; i++) {
    chunk = this.children[i];
    if (chunk[isSourceNode]) {
      chunk.walk(aFn);
    }
    else {
      if (chunk !== '') {
        aFn(chunk, { source: this.source,
                     line: this.line,
                     column: this.column,
                     name: this.name });
      }
    }
  }
};

/**
 * Like `String.prototype.join` except for SourceNodes. Inserts `aStr` between
 * each of `this.children`.
 *
 * @param aSep The separator.
 */
SourceNode.prototype.join = function SourceNode_join(aSep) {
  var newChildren;
  var i;
  var len = this.children.length;
  if (len > 0) {
    newChildren = [];
    for (i = 0; i < len-1; i++) {
      newChildren.push(this.children[i]);
      newChildren.push(aSep);
    }
    newChildren.push(this.children[i]);
    this.children = newChildren;
  }
  return this;
};

/**
 * Call String.prototype.replace on the very right-most source snippet. Useful
 * for trimming whitespace from the end of a source node, etc.
 *
 * @param aPattern The pattern to replace.
 * @param aReplacement The thing to replace the pattern with.
 */
SourceNode.prototype.replaceRight = function SourceNode_replaceRight(aPattern, aReplacement) {
  var lastChild = this.children[this.children.length - 1];
  if (lastChild[isSourceNode]) {
    lastChild.replaceRight(aPattern, aReplacement);
  }
  else if (typeof lastChild === 'string') {
    this.children[this.children.length - 1] = lastChild.replace(aPattern, aReplacement);
  }
  else {
    this.children.push(''.replace(aPattern, aReplacement));
  }
  return this;
};

/**
 * Set the source content for a source file. This will be added to the SourceMapGenerator
 * in the sourcesContent field.
 *
 * @param aSourceFile The filename of the source file
 * @param aSourceContent The content of the source file
 */
SourceNode.prototype.setSourceContent =
  function SourceNode_setSourceContent(aSourceFile, aSourceContent) {
    this.sourceContents[util.toSetString(aSourceFile)] = aSourceContent;
  };

/**
 * Walk over the tree of SourceNodes. The walking function is called for each
 * source file content and is passed the filename and source content.
 *
 * @param aFn The traversal function.
 */
SourceNode.prototype.walkSourceContents =
  function SourceNode_walkSourceContents(aFn) {
    for (var i = 0, len = this.children.length; i < len; i++) {
      if (this.children[i][isSourceNode]) {
        this.children[i].walkSourceContents(aFn);
      }
    }

    var sources = Object.keys(this.sourceContents);
    for (var i = 0, len = sources.length; i < len; i++) {
      aFn(util.fromSetString(sources[i]), this.sourceContents[sources[i]]);
    }
  };

/**
 * Return the string representation of this source node. Walks over the tree
 * and concatenates all the various snippets together to one string.
 */
SourceNode.prototype.toString = function SourceNode_toString() {
  var str = "";
  this.walk(function (chunk) {
    str += chunk;
  });
  return str;
};

/**
 * Returns the string representation of this source node along with a source
 * map.
 */
SourceNode.prototype.toStringWithSourceMap = function SourceNode_toStringWithSourceMap(aArgs) {
  var generated = {
    code: "",
    line: 1,
    column: 0
  };
  var map = new SourceMapGenerator(aArgs);
  var sourceMappingActive = false;
  var lastOriginalSource = null;
  var lastOriginalLine = null;
  var lastOriginalColumn = null;
  var lastOriginalName = null;
  this.walk(function (chunk, original) {
    generated.code += chunk;
    if (original.source !== null
        && original.line !== null
        && original.column !== null) {
      if(lastOriginalSource !== original.source
         || lastOriginalLine !== original.line
         || lastOriginalColumn !== original.column
         || lastOriginalName !== original.name) {
        map.addMapping({
          source: original.source,
          original: {
            line: original.line,
            column: original.column
          },
          generated: {
            line: generated.line,
            column: generated.column
          },
          name: original.name
        });
      }
      lastOriginalSource = original.source;
      lastOriginalLine = original.line;
      lastOriginalColumn = original.column;
      lastOriginalName = original.name;
      sourceMappingActive = true;
    } else if (sourceMappingActive) {
      map.addMapping({
        generated: {
          line: generated.line,
          column: generated.column
        }
      });
      lastOriginalSource = null;
      sourceMappingActive = false;
    }
    for (var idx = 0, length = chunk.length; idx < length; idx++) {
      if (chunk.charCodeAt(idx) === NEWLINE_CODE) {
        generated.line++;
        generated.column = 0;
        // Mappings end at eol
        if (idx + 1 === length) {
          lastOriginalSource = null;
          sourceMappingActive = false;
        } else if (sourceMappingActive) {
          map.addMapping({
            source: original.source,
            original: {
              line: original.line,
              column: original.column
            },
            generated: {
              line: generated.line,
              column: generated.column
            },
            name: original.name
          });
        }
      } else {
        generated.column++;
      }
    }
  });
  this.walkSourceContents(function (sourceFile, sourceContent) {
    map.setSourceContent(sourceFile, sourceContent);
  });

  return { code: generated.code, map: map };
};

exports.SourceNode = SourceNode;

},{"./source-map-generator":13,"./util":15}],15:[function(require,module,exports){
/* -*- Mode: js; js-indent-level: 2; -*- */
/*
 * Copyright 2011 Mozilla Foundation and contributors
 * Licensed under the New BSD license. See LICENSE or:
 * http://opensource.org/licenses/BSD-3-Clause
 */

/**
 * This is a helper function for getting values from parameter/options
 * objects.
 *
 * @param args The object we are extracting values from
 * @param name The name of the property we are getting.
 * @param defaultValue An optional value to return if the property is missing
 * from the object. If this is not specified and the property is missing, an
 * error will be thrown.
 */
function getArg(aArgs, aName, aDefaultValue) {
  if (aName in aArgs) {
    return aArgs[aName];
  } else if (arguments.length === 3) {
    return aDefaultValue;
  } else {
    throw new Error('"' + aName + '" is a required argument.');
  }
}
exports.getArg = getArg;

var urlRegexp = /^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/;
var dataUrlRegexp = /^data:.+\,.+$/;

function urlParse(aUrl) {
  var match = aUrl.match(urlRegexp);
  if (!match) {
    return null;
  }
  return {
    scheme: match[1],
    auth: match[2],
    host: match[3],
    port: match[4],
    path: match[5]
  };
}
exports.urlParse = urlParse;

function urlGenerate(aParsedUrl) {
  var url = '';
  if (aParsedUrl.scheme) {
    url += aParsedUrl.scheme + ':';
  }
  url += '//';
  if (aParsedUrl.auth) {
    url += aParsedUrl.auth + '@';
  }
  if (aParsedUrl.host) {
    url += aParsedUrl.host;
  }
  if (aParsedUrl.port) {
    url += ":" + aParsedUrl.port
  }
  if (aParsedUrl.path) {
    url += aParsedUrl.path;
  }
  return url;
}
exports.urlGenerate = urlGenerate;

/**
 * Normalizes a path, or the path portion of a URL:
 *
 * - Replaces consecutive slashes with one slash.
 * - Removes unnecessary '.' parts.
 * - Removes unnecessary '<dir>/..' parts.
 *
 * Based on code in the Node.js 'path' core module.
 *
 * @param aPath The path or url to normalize.
 */
function normalize(aPath) {
  var path = aPath;
  var url = urlParse(aPath);
  if (url) {
    if (!url.path) {
      return aPath;
    }
    path = url.path;
  }
  var isAbsolute = exports.isAbsolute(path);

  var parts = path.split(/\/+/);
  for (var part, up = 0, i = parts.length - 1; i >= 0; i--) {
    part = parts[i];
    if (part === '.') {
      parts.splice(i, 1);
    } else if (part === '..') {
      up++;
    } else if (up > 0) {
      if (part === '') {
        // The first part is blank if the path is absolute. Trying to go
        // above the root is a no-op. Therefore we can remove all '..' parts
        // directly after the root.
        parts.splice(i + 1, up);
        up = 0;
      } else {
        parts.splice(i, 2);
        up--;
      }
    }
  }
  path = parts.join('/');

  if (path === '') {
    path = isAbsolute ? '/' : '.';
  }

  if (url) {
    url.path = path;
    return urlGenerate(url);
  }
  return path;
}
exports.normalize = normalize;

/**
 * Joins two paths/URLs.
 *
 * @param aRoot The root path or URL.
 * @param aPath The path or URL to be joined with the root.
 *
 * - If aPath is a URL or a data URI, aPath is returned, unless aPath is a
 *   scheme-relative URL: Then the scheme of aRoot, if any, is prepended
 *   first.
 * - Otherwise aPath is a path. If aRoot is a URL, then its path portion
 *   is updated with the result and aRoot is returned. Otherwise the result
 *   is returned.
 *   - If aPath is absolute, the result is aPath.
 *   - Otherwise the two paths are joined with a slash.
 * - Joining for example 'http://' and 'www.example.com' is also supported.
 */
function join(aRoot, aPath) {
  if (aRoot === "") {
    aRoot = ".";
  }
  if (aPath === "") {
    aPath = ".";
  }
  var aPathUrl = urlParse(aPath);
  var aRootUrl = urlParse(aRoot);
  if (aRootUrl) {
    aRoot = aRootUrl.path || '/';
  }

  // `join(foo, '//www.example.org')`
  if (aPathUrl && !aPathUrl.scheme) {
    if (aRootUrl) {
      aPathUrl.scheme = aRootUrl.scheme;
    }
    return urlGenerate(aPathUrl);
  }

  if (aPathUrl || aPath.match(dataUrlRegexp)) {
    return aPath;
  }

  // `join('http://', 'www.example.com')`
  if (aRootUrl && !aRootUrl.host && !aRootUrl.path) {
    aRootUrl.host = aPath;
    return urlGenerate(aRootUrl);
  }

  var joined = aPath.charAt(0) === '/'
    ? aPath
    : normalize(aRoot.replace(/\/+$/, '') + '/' + aPath);

  if (aRootUrl) {
    aRootUrl.path = joined;
    return urlGenerate(aRootUrl);
  }
  return joined;
}
exports.join = join;

exports.isAbsolute = function (aPath) {
  return aPath.charAt(0) === '/' || urlRegexp.test(aPath);
};

/**
 * Make a path relative to a URL or another path.
 *
 * @param aRoot The root path or URL.
 * @param aPath The path or URL to be made relative to aRoot.
 */
function relative(aRoot, aPath) {
  if (aRoot === "") {
    aRoot = ".";
  }

  aRoot = aRoot.replace(/\/$/, '');

  // It is possible for the path to be above the root. In this case, simply
  // checking whether the root is a prefix of the path won't work. Instead, we
  // need to remove components from the root one by one, until either we find
  // a prefix that fits, or we run out of components to remove.
  var level = 0;
  while (aPath.indexOf(aRoot + '/') !== 0) {
    var index = aRoot.lastIndexOf("/");
    if (index < 0) {
      return aPath;
    }

    // If the only part of the root that is left is the scheme (i.e. http://,
    // file:///, etc.), one or more slashes (/), or simply nothing at all, we
    // have exhausted all components, so the path is not relative to the root.
    aRoot = aRoot.slice(0, index);
    if (aRoot.match(/^([^\/]+:\/)?\/*$/)) {
      return aPath;
    }

    ++level;
  }

  // Make sure we add a "../" for each component we removed from the root.
  return Array(level + 1).join("../") + aPath.substr(aRoot.length + 1);
}
exports.relative = relative;

var supportsNullProto = (function () {
  var obj = Object.create(null);
  return !('__proto__' in obj);
}());

function identity (s) {
  return s;
}

/**
 * Because behavior goes wacky when you set `__proto__` on objects, we
 * have to prefix all the strings in our set with an arbitrary character.
 *
 * See https://github.com/mozilla/source-map/pull/31 and
 * https://github.com/mozilla/source-map/issues/30
 *
 * @param String aStr
 */
function toSetString(aStr) {
  if (isProtoString(aStr)) {
    return '$' + aStr;
  }

  return aStr;
}
exports.toSetString = supportsNullProto ? identity : toSetString;

function fromSetString(aStr) {
  if (isProtoString(aStr)) {
    return aStr.slice(1);
  }

  return aStr;
}
exports.fromSetString = supportsNullProto ? identity : fromSetString;

function isProtoString(s) {
  if (!s) {
    return false;
  }

  var length = s.length;

  if (length < 9 /* "__proto__".length */) {
    return false;
  }

  if (s.charCodeAt(length - 1) !== 95  /* '_' */ ||
      s.charCodeAt(length - 2) !== 95  /* '_' */ ||
      s.charCodeAt(length - 3) !== 111 /* 'o' */ ||
      s.charCodeAt(length - 4) !== 116 /* 't' */ ||
      s.charCodeAt(length - 5) !== 111 /* 'o' */ ||
      s.charCodeAt(length - 6) !== 114 /* 'r' */ ||
      s.charCodeAt(length - 7) !== 112 /* 'p' */ ||
      s.charCodeAt(length - 8) !== 95  /* '_' */ ||
      s.charCodeAt(length - 9) !== 95  /* '_' */) {
    return false;
  }

  for (var i = length - 10; i >= 0; i--) {
    if (s.charCodeAt(i) !== 36 /* '$' */) {
      return false;
    }
  }

  return true;
}

/**
 * Comparator between two mappings where the original positions are compared.
 *
 * Optionally pass in `true` as `onlyCompareGenerated` to consider two
 * mappings with the same original source/line/column, but different generated
 * line and column the same. Useful when searching for a mapping with a
 * stubbed out mapping.
 */
function compareByOriginalPositions(mappingA, mappingB, onlyCompareOriginal) {
  var cmp = strcmp(mappingA.source, mappingB.source);
  if (cmp !== 0) {
    return cmp;
  }

  cmp = mappingA.originalLine - mappingB.originalLine;
  if (cmp !== 0) {
    return cmp;
  }

  cmp = mappingA.originalColumn - mappingB.originalColumn;
  if (cmp !== 0 || onlyCompareOriginal) {
    return cmp;
  }

  cmp = mappingA.generatedColumn - mappingB.generatedColumn;
  if (cmp !== 0) {
    return cmp;
  }

  cmp = mappingA.generatedLine - mappingB.generatedLine;
  if (cmp !== 0) {
    return cmp;
  }

  return strcmp(mappingA.name, mappingB.name);
}
exports.compareByOriginalPositions = compareByOriginalPositions;

/**
 * Comparator between two mappings with deflated source and name indices where
 * the generated positions are compared.
 *
 * Optionally pass in `true` as `onlyCompareGenerated` to consider two
 * mappings with the same generated line and column, but different
 * source/name/original line and column the same. Useful when searching for a
 * mapping with a stubbed out mapping.
 */
function compareByGeneratedPositionsDeflated(mappingA, mappingB, onlyCompareGenerated) {
  var cmp = mappingA.generatedLine - mappingB.generatedLine;
  if (cmp !== 0) {
    return cmp;
  }

  cmp = mappingA.generatedColumn - mappingB.generatedColumn;
  if (cmp !== 0 || onlyCompareGenerated) {
    return cmp;
  }

  cmp = strcmp(mappingA.source, mappingB.source);
  if (cmp !== 0) {
    return cmp;
  }

  cmp = mappingA.originalLine - mappingB.originalLine;
  if (cmp !== 0) {
    return cmp;
  }

  cmp = mappingA.originalColumn - mappingB.originalColumn;
  if (cmp !== 0) {
    return cmp;
  }

  return strcmp(mappingA.name, mappingB.name);
}
exports.compareByGeneratedPositionsDeflated = compareByGeneratedPositionsDeflated;

function strcmp(aStr1, aStr2) {
  if (aStr1 === aStr2) {
    return 0;
  }

  if (aStr1 === null) {
    return 1; // aStr2 !== null
  }

  if (aStr2 === null) {
    return -1; // aStr1 !== null
  }

  if (aStr1 > aStr2) {
    return 1;
  }

  return -1;
}

/**
 * Comparator between two mappings with inflated source and name strings where
 * the generated positions are compared.
 */
function compareByGeneratedPositionsInflated(mappingA, mappingB) {
  var cmp = mappingA.generatedLine - mappingB.generatedLine;
  if (cmp !== 0) {
    return cmp;
  }

  cmp = mappingA.generatedColumn - mappingB.generatedColumn;
  if (cmp !== 0) {
    return cmp;
  }

  cmp = strcmp(mappingA.source, mappingB.source);
  if (cmp !== 0) {
    return cmp;
  }

  cmp = mappingA.originalLine - mappingB.originalLine;
  if (cmp !== 0) {
    return cmp;
  }

  cmp = mappingA.originalColumn - mappingB.originalColumn;
  if (cmp !== 0) {
    return cmp;
  }

  return strcmp(mappingA.name, mappingB.name);
}
exports.compareByGeneratedPositionsInflated = compareByGeneratedPositionsInflated;

/**
 * Strip any JSON XSSI avoidance prefix from the string (as documented
 * in the source maps specification), and then parse the string as
 * JSON.
 */
function parseSourceMapInput(str) {
  return JSON.parse(str.replace(/^\)]}'[^\n]*\n/, ''));
}
exports.parseSourceMapInput = parseSourceMapInput;

/**
 * Compute the URL of a source given the the source root, the source's
 * URL, and the source map's URL.
 */
function computeSourceURL(sourceRoot, sourceURL, sourceMapURL) {
  sourceURL = sourceURL || '';

  if (sourceRoot) {
    // This follows what Chrome does.
    if (sourceRoot[sourceRoot.length - 1] !== '/' && sourceURL[0] !== '/') {
      sourceRoot += '/';
    }
    // The spec says:
    //   Line 4: An optional source root, useful for relocating source
    //   files on a server or removing repeated values in the
    //   “sources” entry.  This value is prepended to the individual
    //   entries in the “source” field.
    sourceURL = sourceRoot + sourceURL;
  }

  // Historically, SourceMapConsumer did not take the sourceMapURL as
  // a parameter.  This mode is still somewhat supported, which is why
  // this code block is conditional.  However, it's preferable to pass
  // the source map URL to SourceMapConsumer, so that this function
  // can implement the source URL resolution algorithm as outlined in
  // the spec.  This block is basically the equivalent of:
  //    new URL(sourceURL, sourceMapURL).toString()
  // ... except it avoids using URL, which wasn't available in the
  // older releases of node still supported by this library.
  //
  // The spec says:
  //   If the sources are not absolute URLs after prepending of the
  //   “sourceRoot”, the sources are resolved relative to the
  //   SourceMap (like resolving script src in a html document).
  if (sourceMapURL) {
    var parsed = urlParse(sourceMapURL);
    if (!parsed) {
      throw new Error("sourceMapURL could not be parsed");
    }
    if (parsed.path) {
      // Strip the last path component, but keep the "/".
      var index = parsed.path.lastIndexOf('/');
      if (index >= 0) {
        parsed.path = parsed.path.substring(0, index + 1);
      }
    }
    sourceURL = join(urlGenerate(parsed), sourceURL);
  }

  return normalize(sourceURL);
}
exports.computeSourceURL = computeSourceURL;

},{}],16:[function(require,module,exports){
/*
 * Copyright 2009-2011 Mozilla Foundation and contributors
 * Licensed under the New BSD license. See LICENSE.txt or:
 * http://opensource.org/licenses/BSD-3-Clause
 */
exports.SourceMapGenerator = require('./lib/source-map-generator').SourceMapGenerator;
exports.SourceMapConsumer = require('./lib/source-map-consumer').SourceMapConsumer;
exports.SourceNode = require('./lib/source-node').SourceNode;

},{"./lib/source-map-consumer":12,"./lib/source-map-generator":13,"./lib/source-node":14}],17:[function(require,module,exports){
module.exports={
  "_args": [
    [
      "escodegen@1.14.1",
      "/mnt/c/Users/dhn03/source/projects/jsflow/jsflow-master"
    ]
  ],
  "_from": "escodegen@1.14.1",
  "_id": "escodegen@1.14.1",
  "_inBundle": false,
  "_integrity": "sha512-Bmt7NcRySdIfNPfU2ZoXDrrXsG9ZjvDxcAlMfDUgRBjLOWTuIACXPBFJH7Z+cLb40JeQco5toikyc9t9P8E9SQ==",
  "_location": "/escodegen",
  "_phantomChildren": {},
  "_requested": {
    "type": "version",
    "registry": true,
    "raw": "escodegen@1.14.1",
    "name": "escodegen",
    "escapedName": "escodegen",
    "rawSpec": "1.14.1",
    "saveSpec": null,
    "fetchSpec": "1.14.1"
  },
  "_requiredBy": [
    "/"
  ],
  "_resolved": "https://registry.npmjs.org/escodegen/-/escodegen-1.14.1.tgz",
  "_spec": "1.14.1",
  "_where": "/mnt/c/Users/dhn03/source/projects/jsflow/jsflow-master",
  "bin": {
    "esgenerate": "bin/esgenerate.js",
    "escodegen": "bin/escodegen.js"
  },
  "bugs": {
    "url": "https://github.com/estools/escodegen/issues"
  },
  "dependencies": {
    "esprima": "^4.0.1",
    "estraverse": "^4.2.0",
    "esutils": "^2.0.2",
    "optionator": "^0.8.1",
    "source-map": "~0.6.1"
  },
  "description": "ECMAScript code generator",
  "devDependencies": {
    "acorn": "^7.1.0",
    "bluebird": "^3.4.7",
    "bower-registry-client": "^1.0.0",
    "chai": "^3.5.0",
    "commonjs-everywhere": "^0.9.7",
    "gulp": "^3.8.10",
    "gulp-eslint": "^3.0.1",
    "gulp-mocha": "^3.0.1",
    "semver": "^5.1.0"
  },
  "engines": {
    "node": ">=4.0"
  },
  "files": [
    "LICENSE.BSD",
    "README.md",
    "bin",
    "escodegen.js",
    "package.json"
  ],
  "homepage": "http://github.com/estools/escodegen",
  "license": "BSD-2-Clause",
  "main": "escodegen.js",
  "maintainers": [
    {
      "name": "Yusuke Suzuki",
      "email": "utatane.tea@gmail.com",
      "url": "http://github.com/Constellation"
    }
  ],
  "name": "escodegen",
  "optionalDependencies": {
    "source-map": "~0.6.1"
  },
  "repository": {
    "type": "git",
    "url": "git+ssh://git@github.com/estools/escodegen.git"
  },
  "scripts": {
    "build": "cjsify -a path: tools/entry-point.js > escodegen.browser.js",
    "build-min": "cjsify -ma path: tools/entry-point.js > escodegen.browser.min.js",
    "lint": "gulp lint",
    "release": "node tools/release.js",
    "test": "gulp travis",
    "unit-test": "gulp test"
  },
  "version": "1.14.1"
}

},{}],18:[function(require,module,exports){
/*
  Copyright (c) jQuery Foundation, Inc. and Contributors, All Rights Reserved.

  Redistribution and use in source and binary forms, with or without
  modification, are permitted provided that the following conditions are met:

    * Redistributions of source code must retain the above copyright
      notice, this list of conditions and the following disclaimer.
    * Redistributions in binary form must reproduce the above copyright
      notice, this list of conditions and the following disclaimer in the
      documentation and/or other materials provided with the distribution.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
  AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
  IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
  ARE DISCLAIMED. IN NO EVENT SHALL <COPYRIGHT HOLDER> BE LIABLE FOR ANY
  DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
  (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
  LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
  ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
  (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF
  THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/

(function (root, factory) {
    'use strict';

    // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js,
    // Rhino, and plain browser loading.

    /* istanbul ignore next */
    if (typeof define === 'function' && define.amd) {
        define(['exports'], factory);
    } else if (typeof exports !== 'undefined') {
        factory(exports);
    } else {
        factory((root.esprima = {}));
    }
}(this, function (exports) {
    'use strict';

    var Token,
        TokenName,
        FnExprTokens,
        Syntax,
        PlaceHolders,
        Messages,
        Regex,
        source,
        strict,
        index,
        lineNumber,
        lineStart,
        hasLineTerminator,
        lastIndex,
        lastLineNumber,
        lastLineStart,
        startIndex,
        startLineNumber,
        startLineStart,
        scanning,
        length,
        lookahead,
        state,
        extra,
        isBindingElement,
        isAssignmentTarget,
        firstCoverInitializedNameError;

    Token = {
        BooleanLiteral: 1,
        EOF: 2,
        Identifier: 3,
        Keyword: 4,
        NullLiteral: 5,
        NumericLiteral: 6,
        Punctuator: 7,
        StringLiteral: 8,
        RegularExpression: 9,
        Template: 10
    };

    TokenName = {};
    TokenName[Token.BooleanLiteral] = 'Boolean';
    TokenName[Token.EOF] = '<end>';
    TokenName[Token.Identifier] = 'Identifier';
    TokenName[Token.Keyword] = 'Keyword';
    TokenName[Token.NullLiteral] = 'Null';
    TokenName[Token.NumericLiteral] = 'Numeric';
    TokenName[Token.Punctuator] = 'Punctuator';
    TokenName[Token.StringLiteral] = 'String';
    TokenName[Token.RegularExpression] = 'RegularExpression';
    TokenName[Token.Template] = 'Template';

    // A function following one of those tokens is an expression.
    FnExprTokens = ['(', '{', '[', 'in', 'typeof', 'instanceof', 'new',
                    'return', 'case', 'delete', 'throw', 'void',
                    // assignment operators
                    '=', '+=', '-=', '*=', '/=', '%=', '<<=', '>>=', '>>>=',
                    '&=', '|=', '^=', ',',
                    // binary/unary operators
                    '+', '-', '*', '/', '%', '++', '--', '<<', '>>', '>>>', '&',
                    '|', '^', '!', '~', '&&', '||', '?', ':', '===', '==', '>=',
                    '<=', '<', '>', '!=', '!=='];

    Syntax = {
        AssignmentExpression: 'AssignmentExpression',
        AssignmentPattern: 'AssignmentPattern',
        ArrayExpression: 'ArrayExpression',
        ArrayPattern: 'ArrayPattern',
        ArrowFunctionExpression: 'ArrowFunctionExpression',
        BlockStatement: 'BlockStatement',
        BinaryExpression: 'BinaryExpression',
        BreakStatement: 'BreakStatement',
        CallExpression: 'CallExpression',
        CatchClause: 'CatchClause',
        ClassBody: 'ClassBody',
        ClassDeclaration: 'ClassDeclaration',
        ClassExpression: 'ClassExpression',
        ConditionalExpression: 'ConditionalExpression',
        ContinueStatement: 'ContinueStatement',
        DoWhileStatement: 'DoWhileStatement',
        DebuggerStatement: 'DebuggerStatement',
        EmptyStatement: 'EmptyStatement',
        ExportAllDeclaration: 'ExportAllDeclaration',
        ExportDefaultDeclaration: 'ExportDefaultDeclaration',
        ExportNamedDeclaration: 'ExportNamedDeclaration',
        ExportSpecifier: 'ExportSpecifier',
        ExpressionStatement: 'ExpressionStatement',
        ForStatement: 'ForStatement',
        ForOfStatement: 'ForOfStatement',
        ForInStatement: 'ForInStatement',
        FunctionDeclaration: 'FunctionDeclaration',
        FunctionExpression: 'FunctionExpression',
        Identifier: 'Identifier',
        IfStatement: 'IfStatement',
        ImportDeclaration: 'ImportDeclaration',
        ImportDefaultSpecifier: 'ImportDefaultSpecifier',
        ImportNamespaceSpecifier: 'ImportNamespaceSpecifier',
        ImportSpecifier: 'ImportSpecifier',
        Literal: 'Literal',
        LabeledStatement: 'LabeledStatement',
        LogicalExpression: 'LogicalExpression',
        MemberExpression: 'MemberExpression',
        MetaProperty: 'MetaProperty',
        MethodDefinition: 'MethodDefinition',
        NewExpression: 'NewExpression',
        ObjectExpression: 'ObjectExpression',
        ObjectPattern: 'ObjectPattern',
        Program: 'Program',
        Property: 'Property',
        RestElement: 'RestElement',
        ReturnStatement: 'ReturnStatement',
        SequenceExpression: 'SequenceExpression',
        SpreadElement: 'SpreadElement',
        Super: 'Super',
        SwitchCase: 'SwitchCase',
        SwitchStatement: 'SwitchStatement',
        TaggedTemplateExpression: 'TaggedTemplateExpression',
        TemplateElement: 'TemplateElement',
        TemplateLiteral: 'TemplateLiteral',
        ThisExpression: 'ThisExpression',
        ThrowStatement: 'ThrowStatement',
        TryStatement: 'TryStatement',
        UnaryExpression: 'UnaryExpression',
        UpdateExpression: 'UpdateExpression',
        VariableDeclaration: 'VariableDeclaration',
        VariableDeclarator: 'VariableDeclarator',
        WhileStatement: 'WhileStatement',
        WithStatement: 'WithStatement',
        YieldExpression: 'YieldExpression'
    };

    PlaceHolders = {
        ArrowParameterPlaceHolder: 'ArrowParameterPlaceHolder'
    };

    // Error messages should be identical to V8.
    Messages = {
        UnexpectedToken: 'Unexpected token %0',
        UnexpectedNumber: 'Unexpected number',
        UnexpectedString: 'Unexpected string',
        UnexpectedIdentifier: 'Unexpected identifier',
        UnexpectedReserved: 'Unexpected reserved word',
        UnexpectedTemplate: 'Unexpected quasi %0',
        UnexpectedEOS: 'Unexpected end of input',
        NewlineAfterThrow: 'Illegal newline after throw',
        InvalidRegExp: 'Invalid regular expression',
        UnterminatedRegExp: 'Invalid regular expression: missing /',
        InvalidLHSInAssignment: 'Invalid left-hand side in assignment',
        InvalidLHSInForIn: 'Invalid left-hand side in for-in',
        InvalidLHSInForLoop: 'Invalid left-hand side in for-loop',
        MultipleDefaultsInSwitch: 'More than one default clause in switch statement',
        NoCatchOrFinally: 'Missing catch or finally after try',
        UnknownLabel: 'Undefined label \'%0\'',
        Redeclaration: '%0 \'%1\' has already been declared',
        IllegalContinue: 'Illegal continue statement',
        IllegalBreak: 'Illegal break statement',
        IllegalReturn: 'Illegal return statement',
        StrictModeWith: 'Strict mode code may not include a with statement',
        StrictCatchVariable: 'Catch variable may not be eval or arguments in strict mode',
        StrictVarName: 'Variable name may not be eval or arguments in strict mode',
        StrictParamName: 'Parameter name eval or arguments is not allowed in strict mode',
        StrictParamDupe: 'Strict mode function may not have duplicate parameter names',
        StrictFunctionName: 'Function name may not be eval or arguments in strict mode',
        StrictOctalLiteral: 'Octal literals are not allowed in strict mode.',
        StrictDelete: 'Delete of an unqualified identifier in strict mode.',
        StrictLHSAssignment: 'Assignment to eval or arguments is not allowed in strict mode',
        StrictLHSPostfix: 'Postfix increment/decrement may not have eval or arguments operand in strict mode',
        StrictLHSPrefix: 'Prefix increment/decrement may not have eval or arguments operand in strict mode',
        StrictReservedWord: 'Use of future reserved word in strict mode',
        TemplateOctalLiteral: 'Octal literals are not allowed in template strings.',
        ParameterAfterRestParameter: 'Rest parameter must be last formal parameter',
        DefaultRestParameter: 'Unexpected token =',
        ObjectPatternAsRestParameter: 'Unexpected token {',
        DuplicateProtoProperty: 'Duplicate __proto__ fields are not allowed in object literals',
        ConstructorSpecialMethod: 'Class constructor may not be an accessor',
        DuplicateConstructor: 'A class may only have one constructor',
        StaticPrototype: 'Classes may not have static property named prototype',
        MissingFromClause: 'Unexpected token',
        NoAsAfterImportNamespace: 'Unexpected token',
        InvalidModuleSpecifier: 'Unexpected token',
        IllegalImportDeclaration: 'Unexpected token',
        IllegalExportDeclaration: 'Unexpected token',
        DuplicateBinding: 'Duplicate binding %0'
    };

    // See also tools/generate-unicode-regex.js.
    Regex = {
        // ECMAScript 6/Unicode v7.0.0 NonAsciiIdentifierStart:
        NonAsciiIdentifierStart: /[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B2\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDE00-\uDE11\uDE13-\uDE2B\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF5D-\uDF61]|\uD805[\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDE00-\uDE2F\uDE44\uDE80-\uDEAA]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF98]|\uD809[\uDC00-\uDC6E]|[\uD80C\uD840-\uD868\uD86A-\uD86C][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D]|\uD87E[\uDC00-\uDE1D]/,

        // ECMAScript 6/Unicode v7.0.0 NonAsciiIdentifierPart:
        NonAsciiIdentifierPart: /[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B2\u08E4-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58\u0C59\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D60-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA69D\uA69F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2D\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDD0-\uDDDA\uDE00-\uDE11\uDE13-\uDE37\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF01-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF98]|\uD809[\uDC00-\uDC6E]|[\uD80C\uD840-\uD868\uD86A-\uD86C][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/
    };

    // Ensure the condition is true, otherwise throw an error.
    // This is only to have a better contract semantic, i.e. another safety net
    // to catch a logic error. The condition shall be fulfilled in normal case.
    // Do NOT use this to enforce a certain condition on any user input.

    function assert(condition, message) {
        /* istanbul ignore if */
        if (!condition) {
            throw new Error('ASSERT: ' + message);
        }
    }

    function isDecimalDigit(ch) {
        return (ch >= 0x30 && ch <= 0x39);   // 0..9
    }

    function isHexDigit(ch) {
        return '0123456789abcdefABCDEF'.indexOf(ch) >= 0;
    }

    function isOctalDigit(ch) {
        return '01234567'.indexOf(ch) >= 0;
    }

    function octalToDecimal(ch) {
        // \0 is not octal escape sequence
        var octal = (ch !== '0'), code = '01234567'.indexOf(ch);

        if (index < length && isOctalDigit(source[index])) {
            octal = true;
            code = code * 8 + '01234567'.indexOf(source[index++]);

            // 3 digits are only allowed when string starts
            // with 0, 1, 2, 3
            if ('0123'.indexOf(ch) >= 0 &&
                    index < length &&
                    isOctalDigit(source[index])) {
                code = code * 8 + '01234567'.indexOf(source[index++]);
            }
        }

        return {
            code: code,
            octal: octal
        };
    }

    // ECMA-262 11.2 White Space

    function isWhiteSpace(ch) {
        return (ch === 0x20) || (ch === 0x09) || (ch === 0x0B) || (ch === 0x0C) || (ch === 0xA0) ||
            (ch >= 0x1680 && [0x1680, 0x180E, 0x2000, 0x2001, 0x2002, 0x2003, 0x2004, 0x2005, 0x2006, 0x2007, 0x2008, 0x2009, 0x200A, 0x202F, 0x205F, 0x3000, 0xFEFF].indexOf(ch) >= 0);
    }

    // ECMA-262 11.3 Line Terminators

    function isLineTerminator(ch) {
        return (ch === 0x0A) || (ch === 0x0D) || (ch === 0x2028) || (ch === 0x2029);
    }

    // ECMA-262 11.6 Identifier Names and Identifiers

    function fromCodePoint(cp) {
        return (cp < 0x10000) ? String.fromCharCode(cp) :
            String.fromCharCode(0xD800 + ((cp - 0x10000) >> 10)) +
            String.fromCharCode(0xDC00 + ((cp - 0x10000) & 1023));
    }

    function isIdentifierStart(ch) {
        return (ch === 0x24) || (ch === 0x5F) ||  // $ (dollar) and _ (underscore)
            (ch >= 0x41 && ch <= 0x5A) ||         // A..Z
            (ch >= 0x61 && ch <= 0x7A) ||         // a..z
            (ch === 0x5C) ||                      // \ (backslash)
            ((ch >= 0x80) && Regex.NonAsciiIdentifierStart.test(fromCodePoint(ch)));
    }

    function isIdentifierPart(ch) {
        return (ch === 0x24) || (ch === 0x5F) ||  // $ (dollar) and _ (underscore)
            (ch >= 0x41 && ch <= 0x5A) ||         // A..Z
            (ch >= 0x61 && ch <= 0x7A) ||         // a..z
            (ch >= 0x30 && ch <= 0x39) ||         // 0..9
            (ch === 0x5C) ||                      // \ (backslash)
            ((ch >= 0x80) && Regex.NonAsciiIdentifierPart.test(fromCodePoint(ch)));
    }

    // ECMA-262 11.6.2.2 Future Reserved Words

    function isFutureReservedWord(id) {
        switch (id) {
        case 'enum':
        case 'export':
        case 'import':
        case 'super':
            return true;
        default:
            return false;
        }
    }

    function isStrictModeReservedWord(id) {
        switch (id) {
        case 'implements':
        case 'interface':
        case 'package':
        case 'private':
        case 'protected':
        case 'public':
        case 'static':
        case 'yield':
        case 'let':
            return true;
        default:
            return false;
        }
    }

    function isRestrictedWord(id) {
        return id === 'eval' || id === 'arguments';
    }

    // ECMA-262 11.6.2.1 Keywords

    function isKeyword(id) {
        switch (id.length) {
        case 2:
            return (id === 'if') || (id === 'in') || (id === 'do');
        case 3:
            return (id === 'var') || (id === 'for') || (id === 'new') ||
                (id === 'try') || (id === 'let');
        case 4:
            return (id === 'this') || (id === 'else') || (id === 'case') ||
                (id === 'void') || (id === 'with') || (id === 'enum');
        case 5:
            return (id === 'while') || (id === 'break') || (id === 'catch') ||
                (id === 'throw') || (id === 'const') || (id === 'yield') ||
                (id === 'class') || (id === 'super');
        case 6:
            return (id === 'return') || (id === 'typeof') || (id === 'delete') ||
                (id === 'switch') || (id === 'export') || (id === 'import');
        case 7:
            return (id === 'default') || (id === 'finally') || (id === 'extends');
        case 8:
            return (id === 'function') || (id === 'continue') || (id === 'debugger');
        case 10:
            return (id === 'instanceof');
        default:
            return false;
        }
    }

    // ECMA-262 11.4 Comments

    function addComment(type, value, start, end, loc) {
        var comment;

        assert(typeof start === 'number', 'Comment must have valid position');

        state.lastCommentStart = start;

        comment = {
            type: type,
            value: value
        };
        if (extra.range) {
            comment.range = [start, end];
        }
        if (extra.loc) {
            comment.loc = loc;
        }
        extra.comments.push(comment);
        if (extra.attachComment) {
            extra.leadingComments.push(comment);
            extra.trailingComments.push(comment);
        }
        if (extra.tokenize) {
            comment.type = comment.type + 'Comment';
            if (extra.delegate) {
                comment = extra.delegate(comment);
            }
            extra.tokens.push(comment);
        }
    }

    function skipSingleLineComment(offset) {
        var start, loc, ch, comment;

        start = index - offset;
        loc = {
            start: {
                line: lineNumber,
                column: index - lineStart - offset
            }
        };

        while (index < length) {
            ch = source.charCodeAt(index);
            ++index;
            if (isLineTerminator(ch)) {
                hasLineTerminator = true;
                if (extra.comments) {
                    comment = source.slice(start + offset, index - 1);
                    loc.end = {
                        line: lineNumber,
                        column: index - lineStart - 1
                    };
                    addComment('Line', comment, start, index - 1, loc);
                }
                if (ch === 13 && source.charCodeAt(index) === 10) {
                    ++index;
                }
                ++lineNumber;
                lineStart = index;
                return;
            }
        }

        if (extra.comments) {
            comment = source.slice(start + offset, index);
            loc.end = {
                line: lineNumber,
                column: index - lineStart
            };
            addComment('Line', comment, start, index, loc);
        }
    }

    function skipMultiLineComment() {
        var start, loc, ch, comment;

        if (extra.comments) {
            start = index - 2;
            loc = {
                start: {
                    line: lineNumber,
                    column: index - lineStart - 2
                }
            };
        }

        while (index < length) {
            ch = source.charCodeAt(index);
            if (isLineTerminator(ch)) {
                if (ch === 0x0D && source.charCodeAt(index + 1) === 0x0A) {
                    ++index;
                }
                hasLineTerminator = true;
                ++lineNumber;
                ++index;
                lineStart = index;
            } else if (ch === 0x2A) {
                // Block comment ends with '*/'.
                if (source.charCodeAt(index + 1) === 0x2F) {
                    ++index;
                    ++index;
                    if (extra.comments) {
                        comment = source.slice(start + 2, index - 2);
                        loc.end = {
                            line: lineNumber,
                            column: index - lineStart
                        };
                        addComment('Block', comment, start, index, loc);
                    }
                    return;
                }
                ++index;
            } else {
                ++index;
            }
        }

        // Ran off the end of the file - the whole thing is a comment
        if (extra.comments) {
            loc.end = {
                line: lineNumber,
                column: index - lineStart
            };
            comment = source.slice(start + 2, index);
            addComment('Block', comment, start, index, loc);
        }
        tolerateUnexpectedToken();
    }

    function skipComment() {
        var ch, start;
        hasLineTerminator = false;

        start = (index === 0);
        while (index < length) {
            ch = source.charCodeAt(index);

            if (isWhiteSpace(ch)) {
                ++index;
            } else if (isLineTerminator(ch)) {
                hasLineTerminator = true;
                ++index;
                if (ch === 0x0D && source.charCodeAt(index) === 0x0A) {
                    ++index;
                }
                ++lineNumber;
                lineStart = index;
                start = true;
            } else if (ch === 0x2F) { // U+002F is '/'
                ch = source.charCodeAt(index + 1);
                if (ch === 0x2F) {
                    ++index;
                    ++index;
                    skipSingleLineComment(2);
                    start = true;
                } else if (ch === 0x2A) {  // U+002A is '*'
                    ++index;
                    ++index;
                    skipMultiLineComment();
                } else {
                    break;
                }
            } else if (start && ch === 0x2D) { // U+002D is '-'
                // U+003E is '>'
                if ((source.charCodeAt(index + 1) === 0x2D) && (source.charCodeAt(index + 2) === 0x3E)) {
                    // '-->' is a single-line comment
                    index += 3;
                    skipSingleLineComment(3);
                } else {
                    break;
                }
            } else if (ch === 0x3C) { // U+003C is '<'
                if (source.slice(index + 1, index + 4) === '!--') {
                    ++index; // `<`
                    ++index; // `!`
                    ++index; // `-`
                    ++index; // `-`
                    skipSingleLineComment(4);
                } else {
                    break;
                }
            } else {
                break;
            }
        }
    }

    function scanHexEscape(prefix) {
        var i, len, ch, code = 0;

        len = (prefix === 'u') ? 4 : 2;
        for (i = 0; i < len; ++i) {
            if (index < length && isHexDigit(source[index])) {
                ch = source[index++];
                code = code * 16 + '0123456789abcdef'.indexOf(ch.toLowerCase());
            } else {
                return '';
            }
        }
        return String.fromCharCode(code);
    }

    function scanUnicodeCodePointEscape() {
        var ch, code;

        ch = source[index];
        code = 0;

        // At least, one hex digit is required.
        if (ch === '}') {
            throwUnexpectedToken();
        }

        while (index < length) {
            ch = source[index++];
            if (!isHexDigit(ch)) {
                break;
            }
            code = code * 16 + '0123456789abcdef'.indexOf(ch.toLowerCase());
        }

        if (code > 0x10FFFF || ch !== '}') {
            throwUnexpectedToken();
        }

        return fromCodePoint(code);
    }

    function codePointAt(i) {
        var cp, first, second;

        cp = source.charCodeAt(i);
        if (cp >= 0xD800 && cp <= 0xDBFF) {
            second = source.charCodeAt(i + 1);
            if (second >= 0xDC00 && second <= 0xDFFF) {
                first = cp;
                cp = (first - 0xD800) * 0x400 + second - 0xDC00 + 0x10000;
            }
        }

        return cp;
    }

    function getComplexIdentifier() {
        var cp, ch, id;

        cp = codePointAt(index);
        id = fromCodePoint(cp);
        index += id.length;

        // '\u' (U+005C, U+0075) denotes an escaped character.
        if (cp === 0x5C) {
            if (source.charCodeAt(index) !== 0x75) {
                throwUnexpectedToken();
            }
            ++index;
            if (source[index] === '{') {
                ++index;
                ch = scanUnicodeCodePointEscape();
            } else {
                ch = scanHexEscape('u');
                cp = ch.charCodeAt(0);
                if (!ch || ch === '\\' || !isIdentifierStart(cp)) {
                    throwUnexpectedToken();
                }
            }
            id = ch;
        }

        while (index < length) {
            cp = codePointAt(index);
            if (!isIdentifierPart(cp)) {
                break;
            }
            ch = fromCodePoint(cp);
            id += ch;
            index += ch.length;

            // '\u' (U+005C, U+0075) denotes an escaped character.
            if (cp === 0x5C) {
                id = id.substr(0, id.length - 1);
                if (source.charCodeAt(index) !== 0x75) {
                    throwUnexpectedToken();
                }
                ++index;
                if (source[index] === '{') {
                    ++index;
                    ch = scanUnicodeCodePointEscape();
                } else {
                    ch = scanHexEscape('u');
                    cp = ch.charCodeAt(0);
                    if (!ch || ch === '\\' || !isIdentifierPart(cp)) {
                        throwUnexpectedToken();
                    }
                }
                id += ch;
            }
        }

        return id;
    }

    function getIdentifier() {
        var start, ch;

        start = index++;
        while (index < length) {
            ch = source.charCodeAt(index);
            if (ch === 0x5C) {
                // Blackslash (U+005C) marks Unicode escape sequence.
                index = start;
                return getComplexIdentifier();
            } else if (ch >= 0xD800 && ch < 0xDFFF) {
                // Need to handle surrogate pairs.
                index = start;
                return getComplexIdentifier();
            }
            if (isIdentifierPart(ch)) {
                ++index;
            } else {
                break;
            }
        }

        return source.slice(start, index);
    }

    function scanIdentifier() {
        var start, id, type;

        start = index;

        // Backslash (U+005C) starts an escaped character.
        id = (source.charCodeAt(index) === 0x5C) ? getComplexIdentifier() : getIdentifier();

        // There is no keyword or literal with only one character.
        // Thus, it must be an identifier.
        if (id.length === 1) {
            type = Token.Identifier;
        } else if (isKeyword(id)) {
            type = Token.Keyword;
        } else if (id === 'null') {
            type = Token.NullLiteral;
        } else if (id === 'true' || id === 'false') {
            type = Token.BooleanLiteral;
        } else {
            type = Token.Identifier;
        }

        return {
            type: type,
            value: id,
            lineNumber: lineNumber,
            lineStart: lineStart,
            start: start,
            end: index
        };
    }


    // ECMA-262 11.7 Punctuators

    function scanPunctuator() {
        var token, str;

        token = {
            type: Token.Punctuator,
            value: '',
            lineNumber: lineNumber,
            lineStart: lineStart,
            start: index,
            end: index
        };

        // Check for most common single-character punctuators.
        str = source[index];
        switch (str) {

        case '(':
            if (extra.tokenize) {
                extra.openParenToken = extra.tokenValues.length;
            }
            ++index;
            break;

        case '{':
            if (extra.tokenize) {
                extra.openCurlyToken = extra.tokenValues.length;
            }
            state.curlyStack.push('{');
            ++index;
            break;

        case '.':
            ++index;
            if (source[index] === '.' && source[index + 1] === '.') {
                // Spread operator: ...
                index += 2;
                str = '...';
            }
            break;

        case '}':
            ++index;
            state.curlyStack.pop();
            break;
        case ')':
        case ';':
        case ',':
        case '[':
        case ']':
        case ':':
        case '?':
        case '~':
            ++index;
            break;

        default:
            // 4-character punctuator.
            str = source.substr(index, 4);
            if (str === '>>>=') {
                index += 4;
            } else {

                // 3-character punctuators.
                str = str.substr(0, 3);
                if (str === '===' || str === '!==' || str === '>>>' ||
                    str === '<<=' || str === '>>=') {
                    index += 3;
                } else {

                    // 2-character punctuators.
                    str = str.substr(0, 2);
                    if (str === '&&' || str === '||' || str === '==' || str === '!=' ||
                        str === '+=' || str === '-=' || str === '*=' || str === '/=' ||
                        str === '++' || str === '--' || str === '<<' || str === '>>' ||
                        str === '&=' || str === '|=' || str === '^=' || str === '%=' ||
                        str === '<=' || str === '>=' || str === '=>') {
                        index += 2;
                    } else {

                        // 1-character punctuators.
                        str = source[index];
                        if ('<>=!+-*%&|^/'.indexOf(str) >= 0) {
                            ++index;
                        }
                    }
                }
            }
        }

        if (index === token.start) {
            throwUnexpectedToken();
        }

        token.end = index;
        token.value = str;
        return token;
    }

    // ECMA-262 11.8.3 Numeric Literals

    function scanHexLiteral(start) {
        var number = '';

        while (index < length) {
            if (!isHexDigit(source[index])) {
                break;
            }
            number += source[index++];
        }

        if (number.length === 0) {
            throwUnexpectedToken();
        }

        if (isIdentifierStart(source.charCodeAt(index))) {
            throwUnexpectedToken();
        }

        return {
            type: Token.NumericLiteral,
            value: parseInt('0x' + number, 16),
            lineNumber: lineNumber,
            lineStart: lineStart,
            start: start,
            end: index
        };
    }

    function scanBinaryLiteral(start) {
        var ch, number;

        number = '';

        while (index < length) {
            ch = source[index];
            if (ch !== '0' && ch !== '1') {
                break;
            }
            number += source[index++];
        }

        if (number.length === 0) {
            // only 0b or 0B
            throwUnexpectedToken();
        }

        if (index < length) {
            ch = source.charCodeAt(index);
            /* istanbul ignore else */
            if (isIdentifierStart(ch) || isDecimalDigit(ch)) {
                throwUnexpectedToken();
            }
        }

        return {
            type: Token.NumericLiteral,
            value: parseInt(number, 2),
            lineNumber: lineNumber,
            lineStart: lineStart,
            start: start,
            end: index
        };
    }

    function scanOctalLiteral(prefix, start) {
        var number, octal;

        if (isOctalDigit(prefix)) {
            octal = true;
            number = '0' + source[index++];
        } else {
            octal = false;
            ++index;
            number = '';
        }

        while (index < length) {
            if (!isOctalDigit(source[index])) {
                break;
            }
            number += source[index++];
        }

        if (!octal && number.length === 0) {
            // only 0o or 0O
            throwUnexpectedToken();
        }

        if (isIdentifierStart(source.charCodeAt(index)) || isDecimalDigit(source.charCodeAt(index))) {
            throwUnexpectedToken();
        }

        return {
            type: Token.NumericLiteral,
            value: parseInt(number, 8),
            octal: octal,
            lineNumber: lineNumber,
            lineStart: lineStart,
            start: start,
            end: index
        };
    }

    function isImplicitOctalLiteral() {
        var i, ch;

        // Implicit octal, unless there is a non-octal digit.
        // (Annex B.1.1 on Numeric Literals)
        for (i = index + 1; i < length; ++i) {
            ch = source[i];
            if (ch === '8' || ch === '9') {
                return false;
            }
            if (!isOctalDigit(ch)) {
                return true;
            }
        }

        return true;
    }

    function scanNumericLiteral() {
        var number, start, ch;

        ch = source[index];
        assert(isDecimalDigit(ch.charCodeAt(0)) || (ch === '.'),
            'Numeric literal must start with a decimal digit or a decimal point');

        start = index;
        number = '';
        if (ch !== '.') {
            number = source[index++];
            ch = source[index];

            // Hex number starts with '0x'.
            // Octal number starts with '0'.
            // Octal number in ES6 starts with '0o'.
            // Binary number in ES6 starts with '0b'.
            if (number === '0') {
                if (ch === 'x' || ch === 'X') {
                    ++index;
                    return scanHexLiteral(start);
                }
                if (ch === 'b' || ch === 'B') {
                    ++index;
                    return scanBinaryLiteral(start);
                }
                if (ch === 'o' || ch === 'O') {
                    return scanOctalLiteral(ch, start);
                }

                if (isOctalDigit(ch)) {
                    if (isImplicitOctalLiteral()) {
                        return scanOctalLiteral(ch, start);
                    }
                }
            }

            while (isDecimalDigit(source.charCodeAt(index))) {
                number += source[index++];
            }
            ch = source[index];
        }

        if (ch === '.') {
            number += source[index++];
            while (isDecimalDigit(source.charCodeAt(index))) {
                number += source[index++];
            }
            ch = source[index];
        }

        if (ch === 'e' || ch === 'E') {
            number += source[index++];

            ch = source[index];
            if (ch === '+' || ch === '-') {
                number += source[index++];
            }
            if (isDecimalDigit(source.charCodeAt(index))) {
                while (isDecimalDigit(source.charCodeAt(index))) {
                    number += source[index++];
                }
            } else {
                throwUnexpectedToken();
            }
        }

        if (isIdentifierStart(source.charCodeAt(index))) {
            throwUnexpectedToken();
        }

        return {
            type: Token.NumericLiteral,
            value: parseFloat(number),
            lineNumber: lineNumber,
            lineStart: lineStart,
            start: start,
            end: index
        };
    }

    // ECMA-262 11.8.4 String Literals

    function scanStringLiteral() {
        var str = '', quote, start, ch, unescaped, octToDec, octal = false;

        quote = source[index];
        assert((quote === '\'' || quote === '"'),
            'String literal must starts with a quote');

        start = index;
        ++index;

        while (index < length) {
            ch = source[index++];

            if (ch === quote) {
                quote = '';
                break;
            } else if (ch === '\\') {
                ch = source[index++];
                if (!ch || !isLineTerminator(ch.charCodeAt(0))) {
                    switch (ch) {
                    case 'u':
                    case 'x':
                        if (source[index] === '{') {
                            ++index;
                            str += scanUnicodeCodePointEscape();
                        } else {
                            unescaped = scanHexEscape(ch);
                            if (!unescaped) {
                                throw throwUnexpectedToken();
                            }
                            str += unescaped;
                        }
                        break;
                    case 'n':
                        str += '\n';
                        break;
                    case 'r':
                        str += '\r';
                        break;
                    case 't':
                        str += '\t';
                        break;
                    case 'b':
                        str += '\b';
                        break;
                    case 'f':
                        str += '\f';
                        break;
                    case 'v':
                        str += '\x0B';
                        break;
                    case '8':
                    case '9':
                        str += ch;
                        tolerateUnexpectedToken();
                        break;

                    default:
                        if (isOctalDigit(ch)) {
                            octToDec = octalToDecimal(ch);

                            octal = octToDec.octal || octal;
                            str += String.fromCharCode(octToDec.code);
                        } else {
                            str += ch;
                        }
                        break;
                    }
                } else {
                    ++lineNumber;
                    if (ch === '\r' && source[index] === '\n') {
                        ++index;
                    }
                    lineStart = index;
                }
            } else if (isLineTerminator(ch.charCodeAt(0))) {
                break;
            } else {
                str += ch;
            }
        }

        if (quote !== '') {
            index = start;
            throwUnexpectedToken();
        }

        return {
            type: Token.StringLiteral,
            value: str,
            octal: octal,
            lineNumber: startLineNumber,
            lineStart: startLineStart,
            start: start,
            end: index
        };
    }

    // ECMA-262 11.8.6 Template Literal Lexical Components

    function scanTemplate() {
        var cooked = '', ch, start, rawOffset, terminated, head, tail, restore, unescaped;

        terminated = false;
        tail = false;
        start = index;
        head = (source[index] === '`');
        rawOffset = 2;

        ++index;

        while (index < length) {
            ch = source[index++];
            if (ch === '`') {
                rawOffset = 1;
                tail = true;
                terminated = true;
                break;
            } else if (ch === '$') {
                if (source[index] === '{') {
                    state.curlyStack.push('${');
                    ++index;
                    terminated = true;
                    break;
                }
                cooked += ch;
            } else if (ch === '\\') {
                ch = source[index++];
                if (!isLineTerminator(ch.charCodeAt(0))) {
                    switch (ch) {
                    case 'n':
                        cooked += '\n';
                        break;
                    case 'r':
                        cooked += '\r';
                        break;
                    case 't':
                        cooked += '\t';
                        break;
                    case 'u':
                    case 'x':
                        if (source[index] === '{') {
                            ++index;
                            cooked += scanUnicodeCodePointEscape();
                        } else {
                            restore = index;
                            unescaped = scanHexEscape(ch);
                            if (unescaped) {
                                cooked += unescaped;
                            } else {
                                index = restore;
                                cooked += ch;
                            }
                        }
                        break;
                    case 'b':
                        cooked += '\b';
                        break;
                    case 'f':
                        cooked += '\f';
                        break;
                    case 'v':
                        cooked += '\v';
                        break;

                    default:
                        if (ch === '0') {
                            if (isDecimalDigit(source.charCodeAt(index))) {
                                // Illegal: \01 \02 and so on
                                throwError(Messages.TemplateOctalLiteral);
                            }
                            cooked += '\0';
                        } else if (isOctalDigit(ch)) {
                            // Illegal: \1 \2
                            throwError(Messages.TemplateOctalLiteral);
                        } else {
                            cooked += ch;
                        }
                        break;
                    }
                } else {
                    ++lineNumber;
                    if (ch === '\r' && source[index] === '\n') {
                        ++index;
                    }
                    lineStart = index;
                }
            } else if (isLineTerminator(ch.charCodeAt(0))) {
                ++lineNumber;
                if (ch === '\r' && source[index] === '\n') {
                    ++index;
                }
                lineStart = index;
                cooked += '\n';
            } else {
                cooked += ch;
            }
        }

        if (!terminated) {
            throwUnexpectedToken();
        }

        if (!head) {
            state.curlyStack.pop();
        }

        return {
            type: Token.Template,
            value: {
                cooked: cooked,
                raw: source.slice(start + 1, index - rawOffset)
            },
            head: head,
            tail: tail,
            lineNumber: lineNumber,
            lineStart: lineStart,
            start: start,
            end: index
        };
    }

    // ECMA-262 11.8.5 Regular Expression Literals

    function testRegExp(pattern, flags) {
        // The BMP character to use as a replacement for astral symbols when
        // translating an ES6 "u"-flagged pattern to an ES5-compatible
        // approximation.
        // Note: replacing with '\uFFFF' enables false positives in unlikely
        // scenarios. For example, `[\u{1044f}-\u{10440}]` is an invalid
        // pattern that would not be detected by this substitution.
        var astralSubstitute = '\uFFFF',
            tmp = pattern;

        if (flags.indexOf('u') >= 0) {
            tmp = tmp
                // Replace every Unicode escape sequence with the equivalent
                // BMP character or a constant ASCII code point in the case of
                // astral symbols. (See the above note on `astralSubstitute`
                // for more information.)
                .replace(/\\u\{([0-9a-fA-F]+)\}|\\u([a-fA-F0-9]{4})/g, function ($0, $1, $2) {
                    var codePoint = parseInt($1 || $2, 16);
                    if (codePoint > 0x10FFFF) {
                        throwUnexpectedToken(null, Messages.InvalidRegExp);
                    }
                    if (codePoint <= 0xFFFF) {
                        return String.fromCharCode(codePoint);
                    }
                    return astralSubstitute;
                })
                // Replace each paired surrogate with a single ASCII symbol to
                // avoid throwing on regular expressions that are only valid in
                // combination with the "u" flag.
                .replace(
                    /[\uD800-\uDBFF][\uDC00-\uDFFF]/g,
                    astralSubstitute
                );
        }

        // First, detect invalid regular expressions.
        try {
            RegExp(tmp);
        } catch (e) {
            throwUnexpectedToken(null, Messages.InvalidRegExp);
        }

        // Return a regular expression object for this pattern-flag pair, or
        // `null` in case the current environment doesn't support the flags it
        // uses.
        try {
            return new RegExp(pattern, flags);
        } catch (exception) {
            /* istanbul ignore next */
            return null;
        }
    }

    function scanRegExpBody() {
        var ch, str, classMarker, terminated, body;

        ch = source[index];
        assert(ch === '/', 'Regular expression literal must start with a slash');
        str = source[index++];

        classMarker = false;
        terminated = false;
        while (index < length) {
            ch = source[index++];
            str += ch;
            if (ch === '\\') {
                ch = source[index++];
                // ECMA-262 7.8.5
                if (isLineTerminator(ch.charCodeAt(0))) {
                    throwUnexpectedToken(null, Messages.UnterminatedRegExp);
                }
                str += ch;
            } else if (isLineTerminator(ch.charCodeAt(0))) {
                throwUnexpectedToken(null, Messages.UnterminatedRegExp);
            } else if (classMarker) {
                if (ch === ']') {
                    classMarker = false;
                }
            } else {
                if (ch === '/') {
                    terminated = true;
                    break;
                } else if (ch === '[') {
                    classMarker = true;
                }
            }
        }

        if (!terminated) {
            throwUnexpectedToken(null, Messages.UnterminatedRegExp);
        }

        // Exclude leading and trailing slash.
        body = str.substr(1, str.length - 2);
        return {
            value: body,
            literal: str
        };
    }

    function scanRegExpFlags() {
        var ch, str, flags, restore;

        str = '';
        flags = '';
        while (index < length) {
            ch = source[index];
            if (!isIdentifierPart(ch.charCodeAt(0))) {
                break;
            }

            ++index;
            if (ch === '\\' && index < length) {
                ch = source[index];
                if (ch === 'u') {
                    ++index;
                    restore = index;
                    ch = scanHexEscape('u');
                    if (ch) {
                        flags += ch;
                        for (str += '\\u'; restore < index; ++restore) {
                            str += source[restore];
                        }
                    } else {
                        index = restore;
                        flags += 'u';
                        str += '\\u';
                    }
                    tolerateUnexpectedToken();
                } else {
                    str += '\\';
                    tolerateUnexpectedToken();
                }
            } else {
                flags += ch;
                str += ch;
            }
        }

        return {
            value: flags,
            literal: str
        };
    }

    function scanRegExp() {
        var start, body, flags, value;
        scanning = true;

        lookahead = null;
        skipComment();
        start = index;

        body = scanRegExpBody();
        flags = scanRegExpFlags();
        value = testRegExp(body.value, flags.value);
        scanning = false;
        if (extra.tokenize) {
            return {
                type: Token.RegularExpression,
                value: value,
                regex: {
                    pattern: body.value,
                    flags: flags.value
                },
                lineNumber: lineNumber,
                lineStart: lineStart,
                start: start,
                end: index
            };
        }

        return {
            literal: body.literal + flags.literal,
            value: value,
            regex: {
                pattern: body.value,
                flags: flags.value
            },
            start: start,
            end: index
        };
    }

    function collectRegex() {
        var pos, loc, regex, token;

        skipComment();

        pos = index;
        loc = {
            start: {
                line: lineNumber,
                column: index - lineStart
            }
        };

        regex = scanRegExp();

        loc.end = {
            line: lineNumber,
            column: index - lineStart
        };

        /* istanbul ignore next */
        if (!extra.tokenize) {
            // Pop the previous token, which is likely '/' or '/='
            if (extra.tokens.length > 0) {
                token = extra.tokens[extra.tokens.length - 1];
                if (token.range[0] === pos && token.type === 'Punctuator') {
                    if (token.value === '/' || token.value === '/=') {
                        extra.tokens.pop();
                    }
                }
            }

            extra.tokens.push({
                type: 'RegularExpression',
                value: regex.literal,
                regex: regex.regex,
                range: [pos, index],
                loc: loc
            });
        }

        return regex;
    }

    function isIdentifierName(token) {
        return token.type === Token.Identifier ||
            token.type === Token.Keyword ||
            token.type === Token.BooleanLiteral ||
            token.type === Token.NullLiteral;
    }

    // Using the following algorithm:
    // https://github.com/mozilla/sweet.js/wiki/design

    function advanceSlash() {
        var regex, previous, check;

        function testKeyword(value) {
            return value && (value.length > 1) && (value[0] >= 'a') && (value[0] <= 'z');
        }

        previous = extra.tokenValues[extra.tokenValues.length - 1];
        regex = (previous !== null);

        switch (previous) {
        case 'this':
        case ']':
            regex = false;
            break;

        case ')':
            check = extra.tokenValues[extra.openParenToken - 1];
            regex = (check === 'if' || check === 'while' || check === 'for' || check === 'with');
            break;

        case '}':
            // Dividing a function by anything makes little sense,
            // but we have to check for that.
            regex = false;
            if (testKeyword(extra.tokenValues[extra.openCurlyToken - 3])) {
                // Anonymous function, e.g. function(){} /42
                check = extra.tokenValues[extra.openCurlyToken - 4];
                regex = check ? (FnExprTokens.indexOf(check) < 0) : false;
            } else if (testKeyword(extra.tokenValues[extra.openCurlyToken - 4])) {
                // Named function, e.g. function f(){} /42/
                check = extra.tokenValues[extra.openCurlyToken - 5];
                regex = check ? (FnExprTokens.indexOf(check) < 0) : true;
            }
        }

        return regex ? collectRegex() : scanPunctuator();
    }

    function advance() {
        var cp, token;

        if (index >= length) {
            return {
                type: Token.EOF,
                lineNumber: lineNumber,
                lineStart: lineStart,
                start: index,
                end: index
            };
        }

        cp = source.charCodeAt(index);

        if (isIdentifierStart(cp)) {
            token = scanIdentifier();
            if (strict && isStrictModeReservedWord(token.value)) {
                token.type = Token.Keyword;
            }
            return token;
        }

        // Very common: ( and ) and ;
        if (cp === 0x28 || cp === 0x29 || cp === 0x3B) {
            return scanPunctuator();
        }

        // String literal starts with single quote (U+0027) or double quote (U+0022).
        if (cp === 0x27 || cp === 0x22) {
            return scanStringLiteral();
        }

        // Dot (.) U+002E can also start a floating-point number, hence the need
        // to check the next character.
        if (cp === 0x2E) {
            if (isDecimalDigit(source.charCodeAt(index + 1))) {
                return scanNumericLiteral();
            }
            return scanPunctuator();
        }

        if (isDecimalDigit(cp)) {
            return scanNumericLiteral();
        }

        // Slash (/) U+002F can also start a regex.
        if (extra.tokenize && cp === 0x2F) {
            return advanceSlash();
        }

        // Template literals start with ` (U+0060) for template head
        // or } (U+007D) for template middle or template tail.
        if (cp === 0x60 || (cp === 0x7D && state.curlyStack[state.curlyStack.length - 1] === '${')) {
            return scanTemplate();
        }

        // Possible identifier start in a surrogate pair.
        if (cp >= 0xD800 && cp < 0xDFFF) {
            cp = codePointAt(index);
            if (isIdentifierStart(cp)) {
                return scanIdentifier();
            }
        }

        return scanPunctuator();
    }

    function collectToken() {
        var loc, token, value, entry;

        loc = {
            start: {
                line: lineNumber,
                column: index - lineStart
            }
        };

        token = advance();
        loc.end = {
            line: lineNumber,
            column: index - lineStart
        };

        if (token.type !== Token.EOF) {
            value = source.slice(token.start, token.end);
            entry = {
                type: TokenName[token.type],
                value: value,
                range: [token.start, token.end],
                loc: loc
            };
            if (token.regex) {
                entry.regex = {
                    pattern: token.regex.pattern,
                    flags: token.regex.flags
                };
            }
            if (extra.tokenValues) {
                extra.tokenValues.push((entry.type === 'Punctuator' || entry.type === 'Keyword') ? entry.value : null);
            }
            if (extra.tokenize) {
                if (!extra.range) {
                    delete entry.range;
                }
                if (!extra.loc) {
                    delete entry.loc;
                }
                if (extra.delegate) {
                    entry = extra.delegate(entry);
                }
            }
            extra.tokens.push(entry);
        }

        return token;
    }

    function lex() {
        var token;
        scanning = true;

        lastIndex = index;
        lastLineNumber = lineNumber;
        lastLineStart = lineStart;

        skipComment();

        token = lookahead;

        startIndex = index;
        startLineNumber = lineNumber;
        startLineStart = lineStart;

        lookahead = (typeof extra.tokens !== 'undefined') ? collectToken() : advance();
        scanning = false;
        return token;
    }

    function peek() {
        scanning = true;

        skipComment();

        lastIndex = index;
        lastLineNumber = lineNumber;
        lastLineStart = lineStart;

        startIndex = index;
        startLineNumber = lineNumber;
        startLineStart = lineStart;

        lookahead = (typeof extra.tokens !== 'undefined') ? collectToken() : advance();
        scanning = false;
    }

    function Position() {
        this.line = startLineNumber;
        this.column = startIndex - startLineStart;
    }

    function SourceLocation() {
        this.start = new Position();
        this.end = null;
    }

    function WrappingSourceLocation(startToken) {
        this.start = {
            line: startToken.lineNumber,
            column: startToken.start - startToken.lineStart
        };
        this.end = null;
    }

    function Node() {
        if (extra.range) {
            this.range = [startIndex, 0];
        }
        if (extra.loc) {
            this.loc = new SourceLocation();
        }
    }

    function WrappingNode(startToken) {
        if (extra.range) {
            this.range = [startToken.start, 0];
        }
        if (extra.loc) {
            this.loc = new WrappingSourceLocation(startToken);
        }
    }

    WrappingNode.prototype = Node.prototype = {

        processComment: function () {
            var lastChild,
                innerComments,
                leadingComments,
                trailingComments,
                bottomRight = extra.bottomRightStack,
                i,
                comment,
                last = bottomRight[bottomRight.length - 1];

            if (this.type === Syntax.Program) {
                if (this.body.length > 0) {
                    return;
                }
            }
            /**
             * patch innnerComments for properties empty block
             * `function a() {/** comments **\/}`
             */

            if (this.type === Syntax.BlockStatement && this.body.length === 0) {
                innerComments = [];
                for (i = extra.leadingComments.length - 1; i >= 0; --i) {
                    comment = extra.leadingComments[i];
                    if (this.range[1] >= comment.range[1]) {
                        innerComments.unshift(comment);
                        extra.leadingComments.splice(i, 1);
                        extra.trailingComments.splice(i, 1);
                    }
                }
                if (innerComments.length) {
                    this.innerComments = innerComments;
                    //bottomRight.push(this);
                    return;
                }
            }

            if (extra.trailingComments.length > 0) {
                trailingComments = [];
                for (i = extra.trailingComments.length - 1; i >= 0; --i) {
                    comment = extra.trailingComments[i];
                    if (comment.range[0] >= this.range[1]) {
                        trailingComments.unshift(comment);
                        extra.trailingComments.splice(i, 1);
                    }
                }
                extra.trailingComments = [];
            } else {
                if (last && last.trailingComments && last.trailingComments[0].range[0] >= this.range[1]) {
                    trailingComments = last.trailingComments;
                    delete last.trailingComments;
                }
            }

            // Eating the stack.
            while (last && last.range[0] >= this.range[0]) {
                lastChild = bottomRight.pop();
                last = bottomRight[bottomRight.length - 1];
            }

            if (lastChild) {
                if (lastChild.leadingComments) {
                    leadingComments = [];
                    for (i = lastChild.leadingComments.length - 1; i >= 0; --i) {
                        comment = lastChild.leadingComments[i];
                        if (comment.range[1] <= this.range[0]) {
                            leadingComments.unshift(comment);
                            lastChild.leadingComments.splice(i, 1);
                        }
                    }

                    if (!lastChild.leadingComments.length) {
                        lastChild.leadingComments = undefined;
                    }
                }
            } else if (extra.leadingComments.length > 0) {
                leadingComments = [];
                for (i = extra.leadingComments.length - 1; i >= 0; --i) {
                    comment = extra.leadingComments[i];
                    if (comment.range[1] <= this.range[0]) {
                        leadingComments.unshift(comment);
                        extra.leadingComments.splice(i, 1);
                    }
                }
            }


            if (leadingComments && leadingComments.length > 0) {
                this.leadingComments = leadingComments;
            }
            if (trailingComments && trailingComments.length > 0) {
                this.trailingComments = trailingComments;
            }

            bottomRight.push(this);
        },

        finish: function () {
            if (extra.range) {
                this.range[1] = lastIndex;
            }
            if (extra.loc) {
                this.loc.end = {
                    line: lastLineNumber,
                    column: lastIndex - lastLineStart
                };
                if (extra.source) {
                    this.loc.source = extra.source;
                }
            }

            if (extra.attachComment) {
                this.processComment();
            }
        },

        finishArrayExpression: function (elements) {
            this.type = Syntax.ArrayExpression;
            this.elements = elements;
            this.finish();
            return this;
        },

        finishArrayPattern: function (elements) {
            this.type = Syntax.ArrayPattern;
            this.elements = elements;
            this.finish();
            return this;
        },

        finishArrowFunctionExpression: function (params, defaults, body, expression) {
            this.type = Syntax.ArrowFunctionExpression;
            this.id = null;
            this.params = params;
            this.defaults = defaults;
            this.body = body;
            this.generator = false;
            this.expression = expression;
            this.finish();
            return this;
        },

        finishAssignmentExpression: function (operator, left, right) {
            this.type = Syntax.AssignmentExpression;
            this.operator = operator;
            this.left = left;
            this.right = right;
            this.finish();
            return this;
        },

        finishAssignmentPattern: function (left, right) {
            this.type = Syntax.AssignmentPattern;
            this.left = left;
            this.right = right;
            this.finish();
            return this;
        },

        finishBinaryExpression: function (operator, left, right) {
            this.type = (operator === '||' || operator === '&&') ? Syntax.LogicalExpression : Syntax.BinaryExpression;
            this.operator = operator;
            this.left = left;
            this.right = right;
            this.finish();
            return this;
        },

        finishBlockStatement: function (body) {
            this.type = Syntax.BlockStatement;
            this.body = body;
            this.finish();
            return this;
        },

        finishBreakStatement: function (label) {
            this.type = Syntax.BreakStatement;
            this.label = label;
            this.finish();
            return this;
        },

        finishCallExpression: function (callee, args) {
            this.type = Syntax.CallExpression;
            this.callee = callee;
            this.arguments = args;
            this.finish();
            return this;
        },

        finishCatchClause: function (param, body) {
            this.type = Syntax.CatchClause;
            this.param = param;
            this.body = body;
            this.finish();
            return this;
        },

        finishClassBody: function (body) {
            this.type = Syntax.ClassBody;
            this.body = body;
            this.finish();
            return this;
        },

        finishClassDeclaration: function (id, superClass, body) {
            this.type = Syntax.ClassDeclaration;
            this.id = id;
            this.superClass = superClass;
            this.body = body;
            this.finish();
            return this;
        },

        finishClassExpression: function (id, superClass, body) {
            this.type = Syntax.ClassExpression;
            this.id = id;
            this.superClass = superClass;
            this.body = body;
            this.finish();
            return this;
        },

        finishConditionalExpression: function (test, consequent, alternate) {
            this.type = Syntax.ConditionalExpression;
            this.test = test;
            this.consequent = consequent;
            this.alternate = alternate;
            this.finish();
            return this;
        },

        finishContinueStatement: function (label) {
            this.type = Syntax.ContinueStatement;
            this.label = label;
            this.finish();
            return this;
        },

        finishDebuggerStatement: function () {
            this.type = Syntax.DebuggerStatement;
            this.finish();
            return this;
        },

        finishDoWhileStatement: function (body, test) {
            this.type = Syntax.DoWhileStatement;
            this.body = body;
            this.test = test;
            this.finish();
            return this;
        },

        finishEmptyStatement: function () {
            this.type = Syntax.EmptyStatement;
            this.finish();
            return this;
        },

        finishExpressionStatement: function (expression) {
            this.type = Syntax.ExpressionStatement;
            this.expression = expression;
            this.finish();
            return this;
        },

        finishForStatement: function (init, test, update, body) {
            this.type = Syntax.ForStatement;
            this.init = init;
            this.test = test;
            this.update = update;
            this.body = body;
            this.finish();
            return this;
        },

        finishForOfStatement: function (left, right, body) {
            this.type = Syntax.ForOfStatement;
            this.left = left;
            this.right = right;
            this.body = body;
            this.finish();
            return this;
        },

        finishForInStatement: function (left, right, body) {
            this.type = Syntax.ForInStatement;
            this.left = left;
            this.right = right;
            this.body = body;
            this.each = false;
            this.finish();
            return this;
        },

        finishFunctionDeclaration: function (id, params, defaults, body, generator) {
            this.type = Syntax.FunctionDeclaration;
            this.id = id;
            this.params = params;
            this.defaults = defaults;
            this.body = body;
            this.generator = generator;
            this.expression = false;
            this.finish();
            return this;
        },

        finishFunctionExpression: function (id, params, defaults, body, generator) {
            this.type = Syntax.FunctionExpression;
            this.id = id;
            this.params = params;
            this.defaults = defaults;
            this.body = body;
            this.generator = generator;
            this.expression = false;
            this.finish();
            return this;
        },

        finishIdentifier: function (name) {
            this.type = Syntax.Identifier;
            this.name = name;
            this.finish();
            return this;
        },

        finishIfStatement: function (test, consequent, alternate) {
            this.type = Syntax.IfStatement;
            this.test = test;
            this.consequent = consequent;
            this.alternate = alternate;
            this.finish();
            return this;
        },

        finishLabeledStatement: function (label, body) {
            this.type = Syntax.LabeledStatement;
            this.label = label;
            this.body = body;
            this.finish();
            return this;
        },

        finishLiteral: function (token) {
            this.type = Syntax.Literal;
            this.value = token.value;
            this.raw = source.slice(token.start, token.end);
            if (token.regex) {
                this.regex = token.regex;
            }
            this.finish();
            return this;
        },

        finishMemberExpression: function (accessor, object, property) {
            this.type = Syntax.MemberExpression;
            this.computed = accessor === '[';
            this.object = object;
            this.property = property;
            this.finish();
            return this;
        },

        finishMetaProperty: function (meta, property) {
            this.type = Syntax.MetaProperty;
            this.meta = meta;
            this.property = property;
            this.finish();
            return this;
        },

        finishNewExpression: function (callee, args) {
            this.type = Syntax.NewExpression;
            this.callee = callee;
            this.arguments = args;
            this.finish();
            return this;
        },

        finishObjectExpression: function (properties) {
            this.type = Syntax.ObjectExpression;
            this.properties = properties;
            this.finish();
            return this;
        },

        finishObjectPattern: function (properties) {
            this.type = Syntax.ObjectPattern;
            this.properties = properties;
            this.finish();
            return this;
        },

        finishPostfixExpression: function (operator, argument) {
            this.type = Syntax.UpdateExpression;
            this.operator = operator;
            this.argument = argument;
            this.prefix = false;
            this.finish();
            return this;
        },

        finishProgram: function (body, sourceType) {
            this.type = Syntax.Program;
            this.body = body;
            this.sourceType = sourceType;
            this.finish();
            return this;
        },

        finishProperty: function (kind, key, computed, value, method, shorthand) {
            this.type = Syntax.Property;
            this.key = key;
            this.computed = computed;
            this.value = value;
            this.kind = kind;
            this.method = method;
            this.shorthand = shorthand;
            this.finish();
            return this;
        },

        finishRestElement: function (argument) {
            this.type = Syntax.RestElement;
            this.argument = argument;
            this.finish();
            return this;
        },

        finishReturnStatement: function (argument) {
            this.type = Syntax.ReturnStatement;
            this.argument = argument;
            this.finish();
            return this;
        },

        finishSequenceExpression: function (expressions) {
            this.type = Syntax.SequenceExpression;
            this.expressions = expressions;
            this.finish();
            return this;
        },

        finishSpreadElement: function (argument) {
            this.type = Syntax.SpreadElement;
            this.argument = argument;
            this.finish();
            return this;
        },

        finishSwitchCase: function (test, consequent) {
            this.type = Syntax.SwitchCase;
            this.test = test;
            this.consequent = consequent;
            this.finish();
            return this;
        },

        finishSuper: function () {
            this.type = Syntax.Super;
            this.finish();
            return this;
        },

        finishSwitchStatement: function (discriminant, cases) {
            this.type = Syntax.SwitchStatement;
            this.discriminant = discriminant;
            this.cases = cases;
            this.finish();
            return this;
        },

        finishTaggedTemplateExpression: function (tag, quasi) {
            this.type = Syntax.TaggedTemplateExpression;
            this.tag = tag;
            this.quasi = quasi;
            this.finish();
            return this;
        },

        finishTemplateElement: function (value, tail) {
            this.type = Syntax.TemplateElement;
            this.value = value;
            this.tail = tail;
            this.finish();
            return this;
        },

        finishTemplateLiteral: function (quasis, expressions) {
            this.type = Syntax.TemplateLiteral;
            this.quasis = quasis;
            this.expressions = expressions;
            this.finish();
            return this;
        },

        finishThisExpression: function () {
            this.type = Syntax.ThisExpression;
            this.finish();
            return this;
        },

        finishThrowStatement: function (argument) {
            this.type = Syntax.ThrowStatement;
            this.argument = argument;
            this.finish();
            return this;
        },

        finishTryStatement: function (block, handler, finalizer) {
            this.type = Syntax.TryStatement;
            this.block = block;
            this.guardedHandlers = [];
            this.handlers = handler ? [handler] : [];
            this.handler = handler;
            this.finalizer = finalizer;
            this.finish();
            return this;
        },

        finishUnaryExpression: function (operator, argument) {
            this.type = (operator === '++' || operator === '--') ? Syntax.UpdateExpression : Syntax.UnaryExpression;
            this.operator = operator;
            this.argument = argument;
            this.prefix = true;
            this.finish();
            return this;
        },

        finishVariableDeclaration: function (declarations) {
            this.type = Syntax.VariableDeclaration;
            this.declarations = declarations;
            this.kind = 'var';
            this.finish();
            return this;
        },

        finishLexicalDeclaration: function (declarations, kind) {
            this.type = Syntax.VariableDeclaration;
            this.declarations = declarations;
            this.kind = kind;
            this.finish();
            return this;
        },

        finishVariableDeclarator: function (id, init) {
            this.type = Syntax.VariableDeclarator;
            this.id = id;
            this.init = init;
            this.finish();
            return this;
        },

        finishWhileStatement: function (test, body) {
            this.type = Syntax.WhileStatement;
            this.test = test;
            this.body = body;
            this.finish();
            return this;
        },

        finishWithStatement: function (object, body) {
            this.type = Syntax.WithStatement;
            this.object = object;
            this.body = body;
            this.finish();
            return this;
        },

        finishExportSpecifier: function (local, exported) {
            this.type = Syntax.ExportSpecifier;
            this.exported = exported || local;
            this.local = local;
            this.finish();
            return this;
        },

        finishImportDefaultSpecifier: function (local) {
            this.type = Syntax.ImportDefaultSpecifier;
            this.local = local;
            this.finish();
            return this;
        },

        finishImportNamespaceSpecifier: function (local) {
            this.type = Syntax.ImportNamespaceSpecifier;
            this.local = local;
            this.finish();
            return this;
        },

        finishExportNamedDeclaration: function (declaration, specifiers, src) {
            this.type = Syntax.ExportNamedDeclaration;
            this.declaration = declaration;
            this.specifiers = specifiers;
            this.source = src;
            this.finish();
            return this;
        },

        finishExportDefaultDeclaration: function (declaration) {
            this.type = Syntax.ExportDefaultDeclaration;
            this.declaration = declaration;
            this.finish();
            return this;
        },

        finishExportAllDeclaration: function (src) {
            this.type = Syntax.ExportAllDeclaration;
            this.source = src;
            this.finish();
            return this;
        },

        finishImportSpecifier: function (local, imported) {
            this.type = Syntax.ImportSpecifier;
            this.local = local || imported;
            this.imported = imported;
            this.finish();
            return this;
        },

        finishImportDeclaration: function (specifiers, src) {
            this.type = Syntax.ImportDeclaration;
            this.specifiers = specifiers;
            this.source = src;
            this.finish();
            return this;
        },

        finishYieldExpression: function (argument, delegate) {
            this.type = Syntax.YieldExpression;
            this.argument = argument;
            this.delegate = delegate;
            this.finish();
            return this;
        }
    };


    function recordError(error) {
        var e, existing;

        for (e = 0; e < extra.errors.length; e++) {
            existing = extra.errors[e];
            // Prevent duplicated error.
            /* istanbul ignore next */
            if (existing.index === error.index && existing.message === error.message) {
                return;
            }
        }

        extra.errors.push(error);
    }

    function constructError(msg, column) {
        var error = new Error(msg);
        try {
            throw error;
        } catch (base) {
            /* istanbul ignore else */
            if (Object.create && Object.defineProperty) {
                error = Object.create(base);
                Object.defineProperty(error, 'column', { value: column });
            }
        } finally {
            return error;
        }
    }

    function createError(line, pos, description) {
        var msg, column, error;

        msg = 'Line ' + line + ': ' + description;
        column = pos - (scanning ? lineStart : lastLineStart) + 1;
        error = constructError(msg, column);
        error.lineNumber = line;
        error.description = description;
        error.index = pos;
        return error;
    }

    // Throw an exception

    function throwError(messageFormat) {
        var args, msg;

        args = Array.prototype.slice.call(arguments, 1);
        msg = messageFormat.replace(/%(\d)/g,
            function (whole, idx) {
                assert(idx < args.length, 'Message reference must be in range');
                return args[idx];
            }
        );

        throw createError(lastLineNumber, lastIndex, msg);
    }

    function tolerateError(messageFormat) {
        var args, msg, error;

        args = Array.prototype.slice.call(arguments, 1);
        /* istanbul ignore next */
        msg = messageFormat.replace(/%(\d)/g,
            function (whole, idx) {
                assert(idx < args.length, 'Message reference must be in range');
                return args[idx];
            }
        );

        error = createError(lineNumber, lastIndex, msg);
        if (extra.errors) {
            recordError(error);
        } else {
            throw error;
        }
    }

    // Throw an exception because of the token.

    function unexpectedTokenError(token, message) {
        var value, msg = message || Messages.UnexpectedToken;

        if (token) {
            if (!message) {
                msg = (token.type === Token.EOF) ? Messages.UnexpectedEOS :
                    (token.type === Token.Identifier) ? Messages.UnexpectedIdentifier :
                    (token.type === Token.NumericLiteral) ? Messages.UnexpectedNumber :
                    (token.type === Token.StringLiteral) ? Messages.UnexpectedString :
                    (token.type === Token.Template) ? Messages.UnexpectedTemplate :
                    Messages.UnexpectedToken;

                if (token.type === Token.Keyword) {
                    if (isFutureReservedWord(token.value)) {
                        msg = Messages.UnexpectedReserved;
                    } else if (strict && isStrictModeReservedWord(token.value)) {
                        msg = Messages.StrictReservedWord;
                    }
                }
            }

            value = (token.type === Token.Template) ? token.value.raw : token.value;
        } else {
            value = 'ILLEGAL';
        }

        msg = msg.replace('%0', value);

        return (token && typeof token.lineNumber === 'number') ?
            createError(token.lineNumber, token.start, msg) :
            createError(scanning ? lineNumber : lastLineNumber, scanning ? index : lastIndex, msg);
    }

    function throwUnexpectedToken(token, message) {
        throw unexpectedTokenError(token, message);
    }

    function tolerateUnexpectedToken(token, message) {
        var error = unexpectedTokenError(token, message);
        if (extra.errors) {
            recordError(error);
        } else {
            throw error;
        }
    }

    // Expect the next token to match the specified punctuator.
    // If not, an exception will be thrown.

    function expect(value) {
        var token = lex();
        if (token.type !== Token.Punctuator || token.value !== value) {
            throwUnexpectedToken(token);
        }
    }

    /**
     * @name expectCommaSeparator
     * @description Quietly expect a comma when in tolerant mode, otherwise delegates
     * to <code>expect(value)</code>
     * @since 2.0
     */
    function expectCommaSeparator() {
        var token;

        if (extra.errors) {
            token = lookahead;
            if (token.type === Token.Punctuator && token.value === ',') {
                lex();
            } else if (token.type === Token.Punctuator && token.value === ';') {
                lex();
                tolerateUnexpectedToken(token);
            } else {
                tolerateUnexpectedToken(token, Messages.UnexpectedToken);
            }
        } else {
            expect(',');
        }
    }

    // Expect the next token to match the specified keyword.
    // If not, an exception will be thrown.

    function expectKeyword(keyword) {
        var token = lex();
        if (token.type !== Token.Keyword || token.value !== keyword) {
            throwUnexpectedToken(token);
        }
    }

    // Return true if the next token matches the specified punctuator.

    function match(value) {
        return lookahead.type === Token.Punctuator && lookahead.value === value;
    }

    // Return true if the next token matches the specified keyword

    function matchKeyword(keyword) {
        return lookahead.type === Token.Keyword && lookahead.value === keyword;
    }

    // Return true if the next token matches the specified contextual keyword
    // (where an identifier is sometimes a keyword depending on the context)

    function matchContextualKeyword(keyword) {
        return lookahead.type === Token.Identifier && lookahead.value === keyword;
    }

    // Return true if the next token is an assignment operator

    function matchAssign() {
        var op;

        if (lookahead.type !== Token.Punctuator) {
            return false;
        }
        op = lookahead.value;
        return op === '=' ||
            op === '*=' ||
            op === '/=' ||
            op === '%=' ||
            op === '+=' ||
            op === '-=' ||
            op === '<<=' ||
            op === '>>=' ||
            op === '>>>=' ||
            op === '&=' ||
            op === '^=' ||
            op === '|=';
    }

    function consumeSemicolon() {
        // Catch the very common case first: immediately a semicolon (U+003B).
        if (source.charCodeAt(startIndex) === 0x3B || match(';')) {
            lex();
            return;
        }

        if (hasLineTerminator) {
            return;
        }

        // FIXME(ikarienator): this is seemingly an issue in the previous location info convention.
        lastIndex = startIndex;
        lastLineNumber = startLineNumber;
        lastLineStart = startLineStart;

        if (lookahead.type !== Token.EOF && !match('}')) {
            throwUnexpectedToken(lookahead);
        }
    }

    // Cover grammar support.
    //
    // When an assignment expression position starts with an left parenthesis, the determination of the type
    // of the syntax is to be deferred arbitrarily long until the end of the parentheses pair (plus a lookahead)
    // or the first comma. This situation also defers the determination of all the expressions nested in the pair.
    //
    // There are three productions that can be parsed in a parentheses pair that needs to be determined
    // after the outermost pair is closed. They are:
    //
    //   1. AssignmentExpression
    //   2. BindingElements
    //   3. AssignmentTargets
    //
    // In order to avoid exponential backtracking, we use two flags to denote if the production can be
    // binding element or assignment target.
    //
    // The three productions have the relationship:
    //
    //   BindingElements ⊆ AssignmentTargets ⊆ AssignmentExpression
    //
    // with a single exception that CoverInitializedName when used directly in an Expression, generates
    // an early error. Therefore, we need the third state, firstCoverInitializedNameError, to track the
    // first usage of CoverInitializedName and report it when we reached the end of the parentheses pair.
    //
    // isolateCoverGrammar function runs the given parser function with a new cover grammar context, and it does not
    // effect the current flags. This means the production the parser parses is only used as an expression. Therefore
    // the CoverInitializedName check is conducted.
    //
    // inheritCoverGrammar function runs the given parse function with a new cover grammar context, and it propagates
    // the flags outside of the parser. This means the production the parser parses is used as a part of a potential
    // pattern. The CoverInitializedName check is deferred.
    function isolateCoverGrammar(parser) {
        var oldIsBindingElement = isBindingElement,
            oldIsAssignmentTarget = isAssignmentTarget,
            oldFirstCoverInitializedNameError = firstCoverInitializedNameError,
            result;
        isBindingElement = true;
        isAssignmentTarget = true;
        firstCoverInitializedNameError = null;
        result = parser();
        if (firstCoverInitializedNameError !== null) {
            throwUnexpectedToken(firstCoverInitializedNameError);
        }
        isBindingElement = oldIsBindingElement;
        isAssignmentTarget = oldIsAssignmentTarget;
        firstCoverInitializedNameError = oldFirstCoverInitializedNameError;
        return result;
    }

    function inheritCoverGrammar(parser) {
        var oldIsBindingElement = isBindingElement,
            oldIsAssignmentTarget = isAssignmentTarget,
            oldFirstCoverInitializedNameError = firstCoverInitializedNameError,
            result;
        isBindingElement = true;
        isAssignmentTarget = true;
        firstCoverInitializedNameError = null;
        result = parser();
        isBindingElement = isBindingElement && oldIsBindingElement;
        isAssignmentTarget = isAssignmentTarget && oldIsAssignmentTarget;
        firstCoverInitializedNameError = oldFirstCoverInitializedNameError || firstCoverInitializedNameError;
        return result;
    }

    // ECMA-262 13.3.3 Destructuring Binding Patterns

    function parseArrayPattern(params, kind) {
        var node = new Node(), elements = [], rest, restNode;
        expect('[');

        while (!match(']')) {
            if (match(',')) {
                lex();
                elements.push(null);
            } else {
                if (match('...')) {
                    restNode = new Node();
                    lex();
                    params.push(lookahead);
                    rest = parseVariableIdentifier(kind);
                    elements.push(restNode.finishRestElement(rest));
                    break;
                } else {
                    elements.push(parsePatternWithDefault(params, kind));
                }
                if (!match(']')) {
                    expect(',');
                }
            }

        }

        expect(']');

        return node.finishArrayPattern(elements);
    }

    function parsePropertyPattern(params, kind) {
        var node = new Node(), key, keyToken, computed = match('['), init;
        if (lookahead.type === Token.Identifier) {
            keyToken = lookahead;
            key = parseVariableIdentifier();
            if (match('=')) {
                params.push(keyToken);
                lex();
                init = parseAssignmentExpression();

                return node.finishProperty(
                    'init', key, false,
                    new WrappingNode(keyToken).finishAssignmentPattern(key, init), false, true);
            } else if (!match(':')) {
                params.push(keyToken);
                return node.finishProperty('init', key, false, key, false, true);
            }
        } else {
            key = parseObjectPropertyKey();
        }
        expect(':');
        init = parsePatternWithDefault(params, kind);
        return node.finishProperty('init', key, computed, init, false, false);
    }

    function parseObjectPattern(params, kind) {
        var node = new Node(), properties = [];

        expect('{');

        while (!match('}')) {
            properties.push(parsePropertyPattern(params, kind));
            if (!match('}')) {
                expect(',');
            }
        }

        lex();

        return node.finishObjectPattern(properties);
    }

    function parsePattern(params, kind) {
        if (match('[')) {
            return parseArrayPattern(params, kind);
        } else if (match('{')) {
            return parseObjectPattern(params, kind);
        } else if (matchKeyword('let')) {
            if (kind === 'const' || kind === 'let') {
                tolerateUnexpectedToken(lookahead, Messages.UnexpectedToken);
            }
        }

        params.push(lookahead);
        return parseVariableIdentifier(kind);
    }

    function parsePatternWithDefault(params, kind) {
        var startToken = lookahead, pattern, previousAllowYield, right;
        pattern = parsePattern(params, kind);
        if (match('=')) {
            lex();
            previousAllowYield = state.allowYield;
            state.allowYield = true;
            right = isolateCoverGrammar(parseAssignmentExpression);
            state.allowYield = previousAllowYield;
            pattern = new WrappingNode(startToken).finishAssignmentPattern(pattern, right);
        }
        return pattern;
    }

    // ECMA-262 12.2.5 Array Initializer

    function parseArrayInitializer() {
        var elements = [], node = new Node(), restSpread;

        expect('[');

        while (!match(']')) {
            if (match(',')) {
                lex();
                elements.push(null);
            } else if (match('...')) {
                restSpread = new Node();
                lex();
                restSpread.finishSpreadElement(inheritCoverGrammar(parseAssignmentExpression));

                if (!match(']')) {
                    isAssignmentTarget = isBindingElement = false;
                    expect(',');
                }
                elements.push(restSpread);
            } else {
                elements.push(inheritCoverGrammar(parseAssignmentExpression));

                if (!match(']')) {
                    expect(',');
                }
            }
        }

        lex();

        return node.finishArrayExpression(elements);
    }

    // ECMA-262 12.2.6 Object Initializer

    function parsePropertyFunction(node, paramInfo, isGenerator) {
        var previousStrict, body;

        isAssignmentTarget = isBindingElement = false;

        previousStrict = strict;
        body = isolateCoverGrammar(parseFunctionSourceElements);

        if (strict && paramInfo.firstRestricted) {
            tolerateUnexpectedToken(paramInfo.firstRestricted, paramInfo.message);
        }
        if (strict && paramInfo.stricted) {
            tolerateUnexpectedToken(paramInfo.stricted, paramInfo.message);
        }

        strict = previousStrict;
        return node.finishFunctionExpression(null, paramInfo.params, paramInfo.defaults, body, isGenerator);
    }

    function parsePropertyMethodFunction() {
        var params, method, node = new Node(),
            previousAllowYield = state.allowYield;

        state.allowYield = false;
        params = parseParams();
        state.allowYield = previousAllowYield;

        state.allowYield = false;
        method = parsePropertyFunction(node, params, false);
        state.allowYield = previousAllowYield;

        return method;
    }

    function parseObjectPropertyKey() {
        var token, node = new Node(), expr;

        token = lex();

        // Note: This function is called only from parseObjectProperty(), where
        // EOF and Punctuator tokens are already filtered out.

        switch (token.type) {
        case Token.StringLiteral:
        case Token.NumericLiteral:
            if (strict && token.octal) {
                tolerateUnexpectedToken(token, Messages.StrictOctalLiteral);
            }
            return node.finishLiteral(token);
        case Token.Identifier:
        case Token.BooleanLiteral:
        case Token.NullLiteral:
        case Token.Keyword:
            return node.finishIdentifier(token.value);
        case Token.Punctuator:
            if (token.value === '[') {
                expr = isolateCoverGrammar(parseAssignmentExpression);
                expect(']');
                return expr;
            }
            break;
        }
        throwUnexpectedToken(token);
    }

    function lookaheadPropertyName() {
        switch (lookahead.type) {
        case Token.Identifier:
        case Token.StringLiteral:
        case Token.BooleanLiteral:
        case Token.NullLiteral:
        case Token.NumericLiteral:
        case Token.Keyword:
            return true;
        case Token.Punctuator:
            return lookahead.value === '[';
        }
        return false;
    }

    // This function is to try to parse a MethodDefinition as defined in 14.3. But in the case of object literals,
    // it might be called at a position where there is in fact a short hand identifier pattern or a data property.
    // This can only be determined after we consumed up to the left parentheses.
    //
    // In order to avoid back tracking, it returns `null` if the position is not a MethodDefinition and the caller
    // is responsible to visit other options.
    function tryParseMethodDefinition(token, key, computed, node) {
        var value, options, methodNode, params,
            previousAllowYield = state.allowYield;

        if (token.type === Token.Identifier) {
            // check for `get` and `set`;

            if (token.value === 'get' && lookaheadPropertyName()) {
                computed = match('[');
                key = parseObjectPropertyKey();
                methodNode = new Node();
                expect('(');
                expect(')');

                state.allowYield = false;
                value = parsePropertyFunction(methodNode, {
                    params: [],
                    defaults: [],
                    stricted: null,
                    firstRestricted: null,
                    message: null
                }, false);
                state.allowYield = previousAllowYield;

                return node.finishProperty('get', key, computed, value, false, false);
            } else if (token.value === 'set' && lookaheadPropertyName()) {
                computed = match('[');
                key = parseObjectPropertyKey();
                methodNode = new Node();
                expect('(');

                options = {
                    params: [],
                    defaultCount: 0,
                    defaults: [],
                    firstRestricted: null,
                    paramSet: {}
                };
                if (match(')')) {
                    tolerateUnexpectedToken(lookahead);
                } else {
                    state.allowYield = false;
                    parseParam(options);
                    state.allowYield = previousAllowYield;
                    if (options.defaultCount === 0) {
                        options.defaults = [];
                    }
                }
                expect(')');

                state.allowYield = false;
                value = parsePropertyFunction(methodNode, options, false);
                state.allowYield = previousAllowYield;

                return node.finishProperty('set', key, computed, value, false, false);
            }
        } else if (token.type === Token.Punctuator && token.value === '*' && lookaheadPropertyName()) {
            computed = match('[');
            key = parseObjectPropertyKey();
            methodNode = new Node();

            state.allowYield = true;
            params = parseParams();
            state.allowYield = previousAllowYield;

            state.allowYield = false;
            value = parsePropertyFunction(methodNode, params, true);
            state.allowYield = previousAllowYield;

            return node.finishProperty('init', key, computed, value, true, false);
        }

        if (key && match('(')) {
            value = parsePropertyMethodFunction();
            return node.finishProperty('init', key, computed, value, true, false);
        }

        // Not a MethodDefinition.
        return null;
    }

    function parseObjectProperty(hasProto) {
        var token = lookahead, node = new Node(), computed, key, maybeMethod, proto, value;

        computed = match('[');
        if (match('*')) {
            lex();
        } else {
            key = parseObjectPropertyKey();
        }
        maybeMethod = tryParseMethodDefinition(token, key, computed, node);
        if (maybeMethod) {
            return maybeMethod;
        }

        if (!key) {
            throwUnexpectedToken(lookahead);
        }

        // Check for duplicated __proto__
        if (!computed) {
            proto = (key.type === Syntax.Identifier && key.name === '__proto__') ||
                (key.type === Syntax.Literal && key.value === '__proto__');
            if (hasProto.value && proto) {
                tolerateError(Messages.DuplicateProtoProperty);
            }
            hasProto.value |= proto;
        }

        if (match(':')) {
            lex();
            value = inheritCoverGrammar(parseAssignmentExpression);
            return node.finishProperty('init', key, computed, value, false, false);
        }

        if (token.type === Token.Identifier) {
            if (match('=')) {
                firstCoverInitializedNameError = lookahead;
                lex();
                value = isolateCoverGrammar(parseAssignmentExpression);
                return node.finishProperty('init', key, computed,
                    new WrappingNode(token).finishAssignmentPattern(key, value), false, true);
            }
            return node.finishProperty('init', key, computed, key, false, true);
        }

        throwUnexpectedToken(lookahead);
    }

    function parseObjectInitializer() {
        var properties = [], hasProto = {value: false}, node = new Node();

        expect('{');

        while (!match('}')) {
            properties.push(parseObjectProperty(hasProto));

            if (!match('}')) {
                expectCommaSeparator();
            }
        }

        expect('}');

        return node.finishObjectExpression(properties);
    }

    function reinterpretExpressionAsPattern(expr) {
        var i;
        switch (expr.type) {
        case Syntax.Identifier:
        case Syntax.MemberExpression:
        case Syntax.RestElement:
        case Syntax.AssignmentPattern:
            break;
        case Syntax.SpreadElement:
            expr.type = Syntax.RestElement;
            reinterpretExpressionAsPattern(expr.argument);
            break;
        case Syntax.ArrayExpression:
            expr.type = Syntax.ArrayPattern;
            for (i = 0; i < expr.elements.length; i++) {
                if (expr.elements[i] !== null) {
                    reinterpretExpressionAsPattern(expr.elements[i]);
                }
            }
            break;
        case Syntax.ObjectExpression:
            expr.type = Syntax.ObjectPattern;
            for (i = 0; i < expr.properties.length; i++) {
                reinterpretExpressionAsPattern(expr.properties[i].value);
            }
            break;
        case Syntax.AssignmentExpression:
            expr.type = Syntax.AssignmentPattern;
            reinterpretExpressionAsPattern(expr.left);
            break;
        default:
            // Allow other node type for tolerant parsing.
            break;
        }
    }

    // ECMA-262 12.2.9 Template Literals

    function parseTemplateElement(option) {
        var node, token;

        if (lookahead.type !== Token.Template || (option.head && !lookahead.head)) {
            throwUnexpectedToken();
        }

        node = new Node();
        token = lex();

        return node.finishTemplateElement({ raw: token.value.raw, cooked: token.value.cooked }, token.tail);
    }

    function parseTemplateLiteral() {
        var quasi, quasis, expressions, node = new Node();

        quasi = parseTemplateElement({ head: true });
        quasis = [quasi];
        expressions = [];

        while (!quasi.tail) {
            expressions.push(parseExpression());
            quasi = parseTemplateElement({ head: false });
            quasis.push(quasi);
        }

        return node.finishTemplateLiteral(quasis, expressions);
    }

    // ECMA-262 12.2.10 The Grouping Operator

    function parseGroupExpression() {
        var expr, expressions, startToken, i, params = [];

        expect('(');

        if (match(')')) {
            lex();
            if (!match('=>')) {
                expect('=>');
            }
            return {
                type: PlaceHolders.ArrowParameterPlaceHolder,
                params: [],
                rawParams: []
            };
        }

        startToken = lookahead;
        if (match('...')) {
            expr = parseRestElement(params);
            expect(')');
            if (!match('=>')) {
                expect('=>');
            }
            return {
                type: PlaceHolders.ArrowParameterPlaceHolder,
                params: [expr]
            };
        }

        isBindingElement = true;
        expr = inheritCoverGrammar(parseAssignmentExpression);

        if (match(',')) {
            isAssignmentTarget = false;
            expressions = [expr];

            while (startIndex < length) {
                if (!match(',')) {
                    break;
                }
                lex();

                if (match('...')) {
                    if (!isBindingElement) {
                        throwUnexpectedToken(lookahead);
                    }
                    expressions.push(parseRestElement(params));
                    expect(')');
                    if (!match('=>')) {
                        expect('=>');
                    }
                    isBindingElement = false;
                    for (i = 0; i < expressions.length; i++) {
                        reinterpretExpressionAsPattern(expressions[i]);
                    }
                    return {
                        type: PlaceHolders.ArrowParameterPlaceHolder,
                        params: expressions
                    };
                }

                expressions.push(inheritCoverGrammar(parseAssignmentExpression));
            }

            expr = new WrappingNode(startToken).finishSequenceExpression(expressions);
        }


        expect(')');

        if (match('=>')) {
            if (expr.type === Syntax.Identifier && expr.name === 'yield') {
                return {
                    type: PlaceHolders.ArrowParameterPlaceHolder,
                    params: [expr]
                };
            }

            if (!isBindingElement) {
                throwUnexpectedToken(lookahead);
            }

            if (expr.type === Syntax.SequenceExpression) {
                for (i = 0; i < expr.expressions.length; i++) {
                    reinterpretExpressionAsPattern(expr.expressions[i]);
                }
            } else {
                reinterpretExpressionAsPattern(expr);
            }

            expr = {
                type: PlaceHolders.ArrowParameterPlaceHolder,
                params: expr.type === Syntax.SequenceExpression ? expr.expressions : [expr]
            };
        }
        isBindingElement = false;
        return expr;
    }


    // ECMA-262 12.2 Primary Expressions

    function parsePrimaryExpression() {
        var type, token, expr, node;

        if (match('(')) {
            isBindingElement = false;
            return inheritCoverGrammar(parseGroupExpression);
        }

        if (match('[')) {
            return inheritCoverGrammar(parseArrayInitializer);
        }

        if (match('{')) {
            return inheritCoverGrammar(parseObjectInitializer);
        }

        type = lookahead.type;
        node = new Node();

        if (type === Token.Identifier) {
            if (state.sourceType === 'module' && lookahead.value === 'await') {
                tolerateUnexpectedToken(lookahead);
            }
            expr = node.finishIdentifier(lex().value);
        } else if (type === Token.StringLiteral || type === Token.NumericLiteral) {
            isAssignmentTarget = isBindingElement = false;
            if (strict && lookahead.octal) {
                tolerateUnexpectedToken(lookahead, Messages.StrictOctalLiteral);
            }
            expr = node.finishLiteral(lex());
        } else if (type === Token.Keyword) {
            if (!strict && state.allowYield && matchKeyword('yield')) {
                return parseNonComputedProperty();
            }
            if (!strict && matchKeyword('let')) {
                return node.finishIdentifier(lex().value);
            }
            isAssignmentTarget = isBindingElement = false;
            if (matchKeyword('function')) {
                return parseFunctionExpression();
            }
            if (matchKeyword('this')) {
                lex();
                return node.finishThisExpression();
            }
            if (matchKeyword('class')) {
                return parseClassExpression();
            }
            throwUnexpectedToken(lex());
        } else if (type === Token.BooleanLiteral) {
            isAssignmentTarget = isBindingElement = false;
            token = lex();
            token.value = (token.value === 'true');
            expr = node.finishLiteral(token);
        } else if (type === Token.NullLiteral) {
            isAssignmentTarget = isBindingElement = false;
            token = lex();
            token.value = null;
            expr = node.finishLiteral(token);
        } else if (match('/') || match('/=')) {
            isAssignmentTarget = isBindingElement = false;
            index = startIndex;

            if (typeof extra.tokens !== 'undefined') {
                token = collectRegex();
            } else {
                token = scanRegExp();
            }
            lex();
            expr = node.finishLiteral(token);
        } else if (type === Token.Template) {
            expr = parseTemplateLiteral();
        } else {
            throwUnexpectedToken(lex());
        }

        return expr;
    }

    // ECMA-262 12.3 Left-Hand-Side Expressions

    function parseArguments() {
        var args = [], expr;

        expect('(');

        if (!match(')')) {
            while (startIndex < length) {
                if (match('...')) {
                    expr = new Node();
                    lex();
                    expr.finishSpreadElement(isolateCoverGrammar(parseAssignmentExpression));
                } else {
                    expr = isolateCoverGrammar(parseAssignmentExpression);
                }
                args.push(expr);
                if (match(')')) {
                    break;
                }
                expectCommaSeparator();
            }
        }

        expect(')');

        return args;
    }

    function parseNonComputedProperty() {
        var token, node = new Node();

        token = lex();

        if (!isIdentifierName(token)) {
            throwUnexpectedToken(token);
        }

        return node.finishIdentifier(token.value);
    }

    function parseNonComputedMember() {
        expect('.');

        return parseNonComputedProperty();
    }

    function parseComputedMember() {
        var expr;

        expect('[');

        expr = isolateCoverGrammar(parseExpression);

        expect(']');

        return expr;
    }

    // ECMA-262 12.3.3 The new Operator

    function parseNewExpression() {
        var callee, args, node = new Node();

        expectKeyword('new');

        if (match('.')) {
            lex();
            if (lookahead.type === Token.Identifier && lookahead.value === 'target') {
                if (state.inFunctionBody) {
                    lex();
                    return node.finishMetaProperty('new', 'target');
                }
            }
            throwUnexpectedToken(lookahead);
        }

        callee = isolateCoverGrammar(parseLeftHandSideExpression);
        args = match('(') ? parseArguments() : [];

        isAssignmentTarget = isBindingElement = false;

        return node.finishNewExpression(callee, args);
    }

    // ECMA-262 12.3.4 Function Calls

    function parseLeftHandSideExpressionAllowCall() {
        var quasi, expr, args, property, startToken, previousAllowIn = state.allowIn;

        startToken = lookahead;
        state.allowIn = true;

        if (matchKeyword('super') && state.inFunctionBody) {
            expr = new Node();
            lex();
            expr = expr.finishSuper();
            if (!match('(') && !match('.') && !match('[')) {
                throwUnexpectedToken(lookahead);
            }
        } else {
            expr = inheritCoverGrammar(matchKeyword('new') ? parseNewExpression : parsePrimaryExpression);
        }

        for (;;) {
            if (match('.')) {
                isBindingElement = false;
                isAssignmentTarget = true;
                property = parseNonComputedMember();
                expr = new WrappingNode(startToken).finishMemberExpression('.', expr, property);
            } else if (match('(')) {
                isBindingElement = false;
                isAssignmentTarget = false;
                args = parseArguments();
                expr = new WrappingNode(startToken).finishCallExpression(expr, args);
            } else if (match('[')) {
                isBindingElement = false;
                isAssignmentTarget = true;
                property = parseComputedMember();
                expr = new WrappingNode(startToken).finishMemberExpression('[', expr, property);
            } else if (lookahead.type === Token.Template && lookahead.head) {
                quasi = parseTemplateLiteral();
                expr = new WrappingNode(startToken).finishTaggedTemplateExpression(expr, quasi);
            } else {
                break;
            }
        }
        state.allowIn = previousAllowIn;

        return expr;
    }

    // ECMA-262 12.3 Left-Hand-Side Expressions

    function parseLeftHandSideExpression() {
        var quasi, expr, property, startToken;
        assert(state.allowIn, 'callee of new expression always allow in keyword.');

        startToken = lookahead;

        if (matchKeyword('super') && state.inFunctionBody) {
            expr = new Node();
            lex();
            expr = expr.finishSuper();
            if (!match('[') && !match('.')) {
                throwUnexpectedToken(lookahead);
            }
        } else {
            expr = inheritCoverGrammar(matchKeyword('new') ? parseNewExpression : parsePrimaryExpression);
        }

        for (;;) {
            if (match('[')) {
                isBindingElement = false;
                isAssignmentTarget = true;
                property = parseComputedMember();
                expr = new WrappingNode(startToken).finishMemberExpression('[', expr, property);
            } else if (match('.')) {
                isBindingElement = false;
                isAssignmentTarget = true;
                property = parseNonComputedMember();
                expr = new WrappingNode(startToken).finishMemberExpression('.', expr, property);
            } else if (lookahead.type === Token.Template && lookahead.head) {
                quasi = parseTemplateLiteral();
                expr = new WrappingNode(startToken).finishTaggedTemplateExpression(expr, quasi);
            } else {
                break;
            }
        }
        return expr;
    }

    // ECMA-262 12.4 Postfix Expressions

    function parsePostfixExpression() {
        var expr, token, startToken = lookahead;

        expr = inheritCoverGrammar(parseLeftHandSideExpressionAllowCall);

        if (!hasLineTerminator && lookahead.type === Token.Punctuator) {
            if (match('++') || match('--')) {
                // ECMA-262 11.3.1, 11.3.2
                if (strict && expr.type === Syntax.Identifier && isRestrictedWord(expr.name)) {
                    tolerateError(Messages.StrictLHSPostfix);
                }

                if (!isAssignmentTarget) {
                    tolerateError(Messages.InvalidLHSInAssignment);
                }

                isAssignmentTarget = isBindingElement = false;

                token = lex();
                expr = new WrappingNode(startToken).finishPostfixExpression(token.value, expr);
            }
        }

        return expr;
    }

    // ECMA-262 12.5 Unary Operators

    function parseUnaryExpression() {
        var token, expr, startToken;

        if (lookahead.type !== Token.Punctuator && lookahead.type !== Token.Keyword) {
            expr = parsePostfixExpression();
        } else if (match('++') || match('--')) {
            startToken = lookahead;
            token = lex();
            expr = inheritCoverGrammar(parseUnaryExpression);
            // ECMA-262 11.4.4, 11.4.5
            if (strict && expr.type === Syntax.Identifier && isRestrictedWord(expr.name)) {
                tolerateError(Messages.StrictLHSPrefix);
            }

            if (!isAssignmentTarget) {
                tolerateError(Messages.InvalidLHSInAssignment);
            }
            expr = new WrappingNode(startToken).finishUnaryExpression(token.value, expr);
            isAssignmentTarget = isBindingElement = false;
        } else if (match('+') || match('-') || match('~') || match('!')) {
            startToken = lookahead;
            token = lex();
            expr = inheritCoverGrammar(parseUnaryExpression);
            expr = new WrappingNode(startToken).finishUnaryExpression(token.value, expr);
            isAssignmentTarget = isBindingElement = false;
        } else if (matchKeyword('delete') || matchKeyword('void') || matchKeyword('typeof')) {
            startToken = lookahead;
            token = lex();
            expr = inheritCoverGrammar(parseUnaryExpression);
            expr = new WrappingNode(startToken).finishUnaryExpression(token.value, expr);
            if (strict && expr.operator === 'delete' && expr.argument.type === Syntax.Identifier) {
                tolerateError(Messages.StrictDelete);
            }
            isAssignmentTarget = isBindingElement = false;
        } else {
            expr = parsePostfixExpression();
        }

        return expr;
    }

    function binaryPrecedence(token, allowIn) {
        var prec = 0;

        if (token.type !== Token.Punctuator && token.type !== Token.Keyword) {
            return 0;
        }

        switch (token.value) {
        case '||':
            prec = 1;
            break;

        case '&&':
            prec = 2;
            break;

        case '|':
            prec = 3;
            break;

        case '^':
            prec = 4;
            break;

        case '&':
            prec = 5;
            break;

        case '==':
        case '!=':
        case '===':
        case '!==':
            prec = 6;
            break;

        case '<':
        case '>':
        case '<=':
        case '>=':
        case 'instanceof':
            prec = 7;
            break;

        case 'in':
            prec = allowIn ? 7 : 0;
            break;

        case '<<':
        case '>>':
        case '>>>':
            prec = 8;
            break;

        case '+':
        case '-':
            prec = 9;
            break;

        case '*':
        case '/':
        case '%':
            prec = 11;
            break;

        default:
            break;
        }

        return prec;
    }

    // ECMA-262 12.6 Multiplicative Operators
    // ECMA-262 12.7 Additive Operators
    // ECMA-262 12.8 Bitwise Shift Operators
    // ECMA-262 12.9 Relational Operators
    // ECMA-262 12.10 Equality Operators
    // ECMA-262 12.11 Binary Bitwise Operators
    // ECMA-262 12.12 Binary Logical Operators

    function parseBinaryExpression() {
        var marker, markers, expr, token, prec, stack, right, operator, left, i;

        marker = lookahead;
        left = inheritCoverGrammar(parseUnaryExpression);

        token = lookahead;
        prec = binaryPrecedence(token, state.allowIn);
        if (prec === 0) {
            return left;
        }
        isAssignmentTarget = isBindingElement = false;
        token.prec = prec;
        lex();

        markers = [marker, lookahead];
        right = isolateCoverGrammar(parseUnaryExpression);

        stack = [left, token, right];

        while ((prec = binaryPrecedence(lookahead, state.allowIn)) > 0) {

            // Reduce: make a binary expression from the three topmost entries.
            while ((stack.length > 2) && (prec <= stack[stack.length - 2].prec)) {
                right = stack.pop();
                operator = stack.pop().value;
                left = stack.pop();
                markers.pop();
                expr = new WrappingNode(markers[markers.length - 1]).finishBinaryExpression(operator, left, right);
                stack.push(expr);
            }

            // Shift.
            token = lex();
            token.prec = prec;
            stack.push(token);
            markers.push(lookahead);
            expr = isolateCoverGrammar(parseUnaryExpression);
            stack.push(expr);
        }

        // Final reduce to clean-up the stack.
        i = stack.length - 1;
        expr = stack[i];
        markers.pop();
        while (i > 1) {
            expr = new WrappingNode(markers.pop()).finishBinaryExpression(stack[i - 1].value, stack[i - 2], expr);
            i -= 2;
        }

        return expr;
    }


    // ECMA-262 12.13 Conditional Operator

    function parseConditionalExpression() {
        var expr, previousAllowIn, consequent, alternate, startToken;

        startToken = lookahead;

        expr = inheritCoverGrammar(parseBinaryExpression);
        if (match('?')) {
            lex();
            previousAllowIn = state.allowIn;
            state.allowIn = true;
            consequent = isolateCoverGrammar(parseAssignmentExpression);
            state.allowIn = previousAllowIn;
            expect(':');
            alternate = isolateCoverGrammar(parseAssignmentExpression);

            expr = new WrappingNode(startToken).finishConditionalExpression(expr, consequent, alternate);
            isAssignmentTarget = isBindingElement = false;
        }

        return expr;
    }

    // ECMA-262 14.2 Arrow Function Definitions

    function parseConciseBody() {
        if (match('{')) {
            return parseFunctionSourceElements();
        }
        return isolateCoverGrammar(parseAssignmentExpression);
    }

    function checkPatternParam(options, param) {
        var i;
        switch (param.type) {
        case Syntax.Identifier:
            validateParam(options, param, param.name);
            break;
        case Syntax.RestElement:
            checkPatternParam(options, param.argument);
            break;
        case Syntax.AssignmentPattern:
            checkPatternParam(options, param.left);
            break;
        case Syntax.ArrayPattern:
            for (i = 0; i < param.elements.length; i++) {
                if (param.elements[i] !== null) {
                    checkPatternParam(options, param.elements[i]);
                }
            }
            break;
        case Syntax.YieldExpression:
            break;
        default:
            assert(param.type === Syntax.ObjectPattern, 'Invalid type');
            for (i = 0; i < param.properties.length; i++) {
                checkPatternParam(options, param.properties[i].value);
            }
            break;
        }
    }
    function reinterpretAsCoverFormalsList(expr) {
        var i, len, param, params, defaults, defaultCount, options, token;

        defaults = [];
        defaultCount = 0;
        params = [expr];

        switch (expr.type) {
        case Syntax.Identifier:
            break;
        case PlaceHolders.ArrowParameterPlaceHolder:
            params = expr.params;
            break;
        default:
            return null;
        }

        options = {
            paramSet: {}
        };

        for (i = 0, len = params.length; i < len; i += 1) {
            param = params[i];
            switch (param.type) {
            case Syntax.AssignmentPattern:
                params[i] = param.left;
                if (param.right.type === Syntax.YieldExpression) {
                    if (param.right.argument) {
                        throwUnexpectedToken(lookahead);
                    }
                    param.right.type = Syntax.Identifier;
                    param.right.name = 'yield';
                    delete param.right.argument;
                    delete param.right.delegate;
                }
                defaults.push(param.right);
                ++defaultCount;
                checkPatternParam(options, param.left);
                break;
            default:
                checkPatternParam(options, param);
                params[i] = param;
                defaults.push(null);
                break;
            }
        }

        if (strict || !state.allowYield) {
            for (i = 0, len = params.length; i < len; i += 1) {
                param = params[i];
                if (param.type === Syntax.YieldExpression) {
                    throwUnexpectedToken(lookahead);
                }
            }
        }

        if (options.message === Messages.StrictParamDupe) {
            token = strict ? options.stricted : options.firstRestricted;
            throwUnexpectedToken(token, options.message);
        }

        if (defaultCount === 0) {
            defaults = [];
        }

        return {
            params: params,
            defaults: defaults,
            stricted: options.stricted,
            firstRestricted: options.firstRestricted,
            message: options.message
        };
    }

    function parseArrowFunctionExpression(options, node) {
        var previousStrict, previousAllowYield, body;

        if (hasLineTerminator) {
            tolerateUnexpectedToken(lookahead);
        }
        expect('=>');

        previousStrict = strict;
        previousAllowYield = state.allowYield;
        state.allowYield = true;

        body = parseConciseBody();

        if (strict && options.firstRestricted) {
            throwUnexpectedToken(options.firstRestricted, options.message);
        }
        if (strict && options.stricted) {
            tolerateUnexpectedToken(options.stricted, options.message);
        }

        strict = previousStrict;
        state.allowYield = previousAllowYield;

        return node.finishArrowFunctionExpression(options.params, options.defaults, body, body.type !== Syntax.BlockStatement);
    }

    // ECMA-262 14.4 Yield expression

    function parseYieldExpression() {
        var argument, expr, delegate, previousAllowYield;

        argument = null;
        expr = new Node();
        delegate = false;

        expectKeyword('yield');

        if (!hasLineTerminator) {
            previousAllowYield = state.allowYield;
            state.allowYield = false;
            delegate = match('*');
            if (delegate) {
                lex();
                argument = parseAssignmentExpression();
            } else {
                if (!match(';') && !match('}') && !match(')') && lookahead.type !== Token.EOF) {
                    argument = parseAssignmentExpression();
                }
            }
            state.allowYield = previousAllowYield;
        }

        return expr.finishYieldExpression(argument, delegate);
    }

    // ECMA-262 12.14 Assignment Operators

    function parseAssignmentExpression() {
        var token, expr, right, list, startToken;

        startToken = lookahead;
        token = lookahead;

        if (!state.allowYield && matchKeyword('yield')) {
            return parseYieldExpression();
        }

        expr = parseConditionalExpression();

        if (expr.type === PlaceHolders.ArrowParameterPlaceHolder || match('=>')) {
            isAssignmentTarget = isBindingElement = false;
            list = reinterpretAsCoverFormalsList(expr);

            if (list) {
                firstCoverInitializedNameError = null;
                return parseArrowFunctionExpression(list, new WrappingNode(startToken));
            }

            return expr;
        }

        if (matchAssign()) {
            if (!isAssignmentTarget) {
                tolerateError(Messages.InvalidLHSInAssignment);
            }

            // ECMA-262 12.1.1
            if (strict && expr.type === Syntax.Identifier) {
                if (isRestrictedWord(expr.name)) {
                    tolerateUnexpectedToken(token, Messages.StrictLHSAssignment);
                }
                if (isStrictModeReservedWord(expr.name)) {
                    tolerateUnexpectedToken(token, Messages.StrictReservedWord);
                }
            }

            if (!match('=')) {
                isAssignmentTarget = isBindingElement = false;
            } else {
                reinterpretExpressionAsPattern(expr);
            }

            token = lex();
            right = isolateCoverGrammar(parseAssignmentExpression);
            expr = new WrappingNode(startToken).finishAssignmentExpression(token.value, expr, right);
            firstCoverInitializedNameError = null;
        }

        return expr;
    }

    // ECMA-262 12.15 Comma Operator

    function parseExpression() {
        var expr, startToken = lookahead, expressions;

        expr = isolateCoverGrammar(parseAssignmentExpression);

        if (match(',')) {
            expressions = [expr];

            while (startIndex < length) {
                if (!match(',')) {
                    break;
                }
                lex();
                expressions.push(isolateCoverGrammar(parseAssignmentExpression));
            }

            expr = new WrappingNode(startToken).finishSequenceExpression(expressions);
        }

        return expr;
    }

    // ECMA-262 13.2 Block

    function parseStatementListItem() {
        if (lookahead.type === Token.Keyword) {
            switch (lookahead.value) {
            case 'export':
                if (state.sourceType !== 'module') {
                    tolerateUnexpectedToken(lookahead, Messages.IllegalExportDeclaration);
                }
                return parseExportDeclaration();
            case 'import':
                if (state.sourceType !== 'module') {
                    tolerateUnexpectedToken(lookahead, Messages.IllegalImportDeclaration);
                }
                return parseImportDeclaration();
            case 'const':
                return parseLexicalDeclaration({inFor: false});
            case 'function':
                return parseFunctionDeclaration(new Node());
            case 'class':
                return parseClassDeclaration();
            }
        }

        if (matchKeyword('let') && isLexicalDeclaration()) {
            return parseLexicalDeclaration({inFor: false});
        }

        return parseStatement();
    }

    function parseStatementList() {
        var list = [];
        while (startIndex < length) {
            if (match('}')) {
                break;
            }
            list.push(parseStatementListItem());
        }

        return list;
    }

    function parseBlock() {
        var block, node = new Node();

        expect('{');

        block = parseStatementList();

        expect('}');

        return node.finishBlockStatement(block);
    }

    // ECMA-262 13.3.2 Variable Statement

    function parseVariableIdentifier(kind) {
        var token, node = new Node();

        token = lex();

        if (token.type === Token.Keyword && token.value === 'yield') {
            if (strict) {
                tolerateUnexpectedToken(token, Messages.StrictReservedWord);
            } if (!state.allowYield) {
                throwUnexpectedToken(token);
            }
        } else if (token.type !== Token.Identifier) {
            if (strict && token.type === Token.Keyword && isStrictModeReservedWord(token.value)) {
                tolerateUnexpectedToken(token, Messages.StrictReservedWord);
            } else {
                if (strict || token.value !== 'let' || kind !== 'var') {
                    throwUnexpectedToken(token);
                }
            }
        } else if (state.sourceType === 'module' && token.type === Token.Identifier && token.value === 'await') {
            tolerateUnexpectedToken(token);
        }

        return node.finishIdentifier(token.value);
    }

    function parseVariableDeclaration(options) {
        var init = null, id, node = new Node(), params = [];

        id = parsePattern(params, 'var');

        // ECMA-262 12.2.1
        if (strict && isRestrictedWord(id.name)) {
            tolerateError(Messages.StrictVarName);
        }

        if (match('=')) {
            lex();
            init = isolateCoverGrammar(parseAssignmentExpression);
        } else if (id.type !== Syntax.Identifier && !options.inFor) {
            expect('=');
        }

        return node.finishVariableDeclarator(id, init);
    }

    function parseVariableDeclarationList(options) {
        var opt, list;

        opt = { inFor: options.inFor };
        list = [parseVariableDeclaration(opt)];

        while (match(',')) {
            lex();
            list.push(parseVariableDeclaration(opt));
        }

        return list;
    }

    function parseVariableStatement(node) {
        var declarations;

        expectKeyword('var');

        declarations = parseVariableDeclarationList({ inFor: false });

        consumeSemicolon();

        return node.finishVariableDeclaration(declarations);
    }

    // ECMA-262 13.3.1 Let and Const Declarations

    function parseLexicalBinding(kind, options) {
        var init = null, id, node = new Node(), params = [];

        id = parsePattern(params, kind);

        // ECMA-262 12.2.1
        if (strict && id.type === Syntax.Identifier && isRestrictedWord(id.name)) {
            tolerateError(Messages.StrictVarName);
        }

        if (kind === 'const') {
            if (!matchKeyword('in') && !matchContextualKeyword('of')) {
                expect('=');
                init = isolateCoverGrammar(parseAssignmentExpression);
            }
        } else if ((!options.inFor && id.type !== Syntax.Identifier) || match('=')) {
            expect('=');
            init = isolateCoverGrammar(parseAssignmentExpression);
        }

        return node.finishVariableDeclarator(id, init);
    }

    function parseBindingList(kind, options) {
        var list = [parseLexicalBinding(kind, options)];

        while (match(',')) {
            lex();
            list.push(parseLexicalBinding(kind, options));
        }

        return list;
    }


    function tokenizerState() {
        return {
            index: index,
            lineNumber: lineNumber,
            lineStart: lineStart,
            hasLineTerminator: hasLineTerminator,
            lastIndex: lastIndex,
            lastLineNumber: lastLineNumber,
            lastLineStart: lastLineStart,
            startIndex: startIndex,
            startLineNumber: startLineNumber,
            startLineStart: startLineStart,
            lookahead: lookahead,
            tokenCount: extra.tokens ? extra.tokens.length : 0
        };
    }

    function resetTokenizerState(ts) {
        index = ts.index;
        lineNumber = ts.lineNumber;
        lineStart = ts.lineStart;
        hasLineTerminator = ts.hasLineTerminator;
        lastIndex = ts.lastIndex;
        lastLineNumber = ts.lastLineNumber;
        lastLineStart = ts.lastLineStart;
        startIndex = ts.startIndex;
        startLineNumber = ts.startLineNumber;
        startLineStart = ts.startLineStart;
        lookahead = ts.lookahead;
        if (extra.tokens) {
            extra.tokens.splice(ts.tokenCount, extra.tokens.length);
        }
    }

    function isLexicalDeclaration() {
        var lexical, ts;

        ts = tokenizerState();

        lex();
        lexical = (lookahead.type === Token.Identifier) || match('[') || match('{') ||
            matchKeyword('let') || matchKeyword('yield');

        resetTokenizerState(ts);

        return lexical;
    }

    function parseLexicalDeclaration(options) {
        var kind, declarations, node = new Node();

        kind = lex().value;
        assert(kind === 'let' || kind === 'const', 'Lexical declaration must be either let or const');

        declarations = parseBindingList(kind, options);

        consumeSemicolon();

        return node.finishLexicalDeclaration(declarations, kind);
    }

    function parseRestElement(params) {
        var param, node = new Node();

        lex();

        if (match('{')) {
            throwError(Messages.ObjectPatternAsRestParameter);
        }

        params.push(lookahead);

        param = parseVariableIdentifier();

        if (match('=')) {
            throwError(Messages.DefaultRestParameter);
        }

        if (!match(')')) {
            throwError(Messages.ParameterAfterRestParameter);
        }

        return node.finishRestElement(param);
    }

    // ECMA-262 13.4 Empty Statement

    function parseEmptyStatement(node) {
        expect(';');
        return node.finishEmptyStatement();
    }

    // ECMA-262 12.4 Expression Statement

    function parseExpressionStatement(node) {
        var expr = parseExpression();
        consumeSemicolon();
        return node.finishExpressionStatement(expr);
    }

    // ECMA-262 13.6 If statement

    function parseIfStatement(node) {
        var test, consequent, alternate;

        expectKeyword('if');

        expect('(');

        test = parseExpression();

        expect(')');

        consequent = parseStatement();

        if (matchKeyword('else')) {
            lex();
            alternate = parseStatement();
        } else {
            alternate = null;
        }

        return node.finishIfStatement(test, consequent, alternate);
    }

    // ECMA-262 13.7 Iteration Statements

    function parseDoWhileStatement(node) {
        var body, test, oldInIteration;

        expectKeyword('do');

        oldInIteration = state.inIteration;
        state.inIteration = true;

        body = parseStatement();

        state.inIteration = oldInIteration;

        expectKeyword('while');

        expect('(');

        test = parseExpression();

        expect(')');

        if (match(';')) {
            lex();
        }

        return node.finishDoWhileStatement(body, test);
    }

    function parseWhileStatement(node) {
        var test, body, oldInIteration;

        expectKeyword('while');

        expect('(');

        test = parseExpression();

        expect(')');

        oldInIteration = state.inIteration;
        state.inIteration = true;

        body = parseStatement();

        state.inIteration = oldInIteration;

        return node.finishWhileStatement(test, body);
    }

    function parseForStatement(node) {
        var init, forIn, initSeq, initStartToken, test, update, left, right, kind, declarations,
            body, oldInIteration, previousAllowIn = state.allowIn;

        init = test = update = null;
        forIn = true;

        expectKeyword('for');

        expect('(');

        if (match(';')) {
            lex();
        } else {
            if (matchKeyword('var')) {
                init = new Node();
                lex();

                state.allowIn = false;
                declarations = parseVariableDeclarationList({ inFor: true });
                state.allowIn = previousAllowIn;

                if (declarations.length === 1 && matchKeyword('in')) {
                    init = init.finishVariableDeclaration(declarations);
                    lex();
                    left = init;
                    right = parseExpression();
                    init = null;
                } else if (declarations.length === 1 && declarations[0].init === null && matchContextualKeyword('of')) {
                    init = init.finishVariableDeclaration(declarations);
                    lex();
                    left = init;
                    right = parseAssignmentExpression();
                    init = null;
                    forIn = false;
                } else {
                    init = init.finishVariableDeclaration(declarations);
                    expect(';');
                }
            } else if (matchKeyword('const') || matchKeyword('let')) {
                init = new Node();
                kind = lex().value;

                if (!strict && lookahead.value === 'in') {
                    init = init.finishIdentifier(kind);
                    lex();
                    left = init;
                    right = parseExpression();
                    init = null;
                } else {
                    state.allowIn = false;
                    declarations = parseBindingList(kind, {inFor: true});
                    state.allowIn = previousAllowIn;

                    if (declarations.length === 1 && declarations[0].init === null && matchKeyword('in')) {
                        init = init.finishLexicalDeclaration(declarations, kind);
                        lex();
                        left = init;
                        right = parseExpression();
                        init = null;
                    } else if (declarations.length === 1 && declarations[0].init === null && matchContextualKeyword('of')) {
                        init = init.finishLexicalDeclaration(declarations, kind);
                        lex();
                        left = init;
                        right = parseAssignmentExpression();
                        init = null;
                        forIn = false;
                    } else {
                        consumeSemicolon();
                        init = init.finishLexicalDeclaration(declarations, kind);
                    }
                }
            } else {
                initStartToken = lookahead;
                state.allowIn = false;
                init = inheritCoverGrammar(parseAssignmentExpression);
                state.allowIn = previousAllowIn;

                if (matchKeyword('in')) {
                    if (!isAssignmentTarget) {
                        tolerateError(Messages.InvalidLHSInForIn);
                    }

                    lex();
                    reinterpretExpressionAsPattern(init);
                    left = init;
                    right = parseExpression();
                    init = null;
                } else if (matchContextualKeyword('of')) {
                    if (!isAssignmentTarget) {
                        tolerateError(Messages.InvalidLHSInForLoop);
                    }

                    lex();
                    reinterpretExpressionAsPattern(init);
                    left = init;
                    right = parseAssignmentExpression();
                    init = null;
                    forIn = false;
                } else {
                    if (match(',')) {
                        initSeq = [init];
                        while (match(',')) {
                            lex();
                            initSeq.push(isolateCoverGrammar(parseAssignmentExpression));
                        }
                        init = new WrappingNode(initStartToken).finishSequenceExpression(initSeq);
                    }
                    expect(';');
                }
            }
        }

        if (typeof left === 'undefined') {

            if (!match(';')) {
                test = parseExpression();
            }
            expect(';');

            if (!match(')')) {
                update = parseExpression();
            }
        }

        expect(')');

        oldInIteration = state.inIteration;
        state.inIteration = true;

        body = isolateCoverGrammar(parseStatement);

        state.inIteration = oldInIteration;

        return (typeof left === 'undefined') ?
                node.finishForStatement(init, test, update, body) :
                forIn ? node.finishForInStatement(left, right, body) :
                    node.finishForOfStatement(left, right, body);
    }

    // ECMA-262 13.8 The continue statement

    function parseContinueStatement(node) {
        var label = null, key;

        expectKeyword('continue');

        // Optimize the most common form: 'continue;'.
        if (source.charCodeAt(startIndex) === 0x3B) {
            lex();

            if (!state.inIteration) {
                throwError(Messages.IllegalContinue);
            }

            return node.finishContinueStatement(null);
        }

        if (hasLineTerminator) {
            if (!state.inIteration) {
                throwError(Messages.IllegalContinue);
            }

            return node.finishContinueStatement(null);
        }

        if (lookahead.type === Token.Identifier) {
            label = parseVariableIdentifier();

            key = '$' + label.name;
            if (!Object.prototype.hasOwnProperty.call(state.labelSet, key)) {
                throwError(Messages.UnknownLabel, label.name);
            }
        }

        consumeSemicolon();

        if (label === null && !state.inIteration) {
            throwError(Messages.IllegalContinue);
        }

        return node.finishContinueStatement(label);
    }

    // ECMA-262 13.9 The break statement

    function parseBreakStatement(node) {
        var label = null, key;

        expectKeyword('break');

        // Catch the very common case first: immediately a semicolon (U+003B).
        if (source.charCodeAt(lastIndex) === 0x3B) {
            lex();

            if (!(state.inIteration || state.inSwitch)) {
                throwError(Messages.IllegalBreak);
            }

            return node.finishBreakStatement(null);
        }

        if (hasLineTerminator) {
            if (!(state.inIteration || state.inSwitch)) {
                throwError(Messages.IllegalBreak);
            }
        } else if (lookahead.type === Token.Identifier) {
            label = parseVariableIdentifier();

            key = '$' + label.name;
            if (!Object.prototype.hasOwnProperty.call(state.labelSet, key)) {
                throwError(Messages.UnknownLabel, label.name);
            }
        }

        consumeSemicolon();

        if (label === null && !(state.inIteration || state.inSwitch)) {
            throwError(Messages.IllegalBreak);
        }

        return node.finishBreakStatement(label);
    }

    // ECMA-262 13.10 The return statement

    function parseReturnStatement(node) {
        var argument = null;

        expectKeyword('return');

        if (!state.inFunctionBody) {
            tolerateError(Messages.IllegalReturn);
        }

        // 'return' followed by a space and an identifier is very common.
        if (source.charCodeAt(lastIndex) === 0x20) {
            if (isIdentifierStart(source.charCodeAt(lastIndex + 1))) {
                argument = parseExpression();
                consumeSemicolon();
                return node.finishReturnStatement(argument);
            }
        }

        if (hasLineTerminator) {
            // HACK
            return node.finishReturnStatement(null);
        }

        if (!match(';')) {
            if (!match('}') && lookahead.type !== Token.EOF) {
                argument = parseExpression();
            }
        }

        consumeSemicolon();

        return node.finishReturnStatement(argument);
    }

    // ECMA-262 13.11 The with statement

    function parseWithStatement(node) {
        var object, body;

        if (strict) {
            tolerateError(Messages.StrictModeWith);
        }

        expectKeyword('with');

        expect('(');

        object = parseExpression();

        expect(')');

        body = parseStatement();

        return node.finishWithStatement(object, body);
    }

    // ECMA-262 13.12 The switch statement

    function parseSwitchCase() {
        var test, consequent = [], statement, node = new Node();

        if (matchKeyword('default')) {
            lex();
            test = null;
        } else {
            expectKeyword('case');
            test = parseExpression();
        }
        expect(':');

        while (startIndex < length) {
            if (match('}') || matchKeyword('default') || matchKeyword('case')) {
                break;
            }
            statement = parseStatementListItem();
            consequent.push(statement);
        }

        return node.finishSwitchCase(test, consequent);
    }

    function parseSwitchStatement(node) {
        var discriminant, cases, clause, oldInSwitch, defaultFound;

        expectKeyword('switch');

        expect('(');

        discriminant = parseExpression();

        expect(')');

        expect('{');

        cases = [];

        if (match('}')) {
            lex();
            return node.finishSwitchStatement(discriminant, cases);
        }

        oldInSwitch = state.inSwitch;
        state.inSwitch = true;
        defaultFound = false;

        while (startIndex < length) {
            if (match('}')) {
                break;
            }
            clause = parseSwitchCase();
            if (clause.test === null) {
                if (defaultFound) {
                    throwError(Messages.MultipleDefaultsInSwitch);
                }
                defaultFound = true;
            }
            cases.push(clause);
        }

        state.inSwitch = oldInSwitch;

        expect('}');

        return node.finishSwitchStatement(discriminant, cases);
    }

    // ECMA-262 13.14 The throw statement

    function parseThrowStatement(node) {
        var argument;

        expectKeyword('throw');

        if (hasLineTerminator) {
            throwError(Messages.NewlineAfterThrow);
        }

        argument = parseExpression();

        consumeSemicolon();

        return node.finishThrowStatement(argument);
    }

    // ECMA-262 13.15 The try statement

    function parseCatchClause() {
        var param, params = [], paramMap = {}, key, i, body, node = new Node();

        expectKeyword('catch');

        expect('(');
        if (match(')')) {
            throwUnexpectedToken(lookahead);
        }

        param = parsePattern(params);
        for (i = 0; i < params.length; i++) {
            key = '$' + params[i].value;
            if (Object.prototype.hasOwnProperty.call(paramMap, key)) {
                tolerateError(Messages.DuplicateBinding, params[i].value);
            }
            paramMap[key] = true;
        }

        // ECMA-262 12.14.1
        if (strict && isRestrictedWord(param.name)) {
            tolerateError(Messages.StrictCatchVariable);
        }

        expect(')');
        body = parseBlock();
        return node.finishCatchClause(param, body);
    }

    function parseTryStatement(node) {
        var block, handler = null, finalizer = null;

        expectKeyword('try');

        block = parseBlock();

        if (matchKeyword('catch')) {
            handler = parseCatchClause();
        }

        if (matchKeyword('finally')) {
            lex();
            finalizer = parseBlock();
        }

        if (!handler && !finalizer) {
            throwError(Messages.NoCatchOrFinally);
        }

        return node.finishTryStatement(block, handler, finalizer);
    }

    // ECMA-262 13.16 The debugger statement

    function parseDebuggerStatement(node) {
        expectKeyword('debugger');

        consumeSemicolon();

        return node.finishDebuggerStatement();
    }

    // 13 Statements

    function parseStatement() {
        var type = lookahead.type,
            expr,
            labeledBody,
            key,
            node;

        if (type === Token.EOF) {
            throwUnexpectedToken(lookahead);
        }

        if (type === Token.Punctuator && lookahead.value === '{') {
            return parseBlock();
        }
        isAssignmentTarget = isBindingElement = true;
        node = new Node();

        if (type === Token.Punctuator) {
            switch (lookahead.value) {
            case ';':
                return parseEmptyStatement(node);
            case '(':
                return parseExpressionStatement(node);
            default:
                break;
            }
        } else if (type === Token.Keyword) {
            switch (lookahead.value) {
            case 'break':
                return parseBreakStatement(node);
            case 'continue':
                return parseContinueStatement(node);
            case 'debugger':
                return parseDebuggerStatement(node);
            case 'do':
                return parseDoWhileStatement(node);
            case 'for':
                return parseForStatement(node);
            case 'function':
                return parseFunctionDeclaration(node);
            case 'if':
                return parseIfStatement(node);
            case 'return':
                return parseReturnStatement(node);
            case 'switch':
                return parseSwitchStatement(node);
            case 'throw':
                return parseThrowStatement(node);
            case 'try':
                return parseTryStatement(node);
            case 'var':
                return parseVariableStatement(node);
            case 'while':
                return parseWhileStatement(node);
            case 'with':
                return parseWithStatement(node);
            default:
                break;
            }
        }

        expr = parseExpression();

        // ECMA-262 12.12 Labelled Statements
        if ((expr.type === Syntax.Identifier) && match(':')) {
            lex();

            key = '$' + expr.name;
            if (Object.prototype.hasOwnProperty.call(state.labelSet, key)) {
                throwError(Messages.Redeclaration, 'Label', expr.name);
            }

            state.labelSet[key] = true;
            labeledBody = parseStatement();
            delete state.labelSet[key];
            return node.finishLabeledStatement(expr, labeledBody);
        }

        consumeSemicolon();

        return node.finishExpressionStatement(expr);
    }

    // ECMA-262 14.1 Function Definition

    function parseFunctionSourceElements() {
        var statement, body = [], token, directive, firstRestricted,
            oldLabelSet, oldInIteration, oldInSwitch, oldInFunctionBody,
            node = new Node();

        expect('{');

        while (startIndex < length) {
            if (lookahead.type !== Token.StringLiteral) {
                break;
            }
            token = lookahead;

            statement = parseStatementListItem();
            body.push(statement);
            if (statement.expression.type !== Syntax.Literal) {
                // this is not directive
                break;
            }
            directive = source.slice(token.start + 1, token.end - 1);
            if (directive === 'use strict') {
                strict = true;
                if (firstRestricted) {
                    tolerateUnexpectedToken(firstRestricted, Messages.StrictOctalLiteral);
                }
            } else {
                if (!firstRestricted && token.octal) {
                    firstRestricted = token;
                }
            }
        }

        oldLabelSet = state.labelSet;
        oldInIteration = state.inIteration;
        oldInSwitch = state.inSwitch;
        oldInFunctionBody = state.inFunctionBody;

        state.labelSet = {};
        state.inIteration = false;
        state.inSwitch = false;
        state.inFunctionBody = true;

        while (startIndex < length) {
            if (match('}')) {
                break;
            }
            body.push(parseStatementListItem());
        }

        expect('}');

        state.labelSet = oldLabelSet;
        state.inIteration = oldInIteration;
        state.inSwitch = oldInSwitch;
        state.inFunctionBody = oldInFunctionBody;

        return node.finishBlockStatement(body);
    }

    function validateParam(options, param, name) {
        var key = '$' + name;
        if (strict) {
            if (isRestrictedWord(name)) {
                options.stricted = param;
                options.message = Messages.StrictParamName;
            }
            if (Object.prototype.hasOwnProperty.call(options.paramSet, key)) {
                options.stricted = param;
                options.message = Messages.StrictParamDupe;
            }
        } else if (!options.firstRestricted) {
            if (isRestrictedWord(name)) {
                options.firstRestricted = param;
                options.message = Messages.StrictParamName;
            } else if (isStrictModeReservedWord(name)) {
                options.firstRestricted = param;
                options.message = Messages.StrictReservedWord;
            } else if (Object.prototype.hasOwnProperty.call(options.paramSet, key)) {
                options.stricted = param;
                options.message = Messages.StrictParamDupe;
            }
        }
        options.paramSet[key] = true;
    }

    function parseParam(options) {
        var token, param, params = [], i, def;

        token = lookahead;
        if (token.value === '...') {
            param = parseRestElement(params);
            validateParam(options, param.argument, param.argument.name);
            options.params.push(param);
            options.defaults.push(null);
            return false;
        }

        param = parsePatternWithDefault(params);
        for (i = 0; i < params.length; i++) {
            validateParam(options, params[i], params[i].value);
        }

        if (param.type === Syntax.AssignmentPattern) {
            def = param.right;
            param = param.left;
            ++options.defaultCount;
        }

        options.params.push(param);
        options.defaults.push(def);

        return !match(')');
    }

    function parseParams(firstRestricted) {
        var options;

        options = {
            params: [],
            defaultCount: 0,
            defaults: [],
            firstRestricted: firstRestricted
        };

        expect('(');

        if (!match(')')) {
            options.paramSet = {};
            while (startIndex < length) {
                if (!parseParam(options)) {
                    break;
                }
                expect(',');
            }
        }

        expect(')');

        if (options.defaultCount === 0) {
            options.defaults = [];
        }

        return {
            params: options.params,
            defaults: options.defaults,
            stricted: options.stricted,
            firstRestricted: options.firstRestricted,
            message: options.message
        };
    }

    function parseFunctionDeclaration(node, identifierIsOptional) {
        var id = null, params = [], defaults = [], body, token, stricted, tmp, firstRestricted, message, previousStrict,
            isGenerator, previousAllowYield;

        previousAllowYield = state.allowYield;

        expectKeyword('function');

        isGenerator = match('*');
        if (isGenerator) {
            lex();
        }

        if (!identifierIsOptional || !match('(')) {
            token = lookahead;
            id = parseVariableIdentifier();
            if (strict) {
                if (isRestrictedWord(token.value)) {
                    tolerateUnexpectedToken(token, Messages.StrictFunctionName);
                }
            } else {
                if (isRestrictedWord(token.value)) {
                    firstRestricted = token;
                    message = Messages.StrictFunctionName;
                } else if (isStrictModeReservedWord(token.value)) {
                    firstRestricted = token;
                    message = Messages.StrictReservedWord;
                }
            }
        }

        state.allowYield = !isGenerator;
        tmp = parseParams(firstRestricted);
        params = tmp.params;
        defaults = tmp.defaults;
        stricted = tmp.stricted;
        firstRestricted = tmp.firstRestricted;
        if (tmp.message) {
            message = tmp.message;
        }


        previousStrict = strict;
        body = parseFunctionSourceElements();
        if (strict && firstRestricted) {
            throwUnexpectedToken(firstRestricted, message);
        }
        if (strict && stricted) {
            tolerateUnexpectedToken(stricted, message);
        }

        strict = previousStrict;
        state.allowYield = previousAllowYield;

        return node.finishFunctionDeclaration(id, params, defaults, body, isGenerator);
    }

    function parseFunctionExpression() {
        var token, id = null, stricted, firstRestricted, message, tmp,
            params = [], defaults = [], body, previousStrict, node = new Node(),
            isGenerator, previousAllowYield;

        previousAllowYield = state.allowYield;

        expectKeyword('function');

        isGenerator = match('*');
        if (isGenerator) {
            lex();
        }

        state.allowYield = !isGenerator;
        if (!match('(')) {
            token = lookahead;
            id = (!strict && !isGenerator && matchKeyword('yield')) ? parseNonComputedProperty() : parseVariableIdentifier();
            if (strict) {
                if (isRestrictedWord(token.value)) {
                    tolerateUnexpectedToken(token, Messages.StrictFunctionName);
                }
            } else {
                if (isRestrictedWord(token.value)) {
                    firstRestricted = token;
                    message = Messages.StrictFunctionName;
                } else if (isStrictModeReservedWord(token.value)) {
                    firstRestricted = token;
                    message = Messages.StrictReservedWord;
                }
            }
        }

        tmp = parseParams(firstRestricted);
        params = tmp.params;
        defaults = tmp.defaults;
        stricted = tmp.stricted;
        firstRestricted = tmp.firstRestricted;
        if (tmp.message) {
            message = tmp.message;
        }

        previousStrict = strict;
        body = parseFunctionSourceElements();
        if (strict && firstRestricted) {
            throwUnexpectedToken(firstRestricted, message);
        }
        if (strict && stricted) {
            tolerateUnexpectedToken(stricted, message);
        }
        strict = previousStrict;
        state.allowYield = previousAllowYield;

        return node.finishFunctionExpression(id, params, defaults, body, isGenerator);
    }

    // ECMA-262 14.5 Class Definitions

    function parseClassBody() {
        var classBody, token, isStatic, hasConstructor = false, body, method, computed, key;

        classBody = new Node();

        expect('{');
        body = [];
        while (!match('}')) {
            if (match(';')) {
                lex();
            } else {
                method = new Node();
                token = lookahead;
                isStatic = false;
                computed = match('[');
                if (match('*')) {
                    lex();
                } else {
                    key = parseObjectPropertyKey();
                    if (key.name === 'static' && (lookaheadPropertyName() || match('*'))) {
                        token = lookahead;
                        isStatic = true;
                        computed = match('[');
                        if (match('*')) {
                            lex();
                        } else {
                            key = parseObjectPropertyKey();
                        }
                    }
                }
                method = tryParseMethodDefinition(token, key, computed, method);
                if (method) {
                    method['static'] = isStatic; // jscs:ignore requireDotNotation
                    if (method.kind === 'init') {
                        method.kind = 'method';
                    }
                    if (!isStatic) {
                        if (!method.computed && (method.key.name || method.key.value.toString()) === 'constructor') {
                            if (method.kind !== 'method' || !method.method || method.value.generator) {
                                throwUnexpectedToken(token, Messages.ConstructorSpecialMethod);
                            }
                            if (hasConstructor) {
                                throwUnexpectedToken(token, Messages.DuplicateConstructor);
                            } else {
                                hasConstructor = true;
                            }
                            method.kind = 'constructor';
                        }
                    } else {
                        if (!method.computed && (method.key.name || method.key.value.toString()) === 'prototype') {
                            throwUnexpectedToken(token, Messages.StaticPrototype);
                        }
                    }
                    method.type = Syntax.MethodDefinition;
                    delete method.method;
                    delete method.shorthand;
                    body.push(method);
                } else {
                    throwUnexpectedToken(lookahead);
                }
            }
        }
        lex();
        return classBody.finishClassBody(body);
    }

    function parseClassDeclaration(identifierIsOptional) {
        var id = null, superClass = null, classNode = new Node(), classBody, previousStrict = strict;
        strict = true;

        expectKeyword('class');

        if (!identifierIsOptional || lookahead.type === Token.Identifier) {
            id = parseVariableIdentifier();
        }

        if (matchKeyword('extends')) {
            lex();
            superClass = isolateCoverGrammar(parseLeftHandSideExpressionAllowCall);
        }
        classBody = parseClassBody();
        strict = previousStrict;

        return classNode.finishClassDeclaration(id, superClass, classBody);
    }

    function parseClassExpression() {
        var id = null, superClass = null, classNode = new Node(), classBody, previousStrict = strict;
        strict = true;

        expectKeyword('class');

        if (lookahead.type === Token.Identifier) {
            id = parseVariableIdentifier();
        }

        if (matchKeyword('extends')) {
            lex();
            superClass = isolateCoverGrammar(parseLeftHandSideExpressionAllowCall);
        }
        classBody = parseClassBody();
        strict = previousStrict;

        return classNode.finishClassExpression(id, superClass, classBody);
    }

    // ECMA-262 15.2 Modules

    function parseModuleSpecifier() {
        var node = new Node();

        if (lookahead.type !== Token.StringLiteral) {
            throwError(Messages.InvalidModuleSpecifier);
        }
        return node.finishLiteral(lex());
    }

    // ECMA-262 15.2.3 Exports

    function parseExportSpecifier() {
        var exported, local, node = new Node(), def;
        if (matchKeyword('default')) {
            // export {default} from 'something';
            def = new Node();
            lex();
            local = def.finishIdentifier('default');
        } else {
            local = parseVariableIdentifier();
        }
        if (matchContextualKeyword('as')) {
            lex();
            exported = parseNonComputedProperty();
        }
        return node.finishExportSpecifier(local, exported);
    }

    function parseExportNamedDeclaration(node) {
        var declaration = null,
            isExportFromIdentifier,
            src = null, specifiers = [];

        // non-default export
        if (lookahead.type === Token.Keyword) {
            // covers:
            // export var f = 1;
            switch (lookahead.value) {
                case 'let':
                case 'const':
                    declaration = parseLexicalDeclaration({inFor: false});
                    return node.finishExportNamedDeclaration(declaration, specifiers, null);
                case 'var':
                case 'class':
                case 'function':
                    declaration = parseStatementListItem();
                    return node.finishExportNamedDeclaration(declaration, specifiers, null);
            }
        }

        expect('{');
        while (!match('}')) {
            isExportFromIdentifier = isExportFromIdentifier || matchKeyword('default');
            specifiers.push(parseExportSpecifier());
            if (!match('}')) {
                expect(',');
                if (match('}')) {
                    break;
                }
            }
        }
        expect('}');

        if (matchContextualKeyword('from')) {
            // covering:
            // export {default} from 'foo';
            // export {foo} from 'foo';
            lex();
            src = parseModuleSpecifier();
            consumeSemicolon();
        } else if (isExportFromIdentifier) {
            // covering:
            // export {default}; // missing fromClause
            throwError(lookahead.value ?
                    Messages.UnexpectedToken : Messages.MissingFromClause, lookahead.value);
        } else {
            // cover
            // export {foo};
            consumeSemicolon();
        }
        return node.finishExportNamedDeclaration(declaration, specifiers, src);
    }

    function parseExportDefaultDeclaration(node) {
        var declaration = null,
            expression = null;

        // covers:
        // export default ...
        expectKeyword('default');

        if (matchKeyword('function')) {
            // covers:
            // export default function foo () {}
            // export default function () {}
            declaration = parseFunctionDeclaration(new Node(), true);
            return node.finishExportDefaultDeclaration(declaration);
        }
        if (matchKeyword('class')) {
            declaration = parseClassDeclaration(true);
            return node.finishExportDefaultDeclaration(declaration);
        }

        if (matchContextualKeyword('from')) {
            throwError(Messages.UnexpectedToken, lookahead.value);
        }

        // covers:
        // export default {};
        // export default [];
        // export default (1 + 2);
        if (match('{')) {
            expression = parseObjectInitializer();
        } else if (match('[')) {
            expression = parseArrayInitializer();
        } else {
            expression = parseAssignmentExpression();
        }
        consumeSemicolon();
        return node.finishExportDefaultDeclaration(expression);
    }

    function parseExportAllDeclaration(node) {
        var src;

        // covers:
        // export * from 'foo';
        expect('*');
        if (!matchContextualKeyword('from')) {
            throwError(lookahead.value ?
                    Messages.UnexpectedToken : Messages.MissingFromClause, lookahead.value);
        }
        lex();
        src = parseModuleSpecifier();
        consumeSemicolon();

        return node.finishExportAllDeclaration(src);
    }

    function parseExportDeclaration() {
        var node = new Node();
        if (state.inFunctionBody) {
            throwError(Messages.IllegalExportDeclaration);
        }

        expectKeyword('export');

        if (matchKeyword('default')) {
            return parseExportDefaultDeclaration(node);
        }
        if (match('*')) {
            return parseExportAllDeclaration(node);
        }
        return parseExportNamedDeclaration(node);
    }

    // ECMA-262 15.2.2 Imports

    function parseImportSpecifier() {
        // import {<foo as bar>} ...;
        var local, imported, node = new Node();

        imported = parseNonComputedProperty();
        if (matchContextualKeyword('as')) {
            lex();
            local = parseVariableIdentifier();
        }

        return node.finishImportSpecifier(local, imported);
    }

    function parseNamedImports() {
        var specifiers = [];
        // {foo, bar as bas}
        expect('{');
        while (!match('}')) {
            specifiers.push(parseImportSpecifier());
            if (!match('}')) {
                expect(',');
                if (match('}')) {
                    break;
                }
            }
        }
        expect('}');
        return specifiers;
    }

    function parseImportDefaultSpecifier() {
        // import <foo> ...;
        var local, node = new Node();

        local = parseNonComputedProperty();

        return node.finishImportDefaultSpecifier(local);
    }

    function parseImportNamespaceSpecifier() {
        // import <* as foo> ...;
        var local, node = new Node();

        expect('*');
        if (!matchContextualKeyword('as')) {
            throwError(Messages.NoAsAfterImportNamespace);
        }
        lex();
        local = parseNonComputedProperty();

        return node.finishImportNamespaceSpecifier(local);
    }

    function parseImportDeclaration() {
        var specifiers = [], src, node = new Node();

        if (state.inFunctionBody) {
            throwError(Messages.IllegalImportDeclaration);
        }

        expectKeyword('import');

        if (lookahead.type === Token.StringLiteral) {
            // import 'foo';
            src = parseModuleSpecifier();
        } else {

            if (match('{')) {
                // import {bar}
                specifiers = specifiers.concat(parseNamedImports());
            } else if (match('*')) {
                // import * as foo
                specifiers.push(parseImportNamespaceSpecifier());
            } else if (isIdentifierName(lookahead) && !matchKeyword('default')) {
                // import foo
                specifiers.push(parseImportDefaultSpecifier());
                if (match(',')) {
                    lex();
                    if (match('*')) {
                        // import foo, * as foo
                        specifiers.push(parseImportNamespaceSpecifier());
                    } else if (match('{')) {
                        // import foo, {bar}
                        specifiers = specifiers.concat(parseNamedImports());
                    } else {
                        throwUnexpectedToken(lookahead);
                    }
                }
            } else {
                throwUnexpectedToken(lex());
            }

            if (!matchContextualKeyword('from')) {
                throwError(lookahead.value ?
                        Messages.UnexpectedToken : Messages.MissingFromClause, lookahead.value);
            }
            lex();
            src = parseModuleSpecifier();
        }

        consumeSemicolon();
        return node.finishImportDeclaration(specifiers, src);
    }

    // ECMA-262 15.1 Scripts

    function parseScriptBody() {
        var statement, body = [], token, directive, firstRestricted;

        while (startIndex < length) {
            token = lookahead;
            if (token.type !== Token.StringLiteral) {
                break;
            }

            statement = parseStatementListItem();
            body.push(statement);
            if (statement.expression.type !== Syntax.Literal) {
                // this is not directive
                break;
            }
            directive = source.slice(token.start + 1, token.end - 1);
            if (directive === 'use strict') {
                strict = true;
                if (firstRestricted) {
                    tolerateUnexpectedToken(firstRestricted, Messages.StrictOctalLiteral);
                }
            } else {
                if (!firstRestricted && token.octal) {
                    firstRestricted = token;
                }
            }
        }

        while (startIndex < length) {
            statement = parseStatementListItem();
            /* istanbul ignore if */
            if (typeof statement === 'undefined') {
                break;
            }
            body.push(statement);
        }
        return body;
    }

    function parseProgram() {
        var body, node;

        peek();
        node = new Node();

        body = parseScriptBody();
        return node.finishProgram(body, state.sourceType);
    }

    function filterTokenLocation() {
        var i, entry, token, tokens = [];

        for (i = 0; i < extra.tokens.length; ++i) {
            entry = extra.tokens[i];
            token = {
                type: entry.type,
                value: entry.value
            };
            if (entry.regex) {
                token.regex = {
                    pattern: entry.regex.pattern,
                    flags: entry.regex.flags
                };
            }
            if (extra.range) {
                token.range = entry.range;
            }
            if (extra.loc) {
                token.loc = entry.loc;
            }
            tokens.push(token);
        }

        extra.tokens = tokens;
    }

    function tokenize(code, options, delegate) {
        var toString,
            tokens;

        toString = String;
        if (typeof code !== 'string' && !(code instanceof String)) {
            code = toString(code);
        }

        source = code;
        index = 0;
        lineNumber = (source.length > 0) ? 1 : 0;
        lineStart = 0;
        startIndex = index;
        startLineNumber = lineNumber;
        startLineStart = lineStart;
        length = source.length;
        lookahead = null;
        state = {
            allowIn: true,
            allowYield: true,
            labelSet: {},
            inFunctionBody: false,
            inIteration: false,
            inSwitch: false,
            lastCommentStart: -1,
            curlyStack: []
        };

        extra = {};

        // Options matching.
        options = options || {};

        // Of course we collect tokens here.
        options.tokens = true;
        extra.tokens = [];
        extra.tokenValues = [];
        extra.tokenize = true;
        extra.delegate = delegate;

        // The following two fields are necessary to compute the Regex tokens.
        extra.openParenToken = -1;
        extra.openCurlyToken = -1;

        extra.range = (typeof options.range === 'boolean') && options.range;
        extra.loc = (typeof options.loc === 'boolean') && options.loc;

        if (typeof options.comment === 'boolean' && options.comment) {
            extra.comments = [];
        }
        if (typeof options.tolerant === 'boolean' && options.tolerant) {
            extra.errors = [];
        }

        try {
            peek();
            if (lookahead.type === Token.EOF) {
                return extra.tokens;
            }

            lex();
            while (lookahead.type !== Token.EOF) {
                try {
                    lex();
                } catch (lexError) {
                    if (extra.errors) {
                        recordError(lexError);
                        // We have to break on the first error
                        // to avoid infinite loops.
                        break;
                    } else {
                        throw lexError;
                    }
                }
            }

            tokens = extra.tokens;
            if (typeof extra.errors !== 'undefined') {
                tokens.errors = extra.errors;
            }
        } catch (e) {
            throw e;
        } finally {
            extra = {};
        }
        return tokens;
    }

    function parse(code, options) {
        var program, toString;

        toString = String;
        if (typeof code !== 'string' && !(code instanceof String)) {
            code = toString(code);
        }

        source = code;
        index = 0;
        lineNumber = (source.length > 0) ? 1 : 0;
        lineStart = 0;
        startIndex = index;
        startLineNumber = lineNumber;
        startLineStart = lineStart;
        length = source.length;
        lookahead = null;
        state = {
            allowIn: true,
            allowYield: true,
            labelSet: {},
            inFunctionBody: false,
            inIteration: false,
            inSwitch: false,
            lastCommentStart: -1,
            curlyStack: [],
            sourceType: 'script'
        };
        strict = false;

        extra = {};
        if (typeof options !== 'undefined') {
            extra.range = (typeof options.range === 'boolean') && options.range;
            extra.loc = (typeof options.loc === 'boolean') && options.loc;
            extra.attachComment = (typeof options.attachComment === 'boolean') && options.attachComment;

            if (extra.loc && options.source !== null && options.source !== undefined) {
                extra.source = toString(options.source);
            }

            if (typeof options.tokens === 'boolean' && options.tokens) {
                extra.tokens = [];
            }
            if (typeof options.comment === 'boolean' && options.comment) {
                extra.comments = [];
            }
            if (typeof options.tolerant === 'boolean' && options.tolerant) {
                extra.errors = [];
            }
            if (extra.attachComment) {
                extra.range = true;
                extra.comments = [];
                extra.bottomRightStack = [];
                extra.trailingComments = [];
                extra.leadingComments = [];
            }
            if (options.sourceType === 'module') {
                // very restrictive condition for now
                state.sourceType = options.sourceType;
                strict = true;
            }
        }

        try {
            program = parseProgram();
            if (typeof extra.comments !== 'undefined') {
                program.comments = extra.comments;
            }
            if (typeof extra.tokens !== 'undefined') {
                filterTokenLocation();
                program.tokens = extra.tokens;
            }
            if (typeof extra.errors !== 'undefined') {
                program.errors = extra.errors;
            }
        } catch (e) {
            throw e;
        } finally {
            extra = {};
        }

        return program;
    }

    // Sync with *.json manifests.
    exports.version = '2.7.3';

    exports.tokenize = tokenize;

    exports.parse = parse;

    // Deep copy.
    /* istanbul ignore next */
    exports.Syntax = (function () {
        var name, types = {};

        if (typeof Object.create === 'function') {
            types = Object.create(null);
        }

        for (name in Syntax) {
            if (Syntax.hasOwnProperty(name)) {
                types[name] = Syntax[name];
            }
        }

        if (typeof Object.freeze === 'function') {
            Object.freeze(types);
        }

        return types;
    }());

}));
/* vim: set sw=4 ts=4 et tw=80 : */

},{}],19:[function(require,module,exports){
/*
  Copyright (C) 2012-2013 Yusuke Suzuki <utatane.tea@gmail.com>
  Copyright (C) 2012 Ariya Hidayat <ariya.hidayat@gmail.com>

  Redistribution and use in source and binary forms, with or without
  modification, are permitted provided that the following conditions are met:

    * Redistributions of source code must retain the above copyright
      notice, this list of conditions and the following disclaimer.
    * Redistributions in binary form must reproduce the above copyright
      notice, this list of conditions and the following disclaimer in the
      documentation and/or other materials provided with the distribution.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
  AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
  IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
  ARE DISCLAIMED. IN NO EVENT SHALL <COPYRIGHT HOLDER> BE LIABLE FOR ANY
  DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
  (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
  LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
  ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
  (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF
  THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/
/*jslint vars:false, bitwise:true*/
/*jshint indent:4*/
/*global exports:true*/
(function clone(exports) {
    'use strict';

    var Syntax,
        VisitorOption,
        VisitorKeys,
        BREAK,
        SKIP,
        REMOVE;

    function deepCopy(obj) {
        var ret = {}, key, val;
        for (key in obj) {
            if (obj.hasOwnProperty(key)) {
                val = obj[key];
                if (typeof val === 'object' && val !== null) {
                    ret[key] = deepCopy(val);
                } else {
                    ret[key] = val;
                }
            }
        }
        return ret;
    }

    // based on LLVM libc++ upper_bound / lower_bound
    // MIT License

    function upperBound(array, func) {
        var diff, len, i, current;

        len = array.length;
        i = 0;

        while (len) {
            diff = len >>> 1;
            current = i + diff;
            if (func(array[current])) {
                len = diff;
            } else {
                i = current + 1;
                len -= diff + 1;
            }
        }
        return i;
    }

    Syntax = {
        AssignmentExpression: 'AssignmentExpression',
        AssignmentPattern: 'AssignmentPattern',
        ArrayExpression: 'ArrayExpression',
        ArrayPattern: 'ArrayPattern',
        ArrowFunctionExpression: 'ArrowFunctionExpression',
        AwaitExpression: 'AwaitExpression', // CAUTION: It's deferred to ES7.
        BlockStatement: 'BlockStatement',
        BinaryExpression: 'BinaryExpression',
        BreakStatement: 'BreakStatement',
        CallExpression: 'CallExpression',
        CatchClause: 'CatchClause',
        ClassBody: 'ClassBody',
        ClassDeclaration: 'ClassDeclaration',
        ClassExpression: 'ClassExpression',
        ComprehensionBlock: 'ComprehensionBlock',  // CAUTION: It's deferred to ES7.
        ComprehensionExpression: 'ComprehensionExpression',  // CAUTION: It's deferred to ES7.
        ConditionalExpression: 'ConditionalExpression',
        ContinueStatement: 'ContinueStatement',
        DebuggerStatement: 'DebuggerStatement',
        DirectiveStatement: 'DirectiveStatement',
        DoWhileStatement: 'DoWhileStatement',
        EmptyStatement: 'EmptyStatement',
        ExportAllDeclaration: 'ExportAllDeclaration',
        ExportDefaultDeclaration: 'ExportDefaultDeclaration',
        ExportNamedDeclaration: 'ExportNamedDeclaration',
        ExportSpecifier: 'ExportSpecifier',
        ExpressionStatement: 'ExpressionStatement',
        ForStatement: 'ForStatement',
        ForInStatement: 'ForInStatement',
        ForOfStatement: 'ForOfStatement',
        FunctionDeclaration: 'FunctionDeclaration',
        FunctionExpression: 'FunctionExpression',
        GeneratorExpression: 'GeneratorExpression',  // CAUTION: It's deferred to ES7.
        Identifier: 'Identifier',
        IfStatement: 'IfStatement',
        ImportExpression: 'ImportExpression',
        ImportDeclaration: 'ImportDeclaration',
        ImportDefaultSpecifier: 'ImportDefaultSpecifier',
        ImportNamespaceSpecifier: 'ImportNamespaceSpecifier',
        ImportSpecifier: 'ImportSpecifier',
        Literal: 'Literal',
        LabeledStatement: 'LabeledStatement',
        LogicalExpression: 'LogicalExpression',
        MemberExpression: 'MemberExpression',
        MetaProperty: 'MetaProperty',
        MethodDefinition: 'MethodDefinition',
        ModuleSpecifier: 'ModuleSpecifier',
        NewExpression: 'NewExpression',
        ObjectExpression: 'ObjectExpression',
        ObjectPattern: 'ObjectPattern',
        Program: 'Program',
        Property: 'Property',
        RestElement: 'RestElement',
        ReturnStatement: 'ReturnStatement',
        SequenceExpression: 'SequenceExpression',
        SpreadElement: 'SpreadElement',
        Super: 'Super',
        SwitchStatement: 'SwitchStatement',
        SwitchCase: 'SwitchCase',
        TaggedTemplateExpression: 'TaggedTemplateExpression',
        TemplateElement: 'TemplateElement',
        TemplateLiteral: 'TemplateLiteral',
        ThisExpression: 'ThisExpression',
        ThrowStatement: 'ThrowStatement',
        TryStatement: 'TryStatement',
        UnaryExpression: 'UnaryExpression',
        UpdateExpression: 'UpdateExpression',
        VariableDeclaration: 'VariableDeclaration',
        VariableDeclarator: 'VariableDeclarator',
        WhileStatement: 'WhileStatement',
        WithStatement: 'WithStatement',
        YieldExpression: 'YieldExpression'
    };

    VisitorKeys = {
        AssignmentExpression: ['left', 'right'],
        AssignmentPattern: ['left', 'right'],
        ArrayExpression: ['elements'],
        ArrayPattern: ['elements'],
        ArrowFunctionExpression: ['params', 'body'],
        AwaitExpression: ['argument'], // CAUTION: It's deferred to ES7.
        BlockStatement: ['body'],
        BinaryExpression: ['left', 'right'],
        BreakStatement: ['label'],
        CallExpression: ['callee', 'arguments'],
        CatchClause: ['param', 'body'],
        ClassBody: ['body'],
        ClassDeclaration: ['id', 'superClass', 'body'],
        ClassExpression: ['id', 'superClass', 'body'],
        ComprehensionBlock: ['left', 'right'],  // CAUTION: It's deferred to ES7.
        ComprehensionExpression: ['blocks', 'filter', 'body'],  // CAUTION: It's deferred to ES7.
        ConditionalExpression: ['test', 'consequent', 'alternate'],
        ContinueStatement: ['label'],
        DebuggerStatement: [],
        DirectiveStatement: [],
        DoWhileStatement: ['body', 'test'],
        EmptyStatement: [],
        ExportAllDeclaration: ['source'],
        ExportDefaultDeclaration: ['declaration'],
        ExportNamedDeclaration: ['declaration', 'specifiers', 'source'],
        ExportSpecifier: ['exported', 'local'],
        ExpressionStatement: ['expression'],
        ForStatement: ['init', 'test', 'update', 'body'],
        ForInStatement: ['left', 'right', 'body'],
        ForOfStatement: ['left', 'right', 'body'],
        FunctionDeclaration: ['id', 'params', 'body'],
        FunctionExpression: ['id', 'params', 'body'],
        GeneratorExpression: ['blocks', 'filter', 'body'],  // CAUTION: It's deferred to ES7.
        Identifier: [],
        IfStatement: ['test', 'consequent', 'alternate'],
        ImportExpression: ['source'],
        ImportDeclaration: ['specifiers', 'source'],
        ImportDefaultSpecifier: ['local'],
        ImportNamespaceSpecifier: ['local'],
        ImportSpecifier: ['imported', 'local'],
        Literal: [],
        LabeledStatement: ['label', 'body'],
        LogicalExpression: ['left', 'right'],
        MemberExpression: ['object', 'property'],
        MetaProperty: ['meta', 'property'],
        MethodDefinition: ['key', 'value'],
        ModuleSpecifier: [],
        NewExpression: ['callee', 'arguments'],
        ObjectExpression: ['properties'],
        ObjectPattern: ['properties'],
        Program: ['body'],
        Property: ['key', 'value'],
        RestElement: [ 'argument' ],
        ReturnStatement: ['argument'],
        SequenceExpression: ['expressions'],
        SpreadElement: ['argument'],
        Super: [],
        SwitchStatement: ['discriminant', 'cases'],
        SwitchCase: ['test', 'consequent'],
        TaggedTemplateExpression: ['tag', 'quasi'],
        TemplateElement: [],
        TemplateLiteral: ['quasis', 'expressions'],
        ThisExpression: [],
        ThrowStatement: ['argument'],
        TryStatement: ['block', 'handler', 'finalizer'],
        UnaryExpression: ['argument'],
        UpdateExpression: ['argument'],
        VariableDeclaration: ['declarations'],
        VariableDeclarator: ['id', 'init'],
        WhileStatement: ['test', 'body'],
        WithStatement: ['object', 'body'],
        YieldExpression: ['argument']
    };

    // unique id
    BREAK = {};
    SKIP = {};
    REMOVE = {};

    VisitorOption = {
        Break: BREAK,
        Skip: SKIP,
        Remove: REMOVE
    };

    function Reference(parent, key) {
        this.parent = parent;
        this.key = key;
    }

    Reference.prototype.replace = function replace(node) {
        this.parent[this.key] = node;
    };

    Reference.prototype.remove = function remove() {
        if (Array.isArray(this.parent)) {
            this.parent.splice(this.key, 1);
            return true;
        } else {
            this.replace(null);
            return false;
        }
    };

    function Element(node, path, wrap, ref) {
        this.node = node;
        this.path = path;
        this.wrap = wrap;
        this.ref = ref;
    }

    function Controller() { }

    // API:
    // return property path array from root to current node
    Controller.prototype.path = function path() {
        var i, iz, j, jz, result, element;

        function addToPath(result, path) {
            if (Array.isArray(path)) {
                for (j = 0, jz = path.length; j < jz; ++j) {
                    result.push(path[j]);
                }
            } else {
                result.push(path);
            }
        }

        // root node
        if (!this.__current.path) {
            return null;
        }

        // first node is sentinel, second node is root element
        result = [];
        for (i = 2, iz = this.__leavelist.length; i < iz; ++i) {
            element = this.__leavelist[i];
            addToPath(result, element.path);
        }
        addToPath(result, this.__current.path);
        return result;
    };

    // API:
    // return type of current node
    Controller.prototype.type = function () {
        var node = this.current();
        return node.type || this.__current.wrap;
    };

    // API:
    // return array of parent elements
    Controller.prototype.parents = function parents() {
        var i, iz, result;

        // first node is sentinel
        result = [];
        for (i = 1, iz = this.__leavelist.length; i < iz; ++i) {
            result.push(this.__leavelist[i].node);
        }

        return result;
    };

    // API:
    // return current node
    Controller.prototype.current = function current() {
        return this.__current.node;
    };

    Controller.prototype.__execute = function __execute(callback, element) {
        var previous, result;

        result = undefined;

        previous  = this.__current;
        this.__current = element;
        this.__state = null;
        if (callback) {
            result = callback.call(this, element.node, this.__leavelist[this.__leavelist.length - 1].node);
        }
        this.__current = previous;

        return result;
    };

    // API:
    // notify control skip / break
    Controller.prototype.notify = function notify(flag) {
        this.__state = flag;
    };

    // API:
    // skip child nodes of current node
    Controller.prototype.skip = function () {
        this.notify(SKIP);
    };

    // API:
    // break traversals
    Controller.prototype['break'] = function () {
        this.notify(BREAK);
    };

    // API:
    // remove node
    Controller.prototype.remove = function () {
        this.notify(REMOVE);
    };

    Controller.prototype.__initialize = function(root, visitor) {
        this.visitor = visitor;
        this.root = root;
        this.__worklist = [];
        this.__leavelist = [];
        this.__current = null;
        this.__state = null;
        this.__fallback = null;
        if (visitor.fallback === 'iteration') {
            this.__fallback = Object.keys;
        } else if (typeof visitor.fallback === 'function') {
            this.__fallback = visitor.fallback;
        }

        this.__keys = VisitorKeys;
        if (visitor.keys) {
            this.__keys = Object.assign(Object.create(this.__keys), visitor.keys);
        }
    };

    function isNode(node) {
        if (node == null) {
            return false;
        }
        return typeof node === 'object' && typeof node.type === 'string';
    }

    function isProperty(nodeType, key) {
        return (nodeType === Syntax.ObjectExpression || nodeType === Syntax.ObjectPattern) && 'properties' === key;
    }

    Controller.prototype.traverse = function traverse(root, visitor) {
        var worklist,
            leavelist,
            element,
            node,
            nodeType,
            ret,
            key,
            current,
            current2,
            candidates,
            candidate,
            sentinel;

        this.__initialize(root, visitor);

        sentinel = {};

        // reference
        worklist = this.__worklist;
        leavelist = this.__leavelist;

        // initialize
        worklist.push(new Element(root, null, null, null));
        leavelist.push(new Element(null, null, null, null));

        while (worklist.length) {
            element = worklist.pop();

            if (element === sentinel) {
                element = leavelist.pop();

                ret = this.__execute(visitor.leave, element);

                if (this.__state === BREAK || ret === BREAK) {
                    return;
                }
                continue;
            }

            if (element.node) {

                ret = this.__execute(visitor.enter, element);

                if (this.__state === BREAK || ret === BREAK) {
                    return;
                }

                worklist.push(sentinel);
                leavelist.push(element);

                if (this.__state === SKIP || ret === SKIP) {
                    continue;
                }

                node = element.node;
                nodeType = node.type || element.wrap;
                candidates = this.__keys[nodeType];
                if (!candidates) {
                    if (this.__fallback) {
                        candidates = this.__fallback(node);
                    } else {
                        throw new Error('Unknown node type ' + nodeType + '.');
                    }
                }

                current = candidates.length;
                while ((current -= 1) >= 0) {
                    key = candidates[current];
                    candidate = node[key];
                    if (!candidate) {
                        continue;
                    }

                    if (Array.isArray(candidate)) {
                        current2 = candidate.length;
                        while ((current2 -= 1) >= 0) {
                            if (!candidate[current2]) {
                                continue;
                            }
                            if (isProperty(nodeType, candidates[current])) {
                                element = new Element(candidate[current2], [key, current2], 'Property', null);
                            } else if (isNode(candidate[current2])) {
                                element = new Element(candidate[current2], [key, current2], null, null);
                            } else {
                                continue;
                            }
                            worklist.push(element);
                        }
                    } else if (isNode(candidate)) {
                        worklist.push(new Element(candidate, key, null, null));
                    }
                }
            }
        }
    };

    Controller.prototype.replace = function replace(root, visitor) {
        var worklist,
            leavelist,
            node,
            nodeType,
            target,
            element,
            current,
            current2,
            candidates,
            candidate,
            sentinel,
            outer,
            key;

        function removeElem(element) {
            var i,
                key,
                nextElem,
                parent;

            if (element.ref.remove()) {
                // When the reference is an element of an array.
                key = element.ref.key;
                parent = element.ref.parent;

                // If removed from array, then decrease following items' keys.
                i = worklist.length;
                while (i--) {
                    nextElem = worklist[i];
                    if (nextElem.ref && nextElem.ref.parent === parent) {
                        if  (nextElem.ref.key < key) {
                            break;
                        }
                        --nextElem.ref.key;
                    }
                }
            }
        }

        this.__initialize(root, visitor);

        sentinel = {};

        // reference
        worklist = this.__worklist;
        leavelist = this.__leavelist;

        // initialize
        outer = {
            root: root
        };
        element = new Element(root, null, null, new Reference(outer, 'root'));
        worklist.push(element);
        leavelist.push(element);

        while (worklist.length) {
            element = worklist.pop();

            if (element === sentinel) {
                element = leavelist.pop();

                target = this.__execute(visitor.leave, element);

                // node may be replaced with null,
                // so distinguish between undefined and null in this place
                if (target !== undefined && target !== BREAK && target !== SKIP && target !== REMOVE) {
                    // replace
                    element.ref.replace(target);
                }

                if (this.__state === REMOVE || target === REMOVE) {
                    removeElem(element);
                }

                if (this.__state === BREAK || target === BREAK) {
                    return outer.root;
                }
                continue;
            }

            target = this.__execute(visitor.enter, element);

            // node may be replaced with null,
            // so distinguish between undefined and null in this place
            if (target !== undefined && target !== BREAK && target !== SKIP && target !== REMOVE) {
                // replace
                element.ref.replace(target);
                element.node = target;
            }

            if (this.__state === REMOVE || target === REMOVE) {
                removeElem(element);
                element.node = null;
            }

            if (this.__state === BREAK || target === BREAK) {
                return outer.root;
            }

            // node may be null
            node = element.node;
            if (!node) {
                continue;
            }

            worklist.push(sentinel);
            leavelist.push(element);

            if (this.__state === SKIP || target === SKIP) {
                continue;
            }

            nodeType = node.type || element.wrap;
            candidates = this.__keys[nodeType];
            if (!candidates) {
                if (this.__fallback) {
                    candidates = this.__fallback(node);
                } else {
                    throw new Error('Unknown node type ' + nodeType + '.');
                }
            }

            current = candidates.length;
            while ((current -= 1) >= 0) {
                key = candidates[current];
                candidate = node[key];
                if (!candidate) {
                    continue;
                }

                if (Array.isArray(candidate)) {
                    current2 = candidate.length;
                    while ((current2 -= 1) >= 0) {
                        if (!candidate[current2]) {
                            continue;
                        }
                        if (isProperty(nodeType, candidates[current])) {
                            element = new Element(candidate[current2], [key, current2], 'Property', new Reference(candidate, current2));
                        } else if (isNode(candidate[current2])) {
                            element = new Element(candidate[current2], [key, current2], null, new Reference(candidate, current2));
                        } else {
                            continue;
                        }
                        worklist.push(element);
                    }
                } else if (isNode(candidate)) {
                    worklist.push(new Element(candidate, key, null, new Reference(node, key)));
                }
            }
        }

        return outer.root;
    };

    function traverse(root, visitor) {
        var controller = new Controller();
        return controller.traverse(root, visitor);
    }

    function replace(root, visitor) {
        var controller = new Controller();
        return controller.replace(root, visitor);
    }

    function extendCommentRange(comment, tokens) {
        var target;

        target = upperBound(tokens, function search(token) {
            return token.range[0] > comment.range[0];
        });

        comment.extendedRange = [comment.range[0], comment.range[1]];

        if (target !== tokens.length) {
            comment.extendedRange[1] = tokens[target].range[0];
        }

        target -= 1;
        if (target >= 0) {
            comment.extendedRange[0] = tokens[target].range[1];
        }

        return comment;
    }

    function attachComments(tree, providedComments, tokens) {
        // At first, we should calculate extended comment ranges.
        var comments = [], comment, len, i, cursor;

        if (!tree.range) {
            throw new Error('attachComments needs range information');
        }

        // tokens array is empty, we attach comments to tree as 'leadingComments'
        if (!tokens.length) {
            if (providedComments.length) {
                for (i = 0, len = providedComments.length; i < len; i += 1) {
                    comment = deepCopy(providedComments[i]);
                    comment.extendedRange = [0, tree.range[0]];
                    comments.push(comment);
                }
                tree.leadingComments = comments;
            }
            return tree;
        }

        for (i = 0, len = providedComments.length; i < len; i += 1) {
            comments.push(extendCommentRange(deepCopy(providedComments[i]), tokens));
        }

        // This is based on John Freeman's implementation.
        cursor = 0;
        traverse(tree, {
            enter: function (node) {
                var comment;

                while (cursor < comments.length) {
                    comment = comments[cursor];
                    if (comment.extendedRange[1] > node.range[0]) {
                        break;
                    }

                    if (comment.extendedRange[1] === node.range[0]) {
                        if (!node.leadingComments) {
                            node.leadingComments = [];
                        }
                        node.leadingComments.push(comment);
                        comments.splice(cursor, 1);
                    } else {
                        cursor += 1;
                    }
                }

                // already out of owned node
                if (cursor === comments.length) {
                    return VisitorOption.Break;
                }

                if (comments[cursor].extendedRange[0] > node.range[1]) {
                    return VisitorOption.Skip;
                }
            }
        });

        cursor = 0;
        traverse(tree, {
            leave: function (node) {
                var comment;

                while (cursor < comments.length) {
                    comment = comments[cursor];
                    if (node.range[1] < comment.extendedRange[0]) {
                        break;
                    }

                    if (node.range[1] === comment.extendedRange[0]) {
                        if (!node.trailingComments) {
                            node.trailingComments = [];
                        }
                        node.trailingComments.push(comment);
                        comments.splice(cursor, 1);
                    } else {
                        cursor += 1;
                    }
                }

                // already out of owned node
                if (cursor === comments.length) {
                    return VisitorOption.Break;
                }

                if (comments[cursor].extendedRange[0] > node.range[1]) {
                    return VisitorOption.Skip;
                }
            }
        });

        return tree;
    }

    exports.version = require('./package.json').version;
    exports.Syntax = Syntax;
    exports.traverse = traverse;
    exports.replace = replace;
    exports.attachComments = attachComments;
    exports.VisitorKeys = VisitorKeys;
    exports.VisitorOption = VisitorOption;
    exports.Controller = Controller;
    exports.cloneEnvironment = function () { return clone({}); };

    return exports;
}(exports));
/* vim: set sw=4 ts=4 et tw=80 : */

},{"./package.json":20}],20:[function(require,module,exports){
module.exports={
  "_args": [
    [
      "estraverse@4.3.0",
      "/mnt/c/Users/dhn03/source/projects/jsflow/jsflow-master"
    ]
  ],
  "_from": "estraverse@4.3.0",
  "_id": "estraverse@4.3.0",
  "_inBundle": false,
  "_integrity": "sha512-39nnKffWz8xN1BU/2c79n9nB9HDzo0niYUqx6xyqUnyoAnQyyWpOTdZEeiCch8BBu515t4wp9ZmgVfVhn9EBpw==",
  "_location": "/estraverse",
  "_phantomChildren": {},
  "_requested": {
    "type": "version",
    "registry": true,
    "raw": "estraverse@4.3.0",
    "name": "estraverse",
    "escapedName": "estraverse",
    "rawSpec": "4.3.0",
    "saveSpec": null,
    "fetchSpec": "4.3.0"
  },
  "_requiredBy": [
    "/",
    "/escodegen",
    "/static-eval/escodegen",
    "/static-module/escodegen"
  ],
  "_resolved": "https://registry.npmjs.org/estraverse/-/estraverse-4.3.0.tgz",
  "_spec": "4.3.0",
  "_where": "/mnt/c/Users/dhn03/source/projects/jsflow/jsflow-master",
  "bugs": {
    "url": "https://github.com/estools/estraverse/issues"
  },
  "description": "ECMAScript JS AST traversal functions",
  "devDependencies": {
    "babel-preset-env": "^1.6.1",
    "babel-register": "^6.3.13",
    "chai": "^2.1.1",
    "espree": "^1.11.0",
    "gulp": "^3.8.10",
    "gulp-bump": "^0.2.2",
    "gulp-filter": "^2.0.0",
    "gulp-git": "^1.0.1",
    "gulp-tag-version": "^1.3.0",
    "jshint": "^2.5.6",
    "mocha": "^2.1.0"
  },
  "engines": {
    "node": ">=4.0"
  },
  "homepage": "https://github.com/estools/estraverse",
  "license": "BSD-2-Clause",
  "main": "estraverse.js",
  "maintainers": [
    {
      "name": "Yusuke Suzuki",
      "email": "utatane.tea@gmail.com",
      "url": "http://github.com/Constellation"
    }
  ],
  "name": "estraverse",
  "repository": {
    "type": "git",
    "url": "git+ssh://git@github.com/estools/estraverse.git"
  },
  "scripts": {
    "lint": "jshint estraverse.js",
    "test": "npm run-script lint && npm run-script unit-test",
    "unit-test": "mocha --compilers js:babel-register"
  },
  "version": "4.3.0"
}

},{}],21:[function(require,module,exports){
/*
  Copyright (C) 2013 Yusuke Suzuki <utatane.tea@gmail.com>

  Redistribution and use in source and binary forms, with or without
  modification, are permitted provided that the following conditions are met:

    * Redistributions of source code must retain the above copyright
      notice, this list of conditions and the following disclaimer.
    * Redistributions in binary form must reproduce the above copyright
      notice, this list of conditions and the following disclaimer in the
      documentation and/or other materials provided with the distribution.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS 'AS IS'
  AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
  IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
  ARE DISCLAIMED. IN NO EVENT SHALL <COPYRIGHT HOLDER> BE LIABLE FOR ANY
  DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
  (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
  LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
  ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
  (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF
  THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/

(function () {
    'use strict';

    function isExpression(node) {
        if (node == null) { return false; }
        switch (node.type) {
            case 'ArrayExpression':
            case 'AssignmentExpression':
            case 'BinaryExpression':
            case 'CallExpression':
            case 'ConditionalExpression':
            case 'FunctionExpression':
            case 'Identifier':
            case 'Literal':
            case 'LogicalExpression':
            case 'MemberExpression':
            case 'NewExpression':
            case 'ObjectExpression':
            case 'SequenceExpression':
            case 'ThisExpression':
            case 'UnaryExpression':
            case 'UpdateExpression':
                return true;
        }
        return false;
    }

    function isIterationStatement(node) {
        if (node == null) { return false; }
        switch (node.type) {
            case 'DoWhileStatement':
            case 'ForInStatement':
            case 'ForStatement':
            case 'WhileStatement':
                return true;
        }
        return false;
    }

    function isStatement(node) {
        if (node == null) { return false; }
        switch (node.type) {
            case 'BlockStatement':
            case 'BreakStatement':
            case 'ContinueStatement':
            case 'DebuggerStatement':
            case 'DoWhileStatement':
            case 'EmptyStatement':
            case 'ExpressionStatement':
            case 'ForInStatement':
            case 'ForStatement':
            case 'IfStatement':
            case 'LabeledStatement':
            case 'ReturnStatement':
            case 'SwitchStatement':
            case 'ThrowStatement':
            case 'TryStatement':
            case 'VariableDeclaration':
            case 'WhileStatement':
            case 'WithStatement':
                return true;
        }
        return false;
    }

    function isSourceElement(node) {
      return isStatement(node) || node != null && node.type === 'FunctionDeclaration';
    }

    function trailingStatement(node) {
        switch (node.type) {
        case 'IfStatement':
            if (node.alternate != null) {
                return node.alternate;
            }
            return node.consequent;

        case 'LabeledStatement':
        case 'ForStatement':
        case 'ForInStatement':
        case 'WhileStatement':
        case 'WithStatement':
            return node.body;
        }
        return null;
    }

    function isProblematicIfStatement(node) {
        var current;

        if (node.type !== 'IfStatement') {
            return false;
        }
        if (node.alternate == null) {
            return false;
        }
        current = node.consequent;
        do {
            if (current.type === 'IfStatement') {
                if (current.alternate == null)  {
                    return true;
                }
            }
            current = trailingStatement(current);
        } while (current);

        return false;
    }

    module.exports = {
        isExpression: isExpression,
        isStatement: isStatement,
        isIterationStatement: isIterationStatement,
        isSourceElement: isSourceElement,
        isProblematicIfStatement: isProblematicIfStatement,

        trailingStatement: trailingStatement
    };
}());
/* vim: set sw=4 ts=4 et tw=80 : */

},{}],22:[function(require,module,exports){
/*
  Copyright (C) 2013-2014 Yusuke Suzuki <utatane.tea@gmail.com>
  Copyright (C) 2014 Ivan Nikulin <ifaaan@gmail.com>

  Redistribution and use in source and binary forms, with or without
  modification, are permitted provided that the following conditions are met:

    * Redistributions of source code must retain the above copyright
      notice, this list of conditions and the following disclaimer.
    * Redistributions in binary form must reproduce the above copyright
      notice, this list of conditions and the following disclaimer in the
      documentation and/or other materials provided with the distribution.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
  AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
  IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
  ARE DISCLAIMED. IN NO EVENT SHALL <COPYRIGHT HOLDER> BE LIABLE FOR ANY
  DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
  (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
  LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
  ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
  (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF
  THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/

(function () {
    'use strict';

    var ES6Regex, ES5Regex, NON_ASCII_WHITESPACES, IDENTIFIER_START, IDENTIFIER_PART, ch;

    // See `tools/generate-identifier-regex.js`.
    ES5Regex = {
        // ECMAScript 5.1/Unicode v9.0.0 NonAsciiIdentifierStart:
        NonAsciiIdentifierStart: /[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,
        // ECMAScript 5.1/Unicode v9.0.0 NonAsciiIdentifierPart:
        NonAsciiIdentifierPart: /[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/
    };

    ES6Regex = {
        // ECMAScript 6/Unicode v9.0.0 NonAsciiIdentifierStart:
        NonAsciiIdentifierStart: /[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]/,
        // ECMAScript 6/Unicode v9.0.0 NonAsciiIdentifierPart:
        NonAsciiIdentifierPart: /[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/
    };

    function isDecimalDigit(ch) {
        return 0x30 <= ch && ch <= 0x39;  // 0..9
    }

    function isHexDigit(ch) {
        return 0x30 <= ch && ch <= 0x39 ||  // 0..9
            0x61 <= ch && ch <= 0x66 ||     // a..f
            0x41 <= ch && ch <= 0x46;       // A..F
    }

    function isOctalDigit(ch) {
        return ch >= 0x30 && ch <= 0x37;  // 0..7
    }

    // 7.2 White Space

    NON_ASCII_WHITESPACES = [
        0x1680,
        0x2000, 0x2001, 0x2002, 0x2003, 0x2004, 0x2005, 0x2006, 0x2007, 0x2008, 0x2009, 0x200A,
        0x202F, 0x205F,
        0x3000,
        0xFEFF
    ];

    function isWhiteSpace(ch) {
        return ch === 0x20 || ch === 0x09 || ch === 0x0B || ch === 0x0C || ch === 0xA0 ||
            ch >= 0x1680 && NON_ASCII_WHITESPACES.indexOf(ch) >= 0;
    }

    // 7.3 Line Terminators

    function isLineTerminator(ch) {
        return ch === 0x0A || ch === 0x0D || ch === 0x2028 || ch === 0x2029;
    }

    // 7.6 Identifier Names and Identifiers

    function fromCodePoint(cp) {
        if (cp <= 0xFFFF) { return String.fromCharCode(cp); }
        var cu1 = String.fromCharCode(Math.floor((cp - 0x10000) / 0x400) + 0xD800);
        var cu2 = String.fromCharCode(((cp - 0x10000) % 0x400) + 0xDC00);
        return cu1 + cu2;
    }

    IDENTIFIER_START = new Array(0x80);
    for(ch = 0; ch < 0x80; ++ch) {
        IDENTIFIER_START[ch] =
            ch >= 0x61 && ch <= 0x7A ||  // a..z
            ch >= 0x41 && ch <= 0x5A ||  // A..Z
            ch === 0x24 || ch === 0x5F;  // $ (dollar) and _ (underscore)
    }

    IDENTIFIER_PART = new Array(0x80);
    for(ch = 0; ch < 0x80; ++ch) {
        IDENTIFIER_PART[ch] =
            ch >= 0x61 && ch <= 0x7A ||  // a..z
            ch >= 0x41 && ch <= 0x5A ||  // A..Z
            ch >= 0x30 && ch <= 0x39 ||  // 0..9
            ch === 0x24 || ch === 0x5F;  // $ (dollar) and _ (underscore)
    }

    function isIdentifierStartES5(ch) {
        return ch < 0x80 ? IDENTIFIER_START[ch] : ES5Regex.NonAsciiIdentifierStart.test(fromCodePoint(ch));
    }

    function isIdentifierPartES5(ch) {
        return ch < 0x80 ? IDENTIFIER_PART[ch] : ES5Regex.NonAsciiIdentifierPart.test(fromCodePoint(ch));
    }

    function isIdentifierStartES6(ch) {
        return ch < 0x80 ? IDENTIFIER_START[ch] : ES6Regex.NonAsciiIdentifierStart.test(fromCodePoint(ch));
    }

    function isIdentifierPartES6(ch) {
        return ch < 0x80 ? IDENTIFIER_PART[ch] : ES6Regex.NonAsciiIdentifierPart.test(fromCodePoint(ch));
    }

    module.exports = {
        isDecimalDigit: isDecimalDigit,
        isHexDigit: isHexDigit,
        isOctalDigit: isOctalDigit,
        isWhiteSpace: isWhiteSpace,
        isLineTerminator: isLineTerminator,
        isIdentifierStartES5: isIdentifierStartES5,
        isIdentifierPartES5: isIdentifierPartES5,
        isIdentifierStartES6: isIdentifierStartES6,
        isIdentifierPartES6: isIdentifierPartES6
    };
}());
/* vim: set sw=4 ts=4 et tw=80 : */

},{}],23:[function(require,module,exports){
/*
  Copyright (C) 2013 Yusuke Suzuki <utatane.tea@gmail.com>

  Redistribution and use in source and binary forms, with or without
  modification, are permitted provided that the following conditions are met:

    * Redistributions of source code must retain the above copyright
      notice, this list of conditions and the following disclaimer.
    * Redistributions in binary form must reproduce the above copyright
      notice, this list of conditions and the following disclaimer in the
      documentation and/or other materials provided with the distribution.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
  AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
  IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
  ARE DISCLAIMED. IN NO EVENT SHALL <COPYRIGHT HOLDER> BE LIABLE FOR ANY
  DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
  (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
  LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
  ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
  (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF
  THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/

(function () {
    'use strict';

    var code = require('./code');

    function isStrictModeReservedWordES6(id) {
        switch (id) {
        case 'implements':
        case 'interface':
        case 'package':
        case 'private':
        case 'protected':
        case 'public':
        case 'static':
        case 'let':
            return true;
        default:
            return false;
        }
    }

    function isKeywordES5(id, strict) {
        // yield should not be treated as keyword under non-strict mode.
        if (!strict && id === 'yield') {
            return false;
        }
        return isKeywordES6(id, strict);
    }

    function isKeywordES6(id, strict) {
        if (strict && isStrictModeReservedWordES6(id)) {
            return true;
        }

        switch (id.length) {
        case 2:
            return (id === 'if') || (id === 'in') || (id === 'do');
        case 3:
            return (id === 'var') || (id === 'for') || (id === 'new') || (id === 'try');
        case 4:
            return (id === 'this') || (id === 'else') || (id === 'case') ||
                (id === 'void') || (id === 'with') || (id === 'enum');
        case 5:
            return (id === 'while') || (id === 'break') || (id === 'catch') ||
                (id === 'throw') || (id === 'const') || (id === 'yield') ||
                (id === 'class') || (id === 'super');
        case 6:
            return (id === 'return') || (id === 'typeof') || (id === 'delete') ||
                (id === 'switch') || (id === 'export') || (id === 'import');
        case 7:
            return (id === 'default') || (id === 'finally') || (id === 'extends');
        case 8:
            return (id === 'function') || (id === 'continue') || (id === 'debugger');
        case 10:
            return (id === 'instanceof');
        default:
            return false;
        }
    }

    function isReservedWordES5(id, strict) {
        return id === 'null' || id === 'true' || id === 'false' || isKeywordES5(id, strict);
    }

    function isReservedWordES6(id, strict) {
        return id === 'null' || id === 'true' || id === 'false' || isKeywordES6(id, strict);
    }

    function isRestrictedWord(id) {
        return id === 'eval' || id === 'arguments';
    }

    function isIdentifierNameES5(id) {
        var i, iz, ch;

        if (id.length === 0) { return false; }

        ch = id.charCodeAt(0);
        if (!code.isIdentifierStartES5(ch)) {
            return false;
        }

        for (i = 1, iz = id.length; i < iz; ++i) {
            ch = id.charCodeAt(i);
            if (!code.isIdentifierPartES5(ch)) {
                return false;
            }
        }
        return true;
    }

    function decodeUtf16(lead, trail) {
        return (lead - 0xD800) * 0x400 + (trail - 0xDC00) + 0x10000;
    }

    function isIdentifierNameES6(id) {
        var i, iz, ch, lowCh, check;

        if (id.length === 0) { return false; }

        check = code.isIdentifierStartES6;
        for (i = 0, iz = id.length; i < iz; ++i) {
            ch = id.charCodeAt(i);
            if (0xD800 <= ch && ch <= 0xDBFF) {
                ++i;
                if (i >= iz) { return false; }
                lowCh = id.charCodeAt(i);
                if (!(0xDC00 <= lowCh && lowCh <= 0xDFFF)) {
                    return false;
                }
                ch = decodeUtf16(ch, lowCh);
            }
            if (!check(ch)) {
                return false;
            }
            check = code.isIdentifierPartES6;
        }
        return true;
    }

    function isIdentifierES5(id, strict) {
        return isIdentifierNameES5(id) && !isReservedWordES5(id, strict);
    }

    function isIdentifierES6(id, strict) {
        return isIdentifierNameES6(id) && !isReservedWordES6(id, strict);
    }

    module.exports = {
        isKeywordES5: isKeywordES5,
        isKeywordES6: isKeywordES6,
        isReservedWordES5: isReservedWordES5,
        isReservedWordES6: isReservedWordES6,
        isRestrictedWord: isRestrictedWord,
        isIdentifierNameES5: isIdentifierNameES5,
        isIdentifierNameES6: isIdentifierNameES6,
        isIdentifierES5: isIdentifierES5,
        isIdentifierES6: isIdentifierES6
    };
}());
/* vim: set sw=4 ts=4 et tw=80 : */

},{"./code":22}],24:[function(require,module,exports){
/*
  Copyright (C) 2013 Yusuke Suzuki <utatane.tea@gmail.com>

  Redistribution and use in source and binary forms, with or without
  modification, are permitted provided that the following conditions are met:

    * Redistributions of source code must retain the above copyright
      notice, this list of conditions and the following disclaimer.
    * Redistributions in binary form must reproduce the above copyright
      notice, this list of conditions and the following disclaimer in the
      documentation and/or other materials provided with the distribution.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
  AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
  IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
  ARE DISCLAIMED. IN NO EVENT SHALL <COPYRIGHT HOLDER> BE LIABLE FOR ANY
  DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
  (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
  LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
  ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
  (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF
  THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/


(function () {
    'use strict';

    exports.ast = require('./ast');
    exports.code = require('./code');
    exports.keyword = require('./keyword');
}());
/* vim: set sw=4 ts=4 et tw=80 : */

},{"./ast":21,"./code":22,"./keyword":23}],25:[function(require,module,exports){
exports.read = function (buffer, offset, isLE, mLen, nBytes) {
  var e, m
  var eLen = (nBytes * 8) - mLen - 1
  var eMax = (1 << eLen) - 1
  var eBias = eMax >> 1
  var nBits = -7
  var i = isLE ? (nBytes - 1) : 0
  var d = isLE ? -1 : 1
  var s = buffer[offset + i]

  i += d

  e = s & ((1 << (-nBits)) - 1)
  s >>= (-nBits)
  nBits += eLen
  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}

  m = e & ((1 << (-nBits)) - 1)
  e >>= (-nBits)
  nBits += mLen
  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}

  if (e === 0) {
    e = 1 - eBias
  } else if (e === eMax) {
    return m ? NaN : ((s ? -1 : 1) * Infinity)
  } else {
    m = m + Math.pow(2, mLen)
    e = e - eBias
  }
  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)
}

exports.write = function (buffer, value, offset, isLE, mLen, nBytes) {
  var e, m, c
  var eLen = (nBytes * 8) - mLen - 1
  var eMax = (1 << eLen) - 1
  var eBias = eMax >> 1
  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)
  var i = isLE ? 0 : (nBytes - 1)
  var d = isLE ? 1 : -1
  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0

  value = Math.abs(value)

  if (isNaN(value) || value === Infinity) {
    m = isNaN(value) ? 1 : 0
    e = eMax
  } else {
    e = Math.floor(Math.log(value) / Math.LN2)
    if (value * (c = Math.pow(2, -e)) < 1) {
      e--
      c *= 2
    }
    if (e + eBias >= 1) {
      value += rt / c
    } else {
      value += rt * Math.pow(2, 1 - eBias)
    }
    if (value * c >= 2) {
      e++
      c /= 2
    }

    if (e + eBias >= eMax) {
      m = 0
      e = eMax
    } else if (e + eBias >= 1) {
      m = ((value * c) - 1) * Math.pow(2, mLen)
      e = e + eBias
    } else {
      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)
      e = 0
    }
  }

  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}

  e = (e << mLen) | m
  eLen += mLen
  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}

  buffer[offset + i - d] |= s * 128
}

},{}],26:[function(require,module,exports){
/*jshint node:true */
/* globals define */
/*
  The MIT License (MIT)

  Copyright (c) 2007-2018 Einar Lielmanis, Liam Newman, and contributors.

  Permission is hereby granted, free of charge, to any person
  obtaining a copy of this software and associated documentation files
  (the "Software"), to deal in the Software without restriction,
  including without limitation the rights to use, copy, modify, merge,
  publish, distribute, sublicense, and/or sell copies of the Software,
  and to permit persons to whom the Software is furnished to do so,
  subject to the following conditions:

  The above copyright notice and this permission notice shall be
  included in all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
  NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS
  BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN
  ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
  CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
  SOFTWARE.

*/

'use strict';

/**
The following batches are equivalent:

var beautify_js = require('js-beautify');
var beautify_js = require('js-beautify').js;
var beautify_js = require('js-beautify').js_beautify;

var beautify_css = require('js-beautify').css;
var beautify_css = require('js-beautify').css_beautify;

var beautify_html = require('js-beautify').html;
var beautify_html = require('js-beautify').html_beautify;

All methods returned accept two arguments, the source string and an options object.
**/

function get_beautify(js_beautify, css_beautify, html_beautify) {
  // the default is js
  var beautify = function(src, config) {
    return js_beautify.js_beautify(src, config);
  };

  // short aliases
  beautify.js = js_beautify.js_beautify;
  beautify.css = css_beautify.css_beautify;
  beautify.html = html_beautify.html_beautify;

  // legacy aliases
  beautify.js_beautify = js_beautify.js_beautify;
  beautify.css_beautify = css_beautify.css_beautify;
  beautify.html_beautify = html_beautify.html_beautify;

  return beautify;
}

if (typeof define === "function" && define.amd) {
  // Add support for AMD ( https://github.com/amdjs/amdjs-api/wiki/AMD#defineamd-property- )
  define([
    "./lib/beautify",
    "./lib/beautify-css",
    "./lib/beautify-html"
  ], function(js_beautify, css_beautify, html_beautify) {
    return get_beautify(js_beautify, css_beautify, html_beautify);
  });
} else {
  (function(mod) {
    var beautifier = require('./src/index');
    beautifier.js_beautify = beautifier.js;
    beautifier.css_beautify = beautifier.css;
    beautifier.html_beautify = beautifier.html;

    mod.exports = get_beautify(beautifier, beautifier, beautifier);

  })(module);
}
},{"./src/index":44}],27:[function(require,module,exports){
/*jshint node:true */
/*

  The MIT License (MIT)

  Copyright (c) 2007-2018 Einar Lielmanis, Liam Newman, and contributors.

  Permission is hereby granted, free of charge, to any person
  obtaining a copy of this software and associated documentation files
  (the "Software"), to deal in the Software without restriction,
  including without limitation the rights to use, copy, modify, merge,
  publish, distribute, sublicense, and/or sell copies of the Software,
  and to permit persons to whom the Software is furnished to do so,
  subject to the following conditions:

  The above copyright notice and this permission notice shall be
  included in all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
  NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS
  BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN
  ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
  CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
  SOFTWARE.
*/

'use strict';

function Directives(start_block_pattern, end_block_pattern) {
  start_block_pattern = typeof start_block_pattern === 'string' ? start_block_pattern : start_block_pattern.source;
  end_block_pattern = typeof end_block_pattern === 'string' ? end_block_pattern : end_block_pattern.source;
  this.__directives_block_pattern = new RegExp(start_block_pattern + / beautify( \w+[:]\w+)+ /.source + end_block_pattern, 'g');
  this.__directive_pattern = / (\w+)[:](\w+)/g;

  this.__directives_end_ignore_pattern = new RegExp(start_block_pattern + /\sbeautify\signore:end\s/.source + end_block_pattern, 'g');
}

Directives.prototype.get_directives = function(text) {
  if (!text.match(this.__directives_block_pattern)) {
    return null;
  }

  var directives = {};
  this.__directive_pattern.lastIndex = 0;
  var directive_match = this.__directive_pattern.exec(text);

  while (directive_match) {
    directives[directive_match[1]] = directive_match[2];
    directive_match = this.__directive_pattern.exec(text);
  }

  return directives;
};

Directives.prototype.readIgnored = function(input) {
  return input.readUntilAfter(this.__directives_end_ignore_pattern);
};


module.exports.Directives = Directives;

},{}],28:[function(require,module,exports){
/*jshint node:true */
/*

  The MIT License (MIT)

  Copyright (c) 2007-2018 Einar Lielmanis, Liam Newman, and contributors.

  Permission is hereby granted, free of charge, to any person
  obtaining a copy of this software and associated documentation files
  (the "Software"), to deal in the Software without restriction,
  including without limitation the rights to use, copy, modify, merge,
  publish, distribute, sublicense, and/or sell copies of the Software,
  and to permit persons to whom the Software is furnished to do so,
  subject to the following conditions:

  The above copyright notice and this permission notice shall be
  included in all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
  NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS
  BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN
  ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
  CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
  SOFTWARE.
*/

'use strict';

var regexp_has_sticky = RegExp.prototype.hasOwnProperty('sticky');

function InputScanner(input_string) {
  this.__input = input_string || '';
  this.__input_length = this.__input.length;
  this.__position = 0;
}

InputScanner.prototype.restart = function() {
  this.__position = 0;
};

InputScanner.prototype.back = function() {
  if (this.__position > 0) {
    this.__position -= 1;
  }
};

InputScanner.prototype.hasNext = function() {
  return this.__position < this.__input_length;
};

InputScanner.prototype.next = function() {
  var val = null;
  if (this.hasNext()) {
    val = this.__input.charAt(this.__position);
    this.__position += 1;
  }
  return val;
};

InputScanner.prototype.peek = function(index) {
  var val = null;
  index = index || 0;
  index += this.__position;
  if (index >= 0 && index < this.__input_length) {
    val = this.__input.charAt(index);
  }
  return val;
};

// This is a JavaScript only helper function (not in python)
// Javascript doesn't have a match method
// and not all implementation support "sticky" flag.
// If they do not support sticky then both this.match() and this.test() method
// must get the match and check the index of the match.
// If sticky is supported and set, this method will use it.
// Otherwise it will check that global is set, and fall back to the slower method.
InputScanner.prototype.__match = function(pattern, index) {
  pattern.lastIndex = index;
  var pattern_match = pattern.exec(this.__input);

  if (pattern_match && !(regexp_has_sticky && pattern.sticky)) {
    if (pattern_match.index !== index) {
      pattern_match = null;
    }
  }

  return pattern_match;
};

InputScanner.prototype.test = function(pattern, index) {
  index = index || 0;
  index += this.__position;

  if (index >= 0 && index < this.__input_length) {
    return !!this.__match(pattern, index);
  } else {
    return false;
  }
};

InputScanner.prototype.testChar = function(pattern, index) {
  // test one character regex match
  var val = this.peek(index);
  pattern.lastIndex = 0;
  return val !== null && pattern.test(val);
};

InputScanner.prototype.match = function(pattern) {
  var pattern_match = this.__match(pattern, this.__position);
  if (pattern_match) {
    this.__position += pattern_match[0].length;
  } else {
    pattern_match = null;
  }
  return pattern_match;
};

InputScanner.prototype.read = function(starting_pattern, until_pattern, until_after) {
  var val = '';
  var match;
  if (starting_pattern) {
    match = this.match(starting_pattern);
    if (match) {
      val += match[0];
    }
  }
  if (until_pattern && (match || !starting_pattern)) {
    val += this.readUntil(until_pattern, until_after);
  }
  return val;
};

InputScanner.prototype.readUntil = function(pattern, until_after) {
  var val = '';
  var match_index = this.__position;
  pattern.lastIndex = this.__position;
  var pattern_match = pattern.exec(this.__input);
  if (pattern_match) {
    match_index = pattern_match.index;
    if (until_after) {
      match_index += pattern_match[0].length;
    }
  } else {
    match_index = this.__input_length;
  }

  val = this.__input.substring(this.__position, match_index);
  this.__position = match_index;
  return val;
};

InputScanner.prototype.readUntilAfter = function(pattern) {
  return this.readUntil(pattern, true);
};

InputScanner.prototype.get_regexp = function(pattern, match_from) {
  var result = null;
  var flags = 'g';
  if (match_from && regexp_has_sticky) {
    flags = 'y';
  }
  // strings are converted to regexp
  if (typeof pattern === "string" && pattern !== '') {
    // result = new RegExp(pattern.replace(/[-\/\\^$*+?.()|[\]{}]/g, '\\$&'), flags);
    result = new RegExp(pattern, flags);
  } else if (pattern) {
    result = new RegExp(pattern.source, flags);
  }
  return result;
};

InputScanner.prototype.get_literal_regexp = function(literal_string) {
  return RegExp(literal_string.replace(/[-\/\\^$*+?.()|[\]{}]/g, '\\$&'));
};

/* css beautifier legacy helpers */
InputScanner.prototype.peekUntilAfter = function(pattern) {
  var start = this.__position;
  var val = this.readUntilAfter(pattern);
  this.__position = start;
  return val;
};

InputScanner.prototype.lookBack = function(testVal) {
  var start = this.__position - 1;
  return start >= testVal.length && this.__input.substring(start - testVal.length, start)
    .toLowerCase() === testVal;
};

module.exports.InputScanner = InputScanner;

},{}],29:[function(require,module,exports){
/*jshint node:true */
/*

  The MIT License (MIT)

  Copyright (c) 2007-2018 Einar Lielmanis, Liam Newman, and contributors.

  Permission is hereby granted, free of charge, to any person
  obtaining a copy of this software and associated documentation files
  (the "Software"), to deal in the Software without restriction,
  including without limitation the rights to use, copy, modify, merge,
  publish, distribute, sublicense, and/or sell copies of the Software,
  and to permit persons to whom the Software is furnished to do so,
  subject to the following conditions:

  The above copyright notice and this permission notice shall be
  included in all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
  NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS
  BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN
  ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
  CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
  SOFTWARE.
*/

'use strict';

function Options(options, merge_child_field) {
  this.raw_options = _mergeOpts(options, merge_child_field);

  // Support passing the source text back with no change
  this.disabled = this._get_boolean('disabled');

  this.eol = this._get_characters('eol', 'auto');
  this.end_with_newline = this._get_boolean('end_with_newline');
  this.indent_size = this._get_number('indent_size', 4);
  this.indent_char = this._get_characters('indent_char', ' ');
  this.indent_level = this._get_number('indent_level');

  this.preserve_newlines = this._get_boolean('preserve_newlines', true);
  this.max_preserve_newlines = this._get_number('max_preserve_newlines', 32786);
  if (!this.preserve_newlines) {
    this.max_preserve_newlines = 0;
  }

  this.indent_with_tabs = this._get_boolean('indent_with_tabs', this.indent_char === '\t');
  if (this.indent_with_tabs) {
    this.indent_char = '\t';

    // indent_size behavior changed after 1.8.6
    // It used to be that indent_size would be
    // set to 1 for indent_with_tabs. That is no longer needed and
    // actually doesn't make sense - why not use spaces? Further,
    // that might produce unexpected behavior - tabs being used
    // for single-column alignment. So, when indent_with_tabs is true
    // and indent_size is 1, reset indent_size to 4.
    if (this.indent_size === 1) {
      this.indent_size = 4;
    }
  }

  // Backwards compat with 1.3.x
  this.wrap_line_length = this._get_number('wrap_line_length', this._get_number('max_char'));

  this.indent_empty_lines = this._get_boolean('indent_empty_lines');

  // valid templating languages ['django', 'erb', 'handlebars', 'php']
  // For now, 'auto' = all off for javascript, all on for html (and inline javascript).
  // other values ignored
  this.templating = this._get_selection_list('templating', ['auto', 'none', 'django', 'erb', 'handlebars', 'php'], ['auto']);
}

Options.prototype._get_array = function(name, default_value) {
  var option_value = this.raw_options[name];
  var result = default_value || [];
  if (typeof option_value === 'object') {
    if (option_value !== null && typeof option_value.concat === 'function') {
      result = option_value.concat();
    }
  } else if (typeof option_value === 'string') {
    result = option_value.split(/[^a-zA-Z0-9_\/\-]+/);
  }
  return result;
};

Options.prototype._get_boolean = function(name, default_value) {
  var option_value = this.raw_options[name];
  var result = option_value === undefined ? !!default_value : !!option_value;
  return result;
};

Options.prototype._get_characters = function(name, default_value) {
  var option_value = this.raw_options[name];
  var result = default_value || '';
  if (typeof option_value === 'string') {
    result = option_value.replace(/\\r/, '\r').replace(/\\n/, '\n').replace(/\\t/, '\t');
  }
  return result;
};

Options.prototype._get_number = function(name, default_value) {
  var option_value = this.raw_options[name];
  default_value = parseInt(default_value, 10);
  if (isNaN(default_value)) {
    default_value = 0;
  }
  var result = parseInt(option_value, 10);
  if (isNaN(result)) {
    result = default_value;
  }
  return result;
};

Options.prototype._get_selection = function(name, selection_list, default_value) {
  var result = this._get_selection_list(name, selection_list, default_value);
  if (result.length !== 1) {
    throw new Error(
      "Invalid Option Value: The option '" + name + "' can only be one of the following values:\n" +
      selection_list + "\nYou passed in: '" + this.raw_options[name] + "'");
  }

  return result[0];
};


Options.prototype._get_selection_list = function(name, selection_list, default_value) {
  if (!selection_list || selection_list.length === 0) {
    throw new Error("Selection list cannot be empty.");
  }

  default_value = default_value || [selection_list[0]];
  if (!this._is_valid_selection(default_value, selection_list)) {
    throw new Error("Invalid Default Value!");
  }

  var result = this._get_array(name, default_value);
  if (!this._is_valid_selection(result, selection_list)) {
    throw new Error(
      "Invalid Option Value: The option '" + name + "' can contain only the following values:\n" +
      selection_list + "\nYou passed in: '" + this.raw_options[name] + "'");
  }

  return result;
};

Options.prototype._is_valid_selection = function(result, selection_list) {
  return result.length && selection_list.length &&
    !result.some(function(item) { return selection_list.indexOf(item) === -1; });
};


// merges child options up with the parent options object
// Example: obj = {a: 1, b: {a: 2}}
//          mergeOpts(obj, 'b')
//
//          Returns: {a: 2}
function _mergeOpts(allOptions, childFieldName) {
  var finalOpts = {};
  allOptions = _normalizeOpts(allOptions);
  var name;

  for (name in allOptions) {
    if (name !== childFieldName) {
      finalOpts[name] = allOptions[name];
    }
  }

  //merge in the per type settings for the childFieldName
  if (childFieldName && allOptions[childFieldName]) {
    for (name in allOptions[childFieldName]) {
      finalOpts[name] = allOptions[childFieldName][name];
    }
  }
  return finalOpts;
}

function _normalizeOpts(options) {
  var convertedOpts = {};
  var key;

  for (key in options) {
    var newKey = key.replace(/-/g, "_");
    convertedOpts[newKey] = options[key];
  }
  return convertedOpts;
}

module.exports.Options = Options;
module.exports.normalizeOpts = _normalizeOpts;
module.exports.mergeOpts = _mergeOpts;

},{}],30:[function(require,module,exports){
/*jshint node:true */
/*
  The MIT License (MIT)

  Copyright (c) 2007-2018 Einar Lielmanis, Liam Newman, and contributors.

  Permission is hereby granted, free of charge, to any person
  obtaining a copy of this software and associated documentation files
  (the "Software"), to deal in the Software without restriction,
  including without limitation the rights to use, copy, modify, merge,
  publish, distribute, sublicense, and/or sell copies of the Software,
  and to permit persons to whom the Software is furnished to do so,
  subject to the following conditions:

  The above copyright notice and this permission notice shall be
  included in all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
  NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS
  BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN
  ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
  CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
  SOFTWARE.
*/

'use strict';

function OutputLine(parent) {
  this.__parent = parent;
  this.__character_count = 0;
  // use indent_count as a marker for this.__lines that have preserved indentation
  this.__indent_count = -1;
  this.__alignment_count = 0;
  this.__wrap_point_index = 0;
  this.__wrap_point_character_count = 0;
  this.__wrap_point_indent_count = -1;
  this.__wrap_point_alignment_count = 0;

  this.__items = [];
}

OutputLine.prototype.clone_empty = function() {
  var line = new OutputLine(this.__parent);
  line.set_indent(this.__indent_count, this.__alignment_count);
  return line;
};

OutputLine.prototype.item = function(index) {
  if (index < 0) {
    return this.__items[this.__items.length + index];
  } else {
    return this.__items[index];
  }
};

OutputLine.prototype.has_match = function(pattern) {
  for (var lastCheckedOutput = this.__items.length - 1; lastCheckedOutput >= 0; lastCheckedOutput--) {
    if (this.__items[lastCheckedOutput].match(pattern)) {
      return true;
    }
  }
  return false;
};

OutputLine.prototype.set_indent = function(indent, alignment) {
  if (this.is_empty()) {
    this.__indent_count = indent || 0;
    this.__alignment_count = alignment || 0;
    this.__character_count = this.__parent.get_indent_size(this.__indent_count, this.__alignment_count);
  }
};

OutputLine.prototype._set_wrap_point = function() {
  if (this.__parent.wrap_line_length) {
    this.__wrap_point_index = this.__items.length;
    this.__wrap_point_character_count = this.__character_count;
    this.__wrap_point_indent_count = this.__parent.next_line.__indent_count;
    this.__wrap_point_alignment_count = this.__parent.next_line.__alignment_count;
  }
};

OutputLine.prototype._should_wrap = function() {
  return this.__wrap_point_index &&
    this.__character_count > this.__parent.wrap_line_length &&
    this.__wrap_point_character_count > this.__parent.next_line.__character_count;
};

OutputLine.prototype._allow_wrap = function() {
  if (this._should_wrap()) {
    this.__parent.add_new_line();
    var next = this.__parent.current_line;
    next.set_indent(this.__wrap_point_indent_count, this.__wrap_point_alignment_count);
    next.__items = this.__items.slice(this.__wrap_point_index);
    this.__items = this.__items.slice(0, this.__wrap_point_index);

    next.__character_count += this.__character_count - this.__wrap_point_character_count;
    this.__character_count = this.__wrap_point_character_count;

    if (next.__items[0] === " ") {
      next.__items.splice(0, 1);
      next.__character_count -= 1;
    }
    return true;
  }
  return false;
};

OutputLine.prototype.is_empty = function() {
  return this.__items.length === 0;
};

OutputLine.prototype.last = function() {
  if (!this.is_empty()) {
    return this.__items[this.__items.length - 1];
  } else {
    return null;
  }
};

OutputLine.prototype.push = function(item) {
  this.__items.push(item);
  var last_newline_index = item.lastIndexOf('\n');
  if (last_newline_index !== -1) {
    this.__character_count = item.length - last_newline_index;
  } else {
    this.__character_count += item.length;
  }
};

OutputLine.prototype.pop = function() {
  var item = null;
  if (!this.is_empty()) {
    item = this.__items.pop();
    this.__character_count -= item.length;
  }
  return item;
};


OutputLine.prototype._remove_indent = function() {
  if (this.__indent_count > 0) {
    this.__indent_count -= 1;
    this.__character_count -= this.__parent.indent_size;
  }
};

OutputLine.prototype._remove_wrap_indent = function() {
  if (this.__wrap_point_indent_count > 0) {
    this.__wrap_point_indent_count -= 1;
  }
};
OutputLine.prototype.trim = function() {
  while (this.last() === ' ') {
    this.__items.pop();
    this.__character_count -= 1;
  }
};

OutputLine.prototype.toString = function() {
  var result = '';
  if (this.is_empty()) {
    if (this.__parent.indent_empty_lines) {
      result = this.__parent.get_indent_string(this.__indent_count);
    }
  } else {
    result = this.__parent.get_indent_string(this.__indent_count, this.__alignment_count);
    result += this.__items.join('');
  }
  return result;
};

function IndentStringCache(options, baseIndentString) {
  this.__cache = [''];
  this.__indent_size = options.indent_size;
  this.__indent_string = options.indent_char;
  if (!options.indent_with_tabs) {
    this.__indent_string = new Array(options.indent_size + 1).join(options.indent_char);
  }

  // Set to null to continue support for auto detection of base indent
  baseIndentString = baseIndentString || '';
  if (options.indent_level > 0) {
    baseIndentString = new Array(options.indent_level + 1).join(this.__indent_string);
  }

  this.__base_string = baseIndentString;
  this.__base_string_length = baseIndentString.length;
}

IndentStringCache.prototype.get_indent_size = function(indent, column) {
  var result = this.__base_string_length;
  column = column || 0;
  if (indent < 0) {
    result = 0;
  }
  result += indent * this.__indent_size;
  result += column;
  return result;
};

IndentStringCache.prototype.get_indent_string = function(indent_level, column) {
  var result = this.__base_string;
  column = column || 0;
  if (indent_level < 0) {
    indent_level = 0;
    result = '';
  }
  column += indent_level * this.__indent_size;
  this.__ensure_cache(column);
  result += this.__cache[column];
  return result;
};

IndentStringCache.prototype.__ensure_cache = function(column) {
  while (column >= this.__cache.length) {
    this.__add_column();
  }
};

IndentStringCache.prototype.__add_column = function() {
  var column = this.__cache.length;
  var indent = 0;
  var result = '';
  if (this.__indent_size && column >= this.__indent_size) {
    indent = Math.floor(column / this.__indent_size);
    column -= indent * this.__indent_size;
    result = new Array(indent + 1).join(this.__indent_string);
  }
  if (column) {
    result += new Array(column + 1).join(' ');
  }

  this.__cache.push(result);
};

function Output(options, baseIndentString) {
  this.__indent_cache = new IndentStringCache(options, baseIndentString);
  this.raw = false;
  this._end_with_newline = options.end_with_newline;
  this.indent_size = options.indent_size;
  this.wrap_line_length = options.wrap_line_length;
  this.indent_empty_lines = options.indent_empty_lines;
  this.__lines = [];
  this.previous_line = null;
  this.current_line = null;
  this.next_line = new OutputLine(this);
  this.space_before_token = false;
  this.non_breaking_space = false;
  this.previous_token_wrapped = false;
  // initialize
  this.__add_outputline();
}

Output.prototype.__add_outputline = function() {
  this.previous_line = this.current_line;
  this.current_line = this.next_line.clone_empty();
  this.__lines.push(this.current_line);
};

Output.prototype.get_line_number = function() {
  return this.__lines.length;
};

Output.prototype.get_indent_string = function(indent, column) {
  return this.__indent_cache.get_indent_string(indent, column);
};

Output.prototype.get_indent_size = function(indent, column) {
  return this.__indent_cache.get_indent_size(indent, column);
};

Output.prototype.is_empty = function() {
  return !this.previous_line && this.current_line.is_empty();
};

Output.prototype.add_new_line = function(force_newline) {
  // never newline at the start of file
  // otherwise, newline only if we didn't just add one or we're forced
  if (this.is_empty() ||
    (!force_newline && this.just_added_newline())) {
    return false;
  }

  // if raw output is enabled, don't print additional newlines,
  // but still return True as though you had
  if (!this.raw) {
    this.__add_outputline();
  }
  return true;
};

Output.prototype.get_code = function(eol) {
  this.trim(true);

  // handle some edge cases where the last tokens
  // has text that ends with newline(s)
  var last_item = this.current_line.pop();
  if (last_item) {
    if (last_item[last_item.length - 1] === '\n') {
      last_item = last_item.replace(/\n+$/g, '');
    }
    this.current_line.push(last_item);
  }

  if (this._end_with_newline) {
    this.__add_outputline();
  }

  var sweet_code = this.__lines.join('\n');

  if (eol !== '\n') {
    sweet_code = sweet_code.replace(/[\n]/g, eol);
  }
  return sweet_code;
};

Output.prototype.set_wrap_point = function() {
  this.current_line._set_wrap_point();
};

Output.prototype.set_indent = function(indent, alignment) {
  indent = indent || 0;
  alignment = alignment || 0;

  // Next line stores alignment values
  this.next_line.set_indent(indent, alignment);

  // Never indent your first output indent at the start of the file
  if (this.__lines.length > 1) {
    this.current_line.set_indent(indent, alignment);
    return true;
  }

  this.current_line.set_indent();
  return false;
};

Output.prototype.add_raw_token = function(token) {
  for (var x = 0; x < token.newlines; x++) {
    this.__add_outputline();
  }
  this.current_line.set_indent(-1);
  this.current_line.push(token.whitespace_before);
  this.current_line.push(token.text);
  this.space_before_token = false;
  this.non_breaking_space = false;
  this.previous_token_wrapped = false;
};

Output.prototype.add_token = function(printable_token) {
  this.__add_space_before_token();
  this.current_line.push(printable_token);
  this.space_before_token = false;
  this.non_breaking_space = false;
  this.previous_token_wrapped = this.current_line._allow_wrap();
};

Output.prototype.__add_space_before_token = function() {
  if (this.space_before_token && !this.just_added_newline()) {
    if (!this.non_breaking_space) {
      this.set_wrap_point();
    }
    this.current_line.push(' ');
  }
};

Output.prototype.remove_indent = function(index) {
  var output_length = this.__lines.length;
  while (index < output_length) {
    this.__lines[index]._remove_indent();
    index++;
  }
  this.current_line._remove_wrap_indent();
};

Output.prototype.trim = function(eat_newlines) {
  eat_newlines = (eat_newlines === undefined) ? false : eat_newlines;

  this.current_line.trim();

  while (eat_newlines && this.__lines.length > 1 &&
    this.current_line.is_empty()) {
    this.__lines.pop();
    this.current_line = this.__lines[this.__lines.length - 1];
    this.current_line.trim();
  }

  this.previous_line = this.__lines.length > 1 ?
    this.__lines[this.__lines.length - 2] : null;
};

Output.prototype.just_added_newline = function() {
  return this.current_line.is_empty();
};

Output.prototype.just_added_blankline = function() {
  return this.is_empty() ||
    (this.current_line.is_empty() && this.previous_line.is_empty());
};

Output.prototype.ensure_empty_line_above = function(starts_with, ends_with) {
  var index = this.__lines.length - 2;
  while (index >= 0) {
    var potentialEmptyLine = this.__lines[index];
    if (potentialEmptyLine.is_empty()) {
      break;
    } else if (potentialEmptyLine.item(0).indexOf(starts_with) !== 0 &&
      potentialEmptyLine.item(-1) !== ends_with) {
      this.__lines.splice(index + 1, 0, new OutputLine(this));
      this.previous_line = this.__lines[this.__lines.length - 2];
      break;
    }
    index--;
  }
};

module.exports.Output = Output;

},{}],31:[function(require,module,exports){
/*jshint node:true */
/*

  The MIT License (MIT)

  Copyright (c) 2007-2018 Einar Lielmanis, Liam Newman, and contributors.

  Permission is hereby granted, free of charge, to any person
  obtaining a copy of this software and associated documentation files
  (the "Software"), to deal in the Software without restriction,
  including without limitation the rights to use, copy, modify, merge,
  publish, distribute, sublicense, and/or sell copies of the Software,
  and to permit persons to whom the Software is furnished to do so,
  subject to the following conditions:

  The above copyright notice and this permission notice shall be
  included in all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
  NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS
  BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN
  ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
  CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
  SOFTWARE.
*/

'use strict';

function Pattern(input_scanner, parent) {
  this._input = input_scanner;
  this._starting_pattern = null;
  this._match_pattern = null;
  this._until_pattern = null;
  this._until_after = false;

  if (parent) {
    this._starting_pattern = this._input.get_regexp(parent._starting_pattern, true);
    this._match_pattern = this._input.get_regexp(parent._match_pattern, true);
    this._until_pattern = this._input.get_regexp(parent._until_pattern);
    this._until_after = parent._until_after;
  }
}

Pattern.prototype.read = function() {
  var result = this._input.read(this._starting_pattern);
  if (!this._starting_pattern || result) {
    result += this._input.read(this._match_pattern, this._until_pattern, this._until_after);
  }
  return result;
};

Pattern.prototype.read_match = function() {
  return this._input.match(this._match_pattern);
};

Pattern.prototype.until_after = function(pattern) {
  var result = this._create();
  result._until_after = true;
  result._until_pattern = this._input.get_regexp(pattern);
  result._update();
  return result;
};

Pattern.prototype.until = function(pattern) {
  var result = this._create();
  result._until_after = false;
  result._until_pattern = this._input.get_regexp(pattern);
  result._update();
  return result;
};

Pattern.prototype.starting_with = function(pattern) {
  var result = this._create();
  result._starting_pattern = this._input.get_regexp(pattern, true);
  result._update();
  return result;
};

Pattern.prototype.matching = function(pattern) {
  var result = this._create();
  result._match_pattern = this._input.get_regexp(pattern, true);
  result._update();
  return result;
};

Pattern.prototype._create = function() {
  return new Pattern(this._input, this);
};

Pattern.prototype._update = function() {};

module.exports.Pattern = Pattern;

},{}],32:[function(require,module,exports){
/*jshint node:true */
/*

  The MIT License (MIT)

  Copyright (c) 2007-2018 Einar Lielmanis, Liam Newman, and contributors.

  Permission is hereby granted, free of charge, to any person
  obtaining a copy of this software and associated documentation files
  (the "Software"), to deal in the Software without restriction,
  including without limitation the rights to use, copy, modify, merge,
  publish, distribute, sublicense, and/or sell copies of the Software,
  and to permit persons to whom the Software is furnished to do so,
  subject to the following conditions:

  The above copyright notice and this permission notice shall be
  included in all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
  NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS
  BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN
  ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
  CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
  SOFTWARE.
*/

'use strict';

var Pattern = require('./pattern').Pattern;


var template_names = {
  django: false,
  erb: false,
  handlebars: false,
  php: false
};

// This lets templates appear anywhere we would do a readUntil
// The cost is higher but it is pay to play.
function TemplatablePattern(input_scanner, parent) {
  Pattern.call(this, input_scanner, parent);
  this.__template_pattern = null;
  this._disabled = Object.assign({}, template_names);
  this._excluded = Object.assign({}, template_names);

  if (parent) {
    this.__template_pattern = this._input.get_regexp(parent.__template_pattern);
    this._excluded = Object.assign(this._excluded, parent._excluded);
    this._disabled = Object.assign(this._disabled, parent._disabled);
  }
  var pattern = new Pattern(input_scanner);
  this.__patterns = {
    handlebars_comment: pattern.starting_with(/{{!--/).until_after(/--}}/),
    handlebars_unescaped: pattern.starting_with(/{{{/).until_after(/}}}/),
    handlebars: pattern.starting_with(/{{/).until_after(/}}/),
    php: pattern.starting_with(/<\?(?:[=]|php)/).until_after(/\?>/),
    erb: pattern.starting_with(/<%[^%]/).until_after(/[^%]%>/),
    // django coflicts with handlebars a bit.
    django: pattern.starting_with(/{%/).until_after(/%}/),
    django_value: pattern.starting_with(/{{/).until_after(/}}/),
    django_comment: pattern.starting_with(/{#/).until_after(/#}/)
  };
}
TemplatablePattern.prototype = new Pattern();

TemplatablePattern.prototype._create = function() {
  return new TemplatablePattern(this._input, this);
};

TemplatablePattern.prototype._update = function() {
  this.__set_templated_pattern();
};

TemplatablePattern.prototype.disable = function(language) {
  var result = this._create();
  result._disabled[language] = true;
  result._update();
  return result;
};

TemplatablePattern.prototype.read_options = function(options) {
  var result = this._create();
  for (var language in template_names) {
    result._disabled[language] = options.templating.indexOf(language) === -1;
  }
  result._update();
  return result;
};

TemplatablePattern.prototype.exclude = function(language) {
  var result = this._create();
  result._excluded[language] = true;
  result._update();
  return result;
};

TemplatablePattern.prototype.read = function() {
  var result = '';
  if (this._match_pattern) {
    result = this._input.read(this._starting_pattern);
  } else {
    result = this._input.read(this._starting_pattern, this.__template_pattern);
  }
  var next = this._read_template();
  while (next) {
    if (this._match_pattern) {
      next += this._input.read(this._match_pattern);
    } else {
      next += this._input.readUntil(this.__template_pattern);
    }
    result += next;
    next = this._read_template();
  }

  if (this._until_after) {
    result += this._input.readUntilAfter(this._until_pattern);
  }
  return result;
};

TemplatablePattern.prototype.__set_templated_pattern = function() {
  var items = [];

  if (!this._disabled.php) {
    items.push(this.__patterns.php._starting_pattern.source);
  }
  if (!this._disabled.handlebars) {
    items.push(this.__patterns.handlebars._starting_pattern.source);
  }
  if (!this._disabled.erb) {
    items.push(this.__patterns.erb._starting_pattern.source);
  }
  if (!this._disabled.django) {
    items.push(this.__patterns.django._starting_pattern.source);
    items.push(this.__patterns.django_value._starting_pattern.source);
    items.push(this.__patterns.django_comment._starting_pattern.source);
  }

  if (this._until_pattern) {
    items.push(this._until_pattern.source);
  }
  this.__template_pattern = this._input.get_regexp('(?:' + items.join('|') + ')');
};

TemplatablePattern.prototype._read_template = function() {
  var resulting_string = '';
  var c = this._input.peek();
  if (c === '<') {
    var peek1 = this._input.peek(1);
    //if we're in a comment, do something special
    // We treat all comments as literals, even more than preformatted tags
    // we just look for the appropriate close tag
    if (!this._disabled.php && !this._excluded.php && peek1 === '?') {
      resulting_string = resulting_string ||
        this.__patterns.php.read();
    }
    if (!this._disabled.erb && !this._excluded.erb && peek1 === '%') {
      resulting_string = resulting_string ||
        this.__patterns.erb.read();
    }
  } else if (c === '{') {
    if (!this._disabled.handlebars && !this._excluded.handlebars) {
      resulting_string = resulting_string ||
        this.__patterns.handlebars_comment.read();
      resulting_string = resulting_string ||
        this.__patterns.handlebars_unescaped.read();
      resulting_string = resulting_string ||
        this.__patterns.handlebars.read();
    }
    if (!this._disabled.django) {
      // django coflicts with handlebars a bit.
      if (!this._excluded.django && !this._excluded.handlebars) {
        resulting_string = resulting_string ||
          this.__patterns.django_value.read();
      }
      if (!this._excluded.django) {
        resulting_string = resulting_string ||
          this.__patterns.django_comment.read();
        resulting_string = resulting_string ||
          this.__patterns.django.read();
      }
    }
  }
  return resulting_string;
};


module.exports.TemplatablePattern = TemplatablePattern;

},{"./pattern":31}],33:[function(require,module,exports){
/*jshint node:true */
/*

  The MIT License (MIT)

  Copyright (c) 2007-2018 Einar Lielmanis, Liam Newman, and contributors.

  Permission is hereby granted, free of charge, to any person
  obtaining a copy of this software and associated documentation files
  (the "Software"), to deal in the Software without restriction,
  including without limitation the rights to use, copy, modify, merge,
  publish, distribute, sublicense, and/or sell copies of the Software,
  and to permit persons to whom the Software is furnished to do so,
  subject to the following conditions:

  The above copyright notice and this permission notice shall be
  included in all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
  NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS
  BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN
  ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
  CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
  SOFTWARE.
*/

'use strict';

function Token(type, text, newlines, whitespace_before) {
  this.type = type;
  this.text = text;

  // comments_before are
  // comments that have a new line before them
  // and may or may not have a newline after
  // this is a set of comments before
  this.comments_before = null; /* inline comment*/


  // this.comments_after =  new TokenStream(); // no new line before and newline after
  this.newlines = newlines || 0;
  this.whitespace_before = whitespace_before || '';
  this.parent = null;
  this.next = null;
  this.previous = null;
  this.opened = null;
  this.closed = null;
  this.directives = null;
}


module.exports.Token = Token;

},{}],34:[function(require,module,exports){
/*jshint node:true */
/*

  The MIT License (MIT)

  Copyright (c) 2007-2018 Einar Lielmanis, Liam Newman, and contributors.

  Permission is hereby granted, free of charge, to any person
  obtaining a copy of this software and associated documentation files
  (the "Software"), to deal in the Software without restriction,
  including without limitation the rights to use, copy, modify, merge,
  publish, distribute, sublicense, and/or sell copies of the Software,
  and to permit persons to whom the Software is furnished to do so,
  subject to the following conditions:

  The above copyright notice and this permission notice shall be
  included in all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
  NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS
  BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN
  ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
  CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
  SOFTWARE.
*/

'use strict';

var InputScanner = require('../core/inputscanner').InputScanner;
var Token = require('../core/token').Token;
var TokenStream = require('../core/tokenstream').TokenStream;
var WhitespacePattern = require('./whitespacepattern').WhitespacePattern;

var TOKEN = {
  START: 'TK_START',
  RAW: 'TK_RAW',
  EOF: 'TK_EOF'
};

var Tokenizer = function(input_string, options) {
  this._input = new InputScanner(input_string);
  this._options = options || {};
  this.__tokens = null;

  this._patterns = {};
  this._patterns.whitespace = new WhitespacePattern(this._input);
};

Tokenizer.prototype.tokenize = function() {
  this._input.restart();
  this.__tokens = new TokenStream();

  this._reset();

  var current;
  var previous = new Token(TOKEN.START, '');
  var open_token = null;
  var open_stack = [];
  var comments = new TokenStream();

  while (previous.type !== TOKEN.EOF) {
    current = this._get_next_token(previous, open_token);
    while (this._is_comment(current)) {
      comments.add(current);
      current = this._get_next_token(previous, open_token);
    }

    if (!comments.isEmpty()) {
      current.comments_before = comments;
      comments = new TokenStream();
    }

    current.parent = open_token;

    if (this._is_opening(current)) {
      open_stack.push(open_token);
      open_token = current;
    } else if (open_token && this._is_closing(current, open_token)) {
      current.opened = open_token;
      open_token.closed = current;
      open_token = open_stack.pop();
      current.parent = open_token;
    }

    current.previous = previous;
    previous.next = current;

    this.__tokens.add(current);
    previous = current;
  }

  return this.__tokens;
};


Tokenizer.prototype._is_first_token = function() {
  return this.__tokens.isEmpty();
};

Tokenizer.prototype._reset = function() {};

Tokenizer.prototype._get_next_token = function(previous_token, open_token) { // jshint unused:false
  this._readWhitespace();
  var resulting_string = this._input.read(/.+/g);
  if (resulting_string) {
    return this._create_token(TOKEN.RAW, resulting_string);
  } else {
    return this._create_token(TOKEN.EOF, '');
  }
};

Tokenizer.prototype._is_comment = function(current_token) { // jshint unused:false
  return false;
};

Tokenizer.prototype._is_opening = function(current_token) { // jshint unused:false
  return false;
};

Tokenizer.prototype._is_closing = function(current_token, open_token) { // jshint unused:false
  return false;
};

Tokenizer.prototype._create_token = function(type, text) {
  var token = new Token(type, text,
    this._patterns.whitespace.newline_count,
    this._patterns.whitespace.whitespace_before_token);
  return token;
};

Tokenizer.prototype._readWhitespace = function() {
  return this._patterns.whitespace.read();
};



module.exports.Tokenizer = Tokenizer;
module.exports.TOKEN = TOKEN;

},{"../core/inputscanner":28,"../core/token":33,"../core/tokenstream":35,"./whitespacepattern":36}],35:[function(require,module,exports){
/*jshint node:true */
/*

  The MIT License (MIT)

  Copyright (c) 2007-2018 Einar Lielmanis, Liam Newman, and contributors.

  Permission is hereby granted, free of charge, to any person
  obtaining a copy of this software and associated documentation files
  (the "Software"), to deal in the Software without restriction,
  including without limitation the rights to use, copy, modify, merge,
  publish, distribute, sublicense, and/or sell copies of the Software,
  and to permit persons to whom the Software is furnished to do so,
  subject to the following conditions:

  The above copyright notice and this permission notice shall be
  included in all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
  NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS
  BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN
  ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
  CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
  SOFTWARE.
*/

'use strict';

function TokenStream(parent_token) {
  // private
  this.__tokens = [];
  this.__tokens_length = this.__tokens.length;
  this.__position = 0;
  this.__parent_token = parent_token;
}

TokenStream.prototype.restart = function() {
  this.__position = 0;
};

TokenStream.prototype.isEmpty = function() {
  return this.__tokens_length === 0;
};

TokenStream.prototype.hasNext = function() {
  return this.__position < this.__tokens_length;
};

TokenStream.prototype.next = function() {
  var val = null;
  if (this.hasNext()) {
    val = this.__tokens[this.__position];
    this.__position += 1;
  }
  return val;
};

TokenStream.prototype.peek = function(index) {
  var val = null;
  index = index || 0;
  index += this.__position;
  if (index >= 0 && index < this.__tokens_length) {
    val = this.__tokens[index];
  }
  return val;
};

TokenStream.prototype.add = function(token) {
  if (this.__parent_token) {
    token.parent = this.__parent_token;
  }
  this.__tokens.push(token);
  this.__tokens_length += 1;
};

module.exports.TokenStream = TokenStream;

},{}],36:[function(require,module,exports){
/*jshint node:true */
/*

  The MIT License (MIT)

  Copyright (c) 2007-2018 Einar Lielmanis, Liam Newman, and contributors.

  Permission is hereby granted, free of charge, to any person
  obtaining a copy of this software and associated documentation files
  (the "Software"), to deal in the Software without restriction,
  including without limitation the rights to use, copy, modify, merge,
  publish, distribute, sublicense, and/or sell copies of the Software,
  and to permit persons to whom the Software is furnished to do so,
  subject to the following conditions:

  The above copyright notice and this permission notice shall be
  included in all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
  NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS
  BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN
  ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
  CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
  SOFTWARE.
*/

'use strict';

var Pattern = require('../core/pattern').Pattern;

function WhitespacePattern(input_scanner, parent) {
  Pattern.call(this, input_scanner, parent);
  if (parent) {
    this._line_regexp = this._input.get_regexp(parent._line_regexp);
  } else {
    this.__set_whitespace_patterns('', '');
  }

  this.newline_count = 0;
  this.whitespace_before_token = '';
}
WhitespacePattern.prototype = new Pattern();

WhitespacePattern.prototype.__set_whitespace_patterns = function(whitespace_chars, newline_chars) {
  whitespace_chars += '\\t ';
  newline_chars += '\\n\\r';

  this._match_pattern = this._input.get_regexp(
    '[' + whitespace_chars + newline_chars + ']+', true);
  this._newline_regexp = this._input.get_regexp(
    '\\r\\n|[' + newline_chars + ']');
};

WhitespacePattern.prototype.read = function() {
  this.newline_count = 0;
  this.whitespace_before_token = '';

  var resulting_string = this._input.read(this._match_pattern);
  if (resulting_string === ' ') {
    this.whitespace_before_token = ' ';
  } else if (resulting_string) {
    var matches = this.__split(this._newline_regexp, resulting_string);
    this.newline_count = matches.length - 1;
    this.whitespace_before_token = matches[this.newline_count];
  }

  return resulting_string;
};

WhitespacePattern.prototype.matching = function(whitespace_chars, newline_chars) {
  var result = this._create();
  result.__set_whitespace_patterns(whitespace_chars, newline_chars);
  result._update();
  return result;
};

WhitespacePattern.prototype._create = function() {
  return new WhitespacePattern(this._input, this);
};

WhitespacePattern.prototype.__split = function(regexp, input_string) {
  regexp.lastIndex = 0;
  var start_index = 0;
  var result = [];
  var next_match = regexp.exec(input_string);
  while (next_match) {
    result.push(input_string.substring(start_index, next_match.index));
    start_index = next_match.index + next_match[0].length;
    next_match = regexp.exec(input_string);
  }

  if (start_index < input_string.length) {
    result.push(input_string.substring(start_index, input_string.length));
  } else {
    result.push('');
  }

  return result;
};



module.exports.WhitespacePattern = WhitespacePattern;

},{"../core/pattern":31}],37:[function(require,module,exports){
/*jshint node:true */
/*

  The MIT License (MIT)

  Copyright (c) 2007-2018 Einar Lielmanis, Liam Newman, and contributors.

  Permission is hereby granted, free of charge, to any person
  obtaining a copy of this software and associated documentation files
  (the "Software"), to deal in the Software without restriction,
  including without limitation the rights to use, copy, modify, merge,
  publish, distribute, sublicense, and/or sell copies of the Software,
  and to permit persons to whom the Software is furnished to do so,
  subject to the following conditions:

  The above copyright notice and this permission notice shall be
  included in all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
  NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS
  BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN
  ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
  CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
  SOFTWARE.
*/

'use strict';

var Options = require('./options').Options;
var Output = require('../core/output').Output;
var InputScanner = require('../core/inputscanner').InputScanner;
var Directives = require('../core/directives').Directives;

var directives_core = new Directives(/\/\*/, /\*\//);

var lineBreak = /\r\n|[\r\n]/;
var allLineBreaks = /\r\n|[\r\n]/g;

// tokenizer
var whitespaceChar = /\s/;
var whitespacePattern = /(?:\s|\n)+/g;
var block_comment_pattern = /\/\*(?:[\s\S]*?)((?:\*\/)|$)/g;
var comment_pattern = /\/\/(?:[^\n\r\u2028\u2029]*)/g;

function Beautifier(source_text, options) {
  this._source_text = source_text || '';
  // Allow the setting of language/file-type specific options
  // with inheritance of overall settings
  this._options = new Options(options);
  this._ch = null;
  this._input = null;

  // https://developer.mozilla.org/en-US/docs/Web/CSS/At-rule
  this.NESTED_AT_RULE = {
    "@page": true,
    "@font-face": true,
    "@keyframes": true,
    // also in CONDITIONAL_GROUP_RULE below
    "@media": true,
    "@supports": true,
    "@document": true
  };
  this.CONDITIONAL_GROUP_RULE = {
    "@media": true,
    "@supports": true,
    "@document": true
  };

}

Beautifier.prototype.eatString = function(endChars) {
  var result = '';
  this._ch = this._input.next();
  while (this._ch) {
    result += this._ch;
    if (this._ch === "\\") {
      result += this._input.next();
    } else if (endChars.indexOf(this._ch) !== -1 || this._ch === "\n") {
      break;
    }
    this._ch = this._input.next();
  }
  return result;
};

// Skips any white space in the source text from the current position.
// When allowAtLeastOneNewLine is true, will output new lines for each
// newline character found; if the user has preserve_newlines off, only
// the first newline will be output
Beautifier.prototype.eatWhitespace = function(allowAtLeastOneNewLine) {
  var result = whitespaceChar.test(this._input.peek());
  var isFirstNewLine = true;

  while (whitespaceChar.test(this._input.peek())) {
    this._ch = this._input.next();
    if (allowAtLeastOneNewLine && this._ch === '\n') {
      if (this._options.preserve_newlines || isFirstNewLine) {
        isFirstNewLine = false;
        this._output.add_new_line(true);
      }
    }
  }
  return result;
};

// Nested pseudo-class if we are insideRule
// and the next special character found opens
// a new block
Beautifier.prototype.foundNestedPseudoClass = function() {
  var openParen = 0;
  var i = 1;
  var ch = this._input.peek(i);
  while (ch) {
    if (ch === "{") {
      return true;
    } else if (ch === '(') {
      // pseudoclasses can contain ()
      openParen += 1;
    } else if (ch === ')') {
      if (openParen === 0) {
        return false;
      }
      openParen -= 1;
    } else if (ch === ";" || ch === "}") {
      return false;
    }
    i++;
    ch = this._input.peek(i);
  }
  return false;
};

Beautifier.prototype.print_string = function(output_string) {
  this._output.set_indent(this._indentLevel);
  this._output.non_breaking_space = true;
  this._output.add_token(output_string);
};

Beautifier.prototype.preserveSingleSpace = function(isAfterSpace) {
  if (isAfterSpace) {
    this._output.space_before_token = true;
  }
};

Beautifier.prototype.indent = function() {
  this._indentLevel++;
};

Beautifier.prototype.outdent = function() {
  if (this._indentLevel > 0) {
    this._indentLevel--;
  }
};

/*_____________________--------------------_____________________*/

Beautifier.prototype.beautify = function() {
  if (this._options.disabled) {
    return this._source_text;
  }

  var source_text = this._source_text;
  var eol = this._options.eol;
  if (eol === 'auto') {
    eol = '\n';
    if (source_text && lineBreak.test(source_text || '')) {
      eol = source_text.match(lineBreak)[0];
    }
  }


  // HACK: newline parsing inconsistent. This brute force normalizes the this._input.
  source_text = source_text.replace(allLineBreaks, '\n');

  // reset
  var baseIndentString = source_text.match(/^[\t ]*/)[0];

  this._output = new Output(this._options, baseIndentString);
  this._input = new InputScanner(source_text);
  this._indentLevel = 0;
  this._nestedLevel = 0;

  this._ch = null;
  var parenLevel = 0;

  var insideRule = false;
  // This is the value side of a property value pair (blue in the following ex)
  // label { content: blue }
  var insidePropertyValue = false;
  var enteringConditionalGroup = false;
  var insideAtExtend = false;
  var insideAtImport = false;
  var topCharacter = this._ch;
  var whitespace;
  var isAfterSpace;
  var previous_ch;

  while (true) {
    whitespace = this._input.read(whitespacePattern);
    isAfterSpace = whitespace !== '';
    previous_ch = topCharacter;
    this._ch = this._input.next();
    if (this._ch === '\\' && this._input.hasNext()) {
      this._ch += this._input.next();
    }
    topCharacter = this._ch;

    if (!this._ch) {
      break;
    } else if (this._ch === '/' && this._input.peek() === '*') {
      // /* css comment */
      // Always start block comments on a new line.
      // This handles scenarios where a block comment immediately
      // follows a property definition on the same line or where
      // minified code is being beautified.
      this._output.add_new_line();
      this._input.back();

      var comment = this._input.read(block_comment_pattern);

      // Handle ignore directive
      var directives = directives_core.get_directives(comment);
      if (directives && directives.ignore === 'start') {
        comment += directives_core.readIgnored(this._input);
      }

      this.print_string(comment);

      // Ensures any new lines following the comment are preserved
      this.eatWhitespace(true);

      // Block comments are followed by a new line so they don't
      // share a line with other properties
      this._output.add_new_line();
    } else if (this._ch === '/' && this._input.peek() === '/') {
      // // single line comment
      // Preserves the space before a comment
      // on the same line as a rule
      this._output.space_before_token = true;
      this._input.back();
      this.print_string(this._input.read(comment_pattern));

      // Ensures any new lines following the comment are preserved
      this.eatWhitespace(true);
    } else if (this._ch === '@') {
      this.preserveSingleSpace(isAfterSpace);

      // deal with less propery mixins @{...}
      if (this._input.peek() === '{') {
        this.print_string(this._ch + this.eatString('}'));
      } else {
        this.print_string(this._ch);

        // strip trailing space, if present, for hash property checks
        var variableOrRule = this._input.peekUntilAfter(/[: ,;{}()[\]\/='"]/g);

        if (variableOrRule.match(/[ :]$/)) {
          // we have a variable or pseudo-class, add it and insert one space before continuing
          variableOrRule = this.eatString(": ").replace(/\s$/, '');
          this.print_string(variableOrRule);
          this._output.space_before_token = true;
        }

        variableOrRule = variableOrRule.replace(/\s$/, '');

        if (variableOrRule === 'extend') {
          insideAtExtend = true;
        } else if (variableOrRule === 'import') {
          insideAtImport = true;
        }

        // might be a nesting at-rule
        if (variableOrRule in this.NESTED_AT_RULE) {
          this._nestedLevel += 1;
          if (variableOrRule in this.CONDITIONAL_GROUP_RULE) {
            enteringConditionalGroup = true;
          }
          // might be less variable
        } else if (!insideRule && parenLevel === 0 && variableOrRule.indexOf(':') !== -1) {
          insidePropertyValue = true;
          this.indent();
        }
      }
    } else if (this._ch === '#' && this._input.peek() === '{') {
      this.preserveSingleSpace(isAfterSpace);
      this.print_string(this._ch + this.eatString('}'));
    } else if (this._ch === '{') {
      if (insidePropertyValue) {
        insidePropertyValue = false;
        this.outdent();
      }
      this.indent();
      this._output.space_before_token = true;
      this.print_string(this._ch);

      // when entering conditional groups, only rulesets are allowed
      if (enteringConditionalGroup) {
        enteringConditionalGroup = false;
        insideRule = (this._indentLevel > this._nestedLevel);
      } else {
        // otherwise, declarations are also allowed
        insideRule = (this._indentLevel >= this._nestedLevel);
      }
      if (this._options.newline_between_rules && insideRule) {
        if (this._output.previous_line && this._output.previous_line.item(-1) !== '{') {
          this._output.ensure_empty_line_above('/', ',');
        }
      }
      this.eatWhitespace(true);
      this._output.add_new_line();
    } else if (this._ch === '}') {
      this.outdent();
      this._output.add_new_line();
      if (previous_ch === '{') {
        this._output.trim(true);
      }
      insideAtImport = false;
      insideAtExtend = false;
      if (insidePropertyValue) {
        this.outdent();
        insidePropertyValue = false;
      }
      this.print_string(this._ch);
      insideRule = false;
      if (this._nestedLevel) {
        this._nestedLevel--;
      }

      this.eatWhitespace(true);
      this._output.add_new_line();

      if (this._options.newline_between_rules && !this._output.just_added_blankline()) {
        if (this._input.peek() !== '}') {
          this._output.add_new_line(true);
        }
      }
    } else if (this._ch === ":") {
      if ((insideRule || enteringConditionalGroup) && !(this._input.lookBack("&") || this.foundNestedPseudoClass()) && !this._input.lookBack("(") && !insideAtExtend && parenLevel === 0) {
        // 'property: value' delimiter
        // which could be in a conditional group query
        this.print_string(':');
        if (!insidePropertyValue) {
          insidePropertyValue = true;
          this._output.space_before_token = true;
          this.eatWhitespace(true);
          this.indent();
        }
      } else {
        // sass/less parent reference don't use a space
        // sass nested pseudo-class don't use a space

        // preserve space before pseudoclasses/pseudoelements, as it means "in any child"
        if (this._input.lookBack(" ")) {
          this._output.space_before_token = true;
        }
        if (this._input.peek() === ":") {
          // pseudo-element
          this._ch = this._input.next();
          this.print_string("::");
        } else {
          // pseudo-class
          this.print_string(':');
        }
      }
    } else if (this._ch === '"' || this._ch === '\'') {
      this.preserveSingleSpace(isAfterSpace);
      this.print_string(this._ch + this.eatString(this._ch));
      this.eatWhitespace(true);
    } else if (this._ch === ';') {
      if (parenLevel === 0) {
        if (insidePropertyValue) {
          this.outdent();
          insidePropertyValue = false;
        }
        insideAtExtend = false;
        insideAtImport = false;
        this.print_string(this._ch);
        this.eatWhitespace(true);

        // This maintains single line comments on the same
        // line. Block comments are also affected, but
        // a new line is always output before one inside
        // that section
        if (this._input.peek() !== '/') {
          this._output.add_new_line();
        }
      } else {
        this.print_string(this._ch);
        this.eatWhitespace(true);
        this._output.space_before_token = true;
      }
    } else if (this._ch === '(') { // may be a url
      if (this._input.lookBack("url")) {
        this.print_string(this._ch);
        this.eatWhitespace();
        parenLevel++;
        this.indent();
        this._ch = this._input.next();
        if (this._ch === ')' || this._ch === '"' || this._ch === '\'') {
          this._input.back();
        } else if (this._ch) {
          this.print_string(this._ch + this.eatString(')'));
          if (parenLevel) {
            parenLevel--;
            this.outdent();
          }
        }
      } else {
        this.preserveSingleSpace(isAfterSpace);
        this.print_string(this._ch);
        this.eatWhitespace();
        parenLevel++;
        this.indent();
      }
    } else if (this._ch === ')') {
      if (parenLevel) {
        parenLevel--;
        this.outdent();
      }
      this.print_string(this._ch);
    } else if (this._ch === ',') {
      this.print_string(this._ch);
      this.eatWhitespace(true);
      if (this._options.selector_separator_newline && !insidePropertyValue && parenLevel === 0 && !insideAtImport) {
        this._output.add_new_line();
      } else {
        this._output.space_before_token = true;
      }
    } else if ((this._ch === '>' || this._ch === '+' || this._ch === '~') && !insidePropertyValue && parenLevel === 0) {
      //handle combinator spacing
      if (this._options.space_around_combinator) {
        this._output.space_before_token = true;
        this.print_string(this._ch);
        this._output.space_before_token = true;
      } else {
        this.print_string(this._ch);
        this.eatWhitespace();
        // squash extra whitespace
        if (this._ch && whitespaceChar.test(this._ch)) {
          this._ch = '';
        }
      }
    } else if (this._ch === ']') {
      this.print_string(this._ch);
    } else if (this._ch === '[') {
      this.preserveSingleSpace(isAfterSpace);
      this.print_string(this._ch);
    } else if (this._ch === '=') { // no whitespace before or after
      this.eatWhitespace();
      this.print_string('=');
      if (whitespaceChar.test(this._ch)) {
        this._ch = '';
      }
    } else if (this._ch === '!' && !this._input.lookBack("\\")) { // !important
      this.print_string(' ');
      this.print_string(this._ch);
    } else {
      this.preserveSingleSpace(isAfterSpace);
      this.print_string(this._ch);
    }
  }

  var sweetCode = this._output.get_code(eol);

  return sweetCode;
};

module.exports.Beautifier = Beautifier;

},{"../core/directives":27,"../core/inputscanner":28,"../core/output":30,"./options":39}],38:[function(require,module,exports){
/*jshint node:true */
/*

  The MIT License (MIT)

  Copyright (c) 2007-2018 Einar Lielmanis, Liam Newman, and contributors.

  Permission is hereby granted, free of charge, to any person
  obtaining a copy of this software and associated documentation files
  (the "Software"), to deal in the Software without restriction,
  including without limitation the rights to use, copy, modify, merge,
  publish, distribute, sublicense, and/or sell copies of the Software,
  and to permit persons to whom the Software is furnished to do so,
  subject to the following conditions:

  The above copyright notice and this permission notice shall be
  included in all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
  NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS
  BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN
  ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
  CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
  SOFTWARE.
*/

'use strict';

var Beautifier = require('./beautifier').Beautifier,
  Options = require('./options').Options;

function css_beautify(source_text, options) {
  var beautifier = new Beautifier(source_text, options);
  return beautifier.beautify();
}

module.exports = css_beautify;
module.exports.defaultOptions = function() {
  return new Options();
};

},{"./beautifier":37,"./options":39}],39:[function(require,module,exports){
/*jshint node:true */
/*

  The MIT License (MIT)

  Copyright (c) 2007-2018 Einar Lielmanis, Liam Newman, and contributors.

  Permission is hereby granted, free of charge, to any person
  obtaining a copy of this software and associated documentation files
  (the "Software"), to deal in the Software without restriction,
  including without limitation the rights to use, copy, modify, merge,
  publish, distribute, sublicense, and/or sell copies of the Software,
  and to permit persons to whom the Software is furnished to do so,
  subject to the following conditions:

  The above copyright notice and this permission notice shall be
  included in all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
  NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS
  BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN
  ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
  CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
  SOFTWARE.
*/

'use strict';

var BaseOptions = require('../core/options').Options;

function Options(options) {
  BaseOptions.call(this, options, 'css');

  this.selector_separator_newline = this._get_boolean('selector_separator_newline', true);
  this.newline_between_rules = this._get_boolean('newline_between_rules', true);
  var space_around_selector_separator = this._get_boolean('space_around_selector_separator');
  this.space_around_combinator = this._get_boolean('space_around_combinator') || space_around_selector_separator;

}
Options.prototype = new BaseOptions();



module.exports.Options = Options;

},{"../core/options":29}],40:[function(require,module,exports){
/*jshint node:true */
/*

  The MIT License (MIT)

  Copyright (c) 2007-2018 Einar Lielmanis, Liam Newman, and contributors.

  Permission is hereby granted, free of charge, to any person
  obtaining a copy of this software and associated documentation files
  (the "Software"), to deal in the Software without restriction,
  including without limitation the rights to use, copy, modify, merge,
  publish, distribute, sublicense, and/or sell copies of the Software,
  and to permit persons to whom the Software is furnished to do so,
  subject to the following conditions:

  The above copyright notice and this permission notice shall be
  included in all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
  NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS
  BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN
  ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
  CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
  SOFTWARE.
*/

'use strict';

var Options = require('../html/options').Options;
var Output = require('../core/output').Output;
var Tokenizer = require('../html/tokenizer').Tokenizer;
var TOKEN = require('../html/tokenizer').TOKEN;

var lineBreak = /\r\n|[\r\n]/;
var allLineBreaks = /\r\n|[\r\n]/g;

var Printer = function(options, base_indent_string) { //handles input/output and some other printing functions

  this.indent_level = 0;
  this.alignment_size = 0;
  this.max_preserve_newlines = options.max_preserve_newlines;
  this.preserve_newlines = options.preserve_newlines;

  this._output = new Output(options, base_indent_string);

};

Printer.prototype.current_line_has_match = function(pattern) {
  return this._output.current_line.has_match(pattern);
};

Printer.prototype.set_space_before_token = function(value, non_breaking) {
  this._output.space_before_token = value;
  this._output.non_breaking_space = non_breaking;
};

Printer.prototype.set_wrap_point = function() {
  this._output.set_indent(this.indent_level, this.alignment_size);
  this._output.set_wrap_point();
};


Printer.prototype.add_raw_token = function(token) {
  this._output.add_raw_token(token);
};

Printer.prototype.print_preserved_newlines = function(raw_token) {
  var newlines = 0;
  if (raw_token.type !== TOKEN.TEXT && raw_token.previous.type !== TOKEN.TEXT) {
    newlines = raw_token.newlines ? 1 : 0;
  }

  if (this.preserve_newlines) {
    newlines = raw_token.newlines < this.max_preserve_newlines + 1 ? raw_token.newlines : this.max_preserve_newlines + 1;
  }
  for (var n = 0; n < newlines; n++) {
    this.print_newline(n > 0);
  }

  return newlines !== 0;
};

Printer.prototype.traverse_whitespace = function(raw_token) {
  if (raw_token.whitespace_before || raw_token.newlines) {
    if (!this.print_preserved_newlines(raw_token)) {
      this._output.space_before_token = true;
    }
    return true;
  }
  return false;
};

Printer.prototype.previous_token_wrapped = function() {
  return this._output.previous_token_wrapped;
};

Printer.prototype.print_newline = function(force) {
  this._output.add_new_line(force);
};

Printer.prototype.print_token = function(token) {
  if (token.text) {
    this._output.set_indent(this.indent_level, this.alignment_size);
    this._output.add_token(token.text);
  }
};

Printer.prototype.indent = function() {
  this.indent_level++;
};

Printer.prototype.get_full_indent = function(level) {
  level = this.indent_level + (level || 0);
  if (level < 1) {
    return '';
  }

  return this._output.get_indent_string(level);
};

var get_type_attribute = function(start_token) {
  var result = null;
  var raw_token = start_token.next;

  // Search attributes for a type attribute
  while (raw_token.type !== TOKEN.EOF && start_token.closed !== raw_token) {
    if (raw_token.type === TOKEN.ATTRIBUTE && raw_token.text === 'type') {
      if (raw_token.next && raw_token.next.type === TOKEN.EQUALS &&
        raw_token.next.next && raw_token.next.next.type === TOKEN.VALUE) {
        result = raw_token.next.next.text;
      }
      break;
    }
    raw_token = raw_token.next;
  }

  return result;
};

var get_custom_beautifier_name = function(tag_check, raw_token) {
  var typeAttribute = null;
  var result = null;

  if (!raw_token.closed) {
    return null;
  }

  if (tag_check === 'script') {
    typeAttribute = 'text/javascript';
  } else if (tag_check === 'style') {
    typeAttribute = 'text/css';
  }

  typeAttribute = get_type_attribute(raw_token) || typeAttribute;

  // For script and style tags that have a type attribute, only enable custom beautifiers for matching values
  // For those without a type attribute use default;
  if (typeAttribute.search('text/css') > -1) {
    result = 'css';
  } else if (typeAttribute.search(/(text|application|dojo)\/(x-)?(javascript|ecmascript|jscript|livescript|(ld\+)?json|method|aspect)/) > -1) {
    result = 'javascript';
  } else if (typeAttribute.search(/(text|application|dojo)\/(x-)?(html)/) > -1) {
    result = 'html';
  } else if (typeAttribute.search(/test\/null/) > -1) {
    // Test only mime-type for testing the beautifier when null is passed as beautifing function
    result = 'null';
  }

  return result;
};

function in_array(what, arr) {
  return arr.indexOf(what) !== -1;
}

function TagFrame(parent, parser_token, indent_level) {
  this.parent = parent || null;
  this.tag = parser_token ? parser_token.tag_name : '';
  this.indent_level = indent_level || 0;
  this.parser_token = parser_token || null;
}

function TagStack(printer) {
  this._printer = printer;
  this._current_frame = null;
}

TagStack.prototype.get_parser_token = function() {
  return this._current_frame ? this._current_frame.parser_token : null;
};

TagStack.prototype.record_tag = function(parser_token) { //function to record a tag and its parent in this.tags Object
  var new_frame = new TagFrame(this._current_frame, parser_token, this._printer.indent_level);
  this._current_frame = new_frame;
};

TagStack.prototype._try_pop_frame = function(frame) { //function to retrieve the opening tag to the corresponding closer
  var parser_token = null;

  if (frame) {
    parser_token = frame.parser_token;
    this._printer.indent_level = frame.indent_level;
    this._current_frame = frame.parent;
  }

  return parser_token;
};

TagStack.prototype._get_frame = function(tag_list, stop_list) { //function to retrieve the opening tag to the corresponding closer
  var frame = this._current_frame;

  while (frame) { //till we reach '' (the initial value);
    if (tag_list.indexOf(frame.tag) !== -1) { //if this is it use it
      break;
    } else if (stop_list && stop_list.indexOf(frame.tag) !== -1) {
      frame = null;
      break;
    }
    frame = frame.parent;
  }

  return frame;
};

TagStack.prototype.try_pop = function(tag, stop_list) { //function to retrieve the opening tag to the corresponding closer
  var frame = this._get_frame([tag], stop_list);
  return this._try_pop_frame(frame);
};

TagStack.prototype.indent_to_tag = function(tag_list) {
  var frame = this._get_frame(tag_list);
  if (frame) {
    this._printer.indent_level = frame.indent_level;
  }
};

function Beautifier(source_text, options, js_beautify, css_beautify) {
  //Wrapper function to invoke all the necessary constructors and deal with the output.
  this._source_text = source_text || '';
  options = options || {};
  this._js_beautify = js_beautify;
  this._css_beautify = css_beautify;
  this._tag_stack = null;

  // Allow the setting of language/file-type specific options
  // with inheritance of overall settings
  var optionHtml = new Options(options, 'html');

  this._options = optionHtml;

  this._is_wrap_attributes_force = this._options.wrap_attributes.substr(0, 'force'.length) === 'force';
  this._is_wrap_attributes_force_expand_multiline = (this._options.wrap_attributes === 'force-expand-multiline');
  this._is_wrap_attributes_force_aligned = (this._options.wrap_attributes === 'force-aligned');
  this._is_wrap_attributes_aligned_multiple = (this._options.wrap_attributes === 'aligned-multiple');
  this._is_wrap_attributes_preserve = this._options.wrap_attributes.substr(0, 'preserve'.length) === 'preserve';
  this._is_wrap_attributes_preserve_aligned = (this._options.wrap_attributes === 'preserve-aligned');
}

Beautifier.prototype.beautify = function() {

  // if disabled, return the input unchanged.
  if (this._options.disabled) {
    return this._source_text;
  }

  var source_text = this._source_text;
  var eol = this._options.eol;
  if (this._options.eol === 'auto') {
    eol = '\n';
    if (source_text && lineBreak.test(source_text)) {
      eol = source_text.match(lineBreak)[0];
    }
  }

  // HACK: newline parsing inconsistent. This brute force normalizes the input.
  source_text = source_text.replace(allLineBreaks, '\n');

  var baseIndentString = source_text.match(/^[\t ]*/)[0];

  var last_token = {
    text: '',
    type: ''
  };

  var last_tag_token = new TagOpenParserToken();

  var printer = new Printer(this._options, baseIndentString);
  var tokens = new Tokenizer(source_text, this._options).tokenize();

  this._tag_stack = new TagStack(printer);

  var parser_token = null;
  var raw_token = tokens.next();
  while (raw_token.type !== TOKEN.EOF) {

    if (raw_token.type === TOKEN.TAG_OPEN || raw_token.type === TOKEN.COMMENT) {
      parser_token = this._handle_tag_open(printer, raw_token, last_tag_token, last_token);
      last_tag_token = parser_token;
    } else if ((raw_token.type === TOKEN.ATTRIBUTE || raw_token.type === TOKEN.EQUALS || raw_token.type === TOKEN.VALUE) ||
      (raw_token.type === TOKEN.TEXT && !last_tag_token.tag_complete)) {
      parser_token = this._handle_inside_tag(printer, raw_token, last_tag_token, tokens);
    } else if (raw_token.type === TOKEN.TAG_CLOSE) {
      parser_token = this._handle_tag_close(printer, raw_token, last_tag_token);
    } else if (raw_token.type === TOKEN.TEXT) {
      parser_token = this._handle_text(printer, raw_token, last_tag_token);
    } else {
      // This should never happen, but if it does. Print the raw token
      printer.add_raw_token(raw_token);
    }

    last_token = parser_token;

    raw_token = tokens.next();
  }
  var sweet_code = printer._output.get_code(eol);

  return sweet_code;
};

Beautifier.prototype._handle_tag_close = function(printer, raw_token, last_tag_token) {
  var parser_token = {
    text: raw_token.text,
    type: raw_token.type
  };
  printer.alignment_size = 0;
  last_tag_token.tag_complete = true;

  printer.set_space_before_token(raw_token.newlines || raw_token.whitespace_before !== '', true);
  if (last_tag_token.is_unformatted) {
    printer.add_raw_token(raw_token);
  } else {
    if (last_tag_token.tag_start_char === '<') {
      printer.set_space_before_token(raw_token.text[0] === '/', true); // space before />, no space before >
      if (this._is_wrap_attributes_force_expand_multiline && last_tag_token.has_wrapped_attrs) {
        printer.print_newline(false);
      }
    }
    printer.print_token(raw_token);

  }

  if (last_tag_token.indent_content &&
    !(last_tag_token.is_unformatted || last_tag_token.is_content_unformatted)) {
    printer.indent();

    // only indent once per opened tag
    last_tag_token.indent_content = false;
  }

  if (!last_tag_token.is_inline_element &&
    !(last_tag_token.is_unformatted || last_tag_token.is_content_unformatted)) {
    printer.set_wrap_point();
  }

  return parser_token;
};

Beautifier.prototype._handle_inside_tag = function(printer, raw_token, last_tag_token, tokens) {
  var wrapped = last_tag_token.has_wrapped_attrs;
  var parser_token = {
    text: raw_token.text,
    type: raw_token.type
  };

  printer.set_space_before_token(raw_token.newlines || raw_token.whitespace_before !== '', true);
  if (last_tag_token.is_unformatted) {
    printer.add_raw_token(raw_token);
  } else if (last_tag_token.tag_start_char === '{' && raw_token.type === TOKEN.TEXT) {
    // For the insides of handlebars allow newlines or a single space between open and contents
    if (printer.print_preserved_newlines(raw_token)) {
      raw_token.newlines = 0;
      printer.add_raw_token(raw_token);
    } else {
      printer.print_token(raw_token);
    }
  } else {
    if (raw_token.type === TOKEN.ATTRIBUTE) {
      printer.set_space_before_token(true);
      last_tag_token.attr_count += 1;
    } else if (raw_token.type === TOKEN.EQUALS) { //no space before =
      printer.set_space_before_token(false);
    } else if (raw_token.type === TOKEN.VALUE && raw_token.previous.type === TOKEN.EQUALS) { //no space before value
      printer.set_space_before_token(false);
    }

    if (raw_token.type === TOKEN.ATTRIBUTE && last_tag_token.tag_start_char === '<') {
      if (this._is_wrap_attributes_preserve || this._is_wrap_attributes_preserve_aligned) {
        printer.traverse_whitespace(raw_token);
        wrapped = wrapped || raw_token.newlines !== 0;
      }


      if (this._is_wrap_attributes_force) {
        var force_attr_wrap = last_tag_token.attr_count > 1;
        if (this._is_wrap_attributes_force_expand_multiline && last_tag_token.attr_count === 1) {
          var is_only_attribute = true;
          var peek_index = 0;
          var peek_token;
          do {
            peek_token = tokens.peek(peek_index);
            if (peek_token.type === TOKEN.ATTRIBUTE) {
              is_only_attribute = false;
              break;
            }
            peek_index += 1;
          } while (peek_index < 4 && peek_token.type !== TOKEN.EOF && peek_token.type !== TOKEN.TAG_CLOSE);

          force_attr_wrap = !is_only_attribute;
        }

        if (force_attr_wrap) {
          printer.print_newline(false);
          wrapped = true;
        }
      }
    }
    printer.print_token(raw_token);
    wrapped = wrapped || printer.previous_token_wrapped();
    last_tag_token.has_wrapped_attrs = wrapped;
  }
  return parser_token;
};

Beautifier.prototype._handle_text = function(printer, raw_token, last_tag_token) {
  var parser_token = {
    text: raw_token.text,
    type: 'TK_CONTENT'
  };
  if (last_tag_token.custom_beautifier_name) { //check if we need to format javascript
    this._print_custom_beatifier_text(printer, raw_token, last_tag_token);
  } else if (last_tag_token.is_unformatted || last_tag_token.is_content_unformatted) {
    printer.add_raw_token(raw_token);
  } else {
    printer.traverse_whitespace(raw_token);
    printer.print_token(raw_token);
  }
  return parser_token;
};

Beautifier.prototype._print_custom_beatifier_text = function(printer, raw_token, last_tag_token) {
  var local = this;
  if (raw_token.text !== '') {

    var text = raw_token.text,
      _beautifier,
      script_indent_level = 1,
      pre = '',
      post = '';
    if (last_tag_token.custom_beautifier_name === 'javascript' && typeof this._js_beautify === 'function') {
      _beautifier = this._js_beautify;
    } else if (last_tag_token.custom_beautifier_name === 'css' && typeof this._css_beautify === 'function') {
      _beautifier = this._css_beautify;
    } else if (last_tag_token.custom_beautifier_name === 'html') {
      _beautifier = function(html_source, options) {
        var beautifier = new Beautifier(html_source, options, local._js_beautify, local._css_beautify);
        return beautifier.beautify();
      };
    }

    if (this._options.indent_scripts === "keep") {
      script_indent_level = 0;
    } else if (this._options.indent_scripts === "separate") {
      script_indent_level = -printer.indent_level;
    }

    var indentation = printer.get_full_indent(script_indent_level);

    // if there is at least one empty line at the end of this text, strip it
    // we'll be adding one back after the text but before the containing tag.
    text = text.replace(/\n[ \t]*$/, '');

    // Handle the case where content is wrapped in a comment or cdata.
    if (last_tag_token.custom_beautifier_name !== 'html' &&
      text[0] === '<' && text.match(/^(<!--|<!\[CDATA\[)/)) {
      var matched = /^(<!--[^\n]*|<!\[CDATA\[)(\n?)([ \t\n]*)([\s\S]*)(-->|]]>)$/.exec(text);

      // if we start to wrap but don't finish, print raw
      if (!matched) {
        printer.add_raw_token(raw_token);
        return;
      }

      pre = indentation + matched[1] + '\n';
      text = matched[4];
      if (matched[5]) {
        post = indentation + matched[5];
      }

      // if there is at least one empty line at the end of this text, strip it
      // we'll be adding one back after the text but before the containing tag.
      text = text.replace(/\n[ \t]*$/, '');

      if (matched[2] || matched[3].indexOf('\n') !== -1) {
        // if the first line of the non-comment text has spaces
        // use that as the basis for indenting in null case.
        matched = matched[3].match(/[ \t]+$/);
        if (matched) {
          raw_token.whitespace_before = matched[0];
        }
      }
    }

    if (text) {
      if (_beautifier) {

        // call the Beautifier if avaliable
        var Child_options = function() {
          this.eol = '\n';
        };
        Child_options.prototype = this._options.raw_options;
        var child_options = new Child_options();
        text = _beautifier(indentation + text, child_options);
      } else {
        // simply indent the string otherwise
        var white = raw_token.whitespace_before;
        if (white) {
          text = text.replace(new RegExp('\n(' + white + ')?', 'g'), '\n');
        }

        text = indentation + text.replace(/\n/g, '\n' + indentation);
      }
    }

    if (pre) {
      if (!text) {
        text = pre + post;
      } else {
        text = pre + text + '\n' + post;
      }
    }

    printer.print_newline(false);
    if (text) {
      raw_token.text = text;
      raw_token.whitespace_before = '';
      raw_token.newlines = 0;
      printer.add_raw_token(raw_token);
      printer.print_newline(true);
    }
  }
};

Beautifier.prototype._handle_tag_open = function(printer, raw_token, last_tag_token, last_token) {
  var parser_token = this._get_tag_open_token(raw_token);

  if ((last_tag_token.is_unformatted || last_tag_token.is_content_unformatted) &&
    raw_token.type === TOKEN.TAG_OPEN && raw_token.text.indexOf('</') === 0) {
    // End element tags for unformatted or content_unformatted elements
    // are printed raw to keep any newlines inside them exactly the same.
    printer.add_raw_token(raw_token);
  } else {
    printer.traverse_whitespace(raw_token);
    this._set_tag_position(printer, raw_token, parser_token, last_tag_token, last_token);
    if (!parser_token.is_inline_element) {
      printer.set_wrap_point();
    }
    printer.print_token(raw_token);
  }

  //indent attributes an auto, forced, aligned or forced-align line-wrap
  if (this._is_wrap_attributes_force_aligned || this._is_wrap_attributes_aligned_multiple || this._is_wrap_attributes_preserve_aligned) {
    parser_token.alignment_size = raw_token.text.length + 1;
  }

  if (!parser_token.tag_complete && !parser_token.is_unformatted) {
    printer.alignment_size = parser_token.alignment_size;
  }

  return parser_token;
};

var TagOpenParserToken = function(parent, raw_token) {
  this.parent = parent || null;
  this.text = '';
  this.type = 'TK_TAG_OPEN';
  this.tag_name = '';
  this.is_inline_element = false;
  this.is_unformatted = false;
  this.is_content_unformatted = false;
  this.is_empty_element = false;
  this.is_start_tag = false;
  this.is_end_tag = false;
  this.indent_content = false;
  this.multiline_content = false;
  this.custom_beautifier_name = null;
  this.start_tag_token = null;
  this.attr_count = 0;
  this.has_wrapped_attrs = false;
  this.alignment_size = 0;
  this.tag_complete = false;
  this.tag_start_char = '';
  this.tag_check = '';

  if (!raw_token) {
    this.tag_complete = true;
  } else {
    var tag_check_match;

    this.tag_start_char = raw_token.text[0];
    this.text = raw_token.text;

    if (this.tag_start_char === '<') {
      tag_check_match = raw_token.text.match(/^<([^\s>]*)/);
      this.tag_check = tag_check_match ? tag_check_match[1] : '';
    } else {
      tag_check_match = raw_token.text.match(/^{{[#\^]?([^\s}]+)/);
      this.tag_check = tag_check_match ? tag_check_match[1] : '';
    }
    this.tag_check = this.tag_check.toLowerCase();

    if (raw_token.type === TOKEN.COMMENT) {
      this.tag_complete = true;
    }

    this.is_start_tag = this.tag_check.charAt(0) !== '/';
    this.tag_name = !this.is_start_tag ? this.tag_check.substr(1) : this.tag_check;
    this.is_end_tag = !this.is_start_tag ||
      (raw_token.closed && raw_token.closed.text === '/>');

    // handlebars tags that don't start with # or ^ are single_tags, and so also start and end.
    this.is_end_tag = this.is_end_tag ||
      (this.tag_start_char === '{' && (this.text.length < 3 || (/[^#\^]/.test(this.text.charAt(2)))));
  }
};

Beautifier.prototype._get_tag_open_token = function(raw_token) { //function to get a full tag and parse its type
  var parser_token = new TagOpenParserToken(this._tag_stack.get_parser_token(), raw_token);

  parser_token.alignment_size = this._options.wrap_attributes_indent_size;

  parser_token.is_end_tag = parser_token.is_end_tag ||
    in_array(parser_token.tag_check, this._options.void_elements);

  parser_token.is_empty_element = parser_token.tag_complete ||
    (parser_token.is_start_tag && parser_token.is_end_tag);

  parser_token.is_unformatted = !parser_token.tag_complete && in_array(parser_token.tag_check, this._options.unformatted);
  parser_token.is_content_unformatted = !parser_token.is_empty_element && in_array(parser_token.tag_check, this._options.content_unformatted);
  parser_token.is_inline_element = in_array(parser_token.tag_name, this._options.inline) || parser_token.tag_start_char === '{';

  return parser_token;
};

Beautifier.prototype._set_tag_position = function(printer, raw_token, parser_token, last_tag_token, last_token) {

  if (!parser_token.is_empty_element) {
    if (parser_token.is_end_tag) { //this tag is a double tag so check for tag-ending
      parser_token.start_tag_token = this._tag_stack.try_pop(parser_token.tag_name); //remove it and all ancestors
    } else { // it's a start-tag
      // check if this tag is starting an element that has optional end element
      // and do an ending needed
      if (this._do_optional_end_element(parser_token)) {
        if (!parser_token.is_inline_element) {
          if (parser_token.parent) {
            parser_token.parent.multiline_content = true;
          }
          printer.print_newline(false);
        }

      }

      this._tag_stack.record_tag(parser_token); //push it on the tag stack

      if ((parser_token.tag_name === 'script' || parser_token.tag_name === 'style') &&
        !(parser_token.is_unformatted || parser_token.is_content_unformatted)) {
        parser_token.custom_beautifier_name = get_custom_beautifier_name(parser_token.tag_check, raw_token);
      }
    }
  }

  if (in_array(parser_token.tag_check, this._options.extra_liners)) { //check if this double needs an extra line
    printer.print_newline(false);
    if (!printer._output.just_added_blankline()) {
      printer.print_newline(true);
    }
  }

  if (parser_token.is_empty_element) { //if this tag name is a single tag type (either in the list or has a closing /)

    // if you hit an else case, reset the indent level if you are inside an:
    // 'if', 'unless', or 'each' block.
    if (parser_token.tag_start_char === '{' && parser_token.tag_check === 'else') {
      this._tag_stack.indent_to_tag(['if', 'unless', 'each']);
      parser_token.indent_content = true;
      // Don't add a newline if opening {{#if}} tag is on the current line
      var foundIfOnCurrentLine = printer.current_line_has_match(/{{#if/);
      if (!foundIfOnCurrentLine) {
        printer.print_newline(false);
      }
    }

    // Don't add a newline before elements that should remain where they are.
    if (parser_token.tag_name === '!--' && last_token.type === TOKEN.TAG_CLOSE &&
      last_tag_token.is_end_tag && parser_token.text.indexOf('\n') === -1) {
      //Do nothing. Leave comments on same line.
    } else if (!parser_token.is_inline_element && !parser_token.is_unformatted) {
      printer.print_newline(false);
    }
  } else if (parser_token.is_unformatted || parser_token.is_content_unformatted) {
    if (!parser_token.is_inline_element && !parser_token.is_unformatted) {
      printer.print_newline(false);
    }
  } else if (parser_token.is_end_tag) { //this tag is a double tag so check for tag-ending
    if ((parser_token.start_tag_token && parser_token.start_tag_token.multiline_content) ||
      !(parser_token.is_inline_element ||
        (last_tag_token.is_inline_element) ||
        (last_token.type === TOKEN.TAG_CLOSE &&
          parser_token.start_tag_token === last_tag_token) ||
        (last_token.type === 'TK_CONTENT')
      )) {
      printer.print_newline(false);
    }
  } else { // it's a start-tag
    parser_token.indent_content = !parser_token.custom_beautifier_name;

    if (parser_token.tag_start_char === '<') {
      if (parser_token.tag_name === 'html') {
        parser_token.indent_content = this._options.indent_inner_html;
      } else if (parser_token.tag_name === 'head') {
        parser_token.indent_content = this._options.indent_head_inner_html;
      } else if (parser_token.tag_name === 'body') {
        parser_token.indent_content = this._options.indent_body_inner_html;
      }
    }

    if (!parser_token.is_inline_element && last_token.type !== 'TK_CONTENT') {
      if (parser_token.parent) {
        parser_token.parent.multiline_content = true;
      }
      printer.print_newline(false);
    }
  }
};

//To be used for <p> tag special case:
//var p_closers = ['address', 'article', 'aside', 'blockquote', 'details', 'div', 'dl', 'fieldset', 'figcaption', 'figure', 'footer', 'form', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'header', 'hr', 'main', 'nav', 'ol', 'p', 'pre', 'section', 'table', 'ul'];

Beautifier.prototype._do_optional_end_element = function(parser_token) {
  var result = null;
  // NOTE: cases of "if there is no more content in the parent element"
  // are handled automatically by the beautifier.
  // It assumes parent or ancestor close tag closes all children.
  // https://www.w3.org/TR/html5/syntax.html#optional-tags
  if (parser_token.is_empty_element || !parser_token.is_start_tag || !parser_token.parent) {
    return;

  } else if (parser_token.tag_name === 'body') {
    // A head element’s end tag may be omitted if the head element is not immediately followed by a space character or a comment.
    result = result || this._tag_stack.try_pop('head');

    //} else if (parser_token.tag_name === 'body') {
    // DONE: A body element’s end tag may be omitted if the body element is not immediately followed by a comment.

  } else if (parser_token.tag_name === 'li') {
    // An li element’s end tag may be omitted if the li element is immediately followed by another li element or if there is no more content in the parent element.
    result = result || this._tag_stack.try_pop('li', ['ol', 'ul']);

  } else if (parser_token.tag_name === 'dd' || parser_token.tag_name === 'dt') {
    // A dd element’s end tag may be omitted if the dd element is immediately followed by another dd element or a dt element, or if there is no more content in the parent element.
    // A dt element’s end tag may be omitted if the dt element is immediately followed by another dt element or a dd element.
    result = result || this._tag_stack.try_pop('dt', ['dl']);
    result = result || this._tag_stack.try_pop('dd', ['dl']);

    //} else if (p_closers.indexOf(parser_token.tag_name) !== -1) {
    //TODO: THIS IS A BUG FARM. We are not putting this into 1.8.0 as it is likely to blow up.
    //A p element’s end tag may be omitted if the p element is immediately followed by an address, article, aside, blockquote, details, div, dl, fieldset, figcaption, figure, footer, form, h1, h2, h3, h4, h5, h6, header, hr, main, nav, ol, p, pre, section, table, or ul element, or if there is no more content in the parent element and the parent element is an HTML element that is not an a, audio, del, ins, map, noscript, or video element, or an autonomous custom element.
    //result = result || this._tag_stack.try_pop('p', ['body']);

  } else if (parser_token.tag_name === 'rp' || parser_token.tag_name === 'rt') {
    // An rt element’s end tag may be omitted if the rt element is immediately followed by an rt or rp element, or if there is no more content in the parent element.
    // An rp element’s end tag may be omitted if the rp element is immediately followed by an rt or rp element, or if there is no more content in the parent element.
    result = result || this._tag_stack.try_pop('rt', ['ruby', 'rtc']);
    result = result || this._tag_stack.try_pop('rp', ['ruby', 'rtc']);

  } else if (parser_token.tag_name === 'optgroup') {
    // An optgroup element’s end tag may be omitted if the optgroup element is immediately followed by another optgroup element, or if there is no more content in the parent element.
    // An option element’s end tag may be omitted if the option element is immediately followed by another option element, or if it is immediately followed by an optgroup element, or if there is no more content in the parent element.
    result = result || this._tag_stack.try_pop('optgroup', ['select']);
    //result = result || this._tag_stack.try_pop('option', ['select']);

  } else if (parser_token.tag_name === 'option') {
    // An option element’s end tag may be omitted if the option element is immediately followed by another option element, or if it is immediately followed by an optgroup element, or if there is no more content in the parent element.
    result = result || this._tag_stack.try_pop('option', ['select', 'datalist', 'optgroup']);

  } else if (parser_token.tag_name === 'colgroup') {
    // DONE: A colgroup element’s end tag may be omitted if the colgroup element is not immediately followed by a space character or a comment.
    // A caption element's end tag may be ommitted if a colgroup, thead, tfoot, tbody, or tr element is started.
    result = result || this._tag_stack.try_pop('caption', ['table']);

  } else if (parser_token.tag_name === 'thead') {
    // A colgroup element's end tag may be ommitted if a thead, tfoot, tbody, or tr element is started.
    // A caption element's end tag may be ommitted if a colgroup, thead, tfoot, tbody, or tr element is started.
    result = result || this._tag_stack.try_pop('caption', ['table']);
    result = result || this._tag_stack.try_pop('colgroup', ['table']);

    //} else if (parser_token.tag_name === 'caption') {
    // DONE: A caption element’s end tag may be omitted if the caption element is not immediately followed by a space character or a comment.

  } else if (parser_token.tag_name === 'tbody' || parser_token.tag_name === 'tfoot') {
    // A thead element’s end tag may be omitted if the thead element is immediately followed by a tbody or tfoot element.
    // A tbody element’s end tag may be omitted if the tbody element is immediately followed by a tbody or tfoot element, or if there is no more content in the parent element.
    // A colgroup element's end tag may be ommitted if a thead, tfoot, tbody, or tr element is started.
    // A caption element's end tag may be ommitted if a colgroup, thead, tfoot, tbody, or tr element is started.
    result = result || this._tag_stack.try_pop('caption', ['table']);
    result = result || this._tag_stack.try_pop('colgroup', ['table']);
    result = result || this._tag_stack.try_pop('thead', ['table']);
    result = result || this._tag_stack.try_pop('tbody', ['table']);

    //} else if (parser_token.tag_name === 'tfoot') {
    // DONE: A tfoot element’s end tag may be omitted if there is no more content in the parent element.

  } else if (parser_token.tag_name === 'tr') {
    // A tr element’s end tag may be omitted if the tr element is immediately followed by another tr element, or if there is no more content in the parent element.
    // A colgroup element's end tag may be ommitted if a thead, tfoot, tbody, or tr element is started.
    // A caption element's end tag may be ommitted if a colgroup, thead, tfoot, tbody, or tr element is started.
    result = result || this._tag_stack.try_pop('caption', ['table']);
    result = result || this._tag_stack.try_pop('colgroup', ['table']);
    result = result || this._tag_stack.try_pop('tr', ['table', 'thead', 'tbody', 'tfoot']);

  } else if (parser_token.tag_name === 'th' || parser_token.tag_name === 'td') {
    // A td element’s end tag may be omitted if the td element is immediately followed by a td or th element, or if there is no more content in the parent element.
    // A th element’s end tag may be omitted if the th element is immediately followed by a td or th element, or if there is no more content in the parent element.
    result = result || this._tag_stack.try_pop('td', ['table', 'thead', 'tbody', 'tfoot', 'tr']);
    result = result || this._tag_stack.try_pop('th', ['table', 'thead', 'tbody', 'tfoot', 'tr']);
  }

  // Start element omission not handled currently
  // A head element’s start tag may be omitted if the element is empty, or if the first thing inside the head element is an element.
  // A tbody element’s start tag may be omitted if the first thing inside the tbody element is a tr element, and if the element is not immediately preceded by a tbody, thead, or tfoot element whose end tag has been omitted. (It can’t be omitted if the element is empty.)
  // A colgroup element’s start tag may be omitted if the first thing inside the colgroup element is a col element, and if the element is not immediately preceded by another colgroup element whose end tag has been omitted. (It can’t be omitted if the element is empty.)

  // Fix up the parent of the parser token
  parser_token.parent = this._tag_stack.get_parser_token();

  return result;
};

module.exports.Beautifier = Beautifier;

},{"../core/output":30,"../html/options":42,"../html/tokenizer":43}],41:[function(require,module,exports){
/*jshint node:true */
/*

  The MIT License (MIT)

  Copyright (c) 2007-2018 Einar Lielmanis, Liam Newman, and contributors.

  Permission is hereby granted, free of charge, to any person
  obtaining a copy of this software and associated documentation files
  (the "Software"), to deal in the Software without restriction,
  including without limitation the rights to use, copy, modify, merge,
  publish, distribute, sublicense, and/or sell copies of the Software,
  and to permit persons to whom the Software is furnished to do so,
  subject to the following conditions:

  The above copyright notice and this permission notice shall be
  included in all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
  NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS
  BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN
  ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
  CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
  SOFTWARE.
*/

'use strict';

var Beautifier = require('./beautifier').Beautifier,
  Options = require('./options').Options;

function style_html(html_source, options, js_beautify, css_beautify) {
  var beautifier = new Beautifier(html_source, options, js_beautify, css_beautify);
  return beautifier.beautify();
}

module.exports = style_html;
module.exports.defaultOptions = function() {
  return new Options();
};

},{"./beautifier":40,"./options":42}],42:[function(require,module,exports){
/*jshint node:true */
/*

  The MIT License (MIT)

  Copyright (c) 2007-2018 Einar Lielmanis, Liam Newman, and contributors.

  Permission is hereby granted, free of charge, to any person
  obtaining a copy of this software and associated documentation files
  (the "Software"), to deal in the Software without restriction,
  including without limitation the rights to use, copy, modify, merge,
  publish, distribute, sublicense, and/or sell copies of the Software,
  and to permit persons to whom the Software is furnished to do so,
  subject to the following conditions:

  The above copyright notice and this permission notice shall be
  included in all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
  NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS
  BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN
  ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
  CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
  SOFTWARE.
*/

'use strict';

var BaseOptions = require('../core/options').Options;

function Options(options) {
  BaseOptions.call(this, options, 'html');
  if (this.templating.length === 1 && this.templating[0] === 'auto') {
    this.templating = ['django', 'erb', 'handlebars', 'php'];
  }

  this.indent_inner_html = this._get_boolean('indent_inner_html');
  this.indent_body_inner_html = this._get_boolean('indent_body_inner_html', true);
  this.indent_head_inner_html = this._get_boolean('indent_head_inner_html', true);

  this.indent_handlebars = this._get_boolean('indent_handlebars', true);
  this.wrap_attributes = this._get_selection('wrap_attributes',
    ['auto', 'force', 'force-aligned', 'force-expand-multiline', 'aligned-multiple', 'preserve', 'preserve-aligned']);
  this.wrap_attributes_indent_size = this._get_number('wrap_attributes_indent_size', this.indent_size);
  this.extra_liners = this._get_array('extra_liners', ['head', 'body', '/html']);

  // Block vs inline elements
  // https://developer.mozilla.org/en-US/docs/Web/HTML/Block-level_elements
  // https://developer.mozilla.org/en-US/docs/Web/HTML/Inline_elements
  // https://www.w3.org/TR/html5/dom.html#phrasing-content
  this.inline = this._get_array('inline', [
    'a', 'abbr', 'area', 'audio', 'b', 'bdi', 'bdo', 'br', 'button', 'canvas', 'cite',
    'code', 'data', 'datalist', 'del', 'dfn', 'em', 'embed', 'i', 'iframe', 'img',
    'input', 'ins', 'kbd', 'keygen', 'label', 'map', 'mark', 'math', 'meter', 'noscript',
    'object', 'output', 'progress', 'q', 'ruby', 's', 'samp', /* 'script', */ 'select', 'small',
    'span', 'strong', 'sub', 'sup', 'svg', 'template', 'textarea', 'time', 'u', 'var',
    'video', 'wbr', 'text',
    // obsolete inline tags
    'acronym', 'big', 'strike', 'tt'
  ]);
  this.void_elements = this._get_array('void_elements', [
    // HTLM void elements - aka self-closing tags - aka singletons
    // https://www.w3.org/html/wg/drafts/html/master/syntax.html#void-elements
    'area', 'base', 'br', 'col', 'embed', 'hr', 'img', 'input', 'keygen',
    'link', 'menuitem', 'meta', 'param', 'source', 'track', 'wbr',
    // NOTE: Optional tags are too complex for a simple list
    // they are hard coded in _do_optional_end_element

    // Doctype and xml elements
    '!doctype', '?xml',

    // obsolete tags
    // basefont: https://www.computerhope.com/jargon/h/html-basefont-tag.htm
    // isndex: https://developer.mozilla.org/en-US/docs/Web/HTML/Element/isindex
    'basefont', 'isindex'
  ]);
  this.unformatted = this._get_array('unformatted', []);
  this.content_unformatted = this._get_array('content_unformatted', [
    'pre', 'textarea'
  ]);
  this.unformatted_content_delimiter = this._get_characters('unformatted_content_delimiter');
  this.indent_scripts = this._get_selection('indent_scripts', ['normal', 'keep', 'separate']);

}
Options.prototype = new BaseOptions();



module.exports.Options = Options;

},{"../core/options":29}],43:[function(require,module,exports){
/*jshint node:true */
/*

  The MIT License (MIT)

  Copyright (c) 2007-2018 Einar Lielmanis, Liam Newman, and contributors.

  Permission is hereby granted, free of charge, to any person
  obtaining a copy of this software and associated documentation files
  (the "Software"), to deal in the Software without restriction,
  including without limitation the rights to use, copy, modify, merge,
  publish, distribute, sublicense, and/or sell copies of the Software,
  and to permit persons to whom the Software is furnished to do so,
  subject to the following conditions:

  The above copyright notice and this permission notice shall be
  included in all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
  NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS
  BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN
  ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
  CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
  SOFTWARE.
*/

'use strict';

var BaseTokenizer = require('../core/tokenizer').Tokenizer;
var BASETOKEN = require('../core/tokenizer').TOKEN;
var Directives = require('../core/directives').Directives;
var TemplatablePattern = require('../core/templatablepattern').TemplatablePattern;
var Pattern = require('../core/pattern').Pattern;

var TOKEN = {
  TAG_OPEN: 'TK_TAG_OPEN',
  TAG_CLOSE: 'TK_TAG_CLOSE',
  ATTRIBUTE: 'TK_ATTRIBUTE',
  EQUALS: 'TK_EQUALS',
  VALUE: 'TK_VALUE',
  COMMENT: 'TK_COMMENT',
  TEXT: 'TK_TEXT',
  UNKNOWN: 'TK_UNKNOWN',
  START: BASETOKEN.START,
  RAW: BASETOKEN.RAW,
  EOF: BASETOKEN.EOF
};

var directives_core = new Directives(/<\!--/, /-->/);

var Tokenizer = function(input_string, options) {
  BaseTokenizer.call(this, input_string, options);
  this._current_tag_name = '';

  // Words end at whitespace or when a tag starts
  // if we are indenting handlebars, they are considered tags
  var templatable_reader = new TemplatablePattern(this._input).read_options(this._options);
  var pattern_reader = new Pattern(this._input);

  this.__patterns = {
    word: templatable_reader.until(/[\n\r\t <]/),
    single_quote: templatable_reader.until_after(/'/),
    double_quote: templatable_reader.until_after(/"/),
    attribute: templatable_reader.until(/[\n\r\t =>]|\/>/),
    element_name: templatable_reader.until(/[\n\r\t >\/]/),

    handlebars_comment: pattern_reader.starting_with(/{{!--/).until_after(/--}}/),
    handlebars: pattern_reader.starting_with(/{{/).until_after(/}}/),
    handlebars_open: pattern_reader.until(/[\n\r\t }]/),
    handlebars_raw_close: pattern_reader.until(/}}/),
    comment: pattern_reader.starting_with(/<!--/).until_after(/-->/),
    cdata: pattern_reader.starting_with(/<!\[CDATA\[/).until_after(/]]>/),
    // https://en.wikipedia.org/wiki/Conditional_comment
    conditional_comment: pattern_reader.starting_with(/<!\[/).until_after(/]>/),
    processing: pattern_reader.starting_with(/<\?/).until_after(/\?>/)
  };

  if (this._options.indent_handlebars) {
    this.__patterns.word = this.__patterns.word.exclude('handlebars');
  }

  this._unformatted_content_delimiter = null;

  if (this._options.unformatted_content_delimiter) {
    var literal_regexp = this._input.get_literal_regexp(this._options.unformatted_content_delimiter);
    this.__patterns.unformatted_content_delimiter =
      pattern_reader.matching(literal_regexp)
      .until_after(literal_regexp);
  }
};
Tokenizer.prototype = new BaseTokenizer();

Tokenizer.prototype._is_comment = function(current_token) { // jshint unused:false
  return false; //current_token.type === TOKEN.COMMENT || current_token.type === TOKEN.UNKNOWN;
};

Tokenizer.prototype._is_opening = function(current_token) {
  return current_token.type === TOKEN.TAG_OPEN;
};

Tokenizer.prototype._is_closing = function(current_token, open_token) {
  return current_token.type === TOKEN.TAG_CLOSE &&
    (open_token && (
      ((current_token.text === '>' || current_token.text === '/>') && open_token.text[0] === '<') ||
      (current_token.text === '}}' && open_token.text[0] === '{' && open_token.text[1] === '{')));
};

Tokenizer.prototype._reset = function() {
  this._current_tag_name = '';
};

Tokenizer.prototype._get_next_token = function(previous_token, open_token) { // jshint unused:false
  var token = null;
  this._readWhitespace();
  var c = this._input.peek();

  if (c === null) {
    return this._create_token(TOKEN.EOF, '');
  }

  token = token || this._read_open_handlebars(c, open_token);
  token = token || this._read_attribute(c, previous_token, open_token);
  token = token || this._read_raw_content(c, previous_token, open_token);
  token = token || this._read_close(c, open_token);
  token = token || this._read_content_word(c);
  token = token || this._read_comment_or_cdata(c);
  token = token || this._read_processing(c);
  token = token || this._read_open(c, open_token);
  token = token || this._create_token(TOKEN.UNKNOWN, this._input.next());

  return token;
};

Tokenizer.prototype._read_comment_or_cdata = function(c) { // jshint unused:false
  var token = null;
  var resulting_string = null;
  var directives = null;

  if (c === '<') {
    var peek1 = this._input.peek(1);
    // We treat all comments as literals, even more than preformatted tags
    // we only look for the appropriate closing marker
    if (peek1 === '!') {
      resulting_string = this.__patterns.comment.read();

      // only process directive on html comments
      if (resulting_string) {
        directives = directives_core.get_directives(resulting_string);
        if (directives && directives.ignore === 'start') {
          resulting_string += directives_core.readIgnored(this._input);
        }
      } else {
        resulting_string = this.__patterns.cdata.read();
      }
    }

    if (resulting_string) {
      token = this._create_token(TOKEN.COMMENT, resulting_string);
      token.directives = directives;
    }
  }

  return token;
};

Tokenizer.prototype._read_processing = function(c) { // jshint unused:false
  var token = null;
  var resulting_string = null;
  var directives = null;

  if (c === '<') {
    var peek1 = this._input.peek(1);
    if (peek1 === '!' || peek1 === '?') {
      resulting_string = this.__patterns.conditional_comment.read();
      resulting_string = resulting_string || this.__patterns.processing.read();
    }

    if (resulting_string) {
      token = this._create_token(TOKEN.COMMENT, resulting_string);
      token.directives = directives;
    }
  }

  return token;
};

Tokenizer.prototype._read_open = function(c, open_token) {
  var resulting_string = null;
  var token = null;
  if (!open_token) {
    if (c === '<') {

      resulting_string = this._input.next();
      if (this._input.peek() === '/') {
        resulting_string += this._input.next();
      }
      resulting_string += this.__patterns.element_name.read();
      token = this._create_token(TOKEN.TAG_OPEN, resulting_string);
    }
  }
  return token;
};

Tokenizer.prototype._read_open_handlebars = function(c, open_token) {
  var resulting_string = null;
  var token = null;
  if (!open_token) {
    if (this._options.indent_handlebars && c === '{' && this._input.peek(1) === '{') {
      if (this._input.peek(2) === '!') {
        resulting_string = this.__patterns.handlebars_comment.read();
        resulting_string = resulting_string || this.__patterns.handlebars.read();
        token = this._create_token(TOKEN.COMMENT, resulting_string);
      } else {
        resulting_string = this.__patterns.handlebars_open.read();
        token = this._create_token(TOKEN.TAG_OPEN, resulting_string);
      }
    }
  }
  return token;
};


Tokenizer.prototype._read_close = function(c, open_token) {
  var resulting_string = null;
  var token = null;
  if (open_token) {
    if (open_token.text[0] === '<' && (c === '>' || (c === '/' && this._input.peek(1) === '>'))) {
      resulting_string = this._input.next();
      if (c === '/') { //  for close tag "/>"
        resulting_string += this._input.next();
      }
      token = this._create_token(TOKEN.TAG_CLOSE, resulting_string);
    } else if (open_token.text[0] === '{' && c === '}' && this._input.peek(1) === '}') {
      this._input.next();
      this._input.next();
      token = this._create_token(TOKEN.TAG_CLOSE, '}}');
    }
  }

  return token;
};

Tokenizer.prototype._read_attribute = function(c, previous_token, open_token) {
  var token = null;
  var resulting_string = '';
  if (open_token && open_token.text[0] === '<') {

    if (c === '=') {
      token = this._create_token(TOKEN.EQUALS, this._input.next());
    } else if (c === '"' || c === "'") {
      var content = this._input.next();
      if (c === '"') {
        content += this.__patterns.double_quote.read();
      } else {
        content += this.__patterns.single_quote.read();
      }
      token = this._create_token(TOKEN.VALUE, content);
    } else {
      resulting_string = this.__patterns.attribute.read();

      if (resulting_string) {
        if (previous_token.type === TOKEN.EQUALS) {
          token = this._create_token(TOKEN.VALUE, resulting_string);
        } else {
          token = this._create_token(TOKEN.ATTRIBUTE, resulting_string);
        }
      }
    }
  }
  return token;
};

Tokenizer.prototype._is_content_unformatted = function(tag_name) {
  // void_elements have no content and so cannot have unformatted content
  // script and style tags should always be read as unformatted content
  // finally content_unformatted and unformatted element contents are unformatted
  return this._options.void_elements.indexOf(tag_name) === -1 &&
    (this._options.content_unformatted.indexOf(tag_name) !== -1 ||
      this._options.unformatted.indexOf(tag_name) !== -1);
};


Tokenizer.prototype._read_raw_content = function(c, previous_token, open_token) { // jshint unused:false
  var resulting_string = '';
  if (open_token && open_token.text[0] === '{') {
    resulting_string = this.__patterns.handlebars_raw_close.read();
  } else if (previous_token.type === TOKEN.TAG_CLOSE && (previous_token.opened.text[0] === '<')) {
    var tag_name = previous_token.opened.text.substr(1).toLowerCase();
    if (tag_name === 'script' || tag_name === 'style') {
      // Script and style tags are allowed to have comments wrapping their content
      // or just have regular content.
      var token = this._read_comment_or_cdata(c);
      if (token) {
        token.type = TOKEN.TEXT;
        return token;
      }
      resulting_string = this._input.readUntil(new RegExp('</' + tag_name + '[\\n\\r\\t ]*?>', 'ig'));
    } else if (this._is_content_unformatted(tag_name)) {
      resulting_string = this._input.readUntil(new RegExp('</' + tag_name + '[\\n\\r\\t ]*?>', 'ig'));
    }
  }

  if (resulting_string) {
    return this._create_token(TOKEN.TEXT, resulting_string);
  }

  return null;
};

Tokenizer.prototype._read_content_word = function(c) {
  var resulting_string = '';
  if (this._options.unformatted_content_delimiter) {
    if (c === this._options.unformatted_content_delimiter[0]) {
      resulting_string = this.__patterns.unformatted_content_delimiter.read();
    }
  }

  if (!resulting_string) {
    resulting_string = this.__patterns.word.read();
  }
  if (resulting_string) {
    return this._create_token(TOKEN.TEXT, resulting_string);
  }
};

module.exports.Tokenizer = Tokenizer;
module.exports.TOKEN = TOKEN;

},{"../core/directives":27,"../core/pattern":31,"../core/templatablepattern":32,"../core/tokenizer":34}],44:[function(require,module,exports){
/*jshint node:true */
/*

  The MIT License (MIT)

  Copyright (c) 2007-2018 Einar Lielmanis, Liam Newman, and contributors.

  Permission is hereby granted, free of charge, to any person
  obtaining a copy of this software and associated documentation files
  (the "Software"), to deal in the Software without restriction,
  including without limitation the rights to use, copy, modify, merge,
  publish, distribute, sublicense, and/or sell copies of the Software,
  and to permit persons to whom the Software is furnished to do so,
  subject to the following conditions:

  The above copyright notice and this permission notice shall be
  included in all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
  NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS
  BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN
  ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
  CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
  SOFTWARE.
*/

'use strict';

var js_beautify = require('./javascript/index');
var css_beautify = require('./css/index');
var html_beautify = require('./html/index');

function style_html(html_source, options, js, css) {
  js = js || js_beautify;
  css = css || css_beautify;
  return html_beautify(html_source, options, js, css);
}
style_html.defaultOptions = html_beautify.defaultOptions;

module.exports.js = js_beautify;
module.exports.css = css_beautify;
module.exports.html = style_html;

},{"./css/index":38,"./html/index":41,"./javascript/index":47}],45:[function(require,module,exports){
/* jshint node: true, curly: false */
// Parts of this section of code is taken from acorn.
//
// Acorn was written by Marijn Haverbeke and released under an MIT
// license. The Unicode regexps (for identifiers and whitespace) were
// taken from [Esprima](http://esprima.org) by Ariya Hidayat.
//
// Git repositories for Acorn are available at
//
//     http://marijnhaverbeke.nl/git/acorn
//     https://github.com/marijnh/acorn.git

// ## Character categories


'use strict';

// acorn used char codes to squeeze the last bit of performance out
// Beautifier is okay without that, so we're using regex
// permit # (23), $ (36), and @ (64). @ is used in ES7 decorators.
// 65 through 91 are uppercase letters.
// permit _ (95).
// 97 through 123 are lowercase letters.
var baseASCIIidentifierStartChars = "\\x23\\x24\\x40\\x41-\\x5a\\x5f\\x61-\\x7a";

// inside an identifier @ is not allowed but 0-9 are.
var baseASCIIidentifierChars = "\\x24\\x30-\\x39\\x41-\\x5a\\x5f\\x61-\\x7a";

// Big ugly regular expressions that match characters in the
// whitespace, identifier, and identifier-start categories. These
// are only applied when a character is found to actually have a
// code point above 128.
var nonASCIIidentifierStartChars = "\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05d0-\\u05ea\\u05f0-\\u05f2\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u08a0\\u08a2-\\u08ac\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097f\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c33\\u0c35-\\u0c39\\u0c3d\\u0c58\\u0c59\\u0c60\\u0c61\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d60\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32\\u0e33\\u0e40-\\u0e46\\u0e81\\u0e82\\u0e84\\u0e87\\u0e88\\u0e8a\\u0e8d\\u0e94-\\u0e97\\u0e99-\\u0e9f\\u0ea1-\\u0ea3\\u0ea5\\u0ea7\\u0eaa\\u0eab\\u0ead-\\u0eb0\\u0eb2\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0edc-\\u0edf\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u1000-\\u102a\\u103f\\u1050-\\u1055\\u105a-\\u105d\\u1061\\u1065\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f4\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f0\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u1820-\\u1877\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191c\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19c1-\\u19c7\\u1a00-\\u1a16\\u1a20-\\u1a54\\u1aa7\\u1b05-\\u1b33\\u1b45-\\u1b4b\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bba-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1ce9-\\u1cec\\u1cee-\\u1cf1\\u1cf5\\u1cf6\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2119-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u212d\\u212f-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2ce4\\u2ceb-\\u2cee\\u2cf2\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u2e2f\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303c\\u3041-\\u3096\\u309d-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312d\\u3131-\\u318e\\u31a0-\\u31ba\\u31f0-\\u31ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\ua000-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua697\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua78e\\ua790-\\ua793\\ua7a0-\\ua7aa\\ua7f8-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa60-\\uaa76\\uaa7a\\uaa80-\\uaaaf\\uaab1\\uaab5\\uaab6\\uaab9-\\uaabd\\uaac0\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaea\\uaaf2-\\uaaf4\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uabc0-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc";
var nonASCIIidentifierChars = "\\u0300-\\u036f\\u0483-\\u0487\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u0620-\\u0649\\u0672-\\u06d3\\u06e7-\\u06e8\\u06fb-\\u06fc\\u0730-\\u074a\\u0800-\\u0814\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0840-\\u0857\\u08e4-\\u08fe\\u0900-\\u0903\\u093a-\\u093c\\u093e-\\u094f\\u0951-\\u0957\\u0962-\\u0963\\u0966-\\u096f\\u0981-\\u0983\\u09bc\\u09be-\\u09c4\\u09c7\\u09c8\\u09d7\\u09df-\\u09e0\\u0a01-\\u0a03\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a66-\\u0a71\\u0a75\\u0a81-\\u0a83\\u0abc\\u0abe-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ae2-\\u0ae3\\u0ae6-\\u0aef\\u0b01-\\u0b03\\u0b3c\\u0b3e-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b56\\u0b57\\u0b5f-\\u0b60\\u0b66-\\u0b6f\\u0b82\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd7\\u0be6-\\u0bef\\u0c01-\\u0c03\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62-\\u0c63\\u0c66-\\u0c6f\\u0c82\\u0c83\\u0cbc\\u0cbe-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0ce2-\\u0ce3\\u0ce6-\\u0cef\\u0d02\\u0d03\\u0d46-\\u0d48\\u0d57\\u0d62-\\u0d63\\u0d66-\\u0d6f\\u0d82\\u0d83\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0df2\\u0df3\\u0e34-\\u0e3a\\u0e40-\\u0e45\\u0e50-\\u0e59\\u0eb4-\\u0eb9\\u0ec8-\\u0ecd\\u0ed0-\\u0ed9\\u0f18\\u0f19\\u0f20-\\u0f29\\u0f35\\u0f37\\u0f39\\u0f41-\\u0f47\\u0f71-\\u0f84\\u0f86-\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u1000-\\u1029\\u1040-\\u1049\\u1067-\\u106d\\u1071-\\u1074\\u1082-\\u108d\\u108f-\\u109d\\u135d-\\u135f\\u170e-\\u1710\\u1720-\\u1730\\u1740-\\u1750\\u1772\\u1773\\u1780-\\u17b2\\u17dd\\u17e0-\\u17e9\\u180b-\\u180d\\u1810-\\u1819\\u1920-\\u192b\\u1930-\\u193b\\u1951-\\u196d\\u19b0-\\u19c0\\u19c8-\\u19c9\\u19d0-\\u19d9\\u1a00-\\u1a15\\u1a20-\\u1a53\\u1a60-\\u1a7c\\u1a7f-\\u1a89\\u1a90-\\u1a99\\u1b46-\\u1b4b\\u1b50-\\u1b59\\u1b6b-\\u1b73\\u1bb0-\\u1bb9\\u1be6-\\u1bf3\\u1c00-\\u1c22\\u1c40-\\u1c49\\u1c5b-\\u1c7d\\u1cd0-\\u1cd2\\u1d00-\\u1dbe\\u1e01-\\u1f15\\u200c\\u200d\\u203f\\u2040\\u2054\\u20d0-\\u20dc\\u20e1\\u20e5-\\u20f0\\u2d81-\\u2d96\\u2de0-\\u2dff\\u3021-\\u3028\\u3099\\u309a\\ua640-\\ua66d\\ua674-\\ua67d\\ua69f\\ua6f0-\\ua6f1\\ua7f8-\\ua800\\ua806\\ua80b\\ua823-\\ua827\\ua880-\\ua881\\ua8b4-\\ua8c4\\ua8d0-\\ua8d9\\ua8f3-\\ua8f7\\ua900-\\ua909\\ua926-\\ua92d\\ua930-\\ua945\\ua980-\\ua983\\ua9b3-\\ua9c0\\uaa00-\\uaa27\\uaa40-\\uaa41\\uaa4c-\\uaa4d\\uaa50-\\uaa59\\uaa7b\\uaae0-\\uaae9\\uaaf2-\\uaaf3\\uabc0-\\uabe1\\uabec\\uabed\\uabf0-\\uabf9\\ufb20-\\ufb28\\ufe00-\\ufe0f\\ufe20-\\ufe26\\ufe33\\ufe34\\ufe4d-\\ufe4f\\uff10-\\uff19\\uff3f";
//var nonASCIIidentifierStart = new RegExp("[" + nonASCIIidentifierStartChars + "]");
//var nonASCIIidentifier = new RegExp("[" + nonASCIIidentifierStartChars + nonASCIIidentifierChars + "]");

var identifierStart = "(?:\\\\u[0-9a-fA-F]{4}|[" + baseASCIIidentifierStartChars + nonASCIIidentifierStartChars + "])";
var identifierChars = "(?:\\\\u[0-9a-fA-F]{4}|[" + baseASCIIidentifierChars + nonASCIIidentifierStartChars + nonASCIIidentifierChars + "])*";

exports.identifier = new RegExp(identifierStart + identifierChars, 'g');
exports.identifierStart = new RegExp(identifierStart);
exports.identifierMatch = new RegExp("(?:\\\\u[0-9a-fA-F]{4}|[" + baseASCIIidentifierChars + nonASCIIidentifierStartChars + nonASCIIidentifierChars + "])+");

var nonASCIIwhitespace = /[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/; // jshint ignore:line

// Whether a single character denotes a newline.

exports.newline = /[\n\r\u2028\u2029]/;

// Matches a whole line break (where CRLF is considered a single
// line break). Used to count lines.

// in javascript, these two differ
// in python they are the same, different methods are called on them
exports.lineBreak = new RegExp('\r\n|' + exports.newline.source);
exports.allLineBreaks = new RegExp(exports.lineBreak.source, 'g');

},{}],46:[function(require,module,exports){
/*jshint node:true */
/*

  The MIT License (MIT)

  Copyright (c) 2007-2018 Einar Lielmanis, Liam Newman, and contributors.

  Permission is hereby granted, free of charge, to any person
  obtaining a copy of this software and associated documentation files
  (the "Software"), to deal in the Software without restriction,
  including without limitation the rights to use, copy, modify, merge,
  publish, distribute, sublicense, and/or sell copies of the Software,
  and to permit persons to whom the Software is furnished to do so,
  subject to the following conditions:

  The above copyright notice and this permission notice shall be
  included in all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
  NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS
  BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN
  ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
  CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
  SOFTWARE.
*/

'use strict';

var Output = require('../core/output').Output;
var Token = require('../core/token').Token;
var acorn = require('./acorn');
var Options = require('./options').Options;
var Tokenizer = require('./tokenizer').Tokenizer;
var line_starters = require('./tokenizer').line_starters;
var positionable_operators = require('./tokenizer').positionable_operators;
var TOKEN = require('./tokenizer').TOKEN;


function in_array(what, arr) {
  return arr.indexOf(what) !== -1;
}

function ltrim(s) {
  return s.replace(/^\s+/g, '');
}

function generateMapFromStrings(list) {
  var result = {};
  for (var x = 0; x < list.length; x++) {
    // make the mapped names underscored instead of dash
    result[list[x].replace(/-/g, '_')] = list[x];
  }
  return result;
}

function reserved_word(token, word) {
  return token && token.type === TOKEN.RESERVED && token.text === word;
}

function reserved_array(token, words) {
  return token && token.type === TOKEN.RESERVED && in_array(token.text, words);
}
// Unsure of what they mean, but they work. Worth cleaning up in future.
var special_words = ['case', 'return', 'do', 'if', 'throw', 'else', 'await', 'break', 'continue', 'async'];

var validPositionValues = ['before-newline', 'after-newline', 'preserve-newline'];

// Generate map from array
var OPERATOR_POSITION = generateMapFromStrings(validPositionValues);

var OPERATOR_POSITION_BEFORE_OR_PRESERVE = [OPERATOR_POSITION.before_newline, OPERATOR_POSITION.preserve_newline];

var MODE = {
  BlockStatement: 'BlockStatement', // 'BLOCK'
  Statement: 'Statement', // 'STATEMENT'
  ObjectLiteral: 'ObjectLiteral', // 'OBJECT',
  ArrayLiteral: 'ArrayLiteral', //'[EXPRESSION]',
  ForInitializer: 'ForInitializer', //'(FOR-EXPRESSION)',
  Conditional: 'Conditional', //'(COND-EXPRESSION)',
  Expression: 'Expression' //'(EXPRESSION)'
};

function remove_redundant_indentation(output, frame) {
  // This implementation is effective but has some issues:
  //     - can cause line wrap to happen too soon due to indent removal
  //           after wrap points are calculated
  // These issues are minor compared to ugly indentation.

  if (frame.multiline_frame ||
    frame.mode === MODE.ForInitializer ||
    frame.mode === MODE.Conditional) {
    return;
  }

  // remove one indent from each line inside this section
  output.remove_indent(frame.start_line_index);
}

// we could use just string.split, but
// IE doesn't like returning empty strings
function split_linebreaks(s) {
  //return s.split(/\x0d\x0a|\x0a/);

  s = s.replace(acorn.allLineBreaks, '\n');
  var out = [],
    idx = s.indexOf("\n");
  while (idx !== -1) {
    out.push(s.substring(0, idx));
    s = s.substring(idx + 1);
    idx = s.indexOf("\n");
  }
  if (s.length) {
    out.push(s);
  }
  return out;
}

function is_array(mode) {
  return mode === MODE.ArrayLiteral;
}

function is_expression(mode) {
  return in_array(mode, [MODE.Expression, MODE.ForInitializer, MODE.Conditional]);
}

function all_lines_start_with(lines, c) {
  for (var i = 0; i < lines.length; i++) {
    var line = lines[i].trim();
    if (line.charAt(0) !== c) {
      return false;
    }
  }
  return true;
}

function each_line_matches_indent(lines, indent) {
  var i = 0,
    len = lines.length,
    line;
  for (; i < len; i++) {
    line = lines[i];
    // allow empty lines to pass through
    if (line && line.indexOf(indent) !== 0) {
      return false;
    }
  }
  return true;
}


function Beautifier(source_text, options) {
  options = options || {};
  this._source_text = source_text || '';

  this._output = null;
  this._tokens = null;
  this._last_last_text = null;
  this._flags = null;
  this._previous_flags = null;

  this._flag_store = null;
  this._options = new Options(options);
}

Beautifier.prototype.create_flags = function(flags_base, mode) {
  var next_indent_level = 0;
  if (flags_base) {
    next_indent_level = flags_base.indentation_level;
    if (!this._output.just_added_newline() &&
      flags_base.line_indent_level > next_indent_level) {
      next_indent_level = flags_base.line_indent_level;
    }
  }

  var next_flags = {
    mode: mode,
    parent: flags_base,
    last_token: flags_base ? flags_base.last_token : new Token(TOKEN.START_BLOCK, ''), // last token text
    last_word: flags_base ? flags_base.last_word : '', // last TOKEN.WORD passed
    declaration_statement: false,
    declaration_assignment: false,
    multiline_frame: false,
    inline_frame: false,
    if_block: false,
    else_block: false,
    do_block: false,
    do_while: false,
    import_block: false,
    in_case_statement: false, // switch(..){ INSIDE HERE }
    in_case: false, // we're on the exact line with "case 0:"
    case_body: false, // the indented case-action block
    indentation_level: next_indent_level,
    alignment: 0,
    line_indent_level: flags_base ? flags_base.line_indent_level : next_indent_level,
    start_line_index: this._output.get_line_number(),
    ternary_depth: 0
  };
  return next_flags;
};

Beautifier.prototype._reset = function(source_text) {
  var baseIndentString = source_text.match(/^[\t ]*/)[0];

  this._last_last_text = ''; // pre-last token text
  this._output = new Output(this._options, baseIndentString);

  // If testing the ignore directive, start with output disable set to true
  this._output.raw = this._options.test_output_raw;


  // Stack of parsing/formatting states, including MODE.
  // We tokenize, parse, and output in an almost purely a forward-only stream of token input
  // and formatted output.  This makes the beautifier less accurate than full parsers
  // but also far more tolerant of syntax errors.
  //
  // For example, the default mode is MODE.BlockStatement. If we see a '{' we push a new frame of type
  // MODE.BlockStatement on the the stack, even though it could be object literal.  If we later
  // encounter a ":", we'll switch to to MODE.ObjectLiteral.  If we then see a ";",
  // most full parsers would die, but the beautifier gracefully falls back to
  // MODE.BlockStatement and continues on.
  this._flag_store = [];
  this.set_mode(MODE.BlockStatement);
  var tokenizer = new Tokenizer(source_text, this._options);
  this._tokens = tokenizer.tokenize();
  return source_text;
};

Beautifier.prototype.beautify = function() {
  // if disabled, return the input unchanged.
  if (this._options.disabled) {
    return this._source_text;
  }

  var sweet_code;
  var source_text = this._reset(this._source_text);

  var eol = this._options.eol;
  if (this._options.eol === 'auto') {
    eol = '\n';
    if (source_text && acorn.lineBreak.test(source_text || '')) {
      eol = source_text.match(acorn.lineBreak)[0];
    }
  }

  var current_token = this._tokens.next();
  while (current_token) {
    this.handle_token(current_token);

    this._last_last_text = this._flags.last_token.text;
    this._flags.last_token = current_token;

    current_token = this._tokens.next();
  }

  sweet_code = this._output.get_code(eol);

  return sweet_code;
};

Beautifier.prototype.handle_token = function(current_token, preserve_statement_flags) {
  if (current_token.type === TOKEN.START_EXPR) {
    this.handle_start_expr(current_token);
  } else if (current_token.type === TOKEN.END_EXPR) {
    this.handle_end_expr(current_token);
  } else if (current_token.type === TOKEN.START_BLOCK) {
    this.handle_start_block(current_token);
  } else if (current_token.type === TOKEN.END_BLOCK) {
    this.handle_end_block(current_token);
  } else if (current_token.type === TOKEN.WORD) {
    this.handle_word(current_token);
  } else if (current_token.type === TOKEN.RESERVED) {
    this.handle_word(current_token);
  } else if (current_token.type === TOKEN.SEMICOLON) {
    this.handle_semicolon(current_token);
  } else if (current_token.type === TOKEN.STRING) {
    this.handle_string(current_token);
  } else if (current_token.type === TOKEN.EQUALS) {
    this.handle_equals(current_token);
  } else if (current_token.type === TOKEN.OPERATOR) {
    this.handle_operator(current_token);
  } else if (current_token.type === TOKEN.COMMA) {
    this.handle_comma(current_token);
  } else if (current_token.type === TOKEN.BLOCK_COMMENT) {
    this.handle_block_comment(current_token, preserve_statement_flags);
  } else if (current_token.type === TOKEN.COMMENT) {
    this.handle_comment(current_token, preserve_statement_flags);
  } else if (current_token.type === TOKEN.DOT) {
    this.handle_dot(current_token);
  } else if (current_token.type === TOKEN.EOF) {
    this.handle_eof(current_token);
  } else if (current_token.type === TOKEN.UNKNOWN) {
    this.handle_unknown(current_token, preserve_statement_flags);
  } else {
    this.handle_unknown(current_token, preserve_statement_flags);
  }
};

Beautifier.prototype.handle_whitespace_and_comments = function(current_token, preserve_statement_flags) {
  var newlines = current_token.newlines;
  var keep_whitespace = this._options.keep_array_indentation && is_array(this._flags.mode);

  if (current_token.comments_before) {
    var comment_token = current_token.comments_before.next();
    while (comment_token) {
      // The cleanest handling of inline comments is to treat them as though they aren't there.
      // Just continue formatting and the behavior should be logical.
      // Also ignore unknown tokens.  Again, this should result in better behavior.
      this.handle_whitespace_and_comments(comment_token, preserve_statement_flags);
      this.handle_token(comment_token, preserve_statement_flags);
      comment_token = current_token.comments_before.next();
    }
  }

  if (keep_whitespace) {
    for (var i = 0; i < newlines; i += 1) {
      this.print_newline(i > 0, preserve_statement_flags);
    }
  } else {
    if (this._options.max_preserve_newlines && newlines > this._options.max_preserve_newlines) {
      newlines = this._options.max_preserve_newlines;
    }

    if (this._options.preserve_newlines) {
      if (newlines > 1) {
        this.print_newline(false, preserve_statement_flags);
        for (var j = 1; j < newlines; j += 1) {
          this.print_newline(true, preserve_statement_flags);
        }
      }
    }
  }

};

var newline_restricted_tokens = ['async', 'break', 'continue', 'return', 'throw', 'yield'];

Beautifier.prototype.allow_wrap_or_preserved_newline = function(current_token, force_linewrap) {
  force_linewrap = (force_linewrap === undefined) ? false : force_linewrap;

  // Never wrap the first token on a line
  if (this._output.just_added_newline()) {
    return;
  }

  var shouldPreserveOrForce = (this._options.preserve_newlines && current_token.newlines) || force_linewrap;
  var operatorLogicApplies = in_array(this._flags.last_token.text, positionable_operators) ||
    in_array(current_token.text, positionable_operators);

  if (operatorLogicApplies) {
    var shouldPrintOperatorNewline = (
        in_array(this._flags.last_token.text, positionable_operators) &&
        in_array(this._options.operator_position, OPERATOR_POSITION_BEFORE_OR_PRESERVE)
      ) ||
      in_array(current_token.text, positionable_operators);
    shouldPreserveOrForce = shouldPreserveOrForce && shouldPrintOperatorNewline;
  }

  if (shouldPreserveOrForce) {
    this.print_newline(false, true);
  } else if (this._options.wrap_line_length) {
    if (reserved_array(this._flags.last_token, newline_restricted_tokens)) {
      // These tokens should never have a newline inserted
      // between them and the following expression.
      return;
    }
    this._output.set_wrap_point();
  }
};

Beautifier.prototype.print_newline = function(force_newline, preserve_statement_flags) {
  if (!preserve_statement_flags) {
    if (this._flags.last_token.text !== ';' && this._flags.last_token.text !== ',' && this._flags.last_token.text !== '=' && (this._flags.last_token.type !== TOKEN.OPERATOR || this._flags.last_token.text === '--' || this._flags.last_token.text === '++')) {
      var next_token = this._tokens.peek();
      while (this._flags.mode === MODE.Statement &&
        !(this._flags.if_block && reserved_word(next_token, 'else')) &&
        !this._flags.do_block) {
        this.restore_mode();
      }
    }
  }

  if (this._output.add_new_line(force_newline)) {
    this._flags.multiline_frame = true;
  }
};

Beautifier.prototype.print_token_line_indentation = function(current_token) {
  if (this._output.just_added_newline()) {
    if (this._options.keep_array_indentation &&
      current_token.newlines &&
      (current_token.text === '[' || is_array(this._flags.mode))) {
      this._output.current_line.set_indent(-1);
      this._output.current_line.push(current_token.whitespace_before);
      this._output.space_before_token = false;
    } else if (this._output.set_indent(this._flags.indentation_level, this._flags.alignment)) {
      this._flags.line_indent_level = this._flags.indentation_level;
    }
  }
};

Beautifier.prototype.print_token = function(current_token) {
  if (this._output.raw) {
    this._output.add_raw_token(current_token);
    return;
  }

  if (this._options.comma_first && current_token.previous && current_token.previous.type === TOKEN.COMMA &&
    this._output.just_added_newline()) {
    if (this._output.previous_line.last() === ',') {
      var popped = this._output.previous_line.pop();
      // if the comma was already at the start of the line,
      // pull back onto that line and reprint the indentation
      if (this._output.previous_line.is_empty()) {
        this._output.previous_line.push(popped);
        this._output.trim(true);
        this._output.current_line.pop();
        this._output.trim();
      }

      // add the comma in front of the next token
      this.print_token_line_indentation(current_token);
      this._output.add_token(',');
      this._output.space_before_token = true;
    }
  }

  this.print_token_line_indentation(current_token);
  this._output.non_breaking_space = true;
  this._output.add_token(current_token.text);
  if (this._output.previous_token_wrapped) {
    this._flags.multiline_frame = true;
  }
};

Beautifier.prototype.indent = function() {
  this._flags.indentation_level += 1;
  this._output.set_indent(this._flags.indentation_level, this._flags.alignment);
};

Beautifier.prototype.deindent = function() {
  if (this._flags.indentation_level > 0 &&
    ((!this._flags.parent) || this._flags.indentation_level > this._flags.parent.indentation_level)) {
    this._flags.indentation_level -= 1;
    this._output.set_indent(this._flags.indentation_level, this._flags.alignment);
  }
};

Beautifier.prototype.set_mode = function(mode) {
  if (this._flags) {
    this._flag_store.push(this._flags);
    this._previous_flags = this._flags;
  } else {
    this._previous_flags = this.create_flags(null, mode);
  }

  this._flags = this.create_flags(this._previous_flags, mode);
  this._output.set_indent(this._flags.indentation_level, this._flags.alignment);
};


Beautifier.prototype.restore_mode = function() {
  if (this._flag_store.length > 0) {
    this._previous_flags = this._flags;
    this._flags = this._flag_store.pop();
    if (this._previous_flags.mode === MODE.Statement) {
      remove_redundant_indentation(this._output, this._previous_flags);
    }
    this._output.set_indent(this._flags.indentation_level, this._flags.alignment);
  }
};

Beautifier.prototype.start_of_object_property = function() {
  return this._flags.parent.mode === MODE.ObjectLiteral && this._flags.mode === MODE.Statement && (
    (this._flags.last_token.text === ':' && this._flags.ternary_depth === 0) || (reserved_array(this._flags.last_token, ['get', 'set'])));
};

Beautifier.prototype.start_of_statement = function(current_token) {
  var start = false;
  start = start || reserved_array(this._flags.last_token, ['var', 'let', 'const']) && current_token.type === TOKEN.WORD;
  start = start || reserved_word(this._flags.last_token, 'do');
  start = start || (!(this._flags.parent.mode === MODE.ObjectLiteral && this._flags.mode === MODE.Statement)) && reserved_array(this._flags.last_token, newline_restricted_tokens) && !current_token.newlines;
  start = start || reserved_word(this._flags.last_token, 'else') &&
    !(reserved_word(current_token, 'if') && !current_token.comments_before);
  start = start || (this._flags.last_token.type === TOKEN.END_EXPR && (this._previous_flags.mode === MODE.ForInitializer || this._previous_flags.mode === MODE.Conditional));
  start = start || (this._flags.last_token.type === TOKEN.WORD && this._flags.mode === MODE.BlockStatement &&
    !this._flags.in_case &&
    !(current_token.text === '--' || current_token.text === '++') &&
    this._last_last_text !== 'function' &&
    current_token.type !== TOKEN.WORD && current_token.type !== TOKEN.RESERVED);
  start = start || (this._flags.mode === MODE.ObjectLiteral && (
    (this._flags.last_token.text === ':' && this._flags.ternary_depth === 0) || reserved_array(this._flags.last_token, ['get', 'set'])));

  if (start) {
    this.set_mode(MODE.Statement);
    this.indent();

    this.handle_whitespace_and_comments(current_token, true);

    // Issue #276:
    // If starting a new statement with [if, for, while, do], push to a new line.
    // if (a) if (b) if(c) d(); else e(); else f();
    if (!this.start_of_object_property()) {
      this.allow_wrap_or_preserved_newline(current_token,
        reserved_array(current_token, ['do', 'for', 'if', 'while']));
    }
    return true;
  }
  return false;
};

Beautifier.prototype.handle_start_expr = function(current_token) {
  // The conditional starts the statement if appropriate.
  if (!this.start_of_statement(current_token)) {
    this.handle_whitespace_and_comments(current_token);
  }

  var next_mode = MODE.Expression;
  if (current_token.text === '[') {

    if (this._flags.last_token.type === TOKEN.WORD || this._flags.last_token.text === ')') {
      // this is array index specifier, break immediately
      // a[x], fn()[x]
      if (reserved_array(this._flags.last_token, line_starters)) {
        this._output.space_before_token = true;
      }
      this.print_token(current_token);
      this.set_mode(next_mode);
      this.indent();
      if (this._options.space_in_paren) {
        this._output.space_before_token = true;
      }
      return;
    }

    next_mode = MODE.ArrayLiteral;
    if (is_array(this._flags.mode)) {
      if (this._flags.last_token.text === '[' ||
        (this._flags.last_token.text === ',' && (this._last_last_text === ']' || this._last_last_text === '}'))) {
        // ], [ goes to new line
        // }, [ goes to new line
        if (!this._options.keep_array_indentation) {
          this.print_newline();
        }
      }
    }

    if (!in_array(this._flags.last_token.type, [TOKEN.START_EXPR, TOKEN.END_EXPR, TOKEN.WORD, TOKEN.OPERATOR])) {
      this._output.space_before_token = true;
    }
  } else {
    if (this._flags.last_token.type === TOKEN.RESERVED) {
      if (this._flags.last_token.text === 'for') {
        this._output.space_before_token = this._options.space_before_conditional;
        next_mode = MODE.ForInitializer;
      } else if (in_array(this._flags.last_token.text, ['if', 'while'])) {
        this._output.space_before_token = this._options.space_before_conditional;
        next_mode = MODE.Conditional;
      } else if (in_array(this._flags.last_word, ['await', 'async'])) {
        // Should be a space between await and an IIFE, or async and an arrow function
        this._output.space_before_token = true;
      } else if (this._flags.last_token.text === 'import' && current_token.whitespace_before === '') {
        this._output.space_before_token = false;
      } else if (in_array(this._flags.last_token.text, line_starters) || this._flags.last_token.text === 'catch') {
        this._output.space_before_token = true;
      }
    } else if (this._flags.last_token.type === TOKEN.EQUALS || this._flags.last_token.type === TOKEN.OPERATOR) {
      // Support of this kind of newline preservation.
      // a = (b &&
      //     (c || d));
      if (!this.start_of_object_property()) {
        this.allow_wrap_or_preserved_newline(current_token);
      }
    } else if (this._flags.last_token.type === TOKEN.WORD) {
      this._output.space_before_token = false;

      // function name() vs function name ()
      // function* name() vs function* name ()
      // async name() vs async name ()
      // In ES6, you can also define the method properties of an object
      // var obj = {a: function() {}}
      // It can be abbreviated
      // var obj = {a() {}}
      // var obj = { a() {}} vs var obj = { a () {}}
      // var obj = { * a() {}} vs var obj = { * a () {}}
      var peek_back_two = this._tokens.peek(-3);
      if (this._options.space_after_named_function && peek_back_two) {
        // peek starts at next character so -1 is current token
        var peek_back_three = this._tokens.peek(-4);
        if (reserved_array(peek_back_two, ['async', 'function']) ||
          (peek_back_two.text === '*' && reserved_array(peek_back_three, ['async', 'function']))) {
          this._output.space_before_token = true;
        } else if (this._flags.mode === MODE.ObjectLiteral) {
          if ((peek_back_two.text === '{' || peek_back_two.text === ',') ||
            (peek_back_two.text === '*' && (peek_back_three.text === '{' || peek_back_three.text === ','))) {
            this._output.space_before_token = true;
          }
        }
      }
    } else {
      // Support preserving wrapped arrow function expressions
      // a.b('c',
      //     () => d.e
      // )
      this.allow_wrap_or_preserved_newline(current_token);
    }

    // function() vs function ()
    // yield*() vs yield* ()
    // function*() vs function* ()
    if ((this._flags.last_token.type === TOKEN.RESERVED && (this._flags.last_word === 'function' || this._flags.last_word === 'typeof')) ||
      (this._flags.last_token.text === '*' &&
        (in_array(this._last_last_text, ['function', 'yield']) ||
          (this._flags.mode === MODE.ObjectLiteral && in_array(this._last_last_text, ['{', ',']))))) {
      this._output.space_before_token = this._options.space_after_anon_function;
    }
  }

  if (this._flags.last_token.text === ';' || this._flags.last_token.type === TOKEN.START_BLOCK) {
    this.print_newline();
  } else if (this._flags.last_token.type === TOKEN.END_EXPR || this._flags.last_token.type === TOKEN.START_EXPR || this._flags.last_token.type === TOKEN.END_BLOCK || this._flags.last_token.text === '.' || this._flags.last_token.type === TOKEN.COMMA) {
    // do nothing on (( and )( and ][ and ]( and .(
    // TODO: Consider whether forcing this is required.  Review failing tests when removed.
    this.allow_wrap_or_preserved_newline(current_token, current_token.newlines);
  }

  this.print_token(current_token);
  this.set_mode(next_mode);
  if (this._options.space_in_paren) {
    this._output.space_before_token = true;
  }

  // In all cases, if we newline while inside an expression it should be indented.
  this.indent();
};

Beautifier.prototype.handle_end_expr = function(current_token) {
  // statements inside expressions are not valid syntax, but...
  // statements must all be closed when their container closes
  while (this._flags.mode === MODE.Statement) {
    this.restore_mode();
  }

  this.handle_whitespace_and_comments(current_token);

  if (this._flags.multiline_frame) {
    this.allow_wrap_or_preserved_newline(current_token,
      current_token.text === ']' && is_array(this._flags.mode) && !this._options.keep_array_indentation);
  }

  if (this._options.space_in_paren) {
    if (this._flags.last_token.type === TOKEN.START_EXPR && !this._options.space_in_empty_paren) {
      // () [] no inner space in empty parens like these, ever, ref #320
      this._output.trim();
      this._output.space_before_token = false;
    } else {
      this._output.space_before_token = true;
    }
  }
  this.deindent();
  this.print_token(current_token);
  this.restore_mode();

  remove_redundant_indentation(this._output, this._previous_flags);

  // do {} while () // no statement required after
  if (this._flags.do_while && this._previous_flags.mode === MODE.Conditional) {
    this._previous_flags.mode = MODE.Expression;
    this._flags.do_block = false;
    this._flags.do_while = false;

  }
};

Beautifier.prototype.handle_start_block = function(current_token) {
  this.handle_whitespace_and_comments(current_token);

  // Check if this is should be treated as a ObjectLiteral
  var next_token = this._tokens.peek();
  var second_token = this._tokens.peek(1);
  if (this._flags.last_word === 'switch' && this._flags.last_token.type === TOKEN.END_EXPR) {
    this.set_mode(MODE.BlockStatement);
    this._flags.in_case_statement = true;
  } else if (this._flags.case_body) {
    this.set_mode(MODE.BlockStatement);
  } else if (second_token && (
      (in_array(second_token.text, [':', ',']) && in_array(next_token.type, [TOKEN.STRING, TOKEN.WORD, TOKEN.RESERVED])) ||
      (in_array(next_token.text, ['get', 'set', '...']) && in_array(second_token.type, [TOKEN.WORD, TOKEN.RESERVED]))
    )) {
    // We don't support TypeScript,but we didn't break it for a very long time.
    // We'll try to keep not breaking it.
    if (!in_array(this._last_last_text, ['class', 'interface'])) {
      this.set_mode(MODE.ObjectLiteral);
    } else {
      this.set_mode(MODE.BlockStatement);
    }
  } else if (this._flags.last_token.type === TOKEN.OPERATOR && this._flags.last_token.text === '=>') {
    // arrow function: (param1, paramN) => { statements }
    this.set_mode(MODE.BlockStatement);
  } else if (in_array(this._flags.last_token.type, [TOKEN.EQUALS, TOKEN.START_EXPR, TOKEN.COMMA, TOKEN.OPERATOR]) ||
    reserved_array(this._flags.last_token, ['return', 'throw', 'import', 'default'])
  ) {
    // Detecting shorthand function syntax is difficult by scanning forward,
    //     so check the surrounding context.
    // If the block is being returned, imported, export default, passed as arg,
    //     assigned with = or assigned in a nested object, treat as an ObjectLiteral.
    this.set_mode(MODE.ObjectLiteral);
  } else {
    this.set_mode(MODE.BlockStatement);
  }

  var empty_braces = !next_token.comments_before && next_token.text === '}';
  var empty_anonymous_function = empty_braces && this._flags.last_word === 'function' &&
    this._flags.last_token.type === TOKEN.END_EXPR;

  if (this._options.brace_preserve_inline) // check for inline, set inline_frame if so
  {
    // search forward for a newline wanted inside this block
    var index = 0;
    var check_token = null;
    this._flags.inline_frame = true;
    do {
      index += 1;
      check_token = this._tokens.peek(index - 1);
      if (check_token.newlines) {
        this._flags.inline_frame = false;
        break;
      }
    } while (check_token.type !== TOKEN.EOF &&
      !(check_token.type === TOKEN.END_BLOCK && check_token.opened === current_token));
  }

  if ((this._options.brace_style === "expand" ||
      (this._options.brace_style === "none" && current_token.newlines)) &&
    !this._flags.inline_frame) {
    if (this._flags.last_token.type !== TOKEN.OPERATOR &&
      (empty_anonymous_function ||
        this._flags.last_token.type === TOKEN.EQUALS ||
        (reserved_array(this._flags.last_token, special_words) && this._flags.last_token.text !== 'else'))) {
      this._output.space_before_token = true;
    } else {
      this.print_newline(false, true);
    }
  } else { // collapse || inline_frame
    if (is_array(this._previous_flags.mode) && (this._flags.last_token.type === TOKEN.START_EXPR || this._flags.last_token.type === TOKEN.COMMA)) {
      if (this._flags.last_token.type === TOKEN.COMMA || this._options.space_in_paren) {
        this._output.space_before_token = true;
      }

      if (this._flags.last_token.type === TOKEN.COMMA || (this._flags.last_token.type === TOKEN.START_EXPR && this._flags.inline_frame)) {
        this.allow_wrap_or_preserved_newline(current_token);
        this._previous_flags.multiline_frame = this._previous_flags.multiline_frame || this._flags.multiline_frame;
        this._flags.multiline_frame = false;
      }
    }
    if (this._flags.last_token.type !== TOKEN.OPERATOR && this._flags.last_token.type !== TOKEN.START_EXPR) {
      if (this._flags.last_token.type === TOKEN.START_BLOCK && !this._flags.inline_frame) {
        this.print_newline();
      } else {
        this._output.space_before_token = true;
      }
    }
  }
  this.print_token(current_token);
  this.indent();

  // Except for specific cases, open braces are followed by a new line.
  if (!empty_braces && !(this._options.brace_preserve_inline && this._flags.inline_frame)) {
    this.print_newline();
  }
};

Beautifier.prototype.handle_end_block = function(current_token) {
  // statements must all be closed when their container closes
  this.handle_whitespace_and_comments(current_token);

  while (this._flags.mode === MODE.Statement) {
    this.restore_mode();
  }

  var empty_braces = this._flags.last_token.type === TOKEN.START_BLOCK;

  if (this._flags.inline_frame && !empty_braces) { // try inline_frame (only set if this._options.braces-preserve-inline) first
    this._output.space_before_token = true;
  } else if (this._options.brace_style === "expand") {
    if (!empty_braces) {
      this.print_newline();
    }
  } else {
    // skip {}
    if (!empty_braces) {
      if (is_array(this._flags.mode) && this._options.keep_array_indentation) {
        // we REALLY need a newline here, but newliner would skip that
        this._options.keep_array_indentation = false;
        this.print_newline();
        this._options.keep_array_indentation = true;

      } else {
        this.print_newline();
      }
    }
  }
  this.restore_mode();
  this.print_token(current_token);
};

Beautifier.prototype.handle_word = function(current_token) {
  if (current_token.type === TOKEN.RESERVED) {
    if (in_array(current_token.text, ['set', 'get']) && this._flags.mode !== MODE.ObjectLiteral) {
      current_token.type = TOKEN.WORD;
    } else if (current_token.text === 'import' && this._tokens.peek().text === '(') {
      current_token.type = TOKEN.WORD;
    } else if (in_array(current_token.text, ['as', 'from']) && !this._flags.import_block) {
      current_token.type = TOKEN.WORD;
    } else if (this._flags.mode === MODE.ObjectLiteral) {
      var next_token = this._tokens.peek();
      if (next_token.text === ':') {
        current_token.type = TOKEN.WORD;
      }
    }
  }

  if (this.start_of_statement(current_token)) {
    // The conditional starts the statement if appropriate.
    if (reserved_array(this._flags.last_token, ['var', 'let', 'const']) && current_token.type === TOKEN.WORD) {
      this._flags.declaration_statement = true;
    }
  } else if (current_token.newlines && !is_expression(this._flags.mode) &&
    (this._flags.last_token.type !== TOKEN.OPERATOR || (this._flags.last_token.text === '--' || this._flags.last_token.text === '++')) &&
    this._flags.last_token.type !== TOKEN.EQUALS &&
    (this._options.preserve_newlines || !reserved_array(this._flags.last_token, ['var', 'let', 'const', 'set', 'get']))) {
    this.handle_whitespace_and_comments(current_token);
    this.print_newline();
  } else {
    this.handle_whitespace_and_comments(current_token);
  }

  if (this._flags.do_block && !this._flags.do_while) {
    if (reserved_word(current_token, 'while')) {
      // do {} ## while ()
      this._output.space_before_token = true;
      this.print_token(current_token);
      this._output.space_before_token = true;
      this._flags.do_while = true;
      return;
    } else {
      // do {} should always have while as the next word.
      // if we don't see the expected while, recover
      this.print_newline();
      this._flags.do_block = false;
    }
  }

  // if may be followed by else, or not
  // Bare/inline ifs are tricky
  // Need to unwind the modes correctly: if (a) if (b) c(); else d(); else e();
  if (this._flags.if_block) {
    if (!this._flags.else_block && reserved_word(current_token, 'else')) {
      this._flags.else_block = true;
    } else {
      while (this._flags.mode === MODE.Statement) {
        this.restore_mode();
      }
      this._flags.if_block = false;
      this._flags.else_block = false;
    }
  }

  if (this._flags.in_case_statement && reserved_array(current_token, ['case', 'default'])) {
    this.print_newline();
    if (this._flags.last_token.type !== TOKEN.END_BLOCK && (this._flags.case_body || this._options.jslint_happy)) {
      // switch cases following one another
      this.deindent();
    }
    this._flags.case_body = false;

    this.print_token(current_token);
    this._flags.in_case = true;
    return;
  }

  if (this._flags.last_token.type === TOKEN.COMMA || this._flags.last_token.type === TOKEN.START_EXPR || this._flags.last_token.type === TOKEN.EQUALS || this._flags.last_token.type === TOKEN.OPERATOR) {
    if (!this.start_of_object_property()) {
      this.allow_wrap_or_preserved_newline(current_token);
    }
  }

  if (reserved_word(current_token, 'function')) {
    if (in_array(this._flags.last_token.text, ['}', ';']) ||
      (this._output.just_added_newline() && !(in_array(this._flags.last_token.text, ['(', '[', '{', ':', '=', ',']) || this._flags.last_token.type === TOKEN.OPERATOR))) {
      // make sure there is a nice clean space of at least one blank line
      // before a new function definition
      if (!this._output.just_added_blankline() && !current_token.comments_before) {
        this.print_newline();
        this.print_newline(true);
      }
    }
    if (this._flags.last_token.type === TOKEN.RESERVED || this._flags.last_token.type === TOKEN.WORD) {
      if (reserved_array(this._flags.last_token, ['get', 'set', 'new', 'export']) ||
        reserved_array(this._flags.last_token, newline_restricted_tokens)) {
        this._output.space_before_token = true;
      } else if (reserved_word(this._flags.last_token, 'default') && this._last_last_text === 'export') {
        this._output.space_before_token = true;
      } else if (this._flags.last_token.text === 'declare') {
        // accomodates Typescript declare function formatting
        this._output.space_before_token = true;
      } else {
        this.print_newline();
      }
    } else if (this._flags.last_token.type === TOKEN.OPERATOR || this._flags.last_token.text === '=') {
      // foo = function
      this._output.space_before_token = true;
    } else if (!this._flags.multiline_frame && (is_expression(this._flags.mode) || is_array(this._flags.mode))) {
      // (function
    } else {
      this.print_newline();
    }

    this.print_token(current_token);
    this._flags.last_word = current_token.text;
    return;
  }

  var prefix = 'NONE';

  if (this._flags.last_token.type === TOKEN.END_BLOCK) {

    if (this._previous_flags.inline_frame) {
      prefix = 'SPACE';
    } else if (!reserved_array(current_token, ['else', 'catch', 'finally', 'from'])) {
      prefix = 'NEWLINE';
    } else {
      if (this._options.brace_style === "expand" ||
        this._options.brace_style === "end-expand" ||
        (this._options.brace_style === "none" && current_token.newlines)) {
        prefix = 'NEWLINE';
      } else {
        prefix = 'SPACE';
        this._output.space_before_token = true;
      }
    }
  } else if (this._flags.last_token.type === TOKEN.SEMICOLON && this._flags.mode === MODE.BlockStatement) {
    // TODO: Should this be for STATEMENT as well?
    prefix = 'NEWLINE';
  } else if (this._flags.last_token.type === TOKEN.SEMICOLON && is_expression(this._flags.mode)) {
    prefix = 'SPACE';
  } else if (this._flags.last_token.type === TOKEN.STRING) {
    prefix = 'NEWLINE';
  } else if (this._flags.last_token.type === TOKEN.RESERVED || this._flags.last_token.type === TOKEN.WORD ||
    (this._flags.last_token.text === '*' &&
      (in_array(this._last_last_text, ['function', 'yield']) ||
        (this._flags.mode === MODE.ObjectLiteral && in_array(this._last_last_text, ['{', ',']))))) {
    prefix = 'SPACE';
  } else if (this._flags.last_token.type === TOKEN.START_BLOCK) {
    if (this._flags.inline_frame) {
      prefix = 'SPACE';
    } else {
      prefix = 'NEWLINE';
    }
  } else if (this._flags.last_token.type === TOKEN.END_EXPR) {
    this._output.space_before_token = true;
    prefix = 'NEWLINE';
  }

  if (reserved_array(current_token, line_starters) && this._flags.last_token.text !== ')') {
    if (this._flags.inline_frame || this._flags.last_token.text === 'else' || this._flags.last_token.text === 'export') {
      prefix = 'SPACE';
    } else {
      prefix = 'NEWLINE';
    }

  }

  if (reserved_array(current_token, ['else', 'catch', 'finally'])) {
    if ((!(this._flags.last_token.type === TOKEN.END_BLOCK && this._previous_flags.mode === MODE.BlockStatement) ||
        this._options.brace_style === "expand" ||
        this._options.brace_style === "end-expand" ||
        (this._options.brace_style === "none" && current_token.newlines)) &&
      !this._flags.inline_frame) {
      this.print_newline();
    } else {
      this._output.trim(true);
      var line = this._output.current_line;
      // If we trimmed and there's something other than a close block before us
      // put a newline back in.  Handles '} // comment' scenario.
      if (line.last() !== '}') {
        this.print_newline();
      }
      this._output.space_before_token = true;
    }
  } else if (prefix === 'NEWLINE') {
    if (reserved_array(this._flags.last_token, special_words)) {
      // no newline between 'return nnn'
      this._output.space_before_token = true;
    } else if (this._flags.last_token.text === 'declare' && reserved_array(current_token, ['var', 'let', 'const'])) {
      // accomodates Typescript declare formatting
      this._output.space_before_token = true;
    } else if (this._flags.last_token.type !== TOKEN.END_EXPR) {
      if ((this._flags.last_token.type !== TOKEN.START_EXPR || !reserved_array(current_token, ['var', 'let', 'const'])) && this._flags.last_token.text !== ':') {
        // no need to force newline on 'var': for (var x = 0...)
        if (reserved_word(current_token, 'if') && reserved_word(current_token.previous, 'else')) {
          // no newline for } else if {
          this._output.space_before_token = true;
        } else {
          this.print_newline();
        }
      }
    } else if (reserved_array(current_token, line_starters) && this._flags.last_token.text !== ')') {
      this.print_newline();
    }
  } else if (this._flags.multiline_frame && is_array(this._flags.mode) && this._flags.last_token.text === ',' && this._last_last_text === '}') {
    this.print_newline(); // }, in lists get a newline treatment
  } else if (prefix === 'SPACE') {
    this._output.space_before_token = true;
  }
  if (current_token.previous && (current_token.previous.type === TOKEN.WORD || current_token.previous.type === TOKEN.RESERVED)) {
    this._output.space_before_token = true;
  }
  this.print_token(current_token);
  this._flags.last_word = current_token.text;

  if (current_token.type === TOKEN.RESERVED) {
    if (current_token.text === 'do') {
      this._flags.do_block = true;
    } else if (current_token.text === 'if') {
      this._flags.if_block = true;
    } else if (current_token.text === 'import') {
      this._flags.import_block = true;
    } else if (this._flags.import_block && reserved_word(current_token, 'from')) {
      this._flags.import_block = false;
    }
  }
};

Beautifier.prototype.handle_semicolon = function(current_token) {
  if (this.start_of_statement(current_token)) {
    // The conditional starts the statement if appropriate.
    // Semicolon can be the start (and end) of a statement
    this._output.space_before_token = false;
  } else {
    this.handle_whitespace_and_comments(current_token);
  }

  var next_token = this._tokens.peek();
  while (this._flags.mode === MODE.Statement &&
    !(this._flags.if_block && reserved_word(next_token, 'else')) &&
    !this._flags.do_block) {
    this.restore_mode();
  }

  // hacky but effective for the moment
  if (this._flags.import_block) {
    this._flags.import_block = false;
  }
  this.print_token(current_token);
};

Beautifier.prototype.handle_string = function(current_token) {
  if (this.start_of_statement(current_token)) {
    // The conditional starts the statement if appropriate.
    // One difference - strings want at least a space before
    this._output.space_before_token = true;
  } else {
    this.handle_whitespace_and_comments(current_token);
    if (this._flags.last_token.type === TOKEN.RESERVED || this._flags.last_token.type === TOKEN.WORD || this._flags.inline_frame) {
      this._output.space_before_token = true;
    } else if (this._flags.last_token.type === TOKEN.COMMA || this._flags.last_token.type === TOKEN.START_EXPR || this._flags.last_token.type === TOKEN.EQUALS || this._flags.last_token.type === TOKEN.OPERATOR) {
      if (!this.start_of_object_property()) {
        this.allow_wrap_or_preserved_newline(current_token);
      }
    } else {
      this.print_newline();
    }
  }
  this.print_token(current_token);
};

Beautifier.prototype.handle_equals = function(current_token) {
  if (this.start_of_statement(current_token)) {
    // The conditional starts the statement if appropriate.
  } else {
    this.handle_whitespace_and_comments(current_token);
  }

  if (this._flags.declaration_statement) {
    // just got an '=' in a var-line, different formatting/line-breaking, etc will now be done
    this._flags.declaration_assignment = true;
  }
  this._output.space_before_token = true;
  this.print_token(current_token);
  this._output.space_before_token = true;
};

Beautifier.prototype.handle_comma = function(current_token) {
  this.handle_whitespace_and_comments(current_token, true);

  this.print_token(current_token);
  this._output.space_before_token = true;
  if (this._flags.declaration_statement) {
    if (is_expression(this._flags.parent.mode)) {
      // do not break on comma, for(var a = 1, b = 2)
      this._flags.declaration_assignment = false;
    }

    if (this._flags.declaration_assignment) {
      this._flags.declaration_assignment = false;
      this.print_newline(false, true);
    } else if (this._options.comma_first) {
      // for comma-first, we want to allow a newline before the comma
      // to turn into a newline after the comma, which we will fixup later
      this.allow_wrap_or_preserved_newline(current_token);
    }
  } else if (this._flags.mode === MODE.ObjectLiteral ||
    (this._flags.mode === MODE.Statement && this._flags.parent.mode === MODE.ObjectLiteral)) {
    if (this._flags.mode === MODE.Statement) {
      this.restore_mode();
    }

    if (!this._flags.inline_frame) {
      this.print_newline();
    }
  } else if (this._options.comma_first) {
    // EXPR or DO_BLOCK
    // for comma-first, we want to allow a newline before the comma
    // to turn into a newline after the comma, which we will fixup later
    this.allow_wrap_or_preserved_newline(current_token);
  }
};

Beautifier.prototype.handle_operator = function(current_token) {
  var isGeneratorAsterisk = current_token.text === '*' &&
    (reserved_array(this._flags.last_token, ['function', 'yield']) ||
      (in_array(this._flags.last_token.type, [TOKEN.START_BLOCK, TOKEN.COMMA, TOKEN.END_BLOCK, TOKEN.SEMICOLON]))
    );
  var isUnary = in_array(current_token.text, ['-', '+']) && (
    in_array(this._flags.last_token.type, [TOKEN.START_BLOCK, TOKEN.START_EXPR, TOKEN.EQUALS, TOKEN.OPERATOR]) ||
    in_array(this._flags.last_token.text, line_starters) ||
    this._flags.last_token.text === ','
  );

  if (this.start_of_statement(current_token)) {
    // The conditional starts the statement if appropriate.
  } else {
    var preserve_statement_flags = !isGeneratorAsterisk;
    this.handle_whitespace_and_comments(current_token, preserve_statement_flags);
  }

  if (reserved_array(this._flags.last_token, special_words)) {
    // "return" had a special handling in TK_WORD. Now we need to return the favor
    this._output.space_before_token = true;
    this.print_token(current_token);
    return;
  }

  // hack for actionscript's import .*;
  if (current_token.text === '*' && this._flags.last_token.type === TOKEN.DOT) {
    this.print_token(current_token);
    return;
  }

  if (current_token.text === '::') {
    // no spaces around exotic namespacing syntax operator
    this.print_token(current_token);
    return;
  }

  // Allow line wrapping between operators when operator_position is
  //   set to before or preserve
  if (this._flags.last_token.type === TOKEN.OPERATOR && in_array(this._options.operator_position, OPERATOR_POSITION_BEFORE_OR_PRESERVE)) {
    this.allow_wrap_or_preserved_newline(current_token);
  }

  if (current_token.text === ':' && this._flags.in_case) {
    this.print_token(current_token);

    this._flags.in_case = false;
    this._flags.case_body = true;
    if (this._tokens.peek().type !== TOKEN.START_BLOCK) {
      this.indent();
      this.print_newline();
    } else {
      this._output.space_before_token = true;
    }
    return;
  }

  var space_before = true;
  var space_after = true;
  var in_ternary = false;
  if (current_token.text === ':') {
    if (this._flags.ternary_depth === 0) {
      // Colon is invalid javascript outside of ternary and object, but do our best to guess what was meant.
      space_before = false;
    } else {
      this._flags.ternary_depth -= 1;
      in_ternary = true;
    }
  } else if (current_token.text === '?') {
    this._flags.ternary_depth += 1;
  }

  // let's handle the operator_position option prior to any conflicting logic
  if (!isUnary && !isGeneratorAsterisk && this._options.preserve_newlines && in_array(current_token.text, positionable_operators)) {
    var isColon = current_token.text === ':';
    var isTernaryColon = (isColon && in_ternary);
    var isOtherColon = (isColon && !in_ternary);

    switch (this._options.operator_position) {
      case OPERATOR_POSITION.before_newline:
        // if the current token is : and it's not a ternary statement then we set space_before to false
        this._output.space_before_token = !isOtherColon;

        this.print_token(current_token);

        if (!isColon || isTernaryColon) {
          this.allow_wrap_or_preserved_newline(current_token);
        }

        this._output.space_before_token = true;
        return;

      case OPERATOR_POSITION.after_newline:
        // if the current token is anything but colon, or (via deduction) it's a colon and in a ternary statement,
        //   then print a newline.

        this._output.space_before_token = true;

        if (!isColon || isTernaryColon) {
          if (this._tokens.peek().newlines) {
            this.print_newline(false, true);
          } else {
            this.allow_wrap_or_preserved_newline(current_token);
          }
        } else {
          this._output.space_before_token = false;
        }

        this.print_token(current_token);

        this._output.space_before_token = true;
        return;

      case OPERATOR_POSITION.preserve_newline:
        if (!isOtherColon) {
          this.allow_wrap_or_preserved_newline(current_token);
        }

        // if we just added a newline, or the current token is : and it's not a ternary statement,
        //   then we set space_before to false
        space_before = !(this._output.just_added_newline() || isOtherColon);

        this._output.space_before_token = space_before;
        this.print_token(current_token);
        this._output.space_before_token = true;
        return;
    }
  }

  if (isGeneratorAsterisk) {
    this.allow_wrap_or_preserved_newline(current_token);
    space_before = false;
    var next_token = this._tokens.peek();
    space_after = next_token && in_array(next_token.type, [TOKEN.WORD, TOKEN.RESERVED]);
  } else if (current_token.text === '...') {
    this.allow_wrap_or_preserved_newline(current_token);
    space_before = this._flags.last_token.type === TOKEN.START_BLOCK;
    space_after = false;
  } else if (in_array(current_token.text, ['--', '++', '!', '~']) || isUnary) {
    // unary operators (and binary +/- pretending to be unary) special cases
    if (this._flags.last_token.type === TOKEN.COMMA || this._flags.last_token.type === TOKEN.START_EXPR) {
      this.allow_wrap_or_preserved_newline(current_token);
    }

    space_before = false;
    space_after = false;

    // http://www.ecma-international.org/ecma-262/5.1/#sec-7.9.1
    // if there is a newline between -- or ++ and anything else we should preserve it.
    if (current_token.newlines && (current_token.text === '--' || current_token.text === '++')) {
      this.print_newline(false, true);
    }

    if (this._flags.last_token.text === ';' && is_expression(this._flags.mode)) {
      // for (;; ++i)
      //        ^^^
      space_before = true;
    }

    if (this._flags.last_token.type === TOKEN.RESERVED) {
      space_before = true;
    } else if (this._flags.last_token.type === TOKEN.END_EXPR) {
      space_before = !(this._flags.last_token.text === ']' && (current_token.text === '--' || current_token.text === '++'));
    } else if (this._flags.last_token.type === TOKEN.OPERATOR) {
      // a++ + ++b;
      // a - -b
      space_before = in_array(current_token.text, ['--', '-', '++', '+']) && in_array(this._flags.last_token.text, ['--', '-', '++', '+']);
      // + and - are not unary when preceeded by -- or ++ operator
      // a-- + b
      // a * +b
      // a - -b
      if (in_array(current_token.text, ['+', '-']) && in_array(this._flags.last_token.text, ['--', '++'])) {
        space_after = true;
      }
    }


    if (((this._flags.mode === MODE.BlockStatement && !this._flags.inline_frame) || this._flags.mode === MODE.Statement) &&
      (this._flags.last_token.text === '{' || this._flags.last_token.text === ';')) {
      // { foo; --i }
      // foo(); --bar;
      this.print_newline();
    }
  }

  this._output.space_before_token = this._output.space_before_token || space_before;
  this.print_token(current_token);
  this._output.space_before_token = space_after;
};

Beautifier.prototype.handle_block_comment = function(current_token, preserve_statement_flags) {
  if (this._output.raw) {
    this._output.add_raw_token(current_token);
    if (current_token.directives && current_token.directives.preserve === 'end') {
      // If we're testing the raw output behavior, do not allow a directive to turn it off.
      this._output.raw = this._options.test_output_raw;
    }
    return;
  }

  if (current_token.directives) {
    this.print_newline(false, preserve_statement_flags);
    this.print_token(current_token);
    if (current_token.directives.preserve === 'start') {
      this._output.raw = true;
    }
    this.print_newline(false, true);
    return;
  }

  // inline block
  if (!acorn.newline.test(current_token.text) && !current_token.newlines) {
    this._output.space_before_token = true;
    this.print_token(current_token);
    this._output.space_before_token = true;
    return;
  } else {
    this.print_block_commment(current_token, preserve_statement_flags);
  }
};

Beautifier.prototype.print_block_commment = function(current_token, preserve_statement_flags) {
  var lines = split_linebreaks(current_token.text);
  var j; // iterator for this case
  var javadoc = false;
  var starless = false;
  var lastIndent = current_token.whitespace_before;
  var lastIndentLength = lastIndent.length;

  // block comment starts with a new line
  this.print_newline(false, preserve_statement_flags);

  // first line always indented
  this.print_token_line_indentation(current_token);
  this._output.add_token(lines[0]);
  this.print_newline(false, preserve_statement_flags);


  if (lines.length > 1) {
    lines = lines.slice(1);
    javadoc = all_lines_start_with(lines, '*');
    starless = each_line_matches_indent(lines, lastIndent);

    if (javadoc) {
      this._flags.alignment = 1;
    }

    for (j = 0; j < lines.length; j++) {
      if (javadoc) {
        // javadoc: reformat and re-indent
        this.print_token_line_indentation(current_token);
        this._output.add_token(ltrim(lines[j]));
      } else if (starless && lines[j]) {
        // starless: re-indent non-empty content, avoiding trim
        this.print_token_line_indentation(current_token);
        this._output.add_token(lines[j].substring(lastIndentLength));
      } else {
        // normal comments output raw
        this._output.current_line.set_indent(-1);
        this._output.add_token(lines[j]);
      }

      // for comments on their own line or  more than one line, make sure there's a new line after
      this.print_newline(false, preserve_statement_flags);
    }

    this._flags.alignment = 0;
  }
};


Beautifier.prototype.handle_comment = function(current_token, preserve_statement_flags) {
  if (current_token.newlines) {
    this.print_newline(false, preserve_statement_flags);
  } else {
    this._output.trim(true);
  }

  this._output.space_before_token = true;
  this.print_token(current_token);
  this.print_newline(false, preserve_statement_flags);
};

Beautifier.prototype.handle_dot = function(current_token) {
  if (this.start_of_statement(current_token)) {
    // The conditional starts the statement if appropriate.
  } else {
    this.handle_whitespace_and_comments(current_token, true);
  }

  if (reserved_array(this._flags.last_token, special_words)) {
    this._output.space_before_token = false;
  } else {
    // allow preserved newlines before dots in general
    // force newlines on dots after close paren when break_chained - for bar().baz()
    this.allow_wrap_or_preserved_newline(current_token,
      this._flags.last_token.text === ')' && this._options.break_chained_methods);
  }

  // Only unindent chained method dot if this dot starts a new line.
  // Otherwise the automatic extra indentation removal will handle the over indent
  if (this._options.unindent_chained_methods && this._output.just_added_newline()) {
    this.deindent();
  }

  this.print_token(current_token);
};

Beautifier.prototype.handle_unknown = function(current_token, preserve_statement_flags) {
  this.print_token(current_token);

  if (current_token.text[current_token.text.length - 1] === '\n') {
    this.print_newline(false, preserve_statement_flags);
  }
};

Beautifier.prototype.handle_eof = function(current_token) {
  // Unwind any open statements
  while (this._flags.mode === MODE.Statement) {
    this.restore_mode();
  }
  this.handle_whitespace_and_comments(current_token);
};

module.exports.Beautifier = Beautifier;

},{"../core/output":30,"../core/token":33,"./acorn":45,"./options":48,"./tokenizer":49}],47:[function(require,module,exports){
/*jshint node:true */
/*

  The MIT License (MIT)

  Copyright (c) 2007-2018 Einar Lielmanis, Liam Newman, and contributors.

  Permission is hereby granted, free of charge, to any person
  obtaining a copy of this software and associated documentation files
  (the "Software"), to deal in the Software without restriction,
  including without limitation the rights to use, copy, modify, merge,
  publish, distribute, sublicense, and/or sell copies of the Software,
  and to permit persons to whom the Software is furnished to do so,
  subject to the following conditions:

  The above copyright notice and this permission notice shall be
  included in all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
  NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS
  BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN
  ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
  CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
  SOFTWARE.
*/

'use strict';

var Beautifier = require('./beautifier').Beautifier,
  Options = require('./options').Options;

function js_beautify(js_source_text, options) {
  var beautifier = new Beautifier(js_source_text, options);
  return beautifier.beautify();
}

module.exports = js_beautify;
module.exports.defaultOptions = function() {
  return new Options();
};

},{"./beautifier":46,"./options":48}],48:[function(require,module,exports){
/*jshint node:true */
/*

  The MIT License (MIT)

  Copyright (c) 2007-2018 Einar Lielmanis, Liam Newman, and contributors.

  Permission is hereby granted, free of charge, to any person
  obtaining a copy of this software and associated documentation files
  (the "Software"), to deal in the Software without restriction,
  including without limitation the rights to use, copy, modify, merge,
  publish, distribute, sublicense, and/or sell copies of the Software,
  and to permit persons to whom the Software is furnished to do so,
  subject to the following conditions:

  The above copyright notice and this permission notice shall be
  included in all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
  NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS
  BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN
  ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
  CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
  SOFTWARE.
*/

'use strict';

var BaseOptions = require('../core/options').Options;

var validPositionValues = ['before-newline', 'after-newline', 'preserve-newline'];

function Options(options) {
  BaseOptions.call(this, options, 'js');

  // compatibility, re
  var raw_brace_style = this.raw_options.brace_style || null;
  if (raw_brace_style === "expand-strict") { //graceful handling of deprecated option
    this.raw_options.brace_style = "expand";
  } else if (raw_brace_style === "collapse-preserve-inline") { //graceful handling of deprecated option
    this.raw_options.brace_style = "collapse,preserve-inline";
  } else if (this.raw_options.braces_on_own_line !== undefined) { //graceful handling of deprecated option
    this.raw_options.brace_style = this.raw_options.braces_on_own_line ? "expand" : "collapse";
    // } else if (!raw_brace_style) { //Nothing exists to set it
    //   raw_brace_style = "collapse";
  }

  //preserve-inline in delimited string will trigger brace_preserve_inline, everything
  //else is considered a brace_style and the last one only will have an effect

  var brace_style_split = this._get_selection_list('brace_style', ['collapse', 'expand', 'end-expand', 'none', 'preserve-inline']);

  this.brace_preserve_inline = false; //Defaults in case one or other was not specified in meta-option
  this.brace_style = "collapse";

  for (var bs = 0; bs < brace_style_split.length; bs++) {
    if (brace_style_split[bs] === "preserve-inline") {
      this.brace_preserve_inline = true;
    } else {
      this.brace_style = brace_style_split[bs];
    }
  }

  this.unindent_chained_methods = this._get_boolean('unindent_chained_methods');
  this.break_chained_methods = this._get_boolean('break_chained_methods');
  this.space_in_paren = this._get_boolean('space_in_paren');
  this.space_in_empty_paren = this._get_boolean('space_in_empty_paren');
  this.jslint_happy = this._get_boolean('jslint_happy');
  this.space_after_anon_function = this._get_boolean('space_after_anon_function');
  this.space_after_named_function = this._get_boolean('space_after_named_function');
  this.keep_array_indentation = this._get_boolean('keep_array_indentation');
  this.space_before_conditional = this._get_boolean('space_before_conditional', true);
  this.unescape_strings = this._get_boolean('unescape_strings');
  this.e4x = this._get_boolean('e4x');
  this.comma_first = this._get_boolean('comma_first');
  this.operator_position = this._get_selection('operator_position', validPositionValues);

  // For testing of beautify preserve:start directive
  this.test_output_raw = this._get_boolean('test_output_raw');

  // force this._options.space_after_anon_function to true if this._options.jslint_happy
  if (this.jslint_happy) {
    this.space_after_anon_function = true;
  }

}
Options.prototype = new BaseOptions();



module.exports.Options = Options;

},{"../core/options":29}],49:[function(require,module,exports){
/*jshint node:true */
/*

  The MIT License (MIT)

  Copyright (c) 2007-2018 Einar Lielmanis, Liam Newman, and contributors.

  Permission is hereby granted, free of charge, to any person
  obtaining a copy of this software and associated documentation files
  (the "Software"), to deal in the Software without restriction,
  including without limitation the rights to use, copy, modify, merge,
  publish, distribute, sublicense, and/or sell copies of the Software,
  and to permit persons to whom the Software is furnished to do so,
  subject to the following conditions:

  The above copyright notice and this permission notice shall be
  included in all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
  NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS
  BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN
  ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
  CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
  SOFTWARE.
*/

'use strict';

var InputScanner = require('../core/inputscanner').InputScanner;
var BaseTokenizer = require('../core/tokenizer').Tokenizer;
var BASETOKEN = require('../core/tokenizer').TOKEN;
var Directives = require('../core/directives').Directives;
var acorn = require('./acorn');
var Pattern = require('../core/pattern').Pattern;
var TemplatablePattern = require('../core/templatablepattern').TemplatablePattern;


function in_array(what, arr) {
  return arr.indexOf(what) !== -1;
}


var TOKEN = {
  START_EXPR: 'TK_START_EXPR',
  END_EXPR: 'TK_END_EXPR',
  START_BLOCK: 'TK_START_BLOCK',
  END_BLOCK: 'TK_END_BLOCK',
  WORD: 'TK_WORD',
  RESERVED: 'TK_RESERVED',
  SEMICOLON: 'TK_SEMICOLON',
  STRING: 'TK_STRING',
  EQUALS: 'TK_EQUALS',
  OPERATOR: 'TK_OPERATOR',
  COMMA: 'TK_COMMA',
  BLOCK_COMMENT: 'TK_BLOCK_COMMENT',
  COMMENT: 'TK_COMMENT',
  DOT: 'TK_DOT',
  UNKNOWN: 'TK_UNKNOWN',
  START: BASETOKEN.START,
  RAW: BASETOKEN.RAW,
  EOF: BASETOKEN.EOF
};


var directives_core = new Directives(/\/\*/, /\*\//);

var number_pattern = /0[xX][0123456789abcdefABCDEF]*|0[oO][01234567]*|0[bB][01]*|\d+n|(?:\.\d+|\d+\.?\d*)(?:[eE][+-]?\d+)?/;

var digit = /[0-9]/;

// Dot "." must be distinguished from "..." and decimal
var dot_pattern = /[^\d\.]/;

var positionable_operators = (
  ">>> === !== " +
  "<< && >= ** != == <= >> || " +
  "< / - + > : & % ? ^ | *").split(' ');

// IMPORTANT: this must be sorted longest to shortest or tokenizing many not work.
// Also, you must update possitionable operators separately from punct
var punct =
  ">>>= " +
  "... >>= <<= === >>> !== **= " +
  "=> ^= :: /= << <= == && -= >= >> != -- += ** || ++ %= &= *= |= " +
  "= ! ? > < : / ^ - + * & % ~ |";

punct = punct.replace(/[-[\]{}()*+?.,\\^$|#]/g, "\\$&");
punct = punct.replace(/ /g, '|');

var punct_pattern = new RegExp(punct);

// words which should always start on new line.
var line_starters = 'continue,try,throw,return,var,let,const,if,switch,case,default,for,while,break,function,import,export'.split(',');
var reserved_words = line_starters.concat(['do', 'in', 'of', 'else', 'get', 'set', 'new', 'catch', 'finally', 'typeof', 'yield', 'async', 'await', 'from', 'as']);
var reserved_word_pattern = new RegExp('^(?:' + reserved_words.join('|') + ')$');

// var template_pattern = /(?:(?:<\?php|<\?=)[\s\S]*?\?>)|(?:<%[\s\S]*?%>)/g;

var in_html_comment;

var Tokenizer = function(input_string, options) {
  BaseTokenizer.call(this, input_string, options);

  this._patterns.whitespace = this._patterns.whitespace.matching(
    /\u00A0\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff/.source,
    /\u2028\u2029/.source);

  var pattern_reader = new Pattern(this._input);
  var templatable = new TemplatablePattern(this._input)
    .read_options(this._options);

  this.__patterns = {
    template: templatable,
    identifier: templatable.starting_with(acorn.identifier).matching(acorn.identifierMatch),
    number: pattern_reader.matching(number_pattern),
    punct: pattern_reader.matching(punct_pattern),
    // comment ends just before nearest linefeed or end of file
    comment: pattern_reader.starting_with(/\/\//).until(/[\n\r\u2028\u2029]/),
    //  /* ... */ comment ends with nearest */ or end of file
    block_comment: pattern_reader.starting_with(/\/\*/).until_after(/\*\//),
    html_comment_start: pattern_reader.matching(/<!--/),
    html_comment_end: pattern_reader.matching(/-->/),
    include: pattern_reader.starting_with(/#include/).until_after(acorn.lineBreak),
    shebang: pattern_reader.starting_with(/#!/).until_after(acorn.lineBreak),
    xml: pattern_reader.matching(/[\s\S]*?<(\/?)([-a-zA-Z:0-9_.]+|{[\s\S]+?}|!\[CDATA\[[\s\S]*?\]\])(\s+{[\s\S]+?}|\s+[-a-zA-Z:0-9_.]+|\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{[\s\S]+?}))*\s*(\/?)\s*>/),
    single_quote: templatable.until(/['\\\n\r\u2028\u2029]/),
    double_quote: templatable.until(/["\\\n\r\u2028\u2029]/),
    template_text: templatable.until(/[`\\$]/),
    template_expression: templatable.until(/[`}\\]/)
  };

};
Tokenizer.prototype = new BaseTokenizer();

Tokenizer.prototype._is_comment = function(current_token) {
  return current_token.type === TOKEN.COMMENT || current_token.type === TOKEN.BLOCK_COMMENT || current_token.type === TOKEN.UNKNOWN;
};

Tokenizer.prototype._is_opening = function(current_token) {
  return current_token.type === TOKEN.START_BLOCK || current_token.type === TOKEN.START_EXPR;
};

Tokenizer.prototype._is_closing = function(current_token, open_token) {
  return (current_token.type === TOKEN.END_BLOCK || current_token.type === TOKEN.END_EXPR) &&
    (open_token && (
      (current_token.text === ']' && open_token.text === '[') ||
      (current_token.text === ')' && open_token.text === '(') ||
      (current_token.text === '}' && open_token.text === '{')));
};

Tokenizer.prototype._reset = function() {
  in_html_comment = false;
};

Tokenizer.prototype._get_next_token = function(previous_token, open_token) { // jshint unused:false
  var token = null;
  this._readWhitespace();
  var c = this._input.peek();

  if (c === null) {
    return this._create_token(TOKEN.EOF, '');
  }

  token = token || this._read_non_javascript(c);
  token = token || this._read_string(c);
  token = token || this._read_word(previous_token);
  token = token || this._read_singles(c);
  token = token || this._read_comment(c);
  token = token || this._read_regexp(c, previous_token);
  token = token || this._read_xml(c, previous_token);
  token = token || this._read_punctuation();
  token = token || this._create_token(TOKEN.UNKNOWN, this._input.next());

  return token;
};

Tokenizer.prototype._read_word = function(previous_token) {
  var resulting_string;
  resulting_string = this.__patterns.identifier.read();
  if (resulting_string !== '') {
    resulting_string = resulting_string.replace(acorn.allLineBreaks, '\n');
    if (!(previous_token.type === TOKEN.DOT ||
        (previous_token.type === TOKEN.RESERVED && (previous_token.text === 'set' || previous_token.text === 'get'))) &&
      reserved_word_pattern.test(resulting_string)) {
      if (resulting_string === 'in' || resulting_string === 'of') { // hack for 'in' and 'of' operators
        return this._create_token(TOKEN.OPERATOR, resulting_string);
      }
      return this._create_token(TOKEN.RESERVED, resulting_string);
    }
    return this._create_token(TOKEN.WORD, resulting_string);
  }

  resulting_string = this.__patterns.number.read();
  if (resulting_string !== '') {
    return this._create_token(TOKEN.WORD, resulting_string);
  }
};

Tokenizer.prototype._read_singles = function(c) {
  var token = null;
  if (c === '(' || c === '[') {
    token = this._create_token(TOKEN.START_EXPR, c);
  } else if (c === ')' || c === ']') {
    token = this._create_token(TOKEN.END_EXPR, c);
  } else if (c === '{') {
    token = this._create_token(TOKEN.START_BLOCK, c);
  } else if (c === '}') {
    token = this._create_token(TOKEN.END_BLOCK, c);
  } else if (c === ';') {
    token = this._create_token(TOKEN.SEMICOLON, c);
  } else if (c === '.' && dot_pattern.test(this._input.peek(1))) {
    token = this._create_token(TOKEN.DOT, c);
  } else if (c === ',') {
    token = this._create_token(TOKEN.COMMA, c);
  }

  if (token) {
    this._input.next();
  }
  return token;
};

Tokenizer.prototype._read_punctuation = function() {
  var resulting_string = this.__patterns.punct.read();

  if (resulting_string !== '') {
    if (resulting_string === '=') {
      return this._create_token(TOKEN.EQUALS, resulting_string);
    } else {
      return this._create_token(TOKEN.OPERATOR, resulting_string);
    }
  }
};

Tokenizer.prototype._read_non_javascript = function(c) {
  var resulting_string = '';

  if (c === '#') {
    if (this._is_first_token()) {
      resulting_string = this.__patterns.shebang.read();

      if (resulting_string) {
        return this._create_token(TOKEN.UNKNOWN, resulting_string.trim() + '\n');
      }
    }

    // handles extendscript #includes
    resulting_string = this.__patterns.include.read();

    if (resulting_string) {
      return this._create_token(TOKEN.UNKNOWN, resulting_string.trim() + '\n');
    }

    c = this._input.next();

    // Spidermonkey-specific sharp variables for circular references. Considered obsolete.
    var sharp = '#';
    if (this._input.hasNext() && this._input.testChar(digit)) {
      do {
        c = this._input.next();
        sharp += c;
      } while (this._input.hasNext() && c !== '#' && c !== '=');
      if (c === '#') {
        //
      } else if (this._input.peek() === '[' && this._input.peek(1) === ']') {
        sharp += '[]';
        this._input.next();
        this._input.next();
      } else if (this._input.peek() === '{' && this._input.peek(1) === '}') {
        sharp += '{}';
        this._input.next();
        this._input.next();
      }
      return this._create_token(TOKEN.WORD, sharp);
    }

    this._input.back();

  } else if (c === '<' && this._is_first_token()) {
    resulting_string = this.__patterns.html_comment_start.read();
    if (resulting_string) {
      while (this._input.hasNext() && !this._input.testChar(acorn.newline)) {
        resulting_string += this._input.next();
      }
      in_html_comment = true;
      return this._create_token(TOKEN.COMMENT, resulting_string);
    }
  } else if (in_html_comment && c === '-') {
    resulting_string = this.__patterns.html_comment_end.read();
    if (resulting_string) {
      in_html_comment = false;
      return this._create_token(TOKEN.COMMENT, resulting_string);
    }
  }

  return null;
};

Tokenizer.prototype._read_comment = function(c) {
  var token = null;
  if (c === '/') {
    var comment = '';
    if (this._input.peek(1) === '*') {
      // peek for comment /* ... */
      comment = this.__patterns.block_comment.read();
      var directives = directives_core.get_directives(comment);
      if (directives && directives.ignore === 'start') {
        comment += directives_core.readIgnored(this._input);
      }
      comment = comment.replace(acorn.allLineBreaks, '\n');
      token = this._create_token(TOKEN.BLOCK_COMMENT, comment);
      token.directives = directives;
    } else if (this._input.peek(1) === '/') {
      // peek for comment // ...
      comment = this.__patterns.comment.read();
      token = this._create_token(TOKEN.COMMENT, comment);
    }
  }
  return token;
};

Tokenizer.prototype._read_string = function(c) {
  if (c === '`' || c === "'" || c === '"') {
    var resulting_string = this._input.next();
    this.has_char_escapes = false;

    if (c === '`') {
      resulting_string += this._read_string_recursive('`', true, '${');
    } else {
      resulting_string += this._read_string_recursive(c);
    }

    if (this.has_char_escapes && this._options.unescape_strings) {
      resulting_string = unescape_string(resulting_string);
    }

    if (this._input.peek() === c) {
      resulting_string += this._input.next();
    }

    resulting_string = resulting_string.replace(acorn.allLineBreaks, '\n');

    return this._create_token(TOKEN.STRING, resulting_string);
  }

  return null;
};

Tokenizer.prototype._allow_regexp_or_xml = function(previous_token) {
  // regex and xml can only appear in specific locations during parsing
  return (previous_token.type === TOKEN.RESERVED && in_array(previous_token.text, ['return', 'case', 'throw', 'else', 'do', 'typeof', 'yield'])) ||
    (previous_token.type === TOKEN.END_EXPR && previous_token.text === ')' &&
      previous_token.opened.previous.type === TOKEN.RESERVED && in_array(previous_token.opened.previous.text, ['if', 'while', 'for'])) ||
    (in_array(previous_token.type, [TOKEN.COMMENT, TOKEN.START_EXPR, TOKEN.START_BLOCK, TOKEN.START,
      TOKEN.END_BLOCK, TOKEN.OPERATOR, TOKEN.EQUALS, TOKEN.EOF, TOKEN.SEMICOLON, TOKEN.COMMA
    ]));
};

Tokenizer.prototype._read_regexp = function(c, previous_token) {

  if (c === '/' && this._allow_regexp_or_xml(previous_token)) {
    // handle regexp
    //
    var resulting_string = this._input.next();
    var esc = false;

    var in_char_class = false;
    while (this._input.hasNext() &&
      ((esc || in_char_class || this._input.peek() !== c) &&
        !this._input.testChar(acorn.newline))) {
      resulting_string += this._input.peek();
      if (!esc) {
        esc = this._input.peek() === '\\';
        if (this._input.peek() === '[') {
          in_char_class = true;
        } else if (this._input.peek() === ']') {
          in_char_class = false;
        }
      } else {
        esc = false;
      }
      this._input.next();
    }

    if (this._input.peek() === c) {
      resulting_string += this._input.next();

      // regexps may have modifiers /regexp/MOD , so fetch those, too
      // Only [gim] are valid, but if the user puts in garbage, do what we can to take it.
      resulting_string += this._input.read(acorn.identifier);
    }
    return this._create_token(TOKEN.STRING, resulting_string);
  }
  return null;
};

Tokenizer.prototype._read_xml = function(c, previous_token) {

  if (this._options.e4x && c === "<" && this._allow_regexp_or_xml(previous_token)) {
    var xmlStr = '';
    var match = this.__patterns.xml.read_match();
    // handle e4x xml literals
    //
    if (match) {
      // Trim root tag to attempt to
      var rootTag = match[2].replace(/^{\s+/, '{').replace(/\s+}$/, '}');
      var isCurlyRoot = rootTag.indexOf('{') === 0;
      var depth = 0;
      while (match) {
        var isEndTag = !!match[1];
        var tagName = match[2];
        var isSingletonTag = (!!match[match.length - 1]) || (tagName.slice(0, 8) === "![CDATA[");
        if (!isSingletonTag &&
          (tagName === rootTag || (isCurlyRoot && tagName.replace(/^{\s+/, '{').replace(/\s+}$/, '}')))) {
          if (isEndTag) {
            --depth;
          } else {
            ++depth;
          }
        }
        xmlStr += match[0];
        if (depth <= 0) {
          break;
        }
        match = this.__patterns.xml.read_match();
      }
      // if we didn't close correctly, keep unformatted.
      if (!match) {
        xmlStr += this._input.match(/[\s\S]*/g)[0];
      }
      xmlStr = xmlStr.replace(acorn.allLineBreaks, '\n');
      return this._create_token(TOKEN.STRING, xmlStr);
    }
  }

  return null;
};

function unescape_string(s) {
  // You think that a regex would work for this
  // return s.replace(/\\x([0-9a-f]{2})/gi, function(match, val) {
  //         return String.fromCharCode(parseInt(val, 16));
  //     })
  // However, dealing with '\xff', '\\xff', '\\\xff' makes this more fun.
  var out = '',
    escaped = 0;

  var input_scan = new InputScanner(s);
  var matched = null;

  while (input_scan.hasNext()) {
    // Keep any whitespace, non-slash characters
    // also keep slash pairs.
    matched = input_scan.match(/([\s]|[^\\]|\\\\)+/g);

    if (matched) {
      out += matched[0];
    }

    if (input_scan.peek() === '\\') {
      input_scan.next();
      if (input_scan.peek() === 'x') {
        matched = input_scan.match(/x([0-9A-Fa-f]{2})/g);
      } else if (input_scan.peek() === 'u') {
        matched = input_scan.match(/u([0-9A-Fa-f]{4})/g);
      } else {
        out += '\\';
        if (input_scan.hasNext()) {
          out += input_scan.next();
        }
        continue;
      }

      // If there's some error decoding, return the original string
      if (!matched) {
        return s;
      }

      escaped = parseInt(matched[1], 16);

      if (escaped > 0x7e && escaped <= 0xff && matched[0].indexOf('x') === 0) {
        // we bail out on \x7f..\xff,
        // leaving whole string escaped,
        // as it's probably completely binary
        return s;
      } else if (escaped >= 0x00 && escaped < 0x20) {
        // leave 0x00...0x1f escaped
        out += '\\' + matched[0];
        continue;
      } else if (escaped === 0x22 || escaped === 0x27 || escaped === 0x5c) {
        // single-quote, apostrophe, backslash - escape these
        out += '\\' + String.fromCharCode(escaped);
      } else {
        out += String.fromCharCode(escaped);
      }
    }
  }

  return out;
}

// handle string
//
Tokenizer.prototype._read_string_recursive = function(delimiter, allow_unescaped_newlines, start_sub) {
  var current_char;
  var pattern;
  if (delimiter === '\'') {
    pattern = this.__patterns.single_quote;
  } else if (delimiter === '"') {
    pattern = this.__patterns.double_quote;
  } else if (delimiter === '`') {
    pattern = this.__patterns.template_text;
  } else if (delimiter === '}') {
    pattern = this.__patterns.template_expression;
  }

  var resulting_string = pattern.read();
  var next = '';
  while (this._input.hasNext()) {
    next = this._input.next();
    if (next === delimiter ||
      (!allow_unescaped_newlines && acorn.newline.test(next))) {
      this._input.back();
      break;
    } else if (next === '\\' && this._input.hasNext()) {
      current_char = this._input.peek();

      if (current_char === 'x' || current_char === 'u') {
        this.has_char_escapes = true;
      } else if (current_char === '\r' && this._input.peek(1) === '\n') {
        this._input.next();
      }
      next += this._input.next();
    } else if (start_sub) {
      if (start_sub === '${' && next === '$' && this._input.peek() === '{') {
        next += this._input.next();
      }

      if (start_sub === next) {
        if (delimiter === '`') {
          next += this._read_string_recursive('}', allow_unescaped_newlines, '`');
        } else {
          next += this._read_string_recursive('`', allow_unescaped_newlines, '${');
        }
        if (this._input.hasNext()) {
          next += this._input.next();
        }
      }
    }
    next += pattern.read();
    resulting_string += next;
  }

  return resulting_string;
};

module.exports.Tokenizer = Tokenizer;
module.exports.TOKEN = TOKEN;
module.exports.positionable_operators = positionable_operators.slice();
module.exports.line_starters = line_starters.slice();

},{"../core/directives":27,"../core/inputscanner":28,"../core/pattern":31,"../core/templatablepattern":32,"../core/tokenizer":34,"./acorn":45}],50:[function(require,module,exports){
(function (process){
// .dirname, .basename, and .extname methods are extracted from Node.js v8.11.1,
// backported and transplited with Babel, with backwards-compat fixes

// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.

// resolves . and .. elements in a path array with directory names there
// must be no slashes, empty elements, or device names (c:\) in the array
// (so also no leading and trailing slashes - it does not distinguish
// relative and absolute paths)
function normalizeArray(parts, allowAboveRoot) {
  // if the path tries to go above the root, `up` ends up > 0
  var up = 0;
  for (var i = parts.length - 1; i >= 0; i--) {
    var last = parts[i];
    if (last === '.') {
      parts.splice(i, 1);
    } else if (last === '..') {
      parts.splice(i, 1);
      up++;
    } else if (up) {
      parts.splice(i, 1);
      up--;
    }
  }

  // if the path is allowed to go above the root, restore leading ..s
  if (allowAboveRoot) {
    for (; up--; up) {
      parts.unshift('..');
    }
  }

  return parts;
}

// path.resolve([from ...], to)
// posix version
exports.resolve = function() {
  var resolvedPath = '',
      resolvedAbsolute = false;

  for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {
    var path = (i >= 0) ? arguments[i] : process.cwd();

    // Skip empty and invalid entries
    if (typeof path !== 'string') {
      throw new TypeError('Arguments to path.resolve must be strings');
    } else if (!path) {
      continue;
    }

    resolvedPath = path + '/' + resolvedPath;
    resolvedAbsolute = path.charAt(0) === '/';
  }

  // At this point the path should be resolved to a full absolute path, but
  // handle relative paths to be safe (might happen when process.cwd() fails)

  // Normalize the path
  resolvedPath = normalizeArray(filter(resolvedPath.split('/'), function(p) {
    return !!p;
  }), !resolvedAbsolute).join('/');

  return ((resolvedAbsolute ? '/' : '') + resolvedPath) || '.';
};

// path.normalize(path)
// posix version
exports.normalize = function(path) {
  var isAbsolute = exports.isAbsolute(path),
      trailingSlash = substr(path, -1) === '/';

  // Normalize the path
  path = normalizeArray(filter(path.split('/'), function(p) {
    return !!p;
  }), !isAbsolute).join('/');

  if (!path && !isAbsolute) {
    path = '.';
  }
  if (path && trailingSlash) {
    path += '/';
  }

  return (isAbsolute ? '/' : '') + path;
};

// posix version
exports.isAbsolute = function(path) {
  return path.charAt(0) === '/';
};

// posix version
exports.join = function() {
  var paths = Array.prototype.slice.call(arguments, 0);
  return exports.normalize(filter(paths, function(p, index) {
    if (typeof p !== 'string') {
      throw new TypeError('Arguments to path.join must be strings');
    }
    return p;
  }).join('/'));
};


// path.relative(from, to)
// posix version
exports.relative = function(from, to) {
  from = exports.resolve(from).substr(1);
  to = exports.resolve(to).substr(1);

  function trim(arr) {
    var start = 0;
    for (; start < arr.length; start++) {
      if (arr[start] !== '') break;
    }

    var end = arr.length - 1;
    for (; end >= 0; end--) {
      if (arr[end] !== '') break;
    }

    if (start > end) return [];
    return arr.slice(start, end - start + 1);
  }

  var fromParts = trim(from.split('/'));
  var toParts = trim(to.split('/'));

  var length = Math.min(fromParts.length, toParts.length);
  var samePartsLength = length;
  for (var i = 0; i < length; i++) {
    if (fromParts[i] !== toParts[i]) {
      samePartsLength = i;
      break;
    }
  }

  var outputParts = [];
  for (var i = samePartsLength; i < fromParts.length; i++) {
    outputParts.push('..');
  }

  outputParts = outputParts.concat(toParts.slice(samePartsLength));

  return outputParts.join('/');
};

exports.sep = '/';
exports.delimiter = ':';

exports.dirname = function (path) {
  if (typeof path !== 'string') path = path + '';
  if (path.length === 0) return '.';
  var code = path.charCodeAt(0);
  var hasRoot = code === 47 /*/*/;
  var end = -1;
  var matchedSlash = true;
  for (var i = path.length - 1; i >= 1; --i) {
    code = path.charCodeAt(i);
    if (code === 47 /*/*/) {
        if (!matchedSlash) {
          end = i;
          break;
        }
      } else {
      // We saw the first non-path separator
      matchedSlash = false;
    }
  }

  if (end === -1) return hasRoot ? '/' : '.';
  if (hasRoot && end === 1) {
    // return '//';
    // Backwards-compat fix:
    return '/';
  }
  return path.slice(0, end);
};

function basename(path) {
  if (typeof path !== 'string') path = path + '';

  var start = 0;
  var end = -1;
  var matchedSlash = true;
  var i;

  for (i = path.length - 1; i >= 0; --i) {
    if (path.charCodeAt(i) === 47 /*/*/) {
        // If we reached a path separator that was not part of a set of path
        // separators at the end of the string, stop now
        if (!matchedSlash) {
          start = i + 1;
          break;
        }
      } else if (end === -1) {
      // We saw the first non-path separator, mark this as the end of our
      // path component
      matchedSlash = false;
      end = i + 1;
    }
  }

  if (end === -1) return '';
  return path.slice(start, end);
}

// Uses a mixed approach for backwards-compatibility, as ext behavior changed
// in new Node.js versions, so only basename() above is backported here
exports.basename = function (path, ext) {
  var f = basename(path);
  if (ext && f.substr(-1 * ext.length) === ext) {
    f = f.substr(0, f.length - ext.length);
  }
  return f;
};

exports.extname = function (path) {
  if (typeof path !== 'string') path = path + '';
  var startDot = -1;
  var startPart = 0;
  var end = -1;
  var matchedSlash = true;
  // Track the state of characters (if any) we see before our first dot and
  // after any path separator we find
  var preDotState = 0;
  for (var i = path.length - 1; i >= 0; --i) {
    var code = path.charCodeAt(i);
    if (code === 47 /*/*/) {
        // If we reached a path separator that was not part of a set of path
        // separators at the end of the string, stop now
        if (!matchedSlash) {
          startPart = i + 1;
          break;
        }
        continue;
      }
    if (end === -1) {
      // We saw the first non-path separator, mark this as the end of our
      // extension
      matchedSlash = false;
      end = i + 1;
    }
    if (code === 46 /*.*/) {
        // If this is our first dot, mark it as the start of our extension
        if (startDot === -1)
          startDot = i;
        else if (preDotState !== 1)
          preDotState = 1;
    } else if (startDot !== -1) {
      // We saw a non-dot and non-path separator before our dot, so we should
      // have a good chance at having a non-empty extension
      preDotState = -1;
    }
  }

  if (startDot === -1 || end === -1 ||
      // We saw a non-dot character immediately before the dot
      preDotState === 0 ||
      // The (right-most) trimmed path component is exactly '..'
      preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {
    return '';
  }
  return path.slice(startDot, end);
};

function filter (xs, f) {
    if (xs.filter) return xs.filter(f);
    var res = [];
    for (var i = 0; i < xs.length; i++) {
        if (f(xs[i], i, xs)) res.push(xs[i]);
    }
    return res;
}

// String.prototype.substr - negative index don't work in IE8
var substr = 'ab'.substr(-1) === 'b'
    ? function (str, start, len) { return str.substr(start, len) }
    : function (str, start, len) {
        if (start < 0) start = str.length + start;
        return str.substr(start, len);
    }
;

}).call(this,require('_process'))

},{"_process":51}],51:[function(require,module,exports){
// shim for using process in browser
var process = module.exports = {};

// cached from whatever global is present so that test runners that stub it
// don't break things.  But we need to wrap it in a try catch in case it is
// wrapped in strict mode code which doesn't define any globals.  It's inside a
// function because try/catches deoptimize in certain engines.

var cachedSetTimeout;
var cachedClearTimeout;

function defaultSetTimout() {
    throw new Error('setTimeout has not been defined');
}
function defaultClearTimeout () {
    throw new Error('clearTimeout has not been defined');
}
(function () {
    try {
        if (typeof setTimeout === 'function') {
            cachedSetTimeout = setTimeout;
        } else {
            cachedSetTimeout = defaultSetTimout;
        }
    } catch (e) {
        cachedSetTimeout = defaultSetTimout;
    }
    try {
        if (typeof clearTimeout === 'function') {
            cachedClearTimeout = clearTimeout;
        } else {
            cachedClearTimeout = defaultClearTimeout;
        }
    } catch (e) {
        cachedClearTimeout = defaultClearTimeout;
    }
} ())
function runTimeout(fun) {
    if (cachedSetTimeout === setTimeout) {
        //normal enviroments in sane situations
        return setTimeout(fun, 0);
    }
    // if setTimeout wasn't available but was latter defined
    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {
        cachedSetTimeout = setTimeout;
        return setTimeout(fun, 0);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedSetTimeout(fun, 0);
    } catch(e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally
            return cachedSetTimeout.call(null, fun, 0);
        } catch(e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error
            return cachedSetTimeout.call(this, fun, 0);
        }
    }


}
function runClearTimeout(marker) {
    if (cachedClearTimeout === clearTimeout) {
        //normal enviroments in sane situations
        return clearTimeout(marker);
    }
    // if clearTimeout wasn't available but was latter defined
    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {
        cachedClearTimeout = clearTimeout;
        return clearTimeout(marker);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedClearTimeout(marker);
    } catch (e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally
            return cachedClearTimeout.call(null, marker);
        } catch (e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.
            // Some versions of I.E. have different rules for clearTimeout vs setTimeout
            return cachedClearTimeout.call(this, marker);
        }
    }



}
var queue = [];
var draining = false;
var currentQueue;
var queueIndex = -1;

function cleanUpNextTick() {
    if (!draining || !currentQueue) {
        return;
    }
    draining = false;
    if (currentQueue.length) {
        queue = currentQueue.concat(queue);
    } else {
        queueIndex = -1;
    }
    if (queue.length) {
        drainQueue();
    }
}

function drainQueue() {
    if (draining) {
        return;
    }
    var timeout = runTimeout(cleanUpNextTick);
    draining = true;

    var len = queue.length;
    while(len) {
        currentQueue = queue;
        queue = [];
        while (++queueIndex < len) {
            if (currentQueue) {
                currentQueue[queueIndex].run();
            }
        }
        queueIndex = -1;
        len = queue.length;
    }
    currentQueue = null;
    draining = false;
    runClearTimeout(timeout);
}

process.nextTick = function (fun) {
    var args = new Array(arguments.length - 1);
    if (arguments.length > 1) {
        for (var i = 1; i < arguments.length; i++) {
            args[i - 1] = arguments[i];
        }
    }
    queue.push(new Item(fun, args));
    if (queue.length === 1 && !draining) {
        runTimeout(drainQueue);
    }
};

// v8 likes predictible objects
function Item(fun, array) {
    this.fun = fun;
    this.array = array;
}
Item.prototype.run = function () {
    this.fun.apply(null, this.array);
};
process.title = 'browser';
process.browser = true;
process.env = {};
process.argv = [];
process.version = ''; // empty string to avoid regexp issues
process.versions = {};

function noop() {}

process.on = noop;
process.addListener = noop;
process.once = noop;
process.off = noop;
process.removeListener = noop;
process.removeAllListeners = noop;
process.emit = noop;
process.prependListener = noop;
process.prependOnceListener = noop;

process.listeners = function (name) { return [] }

process.binding = function (name) {
    throw new Error('process.binding is not supported');
};

process.cwd = function () { return '/' };
process.chdir = function (dir) {
    throw new Error('process.chdir is not supported');
};
process.umask = function() { return 0; };

},{}],52:[function(require,module,exports){
arguments[4][6][0].apply(exports,arguments)
},{"./util":61,"dup":6}],53:[function(require,module,exports){
arguments[4][7][0].apply(exports,arguments)
},{"./base64":54,"dup":7}],54:[function(require,module,exports){
arguments[4][8][0].apply(exports,arguments)
},{"dup":8}],55:[function(require,module,exports){
arguments[4][9][0].apply(exports,arguments)
},{"dup":9}],56:[function(require,module,exports){
arguments[4][10][0].apply(exports,arguments)
},{"./util":61,"dup":10}],57:[function(require,module,exports){
arguments[4][11][0].apply(exports,arguments)
},{"dup":11}],58:[function(require,module,exports){
arguments[4][12][0].apply(exports,arguments)
},{"./array-set":52,"./base64-vlq":53,"./binary-search":55,"./quick-sort":57,"./util":61,"dup":12}],59:[function(require,module,exports){
arguments[4][13][0].apply(exports,arguments)
},{"./array-set":52,"./base64-vlq":53,"./mapping-list":56,"./util":61,"dup":13}],60:[function(require,module,exports){
arguments[4][14][0].apply(exports,arguments)
},{"./source-map-generator":59,"./util":61,"dup":14}],61:[function(require,module,exports){
arguments[4][15][0].apply(exports,arguments)
},{"dup":15}],62:[function(require,module,exports){
arguments[4][16][0].apply(exports,arguments)
},{"./lib/source-map-consumer":58,"./lib/source-map-generator":59,"./lib/source-node":60,"dup":16}],63:[function(require,module,exports){
(function (process){
var SourceMapConsumer = require('source-map').SourceMapConsumer;
var path = require('path');

var fs;
try {
  fs = require('fs');
  if (!fs.existsSync || !fs.readFileSync) {
    // fs doesn't have all methods we need
    fs = null;
  }
} catch (err) {
  /* nop */
}

var bufferFrom = require('buffer-from');

// Only install once if called multiple times
var errorFormatterInstalled = false;
var uncaughtShimInstalled = false;

// If true, the caches are reset before a stack trace formatting operation
var emptyCacheBetweenOperations = false;

// Supports {browser, node, auto}
var environment = "auto";

// Maps a file path to a string containing the file contents
var fileContentsCache = {};

// Maps a file path to a source map for that file
var sourceMapCache = {};

// Regex for detecting source maps
var reSourceMap = /^data:application\/json[^,]+base64,/;

// Priority list of retrieve handlers
var retrieveFileHandlers = [];
var retrieveMapHandlers = [];

function isInBrowser() {
  if (environment === "browser")
    return true;
  if (environment === "node")
    return false;
  return ((typeof window !== 'undefined') && (typeof XMLHttpRequest === 'function') && !(window.require && window.module && window.process && window.process.type === "renderer"));
}

function hasGlobalProcessEventEmitter() {
  return ((typeof process === 'object') && (process !== null) && (typeof process.on === 'function'));
}

function handlerExec(list) {
  return function(arg) {
    for (var i = 0; i < list.length; i++) {
      var ret = list[i](arg);
      if (ret) {
        return ret;
      }
    }
    return null;
  };
}

var retrieveFile = handlerExec(retrieveFileHandlers);

retrieveFileHandlers.push(function(path) {
  // Trim the path to make sure there is no extra whitespace.
  path = path.trim();
  if (/^file:/.test(path)) {
    // existsSync/readFileSync can't handle file protocol, but once stripped, it works
    path = path.replace(/file:\/\/\/(\w:)?/, function(protocol, drive) {
      return drive ?
        '' : // file:///C:/dir/file -> C:/dir/file
        '/'; // file:///root-dir/file -> /root-dir/file
    });
  }
  if (path in fileContentsCache) {
    return fileContentsCache[path];
  }

  var contents = '';
  try {
    if (!fs) {
      // Use SJAX if we are in the browser
      var xhr = new XMLHttpRequest();
      xhr.open('GET', path, /** async */ false);
      xhr.send(null);
      if (xhr.readyState === 4 && xhr.status === 200) {
        contents = xhr.responseText;
      }
    } else if (fs.existsSync(path)) {
      // Otherwise, use the filesystem
      contents = fs.readFileSync(path, 'utf8');
    }
  } catch (er) {
    /* ignore any errors */
  }

  return fileContentsCache[path] = contents;
});

// Support URLs relative to a directory, but be careful about a protocol prefix
// in case we are in the browser (i.e. directories may start with "http://" or "file:///")
function supportRelativeURL(file, url) {
  if (!file) return url;
  var dir = path.dirname(file);
  var match = /^\w+:\/\/[^\/]*/.exec(dir);
  var protocol = match ? match[0] : '';
  var startPath = dir.slice(protocol.length);
  if (protocol && /^\/\w\:/.test(startPath)) {
    // handle file:///C:/ paths
    protocol += '/';
    return protocol + path.resolve(dir.slice(protocol.length), url).replace(/\\/g, '/');
  }
  return protocol + path.resolve(dir.slice(protocol.length), url);
}

function retrieveSourceMapURL(source) {
  var fileData;

  if (isInBrowser()) {
     try {
       var xhr = new XMLHttpRequest();
       xhr.open('GET', source, false);
       xhr.send(null);
       fileData = xhr.readyState === 4 ? xhr.responseText : null;

       // Support providing a sourceMappingURL via the SourceMap header
       var sourceMapHeader = xhr.getResponseHeader("SourceMap") ||
                             xhr.getResponseHeader("X-SourceMap");
       if (sourceMapHeader) {
         return sourceMapHeader;
       }
     } catch (e) {
     }
  }

  // Get the URL of the source map
  fileData = retrieveFile(source);
  var re = /(?:\/\/[@#][\s]*sourceMappingURL=([^\s'"]+)[\s]*$)|(?:\/\*[@#][\s]*sourceMappingURL=([^\s*'"]+)[\s]*(?:\*\/)[\s]*$)/mg;
  // Keep executing the search to find the *last* sourceMappingURL to avoid
  // picking up sourceMappingURLs from comments, strings, etc.
  var lastMatch, match;
  while (match = re.exec(fileData)) lastMatch = match;
  if (!lastMatch) return null;
  return lastMatch[1];
};

// Can be overridden by the retrieveSourceMap option to install. Takes a
// generated source filename; returns a {map, optional url} object, or null if
// there is no source map.  The map field may be either a string or the parsed
// JSON object (ie, it must be a valid argument to the SourceMapConsumer
// constructor).
var retrieveSourceMap = handlerExec(retrieveMapHandlers);
retrieveMapHandlers.push(function(source) {
  var sourceMappingURL = retrieveSourceMapURL(source);
  if (!sourceMappingURL) return null;

  // Read the contents of the source map
  var sourceMapData;
  if (reSourceMap.test(sourceMappingURL)) {
    // Support source map URL as a data url
    var rawData = sourceMappingURL.slice(sourceMappingURL.indexOf(',') + 1);
    sourceMapData = bufferFrom(rawData, "base64").toString();
    sourceMappingURL = source;
  } else {
    // Support source map URLs relative to the source URL
    sourceMappingURL = supportRelativeURL(source, sourceMappingURL);
    sourceMapData = retrieveFile(sourceMappingURL);
  }

  if (!sourceMapData) {
    return null;
  }

  return {
    url: sourceMappingURL,
    map: sourceMapData
  };
});

function mapSourcePosition(position) {
  var sourceMap = sourceMapCache[position.source];
  if (!sourceMap) {
    // Call the (overrideable) retrieveSourceMap function to get the source map.
    var urlAndMap = retrieveSourceMap(position.source);
    if (urlAndMap) {
      sourceMap = sourceMapCache[position.source] = {
        url: urlAndMap.url,
        map: new SourceMapConsumer(urlAndMap.map)
      };

      // Load all sources stored inline with the source map into the file cache
      // to pretend like they are already loaded. They may not exist on disk.
      if (sourceMap.map.sourcesContent) {
        sourceMap.map.sources.forEach(function(source, i) {
          var contents = sourceMap.map.sourcesContent[i];
          if (contents) {
            var url = supportRelativeURL(sourceMap.url, source);
            fileContentsCache[url] = contents;
          }
        });
      }
    } else {
      sourceMap = sourceMapCache[position.source] = {
        url: null,
        map: null
      };
    }
  }

  // Resolve the source URL relative to the URL of the source map
  if (sourceMap && sourceMap.map && typeof sourceMap.map.originalPositionFor === 'function') {
    var originalPosition = sourceMap.map.originalPositionFor(position);

    // Only return the original position if a matching line was found. If no
    // matching line is found then we return position instead, which will cause
    // the stack trace to print the path and line for the compiled file. It is
    // better to give a precise location in the compiled file than a vague
    // location in the original file.
    if (originalPosition.source !== null) {
      originalPosition.source = supportRelativeURL(
        sourceMap.url, originalPosition.source);
      return originalPosition;
    }
  }

  return position;
}

// Parses code generated by FormatEvalOrigin(), a function inside V8:
// https://code.google.com/p/v8/source/browse/trunk/src/messages.js
function mapEvalOrigin(origin) {
  // Most eval() calls are in this format
  var match = /^eval at ([^(]+) \((.+):(\d+):(\d+)\)$/.exec(origin);
  if (match) {
    var position = mapSourcePosition({
      source: match[2],
      line: +match[3],
      column: match[4] - 1
    });
    return 'eval at ' + match[1] + ' (' + position.source + ':' +
      position.line + ':' + (position.column + 1) + ')';
  }

  // Parse nested eval() calls using recursion
  match = /^eval at ([^(]+) \((.+)\)$/.exec(origin);
  if (match) {
    return 'eval at ' + match[1] + ' (' + mapEvalOrigin(match[2]) + ')';
  }

  // Make sure we still return useful information if we didn't find anything
  return origin;
}

// This is copied almost verbatim from the V8 source code at
// https://code.google.com/p/v8/source/browse/trunk/src/messages.js. The
// implementation of wrapCallSite() used to just forward to the actual source
// code of CallSite.prototype.toString but unfortunately a new release of V8
// did something to the prototype chain and broke the shim. The only fix I
// could find was copy/paste.
function CallSiteToString() {
  var fileName;
  var fileLocation = "";
  if (this.isNative()) {
    fileLocation = "native";
  } else {
    fileName = this.getScriptNameOrSourceURL();
    if (!fileName && this.isEval()) {
      fileLocation = this.getEvalOrigin();
      fileLocation += ", ";  // Expecting source position to follow.
    }

    if (fileName) {
      fileLocation += fileName;
    } else {
      // Source code does not originate from a file and is not native, but we
      // can still get the source position inside the source string, e.g. in
      // an eval string.
      fileLocation += "<anonymous>";
    }
    var lineNumber = this.getLineNumber();
    if (lineNumber != null) {
      fileLocation += ":" + lineNumber;
      var columnNumber = this.getColumnNumber();
      if (columnNumber) {
        fileLocation += ":" + columnNumber;
      }
    }
  }

  var line = "";
  var functionName = this.getFunctionName();
  var addSuffix = true;
  var isConstructor = this.isConstructor();
  var isMethodCall = !(this.isToplevel() || isConstructor);
  if (isMethodCall) {
    var typeName = this.getTypeName();
    // Fixes shim to be backward compatable with Node v0 to v4
    if (typeName === "[object Object]") {
      typeName = "null";
    }
    var methodName = this.getMethodName();
    if (functionName) {
      if (typeName && functionName.indexOf(typeName) != 0) {
        line += typeName + ".";
      }
      line += functionName;
      if (methodName && functionName.indexOf("." + methodName) != functionName.length - methodName.length - 1) {
        line += " [as " + methodName + "]";
      }
    } else {
      line += typeName + "." + (methodName || "<anonymous>");
    }
  } else if (isConstructor) {
    line += "new " + (functionName || "<anonymous>");
  } else if (functionName) {
    line += functionName;
  } else {
    line += fileLocation;
    addSuffix = false;
  }
  if (addSuffix) {
    line += " (" + fileLocation + ")";
  }
  return line;
}

function cloneCallSite(frame) {
  var object = {};
  Object.getOwnPropertyNames(Object.getPrototypeOf(frame)).forEach(function(name) {
    object[name] = /^(?:is|get)/.test(name) ? function() { return frame[name].call(frame); } : frame[name];
  });
  object.toString = CallSiteToString;
  return object;
}

function wrapCallSite(frame, state) {
  // provides interface backward compatibility
  if (state === undefined) {
    state = { nextPosition: null, curPosition: null }
  }
  if(frame.isNative()) {
    state.curPosition = null;
    return frame;
  }

  // Most call sites will return the source file from getFileName(), but code
  // passed to eval() ending in "//# sourceURL=..." will return the source file
  // from getScriptNameOrSourceURL() instead
  var source = frame.getFileName() || frame.getScriptNameOrSourceURL();
  if (source) {
    var line = frame.getLineNumber();
    var column = frame.getColumnNumber() - 1;

    // Fix position in Node where some (internal) code is prepended.
    // See https://github.com/evanw/node-source-map-support/issues/36
    // Header removed in node at ^10.16 || >=11.11.0
    // v11 is not an LTS candidate, we can just test the one version with it.
    // Test node versions for: 10.16-19, 10.20+, 12-19, 20-99, 100+, or 11.11
    var noHeader = /^v(10\.1[6-9]|10\.[2-9][0-9]|10\.[0-9]{3,}|1[2-9]\d*|[2-9]\d|\d{3,}|11\.11)/;
    var headerLength = noHeader.test(process.version) ? 0 : 62;
    if (line === 1 && column > headerLength && !isInBrowser() && !frame.isEval()) {
      column -= headerLength;
    }

    var position = mapSourcePosition({
      source: source,
      line: line,
      column: column
    });
    state.curPosition = position;
    frame = cloneCallSite(frame);
    var originalFunctionName = frame.getFunctionName;
    frame.getFunctionName = function() {
      if (state.nextPosition == null) {
        return originalFunctionName();
      }
      return state.nextPosition.name || originalFunctionName();
    };
    frame.getFileName = function() { return position.source; };
    frame.getLineNumber = function() { return position.line; };
    frame.getColumnNumber = function() { return position.column + 1; };
    frame.getScriptNameOrSourceURL = function() { return position.source; };
    return frame;
  }

  // Code called using eval() needs special handling
  var origin = frame.isEval() && frame.getEvalOrigin();
  if (origin) {
    origin = mapEvalOrigin(origin);
    frame = cloneCallSite(frame);
    frame.getEvalOrigin = function() { return origin; };
    return frame;
  }

  // If we get here then we were unable to change the source position
  return frame;
}

// This function is part of the V8 stack trace API, for more info see:
// https://v8.dev/docs/stack-trace-api
function prepareStackTrace(error, stack) {
  if (emptyCacheBetweenOperations) {
    fileContentsCache = {};
    sourceMapCache = {};
  }

  var name = error.name || 'Error';
  var message = error.message || '';
  var errorString = name + ": " + message;

  var state = { nextPosition: null, curPosition: null };
  var processedStack = [];
  for (var i = stack.length - 1; i >= 0; i--) {
    processedStack.push('\n    at ' + wrapCallSite(stack[i], state));
    state.nextPosition = state.curPosition;
  }
  state.curPosition = state.nextPosition = null;
  return errorString + processedStack.reverse().join('');
}

// Generate position and snippet of original source with pointer
function getErrorSource(error) {
  var match = /\n    at [^(]+ \((.*):(\d+):(\d+)\)/.exec(error.stack);
  if (match) {
    var source = match[1];
    var line = +match[2];
    var column = +match[3];

    // Support the inline sourceContents inside the source map
    var contents = fileContentsCache[source];

    // Support files on disk
    if (!contents && fs && fs.existsSync(source)) {
      try {
        contents = fs.readFileSync(source, 'utf8');
      } catch (er) {
        contents = '';
      }
    }

    // Format the line from the original source code like node does
    if (contents) {
      var code = contents.split(/(?:\r\n|\r|\n)/)[line - 1];
      if (code) {
        return source + ':' + line + '\n' + code + '\n' +
          new Array(column).join(' ') + '^';
      }
    }
  }
  return null;
}

function printErrorAndExit (error) {
  var source = getErrorSource(error);

  // Ensure error is printed synchronously and not truncated
  if (process.stderr._handle && process.stderr._handle.setBlocking) {
    process.stderr._handle.setBlocking(true);
  }

  if (source) {
    console.error();
    console.error(source);
  }

  console.error(error.stack);
  process.exit(1);
}

function shimEmitUncaughtException () {
  var origEmit = process.emit;

  process.emit = function (type) {
    if (type === 'uncaughtException') {
      var hasStack = (arguments[1] && arguments[1].stack);
      var hasListeners = (this.listeners(type).length > 0);

      if (hasStack && !hasListeners) {
        return printErrorAndExit(arguments[1]);
      }
    }

    return origEmit.apply(this, arguments);
  };
}

var originalRetrieveFileHandlers = retrieveFileHandlers.slice(0);
var originalRetrieveMapHandlers = retrieveMapHandlers.slice(0);

exports.wrapCallSite = wrapCallSite;
exports.getErrorSource = getErrorSource;
exports.mapSourcePosition = mapSourcePosition;
exports.retrieveSourceMap = retrieveSourceMap;

exports.install = function(options) {
  options = options || {};

  if (options.environment) {
    environment = options.environment;
    if (["node", "browser", "auto"].indexOf(environment) === -1) {
      throw new Error("environment " + environment + " was unknown. Available options are {auto, browser, node}")
    }
  }

  // Allow sources to be found by methods other than reading the files
  // directly from disk.
  if (options.retrieveFile) {
    if (options.overrideRetrieveFile) {
      retrieveFileHandlers.length = 0;
    }

    retrieveFileHandlers.unshift(options.retrieveFile);
  }

  // Allow source maps to be found by methods other than reading the files
  // directly from disk.
  if (options.retrieveSourceMap) {
    if (options.overrideRetrieveSourceMap) {
      retrieveMapHandlers.length = 0;
    }

    retrieveMapHandlers.unshift(options.retrieveSourceMap);
  }

  // Support runtime transpilers that include inline source maps
  if (options.hookRequire && !isInBrowser()) {
    var Module;
    try {
      Module = require('module');
    } catch (err) {
      // NOP: Loading in catch block to convert webpack error to warning.
    }
    var $compile = Module.prototype._compile;

    if (!$compile.__sourceMapSupport) {
      Module.prototype._compile = function(content, filename) {
        fileContentsCache[filename] = content;
        sourceMapCache[filename] = undefined;
        return $compile.call(this, content, filename);
      };

      Module.prototype._compile.__sourceMapSupport = true;
    }
  }

  // Configure options
  if (!emptyCacheBetweenOperations) {
    emptyCacheBetweenOperations = 'emptyCacheBetweenOperations' in options ?
      options.emptyCacheBetweenOperations : false;
  }

  // Install the error reformatter
  if (!errorFormatterInstalled) {
    errorFormatterInstalled = true;
    Error.prepareStackTrace = prepareStackTrace;
  }

  if (!uncaughtShimInstalled) {
    var installHandler = 'handleUncaughtExceptions' in options ?
      options.handleUncaughtExceptions : true;

    // Provide the option to not install the uncaught exception handler. This is
    // to support other uncaught exception handlers (in test frameworks, for
    // example). If this handler is not installed and there are no other uncaught
    // exception handlers, uncaught exceptions will be caught by node's built-in
    // exception handler and the process will still be terminated. However, the
    // generated JavaScript code will be shown above the stack trace instead of
    // the original source code.
    if (installHandler && hasGlobalProcessEventEmitter()) {
      uncaughtShimInstalled = true;
      shimEmitUncaughtException();
    }
  }
};

exports.resetRetrieveHandlers = function() {
  retrieveFileHandlers.length = 0;
  retrieveMapHandlers.length = 0;

  retrieveFileHandlers = originalRetrieveFileHandlers.slice(0);
  retrieveMapHandlers = originalRetrieveMapHandlers.slice(0);

  retrieveSourceMap = handlerExec(retrieveMapHandlers);
  retrieveFile = handlerExec(retrieveFileHandlers);
}

}).call(this,require('_process'))

},{"_process":51,"buffer-from":3,"fs":2,"module":2,"path":50,"source-map":62}],64:[function(require,module,exports){
Object.defineProperty(exports, "__esModule", { value: true });
var Label_1 = require("./Label");
var Value_1 = require("./Value");
exports.index = new Value_1.Value('index', Label_1.bot);
exports.input = new Value_1.Value('input', Label_1.bot);
exports.value = new Value_1.Value('value', Label_1.bot);
exports.writable = new Value_1.Value('writable', Label_1.bot);
exports.enumerable = new Value_1.Value('enumerable', Label_1.bot);
exports.configurable = new Value_1.Value('configurable', Label_1.bot);
exports.get = new Value_1.Value('get', Label_1.bot);
exports.set = new Value_1.Value('set', Label_1.bot);
exports.print = new Value_1.Value('print', Label_1.bot);
exports.console = new Value_1.Value('console', Label_1.bot);
exports.alert = new Value_1.Value('alert', Label_1.bot);
exports.prototype = new Value_1.Value('prototype', Label_1.bot);
exports.constructor = new Value_1.Value('constructor', Label_1.bot);
exports.length = new Value_1.Value('length', Label_1.bot);
//@ts-ignore TYPES
exports.arguments = new Value_1.Value('arguments', Label_1.bot);
exports.upg = new Value_1.Value('upg', Label_1.bot);
exports.upgv = new Value_1.Value('upgv', Label_1.bot);
exports.upgf = new Value_1.Value('upgf', Label_1.bot);
exports.upgs = new Value_1.Value('upgs', Label_1.bot);
exports.getPrototypeOf = new Value_1.Value('getPrototypeOf', Label_1.bot);
exports.getOwnPropertyDescriptor = new Value_1.Value('getOwnPropertyDescriptor', Label_1.bot);
exports.getOwnPropertyNames = new Value_1.Value('getOwnPropertyNames', Label_1.bot);
exports.create = new Value_1.Value('create', Label_1.bot);
//@ts-ignore TYPES
exports.require = new Value_1.Value('require', Label_1.bot);
exports.defineProperty = new Value_1.Value('defineProperty', Label_1.bot);
exports.defineProperties = new Value_1.Value('defineProperties', Label_1.bot);
exports.seal = new Value_1.Value('seal', Label_1.bot);
exports.freeze = new Value_1.Value('freeze', Label_1.bot);
exports.preventExtensions = new Value_1.Value('preventExtensions', Label_1.bot);
exports.isSealed = new Value_1.Value('isSealed', Label_1.bot);
exports.isFrozen = new Value_1.Value('isFrozen', Label_1.bot);
exports.isExtensible = new Value_1.Value('isExtensible', Label_1.bot);
exports.keys = new Value_1.Value('keys', Label_1.bot);
exports.toString = new Value_1.Value('toString', Label_1.bot);
exports.toLocaleString = new Value_1.Value('toLocaleString', Label_1.bot);
exports.valueOf = new Value_1.Value('valueOf', Label_1.bot);
exports.hasOwnProperty = new Value_1.Value('hasOwnProperty', Label_1.bot);
exports.isPrototypeOf = new Value_1.Value('isPrototypeOf', Label_1.bot);
exports.propertyIsEnumerable = new Value_1.Value('propertyIsEnumerable', Label_1.bot);
exports.apply = new Value_1.Value('apply', Label_1.bot);
exports.call = new Value_1.Value('call', Label_1.bot);
exports.caller = new Value_1.Value('caller', Label_1.bot);
exports.bind = new Value_1.Value('bind', Label_1.bot);
exports.NaN = new Value_1.Value('NaN', Label_1.bot);
exports.Infinity = new Value_1.Value('Infinity', Label_1.bot);
exports.undefined = new Value_1.Value('undefined', Label_1.bot);
//@ts-ignore TYPES
exports.eval = new Value_1.Value('eval', Label_1.bot);
exports.parseInt = new Value_1.Value('parseInt', Label_1.bot);
exports.parseFloat = new Value_1.Value('parseFloat', Label_1.bot);
exports.isNaN = new Value_1.Value('isNaN', Label_1.bot);
exports.isFinite = new Value_1.Value('isFinite', Label_1.bot);
exports.decodeURI = new Value_1.Value('decodeURI', Label_1.bot);
exports.decodeURIComponent = new Value_1.Value('decodeURIComponent', Label_1.bot);
exports.encodeURI = new Value_1.Value('encodeURI', Label_1.bot);
exports.encodeURIComponent = new Value_1.Value('encodeURIComponent', Label_1.bot);
exports.Object = new Value_1.Value('Object', Label_1.bot);
exports.Function = new Value_1.Value('Function', Label_1.bot);
exports.Array = new Value_1.Value('Array', Label_1.bot);
exports.String = new Value_1.Value('String', Label_1.bot);
exports.Boolean = new Value_1.Value('Boolean', Label_1.bot);
exports.Number = new Value_1.Value('Number', Label_1.bot);
exports.Date = new Value_1.Value('Date', Label_1.bot);
exports.RegExp = new Value_1.Value('RegExp', Label_1.bot);
exports.Error = new Value_1.Value('Error', Label_1.bot);
exports.EvalError = new Value_1.Value('EvalError', Label_1.bot);
exports.RangeError = new Value_1.Value('RangeError', Label_1.bot);
exports.ReferenceError = new Value_1.Value('ReferenceError', Label_1.bot);
exports.SyntaxError = new Value_1.Value('SyntaxError', Label_1.bot);
exports.TypeError = new Value_1.Value('TypeError', Label_1.bot);
exports.URIError = new Value_1.Value('URIError', Label_1.bot);
exports.Math = new Value_1.Value('Math', Label_1.bot);
exports.JSON = new Value_1.Value('JSON', Label_1.bot);
exports.parse = new Value_1.Value('parse', Label_1.bot);
exports.stringify = new Value_1.Value('stringify', Label_1.bot);
exports.name = new Value_1.Value('name', Label_1.bot);
exports.message = new Value_1.Value('message', Label_1.bot);
exports.isArray = new Value_1.Value('isArray', Label_1.bot);
exports.concat = new Value_1.Value('concat', Label_1.bot);
exports.join = new Value_1.Value('join', Label_1.bot);
exports.pop = new Value_1.Value('pop', Label_1.bot);
exports.push = new Value_1.Value('push', Label_1.bot);
exports.reverse = new Value_1.Value('reverse', Label_1.bot);
exports.shift = new Value_1.Value('shift', Label_1.bot);
exports.slice = new Value_1.Value('slice', Label_1.bot);
exports.sort = new Value_1.Value('sort', Label_1.bot);
exports.splice = new Value_1.Value('splice', Label_1.bot);
exports.unshift = new Value_1.Value('unshift', Label_1.bot);
exports.indexOf = new Value_1.Value('indexOf', Label_1.bot);
exports.lastIndexOf = new Value_1.Value('lastIndexOf', Label_1.bot);
exports.every = new Value_1.Value('every', Label_1.bot);
exports.some = new Value_1.Value('some', Label_1.bot);
exports.forEach = new Value_1.Value('forEach', Label_1.bot);
exports.map = new Value_1.Value('map', Label_1.bot);
exports.filter = new Value_1.Value('filter', Label_1.bot);
exports.reduce = new Value_1.Value('reduce', Label_1.bot);
exports.reduceRight = new Value_1.Value('reduceRight', Label_1.bot);
exports.fromCharCode = new Value_1.Value('fromCharCode', Label_1.bot);
exports.charAt = new Value_1.Value('charAt', Label_1.bot);
exports.charCodeAt = new Value_1.Value('charCodeAt', Label_1.bot);
exports.localeCompare = new Value_1.Value('localeCompare', Label_1.bot);
exports.match = new Value_1.Value('match', Label_1.bot);
exports.replace = new Value_1.Value('replace', Label_1.bot);
exports.search = new Value_1.Value('search', Label_1.bot);
exports.split = new Value_1.Value('split', Label_1.bot);
exports.substring = new Value_1.Value('substring', Label_1.bot);
exports.substr = new Value_1.Value('substr', Label_1.bot);
exports.toLowerCase = new Value_1.Value('toLowerCase', Label_1.bot);
exports.toLocaleLowerCase = new Value_1.Value('toLocaleLowerCase', Label_1.bot);
exports.toUpperCase = new Value_1.Value('toUpperCase', Label_1.bot);
exports.toLocaleUpperCase = new Value_1.Value('toLocaleUpperCase', Label_1.bot);
exports.trim = new Value_1.Value('trim', Label_1.bot);
exports.MAX_VALUE = new Value_1.Value('MAX_VALUE', Label_1.bot);
exports.MIN_VALUE = new Value_1.Value('MIN_VALUE', Label_1.bot);
exports.NEGATIVE_INFINITY = new Value_1.Value('NEGATIVE_INFINITY', Label_1.bot);
exports.POSITIVE_INFINITY = new Value_1.Value('POSITIVE_INFINITY', Label_1.bot);
exports.toFixed = new Value_1.Value('toFixed', Label_1.bot);
exports.toExponential = new Value_1.Value('toExponential', Label_1.bot);
exports.toPrecision = new Value_1.Value('toPrecision', Label_1.bot);
exports.E = new Value_1.Value('E', Label_1.bot);
exports.LN10 = new Value_1.Value('LN10', Label_1.bot);
exports.LN2 = new Value_1.Value('LN2', Label_1.bot);
exports.LOG2E = new Value_1.Value('LOG2E', Label_1.bot);
exports.LOG10E = new Value_1.Value('LOG10E', Label_1.bot);
exports.PI = new Value_1.Value('PI', Label_1.bot);
exports.SQRT1_2 = new Value_1.Value('SQRT1_2', Label_1.bot);
exports.SQRT2 = new Value_1.Value('SQRT2', Label_1.bot);
exports.abs = new Value_1.Value('abs', Label_1.bot);
exports.acos = new Value_1.Value('acos', Label_1.bot);
exports.asin = new Value_1.Value('asin', Label_1.bot);
exports.atan = new Value_1.Value('atan', Label_1.bot);
exports.atan2 = new Value_1.Value('atan2', Label_1.bot);
exports.ceil = new Value_1.Value('ceil', Label_1.bot);
exports.cos = new Value_1.Value('cos', Label_1.bot);
exports.exp = new Value_1.Value('exp', Label_1.bot);
exports.floor = new Value_1.Value('floor', Label_1.bot);
exports.log = new Value_1.Value('log', Label_1.bot);
exports.max = new Value_1.Value('max', Label_1.bot);
exports.min = new Value_1.Value('min', Label_1.bot);
exports.pow = new Value_1.Value('pow', Label_1.bot);
exports.random = new Value_1.Value('random', Label_1.bot);
exports.round = new Value_1.Value('round', Label_1.bot);
exports.sin = new Value_1.Value('sin', Label_1.bot);
exports.sqrt = new Value_1.Value('sqrt', Label_1.bot);
exports.tan = new Value_1.Value('tan', Label_1.bot);
exports.toDateString = new Value_1.Value('toDateString', Label_1.bot);
exports.toTimeString = new Value_1.Value('toTimeString', Label_1.bot);
exports.toLocaleDateString = new Value_1.Value('toLocaleDateString', Label_1.bot);
exports.toLocaleTimeString = new Value_1.Value('toLocaleTimeString', Label_1.bot);
exports.getTime = new Value_1.Value('getTime', Label_1.bot);
exports.getFullYear = new Value_1.Value('getFullYear', Label_1.bot);
exports.getUTCFullYear = new Value_1.Value('getUTCFullYear', Label_1.bot);
exports.getMonth = new Value_1.Value('getMonth', Label_1.bot);
exports.getUTCMonth = new Value_1.Value('getUTCMonth', Label_1.bot);
exports.getDate = new Value_1.Value('getDate', Label_1.bot);
exports.getUTCDate = new Value_1.Value('getUTCDate', Label_1.bot);
exports.getDay = new Value_1.Value('getDay', Label_1.bot);
exports.getUTCDay = new Value_1.Value('getUTCDay', Label_1.bot);
exports.getHours = new Value_1.Value('getHours', Label_1.bot);
exports.getUTCHours = new Value_1.Value('getUTCHours', Label_1.bot);
exports.getMinutes = new Value_1.Value('getMinutes', Label_1.bot);
exports.getUTCMinutes = new Value_1.Value('getUTCMinutes', Label_1.bot);
exports.getSeconds = new Value_1.Value('getSeconds', Label_1.bot);
exports.getUTCSeconds = new Value_1.Value('getUTCSeconds', Label_1.bot);
exports.getMilliseconds = new Value_1.Value('getMilliseconds', Label_1.bot);
exports.getUTCMilliseconds = new Value_1.Value('getUTCMilliseconds', Label_1.bot);
exports.getTimezoneOffset = new Value_1.Value('getTimezoneOffset', Label_1.bot);
exports.setTime = new Value_1.Value('setTime', Label_1.bot);
exports.setMilliseconds = new Value_1.Value('setMilliseconds', Label_1.bot);
exports.setUTCMilliseconds = new Value_1.Value('setUTCMilliseconds', Label_1.bot);
exports.setSeconds = new Value_1.Value('setSeconds', Label_1.bot);
exports.setUTCSeconds = new Value_1.Value('setUTCSeconds', Label_1.bot);
exports.setMinutes = new Value_1.Value('setMinutes', Label_1.bot);
exports.setUTCMinutes = new Value_1.Value('setUTCMinutes', Label_1.bot);
exports.setHours = new Value_1.Value('setHours', Label_1.bot);
exports.setUTCHours = new Value_1.Value('setUTCHours', Label_1.bot);
exports.setDate = new Value_1.Value('setDate', Label_1.bot);
exports.setUTCDate = new Value_1.Value('setUTCDate', Label_1.bot);
exports.setMonth = new Value_1.Value('setMonth', Label_1.bot);
exports.setUTCMonth = new Value_1.Value('setUTCMonth', Label_1.bot);
exports.setFullYear = new Value_1.Value('setFullYear', Label_1.bot);
exports.setUTCFullYear = new Value_1.Value('setUTCFullYear', Label_1.bot);
exports.toUTCString = new Value_1.Value('toUTCString', Label_1.bot);
exports.toISOString = new Value_1.Value('toISOString', Label_1.bot);
exports.toJSON = new Value_1.Value('toJSON', Label_1.bot);
exports.UTC = new Value_1.Value('UTC', Label_1.bot);
exports.now = new Value_1.Value('now', Label_1.bot);
exports.exec = new Value_1.Value('exec', Label_1.bot);
exports.test = new Value_1.Value('test', Label_1.bot);
exports.source = new Value_1.Value('source', Label_1.bot);
exports.global = new Value_1.Value('global', Label_1.bot);
exports.ignoreCase = new Value_1.Value('ignoreCase', Label_1.bot);
exports.multiline = new Value_1.Value('multiline', Label_1.bot);
exports.lastIndex = new Value_1.Value('lastIndex', Label_1.bot);
exports.getYear = new Value_1.Value('getYear', Label_1.bot);
exports.setYear = new Value_1.Value('setYear', Label_1.bot);
exports.toGMTString = new Value_1.Value('toGMTString', Label_1.bot);
exports.escape = new Value_1.Value('escape', Label_1.bot);
exports.unescape = new Value_1.Value('unescape', Label_1.bot);
exports.of = new Value_1.Value('of', Label_1.bot);

},{"./Label":123,"./Value":184}],65:[function(require,module,exports){
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __values = (this && this.__values) || function(o) {
    var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;
    if (m) return m.call(o);
    if (o && typeof o.length === "number") return {
        next: function () {
            if (o && i >= o.length) o = void 0;
            return { value: o && o[i++], done: !o };
        }
    };
    throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
};
Object.defineProperty(exports, "__esModule", { value: true });
var Value_1 = require("../Value");
var constants = require("../Constants");
var BuiltinFunctionObject_1 = require("../Objects/BuiltinFunctionObject");
var Label_1 = require("../Label");
var Define_1 = require("../Define");
var EcmaObject_1 = require("../Objects/EcmaObject");
var ArrayObject_1 = require("../Objects/ArrayObject");
var HasInstance_1 = require("../HasInstance");
var IsConstructor_1 = require("../Utility/IsConstructor");
var ToString_1 = require("../Conversion/ToString");
// ------------------------------------------------------------
// 15.4.3 
var ArrayConstructor = /** @class */ (function (_super) {
    __extends(ArrayConstructor, _super);
    function ArrayConstructor(host) {
        var _this = _super.call(this) || this;
        _this.Class = 'Function';
        _this.Extensible = true;
        _this.host = host;
        return _this;
    }
    ArrayConstructor.prototype.Setup = function () {
        this.Prototype = new Value_1.Value(monitor.instances.FunctionPrototype, Label_1.bot);
        Define_1.DefineFFF(this, constants.length, 1);
        Define_1.DefineFFF(this, constants.prototype, monitor.instances.ArrayPrototype);
        Define_1.DefineTFT(this, constants.isArray, new BuiltinFunctionObject_1.BuiltinFunctionObject(isArray, 1, Array.isArray));
        // ES6, 22.1.2.3
        Define_1.DefineTFT(this, constants.of, new BuiltinFunctionObject_1.BuiltinFunctionObject(of, 1, Array.of));
    };
    ArrayConstructor.prototype.HasInstance = function (V) {
        return HasInstance_1.HasInstance.call(this, V);
    };
    ArrayConstructor.prototype.Call = function (thisArg, args) {
        return this.Construct(args);
    };
    // ------------------------------------------------------------
    ArrayConstructor.prototype.Construct = function (args) {
        var array;
        var len = args.length;
        if (len === 0 || len >= 2) {
            array = ArrayObject_1.ArrayObject.fromValueArray(args, Label_1.bot);
        }
        else {
            var arg = args[0];
            if (typeof arg.value === 'number') {
                array = new ArrayObject_1.ArrayObject();
                array.properties.length = arg.value;
                array.labels.length = {
                    value: arg.label,
                    existence: Label_1.bot
                };
            }
            else {
                array = ArrayObject_1.ArrayObject.fromValueArray(args, Label_1.bot);
            }
        }
        return new Value_1.Value(array, Label_1.bot);
    };
    return ArrayConstructor;
}(EcmaObject_1.EcmaObject));
exports.ArrayConstructor = ArrayConstructor;
// ------------------------------------------------------------
// isArray, 15.4.3.1
function isArray(thisArg, args) {
    var arg = args[0] || new Value_1.Value(undefined, Label_1.bot);
    if (arg.value === null || typeof arg.value !== 'object') {
        return new Value_1.Value(false, arg.label);
    }
    return new Value_1.Value(arg.value.Class === 'Array', arg.label);
}
;
// ------------------------------------------------------------
// ES6: of, 22.1.2.3
function of(thisArg, args) {
    var e_1, _a;
    var len = args.length;
    var lbl = new Label_1.Label();
    try {
        for (var args_1 = __values(args), args_1_1 = args_1.next(); !args_1_1.done; args_1_1 = args_1.next()) {
            var arg = args_1_1.value;
            lbl = Label_1.lub(lbl, arg.label);
        }
    }
    catch (e_1_1) { e_1 = { error: e_1_1 }; }
    finally {
        try {
            if (args_1_1 && !args_1_1.done && (_a = args_1.return)) _a.call(args_1);
        }
        finally { if (e_1) throw e_1.error; }
    }
    var A;
    if (IsConstructor_1.IsConstructor(thisArg)) {
        // @ts-ignore
        A = thisArg.value.Construct([new Value_1.Value(len, lbl)]);
    }
    else {
        A = new ArrayObject_1.ArrayObject();
        A.properties.length = len;
        A.labels.length = {
            value: lbl,
            existence: Label_1.bot
        };
    }
    var k = 0;
    while (k < len) {
        var kValue = args[k];
        var Pk = ToString_1.ToString(new Value_1.Value(k, kValue.label));
        // 7.3.4 in ES6 will make this..
        var desc = {
            value: kValue.value,
            label: kValue.label,
            writable: true,
            enumerable: true,
            configurable: true
        };
        A.DefineOwnProperty(Pk, desc);
        k++;
    }
    return A;
}
;

},{"../Constants":64,"../Conversion/ToString":87,"../Define":91,"../HasInstance":120,"../Label":123,"../Objects/ArrayObject":132,"../Objects/BuiltinFunctionObject":134,"../Objects/EcmaObject":137,"../Utility/IsConstructor":183,"../Value":184}],66:[function(require,module,exports){
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var Value_1 = require("../Value");
var constants = require("../Constants");
var HasInstance_1 = require("../HasInstance");
var Define_1 = require("../Define");
var EcmaObject_1 = require("../Objects/EcmaObject");
var Label_1 = require("../Label");
var BooleanObject_1 = require("../Objects/BooleanObject");
var ToBoolean_1 = require("../Conversion/ToBoolean");
// ------------------------------------------------------------
// 15.6.2 
var BooleanConstructor = /** @class */ (function (_super) {
    __extends(BooleanConstructor, _super);
    function BooleanConstructor(host) {
        var _this = _super.call(this) || this;
        _this.Class = 'Function';
        _this.Extensible = true;
        _this.host = host;
        return _this;
    }
    BooleanConstructor.prototype.Setup = function () {
        this.Prototype = new Value_1.Value(monitor.instances.FunctionPrototype, Label_1.bot);
        Define_1.DefineFFF(this, constants.length, 1); //REMOVE ?
        Define_1.DefineFFF(this, constants.prototype, monitor.instances.BooleanPrototype);
    };
    BooleanConstructor.prototype.HasInstance = function (V) {
        return HasInstance_1.HasInstance.call(this, V);
    };
    // 15.6.1.1
    BooleanConstructor.prototype.Call = function (thisArg, args) {
        var arg0 = args[0] ? args[0] : new Value_1.Value(undefined, Label_1.bot);
        return ToBoolean_1.ToBoolean(arg0);
    };
    // 15.6.2.1
    BooleanConstructor.prototype.Construct = function (args) {
        var arg0 = args[0] ? args[0] : new Value_1.Value(undefined, Label_1.bot);
        var b = ToBoolean_1.ToBoolean(arg0);
        var obj = new BooleanObject_1.BooleanObject(b.value, b.label);
        return new Value_1.Value(obj, Label_1.bot);
    };
    return BooleanConstructor;
}(EcmaObject_1.EcmaObject));
exports.BooleanConstructor = BooleanConstructor;

},{"../Constants":64,"../Conversion/ToBoolean":81,"../Define":91,"../HasInstance":120,"../Label":123,"../Objects/BooleanObject":133,"../Objects/EcmaObject":137,"../Value":184}],67:[function(require,module,exports){
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var Value_1 = require("../Value");
var constants = require("../Constants");
var BuiltinFunctionObject_1 = require("../Objects/BuiltinFunctionObject");
var HasInstance_1 = require("../HasInstance");
var ToPrimitive_1 = require("../Conversion/ToPrimitive");
var ToNumber_1 = require("../Conversion/ToNumber");
var ToString_1 = require("../Conversion/ToString");
var Define_1 = require("../Define");
var EcmaObject_1 = require("../Objects/EcmaObject");
var Label_1 = require("../Label");
var DateObject_1 = require("../Objects/DateObject");
// ------------------------------------------------------------
// The Date Constructor, 15.9.3
var DateConstructor = /** @class */ (function (_super) {
    __extends(DateConstructor, _super);
    function DateConstructor(host) {
        var _this = _super.call(this) || this;
        _this.Class = 'Function';
        _this.Extensible = true;
        _this.host = host;
        return _this;
    }
    DateConstructor.prototype.Setup = function () {
        this.Prototype = new Value_1.Value(monitor.instances.FunctionPrototype, Label_1.bot);
        Define_1.DefineFFF(this, constants.length, 7);
        Define_1.DefineFFF(this, constants.prototype, monitor.instances.DatePrototype);
        Define_1.DefineTFT(this, constants.parse, new BuiltinFunctionObject_1.BuiltinFunctionObject(parse, 0, Date.parse));
        Define_1.DefineTFT(this, constants.UTC, new BuiltinFunctionObject_1.BuiltinFunctionObject(UTC, 0, Date.UTC));
        Define_1.DefineTFT(this, constants.now, new BuiltinFunctionObject_1.BuiltinFunctionObject(now, 0, Date.now));
    };
    DateConstructor.prototype.HasInstance = function (V) {
        return HasInstance_1.HasInstance.call(this, V);
    };
    //----------------------------------------------------
    // 15.9.1.1
    DateConstructor.prototype.Call = function (thisArg, args) {
        var str = this.host();
        return new Value_1.Value(str, Label_1.bot);
    };
    //----------------------------------------------------
    // 15.9.3.1
    DateConstructor.prototype.Construct = function (args) {
        var _args = [];
        var label = new Label_1.Label();
        var obj;
        switch (args.length) {
            case 0:
                obj = new DateObject_1.DateObject(new this.host(), new Label_1.Label('Date'));
                break;
            case 1:
                var v = ToPrimitive_1.ToPrimitive(args[0]);
                if (typeof v.value !== 'string') {
                    v = ToNumber_1.ToNumber(v);
                }
                obj = new DateObject_1.DateObject(new this.host(v.value), v.label);
                break;
            default:
                var len = args.length;
                var i = 0;
                for (; i < len; i++) {
                    var val = ToNumber_1.ToNumber(args[i]);
                    _args[i] = val.value;
                    Label_1.lub(val.label);
                }
                if (len == 2) {
                    _args[2] = 1;
                }
                for (; i < 7; i++) {
                    _args[i] = 0;
                }
                var date = new this.host(_args[0], _args[1], _args[2], _args[3], _args[4], _args[5], _args[6]);
                obj = new DateObject_1.DateObject(date, label);
        }
        return new Value_1.Value(obj, Label_1.bot);
    };
    ;
    return DateConstructor;
}(EcmaObject_1.EcmaObject));
exports.DateConstructor = DateConstructor;
// ------------------------------------------------------------
// parse, 15.9.4.2
function parse(thisArg, args) {
    var arg = args[0] || new Value_1.Value(undefined, Label_1.bot);
    var string = ToString_1.ToString(arg);
    var number = monitor.instances.DateConstructor.host.parse(string.value);
    return new Value_1.Value(number, string.label);
}
// ------------------------------------------------------------
// UTC, 15.9.4.3
function UTC(thisArg, args) {
    var _args = [];
    var label = new Label_1.Label();
    for (var i = 0, len = args.length; i < len; i++) {
        var val = ToNumber_1.ToNumber(args[i]);
        _args[i] = val.value;
        Label_1.lub(val.label);
    }
    var number = monitor.instances.DateConstructor.host.UTC.apply(null, _args);
    return new Value_1.Value(number, label);
}
// ------------------------------------------------------------
// now, 15.9.4.4
function now(thisArg, args) {
    var number = monitor.instances.DateConstructor.host.now();
    return new Value_1.Value(number, Label_1.bot /*top*/);
}

},{"../Constants":64,"../Conversion/ToNumber":84,"../Conversion/ToPrimitive":86,"../Conversion/ToString":87,"../Define":91,"../HasInstance":120,"../Label":123,"../Objects/BuiltinFunctionObject":134,"../Objects/DateObject":136,"../Objects/EcmaObject":137,"../Value":184}],68:[function(require,module,exports){
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var Value_1 = require("../Value");
var constants = require("../Constants");
var HasInstance_1 = require("../HasInstance");
var EcmaObject_1 = require("../Objects/EcmaObject");
var Define_1 = require("../Define");
var Label_1 = require("../Label");
var ErrorObject_1 = require("../Objects/ErrorObject");
// ------------------------------------------------------------
// 15.11 - The Error Constructor
var ErrorConstructor = /** @class */ (function (_super) {
    __extends(ErrorConstructor, _super);
    function ErrorConstructor(host) {
        var _this = _super.call(this) || this;
        _this.Class = 'Function';
        _this.host = host;
        _this.Extensible = true;
        _this.name = 'Error';
        return _this;
    }
    ErrorConstructor.prototype.Setup = function () {
        this.SetupBase(monitor.instances.ErrorPrototype);
    };
    ErrorConstructor.prototype.SetupBase = function (prototype) {
        this.Prototype = new Value_1.Value(monitor.instances.FunctionPrototype, Label_1.bot);
        Define_1.DefineFFF(this, constants.length, 1);
        Define_1.DefineFFF(this, constants.prototype, prototype);
    };
    ErrorConstructor.prototype.HasInstance = function (V) {
        return HasInstance_1.HasInstance.call(this, V);
    };
    // 15.11.2
    ErrorConstructor.prototype.Call = function (thisArg, args) {
        return this.Construct(args);
    };
    // 15.11.2.1
    ErrorConstructor.prototype.Construct = function (args) {
        var arg0 = args[0] ? args[0] : new Value_1.Value(undefined, Label_1.bot);
        var o = new ErrorObject_1.ErrorObject(arg0);
        return new Value_1.Value(o, Label_1.bot);
    };
    return ErrorConstructor;
}(EcmaObject_1.EcmaObject));
exports.ErrorConstructor = ErrorConstructor;

},{"../Constants":64,"../Define":91,"../HasInstance":120,"../Label":123,"../Objects/EcmaObject":137,"../Objects/ErrorObject":138,"../Value":184}],69:[function(require,module,exports){
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var ErrorConstructor_1 = require("./ErrorConstructor");
var Label_1 = require("../Label");
var Value_1 = require("../Value");
var EvalErrorObject_1 = require("../Objects/EvalErrorObject");
var EvalErrorConstructor = /** @class */ (function (_super) {
    __extends(EvalErrorConstructor, _super);
    function EvalErrorConstructor(host) {
        return _super.call(this, host) || this;
    }
    EvalErrorConstructor.prototype.Setup = function () {
        this.SetupBase(monitor.instances.EvalErrorPrototype);
    };
    EvalErrorConstructor.prototype.Construct = function (args) {
        var message = args[0] || new Value_1.Value(undefined, Label_1.bot);
        var o = new EvalErrorObject_1.EvalErrorObject(message);
        return new Value_1.Value(o, Label_1.bot);
    };
    return EvalErrorConstructor;
}(ErrorConstructor_1.ErrorConstructor));
exports.EvalErrorConstructor = EvalErrorConstructor;

},{"../Label":123,"../Objects/EvalErrorObject":139,"../Value":184,"./ErrorConstructor":68}],70:[function(require,module,exports){
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var Label_1 = require("../Label");
var Value_1 = require("../Value");
var Define_1 = require("../Define");
var EcmaObject_1 = require("../Objects/EcmaObject");
var constants = require("../Constants");
var FunctionObject_1 = require("../Objects/FunctionObject");
var HasInstance_1 = require("../HasInstance");
var esprima = require("esprima");
var ToString_1 = require("../Conversion/ToString");
// ------------------------------------------------------------
// Function Constructor, 15.3.2 (15.3.1, 15.3.1.1)
var FunctionConstructor = /** @class */ (function (_super) {
    __extends(FunctionConstructor, _super);
    function FunctionConstructor(host) {
        var _this = _super.call(this) || this;
        // Properties, 15.3.3.
        _this.Class = 'Function';
        _this.host = host;
        _this.Extensible = true;
        return _this;
    }
    FunctionConstructor.prototype.Setup = function () {
        // 15.3.3.1 
        Define_1.DefineFFF(this, constants.prototype, monitor.instances.FunctionPrototype);
        this.Prototype = new Value_1.Value(monitor.instances.FunctionPrototype, Label_1.bot);
        // 15.3.3.2 
        Define_1.DefineFFF(this, constants.length, 1);
    };
    // ---
    FunctionConstructor.prototype.HasInstance = function (V) {
        return HasInstance_1.HasInstance.call(this, V);
    };
    // 15.3.1
    FunctionConstructor.prototype.Call = function (thisArg, args) {
        return this.Construct(args);
    };
    // 15.3.2
    FunctionConstructor.prototype.Construct = function (args) {
        var argCount = args.length;
        var P = '';
        var body;
        var label = Label_1.bot;
        if (argCount === 0) {
            body = new Value_1.Value('', Label_1.bot);
        }
        else if (argCount === 1) {
            body = args[0];
        }
        else {
            var firstArg = ToString_1.ToString(args[0]);
            label = Label_1.lub(label, firstArg.label);
            P = firstArg.value;
            for (var i = 1; i < argCount - 1; i++) {
                var nextArg = ToString_1.ToString(args[i]);
                label = Label_1.lub(label, firstArg.label);
                P += ', ' + nextArg.value;
            }
            body = args[argCount - 1];
        }
        var strbody = ToString_1.ToString(body);
        label = Label_1.lub(label, strbody.label);
        // transform may use a parser, which means we cannot transform the body
        // in isolation (e.g., it may contain return), and we cannot assume that the
        // transformation returns a function
        var transformed = monitor.transform("function __jsflow_transformed() {\n        arguments.callee = __jsflow_callee;\n        arguments.caller = __jsflow_caller;\n        " + strbody.value + "\n      }");
        P = "(function ( " + P + " ) {\n        let __jsflow_callee = arguments.callee;\n        let __jsflow_caller = arguments.caller;\n        " + transformed + ";\n        return __jsflow_transformed.apply(this, arguments);\n      })";
        var prog;
        try {
            prog = esprima.parse(P, { loc: true });
        }
        catch (e) {
            monitor.Throw("SyntaxError", e.message, label);
        }
        // parsing returns a program --- we are interested in function declaration
        var func = prog.body[0].expression;
        var F = new FunctionObject_1.FunctionObject(func.params, func.body, new Value_1.Value(monitor.GlobalEnvironment, Label_1.bot));
        // For pretty printing
        F.Source = func;
        return new Value_1.Value(F, label);
    };
    return FunctionConstructor;
}(EcmaObject_1.EcmaObject));
exports.FunctionConstructor = FunctionConstructor;

},{"../Constants":64,"../Conversion/ToString":87,"../Define":91,"../HasInstance":120,"../Label":123,"../Objects/EcmaObject":137,"../Objects/FunctionObject":140,"../Value":184,"esprima":18}],71:[function(require,module,exports){
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var Label_1 = require("../Label");
var Value_1 = require("../Value");
var Define_1 = require("../Define");
var EcmaObject_1 = require("../Objects/EcmaObject");
var constants = require("../Constants");
var HasInstance_1 = require("../HasInstance");
var NumberObject_1 = require("../Objects/NumberObject");
var ToNumber_1 = require("../Conversion/ToNumber");
// ------------------------------------------------------------
// The Number Constructor, 15.7.2
var NumberConstructor = /** @class */ (function (_super) {
    __extends(NumberConstructor, _super);
    function NumberConstructor(host) {
        var _this = _super.call(this) || this;
        _this.Class = 'Function';
        // not mandated by standard
        _this.Extensible = true;
        _this.host = host;
        return _this;
    }
    NumberConstructor.prototype.Setup = function () {
        this.Prototype = new Value_1.Value(monitor.instances.FunctionPrototype, Label_1.bot);
        Define_1.DefineFFF(this, constants.prototype, monitor.instances.NumberPrototype);
        Define_1.DefineFFF(this, constants.length, 1);
        Define_1.DefineFFF(this, constants.MAX_VALUE, this.host.MAX_VALUE);
        Define_1.DefineFFF(this, constants.MIN_VALUE, this.host.MIN_VALUE);
        Define_1.DefineFFF(this, constants.NaN, this.host.NaN);
        Define_1.DefineFFF(this, constants.NEGATIVE_INFINITY, this.host.NEGATIVE_INFINITY);
        Define_1.DefineFFF(this, constants.POSITIVE_INFINITY, this.host.POSITIVE_INFINITY);
    };
    NumberConstructor.prototype.HasInstance = function (V) {
        return HasInstance_1.HasInstance.call(this, V);
    };
    // 15.7.1.1
    NumberConstructor.prototype.Call = function (thisArg, args) {
        if (!args[0]) {
            return new Value_1.Value(0, Label_1.bot);
        }
        return ToNumber_1.ToNumber(args[0]);
    };
    // 15.7.2.1
    NumberConstructor.prototype.Construct = function (args) {
        var arg0 = args[0] ? ToNumber_1.ToNumber(args[0]) : new Value_1.Value(0, Label_1.bot);
        var res = new NumberObject_1.NumberObject(arg0.value, arg0.label);
        return new Value_1.Value(res, Label_1.bot);
    };
    return NumberConstructor;
}(EcmaObject_1.EcmaObject));
exports.NumberConstructor = NumberConstructor;

},{"../Constants":64,"../Conversion/ToNumber":84,"../Define":91,"../HasInstance":120,"../Label":123,"../Objects/EcmaObject":137,"../Objects/NumberObject":145,"../Value":184}],72:[function(require,module,exports){
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var Label_1 = require("../Label");
var Value_1 = require("../Value");
var Define_1 = require("../Define");
var EcmaObject_1 = require("../Objects/EcmaObject");
var constants = require("../Constants");
var BuiltinFunctionObject_1 = require("../Objects/BuiltinFunctionObject");
var ObjectObject_1 = require("../Objects/ObjectObject");
var ArrayObject_1 = require("../Objects/ArrayObject");
var ToBoolean_1 = require("../Conversion/ToBoolean");
var HasInstance_1 = require("../HasInstance");
var ToString_1 = require("../Conversion/ToString");
var ToObject_1 = require("../Conversion/ToObject");
var PropertyDescriptor_1 = require("../PropertyDescriptor");
var Interfaces_1 = require("../Interfaces");
// ------------------------------------------------------------
// Object Constructor, 15.2.3
var ObjectConstructor = /** @class */ (function (_super) {
    __extends(ObjectConstructor, _super);
    function ObjectConstructor(host) {
        var _this = _super.call(this) || this;
        _this.Class = 'Function';
        _this.host = host;
        return _this;
    }
    ObjectConstructor.prototype.Setup = function () {
        Define_1.DefineFFF(this, constants.length, 1);
        // 15.2.3
        this.Prototype = new Value_1.Value(monitor.instances.FunctionPrototype, Label_1.bot);
        // 15.2.3.1
        Define_1.DefineFFF(this, constants.prototype, monitor.instances.ObjectPrototype);
        Define_1.DefineTFT(this, constants.getPrototypeOf, new BuiltinFunctionObject_1.BuiltinFunctionObject(getPrototypeOf, 1, Object.getPrototypeOf));
        Define_1.DefineTFT(this, constants.getOwnPropertyDescriptor, new BuiltinFunctionObject_1.BuiltinFunctionObject(getOwnPropertyDescriptor, 2, Object.getOwnPropertyDescriptor));
        Define_1.DefineTFT(this, constants.getOwnPropertyNames, new BuiltinFunctionObject_1.BuiltinFunctionObject(getOwnPropertyNames, 1, Object.getOwnPropertyNames));
        Define_1.DefineTFT(this, constants.create, new BuiltinFunctionObject_1.BuiltinFunctionObject(create, 2, Object.create));
        Define_1.DefineTFT(this, constants.defineProperty, new BuiltinFunctionObject_1.BuiltinFunctionObject(defineProperty, 3, Object.defineProperty));
        Define_1.DefineTFT(this, constants.defineProperties, new BuiltinFunctionObject_1.BuiltinFunctionObject(defineProperties, 2, Object.defineProperties));
        Define_1.DefineTFT(this, constants.seal, new BuiltinFunctionObject_1.BuiltinFunctionObject(seal, 1, Object.seal));
        Define_1.DefineTFT(this, constants.freeze, new BuiltinFunctionObject_1.BuiltinFunctionObject(freeze, 1, Object.freeze));
        Define_1.DefineTFT(this, constants.preventExtensions, new BuiltinFunctionObject_1.BuiltinFunctionObject(preventExtensions, 1, Object.preventExtensions));
        Define_1.DefineTFT(this, constants.isSealed, new BuiltinFunctionObject_1.BuiltinFunctionObject(isSealed, 1, Object.isSealed));
        Define_1.DefineTFT(this, constants.isFrozen, new BuiltinFunctionObject_1.BuiltinFunctionObject(isFrozen, 1, Object.isFrozen));
        Define_1.DefineTFT(this, constants.isExtensible, new BuiltinFunctionObject_1.BuiltinFunctionObject(isExtensible, 1, Object.isExtensible));
        Define_1.DefineTFT(this, constants.keys, new BuiltinFunctionObject_1.BuiltinFunctionObject(keys, 1, Object.keys));
    };
    ObjectConstructor.prototype.HasInstance = function (V) {
        return HasInstance_1.HasInstance.call(this, V);
    };
    // ------------------------------------------------------------
    // 15.2.1.1
    ObjectConstructor.prototype.Call = function (thisArg, args) {
        var arg0 = args[0] || new Value_1.Value(undefined, Label_1.bot);
        var res;
        monitor.context.pushPC(arg0.label);
        if (arg0.value === undefined || arg0.value === null) {
            res = this.Construct(args);
            res.raise(arg0.label);
            monitor.context.popPC();
            return res;
        }
        res = ToObject_1.ToObject(arg0);
        monitor.context.popPC();
        return res;
    };
    // ------------------------------------------------------------
    // 15.2.2.1
    ObjectConstructor.prototype.Construct = function (args) {
        var arg0 = args[0] || new Value_1.Value(undefined, Label_1.bot);
        monitor.context.pushPC(arg0.label);
        var res;
        if (arg0.value === undefined || arg0.value === null) {
            var o = new ObjectObject_1.ObjectObject();
            res = new Value_1.Value(o, arg0.label);
            monitor.context.popPC();
            return res;
        }
        if (typeof arg0.value === 'object') {
            res = new Value_1.Value(arg0.value, arg0.label);
            monitor.context.popPC();
            return res;
        }
        res = ToObject_1.ToObject(arg0);
        monitor.context.popPC();
        return res;
    };
    return ObjectConstructor;
}(EcmaObject_1.EcmaObject));
exports.ObjectConstructor = ObjectConstructor;
// ------------------------------------------------------------
function AssertObject(arg, callee) {
    monitor.context.pushPC(arg.label);
    monitor.Throw("TypeError", callee + ' called on non-object (' + String(arg.value) + ')', arg.label);
}
// ------------------------------------------------------------
// 15.2.3.2
function getPrototypeOf(thisArg, args) {
    var O = args[0] || new Value_1.Value(undefined, Label_1.bot);
    if (!Interfaces_1.IsIEcmaObject(O)) {
        AssertObject(O, 'Object.getPrototypeOf');
        throw 'TypeScript';
    }
    var proto = O.value.Prototype;
    return new Value_1.Value(proto.value, Label_1.lub(proto.label, O.label));
}
// ------------------------------------------------------------
// 15.2.3.3
var getOwnPropertyDescriptor = function (thisArg, args) {
    var O = args[0] || new Value_1.Value(undefined, Label_1.bot);
    var P = args[1] || new Value_1.Value(undefined, Label_1.bot);
    if (!Interfaces_1.IsIEcmaObject(O)) {
        AssertObject(O, 'Object.getOwnPropertyDescriptor');
        throw 'TypeScript';
    }
    var name = ToString_1.ToString(P);
    var desc = O.GetOwnProperty(name);
    if (desc.value === undefined) {
        return new Value_1.Value(undefined, desc.label);
    }
    var obj = new ObjectObject_1.ObjectObject();
    if (PropertyDescriptor_1.IsDataDescriptor(desc.value)) {
        obj.DefineOwnProperty(constants.value, {
            value: desc.value.value,
            writable: true, enumerable: true, configurable: true,
            label: desc.value.label
        }, false);
        obj.DefineOwnProperty(constants.writable, {
            value: desc.value.writable,
            writable: true, enumerable: true, configurable: true,
            label: desc.value.label
        }, false);
    }
    else {
        //@ts-ignore DESC HELL
        var get = desc.value.get ? desc.value.get.actualFunction : desc.value.get;
        obj.DefineOwnProperty(constants.get, {
            value: get,
            writable: true, enumerable: true, configurable: true,
            label: desc.value.label
        }, false);
        //@ts-ignore DESC HELL
        var set = desc.value.set ? desc.value.set.actualFunction : desc.value.set;
        obj.DefineOwnProperty(constants.set, {
            value: set,
            writable: true, enumerable: true, configurable: true,
            label: desc.value.label
        }, false);
    }
    obj.DefineOwnProperty(constants.enumerable, {
        value: desc.value.enumerable,
        writable: true, enumerable: true, configurable: true,
        label: desc.value.label
    }, false);
    obj.DefineOwnProperty(constants.configurable, {
        value: desc.value.configurable,
        writable: true, enumerable: true, configurable: true,
        label: desc.value.label
    }, false);
    return new Value_1.Value(obj, desc.label);
};
// ------------------------------------------------------------
// 15.2.3.4
function getOwnPropertyNames(thisArg, args) {
    var O = args[0] || new Value_1.Value(undefined, Label_1.bot);
    if (!Interfaces_1.IsIEcmaObject(O)) {
        AssertObject(O, 'Object.getOwnPropertyNames');
        throw 'TypeScript';
    }
    var propertyNames = O.value.getOwnPropertyNames(O.label);
    var array = ArrayObject_1.ArrayObject.fromPropertyArray(propertyNames, O.value.struct);
    return new Value_1.Value(array, Label_1.bot);
}
// ------------------------------------------------------------
// 15.2.3.5
function create(thisArg, args) {
    var O = args[0] || new Value_1.Value(undefined, Label_1.bot);
    var Properties = args[1] || new Value_1.Value(undefined, Label_1.bot);
    if (O.value !== null && !Interfaces_1.IsIEcmaObject(O)) {
        AssertObject(O, 'Object.create');
        throw 'TypeScript';
    }
    var obj = new ObjectObject_1.ObjectObject();
    obj.Prototype = O;
    var objValue = new Value_1.Value(obj, Label_1.bot);
    if (Properties.value !== undefined) {
        defineProperties(thisArg, [objValue, Properties]);
    }
    return objValue;
}
// ------------------------------------------------------------
function ToPropertyDescriptor(Obj) {
    if (!Interfaces_1.IsIEcmaObject(Obj)) {
        AssertObject(Obj, 'Object.ToPropertyDescriptor');
        throw 'TypeScript';
    }
    var c = monitor.context;
    var lbl = new Label_1.Label();
    var desc = { label: Label_1.bot };
    var b;
    var x;
    var propertyName;
    // enumerable
    propertyName = constants.enumerable;
    b = Obj.HasProperty(propertyName);
    lbl = Label_1.lub(lbl, b.label);
    if (b.value) {
        c.pushPC(b.label);
        x = ToBoolean_1.ToBoolean(Obj.Get(propertyName));
        c.popPC();
        lbl = Label_1.lub(lbl, x.label);
        desc[propertyName.value] = x.value;
    }
    // configurable
    propertyName = constants.configurable;
    b = Obj.HasProperty(propertyName);
    lbl = Label_1.lub(lbl, b.label);
    if (b.value) {
        c.pushPC(b.label);
        x = ToBoolean_1.ToBoolean(Obj.Get(propertyName));
        c.popPC();
        lbl = Label_1.lub(lbl, x.label);
        desc[propertyName.value] = x.value;
    }
    // value
    propertyName = constants.value;
    b = Obj.HasProperty(propertyName);
    lbl = Label_1.lub(lbl, b.label);
    if (b.value) {
        c.pushPC(b.label);
        x = Obj.Get(propertyName);
        c.popPC();
        lbl = Label_1.lub(lbl, x.label);
        desc[propertyName.value] = x.value;
    }
    // writable
    propertyName = constants.writable;
    b = Obj.HasProperty(propertyName);
    lbl = Label_1.lub(lbl, b.label);
    if (b.value) {
        c.pushPC(b.label);
        x = ToBoolean_1.ToBoolean(Obj.Get(propertyName));
        c.popPC();
        lbl = Label_1.lub(lbl, x.label);
        desc[propertyName.value] = x.value;
    }
    // get
    propertyName = constants.get;
    b = Obj.HasProperty(propertyName);
    lbl = Label_1.lub(lbl, b.label);
    if (b.value) {
        c.pushPC(b.label);
        x = Obj.Get(propertyName);
        c.popPC();
        lbl = Label_1.lub(lbl, x.label);
        desc[propertyName.value] = x.value;
    }
    // set
    propertyName = constants.set;
    b = Obj.HasProperty(propertyName);
    lbl = Label_1.lub(lbl, b.label);
    if (b.value) {
        c.pushPC(b.label);
        x = Obj.Get(propertyName);
        c.popPC();
        lbl = Label_1.lub(lbl, x.label);
        desc[propertyName.value] = x.value;
    }
    desc.label = lbl;
    return desc;
}
// ------------------------------------------------------------
// 15.2.3.6
function defineProperty(thisArg, args) {
    var O = args[0] || new Value_1.Value(undefined, Label_1.bot);
    var P = args[1] || new Value_1.Value(undefined, Label_1.bot);
    var Attributes = args[2] || new Value_1.Value(undefined, Label_1.bot);
    if (!Interfaces_1.IsIEcmaObject(O)) {
        AssertObject(O, 'Object.defineProperty');
        throw 'TypeScript';
    }
    var name = ToString_1.ToString(P);
    var desc = ToPropertyDescriptor(Attributes);
    O.DefineOwnProperty(name, desc, true);
    return O;
}
// ------------------------------------------------------------
// 15.2.3.7
function defineProperties(thisArg, args) {
    var O = args[0] || new Value_1.Value(undefined, Label_1.bot);
    var Properties = args[1] || new Value_1.Value(undefined, Label_1.bot);
    if (!Interfaces_1.IsIEcmaObject(O)) {
        AssertObject(O, 'Object.defineProperties');
        throw 'TypeScript';
    }
    var props = ToObject_1.ToObject(Properties);
    var names = props.value.getOwnEnumerablePropertyNames(props.label);
    var descriptors = [];
    for (var i = 0, len = names.length; i < len; i++) {
        var P = names[i];
        var descObject = props.Get(P);
        //@ts-ignore DEC HELL
        var desc = ToPropertyDescriptor(descObject);
        descriptors.push({ name: P, descriptor: desc });
    }
    for (var i = 0, len = descriptors.length; i < len; i++) {
        var P = descriptors[i].name;
        var desc = descriptors[i].descriptor;
        O.DefineOwnProperty(P, desc, true);
    }
    return O;
}
// ------------------------------------------------------------
// 15.2.3.8
function seal(thisArg, args) {
    var O = args[0] || new Value_1.Value(undefined, Label_1.bot);
    if (!Interfaces_1.IsIEcmaObject(O)) {
        AssertObject(O, 'Object.defineProperties');
        throw 'TypeScript';
    }
    var context = Label_1.lub(monitor.context.effectivePC, O.label);
    monitor.assert(Label_1.le(context, O.value.struct), 'Object.seal: context label ' + context + ' not below structural label ' + O.value.struct + ' of object');
    var labels = O.value.labels;
    for (var x in labels) {
        if (Object.hasOwnProperty.call(labels, x)) {
            monitor.assert(Label_1.le(context, labels[x].value), 'Object.seal: context label ' + context + ' not below label ' + labels[x].value + ' of ' + x);
        }
    }
    Object.seal(O.value.properties);
    O.value.Extensible = false;
    return O;
}
// ------------------------------------------------------------
// 15.2.3.9
function freeze(thisArg, args) {
    var O = args[0] || new Value_1.Value(undefined, Label_1.bot);
    if (!Interfaces_1.IsIEcmaObject(O)) {
        AssertObject(O, 'Object.freeze');
        throw 'TypeScript';
    }
    var context = Label_1.lub(monitor.context.effectivePC, O.label);
    monitor.assert(Label_1.le(context, O.value.struct), 'Object.freeze: context label ' + context + ' not below structural label ' + O.value.struct + ' of object');
    var labels = O.value.labels;
    var properties = O.value.properties;
    for (var x in properties) {
        if (Object.hasOwnProperty.call(properties, x)) {
            var desc = Object.getOwnPropertyDescriptor(properties, x);
            if (desc.enumerable) {
                monitor.assert(Label_1.le(context, labels[x].value), 'Object.freeze: context label ' + context + ' not below label ' + labels[x].value + ' of ' + x);
            }
        }
    }
    Object.freeze(O.value.properties);
    O.value.Extensible = false;
    return O;
}
// ------------------------------------------------------------
// 15.2.3.10
function preventExtensions(thisArg, args) {
    var O = args[0] || new Value_1.Value(undefined, Label_1.bot);
    if (!Interfaces_1.IsIEcmaObject(O)) {
        AssertObject(O, 'Object.preventExtensions');
        throw 'TypeScript';
    }
    var context = Label_1.lub(monitor.context.effectivePC, O.label);
    monitor.assert(Label_1.le(context, O.value.struct), 'Object.preventExtensions: context label ' + context + ' not below structural label ' + O.value.struct + ' of object');
    Object.preventExtensions(O.value.properties);
    O.value.Extensible = false;
    return O;
}
// ------------------------------------------------------------
// 15.2.3.11
function isSealed(thisArg, args) {
    var O = args[0] || new Value_1.Value(undefined, Label_1.bot);
    if (!Interfaces_1.IsIEcmaObject(O)) {
        AssertObject(O, 'Object.isSealed');
        throw 'TypeScript';
    }
    var result = Object.isSealed(O.value.properties);
    return new Value_1.Value(result, Label_1.lub(O.label, O.value.struct));
}
// ------------------------------------------------------------
// 15.2.3.12
function isFrozen(thisArg, args) {
    var O = args[0] || new Value_1.Value(undefined, Label_1.bot);
    if (!Interfaces_1.IsIEcmaObject(O)) {
        AssertObject(O, 'Object.isFrozen');
        throw 'TypeScript';
    }
    var result = Object.isFrozen(O.value.properties);
    return new Value_1.Value(result, Label_1.lub(O.label, O.value.struct));
}
// ------------------------------------------------------------
// 15.2.3.13
function isExtensible(thisArg, args) {
    var O = args[0] || new Value_1.Value(undefined, Label_1.bot);
    if (!Interfaces_1.IsIEcmaObject(O)) {
        AssertObject(O, 'Object.isExtensible');
        throw 'TypeScript';
    }
    var result = Object.isExtensible(O.value.properties);
    return new Value_1.Value(result, Label_1.lub(O.label, O.value.struct));
}
// ------------------------------------------------------------
// 15.2.3.14
function keys(thisArg, args) {
    var O = args[0] || new Value_1.Value(undefined, Label_1.bot);
    if (!Interfaces_1.IsIEcmaObject(O)) {
        AssertObject(O, 'Object.isExtensible');
        throw 'TypeScript';
    }
    var enumerable = O.value.getOwnEnumerablePropertyNames(O.label);
    var array = ArrayObject_1.ArrayObject.fromPropertyArray(enumerable, O.value.struct);
    return new Value_1.Value(array, Label_1.bot);
}

},{"../Constants":64,"../Conversion/ToBoolean":81,"../Conversion/ToObject":85,"../Conversion/ToString":87,"../Define":91,"../HasInstance":120,"../Interfaces":122,"../Label":123,"../Objects/ArrayObject":132,"../Objects/BuiltinFunctionObject":134,"../Objects/EcmaObject":137,"../Objects/ObjectObject":146,"../PropertyDescriptor":156,"../Value":184}],73:[function(require,module,exports){
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var ErrorConstructor_1 = require("./ErrorConstructor");
var Label_1 = require("../Label");
var Value_1 = require("../Value");
var RangeErrorObject_1 = require("../Objects/RangeErrorObject");
var RangeErrorConstructor = /** @class */ (function (_super) {
    __extends(RangeErrorConstructor, _super);
    function RangeErrorConstructor(host) {
        return _super.call(this, host) || this;
    }
    RangeErrorConstructor.prototype.Setup = function () {
        this.SetupBase(monitor.instances.RangeErrorPrototype);
    };
    RangeErrorConstructor.prototype.Construct = function (args) {
        var message = args[0] || new Value_1.Value(undefined, Label_1.bot);
        var o = new RangeErrorObject_1.RangeErrorObject(message);
        return new Value_1.Value(o, Label_1.bot);
    };
    return RangeErrorConstructor;
}(ErrorConstructor_1.ErrorConstructor));
exports.RangeErrorConstructor = RangeErrorConstructor;

},{"../Label":123,"../Objects/RangeErrorObject":147,"../Value":184,"./ErrorConstructor":68}],74:[function(require,module,exports){
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var ErrorConstructor_1 = require("./ErrorConstructor");
var Label_1 = require("../Label");
var Value_1 = require("../Value");
var ReferenceErrorObject_1 = require("../Objects/ReferenceErrorObject");
var ReferenceErrorConstructor = /** @class */ (function (_super) {
    __extends(ReferenceErrorConstructor, _super);
    function ReferenceErrorConstructor(host) {
        return _super.call(this, host) || this;
    }
    ReferenceErrorConstructor.prototype.Setup = function () {
        this.SetupBase(monitor.instances.ReferenceErrorPrototype);
    };
    ReferenceErrorConstructor.prototype.Construct = function (args) {
        var message = args[0] || new Value_1.Value(undefined, Label_1.bot);
        var o = new ReferenceErrorObject_1.ReferenceErrorObject(message);
        return new Value_1.Value(o, Label_1.bot);
    };
    return ReferenceErrorConstructor;
}(ErrorConstructor_1.ErrorConstructor));
exports.ReferenceErrorConstructor = ReferenceErrorConstructor;

},{"../Label":123,"../Objects/ReferenceErrorObject":148,"../Value":184,"./ErrorConstructor":68}],75:[function(require,module,exports){
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var Value_1 = require("../Value");
var constants = require("../Constants");
var HasInstance_1 = require("../HasInstance");
var ToString_1 = require("../Conversion/ToString");
var Label_1 = require("../Label");
var RegExpObject_1 = require("../Objects/RegExpObject");
var Define_1 = require("../Define");
var EcmaObject_1 = require("../Objects/EcmaObject");
// ------------------------------------------------------------
// The RegExp Constructor, 15.10.5
var RegExpConstructor = /** @class */ (function (_super) {
    __extends(RegExpConstructor, _super);
    function RegExpConstructor(host) {
        var _this = _super.call(this) || this;
        _this.Class = 'Function';
        // not mandated by standard
        _this.Extensible = true;
        _this.host = host;
        return _this;
    }
    RegExpConstructor.prototype.Setup = function () {
        this.Prototype = new Value_1.Value(monitor.instances.FunctionPrototype, Label_1.bot);
        Define_1.DefineFFF(this, constants.length, 2);
        Define_1.DefineFFF(this, constants.prototype, monitor.instances.RegExpPrototype);
    };
    RegExpConstructor.prototype.HasInstance = function (V) {
        return HasInstance_1.HasInstance.call(this, V);
    };
    // 15.10.3.1
    RegExpConstructor.prototype.Call = function (thisArg, args) {
        var pattern = args[0] || new Value_1.Value(undefined, Label_1.bot);
        var flags = args[1] || new Value_1.Value(undefined, Label_1.bot);
        if (RegExpObject_1.IsRegExpObject(pattern) && flags.value === undefined) {
            return pattern;
        }
        return this.Construct(args);
    };
    // 15.10.4.1
    RegExpConstructor.prototype.Construct = function (args) {
        var c = monitor.context;
        var pattern = args[0] || new Value_1.Value(undefined, Label_1.bot);
        var flags = args[1] || new Value_1.Value(undefined, Label_1.bot);
        var P = "";
        var F = "";
        var l = Label_1.lub(pattern.label, flags.label);
        c.pushPC(l);
        if (RegExpObject_1.IsRegExpObject(pattern)) {
            if (flags.value === undefined) {
                var rx = pattern.value.PrimitiveValue;
                P = rx.source;
                F = (rx.global ? 'g' : '') + (rx.ignoreCase ? 'i' : '') + (rx.multiline ? 'm' : '');
            }
            else {
                monitor.Throw("TypeError", '', Label_1.bot);
            }
        }
        else {
            var _P = pattern.value === undefined ? new Value_1.Value("", l) : ToString_1.ToString(pattern);
            var _F = flags.value === undefined ? new Value_1.Value("", l) : ToString_1.ToString(flags);
            l = Label_1.lub(l, _P.label, _F.label);
            P = _P.value;
            F = _F.value;
        }
        var res;
        try {
            res = new RegExpObject_1.RegExpObject(new RegExp(P, F), l);
        }
        catch (e) {
            monitor.tryRethrow(e, true);
            monitor.fatal("RegExp.Construct, unable to lift " + e + " of type " + typeof e + " for RegExp(" + P + ", " + F + ")");
        }
        c.popPC();
        return new Value_1.Value(res, Label_1.bot);
    };
    return RegExpConstructor;
}(EcmaObject_1.EcmaObject));
exports.RegExpConstructor = RegExpConstructor;

},{"../Constants":64,"../Conversion/ToString":87,"../Define":91,"../HasInstance":120,"../Label":123,"../Objects/EcmaObject":137,"../Objects/RegExpObject":149,"../Value":184}],76:[function(require,module,exports){
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var Value_1 = require("../Value");
var constants = require("../Constants");
var BuiltinFunctionObject_1 = require("../Objects/BuiltinFunctionObject");
var HasInstance_1 = require("../HasInstance");
var ToUInt16_1 = require("../Conversion/ToUInt16");
var ToString_1 = require("../Conversion/ToString");
var Define_1 = require("../Define");
var EcmaObject_1 = require("../Objects/EcmaObject");
var Label_1 = require("../Label");
var StringObject_1 = require("../Objects/StringObject");
// ------------------------------------------------------------
// The String Constructor, 15.5.2
var StringConstructor = /** @class */ (function (_super) {
    __extends(StringConstructor, _super);
    function StringConstructor(host) {
        var _this = _super.call(this) || this;
        _this.Class = 'Function';
        // not mandated by standard
        _this.Extensible = true;
        _this.host = host;
        return _this;
    }
    StringConstructor.prototype.Setup = function () {
        this.Prototype = new Value_1.Value(monitor.instances.FunctionPrototype, Label_1.bot);
        Define_1.DefineFFF(this, constants.length, 1);
        Define_1.DefineFFF(this, constants.prototype, monitor.instances.StringPrototype);
        Define_1.DefineTFT(this, constants.fromCharCode, new BuiltinFunctionObject_1.BuiltinFunctionObject(fromCharCode, 1, this.host.fromCharCode));
    };
    StringConstructor.prototype.HasInstance = function (V) {
        return HasInstance_1.HasInstance.call(this, V);
    };
    // 15.5.1.1 -----------------------------------------------------------------
    StringConstructor.prototype.Call = function (thisArg, args) {
        if (!args[0]) {
            return new Value_1.Value('', Label_1.bot);
        }
        var str = ToString_1.ToString(args[0]);
        return str;
    };
    // 15.5.2.1 ----------------------------------------------------------------- 
    StringConstructor.prototype.Construct = function (args) {
        var value = args[0];
        var str;
        if (value) {
            var x = ToString_1.ToString(value);
            str = new StringObject_1.StringObject(x.value, x.label);
        }
        else {
            str = new StringObject_1.StringObject('');
        }
        return new Value_1.Value(str, Label_1.bot);
    };
    return StringConstructor;
}(EcmaObject_1.EcmaObject));
exports.StringConstructor = StringConstructor;
// --------------------------------------------------------------------------
// fromCharCode, 15.5.3.2 
function fromCharCode(thisArg, args) {
    var lbl = new Label_1.Label();
    var _args = [];
    for (var i = 0, len = args.length; i < len; i++) {
        var arg = ToUInt16_1.ToUInt16(args[i]);
        lbl = Label_1.lub(lbl, arg.label);
        _args[i] = arg.value;
    }
    var _String = monitor.instances.StringConstructor.host;
    var v = _String.fromCharCode.apply(_String, _args);
    return new Value_1.Value(v, lbl);
}

},{"../Constants":64,"../Conversion/ToString":87,"../Conversion/ToUInt16":88,"../Define":91,"../HasInstance":120,"../Label":123,"../Objects/BuiltinFunctionObject":134,"../Objects/EcmaObject":137,"../Objects/StringObject":150,"../Value":184}],77:[function(require,module,exports){
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var ErrorConstructor_1 = require("./ErrorConstructor");
var Label_1 = require("../Label");
var Value_1 = require("../Value");
var SyntaxErrorObject_1 = require("../Objects/SyntaxErrorObject");
var SyntaxErrorConstructor = /** @class */ (function (_super) {
    __extends(SyntaxErrorConstructor, _super);
    function SyntaxErrorConstructor(host) {
        return _super.call(this, host) || this;
    }
    SyntaxErrorConstructor.prototype.Setup = function () {
        this.SetupBase(monitor.instances.SyntaxErrorPrototype);
    };
    SyntaxErrorConstructor.prototype.Construct = function (args) {
        var message = args[0] || new Value_1.Value(undefined, Label_1.bot);
        var o = new SyntaxErrorObject_1.SyntaxErrorObject(message);
        return new Value_1.Value(o, Label_1.bot);
    };
    return SyntaxErrorConstructor;
}(ErrorConstructor_1.ErrorConstructor));
exports.SyntaxErrorConstructor = SyntaxErrorConstructor;

},{"../Label":123,"../Objects/SyntaxErrorObject":151,"../Value":184,"./ErrorConstructor":68}],78:[function(require,module,exports){
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var ErrorConstructor_1 = require("./ErrorConstructor");
var Label_1 = require("../Label");
var Value_1 = require("../Value");
var TypeErrorObject_1 = require("../Objects/TypeErrorObject");
var TypeErrorConstructor = /** @class */ (function (_super) {
    __extends(TypeErrorConstructor, _super);
    function TypeErrorConstructor(host) {
        return _super.call(this, host) || this;
    }
    TypeErrorConstructor.prototype.Setup = function () {
        this.SetupBase(monitor.instances.TypeErrorPrototype);
    };
    TypeErrorConstructor.prototype.Construct = function (args) {
        var message = args[0] || new Value_1.Value(undefined, Label_1.bot);
        var o = new TypeErrorObject_1.TypeErrorObject(message);
        return new Value_1.Value(o, Label_1.bot);
    };
    return TypeErrorConstructor;
}(ErrorConstructor_1.ErrorConstructor));
exports.TypeErrorConstructor = TypeErrorConstructor;

},{"../Label":123,"../Objects/TypeErrorObject":152,"../Value":184,"./ErrorConstructor":68}],79:[function(require,module,exports){
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var ErrorConstructor_1 = require("./ErrorConstructor");
var Label_1 = require("../Label");
var Value_1 = require("../Value");
var URIErrorObject_1 = require("../Objects/URIErrorObject");
var URIErrorConstructor = /** @class */ (function (_super) {
    __extends(URIErrorConstructor, _super);
    function URIErrorConstructor(host) {
        return _super.call(this, host) || this;
    }
    URIErrorConstructor.prototype.Setup = function () {
        this.SetupBase(monitor.instances.URIErrorPrototype);
    };
    URIErrorConstructor.prototype.Construct = function (args) {
        var message = args[0] || new Value_1.Value(undefined, Label_1.bot);
        var o = new URIErrorObject_1.URIErrorObject(message);
        return new Value_1.Value(o, Label_1.bot);
    };
    return URIErrorConstructor;
}(ErrorConstructor_1.ErrorConstructor));
exports.URIErrorConstructor = URIErrorConstructor;

},{"../Label":123,"../Objects/URIErrorObject":153,"../Value":184,"./ErrorConstructor":68}],80:[function(require,module,exports){
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/. */
Object.defineProperty(exports, "__esModule", { value: true });
var Label_1 = require("./Label");
var Stack_1 = require("./Stack");
var PP_1 = require("./PP");
var Result_1 = require("./Result");
// --- -----------------------------------------------------------------------
var Bucket = /** @class */ (function () {
    function Bucket(element, prev, next) {
        this.element = element;
        this.next = next || null;
        this.prev = prev || null;
    }
    return Bucket;
}());
function isGuardedFunction(el) {
    return el.runfor !== undefined;
}
exports.isGuardedFunction = isGuardedFunction;
function isClosure(el) {
    return el.func !== undefined;
}
exports.isClosure = isClosure;
var WorkList = /** @class */ (function () {
    function WorkList() {
        this.length = 0;
        this.head = null;
        this.thenloc = null;
    }
    // ---
    WorkList.prototype.toString = function () {
        var pos = this.head;
        var str = 'worklist:';
        var cnt = 1;
        while (pos) {
            var element = pos.element;
            var line;
            if (typeof element === 'function') {
                line = cnt + ': ' + String(element);
            }
            else if ('func' in element && 'data' in element) {
                line = cnt + ': ' + String(element.func);
            }
            else {
                //@ts-ignore TYPES
                line = cnt + ': ' + element.type + ' ' + PP_1.pretty(element);
            }
            var ix = line.indexOf('\n');
            if (ix > 0) {
                line = line.slice(0, ix);
            }
            str = str + '\n' + line;
            pos = pos.next;
            cnt++;
        }
        return str;
    };
    // ---
    WorkList.prototype.push = function (element) {
        this.head = new Bucket(element, null, this.head);
        if (this.head.next !== null) {
            this.head.next.prev = this.head;
        }
        this.length++;
    };
    // ---
    WorkList.prototype.prepend = function (elements) {
        for (var i = elements.length - 1; i >= 0; i--) {
            this.push(elements[i]);
        }
    };
    // ---
    WorkList.prototype.peek = function () {
        if (this.head === null) {
            return monitor.fatal("WorkList.peek() empty work list");
        }
        return this.head.element;
    };
    // ---
    WorkList.prototype.pop = function () {
        if (this.head === null) {
            return monitor.fatal("WorkList.pop() empty work list");
        }
        var element = this.head.element;
        this.head = this.head.next;
        this.length--;
        return element;
    };
    // ---
    WorkList.prototype.empty = function () {
        return (this.head === null);
    };
    // ---
    WorkList.prototype.top = function () {
        return new WorkListPtr(this, null);
    };
    // ---
    WorkList.prototype.first = function (element) {
        if (element) {
            this.push(element);
            this.thenloc = this.head;
        }
        else {
            // if no element given, reset thenloc to force next called 'then'
            // to be a 'first'
            this.thenloc = null;
        }
    };
    // ---
    WorkList.prototype.then = function (element) {
        if (!this.thenloc) {
            this.first(element);
        }
        else {
            var before = this.thenloc;
            var after = this.thenloc.next;
            var bucket = new Bucket(element, before, after);
            before.next = bucket;
            this.thenloc = before.next;
            if (after) {
                after.prev = before.next;
            }
            this.length++;
        }
    };
    return WorkList;
}());
exports.WorkList = WorkList;
// -------------------------------------------------------------
var WorkListPtr = /** @class */ (function () {
    function WorkListPtr(worklist, pos) {
        this.worklist = worklist;
        this.pos = pos;
    }
    WorkListPtr.prototype.then = function (element, data) {
        if (!element) {
            throw Error();
        }
        var thing = element;
        if (typeof element === 'function' && data) {
            thing = { func: element, data: data };
        }
        if (this.pos) {
            var before = this.pos;
            var after = this.pos.next;
            var bucket = new Bucket(thing, before, after);
            before.next = bucket;
            this.pos = before.next;
            if (after) {
                after.prev = before.next;
            }
            this.worklist.length++;
        }
        else {
            this.worklist.push(thing);
            this.pos = this.worklist.head;
        }
        return this;
    };
    return WorkListPtr;
}());
exports.WorkListPtr = WorkListPtr;
// -------------------------------------------------------------
// The Execution Context
var Context = /** @class */ (function () {
    function Context(thisValue, variableEnv, lexicalEnv) {
        this.labels = new /** @class */ (function () {
            function class_1(outer) {
                this.excLbl = Label_1.bot;
                this.retLbl = Label_1.bot;
                this.labelmap = {};
                this.outer = outer;
            }
            Object.defineProperty(class_1.prototype, "exc", {
                get: function () {
                    if (monitor.options.get('monitor.taintMode')) {
                        return Label_1.bot;
                    }
                    return this.excLbl;
                },
                set: function (l) {
                    this.excLbl = l;
                },
                enumerable: true,
                configurable: true
            });
            Object.defineProperty(class_1.prototype, "ret", {
                get: function () {
                    if (monitor.options.get('monitor.taintMode')) {
                        return Label_1.bot;
                    }
                    return this.retLbl;
                },
                set: function (l) {
                    this.retLbl = l;
                },
                enumerable: true,
                configurable: true
            });
            Object.defineProperty(class_1.prototype, "pc", {
                get: function () {
                    if (monitor.options.get('monitor.taintMode')) {
                        return Label_1.bot;
                    }
                    return this.outer.pcStack.peek();
                },
                set: function (l) {
                    this.outer.pcStack.pop();
                    this.outer.pcStack.push(l);
                },
                enumerable: true,
                configurable: true
            });
            return class_1;
        }())(this);
        this.thisValue = thisValue;
        this.variableEnv = variableEnv;
        this.lexicalEnv = lexicalEnv;
        this.pcStack = new Stack_1.Stack();
        this.pcStack.push(Label_1.bot);
        this.workList = new WorkList();
        this.result = new Result_1.Result();
        this.valueStack = new Stack_1.Stack();
        this.codeStack = new Stack_1.Stack();
    }
    Object.defineProperty(Context.prototype, "effectivePC", {
        // ---
        get: function () {
            if (monitor.options.get('monitor.taintMode')) {
                return Label_1.bot;
            }
            return Label_1.lub(this.labels.pc, this.labels.exc, this.labels.ret);
        },
        enumerable: true,
        configurable: true
    });
    // ---
    Context.prototype.clone = function (thisValue, variableEnv, lexicalEnv) {
        var tV = thisValue || this.thisValue;
        var lE = lexicalEnv || this.lexicalEnv;
        var vE = variableEnv || this.variableEnv;
        var newCtx = new Context(tV, vE, lE);
        newCtx.labels.pc = this.effectivePC;
        newCtx.labels.exc = this.labels.exc;
        newCtx.labels.ret = this.labels.ret;
        return newCtx;
    };
    // ---
    Context.prototype.pushPC = function (l) {
        this.pcStack.push(Label_1.lub(l, this.labels.pc));
    };
    // ---
    Context.prototype.raisePC = function (l) {
        this.labels.pc = Label_1.lub(this.labels.pc, l);
    };
    // ---
    Context.prototype.popPC = function () {
        return this.pcStack.pop();
    };
    return Context;
}());
exports.Context = Context;

},{"./Label":123,"./PP":155,"./Result":174,"./Stack":175}],81:[function(require,module,exports){
Object.defineProperty(exports, "__esModule", { value: true });
var Value_1 = require("../Value");
// -------------------------------------------------------------
// ToBoolean, 9.2
function ToBoolean(x) {
    return new Value_1.Value(Boolean(x.value), x.label);
}
exports.ToBoolean = ToBoolean;

},{"../Value":184}],82:[function(require,module,exports){
Object.defineProperty(exports, "__esModule", { value: true });
var ToNumber_1 = require("./ToNumber");
// -------------------------------------------------------------
// ToInt32, 9.5
function ToInt32(x) {
    return ToNumber_1.ToNumber(x);
}
exports.ToInt32 = ToInt32;

},{"./ToNumber":84}],83:[function(require,module,exports){
Object.defineProperty(exports, "__esModule", { value: true });
var Value_1 = require("../Value");
var ToNumber_1 = require("./ToNumber");
// -------------------------------------------------------------
// ToInteger, 9.4
//        Using ToNumber to capture the ToPrimitive
//        and rely on the internal conversion at the point of use
//        should suffice.
function ToInteger(x) {
    var number = ToNumber_1.ToNumber(x);
    if (isNaN(number.value)) {
        return new Value_1.Value(0, number.label);
    }
    else if (number.value === 0 ||
        number.value === Number.POSITIVE_INFINITY ||
        number.value === Number.NEGATIVE_INFINITY) {
        return number;
    }
    else {
        return new Value_1.Value(sign(number.value) * Math.floor(Math.abs(number.value)), number.label);
    }
}
exports.ToInteger = ToInteger;
function sign(n) {
    if (n > 0) {
        return 1;
    }
    else if (n < 0) {
        return -1;
    }
    return 0;
}

},{"../Value":184,"./ToNumber":84}],84:[function(require,module,exports){
Object.defineProperty(exports, "__esModule", { value: true });
var Value_1 = require("../Value");
var ToPrimitive_1 = require("./ToPrimitive");
// -------------------------------------------------------------
// ToNumber, 9.3
function ToNumber(x) {
    if (typeof x.value !== 'object') {
        return new Value_1.Value(Number(x.value), x.label);
    }
    monitor.context.pushPC(x.label);
    var primValue = ToPrimitive_1.ToPrimitive(x, 'number');
    monitor.context.popPC();
    return new Value_1.Value(Number(primValue.value), primValue.label);
}
exports.ToNumber = ToNumber;

},{"../Value":184,"./ToPrimitive":86}],85:[function(require,module,exports){
Object.defineProperty(exports, "__esModule", { value: true });
var Value_1 = require("../Value");
var Label_1 = require("../Label");
var BooleanObject_1 = require("../Objects/BooleanObject");
var NumberObject_1 = require("../Objects/NumberObject");
var StringObject_1 = require("../Objects/StringObject");
// -------------------------------------------------------------
// ToObject, 9.9
function ToObject(x) {
    // null or undefined, hence ==
    var value = x.value;
    if (value === null || value === undefined) {
        monitor.context.pushPC(x.label);
        monitor.Throw("TypeError", 'cannot convert ' + String(x.value) + ' to object', Label_1.bot);
    }
    monitor.context.pushPC(x.label);
    var res = undefined;
    switch (typeof x.value) {
        case 'boolean':
            res = new Value_1.Value(new BooleanObject_1.BooleanObject(x.value, x.label), x.label);
            break;
        case 'number':
            res = new Value_1.Value(new NumberObject_1.NumberObject(x.value, x.label), x.label);
            break;
        case 'string':
            //@ts-ignore
            res = new Value_1.Value(new StringObject_1.StringObject(x.value, x.label), x.label);
            break;
    }
    monitor.context.popPC();
    if (res !== undefined) {
        return res;
    }
    else {
        //@ts-ignore
        return new Value_1.Value(x.value, x.label);
    }
}
exports.ToObject = ToObject;

},{"../Label":123,"../Objects/BooleanObject":133,"../Objects/NumberObject":145,"../Objects/StringObject":150,"../Value":184}],86:[function(require,module,exports){
Object.defineProperty(exports, "__esModule", { value: true });
// -------------------------------------------------------------
// ToPrimitive, 9.1  
function ToPrimitive(x, PreferredType) {
    if (x.value === null || typeof x.value !== 'object') {
        // @ts-ignore
        return x;
    }
    // will run int the context of x due to value lifting
    var res = x.DefaultValue(PreferredType);
    return res;
}
exports.ToPrimitive = ToPrimitive;

},{}],87:[function(require,module,exports){
Object.defineProperty(exports, "__esModule", { value: true });
var Value_1 = require("../Value");
var ToPrimitive_1 = require("./ToPrimitive");
// -------------------------------------------------------------
// ToString, 9.8
function ToString(x) {
    if (typeof x.value !== 'object')
        return new Value_1.Value(String(x.value), x.label);
    monitor.context.pushPC(x.label);
    var primValue = ToPrimitive_1.ToPrimitive(x, 'string');
    monitor.context.popPC();
    return new Value_1.Value(String(primValue.value), primValue.label);
}
exports.ToString = ToString;

},{"../Value":184,"./ToPrimitive":86}],88:[function(require,module,exports){
Object.defineProperty(exports, "__esModule", { value: true });
var Value_1 = require("../Value");
var ToNumber_1 = require("./ToNumber");
// -------------------------------------------------------------
// ToUInt16, 9.7
function ToUInt16(x) {
    var number = ToNumber_1.ToNumber(x);
    if (isNaN(number.value) ||
        number.value === 0 ||
        number.value === Number.POSITIVE_INFINITY ||
        number.value === Number.NEGATIVE_INFINITY) {
        return new Value_1.Value(0, number.label);
    }
    var posInt = sign(number.value) * Math.floor(Math.abs(number.value));
    var int16bit = posInt % Math.pow(2, 16);
    return new Value_1.Value(int16bit, number.label);
}
exports.ToUInt16 = ToUInt16;
function sign(n) {
    if (n > 0) {
        return 1;
    }
    else if (n < 0) {
        return -1;
    }
    return 0;
}
;

},{"../Value":184,"./ToNumber":84}],89:[function(require,module,exports){
Object.defineProperty(exports, "__esModule", { value: true });
var ToNumber_1 = require("./ToNumber");
// -------------------------------------------------------------
// ToUInt32, 9.6
function ToUInt32(x) {
    return ToNumber_1.ToNumber(x);
}
exports.ToUInt32 = ToUInt32;

},{"./ToNumber":84}],90:[function(require,module,exports){
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var Label_1 = require("./Label");
var Value_1 = require("./Value");
var EcmaObject_1 = require("./Objects/EcmaObject");
var LexicalEnvironment_1 = require("./LexicalEnvironment");
// ------------------------------------------------------------
// 10.2.2.2
function NewDeclarativeEnvironment(e) {
    var envRec = new DeclarativeEnvironmentRecord();
    var env = new LexicalEnvironment_1.LexicalEnvironment(envRec, e);
    return env;
}
exports.NewDeclarativeEnvironment = NewDeclarativeEnvironment;
// ------------------------------------------------------------
// Declarative Environment Record, 10.2.1.1
var DeclarativeEnvironmentRecord = /** @class */ (function (_super) {
    __extends(DeclarativeEnvironmentRecord, _super);
    function DeclarativeEnvironmentRecord() {
        return _super.call(this) || this;
    }
    // HasBinding, 10.2.1.1.1
    DeclarativeEnvironmentRecord.prototype.HasBinding = function (s) {
        return this.HasProperty(s);
    };
    // CreateMutableBinding, 10.2.1.1.2
    DeclarativeEnvironmentRecord.prototype.CreateMutableBinding = function (p, d) {
        var desc = {
            value: undefined,
            label: monitor.context.effectivePC,
            writable: true,
            enumerable: true,
            configurable: d
        };
        this.DefineOwnProperty(p, desc, true);
    };
    // GetBindingValue 10.2.1.1.4
    DeclarativeEnvironmentRecord.prototype.GetBindingValue = function (p, s) {
        return this.Get(p);
    };
    // SetMutableBinding, 10.2.1.1.3
    DeclarativeEnvironmentRecord.prototype.SetMutableBinding = function (p, v, s) {
        this.Put(p, v, s === true);
    };
    // DeleteBinding, 10.2.1.1.5
    DeclarativeEnvironmentRecord.prototype.DeleteBinding = function (p) {
        return this.Delete(p);
    };
    // ImplicitThisValie. 10.2.1.1.6
    DeclarativeEnvironmentRecord.prototype.ImplicitThisValue = function () {
        return new Value_1.Value(undefined, Label_1.bot);
    };
    // CreateImmutableBinding, 10.2.1.1.7
    DeclarativeEnvironmentRecord.prototype.CreateImmutableBinding = function (p) {
        var desc = {
            value: undefined,
            label: Label_1.bot,
            writable: false,
            enumerable: true,
            configurable: true
        };
        this.DefineOwnProperty(p, desc, false);
    };
    // InitializeImmutableBinding, 10.2.1.1.8
    DeclarativeEnvironmentRecord.prototype.InitializeImmutableBinding = function (p, v) {
        var desc = this.GetOwnProperty(p).value;
        if (desc === undefined) {
            monitor.fatal("InitializeImmutableBinding: no bindinging for {p.value}");
        }
        else {
            desc.value = v.value;
            desc.label = v.label;
            // @ts-ignore desc should be a data descriptor created by CreateImmutableBinding
            this.DefineOwnProperty(p, desc, false);
        }
    };
    return DeclarativeEnvironmentRecord;
}(EcmaObject_1.EcmaObject));
exports.DeclarativeEnvironmentRecord = DeclarativeEnvironmentRecord;

},{"./Label":123,"./LexicalEnvironment":124,"./Objects/EcmaObject":137,"./Value":184}],91:[function(require,module,exports){
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/. */
Object.defineProperty(exports, "__esModule", { value: true });
var Label_1 = require("./Label");
// TODO: label of name not used; only Value to be compatible with constants - reasonable?
function Define(_this, name, v, opts) {
    opts = opts || {};
    var pd = {
        value: v,
        writable: opts.writable === true,
        enumerable: opts.enumerable === true,
        configurable: opts.configurable === true
    };
    Object.defineProperty(_this.properties, name.value, pd);
    _this.labels[name.value] = { value: opts.label || Label_1.bot, existence: opts.existence || Label_1.bot };
}
exports.Define = Define;
// ---
function DefineFFT(_this, name, v, opts) {
    opts = opts || {};
    Object.defineProperty(_this.properties, name.value, {
        value: v,
        configurable: true
    });
    _this.labels[name.value] = { value: opts.label || Label_1.bot, existence: opts.existence || Label_1.bot };
}
exports.DefineFFT = DefineFFT;
// ---
function DefineFFF(_this, name, v, opts) {
    opts = opts || {};
    Object.defineProperty(_this.properties, name.value, { value: v });
    _this.labels[name.value] = { value: opts.label || Label_1.bot, existence: opts.existence || Label_1.bot };
}
exports.DefineFFF = DefineFFF;
// ---
function DefineTFF(_this, name, v, opts) {
    opts = opts || {};
    Object.defineProperty(_this.properties, name.value, {
        value: v,
        writable: true
    });
    _this.labels[name.value] = { value: opts.label || Label_1.bot, existence: opts.existence || Label_1.bot };
}
exports.DefineTFF = DefineTFF;
// ---
function DefineTFT(_this, name, v, opts) {
    opts = opts || {};
    Object.defineProperty(_this.properties, name.value, {
        value: v,
        writable: true,
        configurable: true
    });
    _this.labels[name.value] = { value: opts.label || Label_1.bot, existence: opts.existence || Label_1.bot };
}
exports.DefineTFT = DefineTFT;
// ------------------------------------------------------------

},{"./Label":123}],92:[function(require,module,exports){
Object.defineProperty(exports, "__esModule", { value: true });
var Value_1 = require("../Value");
var Label_1 = require("../Label");
var ToNumber_1 = require("../Conversion/ToNumber");
var ToPrimitive_1 = require("../Conversion/ToPrimitive");
var ToUInt32_1 = require("../Conversion/ToUInt32");
var ToInt32_1 = require("../Conversion/ToInt32");
var ToString_1 = require("../Conversion/ToString");
var GetValue_1 = require("../GetValue");
var ToBoolean_1 = require("../Conversion/ToBoolean");
// -------------------------------------------------------------
// Equality Operators, 11.9
function binaryEqs(op, wl, vs) {
    // @ts-ignore
    var rval = vs.pop();
    // @ts-ignore
    var lval = vs.pop();
    var res;
    while (true) {
        var lt = typeof lval.value;
        var rt = typeof rval.value;
        lt = lval.value === undefined ? 'undefined' : lt;
        rt = rval.value === undefined ? 'undefined' : rt;
        lt = lval.value === null ? 'null' : lt;
        rt = rval.value === null ? 'null' : rt;
        // must use strict in order not to trigger conversion
        //   but then null and undefined must be handled separately
        if (lt === rt) {
            res = new Value_1.Value(lval.value === rval.value, Label_1.lub(lval.label, rval.label));
            break;
        }
        if ((lval.value === null && rval.value === undefined) ||
            (lval.value === undefined && rval.value === null)) {
            res = new Value_1.Value(true, Label_1.lub(lval.label, rval.label));
            break;
        }
        if (lt === 'number' && rt === 'string') {
            rval = ToNumber_1.ToNumber(rval);
            continue;
        }
        if (lt === 'string' && rt === 'number') {
            lval = ToNumber_1.ToNumber(lval);
            continue;
        }
        if (lt === 'boolean') {
            lval = ToNumber_1.ToNumber(lval);
            continue;
        }
        if (rt === 'boolean') {
            rval = ToNumber_1.ToNumber(rval);
            continue;
        }
        if ((lt === 'string' || lt === 'number') &&
            rt === 'object') {
            rval = ToPrimitive_1.ToPrimitive(rval);
            continue;
        }
        if (lt === 'object' &&
            (rt === 'string' || rt === 'number')) {
            lval = ToPrimitive_1.ToPrimitive(lval);
            continue;
        }
        res = new Value_1.Value(false, Label_1.lub(lval.label, rval.label));
        break;
    }
    if (op === '!=') {
        res.value = !res.value;
    }
    vs.push(res);
}
// -------------------------------------------------------------
// Strict Equality Operators, 11.9.4, 11.9.5
function binaryStrictEqs(op, wl, vs) {
    // @ts-ignore
    var rval = vs.pop();
    // @ts-ignore
    var lval = vs.pop();
    var res = new Value_1.Value(lval.value === rval.value, Label_1.lub(lval.label, rval.label));
    if (op === '!==') {
        res.value = !res.value;
    }
    vs.push(res);
}
exports.binaryStrictEqs = binaryStrictEqs;
// -------------------------------------------------------------
// Relational Operators, 11.8
//  The evaluation order is important, 11.8.5
function binaryOrds(op, wl, vs) {
    // @ts-ignore
    var rval = vs.pop();
    // @ts-ignore
    var lval = vs.pop();
    var lprim, rprim;
    if (op.charAt(0) === '<' || op.charAt(0) === '>') {
        lprim = ToPrimitive_1.ToPrimitive(lval, 'number');
        rprim = ToPrimitive_1.ToPrimitive(rval, 'number');
    }
    else {
        lprim = ToPrimitive_1.ToPrimitive(lval);
        rprim = ToPrimitive_1.ToPrimitive(rval);
    }
    var res;
    if (typeof lprim.value !== 'string' &&
        typeof rprim.value !== 'string') {
        var lnum = ToNumber_1.ToNumber(lprim);
        var rnum = ToNumber_1.ToNumber(rprim);
        var val = eval('lnum.value ' + op + ' rnum.value');
        res = new Value_1.Value(val, Label_1.lub(lnum.label, rnum.label));
    }
    else {
        var val = eval('lprim.value ' + op + ' rprim.value');
        res = new Value_1.Value(val, Label_1.lub(lprim.label, rprim.label));
    }
    vs.push(res);
}
// -------------------------------------------------------------
// Bitwise Shift Operators, 11.7
function binaryShifts(op, wl, vs) {
    // @ts-ignore
    var rval = vs.pop();
    // @ts-ignore
    var lval = vs.pop();
    var lnum = (op === '>>>') ? ToUInt32_1.ToUInt32(lval) : ToInt32_1.ToInt32(lval);
    var rnum = ToUInt32_1.ToUInt32(rval);
    var val = eval('lnum.value ' + op + ' rnum.value');
    vs.push(new Value_1.Value(val, Label_1.lub(lnum.label, rnum.label)));
}
// -------------------------------------------------------------
// Binary Bitwise Operators, 11.10
function binaryBitwiseOps(op, wl, vs) {
    // @ts-ignore
    var rval = vs.pop();
    // @ts-ignore
    var lval = vs.pop();
    var lnum = ToInt32_1.ToInt32(lval);
    var rnum = ToInt32_1.ToInt32(rval);
    var val = eval('lnum.value ' + op + ' rnum.value');
    vs.push(new Value_1.Value(val, Label_1.lub(lnum.label, rnum.label)));
}
// -------------------------------------------------------------
// Plus, 11.6
function binaryPlus(wl, vs) {
    // @ts-ignore
    var rval = vs.pop();
    // @ts-ignore
    var lval = vs.pop();
    var lprim = ToPrimitive_1.ToPrimitive(lval);
    var rprim = ToPrimitive_1.ToPrimitive(rval);
    var res;
    if ((typeof lprim.value) === 'string' ||
        (typeof rprim.value) === 'string') {
        var lstr = ToString_1.ToString(lprim);
        var rstr = ToString_1.ToString(rprim);
        res = new Value_1.Value(lstr.value + rstr.value, Label_1.lub(lprim.label, rprim.label));
    }
    else {
        var lnum = ToNumber_1.ToNumber(lprim);
        var rnum = ToNumber_1.ToNumber(rprim);
        res = new Value_1.Value(lnum.value + rnum.value, Label_1.lub(lnum.label, rnum.label));
    }
    vs.push(res);
}
// -------------------------------------------------------------
// Multiplicative operators, 11.5, and minus, 11.6
function binaryArithmeticOps(op, wl, vs) {
    // @ts-ignore
    var rval = vs.pop();
    // @ts-ignore
    var lval = vs.pop();
    var leftNum = ToNumber_1.ToNumber(lval);
    var rightNum = ToNumber_1.ToNumber(rval);
    var val = eval('leftNum.value ' + op + ' rightNum.value');
    vs.push(new Value_1.Value(val, Label_1.lub(leftNum.label, rightNum.label)));
}
// -------------------------------------------------------------
// The in operator, 11.8.7
function binaryIn(wl, vs) {
    // @ts-ignore
    var rval = vs.pop();
    // @ts-ignore
    var lval = vs.pop();
    if (typeof rval.value !== 'object') {
        if (false) { // SILENT ERROR
            vs.push(new Value_1.Value(false, Label_1.lub(lval.label, rval.label)));
            return;
        }
        monitor.Throw("TypeError", "invalid 'in' parameter", rval.label);
    }
    vs.push(rval.HasProperty(ToString_1.ToString(lval)));
}
// -------------------------------------------------------------
// The instanceof operator, 11.8.6
function binaryInstanceof(wl, vs) {
    // @ts-ignore
    var rval = vs.pop();
    // @ts-ignore
    var lval = vs.pop();
    if (rval.value === null || typeof rval.value !== 'object') {
        if (false) { // SILENT ERROR
            vs.push(new Value_1.Value(false, Label_1.lub(lval.label, rval.label)));
        }
        monitor.Throw("TypeError", "invalid 'instanceof' parameter", rval.label);
        throw 'TypeScript';
    }
    if (!('HasInstance' in rval.value)) {
        if (false) { // SILENT ERROR
            vs.push(new Value_1.Value(false, Label_1.lub(lval.label, rval.label)));
        }
        monitor.Throw("TypeError", "invalid 'instanceof' parameter", rval.label);
    }
    vs.push(rval.HasInstance(lval));
}
// -------------------------------------------------------------
exports.binarytbl = {
    '==': binaryEqs.bind(null, '=='),
    '!=': binaryEqs.bind(null, '!='),
    '===': binaryStrictEqs.bind(null, '==='),
    '!==': binaryStrictEqs.bind(null, '!=='),
    '<': binaryOrds.bind(null, '<'),
    '<=': binaryOrds.bind(null, '<='),
    '>': binaryOrds.bind(null, '>'),
    '>=': binaryOrds.bind(null, '>='),
    '<<': binaryShifts.bind(null, '<<'),
    '>>': binaryShifts.bind(null, '>>'),
    '>>>': binaryShifts.bind(null, '>>>'),
    '+': binaryPlus,
    '-': binaryArithmeticOps.bind(null, '-'),
    '*': binaryArithmeticOps.bind(null, '*'),
    '/': binaryArithmeticOps.bind(null, '/'),
    '%': binaryArithmeticOps.bind(null, '%'),
    '|': binaryBitwiseOps.bind(null, '|'),
    '&': binaryBitwiseOps.bind(null, '&'),
    '^': binaryBitwiseOps.bind(null, '^'),
    'in': binaryIn,
    'instanceof': binaryInstanceof
};
// -------------------------------------------------------------
// Binary Logical ||, 11.11
function binaryLogicalOr(wl, vs) {
    //@ts-ignore STACK
    var lval = GetValue_1.GetValue(vs.pop());
    vs.push(lval);
    var lb = ToBoolean_1.ToBoolean(lval);
    var right = wl.pop();
    if (lb.value) {
        return;
    }
    monitor.context.pushPC(lb.label);
    var ip = wl.top();
    ip.then(right);
    ip.then(binaryLogicalOr_end);
}
// ---
function binaryLogicalOr_end(wl, vs) {
    //@ts-ignore STACK
    var rval = GetValue_1.GetValue(vs.pop());
    //@ts-ignore
    var lval = vs.pop();
    monitor.context.popPC();
    vs.push(new Value_1.Value(rval.value, Label_1.lub(rval.label, lval.label)));
}
// -------------------------------------------------------------
// Binary Logical &&, 11.11
function binaryLogicalAnd(wl, vs) {
    //@ts-ignore STACK
    var lval = GetValue_1.GetValue(vs.pop());
    vs.push(lval);
    var lb = ToBoolean_1.ToBoolean(lval);
    var right = wl.pop();
    if (!lb.value) {
        return;
    }
    monitor.context.pushPC(lb.label);
    var ip = wl.top();
    ip.then(right);
    ip.then(binaryLogicalAnd_end);
}
// ---
function binaryLogicalAnd_end(wl, vs) {
    //@ts-ignore STACK
    var rval = GetValue_1.GetValue(vs.pop());
    //@ts-ignore STACK
    var lval = vs.pop();
    monitor.context.popPC();
    vs.push(new Value_1.Value(rval.value, Label_1.lub(rval.label, lval.label)));
}
// -------------------------------------------------------------
exports.logicaltbl = {
    '||': binaryLogicalOr,
    '&&': binaryLogicalAnd
};
// -------------------------------------------------------------
function assignmentOps(op, wl, vs) {
    //@ts-ignore STACK
    var rval = GetValue_1.GetValue(vs.pop());
    var lref = vs.pop();
    if (op !== null) {
        vs.push(lref);
        //@ts-ignore STACK
        vs.push(GetValue_1.GetValue(lref));
        vs.push(rval);
        exports.binarytbl[op](wl, vs);
    }
    else {
        vs.push(lref);
        vs.push(rval);
    }
}
exports.assignmenttbl = {
    '=': assignmentOps.bind(null, null),
    '+=': assignmentOps.bind(null, '+'),
    '-=': assignmentOps.bind(null, '-'),
    '*=': assignmentOps.bind(null, '*'),
    '/=': assignmentOps.bind(null, '/'),
    '%=': assignmentOps.bind(null, '%'),
    '>>=': assignmentOps.bind(null, '>>'),
    '<<=': assignmentOps.bind(null, '<<'),
    '>>>=': assignmentOps.bind(null, '>>>'),
    '|=': assignmentOps.bind(null, '|'),
    '&=': assignmentOps.bind(null, '&'),
    '^=': assignmentOps.bind(null, '^')
};

},{"../Conversion/ToBoolean":81,"../Conversion/ToInt32":82,"../Conversion/ToNumber":84,"../Conversion/ToPrimitive":86,"../Conversion/ToString":87,"../Conversion/ToUInt32":89,"../GetValue":119,"../Label":123,"../Value":184}],93:[function(require,module,exports){
Object.defineProperty(exports, "__esModule", { value: true });
var FunctionObject_1 = require("../Objects/FunctionObject");
var ArgumentsObject_1 = require("../Objects/ArgumentsObject");
var Value_1 = require("../Value");
var Label_1 = require("../Label");
var constants = require("../Constants");
var estraverse = require("estraverse");
// ------------------------------------------------------------
// 10.5 - strict ignored
function DeclarationBindingInstantiation(context, F, args) {
    var isFunctionCode, isEvalCode, code;
    if (F instanceof FunctionObject_1.FunctionObject) {
        isFunctionCode = true;
        isEvalCode = false;
        code = F.Code;
    }
    else {
        isFunctionCode = false;
        isEvalCode = true;
        code = F;
    }
    var env = context.variableEnv;
    var configurableBindings = isEvalCode;
    if (isFunctionCode) {
        BindArguments(env, F.FormalParameters, args);
    }
    var pc = context.effectivePC;
    HoistFunctions(env, code, configurableBindings, pc);
    var argumentsAlreadyDeclared = env.HasBinding(constants['arguments']);
    if (isFunctionCode && !argumentsAlreadyDeclared.value) {
        // make sure it returns a Value
        var argsObj = ArgumentsObject_1.CreateArgumentsObject(env, F, args);
        // Should no longer be supported
        // F.DefineOwnProperty(constants['arguments'], argsObj, false);
        env.CreateMutableBinding(constants['arguments']);
        env.SetMutableBinding(constants['arguments'], argsObj, false);
    }
    HoistVariables(env, code, configurableBindings, pc);
}
exports.DeclarationBindingInstantiation = DeclarationBindingInstantiation;
// ------------------------------------------------------------
// Function hoisting, part of 10.5
function HoistFunctions(env, script, configurableBinding, pc) {
    if (!script.functionDeclarations) {
        // 
        script.functionDeclarations = [];
        var visitor = {};
        //@ts-ignore SYNTAX
        visitor.leave = function () { };
        //@ts-ignore SYNTAX
        visitor.enter = function (node) {
            if (node.type === 'FunctionDeclaration') {
                script.functionDeclarations.push(node);
            }
            // Do not hoist inside functions
            if (node.type === 'FunctionDeclaration' ||
                node.type === 'FunctionExpression') {
                this.skip();
            }
        };
        estraverse.traverse(script, visitor);
    }
    var ds = script.functionDeclarations;
    var i;
    var len = ds.length;
    for (i = 0; i < len; i++) {
        var fn = new Value_1.Value(ds[i].id.name, Label_1.bot);
        var fo = new FunctionObject_1.FunctionObject(ds[i].params, ds[i].body, env);
        fo.Name = ds[i].id.name;
        fo.Source = ds[i];
        var funcAlreadyDeclared = env.HasBinding(fn);
        if (!funcAlreadyDeclared.value) {
            env.CreateMutableBinding(fn, configurableBinding);
        }
        env.SetMutableBinding(fn, new Value_1.Value(fo, pc));
    }
}
exports.HoistFunctions = HoistFunctions;
// ------------------------------------------------------------
// Variable hoisting, part of 10.5
function HoistVariables(env, script, configurableBindings, pc) {
    if (!script.variableDeclarations) {
        script.variableDeclarations = [];
        var visitor = {};
        //@ts-ignore SYNTAX
        visitor.leave = function () { };
        //@ts-ignore SYNTAX
        visitor.enter = function (node) {
            // Do not hoist inside functions
            if (node.type === 'FunctionDeclaration' ||
                node.type === 'FunctionExpression') {
                this.skip();
            }
            if (node.type === 'VariableDeclaration') {
                for (var i = 0, len = node.declarations.length; i < len; i++) {
                    var declarator = node.declarations[i];
                    var pattern = declarator.id;
                    script.variableDeclarations.push(pattern);
                }
            }
        };
        estraverse.traverse(script, visitor);
    }
    var ds = script.variableDeclarations;
    var i;
    var len = ds.length;
    for (i = 0; i < len; i++) {
        if (ds[i].type !== 'Identifier') {
            monitor.fatal('Patters is variable declarations not supported');
        }
        // declarations are indentifiers, not general patterns
        var dn = new Value_1.Value(ds[i].name, Label_1.bot);
        var varAlreadyDeclared = env.HasBinding(dn);
        if (!varAlreadyDeclared.value) {
            env.CreateMutableBinding(dn, configurableBindings);
            env.SetMutableBinding(dn, new Value_1.Value(undefined, pc));
        }
    }
}
exports.HoistVariables = HoistVariables;
// ------------------------------------------------------------
// Bind Arguments, 
function BindArguments(env, names, args) {
    if (args == undefined)
        return;
    var argCount = args.length;
    var nameCount = names.length;
    monitor.context.pushPC(Label_1.bot);
    for (var n = 0; n < nameCount; n++) {
        var v;
        if (n >= argCount)
            v = new Value_1.Value(undefined, Label_1.bot);
        else
            v = args[n];
        var id = names[n];
        if (id.type !== 'Identifier') {
            monitor.fatal(id.type + ' is not supported in BindArguments');
        }
        var argName = new Value_1.Value(id.name, Label_1.bot);
        var argAlreadyDeclared = env.HasBinding(argName);
        monitor.context.raisePC(argAlreadyDeclared.label);
        if (!argAlreadyDeclared.value) {
            env.CreateMutableBinding(argName);
        }
        env.SetMutableBinding(argName, v);
    }
    monitor.context.popPC();
}
exports.BindArguments = BindArguments;

},{"../Constants":64,"../Label":123,"../Objects/ArgumentsObject":131,"../Objects/FunctionObject":140,"../Value":184,"estraverse":19}],94:[function(require,module,exports){
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __read = (this && this.__read) || function (o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
    }
    catch (error) { e = { error: error }; }
    finally {
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        }
        finally { if (e) throw e.error; }
    }
    return ar;
};
var __spread = (this && this.__spread) || function () {
    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));
    return ar;
};
Object.defineProperty(exports, "__esModule", { value: true });
var JSFlowDebugError = /** @class */ (function (_super) {
    __extends(JSFlowDebugError, _super);
    function JSFlowDebugError() {
        var args = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            args[_i] = arguments[_i];
        }
        return _super.apply(this, __spread(args)) || this;
    }
    return JSFlowDebugError;
}(Error));
exports.JSFlowDebugError = JSFlowDebugError;
function AssertValueStackSize(expectedSize, vs) {
    if (vs.size() !== expectedSize) {
        throw new JSFlowDebugError("Expected size of value stack to be " + expectedSize + " but it is " + vs.size());
    }
}
exports.AssertValueStackSize = AssertValueStackSize;
function CheckValueStackSize(expectedSize, msg) {
    var exc = new JSFlowDebugError();
    return function (wl, vs) {
        if (vs.size() !== expectedSize) {
            exc.message = "Expected size of value stack to be " + expectedSize + " but it is " + vs.size();
            throw exc;
        }
    };
}
exports.CheckValueStackSize = CheckValueStackSize;
function IsCanary(x) {
    return typeof x === 'object' && x !== null && x.token !== undefined && x.vssize !== undefined;
}
function PushCanary(vs, owner) {
    var canary = { token: Math.floor(Math.random() * Number.MAX_SAFE_INTEGER), owner: owner, vssize: vs.size() };
    //@ts-ignore CANARY
    vs.push(canary);
    return canary;
}
exports.PushCanary = PushCanary;
function AssertValidCanary(vs, expected) {
    var x = vs.pop();
    if (!IsCanary(x) || x.token !== expected.token) {
        vs.push(x);
        console.log('[JSFlow FATAL] Canary verification failed:', Error().stack);
        throw new JSFlowDebugError("Cannot verify canary");
    }
}
exports.AssertValidCanary = AssertValidCanary;

},{}],95:[function(require,module,exports){
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var Result_1 = require("../Result");
var Value_1 = require("../Value");
var Label_1 = require("../Label");
var SyntaxErrorObject_1 = require("../Objects/SyntaxErrorObject");
var Context_1 = require("../Context");
var Expression_1 = require("./Expression");
var Statement_1 = require("./Statement");
var esprima = require("esprima");
var Binding_1 = require("./Binding");
var DeclarativeEnvironmentRecord_1 = require("../DeclarativeEnvironmentRecord");
var ObjectEnvironmentRecord_1 = require("../ObjectEnvironmentRecord");
var Task_1 = require("./Task");
var CrawlerUtil_1 = require("../Toplevel/crawler/CrawlerUtil");
// ------------------------------------------------------------
function running() {
    return !monitor.context.workList.empty();
}
exports.running = running;
// ------------------------------------------------------------
function execute(ast, debugEnabled) {
    monitor.context.workList.push(ast);
    monitor.context.result = new Result_1.Result();
    if (debugEnabled === undefined) {
        debugEnabled = true;
    }
    var cont = true;
    do {
        if (debugEnabled && monitor.debug.active) {
            return monitor.context.result;
        }
        cont = step();
        monitor.executionInfo.step();
    } while (cont);
    // #CRAWLER
    if (CrawlerUtil_1.IsCrawler(monitor)) {
        monitor.CrawlerData.DumpToCrawler();
    }
    return monitor.context.result;
}
exports.execute = execute;
// ------------------------------------------------------------
function resume() {
    var cont = true;
    do {
        cont = step();
        if (monitor.debug.active) {
            return monitor.context.result;
        }
    } while (cont);
    return monitor.context.result;
}
exports.resume = resume;
// ------------------------------------------------------------
function executeGlobalCode(code, origin, options) {
    try {
        /* convert code to es5, using sourceType 'unambigious', meaning it will be
         * interpreted as script in a browser and _not_ add "use strict", and
         * either a script or module in nodejs (and add "use strict" if it is a
         * module) */
        var transformed = monitor.transform(code);
        monitor.code = code;
        monitor.ast = esprima.parse(transformed, { loc: true, range: true, tolerant: true });
    }
    catch (e) {
        var msg = new Value_1.Value(e.description + " in " + origin + " : " + e.lineNumber + " : " + e.column, Label_1.bot);
        var obj = new SyntaxErrorObject_1.SyntaxErrorObject(msg);
        var result_1 = new Result_1.Result();
        result_1.type = 'throw';
        result_1.value = new Value_1.Value(obj, Label_1.bot);
        return result_1;
    }
    var debugEnabled = true;
    if (options && typeof options.debugEnabled !== 'undefined') {
        debugEnabled = options.debugEnabled;
    }
    enterGlobalCode(monitor.ast);
    var result = execute(monitor.ast, debugEnabled);
    monitor.executionInfo.report();
    return result;
}
exports.executeGlobalCode = executeGlobalCode;
// ------------------------------------------------------------
//   contains the declaration binding (10.5) of global code
function enterGlobalCode(ast) {
    var c = monitor.context;
    // 10.5 - hoisting
    Binding_1.HoistFunctions(c.variableEnv, ast, false, Label_1.bot);
    Binding_1.HoistVariables(c.variableEnv, ast, false, Label_1.bot);
}
exports.enterGlobalCode = enterGlobalCode;
// ---
function enterEvalCode(code, _eval) {
    var c = monitor.context;
    // 15.1.2.1.1, is direct call
    var isDirect;
    //@ts-ignore TYPES
    isDirect = c.currentCall.reference.base.value instanceof ObjectEnvironmentRecord_1.ObjectEnvironmentRecord ||
        //@ts-ignore TYPES
        c.currentCall.reference.base.value instanceof DeclarativeEnvironmentRecord_1.DeclarativeEnvironmentRecord;
    //@ts-ignore TYPES
    isDirect = isDirect && c.currentCall.reference.propertyName.value === 'eval';
    //@ts-ignore TYPES
    isDirect = isDirect && c.currentCall.target.actualFunction === _eval;
    var context = c.clone();
    // 10.4.2 - no calling context or not direct call
    if (!isDirect) {
        var global = monitor.GlobalObject;
        var globalEnv = monitor.GlobalEnvironment;
        context.thisValue = new Value_1.Value(global, Label_1.bot);
        context.lexicalEnv = new Value_1.Value(globalEnv, Label_1.bot);
        context.variableEnv = new Value_1.Value(globalEnv, Label_1.bot);
    }
    //@ts-ignore TYPES
    Binding_1.DeclarationBindingInstantiation(context, code);
    // for stack trace 
    context.owner = 'eval';
    return context;
}
exports.enterEvalCode = enterEvalCode;
// -------------------------------------------------------------
function step() {
    //@ts-ignore .LAST
    if (monitor.last === undefined)
        monitor.last = [];
    var c = monitor.context;
    var wl = c.workList;
    var vs = c.valueStack;
    var result = c.result;
    if (wl.empty()) {
        return false;
    }
    var task = wl.pop();
    //@ts-ignore .LAST
    if (monitor.last.length > 100) {
        //@ts-ignore .LAST
        monitor.last.shift();
    }
    //@ts-ignore .LAST
    monitor.last.push(task);
    try {
        // throw, continue, or break state
        if (result.type !== 'normal') {
            while (true) {
                if (task instanceof Task_1.Task && task.RunFor(result.type)) {
                    task.Execute(wl, vs);
                    return true;
                }
                if (Context_1.isGuardedFunction(task) && task.runfor !== undefined && result.type in task.runfor) {
                    //console.log(task.name);
                    task(wl, vs);
                    return true;
                }
                if (Context_1.isClosure(task) && task.func.runfor !== undefined && result.type in task.func.runfor) {
                    //console.log(task.func.name);
                    task.func.call(task.data, wl, vs);
                    return true;
                }
                if (wl.empty()) {
                    break;
                }
                //      console.log('skipping', task);
                task = wl.pop();
                //@ts-ignore .LAST
                if (monitor.last.length > 100) {
                    //@ts-ignore .LAST
                    monitor.last.shift();
                }
                //@ts-ignore .LAST
                monitor.last.push(task);
            }
            return false;
        }
        if (task instanceof Task_1.Task) {
            task.Execute(wl, vs);
            return true;
        }
        // function?
        if (typeof task === 'function') {
            //console.log(task.name);
            task(wl, vs);
            return true;
        }
        // closure?
        if ('func' in task && 'data' in task) {
            //console.log(task.func.name);
            task.func.call(task.data, wl, vs);
            return true;
        }
        // otherwise, syntax
        var node = task;
        // expressions
        if (node.type in Expression_1.expressiontbl) {
            //console.log('expression', node.type);
            Expression_1.expressiontbl[node.type](node, wl, vs);
            return true;
        }
        // statement 
        // for stack trace
        c.codeStack.push(node);
        wl.top().then(PopCodeStack.Instance);
        if (node.type in Statement_1.statementtbl) {
            //   console.log('statement', node.type);
            Statement_1.statementtbl[node.type](node, wl, vs);
            return true;
        }
        monitor.fatal(node.type + ' not implemented');
    }
    catch (e) {
        if (e instanceof Value_1.Value) {
            // Verfiy that the exception is allowed 
            monitor.assert(Label_1.le(c.effectivePC, c.labels.exc), "exception in " + c.effectivePC + " not allowed with exception label " + c.labels.exc);
            // For observable flows
            c.labels.exc = Label_1.lub(c.labels.exc, c.effectivePC);
            result.type = 'throw';
            result.value = e;
            return true;
        }
        throw e;
    }
    return true;
}
var PopCodeStack = /** @class */ (function (_super) {
    __extends(PopCodeStack, _super);
    function PopCodeStack() {
        return _super.call(this, Task_1.Task.runfor_all) || this;
    }
    PopCodeStack.prototype.Execute = function (wl, vs) {
        monitor.context.codeStack.pop();
    };
    PopCodeStack.Instance = new PopCodeStack();
    return PopCodeStack;
}(Task_1.Task));

},{"../Context":80,"../DeclarativeEnvironmentRecord":90,"../Label":123,"../ObjectEnvironmentRecord":130,"../Objects/SyntaxErrorObject":151,"../Result":174,"../Toplevel/crawler/CrawlerUtil":178,"../Value":184,"./Binding":93,"./Expression":96,"./Statement":97,"./Task":98,"esprima":18}],96:[function(require,module,exports){
Object.defineProperty(exports, "__esModule", { value: true });
var Value_1 = require("../Value");
var Reference_1 = require("../Reference");
var ArrayObject_1 = require("../Objects/ArrayObject");
var Label_1 = require("../Label");
var GetValue_1 = require("../GetValue");
var ObjectObject_1 = require("../Objects/ObjectObject");
var PropertyDescriptor_1 = require("../PropertyDescriptor");
var FunctionObject_1 = require("../Objects/FunctionObject");
var DeclarativeEnvironmentRecord_1 = require("../DeclarativeEnvironmentRecord");
var UnaryOperators_1 = require("./UnaryOperators");
var BinaryOperators_1 = require("./BinaryOperators");
var PutValue_1 = require("../PutValue");
var ToBoolean_1 = require("../Conversion/ToBoolean");
var IsCallable_1 = require("../Utility/IsCallable");
var CheckObjectCoercible_1 = require("../Utility/CheckObjectCoercible");
var ToString_1 = require("../Conversion/ToString");
var GetIdentifierReference_1 = require("../GetIdentifierReference");
var RegExpObject_1 = require("../Objects/RegExpObject");
var pp = require("../PP");
var constants = require("../Constants");
var Debug_1 = require("./Debug");
// -------------------------------------------------------------
function _GetValue() {
    var vs = monitor.context.valueStack;
    // @ts-ignore
    var val = vs.pop();
    vs.push(GetValue_1.GetValue(val));
}
// expression handler functions 
exports.expressiontbl = {
    'ThisExpression': thisExpression,
    'ArrayExpression': arrayExpression,
    'ObjectExpression': objectExpression,
    'FunctionExpression': functionExpression,
    'SequenceExpression': sequenceExpression,
    'UnaryExpression': unaryExpression,
    'BinaryExpression': binaryExpression,
    'UpdateExpression': updateExpression,
    'LogicalExpression': logicalExpression,
    'AssignmentExpression': assignmentExpression,
    'ConditionalExpression': conditionalExpression,
    'NewExpression': newExpression,
    'CallExpression': callExpression,
    'MemberExpression': memberExpression,
    'Identifier': identifierExpression,
    'Literal': literalExpression
};
function CheckCanary(wl, vs, canary) {
    var result = vs.pop();
    Debug_1.AssertValidCanary(vs, canary);
    vs.push(result);
}
// This, 11.1.1 -------------------------------------------- 
function thisExpression(node, wl, vs) {
    var c = monitor.context;
    vs.push(c.thisValue.clone());
}
// Array Initializer, 11.1.4 -------------------------------
function arrayExpression(node, wl, vs) {
    var canary;
    if (JSFLOW_STACK_CHECK) {
        canary = Debug_1.PushCanary(vs, "arrayExpression : " + pp.pretty(node));
    }
    var ip = wl.top();
    var arr = new Value_1.Value(new ArrayObject_1.ArrayObject(), Label_1.bot);
    var es = node.elements;
    var len = es.length;
    arr.Put(constants.length, new Value_1.Value(len, Label_1.bot));
    vs.push(arr);
    var _loop_1 = function (i) {
        if (es[i]) {
            ip.then(es[i]);
            ip.then(function (wl, vs) { return arrayExpressionUpdate(arr, i, wl, vs); });
        }
    };
    for (var i = 0; i < len; i++) {
        _loop_1(i);
    }
    if (JSFLOW_STACK_CHECK) {
        ip.then(function (wl, vs) { return CheckCanary(wl, vs, canary); });
    }
}
// ---
function arrayExpressionUpdate(array, index, wl, vs) {
    //@ts-ignore STACK
    var initValue = GetValue_1.GetValue(vs.pop());
    array.Put(new Value_1.Value(index, Label_1.bot), initValue);
}
// Object Initializer, 11.1.5 ------------------------------
function objectExpression(node, wl, vs) {
    var canary;
    if (JSFLOW_STACK_CHECK) {
        canary = Debug_1.PushCanary(vs, "objectExpression : " + pp.pretty(node));
    }
    var ip = wl.top();
    var obj = new Value_1.Value(new ObjectObject_1.ObjectObject(), Label_1.bot);
    vs.push(obj);
    var ps = node.properties;
    var _loop_2 = function (i, len) {
        ip.then(ps[i].value);
        ip.then(function (wl, vs) { return objectExpressionUpdate(ps, obj, i, wl, vs); });
    };
    for (var i = 0, len = ps.length; i < len; i++) {
        _loop_2(i, len);
    }
    if (JSFLOW_STACK_CHECK) {
        ip.then(function (wl, vs) { return CheckCanary(wl, vs, canary); });
    }
}
// ---
function objectExpressionUpdate(properties, object, index, wl, vs) {
    var prop = properties[index];
    var propName;
    switch (prop.key.type) {
        case 'Identifier':
            propName = new Value_1.Value(prop.key.name, Label_1.bot);
            break;
        case 'Literal':
            // can only be string or number; conversion will occur once assigned to the object
            // TODO: fix
            //@ts-ignore SYNTAX
            propName = new Value_1.Value(prop.key.value, Label_1.bot);
            break;
    }
    //@ts-ignore STACK
    var propValue = GetValue_1.GetValue(vs.pop());
    var propDesc = { enumerable: true, configurable: true, label: Label_1.bot };
    switch (prop.kind) {
        case 'init':
            propDesc.value = propValue.value;
            propDesc.label = propValue.label;
            propDesc.writable = true;
            break;
        case 'get':
            // TODO: fix 
            //@ts-ignore DESC HELL
            propDesc.get = propValue.value;
            propDesc.label = propValue.label;
            break;
        case 'set':
            // TODO: fix 
            //@ts-ignore DESC HELL
            propDesc.set = propValue.value;
            propDesc.label = propValue.label;
            break;
    }
    var previous = object.GetOwnProperty(propName);
    monitor.context.pushPC(previous.label);
    if (previous.value !== undefined) {
        if ((PropertyDescriptor_1.IsDataDescriptor(previous) && PropertyDescriptor_1.IsAccessorDescriptor(propDesc)) ||
            (PropertyDescriptor_1.IsAccessorDescriptor(previous) && PropertyDescriptor_1.IsDataDescriptor(propDesc)) ||
            (PropertyDescriptor_1.IsAccessorDescriptor(previous) && PropertyDescriptor_1.IsAccessorDescriptor(propDesc) &&
                //@ts-ignore DESC HELL
                ((previous.get && propDesc.get) || (previous.set && propDesc.set)))) {
            monitor.Throw("SyntaxError", 'Object initializer: illegal redefine of property', Label_1.bot);
        }
    }
    monitor.context.popPC();
    var obj = object;
    //@ts-ignore TYPES
    obj.DefineOwnProperty(propName, propDesc);
}
// Function Definition, 13 ----------------------------------------------
function functionExpression(node, wl, vs) {
    var fun;
    if (node.id) {
        var funcEnv = DeclarativeEnvironmentRecord_1.NewDeclarativeEnvironment(monitor.context.lexicalEnv);
        var identifier = new Value_1.Value(node.id.name, Label_1.bot);
        funcEnv.CreateImmutableBinding(identifier);
        fun = new FunctionObject_1.FunctionObject(node.params, node.body, new Value_1.Value(funcEnv, Label_1.bot));
        fun.Name = node.id.name;
        fun.Source = node;
        funcEnv.InitializeImmutableBinding(identifier, new Value_1.Value(fun, Label_1.bot));
    }
    else {
        fun = new FunctionObject_1.FunctionObject(node.params, node.body, monitor.context.lexicalEnv);
        fun.Source = node;
    }
    vs.push(new Value_1.Value(fun, Label_1.bot));
}
// Comma Operator, 11.14 ------------------------------------------------
function sequenceExpression(node, wl, vs) {
    var canary;
    if (JSFLOW_STACK_CHECK) {
        canary = Debug_1.PushCanary(vs, "sequenceExpression : " + pp.pretty(node));
    }
    var ip = wl.top();
    var es = node.expressions;
    var len = es.length;
    var i = 0;
    for (; i < len - 1; i++) {
        ip.then(es[i]);
    }
    if (i < len) {
        ip.then(es[i]);
        ip.then(function (wl, vs) { return sequenceExpressionEnd(len, wl, vs); });
    }
    if (JSFLOW_STACK_CHECK) {
        ip.then(function (wl, vs) { return CheckCanary(wl, vs, canary); });
    }
}
// ---
function sequenceExpressionEnd(length, wl, vs) {
    var result = vs.pop();
    // Pop all but last and execute GetValue on result for eventual side effects.
    for (var i = 0; i < length - 1; i++) {
        //@ts-ignore STACK
        GetValue_1.GetValue(vs.pop());
    }
    vs.push(result);
}
// Unary Operators, 11.4 ------------------------------------------------
function unaryExpression(node, wl, vs) {
    var canary;
    if (JSFLOW_STACK_CHECK) {
        canary = Debug_1.PushCanary(vs, "unaryExpression : " + pp.pretty(node));
    }
    var ip = wl.top();
    ip.then(node.argument);
    ip.then(UnaryOperators_1.unarytbl[node.operator]);
    if (JSFLOW_STACK_CHECK) {
        ip.then(function (wl, vs) { return CheckCanary(wl, vs, canary); });
    }
}
// Binary Operators, 11.5-11.9 -----------------------------------
function binaryExpression(node, wl, vs) {
    var canary;
    if (JSFLOW_STACK_CHECK) {
        canary = Debug_1.PushCanary(vs, "binaryExpression : " + pp.pretty(node));
    }
    var ip = wl.top();
    ip.then(node.left);
    ip.then(_GetValue);
    ip.then(node.right);
    ip.then(_GetValue);
    ip.then(BinaryOperators_1.binarytbl[node.operator]);
    if (JSFLOW_STACK_CHECK) {
        ip.then(function (wl, vs) { return CheckCanary(wl, vs, canary); });
    }
}
// Prefix, and Postfix Expressions, 11.3, 11.4.4, 11.4.5 -----------------
function updateExpression(node, wl, vs) {
    var canary;
    if (JSFLOW_STACK_CHECK) {
        canary = Debug_1.PushCanary(vs, "updateExpression : " + pp.pretty(node));
    }
    var ip = wl.top();
    ip.then(node.argument);
    if (node.prefix) {
        ip.then(UnaryOperators_1.prefixtbl[node.operator]);
    }
    else {
        ip.then(UnaryOperators_1.postfixtbl[node.operator]);
    }
    if (JSFLOW_STACK_CHECK) {
        ip.then(function (wl, vs) { return CheckCanary(wl, vs, canary); });
    }
}
// Binary Operators, 11.5-11.9 -----------------------------------
function logicalExpression(node, wl, vs) {
    var canary;
    if (JSFLOW_STACK_CHECK) {
        canary = Debug_1.PushCanary(vs, "logicalExpression : " + pp.pretty(node));
    }
    var ip = wl.top();
    ip.then(node.left);
    ip.then(BinaryOperators_1.logicaltbl[node.operator]);
    ip.then(node.right);
    if (JSFLOW_STACK_CHECK) {
        ip.then(function (wl, vs) { return CheckCanary(wl, vs, canary); });
    }
}
// Assignment, 11.13 -----------------------------------------------------
function assignmentExpression(node, wl, vs) {
    var canary;
    if (JSFLOW_STACK_CHECK) {
        canary = Debug_1.PushCanary(vs, "assignmentExpression : " + pp.pretty(node));
    }
    var ip = wl.top();
    ip.then(node.left);
    ip.then(node.right);
    ip.then(BinaryOperators_1.assignmenttbl[node.operator]);
    ip.then(assignmentExpressionEnd);
    if (JSFLOW_STACK_CHECK) {
        ip.then(function (wl, vs) { return CheckCanary(wl, vs, canary); });
    }
}
// ---
function assignmentExpressionEnd(wl, vs) {
    //@ts-ignore
    var rval = vs.pop();
    //@ts-ignore
    var lref = vs.pop();
    PutValue_1.PutValue(lref, rval);
    vs.push(rval);
}
// Conditional Operator, 11.12 ------------------------------------------
function conditionalExpression(node, wl, vs) {
    var canary;
    if (JSFLOW_STACK_CHECK) {
        canary = Debug_1.PushCanary(vs, "conditionalExpression : " + pp.pretty(node));
    }
    var ip = wl.top();
    ip.then(node.test);
    ip.then(function (wl, vs) { return conditionalExpressionChoose(node, wl, vs); });
    if (JSFLOW_STACK_CHECK) {
        ip.then(function (wl, vs) { return CheckCanary(wl, vs, canary); });
    }
}
// ---
function conditionalExpressionChoose(node, wl, vs) {
    var ip = wl.top();
    //@ts-ignore STACK
    var lval = GetValue_1.GetValue(vs.pop());
    var lb = ToBoolean_1.ToBoolean(lval);
    monitor.context.pushPC(lb.label);
    if (lb.value) {
        ip.then(node.consequent);
    }
    else {
        ip.then(node.alternate);
    }
    ip.then(function (wl, vs) { return conditionalExpressionEnd(lval, wl, vs); });
}
// ---
function conditionalExpressionEnd(test, wl, vs) {
    //@ts-ignore STACK
    var val = GetValue_1.GetValue(vs.pop());
    monitor.context.popPC();
    vs.push(new Value_1.Value(val.value, Label_1.lub(val.label, test.label)));
}
// The new Operator, 11.2.2 ---------------------------------------------
function newExpression(node, wl, vs) {
    var canary;
    if (JSFLOW_STACK_CHECK) {
        canary = Debug_1.PushCanary(vs, "newExpression : " + pp.pretty(node));
    }
    var ip = wl.top();
    ip.then(node.callee);
    var as = node.arguments;
    var len = as.length;
    for (var i = 0; i < len; i++) {
        ip.then(as[i]);
    }
    ip.then(function (wl, vs) { return newExpressionExecute(len, wl, vs, pp.pretty(node)); });
    if (JSFLOW_STACK_CHECK) {
        ip.then(function (wl, vs) { return CheckCanary(wl, vs, canary); });
    }
}
// ---
function newExpressionExecute(length, wl, vs, data) {
    var c = monitor.context;
    var ip = wl.top();
    var argList = [];
    for (var i = length - 1; i >= 0; i--) {
        //@ts-ignore STACK
        argList[i] = GetValue_1.GetValue(vs.pop());
    }
    //@ts-ignore STACK
    var constructor = GetValue_1.GetValue(vs.pop());
    if (constructor.value === null || typeof constructor.value !== 'object') {
        if (false) { // SILENT ERROR
            var v = new Value_1.Value(undefined, constructor.label);
            return;
        }
        monitor.Throw("TypeError", "invalid 'new' parameter: not a constructor", constructor.label);
        throw 'TypeScript';
    }
    if (!('Construct' in constructor.value)) {
        if (false) { // SILENT ERROR
            var v = new Value_1.Value(undefined, constructor.label);
            return;
        }
        monitor.Throw("TypeError", "invalid 'new' parameter: not a constructor", constructor.label);
        throw 'TypeScript';
    }
    if (constructor.value.AsyncConstruct) {
        c.pushPC(constructor.label);
        ip = constructor.value.AsyncConstruct(argList);
        ip.then(function (wl, vs) { return callExpressionEnd(constructor.label, wl, vs, data); });
    }
    else {
        try {
            var retval = constructor.Construct(argList);
            retval.raise(constructor.label);
            vs.push(retval);
        }
        catch (e) {
            if (!(e instanceof Value_1.Value)) {
                throw e;
            }
            var result = c.result;
            // Verfiy that the exception is allowed 
            monitor.assert(Label_1.le(c.effectivePC, c.labels.exc), "exception in " + c.effectivePC + " not allowed with exception label " + c.labels.exc);
            // For observable flows
            c.labels.exc = Label_1.lub(c.labels.exc, c.effectivePC);
            result.type = 'throw';
            result.value = e;
        }
    }
}
// Function Calls, 11.2.3 -----------------------------------------------
function callExpression(node, wl, vs) {
    var canary;
    if (JSFLOW_STACK_CHECK) {
        canary = Debug_1.PushCanary(vs, "callExpression : " + pp.pretty(node));
    }
    var ip = wl.top();
    var as = node.arguments;
    var len = as.length;
    ip.then(node.callee);
    for (var i = 0; i < len; i++) {
        ip.then(as[i]);
    }
    ip.then(function (wl, vs) { return callExpressionExecute(len, node, wl, vs, pp.pretty(node)); });
    if (JSFLOW_STACK_CHECK) {
        ip.then(function (wl, vs) { return CheckCanary(wl, vs, canary); });
    }
}
// callExpressionExecute
function callExpressionExecute(length, node, wl, vs, data) {
    var c = monitor.context;
    var ip = wl.top();
    var argList = [];
    for (var i = length - 1; i >= 0; i--) {
        var arg = vs.pop();
        //@ts-ignore STACK
        argList[i] = GetValue_1.GetValue(arg);
    }
    var ref = vs.pop();
    //@ts-ignore STACK
    var func = GetValue_1.GetValue(ref);
    if (!IsCallable_1.IsCallable(func)) {
        if (false) { // SILENT ERRORS
            var v = new Value_1.Value(undefined, func.label);
            return;
        }
        monitor.Throw("TypeError", 'Invalid call target; ' + pp.pretty(node.callee) + ' evaluates to ' + func.value + ' in ' + pp.pretty(node), func.label);
        throw 'TypeScript';
    }
    // used to decide if eval is a direct call in function.enterEvalCode
    //@ts-ignore TYPES
    c.currentCall = { reference: ref, target: func.value, source: node };
    // for eval
    //@ts-ignore TYPES
    c.call = { ref: ref, func: func };
    var thisValue;
    if (ref instanceof Reference_1.Reference) {
        if (ref.IsPropertyReference()) {
            thisValue = ref.base;
        }
        else {
            //@ts-ignore TYPES
            thisValue = ref.base.ImplicitThisValue();
        }
    }
    else {
        //@ts-ignore TYPES
        thisValue = new Value_1.Value(undefined, ref.label);
    }
    if (func.value.AsyncCall) {
        monitor.context.pushPC(func.label);
        func.value.AsyncCall(thisValue, argList);
        ip.then(function (wl, vs) { return callExpressionEnd(func.label, wl, vs, data); });
    }
    else {
        try {
            var retval = func.Call(thisValue, argList);
            retval.raise(func.label);
            vs.push(retval);
        }
        catch (e) {
            if (!(e instanceof Value_1.Value)) {
                throw e;
            }
            var result = c.result;
            // Verfiy that the exception is allowed 
            monitor.assert(Label_1.le(c.effectivePC, c.labels.exc), "exception in " + c.effectivePC + " not allowed with exception label " + c.labels.exc);
            // For observable flows
            c.labels.exc = Label_1.lub(c.labels.exc, c.effectivePC);
            result.type = 'throw';
            result.value = e;
        }
    }
}
// callExpressionEnd 
function callExpressionEnd(label, wl, vs, data) {
    // @ts-ignore
    var callResult = vs.pop();
    var c = monitor.context;
    var result = c.result;
    if (callResult === undefined || callResult.value === undefined) {
        monitor.error(data);
        monitor.error(callResult);
    }
    callResult.value.raise(label);
    if (callResult.type === 'throw') {
        result.type = 'throw';
        result.value = callResult.value;
        return;
    }
    c.popPC();
    vs.push(callResult.value);
}
// Property Accessors, 11.2.1 -------------------------------------------
function memberExpression(node, wl, vs) {
    var canary;
    if (JSFLOW_STACK_CHECK) {
        canary = Debug_1.PushCanary(vs, "memberExpression : " + pp.pretty(node));
    }
    var ip = wl.top();
    ip.then(node.object);
    ip.then(_GetValue);
    if (node.computed) {
        ip.then(node.property);
        ip.then(_GetValue);
    }
    ip.then(function (wl, vs) { return memberExpressionExecute(node, wl, vs); });
    if (JSFLOW_STACK_CHECK) {
        ip.then(function (wl, vs) { return CheckCanary(wl, vs, canary); });
    }
}
// ---
function memberExpressionExecute(node, wl, vs) {
    var propertyNameValue;
    if (node.computed) {
        propertyNameValue = vs.pop();
    }
    else {
        //@ts-ignore TYPES
        propertyNameValue = new Value_1.Value(node.property.name, Label_1.bot);
    }
    // @ts-ignore
    var baseValue = vs.pop();
    /*
    if (baseValue.value === undefined || baseValue.value === null) {
      monitor.warn(pp.pretty(node.object) + ' evaluates to ' + String(baseValue.value) + ' in ' + pp.pretty(node), node);
    }
    */
    CheckObjectCoercible_1.CheckObjectCoercible(baseValue);
    //@ts-ignore TYPES
    vs.push(new Reference_1.Reference(baseValue, ToString_1.ToString(propertyNameValue)));
}
// Identifier, 11.1.2 -> 10.3.1 -----------------------------------------
function identifierExpression(node, wl, vs) {
    vs.push(GetIdentifierReference_1.GetIdentifierReference(monitor.context.lexicalEnv, node.name));
}
// Literals, 11.1.3 -> 7.8 ----------------------------------------------
function literalExpression(node, wl, vs) {
    // @ts-ignore
    var res = new Value_1.Value(node.value, Label_1.bot);
    if (node.value instanceof RegExp) {
        res.value = new RegExpObject_1.RegExpObject(node.value, Label_1.bot);
    }
    vs.push(res);
}

},{"../Constants":64,"../Conversion/ToBoolean":81,"../Conversion/ToString":87,"../DeclarativeEnvironmentRecord":90,"../GetIdentifierReference":118,"../GetValue":119,"../Label":123,"../Objects/ArrayObject":132,"../Objects/FunctionObject":140,"../Objects/ObjectObject":146,"../Objects/RegExpObject":149,"../PP":155,"../PropertyDescriptor":156,"../PutValue":172,"../Reference":173,"../Utility/CheckObjectCoercible":181,"../Utility/IsCallable":182,"../Value":184,"./BinaryOperators":92,"./Debug":94,"./UnaryOperators":116}],97:[function(require,module,exports){
Object.defineProperty(exports, "__esModule", { value: true });
var SwitchStatement_1 = require("./Tracing/SwitchStatement");
var BlockStatement_1 = require("./Tracing/BlockStatement");
var EmptyStatement_1 = require("./Tracing/EmptyStatement");
var ExpressionStatement_1 = require("./Tracing/ExpressionStatement");
var IfStatement_1 = require("./Tracing/IfStatement");
var LabeledStatement_1 = require("./Tracing/LabeledStatement");
var BreakStatement_1 = require("./Tracing/BreakStatement");
var ContinueStatement_1 = require("./Tracing/ContinueStatement");
var WithStatement_1 = require("./Tracing/WithStatement");
var ReturnStatement_1 = require("./Tracing/ReturnStatement");
var ThrowStatement_1 = require("./Tracing/ThrowStatement");
var WhileStatement_1 = require("./Tracing/WhileStatement");
var ForStatement_1 = require("./Tracing/ForStatement");
var ForInStatement_1 = require("./Tracing/ForInStatement");
var VariableDeclaration_1 = require("./Tracing/VariableDeclaration");
var DebuggerStatement_1 = require("./Tracing/DebuggerStatement");
var TryCatchStatement_1 = require("./Tracing/TryCatchStatement");
// ------------------------------------------------------------
function ExecuteStatement(statement, wl, vs) {
    switch (statement.type) {
        case "BlockStatement":
            BlockStatement_1.blockStatement(statement, wl, vs);
            break;
        case "BreakStatement":
            BreakStatement_1.breakStatement(statement, wl, vs);
            break;
        case "ClassDeclaration": throw "TODO";
        case "ContinueStatement":
            ContinueStatement_1.continueStatement(statement, wl, vs);
            break;
        case "DebuggerStatement":
            DebuggerStatement_1.debuggerStatement(statement, wl, vs);
            break;
        case "DoWhileStatement":
            WhileStatement_1.doWhileStatement(statement, wl, vs);
            break;
        case "EmptyStatement":
            EmptyStatement_1.emptyStatement(statement, wl, vs);
            break;
        case 'ExpressionStatement':
            ExpressionStatement_1.expressionStatement(statement, wl, vs);
            break;
        case "ForInStatement":
            ForInStatement_1.forInStatement(statement, wl, vs);
            break;
        case "ForOfStatement": throw "TODO";
        case "ForStatement":
            ForStatement_1.forStatement(statement, wl, vs);
            break;
        case "FunctionDeclaration":
            // handled via function hoisting
            break;
        case "IfStatement":
            IfStatement_1.ifStatement(statement, wl, vs);
            break;
        case "LabeledStatement":
            LabeledStatement_1.labeledStatement(statement, wl, vs);
            break;
        case "ReturnStatement":
            ReturnStatement_1.returnStatement(statement, wl, vs);
            break;
        case "SwitchStatement":
            SwitchStatement_1.switchStatement(statement, wl, vs);
            break;
        case "ThrowStatement":
            ThrowStatement_1.throwStatement(statement, wl, vs);
            break;
        case "TryStatement":
            TryCatchStatement_1.tryStatement(statement, wl, vs);
            break;
        case "VariableDeclaration":
            VariableDeclaration_1.variableDeclaration(statement, wl, vs);
            break;
        case "WhileStatement":
            WhileStatement_1.whileStatement(statement, wl, vs);
            break;
        case "WithStatement":
            WithStatement_1.withStatement(statement, wl, vs);
            break;
    }
    monitor.fatal(statement.type + ' not implemented');
}
exports.ExecuteStatement = ExecuteStatement;
// statement handler functions
exports.statementtbl = {
    'Program': BlockStatement_1.blockStatement,
    'BlockStatement': BlockStatement_1.blockStatement,
    'EmptyStatement': EmptyStatement_1.emptyStatement,
    'ExpressionStatement': ExpressionStatement_1.expressionStatement,
    'IfStatement': IfStatement_1.ifStatement,
    'SwitchStatement': SwitchStatement_1.switchStatement,
    'LabeledStatement': LabeledStatement_1.labeledStatement,
    'BreakStatement': BreakStatement_1.breakStatement,
    'ContinueStatement': ContinueStatement_1.continueStatement,
    'WithStatement': WithStatement_1.withStatement,
    'ReturnStatement': ReturnStatement_1.returnStatement,
    'ThrowStatement': ThrowStatement_1.throwStatement,
    'TryStatement': TryCatchStatement_1.tryStatement,
    'WhileStatement': WhileStatement_1.whileStatement,
    'DoWhileStatement': WhileStatement_1.doWhileStatement,
    'ForStatement': ForStatement_1.forStatement,
    'ForInStatement': ForInStatement_1.forInStatement,
    'VariableDeclaration': VariableDeclaration_1.variableDeclaration,
    'FunctionDeclaration': EmptyStatement_1.emptyStatement,
    'DebuggerStatement': DebuggerStatement_1.debuggerStatement
};
var emptyLabel = 'default'; // default is a reserved word so no actual label can be named default 

},{"./Tracing/BlockStatement":99,"./Tracing/BreakStatement":100,"./Tracing/ContinueStatement":101,"./Tracing/DebuggerStatement":102,"./Tracing/EmptyStatement":103,"./Tracing/ExpressionStatement":104,"./Tracing/ForInStatement":105,"./Tracing/ForStatement":106,"./Tracing/IfStatement":107,"./Tracing/LabeledStatement":108,"./Tracing/ReturnStatement":109,"./Tracing/SwitchStatement":110,"./Tracing/ThrowStatement":111,"./Tracing/TryCatchStatement":112,"./Tracing/VariableDeclaration":113,"./Tracing/WhileStatement":114,"./Tracing/WithStatement":115}],98:[function(require,module,exports){
Object.defineProperty(exports, "__esModule", { value: true });
var Debug_1 = require("./Debug");
var Task = /** @class */ (function () {
    function Task(runfor) {
        this.runfor = runfor || {};
    }
    Task.prototype.RunFor = function (x) {
        return x in this.runfor;
    };
    Task.runfor_all = { 'throw': true, 'continue': true, 'break': true, 'return': true };
    Task.runfor_throw = { 'throw': true };
    Task.runfor_continue = { 'continue': true };
    Task.runfor_break = { 'break': true };
    Task.runfor_continue_break = { 'break': true, 'continue': true };
    return Task;
}());
exports.Task = Task;
// ---
function CheckCanary(wl, vs, canary) {
    Debug_1.AssertValidCanary(vs, canary);
}

},{"./Debug":94}],99:[function(require,module,exports){
Object.defineProperty(exports, "__esModule", { value: true });
function blockStatement(node, wl, vs) {
    wl.prepend(node.body);
}
exports.blockStatement = blockStatement;

},{}],100:[function(require,module,exports){
Object.defineProperty(exports, "__esModule", { value: true });
var Label_1 = require("../../Label");
var emptyLabel = 'default'; // default is a reserved word so no actual label can be named default 
// 12.8 ----------------------------------------------------------------------
function breakStatement(node, wl, vs) {
    var c = monitor.context;
    var result = monitor.context.result;
    var name = node.label ? node.label.name : emptyLabel;
    var lblcontext = c.labels.labelmap[name].label;
    var displayName = node.label ? '(' + name + ')' : '';
    monitor.assert(Label_1.le(c.effectivePC, lblcontext), 'write context ' + c.effectivePC + ' not below ' +
        'label context ' + lblcontext + ' ' + displayName);
    // For observable flows
    c.labels.labelmap[name].label = Label_1.lub(lblcontext, c.effectivePC);
    result.type = 'break';
    result.target = name;
}
exports.breakStatement = breakStatement;

},{"../../Label":123}],101:[function(require,module,exports){
Object.defineProperty(exports, "__esModule", { value: true });
var Label_1 = require("../../Label");
var emptyLabel = 'default'; // default is a reserved word so no actual label can be named default 
// 12.7 ----------------------------------------------------------------------
function continueStatement(node, wl, vs) {
    var c = monitor.context;
    var result = monitor.context.result;
    var name = node.label ? node.label.name : emptyLabel;
    var lblcontext = c.labels.labelmap[name].label;
    var displayName = node.label ? '(' + name + ')' : '';
    monitor.assert(Label_1.le(c.effectivePC, lblcontext), 'write context ' + c.effectivePC + ' not below ' +
        'label context ' + lblcontext + displayName);
    // For observable flows
    c.labels.labelmap[name].label = Label_1.lub(lblcontext, c.effectivePC);
    result.type = 'continue';
    result.target = name;
}
exports.continueStatement = continueStatement;

},{"../../Label":123}],102:[function(require,module,exports){
Object.defineProperty(exports, "__esModule", { value: true });
// ------------------------------------------------------------
function debuggerStatement(node, wl, vs) {
    monitor.debug.active = true;
}
exports.debuggerStatement = debuggerStatement;

},{}],103:[function(require,module,exports){
Object.defineProperty(exports, "__esModule", { value: true });
function emptyStatement(node, wl, vs) {
}
exports.emptyStatement = emptyStatement;

},{}],104:[function(require,module,exports){
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var GetValue_1 = require("../../GetValue");
var Task_1 = require("../Task");
function expressionStatement(node, wl, vs) {
    var ip = wl.top();
    ip.then(node.expression);
    ip.then(ExpressionStatementEnd.Instance);
}
exports.expressionStatement = expressionStatement;
var ExpressionStatementEnd = /** @class */ (function (_super) {
    __extends(ExpressionStatementEnd, _super);
    function ExpressionStatementEnd() {
        return _super.call(this) || this;
    }
    ExpressionStatementEnd.prototype.Execute = function (wl, vs) {
        var c = monitor.context;
        // @ts-ignore
        var val = vs.pop();
        c.result.value = GetValue_1.GetValue(val);
    };
    ExpressionStatementEnd.Instance = new ExpressionStatementEnd();
    return ExpressionStatementEnd;
}(Task_1.Task));

},{"../../GetValue":119,"../Task":98}],105:[function(require,module,exports){
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var Task_1 = require("../Task");
var GetValue_1 = require("../../GetValue");
var ToObject_1 = require("../../Conversion/ToObject");
var PutValue_1 = require("../../PutValue");
var emptyLabel = 'default'; // default is a reserved word so no actual label can be named default 
var MySet = Set;
// ------------------------------------------------------------
function forInStatement(node, wl, vs) {
    var ip = wl.top();
    var left;
    if (node.left.type === 'VariableDeclaration') {
        ip.then(node.left);
        // the standard only allows for one declaration, get the name
        left = node.left.declarations[0].id;
    }
    else {
        left = node.left;
    }
    ip.then(node.right);
    ip.then(new ForInStatementSetup(node, left));
}
exports.forInStatement = forInStatement;
// ---
var ForInStatementSetup = /** @class */ (function (_super) {
    __extends(ForInStatementSetup, _super);
    function ForInStatementSetup(node, left) {
        var _this = _super.call(this) || this;
        _this.node = node;
        _this.left = left;
        return _this;
    }
    ForInStatementSetup.prototype.Execute = function (wl, vs) {
        var c = monitor.context;
        var ip = wl.top();
        var lmap = c.labels.labelmap;
        var node = this.node;
        if (!node.labelset) {
            node.labelset = new MySet();
        }
        node.labelset.add(emptyLabel);
        var outerEmptyLabelData = lmap[emptyLabel];
        lmap[emptyLabel] = {
            label: c.effectivePC,
            pcmarker: c.pcStack.marker()
        };
        var contextLabel = lmap[emptyLabel].label;
        c.pushPC(contextLabel);
        //@ts-ignore STACK
        var val = GetValue_1.GetValue(vs.pop());
        if (val.value === null || val.value === undefined) {
            return;
        }
        var obj = ToObject_1.ToObject(val);
        var maxProperty = obj.value.getEnumerablePropertyNames(obj.label).length;
        // monitor.context.pushPC(obj.label);
        ip.then(new ForInExecute(node, this.left, obj, maxProperty, outerEmptyLabelData));
    };
    return ForInStatementSetup;
}(Task_1.Task));
// ---
var ForInExecute = /** @class */ (function (_super) {
    __extends(ForInExecute, _super);
    function ForInExecute(node, left, obj, maxProperty, outerEmptyLabelData) {
        var _this = _super.call(this, Task_1.Task.runfor_continue_break) || this;
        _this.node = node;
        _this.left = left;
        _this.obj = obj;
        _this.maxProperty = maxProperty;
        _this.outerEmptyLabelData = outerEmptyLabelData;
        _this.nextProperty = 0;
        _this.update = new ForInUpdate(node, _this);
        return _this;
    }
    ForInExecute.prototype.Execute = function (wl, vs) {
        var ip = wl.top();
        var c = monitor.context;
        var result = c.result;
        if (result.type === 'break' && this.node.labelset.has(result.target)) {
            result.type = 'normal';
            result.target = null;
            c.labels.labelmap[emptyLabel] = this.outerEmptyLabelData;
            c.popPC(); // contextLabel
            return;
        }
        if (result.type !== 'continue' || !this.node.labelset.has(result.target)) {
            if (result.type !== 'normal') {
                return;
            }
        }
        // continue gets us here
        result.type = 'normal';
        result.target = null;
        var properties = this.obj.value.getEnumerablePropertyNames(this.obj.label);
        if (this.nextProperty >= properties.length || this.nextProperty >= this.maxProperty) {
            c.labels.labelmap[emptyLabel] = this.outerEmptyLabelData;
            c.popPC(); // contextLabel
            return;
        }
        var propName = properties[this.nextProperty];
        this.nextProperty++;
        vs.push(propName);
        ip.then(this.left);
        ip.then(this.update);
    };
    return ForInExecute;
}(Task_1.Task));
// ---
var ForInUpdate = /** @class */ (function (_super) {
    __extends(ForInUpdate, _super);
    function ForInUpdate(node, execute) {
        var _this = _super.call(this) || this;
        _this.node = node;
        _this.execute = execute;
        return _this;
    }
    ForInUpdate.prototype.Execute = function (wl, vs) {
        var ip = wl.top();
        // @ts-ignore
        var lhs = vs.pop();
        // @ts-ignore
        var propName = vs.pop();
        PutValue_1.PutValue(lhs, propName);
        monitor.context.pushPC(propName.label);
        ip.then(this.node.body);
        ip.then(ForInSecurityContextEnd.Instance);
        ip.then(this.execute);
    };
    return ForInUpdate;
}(Task_1.Task));
// ---
var ForInSecurityContextEnd = /** @class */ (function (_super) {
    __extends(ForInSecurityContextEnd, _super);
    function ForInSecurityContextEnd() {
        return _super.call(this) || this;
    }
    ForInSecurityContextEnd.prototype.Execute = function (wl, vs) {
        monitor.context.popPC();
    };
    ForInSecurityContextEnd.Instance = new ForInSecurityContextEnd();
    return ForInSecurityContextEnd;
}(Task_1.Task));

},{"../../Conversion/ToObject":85,"../../GetValue":119,"../../PutValue":172,"../Task":98}],106:[function(require,module,exports){
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var Task_1 = require("../Task");
var Label_1 = require("../../Label");
var GetValue_1 = require("../../GetValue");
var ToBoolean_1 = require("../../Conversion/ToBoolean");
var emptyLabel = 'default'; // default is a reserved word so no actual label can be named default 
var ResetValueStack = /** @class */ (function (_super) {
    __extends(ResetValueStack, _super);
    function ResetValueStack(targetSize) {
        return _super.call(this) || this;
    }
    ResetValueStack.prototype.Execute = function (wl, vs) {
        while (vs.size() > this.targetSize) {
            vs.pop();
        }
    };
    return ResetValueStack;
}(Task_1.Task));
var MySet = Set;
// ------------------------------------------------------------
function forStatement(node, wl, vs) {
    var c = monitor.context;
    var ip = wl.top();
    var lmap = c.labels.labelmap;
    if (node.init) {
        ip.then(node.init);
        ip.then(new ResetValueStack(vs.size()));
    }
    if (!node.labelset) {
        node.labelset = new MySet([]);
    }
    node.labelset.add(emptyLabel);
    var outerEmptyLabelData = lmap[emptyLabel];
    lmap[emptyLabel] = {
        label: c.effectivePC,
        pcmarker: c.pcStack.marker()
    };
    var contextLabel = lmap[emptyLabel].label;
    c.pushPC(contextLabel);
    ip.then(new ForStatementMain(node));
    ip.then(new ForStatementEnd(outerEmptyLabelData));
}
exports.forStatement = forStatement;
// ---
var ForStatementMain = /** @class */ (function (_super) {
    __extends(ForStatementMain, _super);
    function ForStatementMain(node) {
        var _this = _super.call(this, Task_1.Task.runfor_continue_break) || this;
        _this.node = node;
        _this.execute = new ForStatementExecute(node, _this);
        _this.choose = new ForStatementChoose(node, _this);
        _this.update = new ForStatementUpdate(node);
        return _this;
    }
    ForStatementMain.prototype.Execute = function (wl, vs) {
        var c = monitor.context;
        var ip = wl.top();
        var result = c.result;
        if (result.type === 'break' && this.node.labelset.has(result.target)) {
            result.type = 'normal';
            result.target = null;
            return;
        }
        if (result.type !== 'continue' || !this.node.labelset.has(result.target)) {
            if (result.type !== 'normal') {
                return;
            }
        }
        result.type = 'normal';
        result.target = null;
        if (this.node.test) {
            ip.then(this.node.test);
            ip.then(this.choose);
        }
        else {
            ip.then(this.execute);
        }
    };
    return ForStatementMain;
}(Task_1.Task));
// ---
var ForStatementChoose = /** @class */ (function (_super) {
    __extends(ForStatementChoose, _super);
    function ForStatementChoose(node, main) {
        var _this = _super.call(this, Task_1.Task.runfor_continue) || this;
        _this.node = node;
        _this.main = main;
        return _this;
    }
    ForStatementChoose.prototype.Execute = function (wl, vs) {
        var ip = wl.top();
        var c = monitor.context;
        var result = c.result;
        //@ts-ignore STACK
        var cond = GetValue_1.GetValue(vs.pop());
        var condb = ToBoolean_1.ToBoolean(cond);
        c.labels.pc = Label_1.lub(c.labels.pc, condb.label);
        if (!condb.value) {
            result.type = 'normal';
            result.target = null;
            return;
        }
        ip.then(this.main.execute);
    };
    return ForStatementChoose;
}(Task_1.Task));
var ForStatementExecute = /** @class */ (function (_super) {
    __extends(ForStatementExecute, _super);
    function ForStatementExecute(node, main) {
        var _this = _super.call(this) || this;
        _this.node = node;
        _this.main = main;
        return _this;
    }
    ForStatementExecute.prototype.Execute = function (wl, vs) {
        var ip = wl.top();
        ip.then(this.node.body);
        ip.then(this.main.update);
        ip.then(this.main);
    };
    return ForStatementExecute;
}(Task_1.Task));
var ForStatementUpdate = /** @class */ (function (_super) {
    __extends(ForStatementUpdate, _super);
    function ForStatementUpdate(node) {
        var _this = _super.call(this, Task_1.Task.runfor_continue) || this;
        _this.node = node;
        return _this;
    }
    ForStatementUpdate.prototype.Execute = function (wl, vs) {
        var ip = wl.top();
        var c = monitor.context;
        var result = c.result;
        if (result.type !== 'continue' || !this.node.labelset.has(result.target)) {
            if (result.type !== 'normal') {
                return;
            }
        }
        result.type = 'normal';
        result.target = null;
        if (this.node.update) {
            ip.then(this.node.update);
            ip.then(new ResetValueStack(vs.size()));
        }
    };
    return ForStatementUpdate;
}(Task_1.Task));
// forStatementeEnd
var ForStatementEnd = /** @class */ (function (_super) {
    __extends(ForStatementEnd, _super);
    function ForStatementEnd(outerEmptyLabelData) {
        var _this = _super.call(this) || this;
        _this.outerEmptyLabelData = outerEmptyLabelData;
        return _this;
    }
    ForStatementEnd.prototype.Execute = function (wl, vs) {
        var c = monitor.context;
        c.labels.labelmap[emptyLabel] = this.outerEmptyLabelData;
        c.popPC();
    };
    return ForStatementEnd;
}(Task_1.Task));

},{"../../Conversion/ToBoolean":81,"../../GetValue":119,"../../Label":123,"../Task":98}],107:[function(require,module,exports){
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var Task_1 = require("../Task");
var GetValue_1 = require("../../GetValue");
var ToBoolean_1 = require("../../Conversion/ToBoolean");
// ------------------------------------------------------------
function ifStatement(node, wl, vs) {
    var ip = wl.top();
    ip.then(node.test);
    ip.then(new IfStatementChoose(node));
}
exports.ifStatement = ifStatement;
// ---
var IfStatementChoose = /** @class */ (function (_super) {
    __extends(IfStatementChoose, _super);
    function IfStatementChoose(node) {
        var _this = _super.call(this) || this;
        _this.node = node;
        return _this;
    }
    IfStatementChoose.prototype.Execute = function (wl, vs) {
        var ip = wl.top();
        //@ts-ignore STACK
        var cond = GetValue_1.GetValue(vs.pop());
        cond = ToBoolean_1.ToBoolean(cond);
        monitor.context.pushPC(cond.label);
        if (cond.value) {
            ip.then(this.node.consequent);
        }
        else {
            this.node.alternate && ip.then(this.node.alternate);
        }
        ip.then(new IfStatementEnd(cond.label));
    };
    return IfStatementChoose;
}(Task_1.Task));
// ---
var IfStatementEnd = /** @class */ (function (_super) {
    __extends(IfStatementEnd, _super);
    function IfStatementEnd(label) {
        var _this = _super.call(this, Task_1.Task.runfor_continue_break) || this;
        _this.label = label;
        return _this;
    }
    IfStatementEnd.prototype.Execute = function (wl, vs) {
        var c = monitor.context;
        c.popPC();
        if (c.result.value) {
            c.result.value.raise(this.label);
        }
    };
    return IfStatementEnd;
}(Task_1.Task));

},{"../../Conversion/ToBoolean":81,"../../GetValue":119,"../Task":98}],108:[function(require,module,exports){
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var Task_1 = require("../Task");
var Label_1 = require("../../Label");
var MySet = Set;
// 12.12 ---------------------------------------------------------------------
function labeledStatement(node, wl, vs) {
    var ip = wl.top();
    var c = monitor.context;
    var pcmarker = c.pcStack.marker();
    var vsmarker = c.valueStack.marker();
    //@ts-ignore LABELSET
    if (!node.body.labelset) {
        //@ts-ignore LABELSET
        node.body.labelset = new MySet([node.label.name]);
        //@ts-ignore LABELSET
        if (node.labelset) {
            //@ts-ignore LABELSET
            node.body.labelset.union(node.labelset);
        }
    }
    var name = node.label.name;
    var outerlabel = setupStatementLabel(name);
    var labeldata = c.labels.labelmap[name];
    labeldata.pcmarker = c.pcStack.marker();
    c.pushPC(labeldata.label);
    ip.then(node.body);
    ip.then(new LabeledStatementEnd(name, labeldata.label, pcmarker, vsmarker));
}
exports.labeledStatement = labeledStatement;
// labeledStatementEnd
var LabeledStatementEnd = /** @class */ (function (_super) {
    __extends(LabeledStatementEnd, _super);
    function LabeledStatementEnd(name, outerlabel, pcmarker, vsmarker) {
        var _this = _super.call(this, Task_1.Task.runfor_continue_break) || this;
        _this.name = name;
        _this.outerlabel = outerlabel;
        _this.pcmarker = pcmarker;
        _this.vsmarker = vsmarker;
        return _this;
    }
    LabeledStatementEnd.prototype.Execute = function (wl, vs) {
        var c = monitor.context;
        var result = c.result;
        // reset the outer label - no need to reset pcmarker since
        // statement labels with the same name cannot be nested
        c.labels.labelmap[this.name].label = this.outerlabel;
        c.pcStack.reset(this.pcmarker);
        c.valueStack.reset(this.vsmarker);
        if (result.type === 'break' && result.target === this.name) {
            result = c.result;
            result.type = 'normal';
            result.target = null;
        }
    };
    return LabeledStatementEnd;
}(Task_1.Task));
function setupStatementLabel(name) {
    var c = monitor.context;
    var lmap = c.labels.labelmap;
    if (!lmap[name]) {
        lmap[name] = { label: Label_1.bot, pcmarker: undefined };
    }
    var labeldata = lmap[name];
    var outerlabel = labeldata.label;
    // raise to effective pc
    labeldata.label = Label_1.lub(labeldata.label, c.effectivePC);
    return outerlabel;
}

},{"../../Label":123,"../Task":98}],109:[function(require,module,exports){
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var Task_1 = require("../Task");
var GetValue_1 = require("../../GetValue");
var Value_1 = require("../../Value");
var Label_1 = require("../../Label");
//---------------------------------------------------------------------------- 
function returnStatement(node, wl, vs) {
    var c = monitor.context;
    var ip = wl.top();
    monitor.assert(Label_1.le(c.effectivePC, c.labels.ret), 'write context ' + c.effectivePC + ' not below ' +
        'return context ' + c.labels.ret);
    // This is for the new mode of operation, for observable flows
    c.labels.ret = Label_1.lub(c.labels.ret, c.effectivePC);
    if (node.argument) {
        ip.then(node.argument);
    }
    else {
        c.valueStack.push(new Value_1.Value(undefined, Label_1.bot));
    }
    ip.then(ReturnStatementEnd.Instance);
}
exports.returnStatement = returnStatement;
// returnStatementEnd
var ReturnStatementEnd = /** @class */ (function (_super) {
    __extends(ReturnStatementEnd, _super);
    function ReturnStatementEnd() {
        return _super.call(this) || this;
    }
    ReturnStatementEnd.prototype.Execute = function (wl, vs) {
        var result = monitor.context.result;
        result.type = 'return';
        //@ts-ignore STACK
        result.value = GetValue_1.GetValue(vs.pop());
        result.target = null;
    };
    ReturnStatementEnd.Instance = new ReturnStatementEnd();
    return ReturnStatementEnd;
}(Task_1.Task));

},{"../../GetValue":119,"../../Label":123,"../../Value":184,"../Task":98}],110:[function(require,module,exports){
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var Task_1 = require("../Task");
var Label_1 = require("../../Label");
var BinaryOperators_1 = require("../BinaryOperators");
var GetValue_1 = require("../../GetValue");
function _GetValue() {
    var vs = monitor.context.valueStack;
    // @ts-ignore
    var val = vs.pop();
    vs.push(GetValue_1.GetValue(val));
}
var emptyLabel = 'default'; // default is a reserved word so no actual label can be named default 
var MySet = Set;
function switchStatement(node, wl, vs) {
    var c = monitor.context;
    var lmap = monitor.context.labels.labelmap;
    if (!node.labelset) {
        node.labelset = new MySet([]);
    }
    node.labelset.add(emptyLabel);
    var outerEmptyLabelData = lmap[emptyLabel];
    lmap[emptyLabel] = {
        label: c.effectivePC,
        pcmarker: c.pcStack.marker()
    };
    var contextLabel = lmap[emptyLabel].label;
    c.pushPC(contextLabel);
    var switchState = {
        defaultCaseIndex: null,
        nextCase: 0
    };
    if (node.cases) {
        for (var i = 0; i < node.cases.length; i++) {
            if (node.cases[i].test === null) {
                switchState.defaultCaseIndex = i;
                break;
            }
        }
    }
    var ip = wl.top();
    // Store the discriminant value on the value stack.
    // It is later popped by switchStatementEnd.
    ip.then(node.discriminant);
    ip.then(_GetValue);
    // Set up statement labels
    ip.then(new SwitchStatementUpgradeLabels(node));
    // Kick off the first case
    ip.then(new SwitchStatementCase(node, switchState));
    // Clean up and handle breaks
    ip.then(new SwitchStatementEnd(node, outerEmptyLabelData));
}
exports.switchStatement = switchStatement;
// ---
var SwitchStatementUpgradeLabels = /** @class */ (function (_super) {
    __extends(SwitchStatementUpgradeLabels, _super);
    function SwitchStatementUpgradeLabels(node) {
        var _this = _super.call(this) || this;
        _this.node = node;
        return _this;
    }
    SwitchStatementUpgradeLabels.prototype.Execute = function (wl, vs) {
        var c = monitor.context;
        //@ts-ignore STACK
        var discriminantLabel = vs.peek().label;
        var lblmap = c.labels.labelmap;
        c.labels.pc = Label_1.lub(c.labels.pc, discriminantLabel);
        for (var name in this.node.labelset) {
            lblmap[name].label = Label_1.lub(lblmap[name].label, discriminantLabel);
        }
    };
    return SwitchStatementUpgradeLabels;
}(Task_1.Task));
// ---
var SwitchStatementCase = /** @class */ (function (_super) {
    __extends(SwitchStatementCase, _super);
    function SwitchStatementCase(node, switchState) {
        var _this = _super.call(this) || this;
        _this.node = node;
        _this.switchState = switchState;
        return _this;
    }
    SwitchStatementCase.prototype.Execute = function (wl, vs) {
        var ip = wl.top();
        var idx = this.switchState.nextCase;
        if (this.node.cases === undefined || idx >= this.node.cases.length) {
            // No more cases to try, schedule the default 
            // case if there is one
            if (this.switchState.defaultCaseIndex !== null) {
                for (var i = this.switchState.defaultCaseIndex; i < this.node.cases.length; i++) {
                    for (var j = 0; j < this.node.cases[i].consequent.length; j++) {
                        ip.then(this.node.cases[i].consequent[j]);
                    }
                }
            }
            return;
        }
        if (idx === this.switchState.defaultCaseIndex) {
            // Skip the default case during matching
            this.switchState.nextCase += 1;
            ip.then(new SwitchStatementCase(this.node, this.switchState));
            return;
        }
        vs.dup(); // Duplicate the discriminant value
        // Push the test value
        ip.then(this.node.cases[idx].test);
        ip.then(_GetValue);
        // Test for equality and decide what to do next
        ip.then(new SwitchStatementTest(this.node, this.switchState));
    };
    return SwitchStatementCase;
}(Task_1.Task));
// ---
var SwitchStatementTest = /** @class */ (function (_super) {
    __extends(SwitchStatementTest, _super);
    function SwitchStatementTest(node, switchState) {
        var _this = _super.call(this) || this;
        _this.node = node;
        _this.switchState = switchState;
        return _this;
    }
    SwitchStatementTest.prototype.Execute = function (wl, vs) {
        var ip = wl.top();
        BinaryOperators_1.binaryStrictEqs('===', wl, vs);
        // @ts-ignore
        var bresult = vs.pop();
        monitor.context.labels.pc = Label_1.lub(monitor.context.labels.pc, bresult.label);
        if (bresult.value) {
            // Found a match, schedule all statements from here down
            for (var i = this.switchState.nextCase; i < this.node.cases.length; i++) {
                for (var j = 0; j < this.node.cases[i].consequent.length; j++) {
                    ip.then(this.node.cases[i].consequent[j]);
                }
            }
        }
        else {
            this.switchState.nextCase += 1;
            ip.then(new SwitchStatementCase(this.node, this.switchState));
        }
    };
    return SwitchStatementTest;
}(Task_1.Task));
// ---
var SwitchStatementEnd = /** @class */ (function (_super) {
    __extends(SwitchStatementEnd, _super);
    function SwitchStatementEnd(node, outerEmptyLabelData) {
        var _this = _super.call(this, Task_1.Task.runfor_break) || this;
        _this.node = node;
        _this.outerEmptyLabelData = outerEmptyLabelData;
        return _this;
    }
    SwitchStatementEnd.prototype.Execute = function (wl, vs) {
        var c = monitor.context;
        vs.pop(); // pop the discriminant value
        c.popPC(); // pop the labelContext
        if (c.result.type === 'break' && this.node.labelset.has(c.result.target)) {
            c.result.type = 'normal';
            c.result.target = null;
            c.labels.labelmap['empty'] = this.outerEmptyLabelData;
        }
    };
    return SwitchStatementEnd;
}(Task_1.Task));

},{"../../GetValue":119,"../../Label":123,"../BinaryOperators":92,"../Task":98}],111:[function(require,module,exports){
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var Task_1 = require("../Task");
var GetValue_1 = require("../../GetValue");
var Label_1 = require("../../Label");
//---------------------------------------------------------------------------- 
function throwStatement(node, wl, vs) {
    var ip = wl.top();
    ip.then(node.argument);
    ip.then(ThrowStatementEnd.Instance);
}
exports.throwStatement = throwStatement;
// ---
var ThrowStatementEnd = /** @class */ (function (_super) {
    __extends(ThrowStatementEnd, _super);
    function ThrowStatementEnd() {
        return _super.call(this) || this;
    }
    ThrowStatementEnd.prototype.Execute = function (wl, vs) {
        var c = monitor.context;
        var result = c.result;
        //@ts-ignore
        var exprRef = vs.pop();
        // Verfiy that the exception is allowed 
        monitor.assert(Label_1.le(c.effectivePC, c.labels.exc), "exception in " + c.effectivePC + " not allowed with exception label " + c.labels.exc);
        // For observable flows
        c.labels.exc = Label_1.lub(c.labels.exc, c.effectivePC);
        result.type = 'throw';
        result.value = GetValue_1.GetValue(exprRef);
        monitor.offendingTrace = monitor.stackTrace();
    };
    ThrowStatementEnd.Instance = new ThrowStatementEnd();
    return ThrowStatementEnd;
}(Task_1.Task));

},{"../../GetValue":119,"../../Label":123,"../Task":98}],112:[function(require,module,exports){
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var Task_1 = require("../Task");
var Label_1 = require("../../Label");
var Value_1 = require("../../Value");
var DeclarativeEnvironmentRecord_1 = require("../../DeclarativeEnvironmentRecord");
var Result_1 = require("../../Result");
//---------------------------------------------------------------------------- 
function tryStatement(node, wl, vs) {
    var ip = wl.top();
    var c = monitor.context;
    ip.then(node.block);
    // Expression evaluation might cause exceptions; if so the state of
    // the context might need some cleaning up.
    // The result stack and the worklist are not affected by expression so their
    // states are fine.
    // The ret label cannot be affected by exceptions.
    // The stacks needs to be reset. 
    var pcmarker = c.pcStack.marker();
    var vsmarker = c.valueStack.marker();
    var exc = c.labels.exc;
    // esprima seems to generate a list of handlers --- standard only supports one
    //@ts-ignore SYNTAX
    ip.then(new TryStatementCatch(node.handlers[0], pcmarker, vsmarker, exc));
    // The finalizer 
    var lexicalEnv = c.lexicalEnv;
    ip.then(new TryStatementFinally(node.finalizer, pcmarker, vsmarker, lexicalEnv));
}
exports.tryStatement = tryStatement;
// ---
var TryStatementCatch = /** @class */ (function (_super) {
    __extends(TryStatementCatch, _super);
    function TryStatementCatch(handler, pcmarker, vsmarker, exc) {
        var _this = _super.call(this, Task_1.Task.runfor_throw) || this;
        _this.handler = handler;
        _this.pcmarker = pcmarker;
        _this.vsmarker = vsmarker;
        _this.exc = exc;
        return _this;
    }
    TryStatementCatch.prototype.Execute = function (wl, vs) {
        var c = monitor.context;
        var result = c.result;
        // We are in charge of resetting the exc label, the finally does the rest 
        // of the cleaning.
        // The pc of the catch block is pc + exc of body
        var handlerPC = Label_1.lub(c.labels.pc, c.labels.exc);
        // The exc of the catch block is the exc of _catch, that resets the exc
        c.labels.exc = this.exc;
        // if there is no handler or no exception was thrown, there's nothing more to do
        if (!this.handler || result.type !== 'throw') {
            return;
        }
        c.pcStack.reset(this.pcmarker);
        c.valueStack.reset(this.vsmarker);
        c.pcStack.push(handlerPC);
        var catchEnv = DeclarativeEnvironmentRecord_1.NewDeclarativeEnvironment(c.lexicalEnv);
        // ECMA-262 allows only idenfifiers, but the parser allows patterns;
        if (this.handler.param.type !== 'Identifier') {
            monitor.fatal('Pattern in catch not supported');
        }
        //@ts-ignore SYNTAX
        var identifier = new Value_1.Value(this.handler.param.name, Label_1.bot);
        catchEnv.CreateMutableBinding(identifier);
        catchEnv.SetMutableBinding(identifier, result.value);
        c.lexicalEnv = new Value_1.Value(catchEnv, c.effectivePC);
        result.type = 'normal';
        result.value = null;
        wl.push(this.handler.body);
    };
    return TryStatementCatch;
}(Task_1.Task));
// ---
var TryStatementFinally = /** @class */ (function (_super) {
    __extends(TryStatementFinally, _super);
    function TryStatementFinally(body, pcmarker, vsmarker, lexicalEnv) {
        var _this = _super.call(this, Task_1.Task.runfor_all) || this;
        _this.body = body;
        _this.pcmarker = pcmarker;
        _this.vsmarker = vsmarker;
        _this.lexicalEnv = lexicalEnv;
        return _this;
    }
    TryStatementFinally.prototype.Execute = function (wl, vs) {
        var c = monitor.context;
        // The pc of the finally is the pc of the try.
        // The exc of the finally is the exc of the _catch, which is either
        // the exc of theee try, unless it was raised by a handler, in which
        // case it escapes the try, and should affect the finally too.
        // We are in charge of resetting the pcStack, and the lexicalEnv 
        c.pcStack.reset(this.pcmarker);
        c.valueStack.reset(this.vsmarker);
        c.lexicalEnv = this.lexicalEnv;
        // if there is no finally block, we're done
        if (!this.body) {
            return;
        }
        // Allocate a new result --- _finally env choses between the result
        // of the body/handler, and the result of the finally
        var result = c.result;
        c.result = new Result_1.Result();
        var ip = c.workList.top();
        ip.then(this.body);
        ip.then(new TryStatementFinallyEnd(result));
    };
    return TryStatementFinally;
}(Task_1.Task));
// ---
var TryStatementFinallyEnd = /** @class */ (function (_super) {
    __extends(TryStatementFinallyEnd, _super);
    function TryStatementFinallyEnd(result) {
        var _this = _super.call(this, Task_1.Task.runfor_all) || this;
        _this.result = result;
        return _this;
    }
    TryStatementFinallyEnd.prototype.Execute = function (wl, vs) {
        var c = monitor.context;
        if (c.result.type === 'normal') {
            c.result = this.result;
        }
    };
    return TryStatementFinallyEnd;
}(Task_1.Task));

},{"../../DeclarativeEnvironmentRecord":90,"../../Label":123,"../../Result":174,"../../Value":184,"../Task":98}],113:[function(require,module,exports){
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var GetValue_1 = require("../../GetValue");
var PutValue_1 = require("../../PutValue");
var GetIdentifierReference_1 = require("../../GetIdentifierReference");
var Task_1 = require("../Task");
function variableDeclaration(node, wl, vs) {
    var ip = wl.top();
    for (var i = 0, len = node.declarations.length; i < len; i++) {
        var vd = node.declarations[i];
        if (vd.init) {
            if (vd.id.type !== 'Identifier') {
                monitor.fatal(vd.id.type + ' not supported in variable declarations');
            }
            //@ts-ignore SYNTAX
            var lhs = GetIdentifierReference_1.GetIdentifierReference(monitor.context.lexicalEnv, vd.id.name);
            ip.then(vd.init);
            ip.then(new VariableDeclarationUpdate(lhs));
        }
    }
}
exports.variableDeclaration = variableDeclaration;
// ---
var VariableDeclarationUpdate = /** @class */ (function (_super) {
    __extends(VariableDeclarationUpdate, _super);
    function VariableDeclarationUpdate(lhs) {
        var _this = _super.call(this) || this;
        _this.lhs = lhs;
        return _this;
    }
    VariableDeclarationUpdate.prototype.Execute = function (wl, vs) {
        //@ts-ignore STACK
        var rhs = GetValue_1.GetValue(vs.pop());
        PutValue_1.PutValue(this.lhs, rhs);
    };
    return VariableDeclarationUpdate;
}(Task_1.Task));

},{"../../GetIdentifierReference":118,"../../GetValue":119,"../../PutValue":172,"../Task":98}],114:[function(require,module,exports){
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var Task_1 = require("../Task");
var Label_1 = require("../../Label");
var GetValue_1 = require("../../GetValue");
var ToBoolean_1 = require("../../Conversion/ToBoolean");
var emptyLabel = 'default'; // default is a reserved word so no actual label can be named default 
var MySet = Set;
// ------------------------------------------------------------
function whileStatement(node, wl, vs) {
    var c = monitor.context;
    var ip = wl.top();
    var lmap = c.labels.labelmap;
    if (!node.labelset) {
        node.labelset = new MySet([]);
    }
    node.labelset.add(emptyLabel);
    var outerEmptyLabelData = lmap[emptyLabel];
    lmap[emptyLabel] = {
        label: c.effectivePC,
        pcmarker: c.pcStack.marker()
    };
    var contextLabel = lmap[emptyLabel].label;
    c.pushPC(contextLabel);
    ip.then(new WhileStatementShared(node, outerEmptyLabelData));
}
exports.whileStatement = whileStatement;
// ------------------------------------------------------------
function doWhileStatement(node, wl, vs) {
    var c = monitor.context;
    var ip = wl.top();
    var lmap = c.labels.labelmap;
    if (!node.labelset) {
        node.labelset = new MySet([]);
    }
    node.labelset.add(emptyLabel);
    var outerEmptyLabelData = lmap[emptyLabel];
    lmap[emptyLabel] = {
        label: c.effectivePC,
        pcmarker: c.pcStack.marker()
    };
    // used for both statement label security labels and control security label
    var contextLabel = lmap[emptyLabel].label;
    c.pushPC(contextLabel);
    ip.then(node.body);
    ip.then(new WhileStatementShared(node, outerEmptyLabelData));
}
exports.doWhileStatement = doWhileStatement;
// ------------------------------------------------------------
var WhileStatementShared = /** @class */ (function (_super) {
    __extends(WhileStatementShared, _super);
    function WhileStatementShared(node, outerEmptyLabelData) {
        var _this = _super.call(this, Task_1.Task.runfor_continue_break) || this;
        _this.node = node;
        _this.outerEmptyLabelData = outerEmptyLabelData;
        _this.choser = new WhileStatementSharedChoose(_this);
        return _this;
    }
    WhileStatementShared.prototype.Execute = function (wl, vs) {
        var ip = wl.top();
        var c = monitor.context;
        var result = c.result;
        if (result.type === 'break' && this.node.labelset.has(result.target)) {
            result.type = 'normal';
            result.target = null;
            c.labels.labelmap[emptyLabel] = this.outerEmptyLabelData;
            c.popPC(); // contextLabel
            return;
        }
        if (result.type !== 'continue' || !this.node.labelset.has(result.target)) {
            if (result.type !== 'normal') {
                return;
            }
        }
        // continue gets us here
        result.type = 'normal';
        result.target = null;
        ip.then(this.node.test);
        ip.then(this.choser);
    };
    return WhileStatementShared;
}(Task_1.Task));
// ---
var WhileStatementSharedChoose = /** @class */ (function (_super) {
    __extends(WhileStatementSharedChoose, _super);
    function WhileStatementSharedChoose(controller) {
        var _this = _super.call(this, Task_1.Task.runfor_continue) || this;
        _this.controller = controller;
        return _this;
    }
    WhileStatementSharedChoose.prototype.Execute = function (wl, vs) {
        var c = monitor.context;
        //@ts-ignore STACK
        var cond = GetValue_1.GetValue(vs.pop());
        var condb = ToBoolean_1.ToBoolean(cond);
        c.labels.pc = Label_1.lub(c.labels.pc, condb.label);
        if (condb.value) {
            var ip = wl.top();
            ip.then(this.controller.node.body);
            ip.then(this.controller);
        }
        else {
            c.labels.labelmap[emptyLabel] = this.controller.outerEmptyLabelData;
            c.popPC(); // contextLabel
        }
    };
    return WhileStatementSharedChoose;
}(Task_1.Task));

},{"../../Conversion/ToBoolean":81,"../../GetValue":119,"../../Label":123,"../Task":98}],115:[function(require,module,exports){
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var Task_1 = require("../Task");
var GetValue_1 = require("../../GetValue");
var ToObject_1 = require("../../Conversion/ToObject");
var ObjectEnvironmentRecord_1 = require("../../ObjectEnvironmentRecord");
var Value_1 = require("../../Value");
// 12.10 ---------------------------------------------------------------------
function withStatement(node, wl, vs) {
    var ip = wl.top();
    ip.then(node.object);
    ip.then(new WithStatementBody(node));
}
exports.withStatement = withStatement;
// ---
var WithStatementBody = /** @class */ (function (_super) {
    __extends(WithStatementBody, _super);
    function WithStatementBody(node) {
        var _this = _super.call(this) || this;
        _this.node = node;
        return _this;
    }
    WithStatementBody.prototype.Execute = function (wl, vs) {
        var ip = wl.top();
        var c = monitor.context;
        //@ts-ignore STACK
        var val = GetValue_1.GetValue(vs.pop());
        var obj = ToObject_1.ToObject(val);
        var oldEnv = c.lexicalEnv;
        var newEnv = ObjectEnvironmentRecord_1.NewObjectEnvironment(obj, oldEnv);
        newEnv.provideThis();
        c.lexicalEnv = new Value_1.Value(newEnv, obj.label);
        ip.then(this.node.body);
        ip.then(new WithStatementEnd(oldEnv));
    };
    return WithStatementBody;
}(Task_1.Task));
// withStatementEnd
var WithStatementEnd = /** @class */ (function (_super) {
    __extends(WithStatementEnd, _super);
    function WithStatementEnd(lexicalEnv) {
        var _this = _super.call(this, Task_1.Task.runfor_continue_break) || this;
        _this.lexicalEnv = lexicalEnv;
        return _this;
    }
    WithStatementEnd.prototype.Execute = function (wl, vs) {
        monitor.context.lexicalEnv = this.lexicalEnv;
    };
    return WithStatementEnd;
}(Task_1.Task));

},{"../../Conversion/ToObject":85,"../../GetValue":119,"../../ObjectEnvironmentRecord":130,"../../Value":184,"../Task":98}],116:[function(require,module,exports){
Object.defineProperty(exports, "__esModule", { value: true });
var Value_1 = require("../Value");
var Reference_1 = require("../Reference");
var ToNumber_1 = require("../Conversion/ToNumber");
var GetValue_1 = require("../GetValue");
var ToBoolean_1 = require("../Conversion/ToBoolean");
var ToInt32_1 = require("../Conversion/ToInt32");
var Label_1 = require("../Label");
var ToObject_1 = require("../Conversion/ToObject");
var PutValue_1 = require("../PutValue");
// -------------------------------------------------------------
// Unary operators
// -------------------------------------------------------------
// Unary -, 11.4.7
function unaryMinus(wl, vs) {
    var ref = vs.pop();
    //@ts-ignore STACK
    var n = ToNumber_1.ToNumber(GetValue_1.GetValue(ref));
    n.value = -n.value;
    vs.push(n);
}
// -------------------------------------------------------------
// Unary +, 11.4.6
function unaryPlus(wl, vs) {
    var ref = vs.pop();
    //@ts-ignore STACK
    var n = ToNumber_1.ToNumber(GetValue_1.GetValue(ref));
    vs.push(n);
}
// -------------------------------------------------------------
// Logical NOT, 11.4.9
function unaryLogicalNot(wl, vs) {
    var ref = vs.pop();
    //@ts-ignore STACK
    var b = ToBoolean_1.ToBoolean(GetValue_1.GetValue(ref));
    b.value = !b.value;
    vs.push(b);
}
// -------------------------------------------------------------
// Bitwise NOT, 11.4.8
function unaryBitwiseNot(wl, vs) {
    var ref = vs.pop();
    //@ts-ignore STACK
    var n = ToInt32_1.ToInt32(GetValue_1.GetValue(ref));
    n.value = ~n.value;
    vs.push(n);
}
// -------------------------------------------------------------
// The typeof Operator, 11.4.3
function unaryTypeof(wl, vs) {
    var ref = vs.pop();
    if (ref instanceof Reference_1.Reference && ref.IsUnresolvableReference()) {
        vs.push(new Value_1.Value('undefined', ref.base.label));
    }
    else {
        var val = void 0;
        if (ref instanceof Reference_1.Reference) {
            val = GetValue_1.GetValue(ref);
        }
        else {
            //@ts-ignore TYPES
            val = ref;
        }
        if (val.value === null) {
            vs.push(new Value_1.Value('object', val.label));
            return;
        }
        if (typeof val.value === 'object') {
            // TODO: use type predicate
            if ('Call' in val.value) {
                vs.push(new Value_1.Value('function', val.label));
            }
            else {
                vs.push(new Value_1.Value('object', val.label));
            }
        }
        else {
            vs.push(new Value_1.Value(typeof val.value, val.label));
        }
    }
}
// -------------------------------------------------------------
// The void Operator, 11.4.2
function unaryVoid(wl, vs) {
    var ref = vs.pop();
    //@ts-ignore STACK
    var _ignore = GetValue_1.GetValue(ref);
    vs.push(new Value_1.Value(undefined, Label_1.bot));
}
// -------------------------------------------------------------
// The delete Operator, 11.4.1
function unaryDelete(wl, vs) {
    var ref = vs.pop();
    if (ref instanceof Reference_1.Reference) {
        if (ref.IsUnresolvableReference()) {
            vs.push(new Value_1.Value(true, ref.base.label));
        }
        else {
            if (ref.IsPropertyReference()) {
                var object = ToObject_1.ToObject(ref.base);
                vs.push(object.Delete(ref.propertyName));
            }
            else {
                vs.push(ref.base.DeleteBinding(ref.propertyName));
            }
        }
    }
    else {
        //@ts-ignore TYPES
        vs.push(new Value_1.Value(true, ref.label));
    }
}
// -------------------------------------------------------------
exports.unarytbl = {
    '-': unaryMinus,
    '+': unaryPlus,
    '!': unaryLogicalNot,
    '~': unaryBitwiseNot,
    'typeof': unaryTypeof,
    'void': unaryVoid,
    'delete': unaryDelete
};
// ------------------------------------------------------------- 
// Prefix, and Postfix Expressions, 11.3, 11.4.4, 11.4.5
function prefixOps(op, wl, vs) {
    //@ts-ignore
    var ref = vs.pop();
    var oldValue = ToNumber_1.ToNumber(GetValue_1.GetValue(ref));
    var val = op === '++' ? oldValue.value + 1 : oldValue.value - 1;
    var newValue = new Value_1.Value(val, oldValue.label);
    PutValue_1.PutValue(ref, newValue);
    vs.push(newValue);
}
function postfixOps(op, wl, vs) {
    //@ts-ignore
    var ref = vs.pop();
    var oldValue = ToNumber_1.ToNumber(GetValue_1.GetValue(ref));
    var val = op === '++' ? oldValue.value + 1 : oldValue.value - 1;
    var newValue = new Value_1.Value(val, oldValue.label);
    PutValue_1.PutValue(ref, newValue);
    vs.push(oldValue);
}
// -------------------------------------------------------------
exports.prefixtbl = {
    '++': prefixOps.bind(null, '++'),
    '--': prefixOps.bind(null, '--')
};
exports.postfixtbl = {
    '++': postfixOps.bind(null, '++'),
    '--': postfixOps.bind(null, '--')
};

},{"../Conversion/ToBoolean":81,"../Conversion/ToInt32":82,"../Conversion/ToNumber":84,"../Conversion/ToObject":85,"../GetValue":119,"../Label":123,"../PutValue":172,"../Reference":173,"../Value":184}],117:[function(require,module,exports){
// --------------------------------------------------------------------------
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
function isJSFlowError(e) {
    return e !== undefined && e !== null && e.type !== undefined;
}
exports.isJSFlowError = isJSFlowError;
// --------------------------------------------------------------------------
var SecurityError = /** @class */ (function (_super) {
    __extends(SecurityError, _super);
    function SecurityError(msg) {
        var _this = _super.call(this, msg) || this;
        _this.type = 'SecurityError';
        return _this;
    }
    return SecurityError;
}(Error));
exports.SecurityError = SecurityError;
// --------------------------------------------------------------------------
var FatalError = /** @class */ (function (_super) {
    __extends(FatalError, _super);
    function FatalError(msg) {
        var _this = _super.call(this, msg) || this;
        _this.type = 'FatalError';
        return _this;
    }
    return FatalError;
}(Error));
exports.FatalError = FatalError;

},{}],118:[function(require,module,exports){
Object.defineProperty(exports, "__esModule", { value: true });
var Label_1 = require("./Label");
var Reference_1 = require("./Reference");
var Value_1 = require("./Value");
// ------------------------------------------------------------
// GetIdentifierReference, 10.2.2.1
function GetIdentifierReference(p, x) {
    if (!p) {
        monitor.fatal('GetIdentifierReference: p undefined or null for ' + x);
    }
    if (p.value == null) {
        return new Reference_1.Reference(new Value_1.Value(undefined, p.label), new Value_1.Value(x, Label_1.bot));
    }
    var erp = new Value_1.Value(p.value.EnvironmentRecord, p.label);
    var b = erp.HasBinding(new Value_1.Value(x, Label_1.bot));
    if (b.value) {
        erp.label = b.label;
        return new Reference_1.Reference(erp, new Value_1.Value(x, Label_1.bot));
    }
    else {
        var res = GetIdentifierReference(p.value.OuterLexicalEnvironment, x);
        res.base.raise(b.label);
        return res;
    }
}
exports.GetIdentifierReference = GetIdentifierReference;

},{"./Label":123,"./Reference":173,"./Value":184}],119:[function(require,module,exports){
Object.defineProperty(exports, "__esModule", { value: true });
var Reference_1 = require("./Reference");
var Value_1 = require("./Value");
var ToObject_1 = require("./Conversion/ToObject");
var Label_1 = require("./Label");
var PropertyDescriptor_1 = require("./PropertyDescriptor");
function GetValue(v) {
    if (!v || !(v instanceof Reference_1.Reference)) {
        //@ts-ignore TYPES
        return v;
    }
    if (v.base.label === undefined)
        monitor.fatal('GetValue, base.label undefined');
    if (v.IsUnresolvableReference()) {
        monitor.Throw("ReferenceError", v.propertyName.value + ' not defined', v.base.label);
    }
    var p = v.base;
    var s = v.propertyName;
    if (v.IsPropertyReference()) {
        if (!v.HasPrimitiveBase()) {
            return p.Get(s);
        }
        else {
            var o = ToObject_1.ToObject(p);
            var ldesc = o.GetProperty(s);
            if (ldesc.value === undefined) {
                //@ts-ignore TYPES
                return ldesc;
            }
            var lbl = Label_1.lub(ldesc.label, ldesc.value.label);
            var desc = ldesc.value;
            if (PropertyDescriptor_1.IsDataDescriptor(desc)) {
                return new Value_1.Value(desc.value, lbl);
            }
            var get = desc.get;
            if (get === undefined) {
                new Value_1.Value(undefined, lbl);
            }
            // TODO: this must be wrong! part of old handling of getter/setters?
            monitor.context.pushPC(lbl);
            //@ts-ignore TYPES
            var res = get.Call(get, v.base);
            monitor.context.popPC();
            res.raise(lbl);
            return res;
        }
    }
    return p.GetBindingValue(s);
}
exports.GetValue = GetValue;

},{"./Conversion/ToObject":85,"./Label":123,"./PropertyDescriptor":156,"./Reference":173,"./Value":184}],120:[function(require,module,exports){
Object.defineProperty(exports, "__esModule", { value: true });
var Label_1 = require("./Label");
var Value_1 = require("./Value");
var constants = require("./Constants");
var Interfaces_1 = require("./Interfaces");
// ------------------------------------------------------------
function HasInstance(X) {
    var F = this;
    var l = X.label;
    if (Interfaces_1.IsIEcmaObject(X)) {
        // needed to make typechecking work, otherwise V gets type Value<ValueTypes> in while below
        var V = X;
        var O = F.Get(constants.prototype);
        if (!Interfaces_1.IsIEcmaObject(O)) {
            monitor.Throw("TypeError", 'HasInstance', Label_1.bot);
            throw "TypeScript";
        }
        while (V.value !== null) {
            V = V.value.Prototype;
            l = Label_1.lub(l, V.label);
            if (O.value === V.value)
                return new Value_1.Value(true, l);
        }
    }
    return new Value_1.Value(false, l);
}
exports.HasInstance = HasInstance;

},{"./Constants":64,"./Interfaces":122,"./Label":123,"./Value":184}],121:[function(require,module,exports){
Object.defineProperty(exports, "__esModule", { value: true });
var FunctionPrototype_1 = require("./Prototypes/FunctionPrototype");
var FunctionConstructor_1 = require("./Constructors/FunctionConstructor");
var ObjectConstructor_1 = require("./Constructors/ObjectConstructor");
var ObjectPrototype_1 = require("./Prototypes/ObjectPrototype");
var ErrorPrototype_1 = require("./Prototypes/ErrorPrototype");
var ErrorConstructor_1 = require("./Constructors/ErrorConstructor");
var EvalErrorPrototype_1 = require("./Prototypes/EvalErrorPrototype");
var EvalErrorConstructor_1 = require("./Constructors/EvalErrorConstructor");
var RangeErrorPrototype_1 = require("./Prototypes/RangeErrorPrototype");
var RangeErrorConstructor_1 = require("./Constructors/RangeErrorConstructor");
var ReferenceErrorPrototype_1 = require("./Prototypes/ReferenceErrorPrototype");
var ReferenceErrorConstructor_1 = require("./Constructors/ReferenceErrorConstructor");
var SyntaxErrorPrototype_1 = require("./Prototypes/SyntaxErrorPrototype");
var SyntaxErrorConstructor_1 = require("./Constructors/SyntaxErrorConstructor");
var TypeErrorPrototype_1 = require("./Prototypes/TypeErrorPrototype");
var TypeErrorConstructor_1 = require("./Constructors/TypeErrorConstructor");
var URIErrorPrototype_1 = require("./Prototypes/URIErrorPrototype");
var URIErrorConstructor_1 = require("./Constructors/URIErrorConstructor");
var BooleanConstructor_1 = require("./Constructors/BooleanConstructor");
var BooleanPrototype_1 = require("./Prototypes/BooleanPrototype");
var ArrayPrototype_1 = require("./Prototypes/ArrayPrototype");
var ArrayConstructor_1 = require("./Constructors/ArrayConstructor");
var NumberPrototype_1 = require("./Prototypes/NumberPrototype");
var NumberConstructor_1 = require("./Constructors/NumberConstructor");
var StringPrototype_1 = require("./Prototypes/StringPrototype");
var StringConstructor_1 = require("./Constructors/StringConstructor");
var RegExpPrototype_1 = require("./Prototypes/RegExpPrototype");
var RegExpConstructor_1 = require("./Constructors/RegExpConstructor");
var DatePrototype_1 = require("./Prototypes/DatePrototype");
var DateConstructor_1 = require("./Constructors/DateConstructor");
var MathObject_1 = require("./Objects/MathObject");
var JSONObject_1 = require("./Objects/JSONObject");
var Instances = /** @class */ (function () {
    function Instances(global) {
        // pre-allocates instances, without setting them up due to circularity
        this.FunctionConstructor = new FunctionConstructor_1.FunctionConstructor(global.Function);
        this.FunctionPrototype = new FunctionPrototype_1.FunctionPrototype(global.Function.prototype);
        this.ObjectConstructor = new ObjectConstructor_1.ObjectConstructor(global.Object);
        this.ObjectPrototype = new ObjectPrototype_1.ObjectPrototype(global.Object.prototype);
        this.ErrorConstructor = new ErrorConstructor_1.ErrorConstructor(global.Error);
        this.ErrorPrototype = new ErrorPrototype_1.ErrorPrototype(global.Error.prototype);
        this.EvalErrorConstructor = new EvalErrorConstructor_1.EvalErrorConstructor(global.EvalError);
        this.EvalErrorPrototype = new EvalErrorPrototype_1.EvalErrorPrototype(global.EvalError.prototype);
        this.RangeErrorConstructor = new RangeErrorConstructor_1.RangeErrorConstructor(global.RangeError);
        this.RangeErrorPrototype = new RangeErrorPrototype_1.RangeErrorPrototype(global.RangeError.prototype);
        this.ReferenceErrorConstructor = new ReferenceErrorConstructor_1.ReferenceErrorConstructor(global.ReferenceError);
        this.ReferenceErrorPrototype = new ReferenceErrorPrototype_1.ReferenceErrorPrototype(global.ReferenceError.prototype);
        this.SyntaxErrorConstructor = new SyntaxErrorConstructor_1.SyntaxErrorConstructor(global.SyntaxError);
        this.SyntaxErrorPrototype = new SyntaxErrorPrototype_1.SyntaxErrorPrototype(global.SyntaxError.prototype);
        this.TypeErrorConstructor = new TypeErrorConstructor_1.TypeErrorConstructor(global.TypeError);
        this.TypeErrorPrototype = new TypeErrorPrototype_1.TypeErrorPrototype(global.TypeError.prototype);
        this.URIErrorConstructor = new URIErrorConstructor_1.URIErrorConstructor(global.URIError);
        this.URIErrorPrototype = new URIErrorPrototype_1.URIErrorPrototype(global.URIError.prototype);
        this.BooleanConstructor = new BooleanConstructor_1.BooleanConstructor(global.Boolean);
        this.BooleanPrototype = new BooleanPrototype_1.BooleanPrototype(global.Boolean.prototype);
        this.ArrayConstructor = new ArrayConstructor_1.ArrayConstructor(global.Array);
        this.ArrayPrototype = new ArrayPrototype_1.ArrayPrototype(global.Array.prototype);
        this.NumberConstructor = new NumberConstructor_1.NumberConstructor(global.Number);
        this.NumberPrototype = new NumberPrototype_1.NumberPrototype(global.Number.prototype);
        this.StringConstructor = new StringConstructor_1.StringConstructor(global.String);
        this.StringPrototype = new StringPrototype_1.StringPrototype(global.String.prototype);
        this.RegExpConstructor = new RegExpConstructor_1.RegExpConstructor(global.RegExp);
        this.RegExpPrototype = new RegExpPrototype_1.RegExpPrototype(global.RegExp.prototype);
        this.DateConstructor = new DateConstructor_1.DateConstructor(global.Date);
        this.DatePrototype = new DatePrototype_1.DatePrototype(global.Date.prototype);
        this.MathObject = new MathObject_1.MathObject(global.Math);
        this.JSONObject = new JSONObject_1.JSONObject(global.JSON);
    }
    Instances.prototype.Setup = function () {
        this.FunctionConstructor.Setup();
        this.FunctionPrototype.Setup();
        this.ObjectConstructor.Setup();
        this.ObjectPrototype.Setup();
        this.ErrorConstructor.Setup();
        this.ErrorPrototype.Setup();
        this.EvalErrorConstructor.Setup();
        this.EvalErrorPrototype.Setup();
        this.RangeErrorConstructor.Setup();
        this.RangeErrorPrototype.Setup();
        this.ReferenceErrorConstructor.Setup();
        this.ReferenceErrorPrototype.Setup();
        this.SyntaxErrorConstructor.Setup();
        this.SyntaxErrorPrototype.Setup();
        this.TypeErrorConstructor.Setup();
        this.TypeErrorPrototype.Setup();
        this.URIErrorConstructor.Setup();
        this.URIErrorPrototype.Setup();
        this.BooleanConstructor.Setup();
        this.BooleanPrototype.Setup();
        this.ArrayConstructor.Setup();
        this.ArrayPrototype.Setup();
        this.NumberConstructor.Setup();
        this.NumberPrototype.Setup();
        this.StringConstructor.Setup();
        this.StringPrototype.Setup();
        this.RegExpConstructor.Setup();
        this.RegExpPrototype.Setup();
        this.DateConstructor.Setup();
        this.DatePrototype.Setup();
        this.MathObject.Setup();
        this.JSONObject.Setup();
    };
    return Instances;
}());
exports.Instances = Instances;

},{"./Constructors/ArrayConstructor":65,"./Constructors/BooleanConstructor":66,"./Constructors/DateConstructor":67,"./Constructors/ErrorConstructor":68,"./Constructors/EvalErrorConstructor":69,"./Constructors/FunctionConstructor":70,"./Constructors/NumberConstructor":71,"./Constructors/ObjectConstructor":72,"./Constructors/RangeErrorConstructor":73,"./Constructors/ReferenceErrorConstructor":74,"./Constructors/RegExpConstructor":75,"./Constructors/StringConstructor":76,"./Constructors/SyntaxErrorConstructor":77,"./Constructors/TypeErrorConstructor":78,"./Constructors/URIErrorConstructor":79,"./Objects/JSONObject":142,"./Objects/MathObject":143,"./Prototypes/ArrayPrototype":157,"./Prototypes/BooleanPrototype":158,"./Prototypes/DatePrototype":159,"./Prototypes/ErrorPrototype":160,"./Prototypes/EvalErrorPrototype":161,"./Prototypes/FunctionPrototype":162,"./Prototypes/NumberPrototype":163,"./Prototypes/ObjectPrototype":164,"./Prototypes/RangeErrorPrototype":165,"./Prototypes/ReferenceErrorPrototype":166,"./Prototypes/RegExpPrototype":167,"./Prototypes/StringPrototype":168,"./Prototypes/SyntaxErrorPrototype":169,"./Prototypes/TypeErrorPrototype":170,"./Prototypes/URIErrorPrototype":171}],122:[function(require,module,exports){
Object.defineProperty(exports, "__esModule", { value: true });
function IsIEcmaObject(x) {
    return typeof x.value === 'object' && x.value !== null && "Class" in x.value;
}
exports.IsIEcmaObject = IsIEcmaObject;

},{}],123:[function(require,module,exports){
var __values = (this && this.__values) || function(o) {
    var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;
    if (m) return m.call(o);
    if (o && typeof o.length === "number") return {
        next: function () {
            if (o && i >= o.length) o = void 0;
            return { value: o && o[i++], done: !o };
        }
    };
    throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
};
Object.defineProperty(exports, "__esModule", { value: true });
var CrawlerUtil_1 = require("./Toplevel/crawler/CrawlerUtil");
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/. */
// -------------------------------------------------------------------------- 
// #CRAWLER
var include = {
    'global.AudioContext.destination.channelCount': true,
    'global.AudioContext.destination.channelCountMode': true,
    'global.AudioContext.destination.channelInterpretation': true,
    'global.AudioContext.destination.maxChannelCount': true,
    'global.AudioContext.destination.numberOfInputs': true,
    'global.AudioContext.destination.numberOfOutputs': true,
    'global.AudioContext.sampleRate': true,
    'global.HTMLFormElement.addBehavior': true,
    'global.HTMLFormElement.clientHeight': true,
    'global.HTMLFormElement.clientWidth': true,
    'global.HTMLFormElement.offsetHeight': true,
    'global.HTMLFormElement.offsetWidth': true,
    'global.Int8Array.reduce': true,
    'global.Int8Array.slice.reduce': true,
    'global.Intl.DateTimeFormat.resolvedOptions.timeZone': true,
    'global.OfflineAudioContext.oncomplete[0][0].renderedBuffer.getChannelData.reduce': true,
    'global.OfflineAudioContext.oncomplete[0][0].renderedBuffer.getChannelData.slice': true,
    'global.Plugin.description': true,
    'global.Plugin.length': true,
    'global.Plugin.name': true,
    'global.PluginArray.length': true,
    'global.RTCPeerConnection.onicecandidate[0][0].candidate.candidate': true,
    'global.WebGLRenderingContext': true,
    'global.XMLHttpRequest.readyState': true,
    'global.XMLHttpRequest.responseText': true,
    'global.XMLHttpRequest.status': true,
    'global.addBehavior': true,
    'global.devicePixelRatio': true,
    'global.doNotTrack': true,
    'global.document.appendChild': true,
    'global.document.body.addBehavior': true,
    'global.document.createElement.clientHeight': true,
    'global.document.createElement.clientWidth': true,
    'global.document.createElement.getContext.canvas': true,
    'global.document.createElement.getContext.getContextAttributes.antialias': true,
    'global.document.createElement.getContext.getExtension': true,
    'global.document.createElement.getContext.getParameter': true,
    'global.document.createElement.getContext.getParameter.0': true,
    'global.document.createElement.getContext.getParameter.1': true,
    'global.document.createElement.getContext.getShaderPrecisionFormat.precision': true,
    'global.document.createElement.getContext.getShaderPrecisionFormat.rangeMax': true,
    'global.document.createElement.getContext.getShaderPrecisionFormat.rangeMin': true,
    'global.document.createElement.getContext.getSupportedExtensions': true,
    'global.document.createElement.getContext.getSupportedExtensions.0': true,
    'global.document.createElement.getContext.getSupportedExtensions.1': true,
    'global.document.createElement.getContext.getSupportedExtensions.10': true,
    'global.document.createElement.getContext.getSupportedExtensions.11': true,
    'global.document.createElement.getContext.getSupportedExtensions.12': true,
    'global.document.createElement.getContext.getSupportedExtensions.13': true,
    'global.document.createElement.getContext.getSupportedExtensions.14': true,
    'global.document.createElement.getContext.getSupportedExtensions.15': true,
    'global.document.createElement.getContext.getSupportedExtensions.16': true,
    'global.document.createElement.getContext.getSupportedExtensions.17': true,
    'global.document.createElement.getContext.getSupportedExtensions.18': true,
    'global.document.createElement.getContext.getSupportedExtensions.19': true,
    'global.document.createElement.getContext.getSupportedExtensions.2': true,
    'global.document.createElement.getContext.getSupportedExtensions.20': true,
    'global.document.createElement.getContext.getSupportedExtensions.21': true,
    'global.document.createElement.getContext.getSupportedExtensions.22': true,
    'global.document.createElement.getContext.getSupportedExtensions.23': true,
    'global.document.createElement.getContext.getSupportedExtensions.24': true,
    'global.document.createElement.getContext.getSupportedExtensions.25': true,
    'global.document.createElement.getContext.getSupportedExtensions.3': true,
    'global.document.createElement.getContext.getSupportedExtensions.4': true,
    'global.document.createElement.getContext.getSupportedExtensions.5': true,
    'global.document.createElement.getContext.getSupportedExtensions.6': true,
    'global.document.createElement.getContext.getSupportedExtensions.7': true,
    'global.document.createElement.getContext.getSupportedExtensions.8': true,
    'global.document.createElement.getContext.getSupportedExtensions.9': true,
    'global.document.createElement.getContext.getSupportedExtensions.join': true,
    'global.document.createElement.getContext.getSupportedExtensions.length': true,
    'global.document.createElement.getContext.isPointInPath': true,
    'global.document.createElement.offsetHeight': true,
    'global.document.createElement.offsetWidth': true,
    'global.document.createElement.toDataURL': true,
    'global.document.createEvent': true,
    'global.document.getElementById': true,
    'global.document.getElementsByClassName': true,
    'global.document.getElementsByClassName.0': true,
    'global.document.getElementsByTagName': true,
    'global.document.getElementsByTagName.0.appendChild': true,
    'global.document.getElementsByTagName.0.offsetHeight': true,
    'global.document.getElementsByTagName.0.offsetWidth': true,
    'global.document.getElementsByTagName.appendChild': true,
    'global.document.getElementsByTagName.offsetHeight': true,
    'global.document.getElementsByTagName.offsetWidth': true,
    'global.indexedDB': true,
    'global.localStorage': true,
    'global.navigator.cookieEnabled': true,
    'global.navigator.cpuClass': true,
    'global.navigator.deviceMemory': true,
    'global.navigator.doNotTrack': true,
    'global.navigator.hardwareConcurrency': true,
    'global.navigator.language': true,
    'global.navigator.maxTouchPoints': true,
    'global.navigator.mediaDevices': true,
    'global.navigator.msDoNotTrack': true,
    'global.navigator.platform': true,
    'global.navigator.plugins': true,
    'global.navigator.plugins.0.0.suffixes': true,
    'global.navigator.plugins.0.0.type': true,
    'global.navigator.plugins.0.description': true,
    'global.navigator.plugins.0.forEach': true,
    'global.navigator.plugins.0.length': true,
    'global.navigator.plugins.0.name': true,
    'global.navigator.plugins.1.0.suffixes': true,
    'global.navigator.plugins.1.0.type': true,
    'global.navigator.plugins.1.description': true,
    'global.navigator.plugins.1.forEach': true,
    'global.navigator.plugins.1.length': true,
    'global.navigator.plugins.1.name': true,
    'global.navigator.plugins.2.0.suffixes': true,
    'global.navigator.plugins.2.0.type': true,
    'global.navigator.plugins.2.1.suffixes': true,
    'global.navigator.plugins.2.1.type': true,
    'global.navigator.plugins.2.description': true,
    'global.navigator.plugins.2.forEach': true,
    'global.navigator.plugins.2.length': true,
    'global.navigator.plugins.2.name': true,
    'global.navigator.plugins.description': true,
    'global.navigator.plugins.forEach': true,
    'global.navigator.plugins.length': true,
    'global.navigator.plugins.name': true,
    'global.navigator.plugins.suffixes': true,
    'global.navigator.plugins.type': true,
    'global.navigator.systemLanguage': true,
    'global.navigator.userAgent': true,
    'global.navigator.webdriver': true,
    'global.ontouchstart': true,
    'global.openDatabase': true,
    'global.screen.availHeight': true,
    'global.screen.availWidth': true,
    'global.screen.colorDepth': true,
    'global.screen.deviceXDPI': true,
    'global.screen.deviceYDPI': true,
    'global.screen.height': true,
    'global.screen.width': true,
    'global.sessionStorage': true,
    'global.swfobject': true
};
// 
var Top;
(function (Top) {
    Top[Top["Top"] = 0] = "Top";
})(Top || (Top = {}));
;
var MySet = Set;
var Label = /** @class */ (function () {
    function Label(p) {
        var e_1, _a;
        var rest = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            rest[_i - 1] = arguments[_i];
        }
        if (p === Top.Top) {
            this.principals = Top.Top;
            return;
        }
        this.principals = new MySet(rest);
        if (typeof p === "string") {
            // #CRAWLER - if not in the interesting label set, become bot
            if (!include[p]) {
                return;
            }
            this.principals.add(p);
            return;
        }
        if (typeof p !== 'undefined') {
            try {
                for (var p_1 = __values(p), p_1_1 = p_1.next(); !p_1_1.done; p_1_1 = p_1.next()) {
                    var x = p_1_1.value;
                    // #CRAWLER - if not in the interesting label set don't add
                    if (include[x]) {
                        this.principals.add(x);
                    }
                }
            }
            catch (e_1_1) { e_1 = { error: e_1_1 }; }
            finally {
                try {
                    if (p_1_1 && !p_1_1.done && (_a = p_1.return)) _a.call(p_1);
                }
                finally { if (e_1) throw e_1.error; }
            }
        }
    }
    // -------------------------------------------------------------------------- 
    Label.fromString = function (l) {
        return new Label(l.split(','));
    };
    // -------------------------------------------------------------------------- 
    Label.fromURL = function (l) {
        var re = new RegExp('http://[^/]*/');
        var res = re.exec(l);
        if (res === null) {
            return new Label(l.split(','));
        }
        else {
            return new Label([res[0]]);
        }
    };
    // -------------------------------------------------------------------------- 
    Label.prototype.equals = function (l) {
        var e_2, _a, e_3, _b;
        var A = this.principals;
        var B = l.principals;
        if (A === Top.Top || B === Top.Top) {
            return A === B;
        }
        try {
            for (var A_1 = __values(A), A_1_1 = A_1.next(); !A_1_1.done; A_1_1 = A_1.next()) {
                var p = A_1_1.value;
                if (!B.has(p)) {
                    return false;
                }
            }
        }
        catch (e_2_1) { e_2 = { error: e_2_1 }; }
        finally {
            try {
                if (A_1_1 && !A_1_1.done && (_a = A_1.return)) _a.call(A_1);
            }
            finally { if (e_2) throw e_2.error; }
        }
        try {
            for (var B_1 = __values(B), B_1_1 = B_1.next(); !B_1_1.done; B_1_1 = B_1.next()) {
                var p = B_1_1.value;
                if (!A.has(p)) {
                    return false;
                }
            }
        }
        catch (e_3_1) { e_3 = { error: e_3_1 }; }
        finally {
            try {
                if (B_1_1 && !B_1_1.done && (_b = B_1.return)) _b.call(B_1);
            }
            finally { if (e_3) throw e_3.error; }
        }
        return true;
    };
    // -------------------------------------------------------------------------- 
    Label.prototype.le = function (l) {
        var e_4, _a;
        var A = this.principals;
        var B = l.principals;
        if (B === Top.Top) {
            return true;
        }
        if (A === Top.Top) {
            return false;
        }
        try {
            for (var A_2 = __values(A), A_2_1 = A_2.next(); !A_2_1.done; A_2_1 = A_2.next()) {
                var p = A_2_1.value;
                if (!B.has(p)) {
                    return false;
                }
            }
        }
        catch (e_4_1) { e_4 = { error: e_4_1 }; }
        finally {
            try {
                if (A_2_1 && !A_2_1.done && (_a = A_2.return)) _a.call(A_2);
            }
            finally { if (e_4) throw e_4.error; }
        }
        return true;
    };
    // -------------------------------------------------------------------------- 
    Label.prototype.toString = function () {
        var str = 'T';
        if (this.principals !== Top.Top) {
            str = Array.from(this.principals).join(', ');
        }
        return "<" + str + ">";
    };
    // ---
    Label.prototype.ToArray = function () {
        if (this.principals === Top.Top) {
            return ["T"];
        }
        return Array.from(this.principals).sort();
    };
    return Label;
}());
exports.Label = Label;
// -------------------------------------------------------------------------- 
exports.top = new Label(Top.Top);
exports.bot = new Label();
// -------------------------------------------------------------------------- 
function le(l1, l2) {
    return (l1.le(l2));
}
exports.le = le;
function ge(l1, l2) {
    return !l1.le(l2) || l1.equals(l2);
}
exports.ge = ge;
function lub() {
    var e_5, _a, e_6, _b;
    var args = [];
    for (var _i = 0; _i < arguments.length; _i++) {
        args[_i] = arguments[_i];
    }
    if (args.length === 0) {
        return exports.bot;
    }
    var combinedPrincipals = new MySet();
    try {
        for (var args_1 = __values(args), args_1_1 = args_1.next(); !args_1_1.done; args_1_1 = args_1.next()) {
            var l = args_1_1.value;
            if (l.principals === Top.Top) {
                return exports.top;
            }
            try {
                for (var _c = (e_6 = void 0, __values(l.principals)), _d = _c.next(); !_d.done; _d = _c.next()) {
                    var p = _d.value;
                    combinedPrincipals.add(p);
                }
            }
            catch (e_6_1) { e_6 = { error: e_6_1 }; }
            finally {
                try {
                    if (_d && !_d.done && (_b = _c.return)) _b.call(_c);
                }
                finally { if (e_6) throw e_6.error; }
            }
        }
    }
    catch (e_5_1) { e_5 = { error: e_5_1 }; }
    finally {
        try {
            if (args_1_1 && !args_1_1.done && (_a = args_1.return)) _a.call(args_1);
        }
        finally { if (e_5) throw e_5.error; }
    }
    var ret = new Label();
    ret.principals = combinedPrincipals;
    // #CRAWLER
    if (CrawlerUtil_1.IsCrawler(monitor)) {
        monitor.CrawlerData.AddGenerated(ret);
    }
    return ret;
}
exports.lub = lub;
function glb() {
    var e_7, _a, e_8, _b, e_9, _c;
    var args = [];
    for (var _i = 0; _i < arguments.length; _i++) {
        args[_i] = arguments[_i];
    }
    if (args.length === 0) {
        return exports.bot;
    }
    var intersectedPrincipals = new MySet();
    var allIsTop = true;
    try {
        for (var args_2 = __values(args), args_2_1 = args_2.next(); !args_2_1.done; args_2_1 = args_2.next()) {
            var l = args_2_1.value;
            if (l.principals !== Top.Top) {
                intersectedPrincipals = l.principals;
                allIsTop = false;
                break;
            }
        }
    }
    catch (e_7_1) { e_7 = { error: e_7_1 }; }
    finally {
        try {
            if (args_2_1 && !args_2_1.done && (_a = args_2.return)) _a.call(args_2);
        }
        finally { if (e_7) throw e_7.error; }
    }
    if (allIsTop) {
        // All is Top!
        return exports.top;
    }
    try {
        for (var args_3 = __values(args), args_3_1 = args_3.next(); !args_3_1.done; args_3_1 = args_3.next()) {
            var l = args_3_1.value;
            if (l.principals === Top.Top) {
                continue;
            }
            try {
                for (var intersectedPrincipals_1 = (e_9 = void 0, __values(intersectedPrincipals)), intersectedPrincipals_1_1 = intersectedPrincipals_1.next(); !intersectedPrincipals_1_1.done; intersectedPrincipals_1_1 = intersectedPrincipals_1.next()) {
                    var p = intersectedPrincipals_1_1.value;
                    if (!l.principals.has(p)) {
                        intersectedPrincipals.delete(p);
                    }
                }
            }
            catch (e_9_1) { e_9 = { error: e_9_1 }; }
            finally {
                try {
                    if (intersectedPrincipals_1_1 && !intersectedPrincipals_1_1.done && (_c = intersectedPrincipals_1.return)) _c.call(intersectedPrincipals_1);
                }
                finally { if (e_9) throw e_9.error; }
            }
        }
    }
    catch (e_8_1) { e_8 = { error: e_8_1 }; }
    finally {
        try {
            if (args_3_1 && !args_3_1.done && (_b = args_3.return)) _b.call(args_3);
        }
        finally { if (e_8) throw e_8.error; }
    }
    var ret = new Label();
    ret.principals = intersectedPrincipals;
    return ret;
}
exports.glb = glb;

},{"./Toplevel/crawler/CrawlerUtil":178}],124:[function(require,module,exports){
Object.defineProperty(exports, "__esModule", { value: true });
var ObjectEnvironmentRecord_1 = require("./ObjectEnvironmentRecord");
// ---
var LexicalEnvironment = /** @class */ (function () {
    function LexicalEnvironment(er, le) {
        this.EnvironmentRecord = er;
        this.OuterLexicalEnvironment = le;
    }
    LexicalEnvironment.prototype.provideThis = function () {
        if (this.EnvironmentRecord instanceof ObjectEnvironmentRecord_1.ObjectEnvironmentRecord) {
            this.EnvironmentRecord.provideThis = true;
        }
    };
    LexicalEnvironment.prototype.HasBinding = function (s) {
        return this.EnvironmentRecord.HasBinding(s);
    };
    LexicalEnvironment.prototype.CreateMutableBinding = function (p, d) {
        return this.EnvironmentRecord.CreateMutableBinding(p, d);
    };
    LexicalEnvironment.prototype.SetMutableBinding = function (p, v, s) {
        return this.EnvironmentRecord.SetMutableBinding(p, v, s);
    };
    LexicalEnvironment.prototype.GetBindingValue = function (p, s) {
        return this.EnvironmentRecord.GetBindingValue(p, s);
    };
    LexicalEnvironment.prototype.DeleteBinding = function (p) {
        return this.EnvironmentRecord.DeleteBinding(p);
    };
    LexicalEnvironment.prototype.ImplicitThisValue = function () {
        return this.EnvironmentRecord.ImplicitThisValue();
    };
    // TODO: fix
    // Only meaningful if the underlying environment record is 
    //  a declarative environment record
    LexicalEnvironment.prototype.CreateImmutableBinding = function (p, s) {
        //@ts-ignore TYPES
        this.EnvironmentRecord.CreateImmutableBinding(p);
    };
    LexicalEnvironment.prototype.InitializeImmutableBinding = function (p, v) {
        //@ts-ignore TYPES
        this.EnvironmentRecord.InitializeImmutableBinding(p, v);
    };
    return LexicalEnvironment;
}());
exports.LexicalEnvironment = LexicalEnvironment;

},{"./ObjectEnvironmentRecord":130}],125:[function(require,module,exports){
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var Value_1 = require("../../Value");
var Label_1 = require("../../Label");
var Require_1 = require("../Require");
var Module_1 = require("../Module");
var fs_1 = require("fs");
var path_1 = require("path");
var Require_2 = require("./Require");
//---
var CommonJSModule = /** @class */ (function (_super) {
    __extends(CommonJSModule, _super);
    function CommonJSModule(filename, parent) {
        var _this = _super.call(this, filename, parent) || this;
        _this.parent = parent;
        _this.require = new Require_2.CommonJSRequire(_this);
        _this.Put(new Value_1.Value('require', Label_1.bot), new Value_1.Value(_this.require, Label_1.bot), false);
        return _this;
    }
    CommonJSModule.LoadModule = function (path, parent) {
        var script = fs_1.readFileSync(path.value).toString();
        var moduleFunction = monitor.instances.FunctionConstructor.Construct([
            new Value_1.Value('require', Label_1.bot),
            new Value_1.Value('module', Label_1.bot),
            new Value_1.Value('exports', Label_1.bot),
            new Value_1.Value('__filename', Label_1.bot),
            new Value_1.Value('__dirname', Label_1.bot),
            new Value_1.Value(script, path.label)
        ]);
        var module = new CommonJSModule(path, parent);
        var exportsObject = module.Get(new Value_1.Value('exports', Label_1.bot));
        Require_1.Require.cache.set(path.value, exportsObject);
        moduleFunction.Call(new Value_1.Value(undefined, Label_1.bot), [
            new Value_1.Value(module.require, Label_1.bot),
            new Value_1.Value(module, Label_1.bot),
            exportsObject,
            new Value_1.Value(path_1.basename(path.value), path.label),
            new Value_1.Value(path_1.dirname(path.value), path.label)
        ]);
        return module.Get(new Value_1.Value('exports', Label_1.bot));
    };
    return CommonJSModule;
}(Module_1.Module));
exports.CommonJSModule = CommonJSModule;

},{"../../Label":123,"../../Value":184,"../Module":127,"../Require":128,"./Require":126,"fs":2,"path":50}],126:[function(require,module,exports){
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __values = (this && this.__values) || function(o) {
    var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;
    if (m) return m.call(o);
    if (o && typeof o.length === "number") return {
        next: function () {
            if (o && i >= o.length) o = void 0;
            return { value: o && o[i++], done: !o };
        }
    };
    throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
};
Object.defineProperty(exports, "__esModule", { value: true });
var path_1 = require("path");
var fs_1 = require("fs");
var Require_1 = require("../Require");
var Value_1 = require("../../Value");
var Label_1 = require("../../Label");
var Module_1 = require("./Module");
var CommonJSRequire = /** @class */ (function (_super) {
    __extends(CommonJSRequire, _super);
    function CommonJSRequire(module) {
        return _super.call(this, module) || this;
    }
    CommonJSRequire.prototype.TryLoad = function (labeledID) {
        var e_1, _a;
        var id = labeledID.value;
        try {
            for (var _b = __values(this.module.paths), _c = _b.next(); !_c.done; _c = _b.next()) {
                var parentPath = _c.value;
                if (id.startsWith('/')) {
                    parentPath = '/';
                }
                if (id.startsWith('./') || id.startsWith('/') || id.startsWith('../')) {
                    var modulePath = path_1.resolve(path_1.join(parentPath, id));
                    if (fs_1.existsSync(modulePath)) {
                        if (Require_1.Require.cache.get(modulePath)) {
                            var module_1 = Require_1.Require.cache.get(modulePath);
                            module_1.raise(Label_1.lub(this.label, labeledID.label));
                            return module_1;
                        }
                        return Module_1.CommonJSModule.LoadModule(new Value_1.Value(modulePath, labeledID.label), this.module);
                    }
                    modulePath = path_1.resolve(path_1.join(parentPath, id + '.js'));
                    if (fs_1.existsSync(modulePath)) {
                        if (Require_1.Require.cache.get(modulePath)) {
                            var module_2 = Require_1.Require.cache.get(modulePath);
                            module_2.raise(Label_1.lub(this.label, labeledID.label));
                            return module_2;
                        }
                        return Module_1.CommonJSModule.LoadModule(new Value_1.Value(modulePath, labeledID.label), this.module);
                    }
                }
            }
        }
        catch (e_1_1) { e_1 = { error: e_1_1 }; }
        finally {
            try {
                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
            }
            finally { if (e_1) throw e_1.error; }
        }
        return undefined;
    };
    return CommonJSRequire;
}(Require_1.Require));
exports.CommonJSRequire = CommonJSRequire;

},{"../../Label":123,"../../Value":184,"../Require":128,"./Module":125,"fs":2,"path":50}],127:[function(require,module,exports){
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var Value_1 = require("../Value");
var ObjectObject_1 = require("../Objects/ObjectObject");
var path_1 = require("path");
var EcmaObject_1 = require("../Objects/EcmaObject");
var Label_1 = require("../Label");
var process_1 = require("process");
// ---
var Module = /** @class */ (function (_super) {
    __extends(Module, _super);
    function Module(filename, parent) {
        var _this = _super.call(this) || this;
        _this.Class = 'Module';
        if (filename !== undefined) {
            _this.label = Label_1.lub(filename.label, monitor.context.effectivePC);
            _this.filename = filename.value;
            _this.paths = _this.computePaths(path_1.dirname(_this.filename));
            _this.Put(new Value_1.Value('filename', Label_1.bot), filename, false);
            _this.Put(new Value_1.Value('id', Label_1.bot), filename, false);
        }
        else {
            _this.label = monitor.context.effectivePC;
            _this.paths = _this.computePaths(process_1.cwd());
            _this.Put(new Value_1.Value('filename', Label_1.bot), new Value_1.Value(undefined, Label_1.bot), false);
            _this.Put(new Value_1.Value('id', Label_1.bot), new Value_1.Value("<repl>", Label_1.bot), false);
        }
        var exportsObject = new ObjectObject_1.ObjectObject();
        _this.Put(new Value_1.Value('exports', Label_1.bot), new Value_1.Value(exportsObject, Label_1.bot), false);
        return _this;
    }
    Module.prototype.computePaths = function (dirname) {
        return [dirname];
    };
    return Module;
}(EcmaObject_1.EcmaObject));
exports.Module = Module;

},{"../Label":123,"../Objects/EcmaObject":137,"../Objects/ObjectObject":146,"../Value":184,"path":50,"process":51}],128:[function(require,module,exports){
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var EcmaObject_1 = require("../Objects/EcmaObject");
var Label_1 = require("../Label");
// ---
var Require = /** @class */ (function (_super) {
    __extends(Require, _super);
    function Require(module) {
        var _this = _super.call(this) || this;
        _this.Class = 'Require';
        _this.module = module;
        // this is the topmost require
        if (module.parent === undefined) {
            _this.label = monitor.context.effectivePC;
        }
        else {
            _this.main = module.parent.require.main;
            _this.label = Label_1.lub(module.label, monitor.context.effectivePC);
        }
        return _this;
    }
    // ---
    Require.prototype.Call = function (thisArg, args) {
        var labeledID = args[0];
        if (typeof labeledID.value !== 'string') {
            monitor.Throw("TypeError", 'require expects a string', thisArg.label);
            throw 'TypeScript';
        }
        var module = this.TryLoad(labeledID);
        if (module === undefined) {
            monitor.Throw("Error", labeledID.value + " not found", thisArg.label);
            throw 'TypeScript';
        }
        return module;
    };
    Require.prototype.Construct = function (args) {
        monitor.fatal('Cannot use require as a constructor');
        throw 'TypeScript';
    };
    Require.cache = new Map();
    return Require;
}(EcmaObject_1.EcmaObject));
exports.Require = Require;

},{"../Label":123,"../Objects/EcmaObject":137}],129:[function(require,module,exports){
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/. */
Object.defineProperty(exports, "__esModule", { value: true });
var Label_1 = require("./Label");
var Value_1 = require("./Value");
var Context_1 = require("./Context");
var Options_1 = require("./Options");
var Stack_1 = require("./Stack");
var ErrorObject_1 = require("./Objects/ErrorObject");
var EvalErrorObject_1 = require("./Objects/EvalErrorObject");
var RangeErrorObject_1 = require("./Objects/RangeErrorObject");
var ReferenceErrorObject_1 = require("./Objects/ReferenceErrorObject");
var SyntaxErrorObject_1 = require("./Objects/SyntaxErrorObject");
var TypeErrorObject_1 = require("./Objects/TypeErrorObject");
var URIErrorObject_1 = require("./Objects/URIErrorObject");
var StackTrace_1 = require("./StackTrace");
var Execute_1 = require("./Engine/Execute");
var Error_1 = require("./Error");
var beautify = require("js-beautify");
// --------------------------------------------------------------------------
var ExecutionInfo = /** @class */ (function () {
    function ExecutionInfo() {
        this.delta = 100000;
        this.steps = 0;
        this.time = Date.now();
    }
    ExecutionInfo.prototype.step = function () {
        this.steps++;
        if (this.steps % this.delta === 0) {
            this.report();
        }
    };
    ExecutionInfo.prototype.report = function () {
        if (!monitor.options.get('monitor.progress')) {
            return;
        }
        var currentTime = Date.now();
        var elapsed = (currentTime - this.time) / 1000;
        monitor.info("Executed a total of " + this.steps + " steps in " + elapsed + " seconds at an average rate of " + Math.floor(this.steps / elapsed) + " steps/second");
    };
    return ExecutionInfo;
}());
exports.ExecutionInfo = ExecutionInfo;
//
var MonitorBase = /** @class */ (function () {
    // ---
    // constructor
    function MonitorBase(global, print, log, info, warn, error) {
        this.contextStack = new Stack_1.Stack();
        global.monitor = this;
        global.JSFLOW_STACK_CHECK = true;
        this.print = print ? print : console.log;
        this.log = log ? log : console.log;
        this.warn = warn ? warn : console.warn;
        this.info = info ? info : console.info;
        this.error = error ? error : console.error;
        this.options = new Options_1.Options();
        /*
        * taintMode disables the context computation by overriding exc, ret, pc, and effectivePC
        * forcing them to return bot
        */
        this.options.declare('monitor.taintMode', 'boolean', false, 'taint mode');
        /*
        * testMode supresses label printing in output and security errors
        * to make jsflow compatible with the test harness set by the spiderflow and nodeflow commands
        */
        this.options.declare('monitor.testMode', 'boolean', false, 'test mode');
        /* observableMode supresses stop-on-security-error allowing execution to continue with
        * a printed warning message.
        */
        this.options.declare('monitor.observableMode', 'boolean', false, 'observable mode');
        /* progress causes jsflow to regularly report its execution progress.
        */
        this.options.declare('monitor.progress', 'boolean', false, 'progress mode');
        /* crawler turns on crawler specific gathering code that documents different aspects of the execution.
        */
        this.options.declare('monitor.crawler', 'boolean', false, 'crawler');
        this.debug = { active: false };
        //@ts-ignore
        var context = new Context_1.Context(null, null, null);
        this.contextStack.push(context);
        this.executionInfo = new ExecutionInfo();
    }
    Object.defineProperty(MonitorBase.prototype, "context", {
        // ---
        get: function () {
            return this.contextStack.peek();
        },
        enumerable: true,
        configurable: true
    });
    // ---
    MonitorBase.prototype.running = function () {
        return Execute_1.running();
    };
    ;
    // ---
    // ---
    // throws:
    //  Value<ValueType> or
    //  JSFlowError, when security error or fatal error
    MonitorBase.prototype.Execute = function (code, origin) {
        var result = Execute_1.executeGlobalCode(code, origin);
        if (result.type === 'throw') {
            throw result.value;
        }
        return result.value;
    };
    // ---
    // code transformation support
    MonitorBase.prototype.transform = function (code) {
        return code;
    };
    // ---
    MonitorBase.prototype.beautify = function (code) {
        return beautify.js(code);
    };
    // ---
    // ---
    MonitorBase.prototype.resume = function () {
        this.debug.active = false;
        return Execute_1.resume();
    };
    // ---
    MonitorBase.prototype.step = function () {
        return Execute_1.resume();
    };
    // ---
    MonitorBase.prototype.printWorkList = function () {
        this.log('context owner: ' + this.context.owner);
        this.log(String(this.context.workList));
    };
    // ---
    // TODO: fix proper printing
    MonitorBase.prototype.fatal = function (msg) {
        var args = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            args[_i - 1] = arguments[_i];
        }
        var exc = new Error_1.FatalError(msg + args.map(function (x) { return JSON.stringify(x); }).join(' '));
        throw exc;
    };
    // ---
    MonitorBase.prototype.stop = function (msg) {
        var exc = new Error(msg);
        //@ts-ignore TYPES
        exc.type = 'Stop';
        throw exc;
    };
    // ---
    MonitorBase.prototype.Throw = function (error, msg, lbl) {
        this.assert(Label_1.le(this.context.effectivePC, this.context.labels.exc), 'throw: effective pc ' + this.context.effectivePC +
            ' not below exception label ' + this.context.labels.exc);
        var msgValue = new Value_1.Value(msg, lbl);
        this.offendingTrace = this.stackTrace();
        switch (error) {
            case "Error": throw new Value_1.Value(new ErrorObject_1.ErrorObject(msgValue), Label_1.bot);
            case "EvalError": throw new Value_1.Value(new EvalErrorObject_1.EvalErrorObject(msgValue), Label_1.bot);
            case "RangeError": throw new Value_1.Value(new RangeErrorObject_1.RangeErrorObject(msgValue), Label_1.bot);
            case "ReferenceError": throw new Value_1.Value(new ReferenceErrorObject_1.ReferenceErrorObject(msgValue), Label_1.bot);
            case "SyntaxError": throw new Value_1.Value(new SyntaxErrorObject_1.SyntaxErrorObject(msgValue), Label_1.bot);
            case "TypeError": throw new Value_1.Value(new TypeErrorObject_1.TypeErrorObject(msgValue), Label_1.bot);
            case "URIError": throw new Value_1.Value(new URIErrorObject_1.URIErrorObject(msgValue), Label_1.bot);
        }
        this.fatal("Throw: Don't know how to deal with " + error);
    };
    // ---
    MonitorBase.prototype.stackTrace = function () {
        return new StackTrace_1.StackTrace(this.contextStack.toArray());
    };
    // ---
    MonitorBase.prototype.securityError = function (message) {
        if (this.options.get('monitor.testMode')) {
            return;
        }
        if (this.options.get('monitor.taintMode') || this.options.get('monitor.observableMode')) {
            this.warn("[JSFlow NORMAL] Security violation:", message);
        }
        else {
            var exc = new Error_1.SecurityError(message);
            throw exc;
        }
    };
    // ---
    MonitorBase.prototype.assert = function (b, msg) {
        if (!b)
            this.securityError(msg);
    };
    // lifts exceptions that 
    // 1. are not JSFlow internal exceptions 
    // 2. have a a JSFlow modeled counterpart
    // otherwise returns
    MonitorBase.prototype.tryRethrow = function (e, Throw) {
        if ((typeof e !== 'object' && typeof e !== 'function') || e === null) {
            return false;
        }
        if (Error_1.isJSFlowError(e)) {
            throw e;
        }
        if (e instanceof Value_1.Value) {
            throw e;
        }
        var isNative = e.name == "Error" ||
            e.name === "EvalError" ||
            e.name === "RangeError" ||
            e.name === "ReferenceError" ||
            e.name === "SyntaxError" ||
            e.name === "TypeError" ||
            e.name === "URIError";
        if (Throw && isNative) {
            this.Throw(e.name, e.stack, Label_1.bot);
        }
    };
    return MonitorBase;
}());
exports.MonitorBase = MonitorBase;

},{"./Context":80,"./Engine/Execute":95,"./Error":117,"./Label":123,"./Objects/ErrorObject":138,"./Objects/EvalErrorObject":139,"./Objects/RangeErrorObject":147,"./Objects/ReferenceErrorObject":148,"./Objects/SyntaxErrorObject":151,"./Objects/TypeErrorObject":152,"./Objects/URIErrorObject":153,"./Options":154,"./Stack":175,"./StackTrace":176,"./Value":184,"js-beautify":26}],130:[function(require,module,exports){
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var Label_1 = require("./Label");
var Value_1 = require("./Value");
var EcmaObject_1 = require("./Objects/EcmaObject");
var LexicalEnvironment_1 = require("./LexicalEnvironment");
// ------------------------------------------------------------
// 10.2.2.3
function NewObjectEnvironment(o, e) {
    var envRec = new ObjectEnvironmentRecord(o);
    var env = new LexicalEnvironment_1.LexicalEnvironment(envRec, e);
    return env;
}
exports.NewObjectEnvironment = NewObjectEnvironment;
// ------------------------------------------------------------
// Environment records, 10.2.1.2
var ObjectEnvironmentRecord = /** @class */ (function (_super) {
    __extends(ObjectEnvironmentRecord, _super);
    function ObjectEnvironmentRecord(p) {
        var _this = _super.call(this) || this;
        _this.provideThis = false;
        if (p.value === undefined)
            monitor.fatal('ObjectEnvironmentRecord, undefined binding object');
        _this.bindingObject = p; // Value
        return _this;
    }
    // ---
    ObjectEnvironmentRecord.prototype.raise = function (l) {
        this.bindingObject.raise(l);
    };
    // ---
    // HasBinding, 10.2.1.2.1
    ObjectEnvironmentRecord.prototype.HasBinding = function (p) {
        return this.bindingObject.HasProperty(p);
    };
    // ---
    // CreateMutableBinding, 10.2.1.2.2
    ObjectEnvironmentRecord.prototype.CreateMutableBinding = function (p, d) {
        var desc = {
            value: undefined,
            label: monitor.context.effectivePC,
            writable: true,
            enumerable: true,
            configurable: !!d
        };
        this.bindingObject.DefineOwnProperty(p, desc, true);
    };
    // ---
    // GetBindingValue, 10.2.1.2.4
    ObjectEnvironmentRecord.prototype.GetBindingValue = function (p, s) {
        return this.bindingObject.Get(p);
    };
    // SetMutableBinding, 10.2.1.2.3
    ObjectEnvironmentRecord.prototype.SetMutableBinding = function (p, v, s) {
        this.bindingObject.Put(p, v, s);
    };
    // DeleteBinding, 10.2.1.2.5
    ObjectEnvironmentRecord.prototype.DeleteBinding = function (p) {
        return this.bindingObject.Delete(p);
    };
    // ImplicitThisValue, 10.2.1.2.6
    ObjectEnvironmentRecord.prototype.ImplicitThisValue = function () {
        if (this.provideThis) {
            return this.bindingObject.clone();
        }
        else {
            return new Value_1.Value(undefined, Label_1.bot);
        }
    };
    return ObjectEnvironmentRecord;
}(EcmaObject_1.EcmaObject));
exports.ObjectEnvironmentRecord = ObjectEnvironmentRecord;

},{"./Label":123,"./LexicalEnvironment":124,"./Objects/EcmaObject":137,"./Value":184}],131:[function(require,module,exports){
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var EcmaObject_1 = require("./EcmaObject");
var Value_1 = require("../Value");
var Label_1 = require("../Label");
var ArgumentsObject = /** @class */ (function (_super) {
    __extends(ArgumentsObject, _super);
    function ArgumentsObject(F, args) {
        var _this = _super.call(this) || this;
        _this.Prototype = new Value_1.Value(monitor.instances.ObjectPrototype, Label_1.bot);
        _this.Class = 'Arguments';
        _this.Extensible = true;
        var formalParams = F.FormalParameters;
        var args = args || [];
        for (var i = 0; i < args.length; i++) {
            _this.Put(new Value_1.Value(i, Label_1.bot), args[i], false);
        }
        for (var i = 0; i < formalParams.length; i++) {
            var id = formalParams[i];
            if (id.type !== 'Identifier') {
                monitor.fatal(id.type + ' is not supported in ArgumentsObject');
            }
            if (args[i]) {
                _this.Put(new Value_1.Value(id.name, Label_1.bot), args[i], false);
            }
        }
        _this.Put(new Value_1.Value('length', Label_1.bot), new Value_1.Value(args.length, Label_1.bot), false);
        _this.Put(new Value_1.Value('callee', Label_1.bot), new Value_1.Value(F, Label_1.bot), false);
        return _this;
    }
    return ArgumentsObject;
}(EcmaObject_1.EcmaObject));
exports.ArgumentsObject = ArgumentsObject;
// ------------------------------------------------------------
// Create Arguments Object, 10.6
function CreateArgumentsObject(env, F, args) {
    return new Value_1.Value(new ArgumentsObject(F, args), Label_1.bot);
}
exports.CreateArgumentsObject = CreateArgumentsObject;

},{"../Label":123,"../Value":184,"./EcmaObject":137}],132:[function(require,module,exports){
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var Value_1 = require("../Value");
var EcmaObject_1 = require("../Objects/EcmaObject");
var Label_1 = require("../Label");
var ToUInt32_1 = require("../Conversion/ToUInt32");
var ToNumber_1 = require("../Conversion/ToNumber");
// ------------------------------------------------------------
// 15.4.2.1, and 15.4.2.2
var ArrayObject = /** @class */ (function (_super) {
    __extends(ArrayObject, _super);
    function ArrayObject(struct) {
        var _this = _super.call(this) || this;
        _this.Class = 'Array';
        _this.Prototype = new Value_1.Value(monitor.instances.ArrayPrototype, Label_1.bot);
        _this.Extensible = true;
        _this.properties = [];
        _this.labels = {};
        struct = struct || Label_1.bot;
        _this.labels.length = {
            value: struct,
            existence: Label_1.bot
        };
        _this.struct = struct;
        return _this;
    }
    // ---
    ArrayObject.fromValueArray = function (values, struct) {
        var array = new ArrayObject(struct);
        for (var i = 0, len = values.length; i < len; i++) {
            var value = values[i];
            array.properties[i] = value.value;
            array.labels[i] = {
                value: value.label,
                existence: Label_1.bot
            };
        }
        return array;
    };
    // ---
    ArrayObject.fromPropertyArray = function (values, struct) {
        var array = new ArrayObject(struct);
        for (var i = 0, len = values.length; i < len; i++) {
            var value = values[i];
            array.properties[i] = value.value;
            array.labels[i] = {
                value: value.label,
                existence: value.label
            };
        }
        return array;
    };
    // ---
    ArrayObject.fromArray = function (values, label, existence) {
        var array = new ArrayObject(existence);
        for (var i = 0, len = values.length; i < len; i++) {
            array.properties[i] = values[i];
            array.labels[i] = {
                value: label,
                existence: existence
            };
        }
        return array;
    };
    // ---
    ArrayObject.prototype.toString = function () {
        return this.properties.toString();
    };
    // ---
    ArrayObject.prototype.toLabeledString = function () {
        var strs = [];
        for (var p in this.properties) {
            strs.push(this.properties[p] + '_' + this.labels[p].value.toString() + '(' + this.labels[p].existence.toString() + ')');
        }
        return '[ ' + strs.join(', ') + ' | ' + this.struct.toString() + ', length : ' + this.labels.length.value.toString() + '(' + this.labels.length.existence.toString() + ')' + ' ]';
    };
    // ---
    // 15.4.5.1
    ArrayObject.prototype.DefineOwnProperty = function (s, desc, Throw) {
        var c = monitor.context;
        /* Instead of lengthContext = lub(c.effectivePC, s.label), push s.label to
           pc-stack, and use pc (to make taintMode easier) */
        c.pushPC(s.label);
        if (!Label_1.le(c.effectivePC, this.labels.length.value)) {
            monitor.securityError("Array.prototype.DefineOwnProperty: write context " + c.effectivePC + " not below length label " + this.labels.length.value);
            // For observable flows
            this.labels.length.value = Label_1.lub(this.labels.length.value, c.effectivePC);
        }
        c.popPC();
        var oldLenDesc = this.GetOwnProperty(new Value_1.Value('length', Label_1.bot));
        var oldLen = new Value_1.Value(oldLenDesc.value.value, oldLenDesc.label);
        if (s.value === 'length') {
            if (desc.value === undefined) {
                return _super.prototype.DefineOwnProperty.call(this, s, desc, Throw);
            }
            var newLen = ToUInt32_1.ToUInt32(new Value_1.Value(desc.value, desc.label));
            if (newLen.value !== ToNumber_1.ToNumber(new Value_1.Value(desc.value, desc.label)).value) {
                monitor.Throw('RangeError', 'Invalid length in Array.DefineOwnProperty', Label_1.bot);
            }
            if (newLen.value >= oldLen.value) {
                return _super.prototype.DefineOwnProperty.call(this, s, { value: newLen.value, label: Label_1.lub(newLen.label, desc.label) }, Throw);
            }
            if (oldLenDesc.value.writable === false) {
                if (Throw) {
                    monitor.Throw('TypeError', 'Non-writable descriptor in Array.DefineOwnProperty', Label_1.bot);
                }
                else {
                    return new Value_1.Value(false, Label_1.bot);
                }
            }
            desc.value = newLen.value;
            desc.label = Label_1.lub(desc.label, newLen.label);
        }
        return _super.prototype.DefineOwnProperty.call(this, s, desc, Throw);
    };
    return ArrayObject;
}(EcmaObject_1.EcmaObject));
exports.ArrayObject = ArrayObject;

},{"../Conversion/ToNumber":84,"../Conversion/ToUInt32":89,"../Label":123,"../Objects/EcmaObject":137,"../Value":184}],133:[function(require,module,exports){
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var Value_1 = require("../Value");
var EcmaObject_1 = require("../Objects/EcmaObject");
var Label_1 = require("../Label");
// ------------------------------------------------------------
// Boolean Object, 15.6.5
var BooleanObject = /** @class */ (function (_super) {
    __extends(BooleanObject, _super);
    function BooleanObject(val, lbl) {
        var _this = _super.call(this) || this;
        _this.Class = 'Boolean';
        _this.PrimitiveValue = new Boolean(val);
        _this.PrimitiveLabel = lbl;
        _this.Extensible = true;
        _this.Prototype = new Value_1.Value(monitor.instances.BooleanPrototype, Label_1.bot);
        return _this;
    }
    return BooleanObject;
}(EcmaObject_1.EcmaObject));
exports.BooleanObject = BooleanObject;
// ---
function IsBooleanObject(x) {
    return typeof x.value === 'object' && x.value !== null && x.value.Class === 'Boolean';
}
exports.IsBooleanObject = IsBooleanObject;

},{"../Label":123,"../Objects/EcmaObject":137,"../Value":184}],134:[function(require,module,exports){
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var BuiltinMethodObject_1 = require("./BuiltinMethodObject");
// ------------------------------------------------------------
var BuiltinFunctionObject = /** @class */ (function (_super) {
    __extends(BuiltinFunctionObject, _super);
    function BuiltinFunctionObject(f, n, host) {
        return _super.call(this, undefined, f, n, host) || this;
    }
    return BuiltinFunctionObject;
}(BuiltinMethodObject_1.BuiltinMethodObject));
exports.BuiltinFunctionObject = BuiltinFunctionObject;

},{"./BuiltinMethodObject":135}],135:[function(require,module,exports){
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var Label_1 = require("../Label");
var Value_1 = require("../Value");
var Define_1 = require("../Define");
var EcmaObject_1 = require("./EcmaObject");
var constants = require("../Constants");
// ------------------------------------------------------------
var BuiltinMethodObject = /** @class */ (function (_super) {
    __extends(BuiltinMethodObject, _super);
    function BuiltinMethodObject(self, f, n, host) {
        var _this = _super.call(this) || this;
        _this.host = host;
        _this.actualFunction = f;
        _this.self = self || _this;
        _this.Class = 'Function';
        _this.Prototype = new Value_1.Value(monitor.instances.FunctionPrototype, Label_1.bot);
        _this.Extensible = true;
        Define_1.DefineFFF(_this, constants.length, n);
        return _this;
    }
    BuiltinMethodObject.prototype.Call = function (thisArg, args) {
        try {
            return this.actualFunction.call(this.self, thisArg, args);
        }
        catch (e) {
            monitor.tryRethrow(e, true);
            monitor.fatal("BuiltinMethodObject.Call, unable to lift " + e + " (error is of type " + typeof e + " \noriginating from " + this.actualFunction + " \nrepresenting host " + this.host + ") \ncalled with this: " + thisArg.value + " \nand args: " + args);
            throw 'TypeScript';
        }
    };
    BuiltinMethodObject.prototype.Construct = function (args) {
        monitor.Throw("TypeError", 'cannot be used as a constructor', Label_1.bot);
        throw 'TypeScript';
    };
    BuiltinMethodObject.prototype.toString = function () {
        if (this.host) {
            return this.host.toString();
        }
        else {
            return this.actualFunction.toString();
        }
    };
    return BuiltinMethodObject;
}(EcmaObject_1.EcmaObject));
exports.BuiltinMethodObject = BuiltinMethodObject;

},{"../Constants":64,"../Define":91,"../Label":123,"../Value":184,"./EcmaObject":137}],136:[function(require,module,exports){
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var Value_1 = require("../Value");
var EcmaObject_1 = require("../Objects/EcmaObject");
var Label_1 = require("../Label");
// ------------------------------------------------------------
// Date Object, 15.9.5
var DateObject = /** @class */ (function (_super) {
    __extends(DateObject, _super);
    function DateObject(date, label) {
        var _this = _super.call(this) || this;
        _this.Class = 'Date';
        _this.PrimitiveValue = date;
        _this.PrimitiveLabel = label;
        _this.Extensible = true;
        _this.Prototype = new Value_1.Value(monitor.instances.DatePrototype, Label_1.bot);
        return _this;
    }
    return DateObject;
}(EcmaObject_1.EcmaObject));
exports.DateObject = DateObject;
function IsDateObject(x) {
    return typeof x.value === 'object' && x.value !== null && x.value.Class === 'Date';
}
exports.IsDateObject = IsDateObject;

},{"../Label":123,"../Objects/EcmaObject":137,"../Value":184}],137:[function(require,module,exports){
Object.defineProperty(exports, "__esModule", { value: true });
var Value_1 = require("../Value");
var Label_1 = require("../Label");
var PropertyDescriptor_1 = require("../PropertyDescriptor");
var constants = require("../Constants");
var IsCallable_1 = require("../Utility/IsCallable");
// ------------------------------------------------------------
// Ecma Objects, 8.6.2
var EcmaObject = /** @class */ (function () {
    function EcmaObject() {
        this._prototype = new Value_1.Value(null, Label_1.bot);
        this.Extensible = true;
        this.properties = {};
        this.labels = {};
        this.properties = {};
        this.labels = {};
        this.struct = monitor.context.effectivePC;
        Object.defineProperty(this, 'map', {
            get: function () {
                throw new Error('Something touched Ecma.map');
            },
            configurable: true
        });
    }
    Object.defineProperty(EcmaObject.prototype, "Prototype", {
        get: function () {
            return this._prototype;
        },
        set: function (p) {
            this._prototype = p;
        },
        enumerable: true,
        configurable: true
    });
    // ---
    EcmaObject.prototype.toString = function () {
        return this.Class ? this.Class : 'EcmaObject';
    };
    // --- used by lprint
    EcmaObject.prototype.toLabeledString = function () {
        return this.toString();
    };
    // ---
    EcmaObject.prototype.getOwnPropertyNames = function (label) {
        var names = Object.getOwnPropertyNames(this.properties);
        var result = [];
        for (var i = 0, len = names.length; i < len; i++) {
            var name = names[i];
            result[i] = new Value_1.Value(name, Label_1.lub(label, this.labels[name].existence));
        }
        return result;
    };
    // ---
    EcmaObject.prototype.getOwnEnumerablePropertyNames = function (label) {
        var names = Object.getOwnPropertyNames(this.properties);
        var enumerable = [];
        var j = 0;
        for (var i = 0, len = names.length; i < len; i++) {
            var name = names[i];
            // from getOwnPropertyNames; guaranteed to be found
            var desc = Object.getOwnPropertyDescriptor(this.properties, name);
            if (desc.enumerable) {
                enumerable[j++] = new Value_1.Value(name, Label_1.lub(label, this.labels[name].existence));
            }
        }
        return enumerable;
    };
    // ---
    EcmaObject.prototype.getEnumerablePropertyNames = function (initialLabel) {
        var defined = {};
        var result = [];
        var j = 0;
        var current = this;
        var lbl = initialLabel || Label_1.bot;
        while (current) {
            var enumerable = current.getOwnEnumerablePropertyNames(lbl);
            for (var i = 0, len = enumerable.length; i < len; i++) {
                var name = enumerable[i];
                if (!defined.hasOwnProperty(name.value)) {
                    defined[name.value] = true;
                    result[j++] = name;
                }
            }
            var next = current.Prototype;
            //@ts-ignore TYPES
            current = next.value;
            lbl = Label_1.lub(lbl, next.label);
        }
        return result;
    };
    // GetOwnProperty, 8.12.1 -----------------------------------------------------
    EcmaObject.prototype.GetOwnProperty = function (s) {
        var propName = s.value;
        var propNameLabel = s.label;
        var jsdesc = Object.getOwnPropertyDescriptor(this.properties, propName);
        if (jsdesc === undefined) {
            return new Value_1.Value(undefined, Label_1.lub(this.struct, propNameLabel));
        }
        var propLabel = this.labels[propName];
        // @ts-ignore
        jsdesc.label = propLabel.value;
        var result = new Value_1.Value(jsdesc, Label_1.lub(propNameLabel, propLabel.existence));
        return result;
    };
    // GetProperty, 8.12.2 --------------------------------------------------------
    EcmaObject.prototype.GetProperty = function (s) {
        var prop = this.GetOwnProperty(s);
        if (prop.value !== undefined) {
            return prop;
        }
        var proto = this.Prototype;
        var lbl = Label_1.lub(prop.label, proto.label);
        if (proto.value === null) {
            return new Value_1.Value(undefined, lbl);
        }
        // DEBUG: remove
        if (proto.value === undefined) {
            monitor.fatal('ECMA Object with undefined Prototype');
        }
        var res = proto.GetProperty(s);
        res.label = Label_1.lub(lbl, res.label);
        return res;
    };
    // Get, 8.12.3 ----------------------------------------------------------------
    EcmaObject.prototype.Get = function (s) {
        var descValue = this.GetProperty(s);
        if (descValue.value === undefined) {
            return new Value_1.Value(undefined, descValue.label);
        }
        var v;
        var desc = descValue.value;
        monitor.context.pushPC(descValue.label);
        if ('value' in desc) {
            v = new Value_1.Value(desc.value, desc.label);
        }
        else if (desc.get) {
            monitor.context.pushPC(desc.label);
            v = desc.get.call(this);
            monitor.context.popPC();
        }
        else {
            v = new Value_1.Value(undefined, descValue.label);
        }
        monitor.context.popPC();
        v.raise(descValue.label);
        return v;
    };
    // CanPut, 8.12.4 -------------------------------------------------------------
    EcmaObject.prototype.CanPut = function (p) {
        var labeledDesc = this.GetOwnProperty(p);
        var label = labeledDesc.label;
        if (labeledDesc.value) {
            var desc = labeledDesc.value;
            label = Label_1.lub(label, desc.label);
            if (PropertyDescriptor_1.IsAccessorDescriptor(desc)) {
                return new Value_1.Value(desc.set !== undefined, label);
            }
            else {
                return new Value_1.Value(!!desc.writable, label);
            }
        }
        var proto = this.Prototype;
        if (proto.value === null) {
            return new Value_1.Value(this.Extensible, label);
        }
        var lableledPrototypeDesc = proto.GetProperty(p);
        label = Label_1.lub(label, lableledPrototypeDesc.label);
        if (lableledPrototypeDesc.value === undefined) {
            return new Value_1.Value(this.Extensible, label);
        }
        var prototypeDesc = lableledPrototypeDesc.value;
        label = Label_1.lub(label, prototypeDesc.label);
        if (PropertyDescriptor_1.IsAccessorDescriptor(prototypeDesc)) {
            return new Value_1.Value(prototypeDesc.set !== undefined, label);
        }
        else {
            if (!this.Extensible) {
                return new Value_1.Value(false, label);
            }
            else {
                return new Value_1.Value(!!prototypeDesc.writable, label);
            }
        }
    };
    // Put, 8.12.5 ----------------------------------------------------------------
    EcmaObject.prototype.Put = function (s, v, Throw) {
        var c = monitor.context;
        var canPut = this.CanPut(s);
        if (!canPut.value) {
            if (Throw) {
                c.pushPC(canPut.label);
                monitor.Throw("TypeError", 'illegal access', Label_1.bot);
            }
            return;
        }
        c.pushPC(new Label_1.Label());
        var ownDesc = this.GetOwnProperty(s);
        if (ownDesc.value && PropertyDescriptor_1.IsDataDescriptor(ownDesc.value)) {
            this.DefineOwnProperty(s, { value: v.value, label: v.label }, Throw);
            c.popPC();
            return;
        }
        var desc = this.GetProperty(s);
        if (desc.value && PropertyDescriptor_1.IsAccessorDescriptor(desc.value)) {
            this.struct = Label_1.lub(this.struct, s.label);
            if (desc.value.set) {
                c.labels.pc = Label_1.lub(c.labels.pc, desc.label);
                try {
                    desc.value.set.call(this, v);
                }
                catch (e) {
                    monitor.tryRethrow(e, Throw);
                    monitor.fatal("EcmaObject.Put, unable to lift " + e + " of type " + typeof e + " (Put(" + s.value + ", " + v.value + ") on " + this.properties + ")");
                }
            }
            c.popPC();
            return;
        }
        c.labels.pc = Label_1.lub(c.labels.pc, desc.label);
        this.DefineOwnProperty(s, {
            value: v.value,
            label: v.label,
            writable: true,
            enumerable: true,
            configurable: true
        }, Throw);
        c.popPC();
        return;
    };
    // HasProperty, 8.12.6 --------------------------------------------------------
    EcmaObject.prototype.HasProperty = function (s) {
        var desc = this.GetProperty(s);
        var val = new Value_1.Value(desc.value !== undefined, desc.label);
        return val;
    };
    // Delete, 8.12.7 -------------------------------------------------------------
    EcmaObject.prototype.Delete = function (s, Throw) {
        var c = monitor.context;
        var propertyName = s.value;
        var desc = this.GetOwnProperty(s);
        if (desc.value === undefined) {
            return new Value_1.Value(true, desc.label);
        }
        if (!Label_1.le(c.effectivePC, this.struct)) {
            var msg = "Ecma.prototype.Delete: security context " + c.effectivePC + " not below structure " + this.struct;
            monitor.securityError(msg);
            // For observable flows
            this.struct = Label_1.lub(this.struct, c.effectivePC);
        }
        var lbl = Label_1.lub(c.effectivePC, desc.label);
        var existence = this.labels[propertyName].existence;
        // use pc stack for taint mode
        c.pushPC(lbl);
        if (!Label_1.le(c.effectivePC, existence)) {
            var msg = "Ecma.prototype.Delete: security context " + lbl + " not below exstence label " + existence;
            monitor.securityError(msg);
            // For observable flows
            existence = Label_1.lub(existence, lbl);
        }
        c.popPC();
        var res;
        try {
            res = delete this.properties[propertyName];
            if (res) {
                delete this.labels[propertyName];
            }
        }
        catch (e) {
            monitor.tryRethrow(e, Throw);
            monitor.fatal("EcmaObject.Delete, unable to lift " + e + " of type " + typeof e + " (Delete(" + s.value + ") on " + this.properties + ")");
        }
        return new Value_1.Value(res, Label_1.lub(desc.label, existence));
    };
    // DefaultValue, 8.12.8 -------------------------------------------------------
    EcmaObject.prototype.DefaultValue = function (hint) {
        if (hint === undefined) {
            if (this.Class === 'Date')
                hint = 'string';
            else
                hint = 'number';
        }
        if (hint === 'string') {
            var toString_1 = this.Get(constants.toString);
            if (IsCallable_1.IsCallable(toString_1)) {
                var str = toString_1.Call(new Value_1.Value(this, Label_1.bot), []);
                if (isDefinedPrimitiveValue(str))
                    return str;
            }
            monitor.context.pushPC(toString_1.label);
            var valueOf_1 = this.Get(constants.valueOf);
            if (IsCallable_1.IsCallable(valueOf_1)) {
                var str = valueOf_1.Call(new Value_1.Value(this, Label_1.bot), []);
                if (isDefinedPrimitiveValue(str)) {
                    str.raise(toString_1.label);
                    monitor.context.popPC();
                    return str;
                }
            }
            // return new Value('DefaultValue: unable to convert', bot);
            monitor.Throw("TypeError", 'default value, unable to convert', Label_1.lub(toString_1.label, valueOf_1.label));
        }
        // hint must be 'number'
        var valueOf = this.Get(constants.valueOf);
        if (IsCallable_1.IsCallable(valueOf)) {
            var str = valueOf.Call(new Value_1.Value(this, Label_1.bot), []);
            if (isDefinedPrimitiveValue(str))
                return str;
        }
        monitor.context.pushPC(valueOf.label);
        var toString = this.Get(constants.toString);
        if (IsCallable_1.IsCallable(toString)) {
            var str = toString.Call(new Value_1.Value(this, Label_1.bot), []);
            if (isDefinedPrimitiveValue(str)) {
                str.raise(valueOf.label);
                monitor.context.popPC();
                return str;
            }
        }
        return monitor.Throw("TypeError", 'default value, unable to convert', Label_1.lub(toString.label, valueOf.label));
    };
    // DefineOwnProperty, 8.12.9 --------------------------------------------------
    EcmaObject.prototype.DefineOwnProperty = function (s, desc, Throw) {
        var c = monitor.context;
        var propName = s.value;
        var propNameLabel = s.label;
        var contextLabel = Label_1.lub(c.effectivePC, propNameLabel);
        try {
            if (Object.hasOwnProperty.call(this.properties, propName)) {
                var valueLabel = this.labels[propName].value;
                // use the pc stack to make taint mode easier
                c.pushPC(contextLabel);
                if (!Label_1.le(c.effectivePC, valueLabel)) {
                    var msg = "Ecma.prototype.DefineOwnProperty: security context " + contextLabel + " not below existing value label " + valueLabel + " for property " + propName;
                    monitor.securityError(msg);
                    // For observable flows
                    valueLabel = Label_1.lub(valueLabel, contextLabel);
                }
                c.popPC();
            }
            else {
                if (!Label_1.le(c.effectivePC, this.struct)) {
                    var msg = "Ecma.prototype.DefineOwnProperty: security context " + c.effectivePC + " not below structure " + this.struct;
                    monitor.securityError(msg);
                    // For observable flows
                    this.struct = Label_1.lub(this.struct, c.effectivePC);
                }
            }
            this.struct = Label_1.lub(this.struct, propNameLabel);
            if (desc.get) {
                var get_1 = desc.get;
                //@ts-ignore DESC HELL
                desc.get = function () { return get_1.Call(new Value_1.Value(this, Label_1.bot), []); };
                //@ts-ignore DESC HELL
                desc.get.actualFunction = get_1;
            }
            if (desc.set) {
                var set_1 = desc.set;
                //@ts-ignore DESC HELL
                desc.set = function (v) { return set_1.Call(new Value_1.Value(this, Label_1.bot), [v]); };
                //@ts-ignore DESC HELL
                desc.set.actualFunction = set_1;
            }
            //@ts-ignore DESC HELL
            Object.defineProperty(this.properties, propName, desc);
            // fix of issue #4, label of enumerable is part of desc.label and affects the existence.
            this.labels[propName] = { value: Label_1.lub(desc.label, contextLabel), existence: Label_1.lub(desc.label, contextLabel) };
        }
        catch (e) {
            //@ts-ignore TYPES
            monitor.tryRethrow(e, Throw);
            monitor.fatal("EcmaObject.DefineOwnProperty, unable to lift " + e + " of type " + typeof e + " (DefineOwnProperty(" + s.value + ", " + desc + ") on " + this.properties + ")");
        }
        return new Value_1.Value(true, Label_1.bot);
    };
    return EcmaObject;
}());
exports.EcmaObject = EcmaObject;
function isDefinedPrimitiveValue(value) {
    return typeof value.value === 'boolean' || typeof value.value === 'string' || typeof value.value === 'number';
}

},{"../Constants":64,"../Label":123,"../PropertyDescriptor":156,"../Utility/IsCallable":182,"../Value":184}],138:[function(require,module,exports){
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var Value_1 = require("../Value");
var EcmaObject_1 = require("../Objects/EcmaObject");
var constants = require("../Constants");
var ToString_1 = require("../Conversion/ToString");
var Label_1 = require("../Label");
// ------------------------------------------------------------
var ErrorObject = /** @class */ (function (_super) {
    __extends(ErrorObject, _super);
    function ErrorObject(v) {
        var _this = _super.call(this) || this;
        _this.Prototype = new Value_1.Value(monitor.instances.ErrorPrototype, Label_1.bot);
        _this.Class = 'Error';
        _this.Extensible = true;
        var message = new Value_1.Value("", Label_1.bot);
        if (v.value !== undefined) {
            message = ToString_1.ToString(v);
        }
        _this.DefineOwnProperty(constants.message, {
            value: message.value,
            label: message.label,
            writable: true,
            enumerable: false,
            configurable: true
        });
        // for toString
        _this.message = message.value;
        _this.stack = monitor.stackTrace();
        return _this;
    }
    ErrorObject.prototype.toString = function () {
        var str = 'Error: ' + this.message + '\n' + this.stack.toString();
        return str;
    };
    return ErrorObject;
}(EcmaObject_1.EcmaObject));
exports.ErrorObject = ErrorObject;

},{"../Constants":64,"../Conversion/ToString":87,"../Label":123,"../Objects/EcmaObject":137,"../Value":184}],139:[function(require,module,exports){
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var NativeErrorObject_1 = require("./NativeErrorObject");
// ------------------------------------------------------------
var EvalErrorObject = /** @class */ (function (_super) {
    __extends(EvalErrorObject, _super);
    function EvalErrorObject(v) {
        var _this = _super.call(this, monitor.instances.EvalErrorPrototype, v) || this;
        _this.Type = 'NativeError';
        return _this;
    }
    return EvalErrorObject;
}(NativeErrorObject_1.NativeErrorObject));
exports.EvalErrorObject = EvalErrorObject;

},{"./NativeErrorObject":144}],140:[function(require,module,exports){
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var Label_1 = require("../Label");
var Value_1 = require("../Value");
var Define_1 = require("../Define");
var EcmaObject_1 = require("../Objects/EcmaObject");
var constants = require("../Constants");
var ObjectObject_1 = require("../Objects/ObjectObject");
var HasInstance_1 = require("../HasInstance");
var Interfaces_1 = require("../Interfaces");
var PP_1 = require("../PP");
var Execute_1 = require("../Engine/Execute");
var ToObject_1 = require("../Conversion/ToObject");
var DeclarativeEnvironmentRecord_1 = require("../DeclarativeEnvironmentRecord");
var Binding_1 = require("../Engine/Binding");
// ------------------------------------------------------------
// 10.4.3
function enterFunctionCode(F, thisArg, args) {
    var c = monitor.context;
    var thisBinding;
    if (thisArg.value === null || thisArg.value === undefined) {
        thisBinding = new Value_1.Value(monitor.GlobalObject, thisArg.label);
    }
    else if (typeof thisArg.value !== 'object' && typeof thisArg.value !== 'function') {
        thisBinding = ToObject_1.ToObject(thisArg);
    }
    else {
        //@ts-ignore TypeScript doesn't narrow generic types
        thisBinding = thisArg;
    }
    var localEnv = new Value_1.Value(DeclarativeEnvironmentRecord_1.NewDeclarativeEnvironment(F.Scope), c.effectivePC);
    var newContext = c.clone(thisBinding, localEnv, localEnv);
    newContext.labels.ret = Label_1.lub(newContext.labels.ret, newContext.labels.pc);
    newContext.owner = F.Name;
    Binding_1.DeclarationBindingInstantiation(newContext, F, args);
    return newContext;
}
// ------------------------------------------------------------
// Function objects, 13.2
var FunctionObject = /** @class */ (function (_super) {
    __extends(FunctionObject, _super);
    function FunctionObject(parms, code, scope) {
        var _this = _super.call(this) || this;
        _this.Class = 'Function';
        _this.Prototype = new Value_1.Value(monitor.instances.FunctionPrototype, Label_1.bot);
        _this.Scope = scope;
        _this.FormalParameters = parms ? parms : [];
        _this.Code = code;
        _this.Extensible = true;
        Define_1.DefineFFT(_this, constants.length, _this.FormalParameters.length);
        // NOTE: will be updated when called and since we piggyback properties on native properties
        // defining as FFF will cause future updates to fail. Thus we define it as TFT even though
        // this violates the standard.
        Define_1.DefineFFF(_this, constants.arguments, null);
        Define_1.DefineFFF(_this, constants.caller, null);
        var proto = new ObjectObject_1.ObjectObject();
        Define_1.DefineTFT(proto, constants.constructor, _this);
        Define_1.DefineTFF(_this, constants.prototype, proto);
        return _this;
    }
    // ---
    FunctionObject.prototype.AsyncCall = function (thisArg, args) {
        // step 1, as in 10.4.3 embodied in enterFunctionCode
        var funcCtx = enterFunctionCode(this, thisArg, args);
        // for stack trace
        funcCtx.owner = this.Name;
        monitor.contextStack.push(funcCtx);
        var ip = funcCtx.workList.top();
        if (this.Code) {
            ip.then(this.Code);
            ip.then(AsyncCallEnd);
        }
        else {
            ip.then(AsyncCallEnd);
        }
    };
    // ---
    // 13.2.1 
    FunctionObject.prototype.Call = function (thisArg, args) {
        // step 1, as in 10.4.3 embodied in enterFunctionCode
        var funcCtx = enterFunctionCode(this, thisArg, args);
        // for stack trace
        funcCtx.owner = this.Name;
        var res;
        monitor.contextStack.push(funcCtx);
        if (this.Code) {
            res = Execute_1.execute(this.Code, false);
        }
        if (funcCtx.result.value) {
            funcCtx.result.value.raise(funcCtx.labels.ret);
        }
        monitor.contextStack.pop();
        // copy out the inner exception level
        monitor.context.labels.exc = Label_1.lub(monitor.context.labels.exc, funcCtx.labels.exc);
        if (res !== undefined) {
            switch (res.type) {
                case 'throw':
                    throw res.value;
                case 'return':
                    // TODO: should be fixed by making Result a tagged union
                    if (res.value === null) {
                        monitor.fatal('Call: malformed result');
                        throw 'TypeScript';
                    }
                    return res.value;
            }
        }
        return new Value_1.Value(undefined, funcCtx.labels.ret);
    };
    // ---
    FunctionObject.prototype.AsyncConstruct = function (args) {
        var obj = new EcmaObject_1.EcmaObject();
        obj.Class = 'Object';
        obj.Extensible = true;
        var proto = this.Get(constants.prototype);
        if (!Interfaces_1.IsIEcmaObject(proto)) {
            proto = new Value_1.Value(monitor.instances.ObjectPrototype, Label_1.bot);
        }
        // @ts-ignore, we know proto is Value<EcmaObject>
        obj.Prototype = proto;
        var ip = monitor.context.workList.top();
        this.AsyncCall(new Value_1.Value(obj, Label_1.bot), args);
        // TODO: it seems that the closure data is not used
        ip.then(AsyncConstructEnd, { object: obj });
        return ip;
    };
    // ---
    // ---
    // 13.2.2
    FunctionObject.prototype.Construct = function (args) {
        var obj = new EcmaObject_1.EcmaObject();
        obj.Class = 'Object';
        obj.Extensible = true;
        var proto = this.Get(constants.prototype);
        if (!Interfaces_1.IsIEcmaObject(proto)) {
            proto = new Value_1.Value(monitor.instances.ObjectPrototype, Label_1.bot);
        }
        // @ts-ignore, we know proto is Value<EcmaObject>
        obj.Prototype = proto;
        var result = this.Call(new Value_1.Value(obj, Label_1.bot), args);
        if (!Interfaces_1.IsIEcmaObject(result)) {
            result = new Value_1.Value(obj, Label_1.bot);
        }
        // @ts-ignore, we know result is Value<EcmaObject>
        return result;
    };
    FunctionObject.prototype.HasInstance = function (V) {
        return HasInstance_1.HasInstance.call(this, V);
    };
    FunctionObject.prototype.toString = function () {
        return PP_1.pretty(this.Source);
    };
    return FunctionObject;
}(EcmaObject_1.EcmaObject));
exports.FunctionObject = FunctionObject;
// ---
function AsyncCallEnd() {
    var callContext = monitor.context;
    monitor.contextStack.pop();
    var callerContext = monitor.context;
    var result = callContext.result;
    var retlabel = callContext.labels.ret;
    if (result.type !== 'normal' && result.value) {
        result.value.raise(retlabel);
    }
    else {
        result.value = new Value_1.Value(undefined, retlabel);
    }
    // copy out the inner exception level
    callerContext.labels.exc = Label_1.lub(callerContext.labels.exc, callContext.labels.exc);
    callerContext.valueStack.push(result);
}
exports.AsyncCallEnd = AsyncCallEnd;
AsyncCallEnd.runfor = { 'return': true, 'throw': true };
function AsyncConstructEnd() {
    // @ts-ignore
    var retval = monitor.context.valueStack.peek();
    // TODO: what about throw?
    // TODO: this is not a correct way of checking if returned object is an ecmaobject
    if (typeof retval.value.value !== 'object') {
        retval.value = new Value_1.Value(this.object, Label_1.bot);
    }
}
exports.AsyncConstructEnd = AsyncConstructEnd;
AsyncConstructEnd.runfor = { 'return': true, 'throw': true };

},{"../Constants":64,"../Conversion/ToObject":85,"../DeclarativeEnvironmentRecord":90,"../Define":91,"../Engine/Binding":93,"../Engine/Execute":95,"../HasInstance":120,"../Interfaces":122,"../Label":123,"../Objects/EcmaObject":137,"../Objects/ObjectObject":146,"../PP":155,"../Value":184}],141:[function(require,module,exports){
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var Value_1 = require("../Value");
var constants = require("../Constants");
var esprima = require("esprima");
var BuiltinFunctionObject_1 = require("./BuiltinFunctionObject");
var ToNumber_1 = require("../Conversion/ToNumber");
var ToString_1 = require("../Conversion/ToString");
var Define_1 = require("../Define");
var EcmaObject_1 = require("../Objects/EcmaObject");
var Label_1 = require("../Label");
var Interfaces_1 = require("../Interfaces");
var ToInt32_1 = require("../Conversion/ToInt32");
var Execute_1 = require("../Engine/Execute");
// ------------------------------------------------------------
var GlobalObject = /** @class */ (function (_super) {
    __extends(GlobalObject, _super);
    function GlobalObject(host) {
        var _this = _super.call(this) || this;
        _this.Class = 'global';
        if (_this.Prototype === undefined || _this.Prototype.value === null) {
            _this.Prototype = new Value_1.Value(monitor.instances.ObjectPrototype, Label_1.bot);
        }
        _this.host = host;
        // 15.1.1
        Define_1.DefineFFF(_this, constants.NaN, NaN);
        Define_1.DefineFFF(_this, constants['Infinity'], Infinity);
        Define_1.DefineFFF(_this, constants['undefined'], undefined);
        // 15.1.2
        Define_1.DefineTFT(_this, constants['eval'], new BuiltinFunctionObject_1.BuiltinFunctionObject(__eval, 1, host.eval));
        Define_1.DefineTFT(_this, constants.parseInt, new BuiltinFunctionObject_1.BuiltinFunctionObject(__parseInt, 2, host.parseInt));
        Define_1.DefineTFT(_this, constants.parseFloat, new BuiltinFunctionObject_1.BuiltinFunctionObject(__parseFloat, 1, host.parseFloat));
        Define_1.DefineTFT(_this, constants.isNaN, new BuiltinFunctionObject_1.BuiltinFunctionObject(__isNaN, 1, host.isNaN));
        Define_1.DefineTFT(_this, constants.isFinite, new BuiltinFunctionObject_1.BuiltinFunctionObject(__isFinite, 1, host.isFinite));
        // 15.1.3
        Define_1.DefineTFT(_this, constants.decodeURI, new BuiltinFunctionObject_1.BuiltinFunctionObject(__decodeURI, 1, host.decodeURI));
        Define_1.DefineTFT(_this, constants.decodeURIComponent, new BuiltinFunctionObject_1.BuiltinFunctionObject(__decodeURIComponent, 1, host.decodeURIComponent));
        Define_1.DefineTFT(_this, constants.encodeURI, new BuiltinFunctionObject_1.BuiltinFunctionObject(__encodeURI, 1, host.encodeURI));
        Define_1.DefineTFT(_this, constants.encodeURIComponent, new BuiltinFunctionObject_1.BuiltinFunctionObject(__encodeURIComponent, 1, host.encodeURIComponent));
        // 15.1.4
        Define_1.DefineTFT(_this, constants.Object, monitor.instances.ObjectConstructor);
        Define_1.DefineTFT(_this, constants.Function, monitor.instances.FunctionConstructor);
        Define_1.DefineTFT(_this, constants.Array, monitor.instances.ArrayConstructor);
        Define_1.DefineTFT(_this, constants.String, monitor.instances.StringConstructor);
        Define_1.DefineTFT(_this, constants.Boolean, monitor.instances.BooleanConstructor);
        Define_1.DefineTFT(_this, constants.Number, monitor.instances.NumberConstructor);
        Define_1.DefineTFT(_this, constants.Date, monitor.instances.DateConstructor);
        Define_1.DefineTFT(_this, constants.RegExp, monitor.instances.RegExpConstructor);
        Define_1.DefineTFT(_this, constants.Error, monitor.instances.ErrorConstructor);
        Define_1.DefineTFT(_this, constants.EvalError, monitor.instances.EvalErrorConstructor);
        Define_1.DefineTFT(_this, constants.RangeError, monitor.instances.RangeErrorConstructor);
        Define_1.DefineTFT(_this, constants.ReferenceError, monitor.instances.ReferenceErrorConstructor);
        Define_1.DefineTFT(_this, constants.SyntaxError, monitor.instances.SyntaxErrorConstructor);
        Define_1.DefineTFT(_this, constants.TypeError, monitor.instances.TypeErrorConstructor);
        Define_1.DefineTFT(_this, constants.URIError, monitor.instances.URIErrorConstructor);
        Define_1.DefineTFT(_this, constants.Math, monitor.instances.MathObject);
        Define_1.DefineTFT(_this, constants.JSON, monitor.instances.JSONObject);
        Define_1.DefineTFT(_this, new Value_1.Value("globalThis", Label_1.bot), _this);
        // B.2
        Define_1.DefineTFT(_this, constants.escape, new BuiltinFunctionObject_1.BuiltinFunctionObject(__escape, 1, host.escape));
        Define_1.DefineTFT(_this, constants.unescape, new BuiltinFunctionObject_1.BuiltinFunctionObject(__unescape, 1, host.unescape));
        Define_1.DefineTFT(_this, new Value_1.Value('write', Label_1.bot), new BuiltinFunctionObject_1.BuiltinFunctionObject(__print, 0, 'write'));
        Define_1.DefineTFT(_this, new Value_1.Value('print', Label_1.bot), new BuiltinFunctionObject_1.BuiltinFunctionObject(__lprint, 0, 'print'));
        // legacy
        Define_1.DefineTFT(_this, new Value_1.Value('jsflog', Label_1.bot), new BuiltinFunctionObject_1.BuiltinFunctionObject(__lprint, 0, 'lprint'));
        Define_1.DefineFFF(_this, new Value_1.Value('upg', Label_1.bot), new BuiltinFunctionObject_1.BuiltinFunctionObject(__dupg, 1, undefined));
        Define_1.DefineFFF(_this, new Value_1.Value('upgs', Label_1.bot), new BuiltinFunctionObject_1.BuiltinFunctionObject(__dupgs, 1, undefined));
        Define_1.DefineFFF(_this, new Value_1.Value('upge', Label_1.bot), new BuiltinFunctionObject_1.BuiltinFunctionObject(__dupge, 1, undefined));
        Define_1.DefineFFF(_this, new Value_1.Value('lbl', Label_1.bot), new BuiltinFunctionObject_1.BuiltinFunctionObject(__upg, 1, undefined));
        Define_1.DefineFFF(_this, new Value_1.Value('lbls', Label_1.bot), new BuiltinFunctionObject_1.BuiltinFunctionObject(__upgs, 1, undefined));
        Define_1.DefineFFF(_this, new Value_1.Value('lble', Label_1.bot), new BuiltinFunctionObject_1.BuiltinFunctionObject(__upge, 1, undefined));
        Define_1.DefineFFF(_this, new Value_1.Value('lblparts', Label_1.bot), new BuiltinFunctionObject_1.BuiltinFunctionObject(__upgparts, 1, undefined));
        Define_1.DefineFFF(_this, new Value_1.Value('upgl', Label_1.bot), new BuiltinFunctionObject_1.BuiltinFunctionObject(__upgl, 1, undefined));
        Define_1.DefineFFF(_this, new Value_1.Value('declassify', Label_1.bot), new BuiltinFunctionObject_1.BuiltinFunctionObject(__declassify, 1, undefined));
        return _this;
        /*
        DefineFFF(this , new Value('upgs'   , bot) , new BuiltinFunctionObject(__upgs   , 1, undefined));
        DefineFFF(this , new Value('dupgs'  , bot) , new BuiltinFunctionObject(__dupgs  , 1, undefined));
        DefineFFF(this , new Value('getPC'  , bot) , new BuiltinFunctionObject(__getPC  , 0, undefined));
        DefineFFF(this , new Value('setPC'  , bot) , new BuiltinFunctionObject(__setPC  , 1, undefined));
        DefineFFF(this , new Value('getEXC' , bot) , new BuiltinFunctionObject(__getEXC , 0, undefined));
        DefineFFF(this , new Value('setEXC' , bot) , new BuiltinFunctionObject(__setEXC , 1, undefined));
        DefineFFF(this , new Value('getRET' , bot) , new BuiltinFunctionObject(__getRET , 0, undefined));
        DefineFFF(this , new Value('setRET' , bot) , new BuiltinFunctionObject(__setRET , 1, undefined));
        */
    }
    GlobalObject.prototype.toString = function () { return '[global object]'; };
    return GlobalObject;
}(EcmaObject_1.EcmaObject));
exports.GlobalObject = GlobalObject;
// ------------------------------------------------------------
// B.2.1
function __escape(thisArg, args) {
    var arg = args[0] !== undefined ? args[0] : new Value_1.Value(undefined, Label_1.bot);
    var str = ToString_1.ToString(arg);
    return new Value_1.Value(escape(str.value), str.label);
}
// ------------------------------------------------------------
// unescape, B.2.2
function __unescape(thisArg, args) {
    var arg = args[0] ? args[0] : new Value_1.Value(undefined, Label_1.bot);
    var str = ToString_1.ToString(arg);
    return new Value_1.Value(unescape(str.value), str.label);
}
// ------------------------------------------------------------
// 15.1.2.1
function __eval(thisArg, args) {
    var arg0 = args[0];
    if (arg0 === undefined)
        return new Value_1.Value(undefined, Label_1.bot);
    if (typeof arg0.value !== 'string')
        return arg0;
    var prog;
    // raise the pc w.r.t. the program string; parsing may result in an exception
    monitor.context.pushPC(arg0.label);
    try {
        var transformed = monitor.transform(arg0.value);
        prog = esprima.parse(transformed, { loc: true });
    }
    catch (e) {
        var msg = e.description + ' in eval:' + e.lineNumber + ':' + e.column;
        monitor.Throw("SyntaxError", msg, arg0.label);
        throw 'TypeScript';
    }
    var evalCtx = Execute_1.enterEvalCode(prog, __eval);
    monitor.contextStack.push(evalCtx);
    // this is not a value, it is a result!!
    var result = Execute_1.execute(prog, false);
    // if value is 'empty' (represented by null)
    if (!result.value) {
        result.value = new Value_1.Value(undefined, Label_1.bot);
    }
    result.value.raise(arg0.label);
    // NOTE: parser should guarantee the result type is never return
    monitor.contextStack.pop();
    if (result.type === 'throw') {
        throw result.value;
    }
    monitor.context.popPC();
    return result.value;
}
// ------------------------------------------------------------
// 15.1.2.2
function __parseInt(thisArg, args) {
    var stringArg = args[0] || new Value_1.Value(undefined, Label_1.bot);
    var arg1 = args[1] || new Value_1.Value(undefined, Label_1.bot);
    var string = ToString_1.ToString(stringArg);
    var radix = ToInt32_1.ToInt32(arg1);
    var value = parseInt(string.value, radix.value);
    return new Value_1.Value(value, Label_1.lub(string.label, radix.label));
}
// ------------------------------------------------------------
// 15.1.2.3
function __parseFloat(thisArg, args) {
    var stringArg = args[0] || new Value_1.Value(undefined, Label_1.bot);
    var string = ToString_1.ToString(stringArg);
    var value = parseFloat(string.value);
    return new Value_1.Value(value, string.label);
}
// ------------------------------------------------------------
// 15.1.2.4
function __isNaN(thisArg, args) {
    var numberArg = args[0] || new Value_1.Value(undefined, Label_1.bot);
    var number = ToNumber_1.ToNumber(numberArg);
    var value = isNaN(number.value);
    return new Value_1.Value(value, number.label);
}
// ------------------------------------------------------------
// 15.1.2.5
function __isFinite(thisArg, args) {
    var numberArg = args[0] || new Value_1.Value(undefined, Label_1.bot);
    var number = ToNumber_1.ToNumber(numberArg);
    var value = isFinite(number.value);
    return new Value_1.Value(value, number.label);
}
// ------------------------------------------------------------
// 15.1.3.1
function __decodeURI(thisArg, args) {
    var arg0 = args[0] ? args[0] : new Value_1.Value(undefined, Label_1.bot);
    var enc = ToString_1.ToString(arg0);
    var res = new Value_1.Value(decodeURI(enc.value), enc.label);
    return res;
}
// ------------------------------------------------------------
// 15.1.3.2
function __decodeURIComponent(thisArg, args) {
    var arg0 = args[0] ? args[0] : new Value_1.Value(undefined, Label_1.bot);
    var enc = ToString_1.ToString(arg0);
    var res = new Value_1.Value(decodeURIComponent(enc.value), enc.label);
    return res;
}
// ------------------------------------------------------------
// 15.1.2.3
var __encodeURI = function __encodeURI(thisArg, args) {
    var arg0 = args[0] ? args[0] : new Value_1.Value(undefined, Label_1.bot);
    var enc = ToString_1.ToString(arg0);
    var res = new Value_1.Value(encodeURI(enc.value), enc.label);
    return res;
};
// ------------------------------------------------------------
// 15.1.3.4
function __encodeURIComponent(thisArg, args) {
    var arg0 = args[0] !== undefined ? args[0] : new Value_1.Value(undefined, Label_1.bot);
    var componentString = ToString_1.ToString(arg0);
    return new Value_1.Value(encodeURIComponent(componentString.value), componentString.label);
}
// ------------------------------------------------------------
function __print(thisArg, args) {
    var str = '';
    for (var i = 0; i < args.length; i++)
        str += args[i].value;
    monitor.print(str);
    return new Value_1.Value(undefined, Label_1.bot);
}
function __lprint(thisArg, args) {
    if (monitor.options.get('monitor.testMode')) {
        __print(thisArg, args);
        return new Value_1.Value(undefined, Label_1.bot);
    }
    var str = '';
    for (var i = 0; i < args.length; i++)
        str += ToString_1.ToString(args[i]);
    if (monitor.options.get('monitor.taintMode')) {
        monitor.print(str);
    }
    else {
        monitor.print('(' + monitor.context.effectivePC + '):' + str);
    }
    return new Value_1.Value(undefined, Label_1.bot);
}
// ------------------------------------------------------------
function __upgl(thisArg, args) {
    var arg0 = args[0] ? args[0] : new Value_1.Value('default', Label_1.bot);
    var labelName = ToString_1.ToString(arg0);
    monitor.assert(Label_1.le(labelName.label, Label_1.bot), 'upgl expected label of label string to be bot');
    var lbl = Label_1.bot;
    for (var i = 1; i < args.length; i++) {
        var arg = ToString_1.ToString(args[i]);
        monitor.assert(Label_1.le(arg.label, Label_1.bot), 'upgl expected label of label string to be bot');
        lbl = Label_1.lub(lbl, Label_1.Label.fromString(arg.value));
    }
    lbl = lbl.equals(Label_1.bot) ? Label_1.top : lbl;
    var lblmap = monitor.context.labels.labelmap;
    var name = labelName.value;
    if (!lblmap[name]) {
        lblmap[name] = {
            label: lbl,
            pcmarker: undefined
        };
    }
    lblmap[name].label = Label_1.lub(lblmap[name].label, lbl);
    var marker = lblmap[name].pcmarker;
    if (marker !== undefined) {
        monitor.context.pcStack.map(function (l) {
            return Label_1.lub(l, lbl);
        }, marker);
    }
    return new Value_1.Value(undefined, Label_1.bot);
}
// ------------------------------------------------------------
function __upg(thisArg, args) {
    var arg0 = args[0] ? args[0] : new Value_1.Value(undefined, Label_1.bot);
    var lbl = Label_1.bot;
    for (var i = 1; i < args.length; i++) {
        var arg = ToString_1.ToString(args[i]);
        monitor.assert(Label_1.le(arg.label, Label_1.bot), 'upg expected label of label string to be bot');
        lbl = Label_1.lub(lbl, Label_1.Label.fromString(arg.value));
    }
    lbl = lbl.equals(Label_1.bot) ? Label_1.top : lbl;
    return new Value_1.Value(arg0.value, Label_1.lub(arg0.label, lbl));
}
// ---
function __upgparts(thisArg, args) {
    var arg0 = args[0] ? args[0] : new Value_1.Value(undefined, Label_1.bot);
    var lbl = Label_1.bot;
    for (var i = 1; i < args.length; i++) {
        var arg = ToString_1.ToString(args[i]);
        monitor.assert(Label_1.le(arg.label, Label_1.bot), 'upg expected label of label string to be bot');
        lbl = Label_1.lub(lbl, Label_1.Label.fromString(arg.value));
    }
    lbl = lbl.equals(Label_1.bot) ? Label_1.top : lbl;
    if (Interfaces_1.IsIEcmaObject(arg0)) {
        for (var prop in arg0.value.labels) {
            var labelData = arg0.value.labels[prop];
            labelData.value = Label_1.lub(labelData.value, lbl);
            labelData.existence = Label_1.lub(labelData.existence, lbl);
        }
        arg0.value.struct = Label_1.lub(arg0.value.struct, lbl);
        return arg0;
    }
    return new Value_1.Value(arg0.value, Label_1.lub(arg0.label, lbl));
}
// ------------------------------------------------------------
function __dupg(thisArg, args) {
    var arg0 = args[0] ? args[0] : new Value_1.Value(undefined, Label_1.bot);
    var lbl = Label_1.bot;
    for (var i = 1; i < args.length; i++) {
        lbl = Label_1.lub(lbl, args[i].label);
    }
    return new Value_1.Value(arg0.value, Label_1.lub(arg0.label, lbl));
}
// ------------------------------------------------------------
function __upgs(thisArg, args) {
    var obj = args[0] ? args[0] : new Value_1.Value(undefined, Label_1.bot);
    var lbl = Label_1.bot;
    for (var i = 1; i < args.length; i++) {
        var arg = ToString_1.ToString(args[i]);
        monitor.assert(Label_1.le(arg.label, Label_1.bot), 'upgs expected label of label string to be bot');
        lbl = Label_1.lub(lbl, Label_1.Label.fromString(arg.value));
    }
    lbl = lbl.equals(Label_1.bot) ? Label_1.top : lbl;
    if (Interfaces_1.IsIEcmaObject(obj)) {
        obj.value.struct = Label_1.lub(obj.value.struct, lbl);
    }
    return obj;
}
// ------------------------------------------------------------
function __dupgs(thisArg, args) {
    var arg0 = args[0] ? args[0] : new Value_1.Value(undefined, Label_1.bot);
    var lbl = Label_1.bot;
    for (var i = 1; i < args.length; i++) {
        lbl = Label_1.lub(lbl, args[i].label);
    }
    if (Interfaces_1.IsIEcmaObject(arg0)) {
        arg0.value.struct = Label_1.lub(arg0.value.struct, lbl);
    }
    return arg0;
}
// ------------------------------------------------------------
function __upge(thisArg, args) {
    var obj = args[0] ? args[0] : new Value_1.Value(undefined, Label_1.bot);
    var arg1 = args[1] ? args[1] : new Value_1.Value(undefined, Label_1.bot);
    if (obj.value === undefined || obj.value === null) {
        return new Value_1.Value(undefined, Label_1.bot);
    }
    var ix = ToString_1.ToString(arg1);
    var lbl = Label_1.bot;
    for (var i = 2; i < args.length; i++) {
        var arg = ToString_1.ToString(args[i]);
        monitor.assert(Label_1.le(arg.label, Label_1.bot), 'upge expected label of label string to be bot');
        lbl = Label_1.lub(lbl, Label_1.Label.fromString(arg.value));
    }
    lbl = lbl.equals(Label_1.bot) ? Label_1.top : lbl;
    if (Interfaces_1.IsIEcmaObject(obj)) {
        var prop = obj.value.labels[ix.value];
        if (prop) {
            prop.existence = Label_1.lub(prop.existence, lbl);
        }
    }
    return new Value_1.Value(undefined, Label_1.bot);
}
// ------------------------------------------------------------
function __dupge(thisArg, args) {
    var obj = args[0] ? args[0] : new Value_1.Value(undefined, Label_1.bot);
    var arg1 = args[1] ? args[1] : new Value_1.Value(undefined, Label_1.bot);
    if (obj.value === undefined || obj.value === null) {
        return new Value_1.Value(undefined, Label_1.bot);
    }
    var ix = ToString_1.ToString(arg1);
    var lbl = Label_1.bot;
    for (var i = 1; i < args.length; i++) {
        lbl = Label_1.lub(lbl, args[i].label);
    }
    if (Interfaces_1.IsIEcmaObject(obj)) {
        var prop = obj.value.labels[ix.value];
        if (prop) {
            prop.existence = Label_1.lub(prop.existence, lbl);
        }
    }
    return new Value_1.Value(undefined, Label_1.bot);
}
function __declassify(thisArg, args) {
    var val = new Value_1.Value(args[0] ? args[0].value : undefined, Label_1.bot);
    return val;
}

},{"../Constants":64,"../Conversion/ToInt32":82,"../Conversion/ToNumber":84,"../Conversion/ToString":87,"../Define":91,"../Engine/Execute":95,"../Interfaces":122,"../Label":123,"../Objects/EcmaObject":137,"../Value":184,"./BuiltinFunctionObject":134,"esprima":18}],142:[function(require,module,exports){
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var Value_1 = require("../Value");
var constants = require("../Constants");
var BuiltinFunctionObject_1 = require("./BuiltinFunctionObject");
var ObjectObject_1 = require("../Objects/ObjectObject");
var ArrayObject_1 = require("../Objects/ArrayObject");
var ToNumber_1 = require("../Conversion/ToNumber");
var ToInteger_1 = require("../Conversion/ToInteger");
var ToString_1 = require("../Conversion/ToString");
var IsCallable_1 = require("../Utility/IsCallable");
var Define_1 = require("../Define");
var EcmaObject_1 = require("../Objects/EcmaObject");
var Label_1 = require("../Label");
// ------------------------------------------------------------
// The JSON object, 15.12
var JSONObject = /** @class */ (function (_super) {
    __extends(JSONObject, _super);
    function JSONObject(host) {
        var _this = _super.call(this) || this;
        _this.Class = 'JSON';
        _this.Extensible = true;
        _this.host = host;
        return _this;
    }
    JSONObject.prototype.Setup = function () {
        this.Prototype = new Value_1.Value(monitor.instances.ObjectPrototype, Label_1.bot);
        Define_1.DefineFFF(this, constants.prototype, monitor.instances.ObjectPrototype);
        Define_1.DefineTFT(this, constants.parse, new BuiltinFunctionObject_1.BuiltinFunctionObject(parse, 2, this.host.parse));
        Define_1.DefineTFT(this, constants.stringify, new BuiltinFunctionObject_1.BuiltinFunctionObject(stringify, 3, this.host.stringify));
    };
    // By the standard, there should be no Call or Construct for JSON object,
    // so throw a TypeError (as SpiderMonkey seem to do)
    JSONObject.prototype.Call = function (thisArg, args) {
        monitor.Throw("TypeError", 'JSON is not a function', Label_1.bot);
        throw 'TypeScript';
    };
    JSONObject.prototype.Construct = function (args) {
        monitor.Throw("TypeError", 'JSON is not a constructor', Label_1.bot);
        throw 'TypeScript';
    };
    return JSONObject;
}(EcmaObject_1.EcmaObject));
exports.JSONObject = JSONObject;
// ------------------------------------------------------------
// parse, 15.12.2
function parse(thisArg, args) {
    if (args[0] === undefined) {
        monitor.Throw("SyntaxError", 'JSON.parse: No string to parse', Label_1.bot);
    }
    var JText = ToString_1.ToString(args[0]) || new Value_1.Value(undefined, Label_1.bot);
    var reviver = args[1] || new Value_1.Value(undefined, Label_1.bot);
    var unfiltered = parseAndEvaluate(JText);
    // Do we have any junk characters left? If so, a bad string!
    //@ts-ignore JSON
    if (unfiltered.finalIndex <= JText.value.length) {
        monitor.Throw("SyntaxError", 'JSON.parse: String contains bad symbols in the end', Label_1.bot);
    }
    var isReviverCallable = IsCallable_1.IsCallable(reviver);
    monitor.context.pushPC(reviver.label);
    if (isReviverCallable) {
        var root = new ObjectObject_1.ObjectObject();
        root.DefineOwnProperty(new Value_1.Value("", Label_1.bot), {
            value: unfiltered.value,
            writable: true,
            enumerable: true,
            configurable: true,
            label: unfiltered.label
        }, false);
        monitor.context.popPC();
        return Walk(new Value_1.Value(root, Label_1.bot), new Value_1.Value("", Label_1.lub(unfiltered.label, Label_1.lub(JText.label, reviver.label))), reviver);
    }
    else {
        monitor.context.popPC();
        return unfiltered;
    }
}
// Walk, part of 15.12.2
function Walk(holder, name, reviver) {
    var val = holder.Get(name);
    monitor.context.pushPC(val.label);
    if (val.value && typeof val.value === 'object') {
        val = val.value;
        monitor.context.pushPC(val.label);
        if (val.value.Class === 'Array') {
            var I = new Value_1.Value(0, Label_1.bot);
            var len = val.value.Get(constants.length);
            while (I.value < len.value) {
                var newElement = Walk(val, ToString_1.ToString(I), reviver);
                if (newElement === undefined) {
                    val.Delete(ToString_1.ToString(I), false);
                }
                else {
                    val.DefineOwnProperty(ToString_1.ToString(I), {
                        value: newElement.value,
                        writable: true,
                        enumerable: true,
                        configurable: true,
                        label: val.label
                    }, false);
                }
                I.value++;
            }
        }
        else {
            var keys = [];
            var allKeys = Object.keys(val.value.properties);
            for (var i = 0; i < allKeys.length; i++) {
                var keyVal = val.GetProperty(new Value_1.Value(allKeys[i], Label_1.bot));
                if (keyVal.value && keyVal.value.enumerable) {
                    keys.push(new Value_1.Value(allKeys[i], Label_1.bot)); //keyVal.label?
                }
            }
            for (var i = 0; i < keys.length; i++) {
                var P = ToString_1.ToString(keys[i]);
                var newElement = Walk(val, P, reviver);
                if (newElement === undefined) {
                    val.Delete(P, false);
                }
                else {
                    val.DefineOwnProperty(P, {
                        value: newElement.value,
                        writable: true,
                        enumerable: true,
                        configurable: true,
                        label: val.label
                    }, false);
                }
            }
        }
        monitor.context.popPC();
    }
    monitor.context.popPC();
    return reviver.Call(holder, [name, val]);
}
// Inspiration from Douglas Crockford, https://github.com/douglascrockford/JSON-js/blob/master/json_parse.js
// This is used for the 2nd and 3rd step in parse, 15.12.2
function parseAndEvaluate(text) {
    var currentChar = ' ';
    var currentIndex = 0;
    // From 15.12.1.1, JSONEscapeCharacter :: one of " / \ b f n r t
    var escapeCharacters = {
        '"': '"',
        '/': '/',
        '\\': '\\',
        b: '\b',
        f: '\f',
        n: '\n',
        r: '\r',
        t: '\t'
    };
    // These are not allowed to have in a string!
    var invalidStringCharacters = {};
    for (var i = 0x00; i <= 0x1F; i++) {
        var s = String.fromCharCode(i);
        invalidStringCharacters[s] = s;
    }
    var mkError = function (message) {
        monitor.Throw("SyntaxError", 'JSON.parse: ' + message, Label_1.bot);
    };
    var nextChar = function (char) {
        if (char && char !== currentChar) {
            mkError('expected ' + char + ' to match ' + currentChar);
        }
        currentChar = text.charAt(currentIndex);
        currentIndex++;
        return currentChar;
    };
    //JSONWhiteSpace :: <TAB> <CR> <LF> <SP>
    var eatWhiteSpace = function () {
        while (currentChar && currentChar <= ' ') {
            //@ts-ignore JSON
            nextChar();
        }
    };
    /* JSONValue :
         JSONNullLiteral
         JSONBooleanLiteral
         JSONObject
         JSONArray
         JSONString
         JSONNumber
    */
    var jsonValue = function () {
        eatWhiteSpace();
        switch (currentChar) {
            case '{':
                // It must be an object
                return jsonObject();
            case '[':
                // It must be an array
                return jsonArray();
            case '"':
                // It must be a string
                return jsonString();
            case '-':
                // It must be a number
                return jsonNumber();
            case 'n':
                // It must be a null literal
                return jsonNull();
            case 't':
            case 'f':
                // It must be a boolean literal
                return jsonBool();
            default:
                if (currentChar >= '0' && currentChar <= '9') {
                    // It must be a number
                    return jsonNumber();
                }
                // Otherwise, something has gone wrong!
                mkError('Cannot parse the structure!');
        }
    };
    var jsonObject = function () {
        var result = new ObjectObject_1.ObjectObject();
        if (currentChar === '{') {
            nextChar('{');
            eatWhiteSpace();
            //@ts-ignore TYPESCRIPT
            if (currentChar === '}') {
                // Enter here and we have an "empty" object
                nextChar('}');
                return result;
            }
            while (currentChar) {
                var key = jsonString();
                eatWhiteSpace();
                nextChar(':');
                if (result.hasOwnProperty(key)) {
                    mkError('Bad object, duplicate key ' + key);
                }
                result.DefineOwnProperty(new Value_1.Value(key, Label_1.bot), {
                    value: jsonValue(),
                    writable: true,
                    enumerable: true,
                    configurable: true,
                    label: Label_1.bot
                }, false);
                eatWhiteSpace();
                //@ts-ignore TYPESCRIPT
                if (currentChar === '}') {
                    nextChar('}');
                    return result;
                }
                nextChar(',');
                eatWhiteSpace();
            }
        }
        mkError('Malformed object');
    };
    var jsonArray = function () {
        var result = [];
        if (currentChar === '[') {
            nextChar('[');
            eatWhiteSpace();
            //@ts-ignore TYPESCRIPT
            if (currentChar === ']') {
                // Enter here and we have an empty array..
                nextChar(']');
                //@ts-ignore JSON
                return ArrayObject_1.ArrayObject.fromValueArray(result);
            }
            while (currentChar) {
                result.push(jsonValue());
                eatWhiteSpace();
                //@ts-ignore TYPESCRIPT
                if (currentChar === ']') {
                    // Enter here and we are done..
                    nextChar(']');
                    for (var i = 0; i < result.length; i++) {
                        result[i] = new Value_1.Value(result[i], Label_1.bot);
                    }
                    //@ts-ignore JSON
                    return ArrayObject_1.ArrayObject.fromValueArray(result);
                }
                nextChar(','); // If we are not done, we expect a ','
                eatWhiteSpace();
            }
        }
        mkError('Could not parse the array');
    };
    /*
      JSONString :: " JSONStringCharacters_opt "
      JSONStringCharacters :: JSONStringCharacter JSONStringCharacters_opt
      JSONStringCharacter :: SourceCharacter but not one of " or \ or U+0000 through U+001F \ JSONEscapeSequence
      JSONEscapeSequence :: JSONEscapeCharacter UnicodeEscapeSequence
     */
    var jsonString = function () {
        var result = "";
        if (currentChar === '"') {
            //@ts-ignore JSON
            while (nextChar()) {
                if (currentChar === '"') {
                    //@ts-ignore JSON
                    nextChar();
                    return result;
                }
                // Check if the current character is an invalid string
                if (invalidStringCharacters[currentChar]) {
                    mkError("Invalid character in string");
                }
                if (currentChar === '\\') {
                    //@ts-ignore JSON
                    nextChar();
                    if (currentChar === 'u') {
                        var hexValue = 0;
                        for (var i = 0; i < 4; i++) {
                            //@ts-ignore JSON
                            var hex = parseInt(nextChar(), 16);
                            if (!isFinite(hex)) {
                                break;
                            }
                            hexValue = hexValue * 16 + hex;
                        }
                        result += String.fromCharCode(hexValue);
                    }
                    else if (typeof escapeCharacters[currentChar] === 'string') {
                        result += escapeCharacters[currentChar];
                    }
                    else {
                        break;
                    }
                }
                else {
                    result += currentChar;
                }
            }
        }
        mkError('Bad input string');
    };
    // JSONNumber :: -_opt DecimalIntegerLiteral JSONFraction_opt ExponentPart_opt
    var jsonNumber = function () {
        var result = "", checkOctal = false, checkFloat = false;
        if (currentChar === '-') {
            result += currentChar;
            nextChar('-');
        }
        if (currentChar === '0') {
            checkOctal = true;
        }
        // Get all the numbers
        while (currentChar >= '0' && currentChar <= '9') {
            result += currentChar;
            //@ts-ignore JSON
            nextChar();
        }
        if (checkOctal && result.length > 1) {
            mkError("JSON.parse: Numbers cannot start with a 0");
        }
        // Check if it is a float
        if (currentChar === '.') {
            result += currentChar;
            checkFloat = true;
            // Get all the remaining numbers in the float
            //@ts-ignore JSON
            while (nextChar() && currentChar >= '0' && currentChar <= '9') {
                result += currentChar;
                checkFloat = false;
            }
        }
        if (checkFloat) {
            mkError("JSON.parse: Number with nothing after the decimal");
        }
        if (currentChar === 'e' || currentChar === 'E') {
            result += currentChar;
            //@ts-ignore JSON
            nextChar();
            //@ts-ignore TYPESCRIPT
            if (currentChar === '-' || currentChar === '+') {
                result += currentChar;
                //@ts-ignore JSON
                nextChar();
            }
            while (currentChar >= '0' && currentChar <= '9') {
                result += currentChar;
                //@ts-ignore JSON
                nextChar();
            }
        }
        var num = +result; // Nasty conversion. :)
        if (!isFinite(num)) {
            mkError('Bad number, not finite');
        }
        return num;
    };
    // JSONNullLiteral :: NullLiteral
    var jsonNull = function () {
        nextChar('n');
        nextChar('u');
        nextChar('l');
        nextChar('l');
        return null;
    };
    // JSONBooleanLiteral :: BooleanLiteral
    var jsonBool = function () {
        switch (currentChar) {
            case 't':
                nextChar('t');
                nextChar('r');
                nextChar('u');
                nextChar('e');
                return true;
            case 'f':
                nextChar('f');
                nextChar('a');
                nextChar('l');
                nextChar('s');
                nextChar('e');
                return false;
            default:
                mkError('Could not deduce a boolean');
        }
    };
    if (text.value) {
        var textLabel = text.label;
        text = text.value;
        var res = new Value_1.Value(jsonValue(), textLabel);
        eatWhiteSpace(); // Eat all trailing white spaces
        //@ts-ignore JSON
        res.finalIndex = currentIndex; // This is needed to know if we have some garbage at the end of the string
        return res;
    }
    else {
        mkError('Bad format on input');
    }
}
// ------------------------------------------------------------
// stringify, 15.12.3
function stringify(thisArg, args) {
    // These are used for cycle detection
    var JA_counter = 0;
    var JO_counter = 0;
    //-------------------------------------------
    var stack = [];
    var indent = "";
    var PropertyList, ReplacerFunction;
    var gap = "";
    var value = args[0] || new Value_1.Value(undefined, Label_1.bot);
    var replacer = args[1] || new Value_1.Value(undefined, Label_1.bot);
    var space = args[2] || new Value_1.Value(undefined, Label_1.bot);
    var retLabel = Label_1.lub(value.label, Label_1.lub(replacer.label, space.label));
    monitor.context.pushPC(replacer.label);
    if (typeof replacer.value === 'object' || typeof replacer.value === 'function') {
        if (IsCallable_1.IsCallable(replacer)) {
            ReplacerFunction = replacer;
        }
        else if (replacer.value && replacer.value.Class === 'Array') {
            PropertyList = [];
            var initialReplacerLength = replacer.value.properties.length;
            for (var i = 0; i < initialReplacerLength; i++) {
                var item = undefined;
                var v = replacer.Get(new Value_1.Value(i, Label_1.bot));
                if (v.value !== undefined) {
                    if (typeof v.value === 'string') {
                        item = v;
                    }
                    else if (typeof v.value === 'number') {
                        item = ToString_1.ToString(v);
                    }
                    else if (typeof v.value === 'object') {
                        if (v.value && (v.value.Class === 'String' || v.value.Class === 'Number')) {
                            item = ToString_1.ToString(v);
                        }
                    }
                    if (item !== undefined) {
                        var itemNotInArray = true;
                        for (var j = 0; j < PropertyList.length; j++) {
                            if (item.value === PropertyList[j].value) {
                                itemNotInArray = false;
                                break;
                            }
                        }
                        if (itemNotInArray) {
                            PropertyList.push(item);
                        }
                    }
                }
            }
        }
    }
    monitor.context.popPC();
    monitor.context.pushPC(space.label);
    if (typeof space.value === 'object') {
        if (space.value.Class === 'Number') {
            space = ToNumber_1.ToNumber(space);
        }
        else if (space.value.Class === 'String') {
            space = ToString_1.ToString(space);
        }
    }
    if (typeof space.value === 'number') {
        var intSpace = ToInteger_1.ToInteger(space);
        if (intSpace.value > 10) {
            space = new Value_1.Value(10, space.label);
        }
        else {
            space = intSpace;
        }
        for (var i = 0; i < space.value; i++) {
            gap = gap + " ";
        }
    }
    else if (typeof space.value === 'string') {
        if (space.value.length <= 10) {
            gap = space.value;
        }
        else {
            gap = space.value.substring(0, 10);
        }
    }
    // Leave the last else, gap will be empty string if none of the above has been hit
    monitor.context.popPC(); // Pop space.label from the PC stack
    var wrapper = new ObjectObject_1.ObjectObject();
    wrapper.DefineOwnProperty(new Value_1.Value("", Label_1.bot), {
        value: value.value,
        writable: true,
        enumerable: true,
        configurable: true,
        label: value.label
    }, false);
    var Str = function (key, holder) {
        var value = holder.Get(key);
        retLabel = Label_1.lub(retLabel, value.label);
        monitor.context.pushPC(value.label);
        if (value.value && typeof value.value === 'object') {
            var toJSON = value.Get(new Value_1.Value("toJSON", Label_1.bot));
            if (IsCallable_1.IsCallable(toJSON)) {
                value = toJSON.Call(value, [key]);
            }
        }
        monitor.context.popPC(); // As it is being pushed again later, is this needed?
        if (ReplacerFunction) {
            monitor.context.pushPC(ReplacerFunction.label);
            if (ReplacerFunction.value) {
                value = ReplacerFunction.Call(holder, [key, value]);
            }
            monitor.context.popPC();
        }
        monitor.context.pushPC(value.label);
        if (value.value && typeof value.value === 'object') {
            if (value.value.Class === 'Number') {
                value = ToNumber_1.ToNumber(value);
            }
            else if (value.value.Class === 'String') {
                value = ToString_1.ToString(value);
            }
            else if (value.value.Class === 'Boolean') {
                value = new Value_1.Value(value.value.PrimitiveValue.valueOf(), retLabel);
            }
        }
        if (value.value === null) {
            monitor.context.popPC();
            return new Value_1.Value("null", retLabel);
        }
        if (value.value === true) {
            monitor.context.popPC();
            return new Value_1.Value("true", retLabel);
        }
        if (value.value === false) {
            monitor.context.popPC();
            return new Value_1.Value("false", retLabel);
        }
        if (typeof value.value === 'string') {
            var res = Quote(value);
            monitor.context.popPC();
            return res;
        }
        if (typeof value.value === 'number') {
            if (isFinite(value.value)) {
                var res = ToString_1.ToString(value);
                monitor.context.popPC();
                return res;
            }
            monitor.context.popPC();
            return new Value_1.Value("null", retLabel);
        }
        if (typeof value.value === 'object' && !IsCallable_1.IsCallable(value)) {
            if (value.value.Class === 'Array') {
                //@ts-ignore JSON
                var res = JA(value);
                monitor.context.popPC();
                return res;
            }
            //@ts-ignore JSON
            var res = JO(value);
            monitor.context.popPC();
            return res;
        }
        monitor.context.popPC();
        return new Value_1.Value(undefined, retLabel);
    };
    var Quote = function (value) {
        var product = "\"";
        for (var i = 0; i < value.value.length; i++) {
            var C = value.value[i];
            var cCodePointValue = C.codePointAt(0);
            var spaceCodePointValue = (" ").codePointAt(0);
            if (C === "\"" || C === "\\") {
                product += "\\";
                product += C;
            }
            else if (C === "\b" || C === "\f" || C === "\n" || C === "\r" || C === "\t") {
                product += "\\";
                var abbrev;
                if (C === "\b")
                    abbrev = "b";
                else if (C === "\f")
                    abbrev = "f";
                else if (C === "\n")
                    abbrev = "n";
                else if (C === "\r")
                    abbrev = "r";
                else
                    abbrev = "t";
                product += abbrev;
            }
            else if (cCodePointValue < spaceCodePointValue) {
                product += "\\";
                product += "u";
                var hex = cCodePointValue.toString(16);
                for (var j = hex.length; j < 4; j++) {
                    hex = "0" + hex;
                }
                product += hex;
            }
            else {
                product += C;
            }
        }
        product += "\"";
        return new Value_1.Value(product, Label_1.lub(monitor.context.effectivePC, value.label));
    };
    var JO = function (value) {
        var JO_key = new Value_1.Value("JO_property", Label_1.bot);
        if (!value.Get(JO_key).value) {
            JO_counter++;
            value.DefineOwnProperty(JO_key, {
                value: JO_counter,
                writable: false,
                enumerable: false,
                configurable: false,
                label: Label_1.bot
            }, false);
        }
        else {
            checkCycle(JO_key, value);
        }
        stack.push(value);
        var stepback = indent;
        indent = indent + gap;
        if (PropertyList !== undefined) {
            var K = PropertyList;
        }
        else {
            //@ts-ignore JSON
            var K = [];
            var allKeys = Object.keys(value.value.properties);
            for (var i = 0; i < allKeys.length; i++) {
                var keyVal = value.GetProperty(new Value_1.Value(allKeys[i], Label_1.bot));
                if (keyVal.value && keyVal.value.enumerable) {
                    K.push(new Value_1.Value(allKeys[i], retLabel));
                }
            }
        }
        var partial = [];
        for (var i = 0; i < K.length; i++) {
            var P = K[i];
            var strP = Str(P, value);
            if (strP && strP.value !== undefined) {
                var member = Quote(P);
                member.value += ":";
                if (gap !== "") {
                    member.value += ' ';
                }
                member.value += strP.value;
                partial.push(member);
            }
        }
        var final;
        if (partial.length === 0) {
            final = "{}";
        }
        else {
            var properties = "";
            if (gap === "") {
                for (var i = 0; i < partial.length - 1; i++) {
                    properties += partial[i].value + ',';
                    retLabel = Label_1.lub(retLabel, partial[i].label);
                }
                properties += partial[partial.length - 1].value;
                retLabel = Label_1.lub(retLabel, partial[partial.length - 1].label);
                final = '{' + properties + '}';
            }
            else {
                var separator = ",\n" + indent;
                for (var i = 0; i < partial.length - 1; i++) {
                    properties += partial[i].value + separator;
                    retLabel = Label_1.lub(retLabel, partial[i].label);
                }
                properties += partial[partial.length - 1].value;
                retLabel = Label_1.lub(retLabel, partial[partial.length - 1].label);
                final = '{\n' + indent + properties + '\n' + stepback + '}';
            }
        }
        // Pop and remove JO_property
        var v = stack.pop();
        v.Delete(JO_key);
        indent = stepback;
        return new Value_1.Value(final, retLabel);
    };
    var JA = function (value) {
        var JA_key = new Value_1.Value("JA_property", Label_1.bot);
        if (!value.Get(JA_key).value) {
            JA_counter++;
            value.DefineOwnProperty(JA_key, {
                value: JA_counter,
                writable: false,
                enumerable: false,
                configurable: false,
                label: Label_1.bot
            }, false);
        }
        else {
            checkCycle(JA_key, value);
        }
        stack.push(value);
        var stepback = indent;
        indent = indent + gap;
        var partial = [];
        var len = value.Get(new Value_1.Value('length', Label_1.bot));
        var index = new Value_1.Value(0, Label_1.bot);
        while (index.value < len.value) {
            var strP = Str(ToString_1.ToString(index), value);
            if (!strP || strP.value === undefined) {
                partial.push(new Value_1.Value("null", retLabel));
            }
            else {
                partial.push(strP);
                retLabel = Label_1.lub(retLabel, strP.label);
            }
            index.value++;
        }
        var final;
        if (partial.length === 0) {
            final = "[]";
        }
        else {
            var properties = "";
            if (gap === "") {
                for (var i = 0; i < partial.length - 1; i++) {
                    properties += partial[i].value + ',';
                    retLabel = Label_1.lub(retLabel, partial[i].label);
                }
                properties += partial[partial.length - 1].value;
                retLabel = Label_1.lub(retLabel, partial[partial.length - 1].label);
                final = '[' + properties + ']';
            }
            else {
                var separator = ",\n" + indent;
                for (var i = 0; i < partial.length - 1; i++) {
                    properties += partial[i].value + separator;
                    retLabel = Label_1.lub(retLabel, partial[i].label);
                }
                properties += partial[partial.length - 1].value;
                retLabel = Label_1.lub(retLabel, partial[partial.length - 1].label);
                final = '[\n' + indent + properties + '\n' + stepback + ']';
            }
        }
        // Pop and remove property of JA_key
        var v = stack.pop();
        v.Delete(JA_key);
        indent = stepback;
        return new Value_1.Value(final, retLabel);
    };
    var checkCycle = function (key, value) {
        for (var i = 0; i < stack.length; i++) {
            if (value.Get(key).value === stack[i].Get(key).value) {
                monitor.Throw("TypeError", 'JSON.stringify: Cyclic structure', Label_1.bot);
            }
        }
    };
    return Str(new Value_1.Value("", Label_1.bot), new Value_1.Value(wrapper, Label_1.bot));
}

},{"../Constants":64,"../Conversion/ToInteger":83,"../Conversion/ToNumber":84,"../Conversion/ToString":87,"../Define":91,"../Label":123,"../Objects/ArrayObject":132,"../Objects/EcmaObject":137,"../Objects/ObjectObject":146,"../Utility/IsCallable":182,"../Value":184,"./BuiltinFunctionObject":134}],143:[function(require,module,exports){
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var Value_1 = require("../Value");
var constants = require("../Constants");
var BuiltinFunctionObject_1 = require("./BuiltinFunctionObject");
var ToNumber_1 = require("../Conversion/ToNumber");
var Define_1 = require("../Define");
var EcmaObject_1 = require("../Objects/EcmaObject");
var Label_1 = require("../Label");
// ------------------------------------------------------------
// The Math Object, 15.8.2
var MathObject = /** @class */ (function (_super) {
    __extends(MathObject, _super);
    function MathObject(host) {
        var _this = _super.call(this) || this;
        _this.Class = 'Math';
        // not mandated by standard
        _this.Extensible = true;
        _this.host = host;
        return _this;
    }
    MathObject.prototype.Setup = function () {
        this.Prototype = new Value_1.Value(monitor.instances.ObjectPrototype, Label_1.bot);
        Define_1.DefineFFF(this, constants.length, 1);
        Define_1.DefineFFF(this, constants.prototype, monitor.instances.ObjectPrototype);
        Define_1.DefineFFF(this, constants.E, this.host.E);
        Define_1.DefineFFF(this, constants.LN10, this.host.LN10);
        Define_1.DefineFFF(this, constants.LN2, this.host.LN2);
        Define_1.DefineFFF(this, constants.LOG2E, this.host.LOG2E);
        Define_1.DefineFFF(this, constants.LOG10E, this.host.LOG10E);
        Define_1.DefineFFF(this, constants.PI, this.host.PI);
        Define_1.DefineFFF(this, constants.SQRT1_2, this.host.SQRT1_2);
        Define_1.DefineFFF(this, constants.SQRT2, this.host.SQRT2);
        //@ts-ignore TYPES
        Define_1.DefineTFT(this, constants.abs, new BuiltinFunctionObject_1.BuiltinFunctionObject(abs, 1, this.host.abs));
        //@ts-ignore TYPES
        Define_1.DefineTFT(this, constants.acos, new BuiltinFunctionObject_1.BuiltinFunctionObject(acos, 1, this.host.acos));
        //@ts-ignore TYPES
        Define_1.DefineTFT(this, constants.asin, new BuiltinFunctionObject_1.BuiltinFunctionObject(asin, 1, this.host.asin));
        //@ts-ignore TYPES
        Define_1.DefineTFT(this, constants.atan, new BuiltinFunctionObject_1.BuiltinFunctionObject(atan, 1, this.host.atan));
        //@ts-ignore TYPES
        Define_1.DefineTFT(this, constants.atan2, new BuiltinFunctionObject_1.BuiltinFunctionObject(atan2, 2, this.host.atan2));
        //@ts-ignore TYPES
        Define_1.DefineTFT(this, constants.ceil, new BuiltinFunctionObject_1.BuiltinFunctionObject(ceil, 1, this.host.ceil));
        //@ts-ignore TYPES
        Define_1.DefineTFT(this, constants.cos, new BuiltinFunctionObject_1.BuiltinFunctionObject(cos, 1, this.host.cos));
        //@ts-ignore TYPES
        Define_1.DefineTFT(this, constants.exp, new BuiltinFunctionObject_1.BuiltinFunctionObject(exp, 1, this.host.exp));
        //@ts-ignore TYPES
        Define_1.DefineTFT(this, constants.floor, new BuiltinFunctionObject_1.BuiltinFunctionObject(floor, 1, this.host.floor));
        //@ts-ignore TYPES
        Define_1.DefineTFT(this, constants.log, new BuiltinFunctionObject_1.BuiltinFunctionObject(log, 1, this.host.log));
        //@ts-ignore TYPES
        Define_1.DefineTFT(this, constants.max, new BuiltinFunctionObject_1.BuiltinFunctionObject(max, 2, this.host.max));
        //@ts-ignore TYPES
        Define_1.DefineTFT(this, constants.min, new BuiltinFunctionObject_1.BuiltinFunctionObject(min, 2, this.host.min));
        //@ts-ignore TYPES
        Define_1.DefineTFT(this, constants.pow, new BuiltinFunctionObject_1.BuiltinFunctionObject(pow, 2, this.host.pow));
        //@ts-ignore TYPES
        Define_1.DefineTFT(this, constants.random, new BuiltinFunctionObject_1.BuiltinFunctionObject(random, 0, this.host.random));
        //@ts-ignore TYPES
        Define_1.DefineTFT(this, constants.round, new BuiltinFunctionObject_1.BuiltinFunctionObject(round, 1, this.host.round));
        //@ts-ignore TYPES
        Define_1.DefineTFT(this, constants.sin, new BuiltinFunctionObject_1.BuiltinFunctionObject(sin, 1, this.host.sin));
        //@ts-ignore TYPES
        Define_1.DefineTFT(this, constants.sqrt, new BuiltinFunctionObject_1.BuiltinFunctionObject(sqrt, 1, this.host.sqrt));
        //@ts-ignore TYPES
        Define_1.DefineTFT(this, constants.tan, new BuiltinFunctionObject_1.BuiltinFunctionObject(tan, 1, this.host.tan));
    };
    return MathObject;
}(EcmaObject_1.EcmaObject));
exports.MathObject = MathObject;
// ------------------------------------------------------------
// abs, 15.8.2.1
function abs(thisArg, args) {
    var x = args[0] ? ToNumber_1.ToNumber(args[0]) : new Value_1.Value(NaN, Label_1.bot);
    return new Value_1.Value(this.host(x.value), x.label);
}
// ------------------------------------------------------------
// acos, 15.8.2.2
function acos(thisArg, args) {
    var x = args[0] ? ToNumber_1.ToNumber(args[0]) : new Value_1.Value(NaN, Label_1.bot);
    return new Value_1.Value(this.host(x.value), x.label);
}
// ------------------------------------------------------------
// asin, 15.8.2.3
function asin(thisArg, args) {
    var x = args[0] ? ToNumber_1.ToNumber(args[0]) : new Value_1.Value(NaN, Label_1.bot);
    return new Value_1.Value(this.host(x.value), x.label);
}
// ------------------------------------------------------------
// atan, 15.8.2.4
function atan(thisArg, args) {
    var x = args[0] ? ToNumber_1.ToNumber(args[0]) : new Value_1.Value(NaN, Label_1.bot);
    return new Value_1.Value(this.host(x.value), x.label);
}
// ------------------------------------------------------------
// atan2, 15.8.2.5
function atan2(thisArg, args) {
    var x = args[0] ? ToNumber_1.ToNumber(args[0]) : new Value_1.Value(NaN, Label_1.bot);
    var y = args[1] ? ToNumber_1.ToNumber(args[1]) : new Value_1.Value(NaN, Label_1.bot);
    return new Value_1.Value(this.host(x.value, y.value), Label_1.lub(x.label, y.label));
}
// ------------------------------------------------------------
// ceil, 15.8.2.6
function ceil(thisArg, args) {
    var x = args[0] ? ToNumber_1.ToNumber(args[0]) : new Value_1.Value(NaN, Label_1.bot);
    return new Value_1.Value(this.host(x.value), x.label);
}
// ------------------------------------------------------------
// cos, 15.8.2.7
function cos(thisArg, args) {
    var x = args[0] ? ToNumber_1.ToNumber(args[0]) : new Value_1.Value(NaN, Label_1.bot);
    return new Value_1.Value(this.host(x.value), x.label);
}
// ------------------------------------------------------------
// exp, 15.8.2.8
function exp(thisArg, args) {
    var x = args[0] ? ToNumber_1.ToNumber(args[0]) : new Value_1.Value(NaN, Label_1.bot);
    return new Value_1.Value(this.host(x.value), x.label);
}
// ------------------------------------------------------------
// floor, 15.8.2.9
function floor(thisArg, args) {
    var x = args[0] ? ToNumber_1.ToNumber(args[0]) : new Value_1.Value(NaN, Label_1.bot);
    return new Value_1.Value(this.host(x.value), x.label);
}
// ------------------------------------------------------------
// log, 15.8.2.10
function log(thisArg, args) {
    var x = args[0] ? ToNumber_1.ToNumber(args[0]) : new Value_1.Value(NaN, Label_1.bot);
    return new Value_1.Value(this.host(x.value), x.label);
}
// ------------------------------------------------------------
// max, 15.8.2.11
function max(thisArg, args) {
    if (args.length === 0)
        return new Value_1.Value(Number.NEGATIVE_INFINITY, Label_1.bot);
    var myArgs = [];
    var l = Label_1.bot;
    for (var i = 0; i < args.length; i++) {
        myArgs[i] = args[i].value;
        l = Label_1.lub(l, args[i].label);
    }
    return new Value_1.Value(this.host.apply(null, myArgs), l);
}
// ------------------------------------------------------------
// min, 15.8.2.12
function min(thisArg, args) {
    if (args.length === 0)
        return new Value_1.Value(Number.POSITIVE_INFINITY, Label_1.bot);
    var myArgs = [];
    var l = Label_1.bot;
    for (var i = 0; i < args.length; i++) {
        myArgs[i] = args[i].value;
        l = Label_1.lub(l, args[i].label);
    }
    return new Value_1.Value(this.host.apply(null, myArgs), l);
}
// ------------------------------------------------------------
// pow, 15.8.2.13
function pow(thisArg, args) {
    var x = args[0] ? ToNumber_1.ToNumber(args[0]) : new Value_1.Value(NaN, Label_1.bot);
    var y = args[1] ? ToNumber_1.ToNumber(args[1]) : new Value_1.Value(NaN, Label_1.bot);
    return new Value_1.Value(this.host(x.value, y.value), Label_1.lub(x.label, y.label));
}
// ------------------------------------------------------------
// random, 15.8.2.14
function random(thisArg, args) {
    return new Value_1.Value(this.host(), Label_1.bot);
}
// ------------------------------------------------------------
// round, 15.8.2.15
function round(thisArg, args) {
    var x = args[0] ? ToNumber_1.ToNumber(args[0]) : new Value_1.Value(NaN, Label_1.bot);
    return new Value_1.Value(this.host(x.value), x.label);
}
// ------------------------------------------------------------
// sin, 15.8.2.16
function sin(thisArg, args) {
    var x = args[0] ? ToNumber_1.ToNumber(args[0]) : new Value_1.Value(NaN, Label_1.bot);
    return new Value_1.Value(this.host(x.value), x.label);
}
// ------------------------------------------------------------
// sqrt, 15.8.2.17
function sqrt(thisArg, args) {
    var x = args[0] ? ToNumber_1.ToNumber(args[0]) : new Value_1.Value(NaN, Label_1.bot);
    return new Value_1.Value(this.host(x.value), x.label);
}
// ------------------------------------------------------------
// tan, 15.8.2.18
function tan(thisArg, args) {
    var x = args[0] ? ToNumber_1.ToNumber(args[0]) : new Value_1.Value(NaN, Label_1.bot);
    return new Value_1.Value(this.host(x.value), x.label);
}

},{"../Constants":64,"../Conversion/ToNumber":84,"../Define":91,"../Label":123,"../Objects/EcmaObject":137,"../Value":184,"./BuiltinFunctionObject":134}],144:[function(require,module,exports){
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var Value_1 = require("../Value");
var EcmaObject_1 = require("../Objects/EcmaObject");
var constants = require("../Constants");
var ToString_1 = require("../Conversion/ToString");
var Label_1 = require("../Label");
// ------------------------------------------------------------
var NativeErrorObject = /** @class */ (function (_super) {
    __extends(NativeErrorObject, _super);
    function NativeErrorObject(proto, v) {
        var _this = _super.call(this) || this;
        _this.Prototype = new Value_1.Value(proto, Label_1.bot);
        _this.Class = 'Error';
        _this.Extensible = true;
        var message = new Value_1.Value("", Label_1.bot);
        if (v.value !== undefined) {
            message = ToString_1.ToString(v);
        }
        _this.DefineOwnProperty(constants.message, {
            value: message.value,
            label: message.label,
            writable: true,
            enumerable: false,
            configurable: true
        });
        // for toString
        _this.message = message.value;
        _this.stack = monitor.stackTrace();
        _this.nativeStack = Error().stack;
        return _this;
    }
    NativeErrorObject.prototype.toString = function () {
        var str = this.Type + ': ' + this.message + '\n' + this.stack.toString() + '\n' + this.nativeStack;
        return str;
    };
    return NativeErrorObject;
}(EcmaObject_1.EcmaObject));
exports.NativeErrorObject = NativeErrorObject;

},{"../Constants":64,"../Conversion/ToString":87,"../Label":123,"../Objects/EcmaObject":137,"../Value":184}],145:[function(require,module,exports){
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var Label_1 = require("../Label");
var Value_1 = require("../Value");
var EcmaObject_1 = require("../Objects/EcmaObject");
// ------------------------------------------------------------
// Number Object, 15.7.5
var NumberObject = /** @class */ (function (_super) {
    __extends(NumberObject, _super);
    function NumberObject(val, lbl) {
        var _this = _super.call(this) || this;
        _this.Class = 'Number';
        _this.PrimitiveValue = new monitor.instances.NumberConstructor.host(val);
        _this.PrimitiveLabel = lbl;
        _this.Extensible = true;
        _this.Prototype = new Value_1.Value(monitor.instances.NumberPrototype, Label_1.bot);
        return _this;
    }
    return NumberObject;
}(EcmaObject_1.EcmaObject));
exports.NumberObject = NumberObject;
// ---
function IsNumberObject(x) {
    return typeof x.value === 'object' && x.value !== null && x.value.Class === 'Number';
}
exports.IsNumberObject = IsNumberObject;

},{"../Label":123,"../Objects/EcmaObject":137,"../Value":184}],146:[function(require,module,exports){
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var Label_1 = require("../Label");
var Value_1 = require("../Value");
var EcmaObject_1 = require("../Objects/EcmaObject");
// ------------------------------------------------------------
// Object objects, 15.2.2.1
var ObjectObject = /** @class */ (function (_super) {
    __extends(ObjectObject, _super);
    function ObjectObject() {
        var _this = _super.call(this) || this;
        _this.Prototype = new Value_1.Value(monitor.instances.ObjectPrototype, Label_1.bot);
        _this.Class = 'Object';
        _this.Extensible = true;
        return _this;
        // this.host      = {};
    }
    return ObjectObject;
}(EcmaObject_1.EcmaObject));
exports.ObjectObject = ObjectObject;
// ---
ObjectObject.prototype.toString = function () {
    var properties = [];
    for (var x in this.properties) {
        if (this.properties.hasOwnProperty(x)) {
            properties.push(x + ': ' + this.properties[x]);
        }
    }
    return '{' + properties.join(', ') + '}';
};
// ------------------------------------------------------------

},{"../Label":123,"../Objects/EcmaObject":137,"../Value":184}],147:[function(require,module,exports){
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var NativeErrorObject_1 = require("./NativeErrorObject");
// ------------------------------------------------------------
var RangeErrorObject = /** @class */ (function (_super) {
    __extends(RangeErrorObject, _super);
    function RangeErrorObject(v) {
        var _this = _super.call(this, monitor.instances.RangeErrorPrototype, v) || this;
        _this.Type = 'RangeError';
        return _this;
    }
    return RangeErrorObject;
}(NativeErrorObject_1.NativeErrorObject));
exports.RangeErrorObject = RangeErrorObject;

},{"./NativeErrorObject":144}],148:[function(require,module,exports){
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var NativeErrorObject_1 = require("./NativeErrorObject");
// ------------------------------------------------------------
var ReferenceErrorObject = /** @class */ (function (_super) {
    __extends(ReferenceErrorObject, _super);
    function ReferenceErrorObject(v) {
        var _this = _super.call(this, monitor.instances.ReferenceErrorPrototype, v) || this;
        _this.Type = 'ReferenceError';
        return _this;
    }
    return ReferenceErrorObject;
}(NativeErrorObject_1.NativeErrorObject));
exports.ReferenceErrorObject = ReferenceErrorObject;

},{"./NativeErrorObject":144}],149:[function(require,module,exports){
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var Value_1 = require("../Value");
var constants = require("../Constants");
var Label_1 = require("../Label");
var EcmaObject_1 = require("../Objects/EcmaObject");
// ------------------------------------------------------------
// RegExp Object, 15.10.4.1
var RegExpObject = /** @class */ (function (_super) {
    __extends(RegExpObject, _super);
    function RegExpObject(nativeRegExp, l) {
        var _this = _super.call(this) || this;
        _this.Class = 'RegExp';
        _this.PrimitiveValue = nativeRegExp;
        _this.PrimitiveLabel = l;
        _this.Extensible = true;
        _this.Prototype = new Value_1.Value(monitor.instances.RegExpPrototype, Label_1.bot);
        _this.DefineOwnProperty(constants.source, {
            value: _this.PrimitiveValue.source,
            writable: false,
            enumerable: false,
            configurable: false,
            label: l
        });
        _this.DefineOwnProperty(constants.global, {
            value: _this.PrimitiveValue.global,
            writable: false,
            enumerable: false,
            configurable: false,
            label: l
        });
        _this.DefineOwnProperty(constants.ignoreCase, {
            value: _this.PrimitiveValue.ignoreCase,
            writable: false,
            enumerable: false,
            configurable: false,
            label: l
        });
        _this.DefineOwnProperty(constants.multiline, {
            value: _this.PrimitiveValue.multiline,
            writable: false,
            enumerable: false,
            configurable: false,
            label: l
        });
        _this.DefineOwnProperty(constants.lastIndex, {
            value: _this.PrimitiveValue.lastIndex,
            writable: true,
            enumerable: false,
            configurable: false,
            label: l
        });
        return _this;
    }
    RegExpObject.prototype.toString = function () {
        var v = this.PrimitiveValue.toString();
        return v;
    };
    return RegExpObject;
}(EcmaObject_1.EcmaObject));
exports.RegExpObject = RegExpObject;
function IsRegExpObject(x) {
    return typeof x.value === 'object' && x.value !== null && x.value !== undefined && x.value.Class === 'RegExp';
}
exports.IsRegExpObject = IsRegExpObject;

},{"../Constants":64,"../Label":123,"../Objects/EcmaObject":137,"../Value":184}],150:[function(require,module,exports){
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var Value_1 = require("../Value");
var EcmaObject_1 = require("../Objects/EcmaObject");
var Label_1 = require("../Label");
// ------------------------------------------------------------
// String Object, 15.5.5
var StringObject = /** @class */ (function (_super) {
    __extends(StringObject, _super);
    function StringObject(val, lbl) {
        var _this = _super.call(this) || this;
        _this.Class = 'String';
        _this.PrimitiveValue = val;
        lbl = lbl || Label_1.bot;
        _this.PrimitiveLabel = lbl;
        // TODO: how to solve this to work with EcmaObject properly
        //@ts-ignore TYPES
        _this.properties = new String(val);
        for (var i = 0, len = val.length; i < len; i++) {
            _this.labels[i] = {
                value: lbl,
                existence: lbl
            };
        }
        _this.labels.length = {
            value: lbl,
            existence: lbl
        };
        _this.Extensible = true;
        _this.Prototype = new Value_1.Value(monitor.instances.StringPrototype, Label_1.bot);
        return _this;
        // length is not modeled in this way, but by GetOwnProperty; however, e.g.,
        // delete will use the properties field for deletion. Thus, we add a fake model.
        //   ecma.DefineFFF(this, constants.length, 0);
    }
    return StringObject;
}(EcmaObject_1.EcmaObject));
exports.StringObject = StringObject;
function IsStringObject(x) {
    return typeof x.value === 'object' && x.value !== null && x.value.Class === 'String';
}
exports.IsStringObject = IsStringObject;

},{"../Label":123,"../Objects/EcmaObject":137,"../Value":184}],151:[function(require,module,exports){
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var NativeErrorObject_1 = require("./NativeErrorObject");
// ------------------------------------------------------------
var SyntaxErrorObject = /** @class */ (function (_super) {
    __extends(SyntaxErrorObject, _super);
    function SyntaxErrorObject(v) {
        var _this = _super.call(this, monitor.instances.SyntaxErrorPrototype, v) || this;
        _this.Type = 'SyntaxError';
        return _this;
    }
    return SyntaxErrorObject;
}(NativeErrorObject_1.NativeErrorObject));
exports.SyntaxErrorObject = SyntaxErrorObject;

},{"./NativeErrorObject":144}],152:[function(require,module,exports){
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var NativeErrorObject_1 = require("./NativeErrorObject");
// ------------------------------------------------------------
var TypeErrorObject = /** @class */ (function (_super) {
    __extends(TypeErrorObject, _super);
    function TypeErrorObject(v) {
        var _this = _super.call(this, monitor.instances.TypeErrorPrototype, v) || this;
        _this.Type = 'TypeError';
        return _this;
    }
    return TypeErrorObject;
}(NativeErrorObject_1.NativeErrorObject));
exports.TypeErrorObject = TypeErrorObject;

},{"./NativeErrorObject":144}],153:[function(require,module,exports){
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var NativeErrorObject_1 = require("./NativeErrorObject");
// ------------------------------------------------------------
var URIErrorObject = /** @class */ (function (_super) {
    __extends(URIErrorObject, _super);
    function URIErrorObject(v) {
        var _this = _super.call(this, monitor.instances.URIErrorPrototype, v) || this;
        _this.Type = 'URIError';
        return _this;
    }
    return URIErrorObject;
}(NativeErrorObject_1.NativeErrorObject));
exports.URIErrorObject = URIErrorObject;

},{"./NativeErrorObject":144}],154:[function(require,module,exports){
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/. */
Object.defineProperty(exports, "__esModule", { value: true });
var Option = /** @class */ (function () {
    function Option(type, val, desc) {
        this.type = type;
        this.set(val);
        this.def = this.value;
        this.description = desc;
    }
    Option.prototype.set = function (val) {
        var v = String(val);
        if (this.type === 'string') {
            this.value = v;
        }
        else if (this.type === 'boolean') {
            this.value = v === 'true' || v === '1';
        }
        else if (this.type === 'number') {
            this.value = Number(v);
        }
    };
    Option.prototype.getDefault = function () {
        return this.def;
    };
    Option.prototype.valueOf = function () {
        return this.value;
    };
    Option.prototype.toString = function () {
        return String(this.value);
    };
    return Option;
}());
// -------------------------------------------------------------
// Options
var Options = /** @class */ (function () {
    function Options() {
        this.options = {};
    }
    Options.prototype.declare = function (name, type, def, desc) {
        var description = desc ? desc : name;
        this.options[name] = new Option(type, def, description);
    };
    Options.prototype.has = function (name) {
        return this.options[name] !== undefined;
    };
    Options.prototype.get = function (name) {
        return this.options[name].valueOf();
    };
    Options.prototype.getOption = function (name) {
        return this.options[name];
    };
    Options.prototype.set = function (name, value) {
        this.options[name].set(value);
    };
    Options.prototype.keys = function () {
        var res = [];
        for (var x in this.options) {
            if (this.options.hasOwnProperty(x)) {
                res.push(x);
            }
        }
        return res;
    };
    Options.prototype.report = function () {
        for (var name in this.options) {
            monitor.info(name + " : " + this.options[name].toString());
        }
    };
    return Options;
}());
exports.Options = Options;

},{}],155:[function(require,module,exports){
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/. */
Object.defineProperty(exports, "__esModule", { value: true });
var escodegen_1 = require("escodegen");
exports.pretty = escodegen_1.generate;

},{"escodegen":5}],156:[function(require,module,exports){
Object.defineProperty(exports, "__esModule", { value: true });
// ------------------------------------------------------------
// Property descriptors, 8.10
function IsAccessorDescriptor(pd) {
    if (pd === undefined) {
        return false;
    }
    else {
        return ('get' in pd || 'put' in pd);
    }
}
exports.IsAccessorDescriptor = IsAccessorDescriptor;
function IsDataDescriptor(pd) {
    if (pd === undefined) {
        return false;
    }
    else {
        return ('value' in pd || 'writable' in pd);
    }
}
exports.IsDataDescriptor = IsDataDescriptor;

},{}],157:[function(require,module,exports){
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var Value_1 = require("../Value");
var constants = require("../Constants");
var BuiltinFunctionObject_1 = require("../Objects/BuiltinFunctionObject");
var Label_1 = require("../Label");
var Define_1 = require("../Define");
var EcmaObject_1 = require("../Objects/EcmaObject");
var ArrayObject_1 = require("../Objects/ArrayObject");
var ToBoolean_1 = require("../Conversion/ToBoolean");
var ToInteger_1 = require("../Conversion/ToInteger");
var ToString_1 = require("../Conversion/ToString");
var ToObject_1 = require("../Conversion/ToObject");
var IsCallable_1 = require("../Utility/IsCallable");
var ToUInt32_1 = require("../Conversion/ToUInt32");
// ------------------------------------------------------------
// 15.4.4
var ArrayPrototype = /** @class */ (function (_super) {
    __extends(ArrayPrototype, _super);
    function ArrayPrototype(host) {
        var _this = _super.call(this) || this;
        _this.Class = 'Array';
        _this.host = host;
        return _this;
    }
    ArrayPrototype.prototype.Setup = function () {
        this.Prototype = new Value_1.Value(monitor.instances.ObjectPrototype, Label_1.bot);
        Define_1.DefineTFT(this, constants.constructor, monitor.instances.ArrayConstructor);
        Define_1.DefineTFF(this, constants.length, 0);
        Define_1.DefineTFT(this, constants.toString, new BuiltinFunctionObject_1.BuiltinFunctionObject(toString, 0, Array.prototype.toString));
        Define_1.DefineTFT(this, constants.toLocaleString, new BuiltinFunctionObject_1.BuiltinFunctionObject(toLocaleString, 0, Array.prototype.toLocaleString));
        Define_1.DefineTFT(this, constants.concat, new BuiltinFunctionObject_1.BuiltinFunctionObject(concat, 1, Array.prototype.concat));
        Define_1.DefineTFT(this, constants.join, new BuiltinFunctionObject_1.BuiltinFunctionObject(join, 1, Array.prototype.join));
        Define_1.DefineTFT(this, constants.pop, new BuiltinFunctionObject_1.BuiltinFunctionObject(pop, 0, Array.prototype.pop));
        Define_1.DefineTFT(this, constants.push, new BuiltinFunctionObject_1.BuiltinFunctionObject(push, 1, Array.prototype.push));
        Define_1.DefineTFT(this, constants.reverse, new BuiltinFunctionObject_1.BuiltinFunctionObject(reverse, 0, Array.prototype.reverse));
        Define_1.DefineTFT(this, constants.shift, new BuiltinFunctionObject_1.BuiltinFunctionObject(shift, 0, Array.prototype.shift));
        Define_1.DefineTFT(this, constants.slice, new BuiltinFunctionObject_1.BuiltinFunctionObject(slice, 2, Array.prototype.slice));
        Define_1.DefineTFT(this, constants.sort, new BuiltinFunctionObject_1.BuiltinFunctionObject(sort, 1, Array.prototype.sort));
        Define_1.DefineTFT(this, constants.splice, new BuiltinFunctionObject_1.BuiltinFunctionObject(splice, 2, Array.prototype.splice));
        Define_1.DefineTFT(this, constants.unshift, new BuiltinFunctionObject_1.BuiltinFunctionObject(unshift, 1, Array.prototype.unshift));
        Define_1.DefineTFT(this, constants.indexOf, new BuiltinFunctionObject_1.BuiltinFunctionObject(indexOf, 1, Array.prototype.indexOf));
        Define_1.DefineTFT(this, constants.lastIndexOf, new BuiltinFunctionObject_1.BuiltinFunctionObject(lastIndexOf, 1, Array.prototype.lastIndexOf));
        Define_1.DefineTFT(this, constants.every, new BuiltinFunctionObject_1.BuiltinFunctionObject(every, 1, Array.prototype.every));
        Define_1.DefineTFT(this, constants.some, new BuiltinFunctionObject_1.BuiltinFunctionObject(some, 1, Array.prototype.some));
        Define_1.DefineTFT(this, constants.forEach, new BuiltinFunctionObject_1.BuiltinFunctionObject(forEach, 1, Array.prototype.forEach));
        Define_1.DefineTFT(this, constants.map, new BuiltinFunctionObject_1.BuiltinFunctionObject(map, 1, Array.prototype.map));
        Define_1.DefineTFT(this, constants.filter, new BuiltinFunctionObject_1.BuiltinFunctionObject(filter, 1, Array.prototype.filter));
        Define_1.DefineTFT(this, constants.reduce, new BuiltinFunctionObject_1.BuiltinFunctionObject(reduce, 1, Array.prototype.reduce));
        Define_1.DefineTFT(this, constants.reduceRight, new BuiltinFunctionObject_1.BuiltinFunctionObject(reduceRight, 1, Array.prototype.reduceRight));
    };
    return ArrayPrototype;
}(EcmaObject_1.EcmaObject));
exports.ArrayPrototype = ArrayPrototype;
// ------------------------------------------------------------
// toString, 15.4.4.2
function toString(thisArg, args) {
    var array = ToObject_1.ToObject(thisArg);
    var func = array.Get(constants.join);
    if (!IsCallable_1.IsCallable(func)) {
        func = monitor.instances.ObjectPrototype.Get(constants.toString);
    }
    // @ts-ignore
    return func.value.Call(array, []);
}
// ------------------------------------------------------------
// toLocaleString, 15.4.4.3
function toLocaleString(thisArg, args) {
    var array = ToObject_1.ToObject(thisArg);
    var arrayLen = array.Get(new Value_1.Value("length", Label_1.bot));
    var len = ToUInt32_1.ToUInt32(arrayLen);
    var separator = ',';
    var label = Label_1.lub(monitor.context.effectivePC, array.label);
    if (len.value === 0) {
        return new Value_1.Value("", label);
    }
    var firstElement = array.Get(new Value_1.Value("0", Label_1.bot));
    var R;
    if (firstElement.value === undefined || firstElement.value === null) {
        R = new Value_1.Value("", label);
    }
    else {
        var elementObj = ToObject_1.ToObject(firstElement);
        var func = elementObj.Get(new Value_1.Value("toLocaleString", Label_1.bot));
        if (!IsCallable_1.IsCallable(func)) {
            monitor.Throw("TypeError", 'Array.prototype.toLocaleString: not a function', Label_1.bot);
            throw 'TypeScript;';
        }
        // ES6 standard is doing this, and ES5 should be able to handle it
        R = ToString_1.ToString(func.value.Call(elementObj, []));
    }
    var k = 1;
    while (k < len.value) {
        //@ts-ignore TYPES
        var S = R.value.concat(separator);
        var nextElement = array.Get(new Value_1.Value('' + k, Label_1.bot));
        if (nextElement.value === undefined || firstElement.value === null) {
            R = new Value_1.Value("", label);
        }
        else {
            var elementObj = ToObject_1.ToObject(nextElement);
            var func = elementObj.Get(new Value_1.Value("toLocaleString", Label_1.bot));
            if (!IsCallable_1.IsCallable(func)) {
                monitor.Throw("TypeError", 'Array.prototype.toLocaleString: not a function', Label_1.bot);
                throw 'TypeScript;';
            }
            // ES6 standard is doing this, and ES5 should be able to handle it
            R = ToString_1.ToString(func.value.Call(elementObj, []));
        }
        R = new Value_1.Value(S.concat(R.value), R.label);
        k++;
    }
    R.raise(label);
    //@ts-ignore TYPES
    return R;
}
// ------------------------------------------------------------
// concat, 15.4.4.4
function concat(thisArg, args) {
    var O = ToObject_1.ToObject(thisArg);
    var A = new ArrayObject_1.ArrayObject();
    var n = 0;
    var c = monitor.context;
    var label = new Label_1.Label();
    function aux(E) {
        c.pushPC(E.label);
        label = Label_1.lub(label, E.label);
        if (E.value && E.value.Class === 'Array') {
            var k = 0;
            var len = E.Get(constants.length);
            label = Label_1.lub(label, len.label);
            monitor.context.pushPC(len.label);
            while (k < len.value) {
                var _k = new Value_1.Value(k, Label_1.bot);
                var exists = E.HasProperty(_k);
                if (exists.value) {
                    monitor.context.pushPC(exists.label);
                    var subElement = E.Get(_k);
                    A.DefineOwnProperty(new Value_1.Value(n, label), {
                        value: subElement.value,
                        label: subElement.label,
                        writable: true,
                        enumerable: true,
                        configurable: true
                    }, false);
                    monitor.context.popPC();
                }
                n++;
                k++;
            }
            monitor.context.popPC();
        }
        else {
            A.DefineOwnProperty(new Value_1.Value(n, label), {
                value: E.value,
                label: E.label,
                writable: true,
                enumerable: true,
                configurable: true
            }, false);
            n++;
        }
        c.popPC();
    }
    aux(O);
    for (var i = 0, len = args.length; i < len; i++) {
        aux(args[i]);
    }
    // This is a fix they added in ECMA-262 v6 standard, but browsers used it
    // in ECMA-262 v5 as well.
    A.Put(new Value_1.Value("length", Label_1.bot), new Value_1.Value(n, Label_1.bot), false);
    return new Value_1.Value(A, Label_1.bot);
}
;
// ------------------------------------------------------------
// join, 15.4.4.5
function join(thisArg, args) {
    var O = ToObject_1.ToObject(thisArg);
    var len = ToUInt32_1.ToUInt32(O.Get(constants.length));
    var arg0 = args[0] || new Value_1.Value(',', Label_1.bot);
    var separator;
    if (arg0.value === undefined) {
        separator = new Value_1.Value(',', arg0.label);
    }
    else {
        separator = ToString_1.ToString(arg0);
    }
    var label = Label_1.lub(len.label, separator.label);
    var arr = [];
    for (var i = 0; i < len.value; i++) {
        var v = O.Get(new Value_1.Value(i, Label_1.bot));
        var y = void 0;
        if (v.value === undefined || v.value === null) {
            y = new Value_1.Value('', v.label);
        }
        else {
            y = ToString_1.ToString(v);
        }
        arr[i] = y.value;
        label = Label_1.lub(label, y.label);
    }
    var res = arr.join(separator.value);
    return new Value_1.Value(res, label);
}
// ------------------------------------------------------------
// pop, 15.4.4.6
function pop(thisArg, args) {
    var O = ToObject_1.ToObject(thisArg);
    var len = ToUInt32_1.ToUInt32(O.Get(constants.length));
    if (len.value === 0) {
        O.Put(constants.length, len, true);
        return new Value_1.Value(undefined, len.label);
    }
    var indx = new Value_1.Value(len.value - 1, len.label);
    var element = O.Get(indx);
    O.Delete(indx, true);
    O.Put(constants.length, indx, true);
    return element;
}
// ------------------------------------------------------------
// push, 15.4.4.7
function push(thisArg, args) {
    var O = ToObject_1.ToObject(thisArg);
    var n = ToUInt32_1.ToUInt32(O.Get(constants.length));
    for (var i = 0, len = args.length; i < len; i++) {
        var E = args[i];
        O.Put(n, E);
        n.value++;
    }
    O.Put(constants.length, n, true);
    return n;
}
// ------------------------------------------------------------
// reverse, 15.4.4.8
function reverse(thisArg, args) {
    var O = ToObject_1.ToObject(thisArg);
    var len = ToUInt32_1.ToUInt32(O.Get(constants.length));
    var middle = Math.floor(len.value / 2);
    var lower = 0;
    var c = monitor.context;
    while (lower !== middle && lower > -2) {
        var upper = len.value - lower - 1;
        var upperP = ToString_1.ToString(new Value_1.Value(upper, len.label));
        var lowerP = ToString_1.ToString(new Value_1.Value(lower, len.label));
        var lowerValue = O.Get(lowerP);
        var upperValue = O.Get(upperP);
        var lowerExists = O.HasProperty(lowerP);
        var upperExists = O.HasProperty(upperP);
        c.pushPC(Label_1.lub(lowerExists.label, upperExists.label, len.label));
        if (lowerExists.value && upperExists.value) {
            O.Put(lowerP, upperValue, true);
            O.Put(upperP, lowerValue, true);
        }
        else if (!lowerExists.value && upperExists.value) {
            O.Put(lowerP, upperValue, true);
            O.Delete(upperP, true);
        }
        else if (lowerExists.value && !upperExists.value) {
            O.Delete(lowerP, true);
            O.Put(upperP, lowerValue, true);
        }
        c.popPC();
        lower++;
    }
    return O;
}
// ------------------------------------------------------------
// shift, 15.4.4.9
function shift(thisArg, args) {
    var O = ToObject_1.ToObject(thisArg);
    var lenVal = O.Get(constants.length);
    var len = ToUInt32_1.ToUInt32(lenVal);
    if (len.value === 0) {
        monitor.context.pushPC(len.label);
        O.Put(constants.length, len, true);
        monitor.context.popPC();
        return new Value_1.Value(undefined, len.label);
    }
    var first = O.Get(new Value_1.Value(0, Label_1.bot));
    var k = 1;
    monitor.context.pushPC(len.label);
    while (k < len.value) {
        var from = k;
        var _from = new Value_1.Value(from, len.label);
        var to = k - 1;
        var _to = new Value_1.Value(to, len.label);
        var fromPresent = O.HasProperty(_from);
        if (fromPresent.value) {
            monitor.context.pushPC(fromPresent.label);
            var fromVal = O.Get(_from);
            O.Put(_to, fromVal, true);
            monitor.context.popPC();
        }
        else {
            O.Delete(_to, true);
        }
        k++;
    }
    monitor.context.popPC();
    len.value--;
    O.Delete(len, true);
    O.Put(constants.length, len, true);
    return first;
}
// ------------------------------------------------------------
// slice, 15.4.4.10
function slice(thisArg, args) {
    var O = ToObject_1.ToObject(thisArg);
    var A = new ArrayObject_1.ArrayObject();
    var lenVal = O.Get(constants.length);
    var len = ToUInt32_1.ToUInt32(lenVal);
    var start = args[0] ? args[0] : new Value_1.Value(undefined, Label_1.bot);
    var end = args[1] ? args[1] : new Value_1.Value(undefined, Label_1.bot);
    var relativeStart = ToInteger_1.ToInteger(start);
    var k = new Value_1.Value(0, Label_1.lub(len.label, relativeStart.label));
    if (relativeStart.value < 0) {
        k.value = Math.max(len.value + relativeStart.value, 0);
    }
    else {
        k.value = Math.min(relativeStart.value, len.value);
    }
    var relativeEnd;
    if (end.value === undefined) {
        relativeEnd = len;
    }
    else {
        relativeEnd = ToInteger_1.ToInteger(end);
    }
    var _final = new Value_1.Value(0, Label_1.lub(len.label, relativeStart.label));
    if (relativeEnd.value < 0) {
        _final.value = Math.max(len.value + relativeEnd.value, 0);
    }
    else {
        _final.value = Math.min(relativeEnd.value, len.value);
    }
    var n = 0;
    monitor.context.pushPC(Label_1.lub(k.label, _final.label));
    while (k.value < _final.value) {
        var Pk = ToString_1.ToString(k);
        var kPresent = O.HasProperty(Pk);
        if (kPresent.value) {
            var kValue = O.Get(Pk);
            A.DefineOwnProperty(new Value_1.Value(n, Label_1.bot), {
                value: kValue.value,
                label: kValue.label,
                writable: true,
                enumerable: true,
                configurable: true
            }, false);
        }
        k.value++;
        n++;
    }
    monitor.context.popPC();
    return new Value_1.Value(A, Label_1.bot);
}
// ------------------------------------------------------------
// sort, 15.4.4.11
function sort(thisArg, args) {
    var comparefun = args[0] || new Value_1.Value(undefined, Label_1.bot);
    var O = ToObject_1.ToObject(thisArg);
    var lenVal = O.Get(constants.length);
    var len = ToUInt32_1.ToUInt32(lenVal);
    var label = Label_1.lub(O.label, len.label);
    var c = monitor.context;
    c.pushPC(len.label);
    var array = [];
    var k = new Value_1.Value(0, len.label);
    while (k.value < len.value) {
        var kPresent = O.HasProperty(k);
        c.labels.pc = Label_1.lub(c.labels.pc, kPresent.label);
        label = Label_1.lub(label, kPresent.label);
        if (kPresent.value) {
            var kValue = O.Get(k);
            kValue.raise(label);
            array[k.value] = kValue;
        }
        k.value++;
    }
    var isCallable = IsCallable_1.IsCallable(comparefun);
    c.labels.pc = Label_1.lub(c.labels.pc, comparefun.label);
    if (comparefun.value !== undefined && !isCallable) {
        monitor.Throw("TypeError", 'Array.prototype.sort: not a function', Label_1.bot);
    }
    var comparefunWrapper;
    if (comparefun.value) {
        comparefunWrapper = function (x, y) {
            if (x.value === undefined) {
                label = Label_1.lub(label, x.label);
                return 1;
            }
            if (y.value === undefined) {
                label = Label_1.lub(label, y.label);
                return -1;
            }
            var result = comparefun.Call(new Value_1.Value(undefined, Label_1.bot), [x, y]);
            c.labels.pc = Label_1.lub(c.labels.pc, result.label, x.label, y.label);
            label = Label_1.lub(label, result.label, x.label, y.label);
            return result.value;
        };
    }
    else {
        comparefunWrapper = function (x, y) {
            if (x.value === undefined) {
                label = Label_1.lub(label, x.label);
                return 1;
            }
            if (y.value === undefined) {
                label = Label_1.lub(label, y.label);
                return -1;
            }
            var xString = ToString_1.ToString(x);
            var yString = ToString_1.ToString(y);
            c.labels.pc = Label_1.lub(c.labels.pc, xString.label, yString.label);
            label = Label_1.lub(label, xString.label, yString.label);
            if (xString.value < yString.value) {
                return -1;
            }
            if (xString.value > yString.value) {
                return 1;
            }
            return 0;
        };
    }
    //@ts-ignore TYPES
    array = array.sort(comparefunWrapper);
    for (var i = 0, len_1 = array.length; i < len_1; i++) {
        var v = array[i];
        if (v) {
            O.Put(new Value_1.Value(i, label), v, true);
        }
        else {
            O.Delete(new Value_1.Value(i, label), true);
        }
    }
    c.popPC();
    return O;
}
// ------------------------------------------------------------
// splice, 15.4.4.12
function splice(thisArg, args) {
    var start = args[0] || new Value_1.Value(undefined, Label_1.bot);
    var arg1 = args[1] || new Value_1.Value(undefined, Label_1.bot);
    var O = ToObject_1.ToObject(thisArg);
    var A = new ArrayObject_1.ArrayObject();
    var lenVal = O.Get(constants.length);
    var len = ToUInt32_1.ToUInt32(lenVal);
    var relativeStart = ToInteger_1.ToInteger(start);
    var actualStart = new Value_1.Value(null, Label_1.lub(len.label, relativeStart.label));
    if (relativeStart.value < 0) {
        actualStart.value = Math.max((len.value + relativeStart.value), 0);
    }
    else {
        actualStart.value = Math.min(relativeStart.value, len.value);
    }
    var deleteCount = ToInteger_1.ToInteger(arg1);
    var actualDeleteCount = new Value_1.Value(null, Label_1.lub(deleteCount.label, actualStart.label));
    actualDeleteCount.value = Math.min(Math.max(deleteCount.value, 0), len.value - actualStart.value);
    var k = 0;
    monitor.context.pushPC(actualDeleteCount.label);
    while (k < actualDeleteCount.value) {
        var from = new Value_1.Value(actualStart.value + k, actualStart.label);
        var fromPresent = O.HasProperty(from);
        monitor.context.pushPC(fromPresent.label);
        if (fromPresent.value) {
            var fromValue = O.Get(from);
            A.DefineOwnProperty(new Value_1.Value(k, actualDeleteCount.label), {
                value: fromValue.value,
                label: fromValue.label,
                writable: true,
                enumerable: true,
                configurable: true
            });
        }
        monitor.context.popPC();
        k++;
    }
    monitor.context.popPC();
    var items = [];
    for (var i = 0; i < args.length - 2; i++) {
        items[i] = args[i + 2];
    }
    var itemCount = items.length;
    if (itemCount < actualDeleteCount.value) {
        var k_1 = actualStart.value;
        monitor.context.pushPC(actualStart.label);
        while (k_1 < len.value - actualDeleteCount.value) {
            var from = new Value_1.Value(k_1 + actualDeleteCount.value, Label_1.lub(actualStart.label, actualDeleteCount.label));
            var to = new Value_1.Value(k_1 + itemCount, actualStart.label);
            var fromPresent = O.HasProperty(from);
            monitor.context.pushPC(fromPresent.label);
            if (fromPresent.value) {
                var fromValue = O.Get(from);
                O.Put(to, fromValue, true);
            }
            else {
                O.Delete(to, true);
            }
            k_1++;
            monitor.context.popPC();
        }
        monitor.context.popPC();
        k_1 = len.value;
        monitor.context.pushPC(Label_1.lub(len.label, actualDeleteCount.label));
        while (k_1 > (len.value - actualDeleteCount.value + itemCount)) {
            O.Delete(new Value_1.Value(k_1, len.label));
            k_1--;
        }
        monitor.context.popPC();
    }
    else if (itemCount > actualDeleteCount.value) {
        var k_2 = len.value - actualDeleteCount.value;
        monitor.context.pushPC(Label_1.lub(len.label, actualDeleteCount.label));
        while (k_2 > actualStart.value) {
            var from = new Value_1.Value(k_2 + actualDeleteCount.value - 1, actualDeleteCount.label);
            var to = new Value_1.Value(k_2 + itemCount - 1, Label_1.bot);
            var fromPresent = O.HasProperty(from);
            if (fromPresent.value) {
                var fromValue = O.Get(from);
                O.Put(to, fromValue, true);
            }
            else {
                O.Delete(to, true);
            }
            k_2--;
        }
        monitor.context.popPC();
    }
    k = actualStart.value;
    for (var i = 0; i < items.length; i++) {
        O.Put(new Value_1.Value(k + i, actualStart.label), items[i], true);
    }
    O.Put(constants.length, new Value_1.Value(len.value - actualDeleteCount.value + itemCount, Label_1.lub(len.label, actualDeleteCount.label)), true);
    return new Value_1.Value(A, Label_1.bot);
}
// ------------------------------------------------------------
// unshift, 15.4.4.13
function unshift(thisArg, args) {
    var O = ToObject_1.ToObject(thisArg);
    var lenVal = O.Get(constants.length);
    var len = ToUInt32_1.ToUInt32(lenVal);
    var argCount = args.length;
    var k = len.value;
    monitor.context.pushPC(len.label);
    while (k > 0) {
        var from = new Value_1.Value(k - 1, len.label);
        var to = new Value_1.Value(k + argCount - 1, len.label);
        var fromPresent = O.HasProperty(from);
        monitor.context.pushPC(fromPresent.label);
        if (fromPresent.value) {
            var fromValue = O.Get(from);
            O.Put(to, fromValue, true);
        }
        else {
            O.Delete(to, true);
        }
        monitor.context.popPC();
        k--;
    }
    monitor.context.popPC();
    var j = 0;
    var items = args;
    for (; j < argCount; j++) {
        var E = items[j];
        O.Put(new Value_1.Value(j, Label_1.bot), E, true);
    }
    O.Put(constants.length, new Value_1.Value(len.value + argCount, len.label));
    return new Value_1.Value(len.value + argCount, len.label);
}
;
// ------------------------------------------------------------
// indexOf, 15.4.4.14
function indexOf(thisArg, args) {
    var searchElement = args[0] || new Value_1.Value(undefined, Label_1.bot);
    var fromIndex = args[1];
    var O = ToObject_1.ToObject(thisArg);
    var lenVal = O.Get(constants.length);
    var len = ToUInt32_1.ToUInt32(lenVal);
    var c = monitor.context;
    if (len.value === 0) {
        return new Value_1.Value(-1, len.label);
    }
    var label = Label_1.lub(len.label);
    c.pushPC(len.label);
    var n = fromIndex ? ToInteger_1.ToInteger(fromIndex) : new Value_1.Value(0, Label_1.bot);
    c.labels.pc = Label_1.lub(c.labels.pc, n.label);
    label = Label_1.lub(label, n.label);
    if (n.value >= len.value) {
        c.popPC();
        return new Value_1.Value(-1, label);
    }
    var k;
    if (n.value >= 0) {
        k = n;
    }
    else {
        k = new Value_1.Value(len.value - Math.abs(n.value), Label_1.lub(len.label, n.label));
        if (k.value < 0) {
            k.value = 0;
        }
    }
    while (k.value < len.value) {
        var kString = ToString_1.ToString(k);
        var kPresent = O.HasProperty(kString);
        c.labels.pc = Label_1.lub(c.labels.pc, kPresent.label);
        label = Label_1.lub(label, kPresent.label);
        if (kPresent.value) {
            var elementK = O.Get(kString);
            c.labels.pc = Label_1.lub(c.labels.pc, elementK.label);
            label = Label_1.lub(label, elementK.label);
            var same = searchElement.value === elementK.value;
            if (same) {
                k.label = label;
                c.popPC();
                return k;
            }
        }
        k.value++;
    }
    c.popPC();
    k.value = -1;
    k.label = label;
    return k;
}
// ------------------------------------------------------------
// lastIndexOf, 15.4.4.15
function lastIndexOf(thisArg, args) {
    var searchElement = args[0] || new Value_1.Value(undefined, Label_1.bot);
    var fromIndex = args[1];
    var O = ToObject_1.ToObject(thisArg);
    var lenVal = O.Get(constants.length);
    var len = ToUInt32_1.ToUInt32(lenVal);
    var c = monitor.context;
    if (len.value === 0) {
        return new Value_1.Value(-1, len.label);
    }
    var label = Label_1.lub(len.label);
    c.pushPC(len.label);
    var n = fromIndex ? ToInteger_1.ToInteger(fromIndex) : new Value_1.Value(len.value - 1, len.label);
    var k;
    if (n.value >= 0) {
        k = new Value_1.Value(Math.min(n.value, len.value - 1), Label_1.lub(n.label, len.label));
    }
    else {
        k = new Value_1.Value(len.value - Math.abs(n.value), Label_1.lub(n.label, len.label));
    }
    c.labels.pc = Label_1.lub(c.labels.pc, k.label);
    label = Label_1.lub(label, k.label);
    while (k.value >= 0) {
        var kPresent = O.HasProperty(k);
        c.labels.pc = Label_1.lub(c.labels.pc, kPresent.label);
        label = Label_1.lub(label, kPresent.label);
        if (kPresent.value) {
            var elementK = O.Get(k);
            c.labels.pc = Label_1.lub(c.labels.pc, elementK.label);
            label = Label_1.lub(label, elementK.label);
            var same = searchElement.value === elementK.value;
            if (same) {
                k.label = label;
                c.popPC();
                return k;
            }
        }
        k.value--;
    }
    c.popPC();
    k.value = -1;
    k.label = label;
    return k;
}
// ------------------------------------------------------------
// every, 15.4.4.16
function every(thisArg, args) {
    var callbackfn = args[0] || new Value_1.Value(undefined, Label_1.bot);
    var callbackthisArg = args[1] || new Value_1.Value(undefined, Label_1.bot);
    var O = ToObject_1.ToObject(thisArg);
    var lenVal = O.Get(constants.length);
    var len = ToUInt32_1.ToUInt32(lenVal);
    var c = monitor.context;
    var isCallable = IsCallable_1.IsCallable(callbackfn);
    var label = Label_1.lub(callbackfn.label);
    c.pushPC(callbackfn.label);
    if (!isCallable) {
        monitor.Throw("TypeError", 'Array.prototype.every: not a function', Label_1.bot);
    }
    var k = new Value_1.Value(0, len.label);
    c.labels.pc = Label_1.lub(c.labels.pc, len.label);
    label = Label_1.lub(label, len.label);
    while (k.value < len.value) {
        var kPresent = O.HasProperty(k);
        c.labels.pc = Label_1.lub(c.labels.pc, kPresent.label);
        label = Label_1.lub(label, kPresent.label);
        if (kPresent.value) {
            var kValue = O.Get(k);
            var testResult = callbackfn.Call(callbackthisArg, [kValue, k, O]);
            var b = ToBoolean_1.ToBoolean(testResult);
            c.labels.pc = Label_1.lub(c.labels.pc, b.label);
            label = Label_1.lub(label, b.label);
            if (!b.value) {
                c.popPC();
                return new Value_1.Value(false, label);
            }
        }
        k.value++;
    }
    c.popPC();
    return new Value_1.Value(true, label);
}
// ------------------------------------------------------------
// some, 15.4.4.17
function some(thisArg, args) {
    var callbackfn = args[0] || new Value_1.Value(undefined, Label_1.bot);
    var callbackthisArg = args[1] || new Value_1.Value(undefined, Label_1.bot);
    var O = ToObject_1.ToObject(thisArg);
    var lenVal = O.Get(constants.length);
    var len = ToUInt32_1.ToUInt32(lenVal);
    var c = monitor.context;
    var isCallable = IsCallable_1.IsCallable(callbackfn);
    var label = Label_1.lub(callbackfn.label);
    c.pushPC(callbackfn.label);
    if (!isCallable) {
        monitor.Throw("TypeError", 'Array.prototype.every: not a function', Label_1.bot);
    }
    var k = new Value_1.Value(0, len.label);
    c.labels.pc = Label_1.lub(c.labels.pc, len.label);
    label = Label_1.lub(label, len.label);
    while (k.value < len.value) {
        var kPresent = O.HasProperty(k);
        c.labels.pc = Label_1.lub(c.labels.pc, kPresent.label);
        label = Label_1.lub(label, kPresent.label);
        if (kPresent.value) {
            var kValue = O.Get(k);
            var testResult = callbackfn.Call(callbackthisArg, [kValue, k, O]);
            var b = ToBoolean_1.ToBoolean(testResult);
            c.labels.pc = Label_1.lub(c.labels.pc, b.label);
            label = Label_1.lub(label, b.label);
            if (b.value) {
                c.popPC();
                return new Value_1.Value(true, label);
            }
        }
        k.value++;
    }
    c.popPC();
    return new Value_1.Value(false, label);
}
// ------------------------------------------------------------
// forEach, 15.4.4.18
function forEach(thisArg, args) {
    var callbackfn = args[0] || new Value_1.Value(undefined, Label_1.bot);
    var callbackthisArg = args[1] || new Value_1.Value(undefined, Label_1.bot);
    var O = ToObject_1.ToObject(thisArg);
    var lenVal = O.Get(constants.length);
    var len = ToUInt32_1.ToUInt32(lenVal);
    var c = monitor.context;
    var isCallable = IsCallable_1.IsCallable(callbackfn);
    c.pushPC(callbackfn.label);
    if (!isCallable) {
        monitor.Throw("TypeError", 'Array.prototype.every: not a function', Label_1.bot);
    }
    var k = new Value_1.Value(0, len.label);
    c.labels.pc = Label_1.lub(c.labels.pc, len.label);
    while (k.value < len.value) {
        var kPresent = O.HasProperty(k);
        c.labels.pc = Label_1.lub(c.labels.pc, kPresent.label);
        if (kPresent.value) {
            var kValue = O.Get(k);
            callbackfn.Call(callbackthisArg, [kValue, k, O]);
        }
        k.value++;
    }
    c.popPC();
    return new Value_1.Value(undefined, Label_1.bot);
}
// ------------------------------------------------------------
// map, 15.4.4.19
function map(thisArg, args) {
    var callbackfn = args[0] || new Value_1.Value(undefined, Label_1.bot);
    var callbackthisArg = args[1] || new Value_1.Value(undefined, Label_1.bot);
    var O = ToObject_1.ToObject(thisArg);
    var lenVal = O.Get(constants.length);
    var len = ToUInt32_1.ToUInt32(lenVal);
    var c = monitor.context;
    var isCallable = IsCallable_1.IsCallable(callbackfn);
    c.pushPC(callbackfn.label);
    if (!isCallable) {
        monitor.Throw("TypeError", 'Array.prototype.every: not a function', Label_1.bot);
    }
    var A = new ArrayObject_1.ArrayObject();
    A.properties.length = len.value;
    A.labels.length = {
        value: len.label,
        existence: Label_1.bot
    };
    var k = new Value_1.Value(0, len.label);
    c.labels.pc = Label_1.lub(c.labels.pc, len.label);
    while (k.value < len.value) {
        var kPresent = O.HasProperty(k);
        c.labels.pc = Label_1.lub(c.labels.pc, kPresent.label);
        if (kPresent.value) {
            var kValue = O.Get(k);
            var mappedValue = callbackfn.Call(callbackthisArg, [kValue, k, O]);
            A.DefineOwnProperty(k, {
                value: mappedValue.value,
                label: mappedValue.label,
                writable: true,
                enumerable: true,
                configurable: true
            }, false);
        }
        k.value++;
    }
    c.popPC();
    return new Value_1.Value(A, Label_1.bot);
}
// ------------------------------------------------------------
// filter, 15.4.4.20
function filter(thisArg, args) {
    var callbackfn = args[0] || new Value_1.Value(undefined, Label_1.bot);
    var callbackthisArg = args[1] || new Value_1.Value(undefined, Label_1.bot);
    var O = ToObject_1.ToObject(thisArg);
    var lenVal = O.Get(constants.length);
    var len = ToUInt32_1.ToUInt32(lenVal);
    var c = monitor.context;
    var isCallable = IsCallable_1.IsCallable(callbackfn);
    c.pushPC(callbackfn.label);
    if (!isCallable) {
        monitor.Throw("TypeError", 'Array.prototype.every: not a function', Label_1.bot);
    }
    var A = new ArrayObject_1.ArrayObject();
    var k = new Value_1.Value(0, len.label);
    var to = new Value_1.Value(0, len.label);
    c.labels.pc = Label_1.lub(c.labels.pc, len.label);
    while (k.value < len.value) {
        var kPresent = O.HasProperty(k);
        c.labels.pc = Label_1.lub(c.labels.pc, kPresent.label);
        if (kPresent.value) {
            var kValue = O.Get(k);
            var selected = callbackfn.Call(callbackthisArg, [kValue, k, O]);
            selected = ToBoolean_1.ToBoolean(selected);
            c.labels.pc = Label_1.lub(c.labels.pc, selected.label);
            if (selected.value) {
                A.DefineOwnProperty(to, {
                    value: kValue.value,
                    label: kValue.label,
                    writable: true,
                    enumerable: true,
                    configurable: true
                }, false);
                to.value++;
            }
        }
        k.value++;
    }
    c.popPC();
    return new Value_1.Value(A, Label_1.bot);
}
// ------------------------------------------------------------
// reduce, 15.4.4.21
function reduce(thisArg, args) {
    var callbackfn = args[0] || new Value_1.Value(undefined, Label_1.bot);
    var initialValue = args[1];
    var O = ToObject_1.ToObject(thisArg);
    var lenVal = O.Get(constants.length);
    var len = ToUInt32_1.ToUInt32(lenVal);
    var c = monitor.context;
    var isCallable = IsCallable_1.IsCallable(callbackfn);
    var label = Label_1.lub(callbackfn.label);
    c.pushPC(callbackfn.label);
    if (!isCallable) {
        monitor.Throw("TypeError", 'Array.prototype.every: not a function', Label_1.bot);
    }
    var k = new Value_1.Value(0, len.label);
    var accumulator = new Value_1.Value(undefined, Label_1.bot);
    if (initialValue) {
        accumulator = initialValue;
    }
    else {
        var kPresent = new Value_1.Value(false, Label_1.bot);
        c.labels.pc = Label_1.lub(c.labels.pc, len.label);
        label = Label_1.lub(label, len.label);
        while (!kPresent.value && k.value < len.value) {
            kPresent = O.HasProperty(k);
            c.labels.pc = Label_1.lub(c.labels.pc, kPresent.label);
            label = Label_1.lub(label, kPresent.label);
            if (kPresent.value) {
                accumulator = O.Get(k);
            }
            k.value++;
        }
        if (!kPresent.value) {
            monitor.Throw("TypeError", 'Array.prototype.reduce: empty array with no initial value', Label_1.bot);
        }
    }
    while (k.value < len.value) {
        var kPresent = O.HasProperty(k);
        c.labels.pc = Label_1.lub(c.labels.pc, kPresent.label);
        label = Label_1.lub(label, kPresent.label);
        if (kPresent.value) {
            var kValue = O.Get(k);
            accumulator = callbackfn.Call(new Value_1.Value(undefined, Label_1.bot), [accumulator, kValue, k, O]);
        }
        k.value++;
    }
    c.popPC();
    accumulator.raise(label);
    return accumulator;
}
// ------------------------------------------------------------
// reduceRight, 15.4.4.22
function reduceRight(thisArg, args) {
    var callbackfn = args[0] || new Value_1.Value(undefined, Label_1.bot);
    var initialValue = args[1];
    var O = ToObject_1.ToObject(thisArg);
    var lenVal = O.Get(constants.length);
    var len = ToUInt32_1.ToUInt32(lenVal);
    var c = monitor.context;
    var isCallable = IsCallable_1.IsCallable(callbackfn);
    var label = Label_1.lub(callbackfn.label);
    c.pushPC(callbackfn.label);
    if (!isCallable) {
        monitor.Throw("TypeError", 'Array.prototype.every: not a function', Label_1.bot);
    }
    var k = new Value_1.Value(len.value - 1, len.label);
    var accumulator = new Value_1.Value(undefined, Label_1.bot);
    if (initialValue) {
        accumulator = initialValue;
    }
    else {
        var kPresent = new Value_1.Value(false, Label_1.bot);
        c.labels.pc = Label_1.lub(c.labels.pc, len.label);
        label = Label_1.lub(label, len.label);
        while (!kPresent.value && k.value >= 0) {
            kPresent = O.HasProperty(k);
            c.labels.pc = Label_1.lub(c.labels.pc, kPresent.label);
            label = Label_1.lub(label, kPresent.label);
            if (kPresent.value) {
                accumulator = O.Get(k);
            }
            k.value--;
        }
        if (!kPresent.value) {
            monitor.Throw("TypeError", 'Array.prototype.reduce: empty array with no initial value', Label_1.bot);
        }
    }
    while (k.value >= 0) {
        var kPresent = O.HasProperty(k);
        c.labels.pc = Label_1.lub(c.labels.pc, kPresent.label);
        label = Label_1.lub(label, kPresent.label);
        if (kPresent.value) {
            var kValue = O.Get(k);
            accumulator = callbackfn.Call(new Value_1.Value(undefined, Label_1.bot), [accumulator, kValue, k, O]);
        }
        k.value--;
    }
    c.popPC();
    accumulator.raise(label);
    return accumulator;
}

},{"../Constants":64,"../Conversion/ToBoolean":81,"../Conversion/ToInteger":83,"../Conversion/ToObject":85,"../Conversion/ToString":87,"../Conversion/ToUInt32":89,"../Define":91,"../Label":123,"../Objects/ArrayObject":132,"../Objects/BuiltinFunctionObject":134,"../Objects/EcmaObject":137,"../Utility/IsCallable":182,"../Value":184}],158:[function(require,module,exports){
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var Value_1 = require("../Value");
var constants = require("../Constants");
var BuiltinFunctionObject_1 = require("../Objects/BuiltinFunctionObject");
var Define_1 = require("../Define");
var EcmaObject_1 = require("../Objects/EcmaObject");
var Label_1 = require("../Label");
var BooleanObject_1 = require("../Objects/BooleanObject");
// 15.6.4 ------------------------------------------------------------
var BooleanPrototype = /** @class */ (function (_super) {
    __extends(BooleanPrototype, _super);
    function BooleanPrototype(host) {
        var _this = _super.call(this) || this;
        _this.Class = 'Boolean';
        _this.PrimitiveValue = new Boolean(false);
        _this.host = host;
        return _this;
    }
    BooleanPrototype.prototype.Setup = function () {
        this.Prototype = new Value_1.Value(monitor.instances.ObjectPrototype, Label_1.bot);
        Define_1.DefineTFT(this, constants.constructor, monitor.instances.BooleanConstructor);
        Define_1.DefineTFT(this, constants.toString, new BuiltinFunctionObject_1.BuiltinFunctionObject(toString, 0, this.host.toString));
        Define_1.DefineTFT(this, new Value_1.Value('valueOf', Label_1.bot), new BuiltinFunctionObject_1.BuiltinFunctionObject(valueOf, 0, this.host.valueOf));
    };
    return BooleanPrototype;
}(EcmaObject_1.EcmaObject));
exports.BooleanPrototype = BooleanPrototype;
// toString, 15.6.4.2 -----------------------------------------
function toString(thisArg, args) {
    var b = valueOf(thisArg, args);
    var s = b.value ? 'true' : 'false';
    return new Value_1.Value(s, b.label);
}
;
// valueOf, 15.6.4.3 ------------------------------------------ 
function valueOf(thisArg, args) {
    if (typeof thisArg.value === 'boolean') {
        return new Value_1.Value(thisArg.value, thisArg.label);
    }
    if (BooleanObject_1.IsBooleanObject(thisArg)) {
        return new Value_1.Value(thisArg.value.PrimitiveValue.valueOf(), thisArg.label);
    }
    monitor.Throw("TypeError", 'Boolean.prototype.valueOf is not generic', thisArg.label);
    throw 'TypeScript';
}
;

},{"../Constants":64,"../Define":91,"../Label":123,"../Objects/BooleanObject":133,"../Objects/BuiltinFunctionObject":134,"../Objects/EcmaObject":137,"../Value":184}],159:[function(require,module,exports){
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var Value_1 = require("../Value");
var constants = require("../Constants");
var BuiltinFunctionObject_1 = require("../Objects/BuiltinFunctionObject");
var ToNumber_1 = require("../Conversion/ToNumber");
var Define_1 = require("../Define");
var EcmaObject_1 = require("../Objects/EcmaObject");
var Label_1 = require("../Label");
var DateObject_1 = require("../Objects/DateObject");
// ------------------------------------------------------------
// The Date Prototype, 15.9.5
var DatePrototype = /** @class */ (function (_super) {
    __extends(DatePrototype, _super);
    function DatePrototype(host) {
        var _this = _super.call(this) || this;
        _this.Class = 'Date';
        _this.PrimitiveValue = new Value_1.Value(NaN, Label_1.bot);
        _this.host = host;
        return _this;
    }
    DatePrototype.prototype.Setup = function () {
        this.Prototype = new Value_1.Value(monitor.instances.ObjectPrototype, Label_1.bot);
        Define_1.DefineTFT(this, constants.constructor, monitor.instances.DateConstructor);
        Define_1.DefineTFT(this, constants.toString, new BuiltinFunctionObject_1.BuiltinFunctionObject(toString, 0, this.host.toString));
        Define_1.DefineTFT(this, constants.toDateString, new BuiltinFunctionObject_1.BuiltinFunctionObject(toDateString, 0, this.host.toDateString));
        Define_1.DefineTFT(this, constants.toTimeString, new BuiltinFunctionObject_1.BuiltinFunctionObject(toTimeString, 0, this.host.toTimeString));
        Define_1.DefineTFT(this, constants.toLocaleString, new BuiltinFunctionObject_1.BuiltinFunctionObject(toLocaleString, 0, this.host.toLocaleString));
        Define_1.DefineTFT(this, constants.toLocaleDateString, new BuiltinFunctionObject_1.BuiltinFunctionObject(toLocaleDateString, 0, this.host.toLocaleDateString));
        Define_1.DefineTFT(this, constants.toLocaleTimeString, new BuiltinFunctionObject_1.BuiltinFunctionObject(toLocaleTimeString, 0, this.host.toLocaleTimeString));
        Define_1.DefineTFT(this, new Value_1.Value('valueOf', Label_1.bot), new BuiltinFunctionObject_1.BuiltinFunctionObject(valueOf, 0, this.host.valueOf));
        Define_1.DefineTFT(this, constants.getTime, new BuiltinFunctionObject_1.BuiltinFunctionObject(getTime, 0, this.host.getTime));
        Define_1.DefineTFT(this, constants.getFullYear, new BuiltinFunctionObject_1.BuiltinFunctionObject(getFullYear, 0, this.host.getFullYear));
        Define_1.DefineTFT(this, constants.getUTCFullYear, new BuiltinFunctionObject_1.BuiltinFunctionObject(getUTCFullYear, 0, this.host.getUTCFullYear));
        Define_1.DefineTFT(this, constants.getMonth, new BuiltinFunctionObject_1.BuiltinFunctionObject(getMonth, 0, this.host.getMonth));
        Define_1.DefineTFT(this, constants.getUTCMonth, new BuiltinFunctionObject_1.BuiltinFunctionObject(getUTCMonth, 0, this.host.getUTCMonth));
        Define_1.DefineTFT(this, constants.getDate, new BuiltinFunctionObject_1.BuiltinFunctionObject(getDate, 0, this.host.getDate));
        Define_1.DefineTFT(this, constants.getUTCDate, new BuiltinFunctionObject_1.BuiltinFunctionObject(getUTCDate, 0, this.host.getUTCDate));
        Define_1.DefineTFT(this, constants.getDay, new BuiltinFunctionObject_1.BuiltinFunctionObject(getDay, 0, this.host.getDay));
        Define_1.DefineTFT(this, constants.getUTCDay, new BuiltinFunctionObject_1.BuiltinFunctionObject(getUTCDay, 0, this.host.getUTCDay));
        Define_1.DefineTFT(this, constants.getHours, new BuiltinFunctionObject_1.BuiltinFunctionObject(getHours, 0, this.host.getHours));
        Define_1.DefineTFT(this, constants.getUTCHours, new BuiltinFunctionObject_1.BuiltinFunctionObject(getUTCHours, 0, this.host.getUTCHours));
        Define_1.DefineTFT(this, constants.getMinutes, new BuiltinFunctionObject_1.BuiltinFunctionObject(getMinutes, 0, this.host.getMinutes));
        Define_1.DefineTFT(this, constants.getUTCMinutes, new BuiltinFunctionObject_1.BuiltinFunctionObject(getUTCMinutes, 0, this.host.getUTCMinutes));
        Define_1.DefineTFT(this, constants.getSeconds, new BuiltinFunctionObject_1.BuiltinFunctionObject(getSeconds, 0, this.host.getSeconds));
        Define_1.DefineTFT(this, constants.getUTCSeconds, new BuiltinFunctionObject_1.BuiltinFunctionObject(getUTCSeconds, 0, this.host.getUTCSeconds));
        Define_1.DefineTFT(this, constants.getMilliseconds, new BuiltinFunctionObject_1.BuiltinFunctionObject(getMilliseconds, 0, this.host.getMilliseconds));
        Define_1.DefineTFT(this, constants.getUTCMilliseconds, new BuiltinFunctionObject_1.BuiltinFunctionObject(getUTCMilliseconds, 0, this.host.getUTCMilliseconds));
        Define_1.DefineTFT(this, constants.getTimezoneOffset, new BuiltinFunctionObject_1.BuiltinFunctionObject(getTimezoneOffset, 0, this.host.getTimezoneOffset));
        Define_1.DefineTFT(this, constants.setTime, new BuiltinFunctionObject_1.BuiltinFunctionObject(setTime, 1, this.host.setTime));
        Define_1.DefineTFT(this, constants.setMilliseconds, new BuiltinFunctionObject_1.BuiltinFunctionObject(setMilliseconds, 0, this.host.setMilliseconds));
        Define_1.DefineTFT(this, constants.setUTCMilliseconds, new BuiltinFunctionObject_1.BuiltinFunctionObject(setUTCMilliseconds, 0, this.host.setUTCMilliseconds));
        Define_1.DefineTFT(this, constants.setSeconds, new BuiltinFunctionObject_1.BuiltinFunctionObject(setSeconds, 0, this.host.setSeconds));
        Define_1.DefineTFT(this, constants.setUTCSeconds, new BuiltinFunctionObject_1.BuiltinFunctionObject(setUTCSeconds, 0, this.host.setUTCSeconds));
        Define_1.DefineTFT(this, constants.setMinutes, new BuiltinFunctionObject_1.BuiltinFunctionObject(setMinutes, 0, this.host.setMinutes));
        Define_1.DefineTFT(this, constants.setUTCMinutes, new BuiltinFunctionObject_1.BuiltinFunctionObject(setUTCMinutes, 0, this.host.setUTCMinutes));
        Define_1.DefineTFT(this, constants.setHours, new BuiltinFunctionObject_1.BuiltinFunctionObject(setHours, 0, this.host.setHours));
        Define_1.DefineTFT(this, constants.setUTCHours, new BuiltinFunctionObject_1.BuiltinFunctionObject(setUTCHours, 0, this.host.setUTCHours));
        Define_1.DefineTFT(this, constants.setDate, new BuiltinFunctionObject_1.BuiltinFunctionObject(setDate, 0, this.host.setDate));
        Define_1.DefineTFT(this, constants.setUTCDate, new BuiltinFunctionObject_1.BuiltinFunctionObject(setUTCDate, 0, this.host.setUTCDate));
        Define_1.DefineTFT(this, constants.setMonth, new BuiltinFunctionObject_1.BuiltinFunctionObject(setMonth, 2, this.host.setMonth));
        Define_1.DefineTFT(this, constants.setUTCMonth, new BuiltinFunctionObject_1.BuiltinFunctionObject(setUTCMonth, 0, this.host.setUTCMonth));
        Define_1.DefineTFT(this, constants.setFullYear, new BuiltinFunctionObject_1.BuiltinFunctionObject(setFullYear, 0, this.host.setFullYear));
        Define_1.DefineTFT(this, constants.setUTCFullYear, new BuiltinFunctionObject_1.BuiltinFunctionObject(setUTCFullYear, 0, this.host.setUTCFullYear));
        Define_1.DefineTFT(this, constants.toUTCString, new BuiltinFunctionObject_1.BuiltinFunctionObject(toUTCString, 0, this.host.toUTCString));
        Define_1.DefineTFT(this, constants.toISOString, new BuiltinFunctionObject_1.BuiltinFunctionObject(toISOString, 0, this.host.toISOString));
        Define_1.DefineTFT(this, constants.toJSON, new BuiltinFunctionObject_1.BuiltinFunctionObject(toJSON, 0, this.host.toJSON));
        // @ts-ignore
        Define_1.DefineTFT(this, constants.setYear, new BuiltinFunctionObject_1.BuiltinFunctionObject(setYear, 1, this.host.setYear));
        // @ts-ignore
        Define_1.DefineTFT(this, constants.getYear, new BuiltinFunctionObject_1.BuiltinFunctionObject(getYear, 0, this.host.getYear));
        // @ts-ignore
        Define_1.DefineTFT(this, constants.toGMTString, new BuiltinFunctionObject_1.BuiltinFunctionObject(toUTCString, 0, this.host.toGTMString));
    };
    return DatePrototype;
}(EcmaObject_1.EcmaObject));
exports.DatePrototype = DatePrototype;
function assertDate(v, caller) {
    if (!DateObject_1.IsDateObject(v)) {
        monitor.context.pushPC(v.label);
        monitor.Throw("TypeError", caller + ' is not generic', Label_1.bot);
    }
}
// ------------------------------------------------------------
function mkGenericGet(fname) {
    return function (thisArg, args) {
        assertDate(thisArg, fname);
        var label = Label_1.lub(thisArg.label, thisArg.value.PrimitiveLabel);
        var date = thisArg.value.PrimitiveValue;
        var value = date[fname].call(date);
        return new Value_1.Value(value, label);
    };
}
// ------------------------------------------------------------
function mkGenericSet(fname) {
    return function (thisArg, args) {
        assertDate(thisArg, fname);
        var context = Label_1.lub(thisArg.label, monitor.context.effectivePC);
        monitor.assert(Label_1.le(context, thisArg.value.PrimitiveLabel), fname + ': context ' + context + ' not below state label of Date object ' + thisArg.value.PrimitiveLabel);
        var _args = [];
        var label = new Label_1.Label();
        for (var i = 0, len = args.length; i < len; i++) {
            var x = ToNumber_1.ToNumber(args[i]);
            label = Label_1.lub(label, x.label);
            _args[i] = x.value;
        }
        thisArg.value.PrimitiveLabel = Label_1.lub(thisArg.value.PrimitiveLabel, label);
        label = Label_1.lub(thisArg.label, thisArg.value.PrimitiveLabel);
        var date = thisArg.value.PrimitiveValue;
        var value = date[fname].apply(date, _args);
        return new Value_1.Value(value, label);
    };
}
// ------------------------------------------------------------
// toISOString, 15.9.5.43
var toISOString = mkGenericGet('toISOString');
// ------------------------------------------------------------
// toString, 15.9.5.2
var toString = mkGenericGet('toString');
// ------------------------------------------------------------
// toDateString, 15.9.5.?
var toDateString = mkGenericGet('toDateString');
// ------------------------------------------------------------
// toTimeString, 15.9.5.?
var toTimeString = mkGenericGet('toTimeString');
// ------------------------------------------------------------
// toLocaleString, 15.9.5.?
var toLocaleString = mkGenericGet('toLocaleString');
// ------------------------------------------------------------
// toLocaleDateString, 15.9.5.?
var toLocaleDateString = mkGenericGet('toLocaleDateString');
// ------------------------------------------------------------
// toLocaleTimeString, 15.9.5.?
var toLocaleTimeString = mkGenericGet('toLocaleTimeString');
// ------------------------------------------------------------
// valueOf, 15.9.5.?
function valueOf(thisArg, args) {
    assertDate(thisArg, 'valueOf');
    return new Value_1.Value(thisArg.value.PrimitiveValue.valueOf(), thisArg.label);
}
// ------------------------------------------------------------
// getTime, 15.9.5.9
var getTime = mkGenericGet('getTime');
// ------------------------------------------------------------
// getFullYear, 15.9.5.?
var getFullYear = mkGenericGet('getFullYear');
// ------------------------------------------------------------
// getUTCFullYear, 15.9.5.?
var getUTCFullYear = mkGenericGet('getUTCFullYear');
// ------------------------------------------------------------
// getMonth, 15.9.5.?
var getMonth = mkGenericGet('getMonth');
// ------------------------------------------------------------
// getUTCMonth, 15.9.5.?
var getUTCMonth = mkGenericGet('getUTCMonth');
// ------------------------------------------------------------
// getDate, 15.9.5.?
var getDate = mkGenericGet('getDate');
// ------------------------------------------------------------
// getUTCDate, 15.9.5.?
var getUTCDate = mkGenericGet('getUTCDate');
// ------------------------------------------------------------
// getDay, 15.9.5.?
var getDay = mkGenericGet('getDay');
// ------------------------------------------------------------
// getUTCDay, 15.9.5.?
var getUTCDay = mkGenericGet('getUTCDay');
// ------------------------------------------------------------
// getHours, 15.9.5.?
var getHours = mkGenericGet('getHours');
// ------------------------------------------------------------
// getUTCHours, 15.9.5.?
var getUTCHours = mkGenericGet('getUTCHours');
// ------------------------------------------------------------
// getMinutes, 15.9.5.?
var getMinutes = mkGenericGet('getMinutes');
// ------------------------------------------------------------
// getUTCMinutes, 15.9.5.?
var getUTCMinutes = mkGenericGet('getUTCMinutes');
// ------------------------------------------------------------
// getSeconds, 15.9.5.?
var getSeconds = mkGenericGet('getSeconds');
// ------------------------------------------------------------
// getUTCSeconds, 15.9.5.?
var getUTCSeconds = mkGenericGet('getUTCSeconds');
// ------------------------------------------------------------
// getMilliseconds, 15.9.5.?
var getMilliseconds = mkGenericGet('getMilliseconds');
// ------------------------------------------------------------
// getUTCMilliseconds, 15.9.5.?
var getUTCMilliseconds = mkGenericGet('getUTCMilliseconds');
// ------------------------------------------------------------
// getTimezoneOffset, 15.9.5.?
var getTimezoneOffset = mkGenericGet('getTimezoneOffset');
// ------------------------------------------------------------
// setTime, 15.9.5.?
var setTime = mkGenericSet('setTime');
// ------------------------------------------------------------
// setMilliseconds, 15.9.5.?
var setMilliseconds = mkGenericSet('setMilliseconds');
// ------------------------------------------------------------
// setUTCMilliseconds, 15.9.5.?
var setUTCMilliseconds = mkGenericSet('setUTCMilliseconds');
// ------------------------------------------------------------
// setSeconds, 15.9.5.?
var setSeconds = mkGenericSet('setSeconds');
// ------------------------------------------------------------
// setUTCSeconds, 15.9.5.?
var setUTCSeconds = mkGenericSet('setUTCSeconds');
// ------------------------------------------------------------
// setMinutes, 15.9.5.?
var setMinutes = mkGenericSet('setMinutes');
// ------------------------------------------------------------
// setUTCMinutes, 15.9.5.?
var setUTCMinutes = mkGenericSet('setUTCMinutes');
// ------------------------------------------------------------
// setHours, 15.9.5.?
var setHours = mkGenericSet('setHours');
// ------------------------------------------------------------
// setUTCHours, 15.9.5.?
var setUTCHours = mkGenericSet('setUTCHours');
// ------------------------------------------------------------
// setDate, 15.9.5.?
var setDate = mkGenericSet('setDate');
// ------------------------------------------------------------
// setUTCDate, 15.9.5.?
var setUTCDate = mkGenericSet('setUTCDate');
// ------------------------------------------------------------
// setMonth, 15.9.5.?
var setMonth = mkGenericSet('setMonth');
// ------------------------------------------------------------
// setUTCMonth, 15.9.5.?
var setUTCMonth = mkGenericSet('setUTCMonth');
// ------------------------------------------------------------
// setFullYear, 15.9.5.?
var setFullYear = mkGenericSet('setFullYear');
// ------------------------------------------------------------
// setUTCFullYear, 15.9.5.?
var setUTCFullYear = mkGenericSet('setUTCFullYear');
// ------------------------------------------------------------
// toUTCString, 15.9.5.?
var toUTCString = mkGenericGet('toUTCString');
// ------------------------------------------------------------
// toJSON, 15.9.5.?
var toJSON = mkGenericGet('toJSON');
// ------------------------------------------------------------
// getYear, B.2.4
var getYear = mkGenericGet('getYear');
// ------------------------------------------------------------
// setYear, B.2.5
var setYear = mkGenericSet('setYear');
// ------------------------------------------------------------
// setYear, B.2.6
var toGMTString = mkGenericSet('toGMTString');

},{"../Constants":64,"../Conversion/ToNumber":84,"../Define":91,"../Label":123,"../Objects/BuiltinFunctionObject":134,"../Objects/DateObject":136,"../Objects/EcmaObject":137,"../Value":184}],160:[function(require,module,exports){
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var Value_1 = require("../Value");
var EcmaObject_1 = require("../Objects/EcmaObject");
var constants = require("../Constants");
var BuiltinFunctionObject_1 = require("../Objects/BuiltinFunctionObject");
var ToString_1 = require("../Conversion/ToString");
var Define_1 = require("../Define");
var Label_1 = require("../Label");
// ------------------------------------------------------------
// 15.11.4 The Error Prototype
var ErrorPrototype = /** @class */ (function (_super) {
    __extends(ErrorPrototype, _super);
    function ErrorPrototype(host) {
        var _this = _super.call(this) || this;
        _this.Class = 'Error';
        _this.host = host;
        return _this;
    }
    ErrorPrototype.prototype.Setup = function () {
        this.SetupBase(monitor.instances.ErrorConstructor, 'Error');
    };
    ErrorPrototype.prototype.SetupBase = function (constructor, name) {
        this.Prototype = new Value_1.Value(monitor.instances.ObjectPrototype, Label_1.bot);
        Define_1.DefineTFT(this, constants.constructor, constructor);
        Define_1.DefineTFT(this, constants.name, name);
        Define_1.DefineTFT(this, constants.message, '');
        Define_1.DefineTFT(this, constants.toString, new BuiltinFunctionObject_1.BuiltinFunctionObject(tostring, 0, undefined));
    };
    return ErrorPrototype;
}(EcmaObject_1.EcmaObject));
exports.ErrorPrototype = ErrorPrototype;
// ------------------------------------------------------------
function tostring(thisArg, args) {
    var c = monitor.context;
    if (thisArg.value === null || typeof thisArg.value !== 'object') {
        c.pushPC(thisArg.label);
        monitor.Throw("TypeError", 'Error object expected', Label_1.bot);
    }
    var name = thisArg.Get(constants.name);
    if (name.value === undefined) {
        name.value = 'Error';
    }
    else {
        c.pushPC(name.label);
        name = ToString_1.ToString(name);
        c.popPC();
    }
    var msg = thisArg.Get(constants.message);
    if (msg.value === undefined) {
        msg.value = '';
    }
    else {
        c.pushPC(msg.label);
        msg = ToString_1.ToString(msg);
        c.popPC();
    }
    if (name.value === '') {
        msg.raise(name.label);
        return msg;
    }
    if (msg.value === '') {
        name.raise(msg.label);
        return name;
    }
    name.value += ': ' + msg.value;
    name.raise(msg.label);
    return name;
}

},{"../Constants":64,"../Conversion/ToString":87,"../Define":91,"../Label":123,"../Objects/BuiltinFunctionObject":134,"../Objects/EcmaObject":137,"../Value":184}],161:[function(require,module,exports){
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var ErrorPrototype_1 = require("./ErrorPrototype");
var EvalErrorPrototype = /** @class */ (function (_super) {
    __extends(EvalErrorPrototype, _super);
    function EvalErrorPrototype(host) {
        return _super.call(this, host) || this;
    }
    EvalErrorPrototype.prototype.Setup = function () {
        this.SetupBase(monitor.instances.ErrorConstructor, 'EvalError');
    };
    return EvalErrorPrototype;
}(ErrorPrototype_1.ErrorPrototype));
exports.EvalErrorPrototype = EvalErrorPrototype;

},{"./ErrorPrototype":160}],162:[function(require,module,exports){
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var Label_1 = require("../Label");
var Value_1 = require("../Value");
var Define_1 = require("../Define");
var EcmaObject_1 = require("../Objects/EcmaObject");
var constants = require("../Constants");
var BuiltinFunctionObject_1 = require("../Objects/BuiltinFunctionObject");
var ToUInt32_1 = require("../Conversion/ToUInt32");
var IsCallable_1 = require("../Utility/IsCallable");
var ThrowTypeError_1 = require("../ThrowTypeError");
// ------------------------------------------------------------
// Function Prototype, 15.3.4
var FunctionPrototype = /** @class */ (function (_super) {
    __extends(FunctionPrototype, _super);
    function FunctionPrototype(host) {
        var _this_1 = _super.call(this) || this;
        // 15.3.4
        _this_1.Class = 'Function';
        _this_1.Extensible = true;
        _this_1.host = host;
        return _this_1;
    }
    FunctionPrototype.prototype.Setup = function () {
        // 15.3.4.1
        Define_1.DefineTFT(this, constants.constructor, monitor.instances.FunctionConstructor);
        this.Prototype = new Value_1.Value(monitor.instances.ObjectPrototype, Label_1.bot);
        Define_1.DefineFFT(this, constants.length, 0);
        Define_1.DefineTFT(this, constants.toString, new BuiltinFunctionObject_1.BuiltinFunctionObject(toString, 0, Function.prototype.toString));
        Define_1.DefineTFT(this, constants.apply, new BuiltinFunctionObject_1.BuiltinFunctionObject(apply, 2, Function.prototype.apply));
        Define_1.DefineTFT(this, constants.call, new BuiltinFunctionObject_1.BuiltinFunctionObject(call, 1, Function.prototype.call));
        Define_1.DefineTFT(this, constants.bind, new BuiltinFunctionObject_1.BuiltinFunctionObject(bind, 1, Function.prototype.bind));
    };
    // 15.3.4
    FunctionPrototype.prototype.Call = function (thisArg, args) {
        return new Value_1.Value(undefined, Label_1.bot);
    };
    FunctionPrototype.prototype.Construct = function (args) {
        return new Value_1.Value(undefined, Label_1.bot);
    };
    return FunctionPrototype;
}(EcmaObject_1.EcmaObject));
exports.FunctionPrototype = FunctionPrototype;
// ------------------------------------------------------------
// 15.3.4.2 - Implementation Dependent
function toString(thisArg, args) {
    return new Value_1.Value(String(thisArg.value), thisArg.label);
}
// ------------------------------------------------------------
// 15.3.4.3
function apply(thisArg, args) {
    var _this = args[0] ? args[0] : new Value_1.Value(undefined, Label_1.bot);
    var argArray = args[1] ? args[1] : new Value_1.Value(undefined, Label_1.bot);
    monitor.context.pushPC(thisArg.label);
    if (!IsCallable_1.IsCallable(thisArg)) {
        monitor.Throw("TypeError", 'apply, not a function', Label_1.bot);
    }
    monitor.context.raisePC(argArray.label);
    if (argArray.value === null || argArray.value === undefined) {
        var res_1 = thisArg.Call(_this, []);
        monitor.context.popPC();
        return res_1;
    }
    if (typeof argArray.value !== 'object' || argArray.value.Class === undefined) {
        monitor.Throw("TypeError", 'apply, argument array not an object', Label_1.bot);
    }
    var len = argArray.Get(constants.length);
    var n = ToUInt32_1.ToUInt32(len);
    var argList = [];
    for (var index = 0; index < n.value; index++) {
        var nextArg = argArray.Get(new Value_1.Value(index, n.label));
        argList.push(nextArg);
    }
    // Since we cannot transfer the structural or existence info to
    //  the array used by Call, we raise the context accordingly.
    //  This is sound, but potentially an over approximation.
    monitor.context.raisePC(n.label);
    var res = thisArg.Call(_this, argList);
    monitor.context.popPC();
    return res;
}
// ------------------------------------------------------------
// 15.3.4.4
function call(thisArg, args) {
    var _this = args[0] ? args[0] : new Value_1.Value(undefined, Label_1.bot);
    var argList = [];
    for (var i = 1; i < args.length; i++) {
        argList[i - 1] = args[i];
    }
    monitor.context.pushPC(thisArg.label);
    if (!IsCallable_1.IsCallable(thisArg)) {
        monitor.Throw("TypeError", 'call, not a function', Label_1.bot);
    }
    var res = thisArg.Call(_this, argList);
    monitor.context.popPC();
    return res;
}
// ------------------------------------------------------------
// 15.3.4.5
function bind(thisArg, args) {
    var Target = thisArg;
    var _this = args[0] ? args[0] : new Value_1.Value(undefined, Label_1.bot);
    var argList = [];
    for (var i = 1; i < args.length; i++) {
        argList[i - 1] = args[i];
    }
    if (!IsCallable_1.IsCallable(Target)) {
        monitor.Throw("TypeError", 'bind: Target is not a function', Label_1.bot);
    }
    var F = new EcmaObject_1.EcmaObject();
    //@ts-ignore TYPES
    F.TargetFunction = Target;
    //@ts-ignore TYPES
    F.BoundThis = _this;
    //@ts-ignore TYPES
    F.BoundArgs = argList;
    F.Class = 'Function';
    F.Prototype = new Value_1.Value(monitor.instances.FunctionPrototype, Label_1.bot);
    //@ts-ignore TYPES
    F.Call = function (_thisVal, ExtraArgs) {
        //@ts-ignore TYPES
        var boundArgs = F.BoundArgs;
        //@ts-ignore TYPES
        var boundThis = F.BoundThis;
        //@ts-ignore TYPES
        var target = F.TargetFunction;
        var args = boundArgs.concat(ExtraArgs);
        return target.Call(boundThis, args);
    };
    //@ts-ignore TYPES
    F.Construct = function (ExtraArgs) {
        //@ts-ignore TYPES
        var target = F.TargetFunction;
        if (!target.Construct) {
            monitor.Throw("TypeError", 'bind construct: no internal method Construct', Label_1.bot);
        }
        //@ts-ignore TYPES
        var boundArgs = F.BoundArgs;
        var args = boundArgs.concat(ExtraArgs);
        return target.Construct(args);
    };
    //@ts-ignore TYPES
    F.HasInstance = function (V) {
        //@ts-ignore TYPES
        var target = F.TargetFunction;
        if (!target.HasInstance) {
            monitor.Throw("TypeError", 'bind HasInstance: no internal method HasInstance', Label_1.bot);
        }
        return target.HasInstance(V);
    };
    //@ts-ignore TYPES
    if (Target.Class === "Function") {
        //@ts-ignore TYPES
        var L = Target.length - args.length;
        //@ts-ignore TYPES
        F.length = L > 0 ? L : 0;
    }
    else {
        //@ts-ignore TYPES
        F.length = 0;
    }
    //@ts-ignore TYPES
    Define_1.DefineFFF(F, constants.length, F.length);
    F.Extensible = true;
    var thrower = ThrowTypeError_1.ThrowTypeError.Instance;
    F.DefineOwnProperty(constants.caller, {
        //@ts-ignore TYPES
        get: thrower,
        //@ts-ignore TYPES
        set: thrower,
        enumerable: false, configurable: false,
        label: Label_1.bot
    }, false);
    F.DefineOwnProperty(constants.arguments, {
        //@ts-ignore TYPES
        get: thrower,
        //@ts-ignore TYPES
        set: thrower,
        enumerable: false, configurable: false,
        label: Label_1.bot
    }, false);
    return new Value_1.Value(F, Label_1.bot);
}

},{"../Constants":64,"../Conversion/ToUInt32":89,"../Define":91,"../Label":123,"../Objects/BuiltinFunctionObject":134,"../Objects/EcmaObject":137,"../ThrowTypeError":177,"../Utility/IsCallable":182,"../Value":184}],163:[function(require,module,exports){
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var Label_1 = require("../Label");
var Value_1 = require("../Value");
var Define_1 = require("../Define");
var EcmaObject_1 = require("../Objects/EcmaObject");
var constants = require("../Constants");
var BuiltinFunctionObject_1 = require("../Objects/BuiltinFunctionObject");
var ToInteger_1 = require("../Conversion/ToInteger");
var ToString_1 = require("../Conversion/ToString");
var NumberObject_1 = require("../Objects/NumberObject");
// ------------------------------------------------------------
// The Number Prototype, 15.7.4
var NumberPrototype = /** @class */ (function (_super) {
    __extends(NumberPrototype, _super);
    function NumberPrototype(host) {
        var _this = _super.call(this) || this;
        _this.Class = 'Number';
        _this.PrimitiveValue = new Number(0);
        _this.PrimitiveLabel = Label_1.bot;
        _this.host = host;
        return _this;
    }
    NumberPrototype.prototype.Setup = function () {
        this.Prototype = new Value_1.Value(monitor.instances.ObjectPrototype, Label_1.bot);
        Define_1.DefineTFT(this, constants.constructor, monitor.instances.NumberConstructor);
        Define_1.DefineTFT(this, constants.toString, new BuiltinFunctionObject_1.BuiltinFunctionObject(toString, 1, this.host.toString));
        Define_1.DefineTFT(this, constants.toLocaleString, new BuiltinFunctionObject_1.BuiltinFunctionObject(toLocaleString, 0, this.host.toLocaleString));
        Define_1.DefineTFT(this, new Value_1.Value('valueOf', Label_1.bot), new BuiltinFunctionObject_1.BuiltinFunctionObject(valueOf, 0, this.host.valueOf));
        Define_1.DefineTFT(this, constants.toFixed, new BuiltinFunctionObject_1.BuiltinFunctionObject(toFixed, 0, this.host.toFixed));
        Define_1.DefineTFT(this, constants.toExponential, new BuiltinFunctionObject_1.BuiltinFunctionObject(toExponential, 0, this.host.toExponential));
        Define_1.DefineTFT(this, constants.toPrecision, new BuiltinFunctionObject_1.BuiltinFunctionObject(toPrecision, 0, this.host.toPrecision));
    };
    return NumberPrototype;
}(EcmaObject_1.EcmaObject));
exports.NumberPrototype = NumberPrototype;
function assertNumber(v, caller) {
    if (NumberObject_1.IsNumberObject(v)) {
        return v.value.PrimitiveValue.valueOf();
    }
    if (typeof v.value == "number") {
        return v.value;
    }
    monitor.context.pushPC(v.label);
    monitor.Throw("TypeError", caller + ' is not generic', Label_1.bot);
}
function IsNumberObjectOrNumber(x) {
    return typeof x.value === 'number' || NumberObject_1.IsNumberObject(x);
}
// ------------------------------------------------------------
// toString, 15.7.4.2
function toString(thisArg, args) {
    if (!IsNumberObjectOrNumber(thisArg)) {
        monitor.Throw("TypeError", 'Number.prototype.toString is not generic', thisArg.label);
        throw 'TypeScript';
    }
    var arg0 = args[0] || new Value_1.Value(undefined, Label_1.bot);
    if (arg0.value === undefined) {
        arg0.value = 10;
    }
    var radix = ToInteger_1.ToInteger(arg0);
    if (typeof thisArg.value === 'number') {
        var result = thisArg.value.toString(radix.value);
        return new Value_1.Value(result, Label_1.lub(thisArg.label, radix.label));
    }
    else {
        var result = thisArg.value.PrimitiveValue.toString(radix.value);
        return new Value_1.Value(result, Label_1.lub(thisArg.value.PrimitiveLabel, radix.label));
    }
}
;
// ------------------------------------------------------------
// toLocaleString, 15.7.4.3
function toLocaleString(thisArg, args) {
    var newArgs = args.length > 0 ? args.slice(1) : args;
    return toString(thisArg, newArgs);
}
// ------------------------------------------------------------
// valueOf, 15.7.4.4
function valueOf(thisArg, args) {
    if (!IsNumberObjectOrNumber(thisArg)) {
        monitor.Throw("TypeError", 'Number.prototype.toString is not generic', thisArg.label);
        throw 'TypeScript';
    }
    if (typeof thisArg.value === 'number') {
        return new Value_1.Value(thisArg.value, thisArg.label);
    }
    var result = thisArg.value.PrimitiveValue.valueOf();
    return new Value_1.Value(result, thisArg.value.PrimitiveLabel);
}
;
// ------------------------------------------------------------
// toFixed, 15.7.4.5
function toFixed(thisArg, args) {
    var primitiveValue = assertNumber(thisArg, 'toFixed');
    var arg0 = args[0] ? args[0] : new Value_1.Value(undefined, Label_1.bot);
    var precision = ToInteger_1.ToInteger(arg0);
    return new Value_1.Value(primitiveValue.toFixed(precision.value), Label_1.lub(precision.label, thisArg.label));
}
;
// ------------------------------------------------------------
// toExponential, 15.7.4.6
function toExponential(thisArg, args) {
    var primitiveValue = assertNumber(thisArg, 'toExponential');
    var arg0 = args[0] ? args[0] : new Value_1.Value(undefined, Label_1.bot);
    var precision = ToInteger_1.ToInteger(arg0);
    return new Value_1.Value(primitiveValue.toExponential(precision.value), Label_1.lub(precision.label, thisArg.label));
}
;
// ------------------------------------------------------------
// toPrecision, 15.7.4.7
function toPrecision(thisArg, args) {
    var primitiveValue = assertNumber(thisArg, 'toPrecision');
    var arg0 = args[0] ? args[0] : new Value_1.Value(undefined, Label_1.bot);
    var lbl = Label_1.lub(arg0.label, thisArg.label);
    if (arg0.value === undefined) {
        var strX = ToString_1.ToString(thisArg); //step 2
        return new Value_1.Value(strX.value, lbl);
    }
    var precision = ToInteger_1.ToInteger(arg0); //step 3
    if (primitiveValue === NaN)
        return new Value_1.Value('NaN', lbl); //step 4
    return new Value_1.Value(primitiveValue.toPrecision(precision.value), lbl);
}
;

},{"../Constants":64,"../Conversion/ToInteger":83,"../Conversion/ToString":87,"../Define":91,"../Label":123,"../Objects/BuiltinFunctionObject":134,"../Objects/EcmaObject":137,"../Objects/NumberObject":145,"../Value":184}],164:[function(require,module,exports){
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var Label_1 = require("../Label");
var Value_1 = require("../Value");
var Define_1 = require("../Define");
var EcmaObject_1 = require("../Objects/EcmaObject");
var constants = require("../Constants");
var BuiltinFunctionObject_1 = require("../Objects/BuiltinFunctionObject");
var ToString_1 = require("../Conversion/ToString");
var ToObject_1 = require("../Conversion/ToObject");
var IsCallable_1 = require("../Utility/IsCallable");
// ------------------------------------------------------------
// The object prototype, 15.2.4
var ObjectPrototype = /** @class */ (function (_super) {
    __extends(ObjectPrototype, _super);
    function ObjectPrototype(host) {
        var _this = _super.call(this) || this;
        _this.Prototype = new Value_1.Value(null, Label_1.bot);
        _this.Class = 'Object';
        _this.Extensible = true;
        _this.host = host;
        return _this;
    }
    ObjectPrototype.prototype.Setup = function () {
        // 15.2.4.1
        Define_1.DefineTFT(this, constants.constructor, monitor.instances.ObjectConstructor);
        Define_1.DefineTFT(this, constants.toString, new BuiltinFunctionObject_1.BuiltinFunctionObject(toString, 0, Object.prototype.toString));
        Define_1.DefineTFT(this, constants.toLocaleString, new BuiltinFunctionObject_1.BuiltinFunctionObject(toLocaleString, 0, Object.prototype.toLocaleString));
        Define_1.DefineTFT(this, new Value_1.Value('valueOf', Label_1.bot), new BuiltinFunctionObject_1.BuiltinFunctionObject(valueOf, 0, Object.prototype.valueOf));
        Define_1.DefineTFT(this, constants.hasOwnProperty, new BuiltinFunctionObject_1.BuiltinFunctionObject(hasOwnProperty, 1, Object.prototype.hasOwnProperty));
        Define_1.DefineTFT(this, constants.isPrototypeOf, new BuiltinFunctionObject_1.BuiltinFunctionObject(isPrototypeOf, 1, Object.prototype.isPrototypeOf));
        Define_1.DefineTFT(this, constants.propertyIsEnumerable, new BuiltinFunctionObject_1.BuiltinFunctionObject(propertyIsEnumerable, 1, Object.prototype.propertyIsEnumerable));
    };
    return ObjectPrototype;
}(EcmaObject_1.EcmaObject));
exports.ObjectPrototype = ObjectPrototype;
// ------------------------------------------------------------
// Object.prototype.toString(), 15.2.4.2
function toString(thisArg, args) {
    if (thisArg.value === undefined)
        return new Value_1.Value('[object Undefined]', thisArg.label);
    if (thisArg.value === null)
        return new Value_1.Value('[object Null]', thisArg.label);
    var O = ToObject_1.ToObject(thisArg);
    return new Value_1.Value('[object ' + O.value.Class + ']', thisArg.label);
}
// ------------------------------------------------------------
// 15.2.4.3
function toLocaleString(thisArg, args) {
    var O = ToObject_1.ToObject(thisArg);
    var toString = O.Get(constants.toString);
    var result;
    monitor.context.pushPC(toString.label);
    if (IsCallable_1.IsCallable(toString)) {
        result = toString.Call(O, []);
        result.raise(toString.label);
    }
    else {
        monitor.Throw("TypeError", "property 'toString' of object " + O + " is not a function ", Label_1.bot);
    }
    monitor.context.popPC();
    return result;
}
// ------------------------------------------------------------
// 15.2.4.4
function valueOf(thisArg, args) {
    var o = ToObject_1.ToObject(thisArg);
    return o;
}
// ------------------------------------------------------------
// 15.2.4.5
function hasOwnProperty(thisArg, args) {
    var V = args[0] || new Value_1.Value(undefined, Label_1.bot);
    var P = ToString_1.ToString(V);
    var O = ToObject_1.ToObject(thisArg);
    var desc = O.GetOwnProperty(P);
    var result = desc.value !== undefined;
    return new Value_1.Value(result, desc.label);
}
// ------------------------------------------------------------
// 15.2.4.6
function isPrototypeOf(thisArg, args) {
    var c = monitor.context;
    var V = args[0] || new Value_1.Value(undefined, Label_1.bot);
    if (V.value === null || V.value === undefined || typeof V.value !== 'object') {
        return new Value_1.Value(false, V.label);
    }
    c.pushPC(V.label);
    var O = ToObject_1.ToObject(thisArg);
    c.popPC();
    var lbl = Label_1.lub(V.label);
    var P = V.value.Prototype;
    while (true) {
        lbl = Label_1.lub(lbl, P.label);
        if (P.value === null) {
            return new Value_1.Value(false, lbl);
        }
        if (O.value === P.value) {
            return new Value_1.Value(true, lbl);
        }
        if (P === undefined) {
            throw new Error('Object.prototype.isPrototypeOf: object with undefined prototype');
        }
        P = P.value.Prototype;
    }
}
// ------------------------------------------------------------
// 15.2.4.7
function propertyIsEnumerable(thisArg, args) {
    var V = args[0] || new Value_1.Value(undefined, Label_1.bot);
    var P = ToString_1.ToString(V);
    var O = ToObject_1.ToObject(thisArg);
    var desc = O.GetOwnProperty(P);
    if (desc.value === undefined) {
        return new Value_1.Value(false, desc.label);
    }
    return new Value_1.Value(desc.value.enumerable === true, Label_1.lub(desc.label, desc.value.label));
}

},{"../Constants":64,"../Conversion/ToObject":85,"../Conversion/ToString":87,"../Define":91,"../Label":123,"../Objects/BuiltinFunctionObject":134,"../Objects/EcmaObject":137,"../Utility/IsCallable":182,"../Value":184}],165:[function(require,module,exports){
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var ErrorPrototype_1 = require("./ErrorPrototype");
var RangeErrorPrototype = /** @class */ (function (_super) {
    __extends(RangeErrorPrototype, _super);
    function RangeErrorPrototype(host) {
        return _super.call(this, host) || this;
    }
    RangeErrorPrototype.prototype.Setup = function () {
        this.SetupBase(monitor.instances.ErrorConstructor, 'RangeError');
    };
    return RangeErrorPrototype;
}(ErrorPrototype_1.ErrorPrototype));
exports.RangeErrorPrototype = RangeErrorPrototype;

},{"./ErrorPrototype":160}],166:[function(require,module,exports){
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var ErrorPrototype_1 = require("./ErrorPrototype");
var ReferenceErrorPrototype = /** @class */ (function (_super) {
    __extends(ReferenceErrorPrototype, _super);
    function ReferenceErrorPrototype(host) {
        return _super.call(this, host) || this;
    }
    ReferenceErrorPrototype.prototype.Setup = function () {
        this.SetupBase(monitor.instances.ErrorConstructor, 'ReferenceError');
    };
    return ReferenceErrorPrototype;
}(ErrorPrototype_1.ErrorPrototype));
exports.ReferenceErrorPrototype = ReferenceErrorPrototype;

},{"./ErrorPrototype":160}],167:[function(require,module,exports){
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var Value_1 = require("../Value");
var constants = require("../Constants");
var BuiltinFunctionObject_1 = require("../Objects/BuiltinFunctionObject");
var ArrayObject_1 = require("../Objects/ArrayObject");
var ToInteger_1 = require("../Conversion/ToInteger");
var ToString_1 = require("../Conversion/ToString");
var Label_1 = require("../Label");
var Define_1 = require("../Define");
var EcmaObject_1 = require("../Objects/EcmaObject");
var RegExpObject_1 = require("../Objects/RegExpObject");
// ------------------------------------------------------------
// The RegExp Prototype, 15.10.6
var RegExpPrototype = /** @class */ (function (_super) {
    __extends(RegExpPrototype, _super);
    function RegExpPrototype(host) {
        var _this = _super.call(this) || this;
        _this.Class = 'RegExp';
        _this.host = host;
        return _this;
    }
    RegExpPrototype.prototype.Setup = function () {
        this.Prototype = new Value_1.Value(monitor.instances.ObjectPrototype, Label_1.bot);
        Define_1.DefineFFF(this, constants.source, '');
        Define_1.DefineFFF(this, constants.global, false);
        Define_1.DefineFFF(this, constants.ignoreCase, false);
        Define_1.DefineFFF(this, constants.multiline, false);
        Define_1.DefineTFF(this, constants.lastIndex, 0);
        Define_1.DefineTFT(this, constants.constructor, monitor.instances.RegExpConstructor);
        Define_1.DefineTFT(this, constants.exec, new BuiltinFunctionObject_1.BuiltinFunctionObject(exec, 1, RegExp.prototype.exec));
        Define_1.DefineTFT(this, constants.test, new BuiltinFunctionObject_1.BuiltinFunctionObject(test, 1, RegExp.prototype.test));
        Define_1.DefineTFT(this, constants.toString, new BuiltinFunctionObject_1.BuiltinFunctionObject(toString, 0, RegExp.prototype.toString));
    };
    return RegExpPrototype;
}(EcmaObject_1.EcmaObject));
exports.RegExpPrototype = RegExpPrototype;
function assertRegExp(v, caller) {
    if (!RegExpObject_1.IsRegExpObject(v)) {
        monitor.context.pushPC(v.label);
        monitor.Throw("TypeError", caller + ' is not generic', Label_1.bot);
    }
}
// ------------------------------------------------------------
// exec, 15.10.6.2
function exec(thisArg, args) {
    assertRegExp(thisArg, 'exec');
    var string = args[0] || new Value_1.Value(undefined, Label_1.bot);
    var S = ToString_1.ToString(string);
    var lastIndex = ToInteger_1.ToInteger(thisArg.Get(constants.lastIndex));
    var pre = thisArg.value.PrimitiveValue;
    pre.lastIndex = lastIndex.value;
    var res = pre.exec(S.value);
    var l = Label_1.lub(thisArg.label, S.label, lastIndex.label);
    if (res === null) {
        return new Value_1.Value(null, l);
    }
    thisArg.Put(constants.lastIndex, new Value_1.Value(pre.lastIndex, l));
    var array = ArrayObject_1.ArrayObject.fromArray(res, l, l);
    array.DefineOwnProperty(constants.index, {
        value: res.index,
        writable: true,
        enumerable: true,
        configurable: true,
        label: l
    });
    array.DefineOwnProperty(constants.input, {
        value: res.input,
        writable: true,
        enumerable: true,
        configurable: true,
        label: l
    });
    return new Value_1.Value(array, Label_1.bot);
}
// ------------------------------------------------------------
// test, 15.10.6.3
function test(thisArg, args) {
    assertRegExp(thisArg, 'test');
    var res = exec(thisArg, args);
    return new Value_1.Value(res.value !== null, res.label);
}
// ------------------------------------------------------------
// toString, 15.10.6.3
function toString(thisArg, args) {
    assertRegExp(thisArg, 'toString');
    return new Value_1.Value(thisArg.value.PrimitiveValue.toString(), thisArg.label);
}

},{"../Constants":64,"../Conversion/ToInteger":83,"../Conversion/ToString":87,"../Define":91,"../Label":123,"../Objects/ArrayObject":132,"../Objects/BuiltinFunctionObject":134,"../Objects/EcmaObject":137,"../Objects/RegExpObject":149,"../Value":184}],168:[function(require,module,exports){
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var Value_1 = require("../Value");
var constants = require("../Constants");
var BuiltinFunctionObject_1 = require("../Objects/BuiltinFunctionObject");
var ArrayObject_1 = require("../Objects/ArrayObject");
var ToInteger_1 = require("../Conversion/ToInteger");
var ToString_1 = require("../Conversion/ToString");
var CheckObjectCoercible_1 = require("../Utility/CheckObjectCoercible");
var Define_1 = require("../Define");
var EcmaObject_1 = require("../Objects/EcmaObject");
var Label_1 = require("../Label");
var StringObject_1 = require("../Objects/StringObject");
var RegExpObject_1 = require("../Objects/RegExpObject");
var IsCallable_1 = require("../Utility/IsCallable");
var ToInt32_1 = require("../Conversion/ToInt32");
var ToNumber_1 = require("../Conversion/ToNumber");
// ------------------------------------------------------------
// The String Prototype, 15.5.4
var StringPrototype = /** @class */ (function (_super) {
    __extends(StringPrototype, _super);
    function StringPrototype(host) {
        var _this = _super.call(this) || this;
        _this.Class = 'String';
        _this.PrimitiveValue = '';
        _this.PrimitiveLabel = Label_1.bot;
        //@ts-ignore TYPES
        _this.properties = new String('');
        _this.labels.length = {
            value: Label_1.bot,
            existence: Label_1.bot
        };
        _this.host = host;
        return _this;
    }
    StringPrototype.prototype.Setup = function () {
        this.Prototype = new Value_1.Value(monitor.instances.ObjectPrototype, Label_1.bot);
        Define_1.DefineTFT(this, constants.constructor, monitor.instances.StringConstructor);
        Define_1.DefineTFT(this, constants.toString, new BuiltinFunctionObject_1.BuiltinFunctionObject(toString, 0, this.host.toString));
        Define_1.DefineTFT(this, constants.valueOf, new BuiltinFunctionObject_1.BuiltinFunctionObject(valueOf, 0, this.host.valueOf));
        Define_1.DefineTFT(this, constants.charAt, new BuiltinFunctionObject_1.BuiltinFunctionObject(charAt, 1, this.host.charAt));
        Define_1.DefineTFT(this, constants.charCodeAt, new BuiltinFunctionObject_1.BuiltinFunctionObject(charCodeAt, 1, this.host.charCodeAt));
        Define_1.DefineTFT(this, constants.concat, new BuiltinFunctionObject_1.BuiltinFunctionObject(concat, 1, this.host.concat));
        Define_1.DefineTFT(this, constants.indexOf, new BuiltinFunctionObject_1.BuiltinFunctionObject(indexOf, 1, this.host.indexOf));
        Define_1.DefineTFT(this, constants.lastIndexOf, new BuiltinFunctionObject_1.BuiltinFunctionObject(lastIndexOf, 1, this.host.lastIndexOf));
        Define_1.DefineTFT(this, constants.localeCompare, new BuiltinFunctionObject_1.BuiltinFunctionObject(localeCompare, 1, this.host.localeCompare));
        Define_1.DefineTFT(this, constants.match, new BuiltinFunctionObject_1.BuiltinFunctionObject(match, 1, this.host.match));
        Define_1.DefineTFT(this, constants.replace, new BuiltinFunctionObject_1.BuiltinFunctionObject(replace, 2, this.host.replace));
        Define_1.DefineTFT(this, constants.search, new BuiltinFunctionObject_1.BuiltinFunctionObject(search, 1, this.host.search));
        Define_1.DefineTFT(this, constants.slice, new BuiltinFunctionObject_1.BuiltinFunctionObject(slice, 2, this.host.slice));
        Define_1.DefineTFT(this, constants.split, new BuiltinFunctionObject_1.BuiltinFunctionObject(split, 2, this.host.split));
        Define_1.DefineTFT(this, constants.substring, new BuiltinFunctionObject_1.BuiltinFunctionObject(substring, 2, this.host.substring));
        Define_1.DefineTFT(this, constants.toLowerCase, new BuiltinFunctionObject_1.BuiltinFunctionObject(toLowerCase, 0, this.host.toLowerCase));
        Define_1.DefineTFT(this, constants.toLocaleLowerCase, new BuiltinFunctionObject_1.BuiltinFunctionObject(toLocaleLowerCase, 0, this.host.toLocaleLowerCase));
        Define_1.DefineTFT(this, constants.toUpperCase, new BuiltinFunctionObject_1.BuiltinFunctionObject(toUpperCase, 0, this.host.toUpperCase));
        Define_1.DefineTFT(this, constants.toLocaleUpperCase, new BuiltinFunctionObject_1.BuiltinFunctionObject(toLocaleUpperCase, 0, this.host.toLocaleUpperCase));
        Define_1.DefineTFT(this, constants.trim, new BuiltinFunctionObject_1.BuiltinFunctionObject(trim, 0, this.host.trim));
        Define_1.DefineTFT(this, constants.substr, new BuiltinFunctionObject_1.BuiltinFunctionObject(substr, 2, this.host.substr));
    };
    return StringPrototype;
}(EcmaObject_1.EcmaObject));
exports.StringPrototype = StringPrototype;
// ------------------------------------------------------------
// toString, 15.5.4.2
function toString(thisArg, args) {
    if (typeof thisArg.value === 'string') {
        return new Value_1.Value(thisArg.value, thisArg.label);
    }
    if (!StringObject_1.IsStringObject(thisArg)) {
        monitor.Throw("TypeError", 'String.prototype.toString is not generic', thisArg.label);
        throw 'TypeScript';
    }
    var result = thisArg.value.PrimitiveValue.toString();
    return new Value_1.Value(result, thisArg.value.PrimitiveLabel);
}
// ------------------------------------------------------------
// valueOf, 15.5.4.3
var valueOf = toString;
// ------------------------------------------------------------
// charAt, 15.5.4.4
function charAt(thisArg, args) {
    var pos = args[0] || new Value_1.Value(undefined, Label_1.bot);
    CheckObjectCoercible_1.CheckObjectCoercible(thisArg);
    var S = ToString_1.ToString(thisArg);
    var position = ToInteger_1.ToInteger(pos);
    var c = S.value.charAt(position.value);
    return new Value_1.Value(c, Label_1.lub(position.label, S.label));
}
// ------------------------------------------------------------
// charCodeAt, 15.5.4.5
function charCodeAt(thisArg, args) {
    var pos = args[0] || new Value_1.Value(undefined, Label_1.bot);
    CheckObjectCoercible_1.CheckObjectCoercible(thisArg);
    var S = ToString_1.ToString(thisArg);
    var position = ToInteger_1.ToInteger(pos);
    var c = S.value.charCodeAt(position.value);
    return new Value_1.Value(c, Label_1.lub(position.label, thisArg.label));
}
// ------------------------------------------------------------
// concat, 15.5.4.6
function concat(thisArg, args) {
    CheckObjectCoercible_1.CheckObjectCoercible(thisArg);
    var S = ToString_1.ToString(thisArg);
    var lbl = new Label_1.Label();
    var _args = [];
    for (var i = 0, len = args.length; i < len; i++) {
        var arg = ToString_1.ToString(args[i]);
        lbl = Label_1.lub(lbl, arg.label);
        _args[i] = arg.value;
    }
    var str = S.value.concat.apply(S.value, _args);
    lbl = Label_1.lub(lbl, thisArg.label);
    return new Value_1.Value(str, lbl);
}
// ------------------------------------------------------------
// indexOf, 15.5.4.7
function indexOf(thisArg, args) {
    var searchString = args[0] || new Value_1.Value(undefined, Label_1.bot);
    var position = args[1] || new Value_1.Value(0, Label_1.bot);
    CheckObjectCoercible_1.CheckObjectCoercible(thisArg);
    var S = ToString_1.ToString(thisArg);
    var searchStr = ToString_1.ToString(searchString);
    var pos = ToInteger_1.ToInteger(position);
    var lbl = Label_1.lub(S.label, searchStr.label, pos.label);
    var str = S.value.indexOf(searchStr.value, pos.value);
    return new Value_1.Value(str, lbl);
}
// ------------------------------------------------------------
// lastIndexOf, 15.5.4.8
function lastIndexOf(thisArg, args) {
    var searchString = args[0] || new Value_1.Value(undefined, Label_1.bot);
    var position = args[1] || new Value_1.Value(undefined, Label_1.bot);
    CheckObjectCoercible_1.CheckObjectCoercible(thisArg);
    var S = ToString_1.ToString(thisArg);
    var searchStr = ToString_1.ToString(searchString);
    var pos = ToNumber_1.ToNumber(position);
    if (isNaN(pos.value)) {
        pos.value = Infinity;
    }
    else {
        pos = ToInteger_1.ToInteger(pos);
    }
    var lbl = Label_1.lub(S.label, searchStr.label, pos.label);
    var str = S.value.lastIndexOf(searchStr.value, pos.value);
    return new Value_1.Value(str, lbl);
}
// ------------------------------------------------------------
// localeCompare, 15.5.4.9
function localeCompare(thisArg, args) {
    var arg0 = args[0] || new Value_1.Value(undefined, Label_1.bot);
    CheckObjectCoercible_1.CheckObjectCoercible(thisArg);
    var S = ToString_1.ToString(thisArg);
    var that = ToString_1.ToString(arg0);
    var lbl = Label_1.lub(S.label, that.label);
    var result = S.value.localeCompare(that.value);
    return new Value_1.Value(result, lbl);
}
// ------------------------------------------------------------
// match, 15.5.4.10
function match(thisArg, args) {
    var regexp = args[0] || new Value_1.Value(undefined, Label_1.bot);
    CheckObjectCoercible_1.CheckObjectCoercible(thisArg);
    var S = ToString_1.ToString(thisArg);
    var rx;
    if (RegExpObject_1.IsRegExpObject(regexp)) {
        rx = regexp;
    }
    else {
        rx = monitor.instances.RegExpConstructor.Construct([regexp]);
    }
    var lbl = Label_1.lub(S.label, rx.value.PrimitiveLabel);
    monitor.assert(Label_1.le(rx.label, rx.value.PrimitiveLabel), 'String.prototype.match: label of regular expression object not below regular expression label');
    rx.value.PrimitiveLabel = lbl;
    var primitiveArray = S.value.match(rx.value.PrimitiveValue);
    if (primitiveArray === null) {
        return new Value_1.Value(null, lbl);
    }
    var array = ArrayObject_1.ArrayObject.fromArray(primitiveArray, lbl, lbl);
    array.DefineOwnProperty(constants.index, {
        value: primitiveArray.index,
        writable: true,
        enumerable: true,
        configurable: true,
        label: lbl
    });
    array.DefineOwnProperty(constants.input, {
        value: primitiveArray.input,
        writable: true,
        enumerable: true,
        configurable: true,
        label: lbl
    });
    return new Value_1.Value(array, Label_1.bot);
}
// ------------------------------------------------------------
// replace, 15.5.4.11
function replace(thisArg, args) {
    var arg0 = args[0] || new Value_1.Value(undefined, Label_1.bot);
    var arg1 = args[1] || new Value_1.Value(undefined, Label_1.bot);
    CheckObjectCoercible_1.CheckObjectCoercible(thisArg);
    var S = ToString_1.ToString(thisArg);
    var sV, rV;
    var label = Label_1.lub(arg0.label, arg1.label);
    if (RegExpObject_1.IsRegExpObject(arg0)) {
        sV = arg0.value.PrimitiveValue;
    }
    else {
        var searchValue = ToString_1.ToString(arg0);
        label = Label_1.lub(label, searchValue.label);
        sV = searchValue.value;
    }
    var fL = Label_1.bot;
    if (IsCallable_1.IsCallable(arg1)) {
        rV = function () {
            var _args = [];
            for (var i = 0; i < arguments.length; i++) {
                _args[i] = new Value_1.Value(arguments[i], label);
            }
            _args.length = arguments.length;
            var res = arg1.Call(arg1, _args);
            var strRes = ToString_1.ToString(res);
            fL = Label_1.lub(fL, strRes.label);
            return strRes.value;
        };
    }
    else {
        var replaceValue = ToString_1.ToString(arg1);
        rV = replaceValue.value;
    }
    //@ts-ignore TYPES
    var res = S.value.replace(sV, rV);
    return new Value_1.Value(res, Label_1.lub(label, fL));
}
// ------------------------------------------------------------
// search, 15.5.4.12
function search(thisArg, args) {
    var regexp = args[0] || new Value_1.Value(undefined, Label_1.bot);
    CheckObjectCoercible_1.CheckObjectCoercible(thisArg);
    var string = ToString_1.ToString(thisArg);
    var rx;
    if (RegExpObject_1.IsRegExpObject(regexp)) {
        rx = regexp;
    }
    else {
        rx = monitor.instances.RegExpConstructor.Construct([regexp]);
    }
    var lbl = Label_1.lub(string.label, rx.value.PrimitiveLabel);
    monitor.assert(Label_1.le(rx.label, rx.value.PrimitiveLabel), 'String.prototype.match: label of regular expression object not below regular expression label');
    rx.value.PrimitiveLabel = lbl;
    var result = string.value.search(rx.value.PrimitiveValue);
    return new Value_1.Value(result, lbl);
}
// ------------------------------------------------------------
// slice, 15.5.4.13
function slice(thisArg, args) {
    var c = monitor.context;
    var start = args[0] || new Value_1.Value(undefined, Label_1.bot);
    var end = args[1] || new Value_1.Value(undefined, Label_1.bot);
    CheckObjectCoercible_1.CheckObjectCoercible(thisArg);
    var S = ToString_1.ToString(thisArg);
    var len = S.value.length;
    var intStart = ToInteger_1.ToInteger(start);
    c.pushPC(end.label);
    var intEnd;
    if (end.value === undefined) {
        intEnd = new Value_1.Value(len, Label_1.lub(S.label, end.label));
    }
    else {
        intEnd = ToInteger_1.ToInteger(end);
    }
    c.popPC();
    var str = S.value.slice(intStart.value, intEnd.value);
    var lbl = Label_1.lub(S.label, intStart.label, intEnd.label);
    return new Value_1.Value(str, lbl);
}
// ------------------------------------------------------------
// split, 15.5.4.14
function split(thisArg, args) {
    var arg0 = args[0] || new Value_1.Value(undefined, Label_1.bot);
    var arg1 = args[1] || new Value_1.Value(undefined, Label_1.bot);
    CheckObjectCoercible_1.CheckObjectCoercible(thisArg);
    var S = ToString_1.ToString(thisArg);
    var limit;
    var lbl = Label_1.lub(S.label, arg0.label);
    if (arg1.value === undefined) {
        lbl = Label_1.lub(lbl, arg1.label);
        limit = 4294967295;
    }
    else {
        var intLimit = ToInt32_1.ToInt32(arg1);
        lbl = Label_1.lub(lbl, intLimit.label);
        limit = intLimit.value;
    }
    var separator;
    if (arg0.value === undefined) {
        separator = undefined;
    }
    else if (RegExpObject_1.IsRegExpObject(arg0)) {
        separator = arg0.value.PrimitiveValue;
        monitor.assert(Label_1.le(arg0.label, arg0.value.PrimitiveLabel), 'String.prototype.split: label of regular expression object not below label of regular expression');
        arg0.value.PrimitiveLabel = lbl;
    }
    else {
        var stringSeparator = ToString_1.ToString(arg0);
        separator = stringSeparator.value;
        lbl = Label_1.lub(lbl, stringSeparator.label);
    }
    var primitiveArray = S.value.split(separator, limit);
    var array = ArrayObject_1.ArrayObject.fromArray(primitiveArray, lbl, lbl);
    return new Value_1.Value(array, Label_1.bot);
}
// ------------------------------------------------------------
// substring, 15.5.4.15
function substring(thisArg, args) {
    var arg0 = args[0] || new Value_1.Value(undefined, Label_1.bot);
    var arg1 = args[1] || new Value_1.Value(undefined, Label_1.bot);
    CheckObjectCoercible_1.CheckObjectCoercible(thisArg);
    var S = ToString_1.ToString(thisArg);
    var start = ToInteger_1.ToInteger(arg0);
    var len = S.value.length;
    var end;
    if (arg1.value === undefined) {
        end = new Value_1.Value(len, arg1.label);
    }
    else {
        end = ToInteger_1.ToInteger(arg1);
    }
    var lbl = Label_1.lub(S.label, start.label, end.label);
    var str = S.value.substring(start.value, end.value);
    return new Value_1.Value(str, lbl);
}
// ------------------------------------------------------------
function substr(thisArg, args) {
    var arg0 = args[0] || new Value_1.Value(undefined, Label_1.bot);
    var arg1 = args[1] || new Value_1.Value(undefined, Label_1.bot);
    CheckObjectCoercible_1.CheckObjectCoercible(thisArg);
    var S = ToString_1.ToString(thisArg);
    var start = ToInteger_1.ToInteger(arg0);
    var len = S.value.length;
    var end;
    if (arg1.value === undefined) {
        end = new Value_1.Value(len, arg1.label);
    }
    else {
        end = ToInteger_1.ToInteger(arg1);
    }
    var lbl = Label_1.lub(S.label, start.label, end.label);
    var str = S.value.substr(start.value, end.value);
    return new Value_1.Value(str, lbl);
}
// ------------------------------------------------------------
// toLowerCase, 15.5.4.16
function toLowerCase(thisArg, args) {
    CheckObjectCoercible_1.CheckObjectCoercible(thisArg);
    var S = ToString_1.ToString(thisArg);
    var L = S.value.toLowerCase();
    return new Value_1.Value(L, S.label);
}
// ------------------------------------------------------------
// toLocaleLowerCase, 15.5.4.17
function toLocaleLowerCase(thisArg, args) {
    CheckObjectCoercible_1.CheckObjectCoercible(thisArg);
    var S = ToString_1.ToString(thisArg);
    var L = S.value.toLocaleLowerCase();
    return new Value_1.Value(L, S.label);
}
// ------------------------------------------------------------
// toUpperCase, 15.5.4.18
function toUpperCase(thisArg, args) {
    CheckObjectCoercible_1.CheckObjectCoercible(thisArg);
    var S = ToString_1.ToString(thisArg);
    var L = S.value.toUpperCase();
    return new Value_1.Value(L, S.label);
}
// ------------------------------------------------------------
// toLocaleUpperCase, 15.5.4.19
function toLocaleUpperCase(thisArg, args) {
    CheckObjectCoercible_1.CheckObjectCoercible(thisArg);
    var S = ToString_1.ToString(thisArg);
    var L = S.value.toLocaleUpperCase();
    return new Value_1.Value(L, S.label);
}
// ------------------------------------------------------------
// trim, 15.5.4.20
function trim(thisArg, args) {
    CheckObjectCoercible_1.CheckObjectCoercible(thisArg);
    var S = ToString_1.ToString(thisArg);
    var T = S.value.trim();
    return new Value_1.Value(T, S.label);
}

},{"../Constants":64,"../Conversion/ToInt32":82,"../Conversion/ToInteger":83,"../Conversion/ToNumber":84,"../Conversion/ToString":87,"../Define":91,"../Label":123,"../Objects/ArrayObject":132,"../Objects/BuiltinFunctionObject":134,"../Objects/EcmaObject":137,"../Objects/RegExpObject":149,"../Objects/StringObject":150,"../Utility/CheckObjectCoercible":181,"../Utility/IsCallable":182,"../Value":184}],169:[function(require,module,exports){
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var ErrorPrototype_1 = require("./ErrorPrototype");
var SyntaxErrorPrototype = /** @class */ (function (_super) {
    __extends(SyntaxErrorPrototype, _super);
    function SyntaxErrorPrototype(host) {
        return _super.call(this, host) || this;
    }
    SyntaxErrorPrototype.prototype.Setup = function () {
        this.SetupBase(monitor.instances.ErrorConstructor, 'SyntaxError');
    };
    return SyntaxErrorPrototype;
}(ErrorPrototype_1.ErrorPrototype));
exports.SyntaxErrorPrototype = SyntaxErrorPrototype;

},{"./ErrorPrototype":160}],170:[function(require,module,exports){
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var ErrorPrototype_1 = require("./ErrorPrototype");
var TypeErrorPrototype = /** @class */ (function (_super) {
    __extends(TypeErrorPrototype, _super);
    function TypeErrorPrototype(host) {
        return _super.call(this, host) || this;
    }
    TypeErrorPrototype.prototype.Setup = function () {
        this.SetupBase(monitor.instances.ErrorConstructor, 'TypeError');
    };
    return TypeErrorPrototype;
}(ErrorPrototype_1.ErrorPrototype));
exports.TypeErrorPrototype = TypeErrorPrototype;

},{"./ErrorPrototype":160}],171:[function(require,module,exports){
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var ErrorPrototype_1 = require("./ErrorPrototype");
var URIErrorPrototype = /** @class */ (function (_super) {
    __extends(URIErrorPrototype, _super);
    function URIErrorPrototype(host) {
        return _super.call(this, host) || this;
    }
    URIErrorPrototype.prototype.Setup = function () {
        this.SetupBase(monitor.instances.ErrorConstructor, 'URIError');
    };
    return URIErrorPrototype;
}(ErrorPrototype_1.ErrorPrototype));
exports.URIErrorPrototype = URIErrorPrototype;

},{"./ErrorPrototype":160}],172:[function(require,module,exports){
Object.defineProperty(exports, "__esModule", { value: true });
var Reference_1 = require("./Reference");
var ToObject_1 = require("./Conversion/ToObject");
var Label_1 = require("./Label");
var PropertyDescriptor_1 = require("./PropertyDescriptor");
// ------------------------------------------------------------
// PutValue
function PutValue(r, v) {
    if (!(r instanceof Reference_1.Reference)) {
        monitor.Throw("ReferenceError", 'PutValue: target is not a reference', 
        //@ts-ignore TYPES
        r.label);
        throw "TS doesn't know monitor.Throw throws";
    }
    var p = r.base;
    var s = r.propertyName;
    if (r.IsUnresolvableReference()) {
        p.value = monitor.GlobalObject;
        p.Put(s, v);
    }
    else if (r.IsPropertyReference()) {
        if (r.HasPrimitiveBase()) {
            var o = ToObject_1.ToObject(p);
            if (!o.CanPut(s).value) {
                return;
            }
            var ownDesc = o.GetOwnProperty(s);
            if (ownDesc.value && PropertyDescriptor_1.IsDataDescriptor(ownDesc.value)) {
                return;
            }
            // TODO: this must be wrong; part of old handling of getter/setters?
            var desc = o.GetProperty(s);
            if (desc.value && PropertyDescriptor_1.IsAccessorDescriptor(desc.value)) {
                monitor.context.pushPC(Label_1.lub(ownDesc.label, desc.label)); // contains o.label
                //@ts-ignore TYPES
                desc.value.Set.Call(p, [v]);
                monitor.context.popPC();
            }
        }
        else {
            p.Put(s, v);
        }
    }
    else {
        p.SetMutableBinding(s, v);
    }
}
exports.PutValue = PutValue;

},{"./Conversion/ToObject":85,"./Label":123,"./PropertyDescriptor":156,"./Reference":173}],173:[function(require,module,exports){
Object.defineProperty(exports, "__esModule", { value: true });
var Reference = /** @class */ (function () {
    function Reference(base, propertyName) {
        this.base = base;
        this.propertyName = propertyName;
    }
    Reference.prototype.GetBase = function () {
        return this.base;
    };
    Reference.prototype.GetReferencedName = function () {
        return this.propertyName;
    };
    Reference.prototype.HasPrimitiveBase = function () {
        return (typeof this.base.value === 'boolean' ||
            typeof this.base.value === 'string' ||
            typeof this.base.value === 'number');
    };
    Reference.prototype.IsPropertyReference = function () {
        return (typeof this.base.value === 'boolean' ||
            typeof this.base.value === 'string' ||
            typeof this.base.value === 'number' ||
            this.base.value !== undefined && "Class" in this.base.value);
    };
    Reference.prototype.IsUnresolvableReference = function () {
        return (this.base.value === undefined);
    };
    Reference.prototype.toString = function () {
        return ('@(' + this.base + ',' + this.propertyName + ')');
    };
    return Reference;
}());
exports.Reference = Reference;

},{}],174:[function(require,module,exports){
Object.defineProperty(exports, "__esModule", { value: true });
var Result = /** @class */ (function () {
    function Result(value) {
        this.type = 'normal';
        this.target = null;
        this.value = value || null;
    }
    return Result;
}());
exports.Result = Result;

},{}],175:[function(require,module,exports){
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/. */
Object.defineProperty(exports, "__esModule", { value: true });
var Stack = /** @class */ (function () {
    function Stack() {
        this.content = [];
    }
    Stack.prototype.push = function (v) {
        this.content.push(v);
    };
    Stack.prototype.pop = function () {
        if (this.content.length === 0) {
            throw new Error('Empty Stack');
        }
        //@ts-ignore
        return this.content.pop();
    };
    Stack.prototype.peek = function () {
        if (this.content.length === 0) {
            throw new Error('Empty Stack');
        }
        return this.content[this.content.length - 1];
    };
    Stack.prototype.dup = function () {
        this.push(this.peek());
    };
    Stack.prototype.marker = function () {
        return { length: this.content.length };
    };
    Stack.prototype.reset = function (m) {
        this.content.length = m.length;
    };
    Stack.prototype.iter = function (f) {
        for (var i = 0, len = this.content.length; i < len; i++) {
            f(this.content[i]);
        }
    };
    Stack.prototype.map = function (f, m) {
        for (var i = m.length, len = this.content.length; i < len; i++) {
            this.content[i] = f(this.content[i]);
        }
    };
    Stack.prototype.size = function () {
        return this.content.length;
    };
    Stack.prototype.empty = function () {
        return this.content.length === 0;
    };
    Stack.prototype.toArray = function () {
        return this.content.slice(0);
    };
    return Stack;
}());
exports.Stack = Stack;

},{}],176:[function(require,module,exports){
Object.defineProperty(exports, "__esModule", { value: true });
var escodegen = require("escodegen");
// --------------------------------------------------------------------------- 
var StackTrace = /** @class */ (function () {
    function StackTrace(stack) {
        this.trace = [];
        for (var i = 0, len = stack.length; i < len; i++) {
            var context = stack[i];
            var stmt = context.codeStack.size() > 0 ? context.codeStack.peek() : undefined;
            if (stmt === undefined) {
                break;
            }
            var loc = stmt.loc;
            var source = loc.source;
            this.trace.push({ owner: context.owner, source: source, loc: loc.start, stmt: stmt });
        }
    }
    StackTrace.prototype.toString = function () {
        if (this.trace.length === 0) {
            return '';
        }
        var result;
        var len = this.trace.length;
        // last entry contains offending command
        var last = this.trace[len - 1];
        result = last.source + ':' + last.loc.line + ':' + last.loc.column + '\n';
        result = result + '    ' + escodegen.generate(last.stmt) + '\n\n';
        for (var i = len - 2; i >= 0; i--) {
            var tr = this.trace[i];
            if (tr.owner) {
                result = result + 'at ' + tr.owner + ' ';
            }
            result = result + '(' + tr.source + ':' + tr.loc.line + ':' + tr.loc.column + ')\n';
        }
        return result;
    };
    return StackTrace;
}());
exports.StackTrace = StackTrace;

},{"escodegen":5}],177:[function(require,module,exports){
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var FunctionObject_1 = require("./Objects/FunctionObject");
var Value_1 = require("./Value");
var Label_1 = require("./Label");
var Define_1 = require("./Define");
var esprima = require("esprima");
var constants = require("./Constants");
// 13.2.3
var ThrowTypeError = /** @class */ (function (_super) {
    __extends(ThrowTypeError, _super);
    function ThrowTypeError() {
        var _this = _super.call(this, [], 
        //@ts-ignore
        esprima.parse("(function() { throw new TypeError(); })").body[0].expression, new Value_1.Value(monitor.GlobalEnvironment, Label_1.bot)) || this;
        Define_1.DefineFFF(_this, constants.length, 0);
        _this.Extensible = false;
        return _this;
    }
    Object.defineProperty(ThrowTypeError, "Instance", {
        get: function () {
            if (ThrowTypeError.instance === undefined) {
                ThrowTypeError.instance = new ThrowTypeError();
            }
            return ThrowTypeError.instance;
        },
        enumerable: true,
        configurable: true
    });
    return ThrowTypeError;
}(FunctionObject_1.FunctionObject));
exports.ThrowTypeError = ThrowTypeError;

},{"./Constants":64,"./Define":91,"./Label":123,"./Objects/FunctionObject":140,"./Value":184,"esprima":18}],178:[function(require,module,exports){
Object.defineProperty(exports, "__esModule", { value: true });
function IsCrawler(monitor) {
    //@ts-ignore monitor.crawler is a boolean option
    return monitor.options.get("monitor.crawler");
}
exports.IsCrawler = IsCrawler;

},{}],179:[function(require,module,exports){
Object.defineProperty(exports, "__esModule", { value: true });
var JSFlowMonitor_1 = require("./JSFlowMonitor");
var sms = require('source-map-support');
sms.install();
//@ts-ignore TYPES
jsflow.monitor = new JSFlowMonitor_1.JSFlowMonitor(window);
//@ts-ignore TYPES
jsflow.version = "1.2";

},{"./JSFlowMonitor":180,"source-map-support":63}],180:[function(require,module,exports){
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var MonitorBase_1 = require("../../MonitorBase");
var GlobalObject_1 = require("../../Objects/GlobalObject");
var Instances_1 = require("../../Instances");
var Value_1 = require("../../Value");
var Label_1 = require("../../Label");
var ObjectEnvironmentRecord_1 = require("../../ObjectEnvironmentRecord");
var Module_1 = require("../../Module/CommonJS/Module");
// --------------------------------------------------------------------------
var JSFlowMonitor = /** @class */ (function (_super) {
    __extends(JSFlowMonitor, _super);
    function JSFlowMonitor(global, print, log, info, warn, error) {
        var _this = _super.call(this, global, print, log, info, warn, error) || this;
        _this.instances = new Instances_1.Instances(global);
        _this.instances.Setup();
        _this.GlobalObject = new GlobalObject_1.GlobalObject(global);
        _this.GlobalEnvironment = ObjectEnvironmentRecord_1.NewObjectEnvironment(new Value_1.Value(_this.GlobalObject, Label_1.bot), new Value_1.Value(null, Label_1.bot));
        _this.context.thisValue = new Value_1.Value(_this.GlobalObject, Label_1.bot);
        _this.context.variableEnv = new Value_1.Value(_this.GlobalEnvironment, Label_1.bot);
        _this.context.lexicalEnv = new Value_1.Value(_this.GlobalEnvironment, Label_1.bot);
        _this.module = new Module_1.CommonJSModule();
        _this.GlobalObject.Put(new Value_1.Value('module', Label_1.bot), new Value_1.Value(_this.module, Label_1.bot), false);
        _this.GlobalObject.Put(new Value_1.Value('require', Label_1.bot), new Value_1.Value(_this.module.require, Label_1.bot), false);
        _this.labelBot = Label_1.bot;
        return _this;
    }
    JSFlowMonitor.prototype.ExecuteModule = function (path) {
        Module_1.CommonJSModule.LoadModule(new Value_1.Value(path, Label_1.bot));
    };
    return JSFlowMonitor;
}(MonitorBase_1.MonitorBase));
exports.JSFlowMonitor = JSFlowMonitor;

},{"../../Instances":121,"../../Label":123,"../../Module/CommonJS/Module":125,"../../MonitorBase":129,"../../ObjectEnvironmentRecord":130,"../../Objects/GlobalObject":141,"../../Value":184}],181:[function(require,module,exports){
Object.defineProperty(exports, "__esModule", { value: true });
// -------------------------------------------------------------
// CheckObjectCoercible, 9.10
function CheckObjectCoercible(x) {
    if (x.value === null || x.value === undefined) {
        monitor.context.raisePC(x.label);
        monitor.Throw("TypeError", String(x.value) + ' is not coercible', x.label);
        throw 'TypeScript';
    }
    return true;
}
exports.CheckObjectCoercible = CheckObjectCoercible;

},{}],182:[function(require,module,exports){
Object.defineProperty(exports, "__esModule", { value: true });
// -------------------------------------------------------------
// IsCallable, 9.11
function IsCallable(x) {
    var b = false;
    if (x.value !== null && typeof x.value === 'object') {
        b = 'Call' in x.value;
    }
    return b;
}
exports.IsCallable = IsCallable;

},{}],183:[function(require,module,exports){
Object.defineProperty(exports, "__esModule", { value: true });
// -------------------------------------------------------------
// ES6: IsConstructor, 7.2.4
function IsConstructor(argument) {
    if (typeof argument.value !== 'object') {
        return false;
    }
    return argument.value.Construct !== undefined;
}
exports.IsConstructor = IsConstructor;

},{}],184:[function(require,module,exports){
Object.defineProperty(exports, "__esModule", { value: true });
var Label_1 = require("./Label");
// ------------------------------------------------------------
// Value - labeled values
var Value = /** @class */ (function () {
    function Value(value, label) {
        this.value = value;
        this.label = label;
        if (label === undefined) {
            throw new Error("Value with undefined label");
        }
    }
    // ------------------------------------------------------------
    Value.prototype.raise = function (l) {
        this.label = Label_1.lub(this.label, l);
    };
    // ------------------------------------------------------------
    Value.prototype.clone = function () {
        return new Value(this.value, this.label);
    };
    // ------------------------------------------------------------
    Value.prototype.toString = function () {
        if (typeof this.value === 'string') {
            return "'" + this.value + "'_" + this.label;
        }
        else {
            return this.value + "_" + this.label;
        }
    };
    // ------------------------------------------------------------
    // Ecma
    Value.prototype.GetOwnProperty = function (s) {
        var value = this.value;
        return InContext(this.label, function () { return value.GetOwnProperty(s); });
    };
    Value.prototype.GetProperty = function (s) {
        var value = this.value;
        return InContext(this.label, function () { return value.GetProperty(s); });
    };
    Value.prototype.Get = function (s) {
        var value = this.value;
        return InContext(this.label, function () { return value.Get(s); });
    };
    Value.prototype.CanPut = function (p) {
        var value = this.value;
        return InContext(this.label, function () { return value.CanPut(p); });
    };
    Value.prototype.Put = function (s, v, Throw) {
        var value = this.value;
        return InContext(this.label, function () { return value.Put(s, v, Throw); });
    };
    Value.prototype.HasProperty = function (s) {
        var value = this.value;
        return InContext(this.label, function () { return value.HasProperty(s); });
    };
    Value.prototype.Delete = function (s, Throw) {
        var value = this.value;
        return InContext(this.label, function () { return value.Delete(s, Throw); });
    };
    Value.prototype.DefaultValue = function (hint) {
        var value = this.value;
        return InContext(this.label, function () { return value.DefaultValue(hint); });
    };
    Value.prototype.DefineOwnProperty = function (s, desc, Throw) {
        var value = this.value;
        return InContext(this.label, function () { return value.DefineOwnProperty(s, desc, Throw); });
    };
    // ---
    // Function
    Value.prototype.HasInstance = function (V) {
        var value = this.value;
        return InContext(this.label, function () { return value.HasInstance(V); });
    };
    Value.prototype.Call = function (thisArg, args) {
        var value = this.value;
        return InContext(this.label, function () { return value.Call(thisArg, args); });
    };
    Value.prototype.Construct = function (args) {
        var value = this.value;
        return InContext(this.label, function () { return value.Construct(args); });
    };
    // ---
    // ObjectEnvironmentRecord, DeclarativeEnvironmentRecord
    Value.prototype.HasBinding = function (p) {
        var value = this.value;
        return InContext(this.label, function () { return value.HasBinding(p); });
    };
    Value.prototype.CreateMutableBinding = function (p, d) {
        var value = this.value;
        return InContext(this.label, function () { return value.CreateMutableBinding(p, d); });
    };
    Value.prototype.GetBindingValue = function (p, s) {
        var value = this.value;
        return InContext(this.label, function () { return value.GetBindingValue(p, s); });
    };
    Value.prototype.SetMutableBinding = function (p, v, s) {
        var value = this.value;
        return InContext(this.label, function () { return value.SetMutableBinding(p, v, s); });
    };
    Value.prototype.DeleteBinding = function (p) {
        var value = this.value;
        return InContext(this.label, function () { return value.DeleteBinding(p); });
    };
    Value.prototype.ImplicitThisValue = function () {
        var value = this.value;
        return InContext(this.label, function () { return value.ImplicitThisValue(); });
    };
    // DeclarativeEnvironmentRecord
    Value.prototype.CreateImmutableBinding = function (p) {
        var value = this.value;
        return InContext(this.label, function () { return value.CreateImmutableBinding(p); });
    };
    Value.prototype.InitializeImmutableBinding = function (p, v) {
        var value = this.value;
        return InContext(this.label, function () { return value.InitializeImmutableBinding(p, v); });
    };
    return Value;
}());
exports.Value = Value;
function InContext(l, f) {
    monitor.context.pushPC(l);
    var res = f();
    monitor.context.popPC();
    if (res instanceof Value) {
        res.raise(l);
    }
    return res;
}

},{"./Label":123}]},{},[179])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvYmFzZTY0LWpzL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbGliL19lbXB0eS5qcyIsIm5vZGVfbW9kdWxlcy9idWZmZXItZnJvbS9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9idWZmZXIvaW5kZXguanMiLCJub2RlX21vZHVsZXMvZXNjb2RlZ2VuL2VzY29kZWdlbi5qcyIsIm5vZGVfbW9kdWxlcy9lc2NvZGVnZW4vbm9kZV9tb2R1bGVzL3NvdXJjZS1tYXAvbGliL2FycmF5LXNldC5qcyIsIm5vZGVfbW9kdWxlcy9lc2NvZGVnZW4vbm9kZV9tb2R1bGVzL3NvdXJjZS1tYXAvbGliL2Jhc2U2NC12bHEuanMiLCJub2RlX21vZHVsZXMvZXNjb2RlZ2VuL25vZGVfbW9kdWxlcy9zb3VyY2UtbWFwL2xpYi9iYXNlNjQuanMiLCJub2RlX21vZHVsZXMvZXNjb2RlZ2VuL25vZGVfbW9kdWxlcy9zb3VyY2UtbWFwL2xpYi9iaW5hcnktc2VhcmNoLmpzIiwibm9kZV9tb2R1bGVzL2VzY29kZWdlbi9ub2RlX21vZHVsZXMvc291cmNlLW1hcC9saWIvbWFwcGluZy1saXN0LmpzIiwibm9kZV9tb2R1bGVzL2VzY29kZWdlbi9ub2RlX21vZHVsZXMvc291cmNlLW1hcC9saWIvcXVpY2stc29ydC5qcyIsIm5vZGVfbW9kdWxlcy9lc2NvZGVnZW4vbm9kZV9tb2R1bGVzL3NvdXJjZS1tYXAvbGliL3NvdXJjZS1tYXAtY29uc3VtZXIuanMiLCJub2RlX21vZHVsZXMvZXNjb2RlZ2VuL25vZGVfbW9kdWxlcy9zb3VyY2UtbWFwL2xpYi9zb3VyY2UtbWFwLWdlbmVyYXRvci5qcyIsIm5vZGVfbW9kdWxlcy9lc2NvZGVnZW4vbm9kZV9tb2R1bGVzL3NvdXJjZS1tYXAvbGliL3NvdXJjZS1ub2RlLmpzIiwibm9kZV9tb2R1bGVzL2VzY29kZWdlbi9ub2RlX21vZHVsZXMvc291cmNlLW1hcC9saWIvdXRpbC5qcyIsIm5vZGVfbW9kdWxlcy9lc2NvZGVnZW4vbm9kZV9tb2R1bGVzL3NvdXJjZS1tYXAvc291cmNlLW1hcC5qcyIsIm5vZGVfbW9kdWxlcy9lc2NvZGVnZW4vcGFja2FnZS5qc29uIiwibm9kZV9tb2R1bGVzL2VzcHJpbWEvZXNwcmltYS5qcyIsIm5vZGVfbW9kdWxlcy9lc3RyYXZlcnNlL2VzdHJhdmVyc2UuanMiLCJub2RlX21vZHVsZXMvZXN0cmF2ZXJzZS9wYWNrYWdlLmpzb24iLCJub2RlX21vZHVsZXMvZXN1dGlscy9saWIvYXN0LmpzIiwibm9kZV9tb2R1bGVzL2VzdXRpbHMvbGliL2NvZGUuanMiLCJub2RlX21vZHVsZXMvZXN1dGlscy9saWIva2V5d29yZC5qcyIsIm5vZGVfbW9kdWxlcy9lc3V0aWxzL2xpYi91dGlscy5qcyIsIm5vZGVfbW9kdWxlcy9pZWVlNzU0L2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2pzLWJlYXV0aWZ5L2pzL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2pzLWJlYXV0aWZ5L2pzL3NyYy9jb3JlL2RpcmVjdGl2ZXMuanMiLCJub2RlX21vZHVsZXMvanMtYmVhdXRpZnkvanMvc3JjL2NvcmUvaW5wdXRzY2FubmVyLmpzIiwibm9kZV9tb2R1bGVzL2pzLWJlYXV0aWZ5L2pzL3NyYy9jb3JlL29wdGlvbnMuanMiLCJub2RlX21vZHVsZXMvanMtYmVhdXRpZnkvanMvc3JjL2NvcmUvb3V0cHV0LmpzIiwibm9kZV9tb2R1bGVzL2pzLWJlYXV0aWZ5L2pzL3NyYy9jb3JlL3BhdHRlcm4uanMiLCJub2RlX21vZHVsZXMvanMtYmVhdXRpZnkvanMvc3JjL2NvcmUvdGVtcGxhdGFibGVwYXR0ZXJuLmpzIiwibm9kZV9tb2R1bGVzL2pzLWJlYXV0aWZ5L2pzL3NyYy9jb3JlL3Rva2VuLmpzIiwibm9kZV9tb2R1bGVzL2pzLWJlYXV0aWZ5L2pzL3NyYy9jb3JlL3Rva2VuaXplci5qcyIsIm5vZGVfbW9kdWxlcy9qcy1iZWF1dGlmeS9qcy9zcmMvY29yZS90b2tlbnN0cmVhbS5qcyIsIm5vZGVfbW9kdWxlcy9qcy1iZWF1dGlmeS9qcy9zcmMvY29yZS93aGl0ZXNwYWNlcGF0dGVybi5qcyIsIm5vZGVfbW9kdWxlcy9qcy1iZWF1dGlmeS9qcy9zcmMvY3NzL2JlYXV0aWZpZXIuanMiLCJub2RlX21vZHVsZXMvanMtYmVhdXRpZnkvanMvc3JjL2Nzcy9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9qcy1iZWF1dGlmeS9qcy9zcmMvY3NzL29wdGlvbnMuanMiLCJub2RlX21vZHVsZXMvanMtYmVhdXRpZnkvanMvc3JjL2h0bWwvYmVhdXRpZmllci5qcyIsIm5vZGVfbW9kdWxlcy9qcy1iZWF1dGlmeS9qcy9zcmMvaHRtbC9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9qcy1iZWF1dGlmeS9qcy9zcmMvaHRtbC9vcHRpb25zLmpzIiwibm9kZV9tb2R1bGVzL2pzLWJlYXV0aWZ5L2pzL3NyYy9odG1sL3Rva2VuaXplci5qcyIsIm5vZGVfbW9kdWxlcy9qcy1iZWF1dGlmeS9qcy9zcmMvaW5kZXguanMiLCJub2RlX21vZHVsZXMvanMtYmVhdXRpZnkvanMvc3JjL2phdmFzY3JpcHQvYWNvcm4uanMiLCJub2RlX21vZHVsZXMvanMtYmVhdXRpZnkvanMvc3JjL2phdmFzY3JpcHQvYmVhdXRpZmllci5qcyIsIm5vZGVfbW9kdWxlcy9qcy1iZWF1dGlmeS9qcy9zcmMvamF2YXNjcmlwdC9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9qcy1iZWF1dGlmeS9qcy9zcmMvamF2YXNjcmlwdC9vcHRpb25zLmpzIiwibm9kZV9tb2R1bGVzL2pzLWJlYXV0aWZ5L2pzL3NyYy9qYXZhc2NyaXB0L3Rva2VuaXplci5qcyIsIm5vZGVfbW9kdWxlcy9wYXRoLWJyb3dzZXJpZnkvaW5kZXguanMiLCJub2RlX21vZHVsZXMvcHJvY2Vzcy9icm93c2VyLmpzIiwibm9kZV9tb2R1bGVzL3NvdXJjZS1tYXAtc3VwcG9ydC9zb3VyY2UtbWFwLXN1cHBvcnQuanMiLCJzcmMvQ29uc3RhbnRzLnRzIiwic3JjL0NvbnN0cnVjdG9ycy9BcnJheUNvbnN0cnVjdG9yLnRzIiwic3JjL0NvbnN0cnVjdG9ycy9Cb29sZWFuQ29uc3RydWN0b3IudHMiLCJzcmMvQ29uc3RydWN0b3JzL0RhdGVDb25zdHJ1Y3Rvci50cyIsInNyYy9Db25zdHJ1Y3RvcnMvRXJyb3JDb25zdHJ1Y3Rvci50cyIsInNyYy9Db25zdHJ1Y3RvcnMvRXZhbEVycm9yQ29uc3RydWN0b3IudHMiLCJzcmMvQ29uc3RydWN0b3JzL0Z1bmN0aW9uQ29uc3RydWN0b3IudHMiLCJzcmMvQ29uc3RydWN0b3JzL051bWJlckNvbnN0cnVjdG9yLnRzIiwic3JjL0NvbnN0cnVjdG9ycy9PYmplY3RDb25zdHJ1Y3Rvci50cyIsInNyYy9Db25zdHJ1Y3RvcnMvUmFuZ2VFcnJvckNvbnN0cnVjdG9yLnRzIiwic3JjL0NvbnN0cnVjdG9ycy9SZWZlcmVuY2VFcnJvckNvbnN0cnVjdG9yLnRzIiwic3JjL0NvbnN0cnVjdG9ycy9SZWdFeHBDb25zdHJ1Y3Rvci50cyIsInNyYy9Db25zdHJ1Y3RvcnMvU3RyaW5nQ29uc3RydWN0b3IudHMiLCJzcmMvQ29uc3RydWN0b3JzL1N5bnRheEVycm9yQ29uc3RydWN0b3IudHMiLCJzcmMvQ29uc3RydWN0b3JzL1R5cGVFcnJvckNvbnN0cnVjdG9yLnRzIiwic3JjL0NvbnN0cnVjdG9ycy9VUklFcnJvckNvbnN0cnVjdG9yLnRzIiwic3JjL0NvbnRleHQudHMiLCJzcmMvQ29udmVyc2lvbi9Ub0Jvb2xlYW4udHMiLCJzcmMvQ29udmVyc2lvbi9Ub0ludDMyLnRzIiwic3JjL0NvbnZlcnNpb24vVG9JbnRlZ2VyLnRzIiwic3JjL0NvbnZlcnNpb24vVG9OdW1iZXIudHMiLCJzcmMvQ29udmVyc2lvbi9Ub09iamVjdC50cyIsInNyYy9Db252ZXJzaW9uL1RvUHJpbWl0aXZlLnRzIiwic3JjL0NvbnZlcnNpb24vVG9TdHJpbmcudHMiLCJzcmMvQ29udmVyc2lvbi9Ub1VJbnQxNi50cyIsInNyYy9Db252ZXJzaW9uL1RvVUludDMyLnRzIiwic3JjL0RlY2xhcmF0aXZlRW52aXJvbm1lbnRSZWNvcmQudHMiLCJzcmMvRGVmaW5lLnRzIiwic3JjL0VuZ2luZS9CaW5hcnlPcGVyYXRvcnMudHMiLCJzcmMvRW5naW5lL0JpbmRpbmcudHMiLCJzcmMvRW5naW5lL0RlYnVnLnRzIiwic3JjL0VuZ2luZS9FeGVjdXRlLnRzIiwic3JjL0VuZ2luZS9FeHByZXNzaW9uLnRzIiwic3JjL0VuZ2luZS9TdGF0ZW1lbnQudHMiLCJzcmMvRW5naW5lL1Rhc2sudHMiLCJzcmMvRW5naW5lL1RyYWNpbmcvQmxvY2tTdGF0ZW1lbnQudHMiLCJzcmMvRW5naW5lL1RyYWNpbmcvQnJlYWtTdGF0ZW1lbnQudHMiLCJzcmMvRW5naW5lL1RyYWNpbmcvQ29udGludWVTdGF0ZW1lbnQudHMiLCJzcmMvRW5naW5lL1RyYWNpbmcvRGVidWdnZXJTdGF0ZW1lbnQudHMiLCJzcmMvRW5naW5lL1RyYWNpbmcvRW1wdHlTdGF0ZW1lbnQudHMiLCJzcmMvRW5naW5lL1RyYWNpbmcvRXhwcmVzc2lvblN0YXRlbWVudC50cyIsInNyYy9FbmdpbmUvVHJhY2luZy9Gb3JJblN0YXRlbWVudC50cyIsInNyYy9FbmdpbmUvVHJhY2luZy9Gb3JTdGF0ZW1lbnQudHMiLCJzcmMvRW5naW5lL1RyYWNpbmcvSWZTdGF0ZW1lbnQudHMiLCJzcmMvRW5naW5lL1RyYWNpbmcvTGFiZWxlZFN0YXRlbWVudC50cyIsInNyYy9FbmdpbmUvVHJhY2luZy9SZXR1cm5TdGF0ZW1lbnQudHMiLCJzcmMvRW5naW5lL1RyYWNpbmcvU3dpdGNoU3RhdGVtZW50LnRzIiwic3JjL0VuZ2luZS9UcmFjaW5nL1Rocm93U3RhdGVtZW50LnRzIiwic3JjL0VuZ2luZS9UcmFjaW5nL1RyeUNhdGNoU3RhdGVtZW50LnRzIiwic3JjL0VuZ2luZS9UcmFjaW5nL1ZhcmlhYmxlRGVjbGFyYXRpb24udHMiLCJzcmMvRW5naW5lL1RyYWNpbmcvV2hpbGVTdGF0ZW1lbnQudHMiLCJzcmMvRW5naW5lL1RyYWNpbmcvV2l0aFN0YXRlbWVudC50cyIsInNyYy9FbmdpbmUvVW5hcnlPcGVyYXRvcnMudHMiLCJzcmMvRXJyb3IudHMiLCJzcmMvR2V0SWRlbnRpZmllclJlZmVyZW5jZS50cyIsInNyYy9HZXRWYWx1ZS50cyIsInNyYy9IYXNJbnN0YW5jZS50cyIsInNyYy9JbnN0YW5jZXMudHMiLCJzcmMvSW50ZXJmYWNlcy50cyIsInNyYy9MYWJlbC50cyIsInNyYy9MZXhpY2FsRW52aXJvbm1lbnQudHMiLCJzcmMvTW9kdWxlL0NvbW1vbkpTL01vZHVsZS50cyIsInNyYy9Nb2R1bGUvQ29tbW9uSlMvUmVxdWlyZS50cyIsInNyYy9Nb2R1bGUvTW9kdWxlLnRzIiwic3JjL01vZHVsZS9SZXF1aXJlLnRzIiwic3JjL01vbml0b3JCYXNlLnRzIiwic3JjL09iamVjdEVudmlyb25tZW50UmVjb3JkLnRzIiwic3JjL09iamVjdHMvQXJndW1lbnRzT2JqZWN0LnRzIiwic3JjL09iamVjdHMvQXJyYXlPYmplY3QudHMiLCJzcmMvT2JqZWN0cy9Cb29sZWFuT2JqZWN0LnRzIiwic3JjL09iamVjdHMvQnVpbHRpbkZ1bmN0aW9uT2JqZWN0LnRzIiwic3JjL09iamVjdHMvQnVpbHRpbk1ldGhvZE9iamVjdC50cyIsInNyYy9PYmplY3RzL0RhdGVPYmplY3QudHMiLCJzcmMvT2JqZWN0cy9FY21hT2JqZWN0LnRzIiwic3JjL09iamVjdHMvRXJyb3JPYmplY3QudHMiLCJzcmMvT2JqZWN0cy9FdmFsRXJyb3JPYmplY3QudHMiLCJzcmMvT2JqZWN0cy9GdW5jdGlvbk9iamVjdC50cyIsInNyYy9PYmplY3RzL0dsb2JhbE9iamVjdC50cyIsInNyYy9PYmplY3RzL0pTT05PYmplY3QudHMiLCJzcmMvT2JqZWN0cy9NYXRoT2JqZWN0LnRzIiwic3JjL09iamVjdHMvTmF0aXZlRXJyb3JPYmplY3QudHMiLCJzcmMvT2JqZWN0cy9OdW1iZXJPYmplY3QudHMiLCJzcmMvT2JqZWN0cy9PYmplY3RPYmplY3QudHMiLCJzcmMvT2JqZWN0cy9SYW5nZUVycm9yT2JqZWN0LnRzIiwic3JjL09iamVjdHMvUmVmZXJlbmNlRXJyb3JPYmplY3QudHMiLCJzcmMvT2JqZWN0cy9SZWdFeHBPYmplY3QudHMiLCJzcmMvT2JqZWN0cy9TdHJpbmdPYmplY3QudHMiLCJzcmMvT2JqZWN0cy9TeW50YXhFcnJvck9iamVjdC50cyIsInNyYy9PYmplY3RzL1R5cGVFcnJvck9iamVjdC50cyIsInNyYy9PYmplY3RzL1VSSUVycm9yT2JqZWN0LnRzIiwic3JjL09wdGlvbnMudHMiLCJzcmMvUFAudHMiLCJzcmMvUHJvcGVydHlEZXNjcmlwdG9yLnRzIiwic3JjL1Byb3RvdHlwZXMvQXJyYXlQcm90b3R5cGUudHMiLCJzcmMvUHJvdG90eXBlcy9Cb29sZWFuUHJvdG90eXBlLnRzIiwic3JjL1Byb3RvdHlwZXMvRGF0ZVByb3RvdHlwZS50cyIsInNyYy9Qcm90b3R5cGVzL0Vycm9yUHJvdG90eXBlLnRzIiwic3JjL1Byb3RvdHlwZXMvRXZhbEVycm9yUHJvdG90eXBlLnRzIiwic3JjL1Byb3RvdHlwZXMvRnVuY3Rpb25Qcm90b3R5cGUudHMiLCJzcmMvUHJvdG90eXBlcy9OdW1iZXJQcm90b3R5cGUudHMiLCJzcmMvUHJvdG90eXBlcy9PYmplY3RQcm90b3R5cGUudHMiLCJzcmMvUHJvdG90eXBlcy9SYW5nZUVycm9yUHJvdG90eXBlLnRzIiwic3JjL1Byb3RvdHlwZXMvUmVmZXJlbmNlRXJyb3JQcm90b3R5cGUudHMiLCJzcmMvUHJvdG90eXBlcy9SZWdFeHBQcm90b3R5cGUudHMiLCJzcmMvUHJvdG90eXBlcy9TdHJpbmdQcm90b3R5cGUudHMiLCJzcmMvUHJvdG90eXBlcy9TeW50YXhFcnJvclByb3RvdHlwZS50cyIsInNyYy9Qcm90b3R5cGVzL1R5cGVFcnJvclByb3RvdHlwZS50cyIsInNyYy9Qcm90b3R5cGVzL1VSSUVycm9yUHJvdG90eXBlLnRzIiwic3JjL1B1dFZhbHVlLnRzIiwic3JjL1JlZmVyZW5jZS50cyIsInNyYy9SZXN1bHQudHMiLCJzcmMvU3RhY2sudHMiLCJzcmMvU3RhY2tUcmFjZS50cyIsInNyYy9UaHJvd1R5cGVFcnJvci50cyIsInNyYy9Ub3BsZXZlbC9jcmF3bGVyL0NyYXdsZXJVdGlsLnRzIiwic3JjL1RvcGxldmVsL2pzZmxvdy9KU0Zsb3dDaGFsbGVuZ2VCYXNlLnRzIiwic3JjL1RvcGxldmVsL2pzZmxvdy9KU0Zsb3dNb25pdG9yLnRzIiwic3JjL1V0aWxpdHkvQ2hlY2tPYmplY3RDb2VyY2libGUudHMiLCJzcmMvVXRpbGl0eS9Jc0NhbGxhYmxlLnRzIiwic3JjL1V0aWxpdHkvSXNDb25zdHJ1Y3Rvci50cyIsInNyYy9WYWx1ZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN4SkE7OztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQ3JFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FDdndEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FDNWpGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3pIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDNUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbkVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQy9HQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQy9FQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNsSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3puQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3phQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDN1pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN4ZUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzdGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzVtTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzl3QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNoSkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdklBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3JLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNqQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDcEZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDckZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM5REE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaE1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDak1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNuYUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM5RkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQy9MQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN0REE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzVJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM5RUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDekdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN0ZEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDMUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDOUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3gwQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDMUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDM0ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN6VUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzVDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN6REE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDLzZDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMxQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDN0ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ2xqQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FDOVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUN4TEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQzFrQkEsaUNBQThCO0FBQzlCLGlDQUFnQztBQUVyQixRQUFBLEtBQUssR0FBRyxJQUFJLGFBQUssQ0FBQyxPQUFPLEVBQUUs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QkFBUSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLGFBQUssQ0FBQyxHQUFHLEVBQUUsV0FBRyxDQUFDLENBQUM7SUFDMUQsT0FBTyxJQUFJLGFBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUM7QUFDbEQsQ0FBQztBQUVELCtEQUErRDtBQUMvRCxnQkFBZ0I7QUFDaEIsU0FBUyxHQUFHLENBQW9DLE9BQTBCLEVBQUUsSUFBeUI7SUFDakcsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxtQkFBUSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLGFBQUssQ0FBQyxHQUFHLEVBQUUsV0FBRyxDQUFDLENBQUM7SUFDMUQsT0FBTyxJQUFJLGFBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUM7QUFDbEQsQ0FBQztBQUVELCtEQUErRDtBQUMvRCxrQkFBa0I7QUFDbEIsU0FBUyxLQUFLLENBQW9DLE9BQTBCLEVBQUUsSUFBeUI7SUFDbkcsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxtQkFBUSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLGFBQUssQ0FBQyxHQUFHLEVBQUUsV0FBRyxDQUFDLENBQUM7SUFDMUQsT0FBTyxJQUFJLGFBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUM7QUFDbEQsQ0FBQztBQUVELCtEQUErRDtBQUMvRCxpQkFBaUI7QUFDakIsU0FBUyxHQUFHLENBQW9DLE9BQTBCLEVBQUUsSUFBeUI7SUFD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QztBQUFELENBMUhBLEFBMEhDLElBQUE7QUExSFksc0JBQUs7QUE0SGxCLFNBQVMsU0FBUyxDQUFJLENBQVEsRUFBRSxDQUFVO0lBQ3hDLE9BQU8sQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQzFCLElBQUksR0FBRyxHQUFHLENBQUMsRUFBRSxDQUFDO0lBQ2QsT0FBTyxDQUFDLE9BQU8sQ0FBQyxLQUFLLEVBQUUsQ0FBQztJQUV4QixJQUFJLEdBQUcsWUFBWSxLQUFLLEVBQUU7UUFDeEIsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztLQUNkO0lBRUQsT0FBTyxHQUFHLENBQUM7QUFDYixDQUFDIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwiJ3VzZSBzdHJpY3QnXG5cbmV4cG9ydHMuYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGhcbmV4cG9ydHMudG9CeXRlQXJyYXkgPSB0b0J5dGVBcnJheVxuZXhwb3J0cy5mcm9tQnl0ZUFycmF5ID0gZnJvbUJ5dGVBcnJheVxuXG52YXIgbG9va3VwID0gW11cbnZhciByZXZMb29rdXAgPSBbXVxudmFyIEFyciA9IHR5cGVvZiBVaW50OEFycmF5ICE9PSAndW5kZWZpbmVkJyA/IFVpbnQ4QXJyYXkgOiBBcnJheVxuXG52YXIgY29kZSA9ICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvJ1xuZm9yICh2YXIgaSA9IDAsIGxlbiA9IGNvZGUubGVuZ3RoOyBpIDwgbGVuOyArK2kpIHtcbiAgbG9va3VwW2ldID0gY29kZVtpXVxuICByZXZMb29rdXBbY29kZS5jaGFyQ29kZUF0KGkpXSA9IGlcbn1cblxuLy8gU3VwcG9ydCBkZWNvZGluZyBVUkwtc2FmZSBiYXNlNjQgc3RyaW5ncywgYXMgTm9kZS5qcyBkb2VzLlxuLy8gU2VlOiBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9CYXNlNjQjVVJMX2FwcGxpY2F0aW9uc1xucmV2TG9va3VwWyctJy5jaGFyQ29kZUF0KDApXSA9IDYyXG5yZXZMb29rdXBbJ18nLmNoYXJDb2RlQXQoMCldID0gNjNcblxuZnVuY3Rpb24gZ2V0TGVucyAoYjY0KSB7XG4gIHZhciBsZW4gPSBiNjQubGVuZ3RoXG5cbiAgaWYgKGxlbiAlIDQgPiAwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHN0cmluZy4gTGVuZ3RoIG11c3QgYmUgYSBtdWx0aXBsZSBvZiA0JylcbiAgfVxuXG4gIC8vIFRyaW0gb2ZmIGV4dHJhIGJ5dGVzIGFmdGVyIHBsYWNlaG9sZGVyIGJ5dGVzIGFyZSBmb3VuZFxuICAvLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9iZWF0Z2FtbWl0L2Jhc2U2NC1qcy9pc3N1ZXMvNDJcbiAgdmFyIHZhbGlkTGVuID0gYjY0LmluZGV4T2YoJz0nKVxuICBpZiAodmFsaWRMZW4gPT09IC0xKSB2YWxpZExlbiA9IGxlblxuXG4gIHZhciBwbGFjZUhvbGRlcnNMZW4gPSB2YWxpZExlbiA9PT0gbGVuXG4gICAgPyAwXG4gICAgOiA0IC0gKHZhbGlkTGVuICUgNClcblxuICByZXR1cm4gW3ZhbGlkTGVuLCBwbGFjZUhvbGRlcnNMZW5dXG59XG5cbi8vIGJhc2U2NCBpcyA0LzMgKyB1cCB0byB0d28gY2hhcmFjdGVycyBvZiB0aGUgb3JpZ2luYWwgZGF0YVxuZnVuY3Rpb24gYnl0ZUxlbmd0aCAoYjY0KSB7XG4gIHZhciBsZW5zID0gZ2V0TGVucyhiNjQpXG4gIHZhciB2YWxpZExlbiA9IGxlbnNbMF1cbiAgdmFyIHBsYWNlSG9sZGVyc0xlbiA9IGxlbnNbMV1cbiAgcmV0dXJuICgodmFsaWRMZW4gKyBwbGFjZUhvbGRlcnNMZW4pICogMyAvIDQpIC0gcGxhY2VIb2xkZXJzTGVuXG59XG5cbmZ1bmN0aW9uIF9ieXRlTGVuZ3RoIChiNjQsIHZhbGlkTGVuLCBwbGFjZUhvbGRlcnNMZW4pIHtcbiAgcmV0dXJuICgodmFsaWRMZW4gKyBwbGFjZUhvbGRlcnNMZW4pICogMyAvIDQpIC0gcGxhY2VIb2xkZXJzTGVuXG59XG5cbmZ1bmN0aW9uIHRvQnl0ZUFycmF5IChiNjQpIHtcbiAgdmFyIHRtcFxuICB2YXIgbGVucyA9IGdldExlbnMoYjY0KVxuICB2YXIgdmFsaWRMZW4gPSBsZW5zWzBdXG4gIHZhciBwbGFjZUhvbGRlcnNMZW4gPSBsZW5zWzFdXG5cbiAgdmFyIGFyciA9IG5ldyBBcnIoX2J5dGVMZW5ndGgoYjY0LCB2YWxpZExlbiwgcGxhY2VIb2xkZXJzTGVuKSlcblxuICB2YXIgY3VyQnl0ZSA9IDBcblxuICAvLyBpZiB0aGVyZSBhcmUgcGxhY2Vob2xkZXJzLCBvbmx5IGdldCB1cCB0byB0aGUgbGFzdCBjb21wbGV0ZSA0IGNoYXJzXG4gIHZhciBsZW4gPSBwbGFjZUhvbGRlcnNMZW4gPiAwXG4gICAgPyB2YWxpZExlbiAtIDRcbiAgICA6IHZhbGlkTGVuXG5cbiAgdmFyIGlcbiAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSArPSA0KSB7XG4gICAgdG1wID1cbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSldIDw8IDE4KSB8XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAxKV0gPDwgMTIpIHxcbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDIpXSA8PCA2KSB8XG4gICAgICByZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDMpXVxuICAgIGFycltjdXJCeXRlKytdID0gKHRtcCA+PiAxNikgJiAweEZGXG4gICAgYXJyW2N1ckJ5dGUrK10gPSAodG1wID4+IDgpICYgMHhGRlxuICAgIGFycltjdXJCeXRlKytdID0gdG1wICYgMHhGRlxuICB9XG5cbiAgaWYgKHBsYWNlSG9sZGVyc0xlbiA9PT0gMikge1xuICAgIHRtcCA9XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkpXSA8PCAyKSB8XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAxKV0gPj4gNClcbiAgICBhcnJbY3VyQnl0ZSsrXSA9IHRtcCAmIDB4RkZcbiAgfVxuXG4gIGlmIChwbGFjZUhvbGRlcnNMZW4gPT09IDEpIHtcbiAgICB0bXAgPVxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpKV0gPDwgMTApIHxcbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDEpXSA8PCA0KSB8XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAyKV0gPj4gMilcbiAgICBhcnJbY3VyQnl0ZSsrXSA9ICh0bXAgPj4gOCkgJiAweEZGXG4gICAgYXJyW2N1ckJ5dGUrK10gPSB0bXAgJiAweEZGXG4gIH1cblxuICByZXR1cm4gYXJyXG59XG5cbmZ1bmN0aW9uIHRyaXBsZXRUb0Jhc2U2NCAobnVtKSB7XG4gIHJldHVybiBsb29rdXBbbnVtID4+IDE4ICYgMHgzRl0gK1xuICAgIGxvb2t1cFtudW0gPj4gMTIgJiAweDNGXSArXG4gICAgbG9va3VwW251bSA+PiA2ICYgMHgzRl0gK1xuICAgIGxvb2t1cFtudW0gJiAweDNGXVxufVxuXG5mdW5jdGlvbiBlbmNvZGVDaHVuayAodWludDgsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIHRtcFxuICB2YXIgb3V0cHV0ID0gW11cbiAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZW5kOyBpICs9IDMpIHtcbiAgICB0bXAgPVxuICAgICAgKCh1aW50OFtpXSA8PCAxNikgJiAweEZGMDAwMCkgK1xuICAgICAgKCh1aW50OFtpICsgMV0gPDwgOCkgJiAweEZGMDApICtcbiAgICAgICh1aW50OFtpICsgMl0gJiAweEZGKVxuICAgIG91dHB1dC5wdXNoKHRyaXBsZXRUb0Jhc2U2NCh0bXApKVxuICB9XG4gIHJldHVybiBvdXRwdXQuam9pbignJylcbn1cblxuZnVuY3Rpb24gZnJvbUJ5dGVBcnJheSAodWludDgpIHtcbiAgdmFyIHRtcFxuICB2YXIgbGVuID0gdWludDgubGVuZ3RoXG4gIHZhciBleHRyYUJ5dGVzID0gbGVuICUgMyAvLyBpZiB3ZSBoYXZlIDEgYnl0ZSBsZWZ0LCBwYWQgMiBieXRlc1xuICB2YXIgcGFydHMgPSBbXVxuICB2YXIgbWF4Q2h1bmtMZW5ndGggPSAxNjM4MyAvLyBtdXN0IGJlIG11bHRpcGxlIG9mIDNcblxuICAvLyBnbyB0aHJvdWdoIHRoZSBhcnJheSBldmVyeSB0aHJlZSBieXRlcywgd2UnbGwgZGVhbCB3aXRoIHRyYWlsaW5nIHN0dWZmIGxhdGVyXG4gIGZvciAodmFyIGkgPSAwLCBsZW4yID0gbGVuIC0gZXh0cmFCeXRlczsgaSA8IGxlbjI7IGkgKz0gbWF4Q2h1bmtMZW5ndGgpIHtcbiAgICBwYXJ0cy5wdXNoKGVuY29kZUNodW5rKFxuICAgICAgdWludDgsIGksIChpICsgbWF4Q2h1bmtMZW5ndGgpID4gbGVuMiA/IGxlbjIgOiAoaSArIG1heENodW5rTGVuZ3RoKVxuICAgICkpXG4gIH1cblxuICAvLyBwYWQgdGhlIGVuZCB3aXRoIHplcm9zLCBidXQgbWFrZSBzdXJlIHRvIG5vdCBmb3JnZXQgdGhlIGV4dHJhIGJ5dGVzXG4gIGlmIChleHRyYUJ5dGVzID09PSAxKSB7XG4gICAgdG1wID0gdWludDhbbGVuIC0gMV1cbiAgICBwYXJ0cy5wdXNoKFxuICAgICAgbG9va3VwW3RtcCA+PiAyXSArXG4gICAgICBsb29rdXBbKHRtcCA8PCA0KSAmIDB4M0ZdICtcbiAgICAgICc9PSdcbiAgICApXG4gIH0gZWxzZSBpZiAoZXh0cmFCeXRlcyA9PT0gMikge1xuICAgIHRtcCA9ICh1aW50OFtsZW4gLSAyXSA8PCA4KSArIHVpbnQ4W2xlbiAtIDFdXG4gICAgcGFydHMucHVzaChcbiAgICAgIGxvb2t1cFt0bXAgPj4gMTBdICtcbiAgICAgIGxvb2t1cFsodG1wID4+IDQpICYgMHgzRl0gK1xuICAgICAgbG9va3VwWyh0bXAgPDwgMikgJiAweDNGXSArXG4gICAgICAnPSdcbiAgICApXG4gIH1cblxuICByZXR1cm4gcGFydHMuam9pbignJylcbn1cbiIsIiIsInZhciB0b1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmdcblxudmFyIGlzTW9kZXJuID0gKFxuICB0eXBlb2YgQnVmZmVyLmFsbG9jID09PSAnZnVuY3Rpb24nICYmXG4gIHR5cGVvZiBCdWZmZXIuYWxsb2NVbnNhZmUgPT09ICdmdW5jdGlvbicgJiZcbiAgdHlwZW9mIEJ1ZmZlci5mcm9tID09PSAnZnVuY3Rpb24nXG4pXG5cbmZ1bmN0aW9uIGlzQXJyYXlCdWZmZXIgKGlucHV0KSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKGlucHV0KS5zbGljZSg4LCAtMSkgPT09ICdBcnJheUJ1ZmZlcidcbn1cblxuZnVuY3Rpb24gZnJvbUFycmF5QnVmZmVyIChvYmosIGJ5dGVPZmZzZXQsIGxlbmd0aCkge1xuICBieXRlT2Zmc2V0ID4+Pj0gMFxuXG4gIHZhciBtYXhMZW5ndGggPSBvYmouYnl0ZUxlbmd0aCAtIGJ5dGVPZmZzZXRcblxuICBpZiAobWF4TGVuZ3RoIDwgMCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiJ29mZnNldCcgaXMgb3V0IG9mIGJvdW5kc1wiKVxuICB9XG5cbiAgaWYgKGxlbmd0aCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgbGVuZ3RoID0gbWF4TGVuZ3RoXG4gIH0gZWxzZSB7XG4gICAgbGVuZ3RoID4+Pj0gMFxuXG4gICAgaWYgKGxlbmd0aCA+IG1heExlbmd0aCkge1xuICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCInbGVuZ3RoJyBpcyBvdXQgb2YgYm91bmRzXCIpXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGlzTW9kZXJuXG4gICAgPyBCdWZmZXIuZnJvbShvYmouc2xpY2UoYnl0ZU9mZnNldCwgYnl0ZU9mZnNldCArIGxlbmd0aCkpXG4gICAgOiBuZXcgQnVmZmVyKG5ldyBVaW50OEFycmF5KG9iai5zbGljZShieXRlT2Zmc2V0LCBieXRlT2Zmc2V0ICsgbGVuZ3RoKSkpXG59XG5cbmZ1bmN0aW9uIGZyb21TdHJpbmcgKHN0cmluZywgZW5jb2RpbmcpIHtcbiAgaWYgKHR5cGVvZiBlbmNvZGluZyAhPT0gJ3N0cmluZycgfHwgZW5jb2RpbmcgPT09ICcnKSB7XG4gICAgZW5jb2RpbmcgPSAndXRmOCdcbiAgfVxuXG4gIGlmICghQnVmZmVyLmlzRW5jb2RpbmcoZW5jb2RpbmcpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJlbmNvZGluZ1wiIG11c3QgYmUgYSB2YWxpZCBzdHJpbmcgZW5jb2RpbmcnKVxuICB9XG5cbiAgcmV0dXJuIGlzTW9kZXJuXG4gICAgPyBCdWZmZXIuZnJvbShzdHJpbmcsIGVuY29kaW5nKVxuICAgIDogbmV3IEJ1ZmZlcihzdHJpbmcsIGVuY29kaW5nKVxufVxuXG5mdW5jdGlvbiBidWZmZXJGcm9tICh2YWx1ZSwgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKSB7XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJ2YWx1ZVwiIGFyZ3VtZW50IG11c3Qgbm90IGJlIGEgbnVtYmVyJylcbiAgfVxuXG4gIGlmIChpc0FycmF5QnVmZmVyKHZhbHVlKSkge1xuICAgIHJldHVybiBmcm9tQXJyYXlCdWZmZXIodmFsdWUsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aClcbiAgfVxuXG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIGZyb21TdHJpbmcodmFsdWUsIGVuY29kaW5nT3JPZmZzZXQpXG4gIH1cblxuICByZXR1cm4gaXNNb2Rlcm5cbiAgICA/IEJ1ZmZlci5mcm9tKHZhbHVlKVxuICAgIDogbmV3IEJ1ZmZlcih2YWx1ZSlcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBidWZmZXJGcm9tXG4iLCIvKiFcbiAqIFRoZSBidWZmZXIgbW9kdWxlIGZyb20gbm9kZS5qcywgZm9yIHRoZSBicm93c2VyLlxuICpcbiAqIEBhdXRob3IgICBGZXJvc3MgQWJvdWtoYWRpamVoIDxodHRwczovL2Zlcm9zcy5vcmc+XG4gKiBAbGljZW5zZSAgTUlUXG4gKi9cbi8qIGVzbGludC1kaXNhYmxlIG5vLXByb3RvICovXG5cbid1c2Ugc3RyaWN0J1xuXG52YXIgYmFzZTY0ID0gcmVxdWlyZSgnYmFzZTY0LWpzJylcbnZhciBpZWVlNzU0ID0gcmVxdWlyZSgnaWVlZTc1NCcpXG52YXIgY3VzdG9tSW5zcGVjdFN5bWJvbCA9XG4gICh0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBTeW1ib2wuZm9yID09PSAnZnVuY3Rpb24nKVxuICAgID8gU3ltYm9sLmZvcignbm9kZWpzLnV0aWwuaW5zcGVjdC5jdXN0b20nKVxuICAgIDogbnVsbFxuXG5leHBvcnRzLkJ1ZmZlciA9IEJ1ZmZlclxuZXhwb3J0cy5TbG93QnVmZmVyID0gU2xvd0J1ZmZlclxuZXhwb3J0cy5JTlNQRUNUX01BWF9CWVRFUyA9IDUwXG5cbnZhciBLX01BWF9MRU5HVEggPSAweDdmZmZmZmZmXG5leHBvcnRzLmtNYXhMZW5ndGggPSBLX01BWF9MRU5HVEhcblxuLyoqXG4gKiBJZiBgQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlRgOlxuICogICA9PT0gdHJ1ZSAgICBVc2UgVWludDhBcnJheSBpbXBsZW1lbnRhdGlvbiAoZmFzdGVzdClcbiAqICAgPT09IGZhbHNlICAgUHJpbnQgd2FybmluZyBhbmQgcmVjb21tZW5kIHVzaW5nIGBidWZmZXJgIHY0Lnggd2hpY2ggaGFzIGFuIE9iamVjdFxuICogICAgICAgICAgICAgICBpbXBsZW1lbnRhdGlvbiAobW9zdCBjb21wYXRpYmxlLCBldmVuIElFNilcbiAqXG4gKiBCcm93c2VycyB0aGF0IHN1cHBvcnQgdHlwZWQgYXJyYXlzIGFyZSBJRSAxMCssIEZpcmVmb3ggNCssIENocm9tZSA3KywgU2FmYXJpIDUuMSssXG4gKiBPcGVyYSAxMS42KywgaU9TIDQuMisuXG4gKlxuICogV2UgcmVwb3J0IHRoYXQgdGhlIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCB0eXBlZCBhcnJheXMgaWYgdGhlIGFyZSBub3Qgc3ViY2xhc3NhYmxlXG4gKiB1c2luZyBfX3Byb3RvX18uIEZpcmVmb3ggNC0yOSBsYWNrcyBzdXBwb3J0IGZvciBhZGRpbmcgbmV3IHByb3BlcnRpZXMgdG8gYFVpbnQ4QXJyYXlgXG4gKiAoU2VlOiBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD02OTU0MzgpLiBJRSAxMCBsYWNrcyBzdXBwb3J0XG4gKiBmb3IgX19wcm90b19fIGFuZCBoYXMgYSBidWdneSB0eXBlZCBhcnJheSBpbXBsZW1lbnRhdGlvbi5cbiAqL1xuQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQgPSB0eXBlZEFycmF5U3VwcG9ydCgpXG5cbmlmICghQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQgJiYgdHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnICYmXG4gICAgdHlwZW9mIGNvbnNvbGUuZXJyb3IgPT09ICdmdW5jdGlvbicpIHtcbiAgY29uc29sZS5lcnJvcihcbiAgICAnVGhpcyBicm93c2VyIGxhY2tzIHR5cGVkIGFycmF5IChVaW50OEFycmF5KSBzdXBwb3J0IHdoaWNoIGlzIHJlcXVpcmVkIGJ5ICcgK1xuICAgICdgYnVmZmVyYCB2NS54LiBVc2UgYGJ1ZmZlcmAgdjQueCBpZiB5b3UgcmVxdWlyZSBvbGQgYnJvd3NlciBzdXBwb3J0LidcbiAgKVxufVxuXG5mdW5jdGlvbiB0eXBlZEFycmF5U3VwcG9ydCAoKSB7XG4gIC8vIENhbiB0eXBlZCBhcnJheSBpbnN0YW5jZXMgY2FuIGJlIGF1Z21lbnRlZD9cbiAgdHJ5IHtcbiAgICB2YXIgYXJyID0gbmV3IFVpbnQ4QXJyYXkoMSlcbiAgICB2YXIgcHJvdG8gPSB7IGZvbzogZnVuY3Rpb24gKCkgeyByZXR1cm4gNDIgfSB9XG4gICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHByb3RvLCBVaW50OEFycmF5LnByb3RvdHlwZSlcbiAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YoYXJyLCBwcm90bylcbiAgICByZXR1cm4gYXJyLmZvbygpID09PSA0MlxuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cbn1cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KEJ1ZmZlci5wcm90b3R5cGUsICdwYXJlbnQnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gKCkge1xuICAgIGlmICghQnVmZmVyLmlzQnVmZmVyKHRoaXMpKSByZXR1cm4gdW5kZWZpbmVkXG4gICAgcmV0dXJuIHRoaXMuYnVmZmVyXG4gIH1cbn0pXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShCdWZmZXIucHJvdG90eXBlLCAnb2Zmc2V0Jywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcih0aGlzKSkgcmV0dXJuIHVuZGVmaW5lZFxuICAgIHJldHVybiB0aGlzLmJ5dGVPZmZzZXRcbiAgfVxufSlcblxuZnVuY3Rpb24gY3JlYXRlQnVmZmVyIChsZW5ndGgpIHtcbiAgaWYgKGxlbmd0aCA+IEtfTUFYX0xFTkdUSCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdUaGUgdmFsdWUgXCInICsgbGVuZ3RoICsgJ1wiIGlzIGludmFsaWQgZm9yIG9wdGlvbiBcInNpemVcIicpXG4gIH1cbiAgLy8gUmV0dXJuIGFuIGF1Z21lbnRlZCBgVWludDhBcnJheWAgaW5zdGFuY2VcbiAgdmFyIGJ1ZiA9IG5ldyBVaW50OEFycmF5KGxlbmd0aClcbiAgT2JqZWN0LnNldFByb3RvdHlwZU9mKGJ1ZiwgQnVmZmVyLnByb3RvdHlwZSlcbiAgcmV0dXJuIGJ1ZlxufVxuXG4vKipcbiAqIFRoZSBCdWZmZXIgY29uc3RydWN0b3IgcmV0dXJucyBpbnN0YW5jZXMgb2YgYFVpbnQ4QXJyYXlgIHRoYXQgaGF2ZSB0aGVpclxuICogcHJvdG90eXBlIGNoYW5nZWQgdG8gYEJ1ZmZlci5wcm90b3R5cGVgLiBGdXJ0aGVybW9yZSwgYEJ1ZmZlcmAgaXMgYSBzdWJjbGFzcyBvZlxuICogYFVpbnQ4QXJyYXlgLCBzbyB0aGUgcmV0dXJuZWQgaW5zdGFuY2VzIHdpbGwgaGF2ZSBhbGwgdGhlIG5vZGUgYEJ1ZmZlcmAgbWV0aG9kc1xuICogYW5kIHRoZSBgVWludDhBcnJheWAgbWV0aG9kcy4gU3F1YXJlIGJyYWNrZXQgbm90YXRpb24gd29ya3MgYXMgZXhwZWN0ZWQgLS0gaXRcbiAqIHJldHVybnMgYSBzaW5nbGUgb2N0ZXQuXG4gKlxuICogVGhlIGBVaW50OEFycmF5YCBwcm90b3R5cGUgcmVtYWlucyB1bm1vZGlmaWVkLlxuICovXG5cbmZ1bmN0aW9uIEJ1ZmZlciAoYXJnLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpIHtcbiAgLy8gQ29tbW9uIGNhc2UuXG4gIGlmICh0eXBlb2YgYXJnID09PSAnbnVtYmVyJykge1xuICAgIGlmICh0eXBlb2YgZW5jb2RpbmdPck9mZnNldCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICAgICdUaGUgXCJzdHJpbmdcIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgc3RyaW5nLiBSZWNlaXZlZCB0eXBlIG51bWJlcidcbiAgICAgIClcbiAgICB9XG4gICAgcmV0dXJuIGFsbG9jVW5zYWZlKGFyZylcbiAgfVxuICByZXR1cm4gZnJvbShhcmcsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aClcbn1cblxuLy8gRml4IHN1YmFycmF5KCkgaW4gRVMyMDE2LiBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9mZXJvc3MvYnVmZmVyL3B1bGwvOTdcbmlmICh0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wuc3BlY2llcyAhPSBudWxsICYmXG4gICAgQnVmZmVyW1N5bWJvbC5zcGVjaWVzXSA9PT0gQnVmZmVyKSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCdWZmZXIsIFN5bWJvbC5zcGVjaWVzLCB7XG4gICAgdmFsdWU6IG51bGwsXG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgIHdyaXRhYmxlOiBmYWxzZVxuICB9KVxufVxuXG5CdWZmZXIucG9vbFNpemUgPSA4MTkyIC8vIG5vdCB1c2VkIGJ5IHRoaXMgaW1wbGVtZW50YXRpb25cblxuZnVuY3Rpb24gZnJvbSAodmFsdWUsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aCkge1xuICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBmcm9tU3RyaW5nKHZhbHVlLCBlbmNvZGluZ09yT2Zmc2V0KVxuICB9XG5cbiAgaWYgKEFycmF5QnVmZmVyLmlzVmlldyh2YWx1ZSkpIHtcbiAgICByZXR1cm4gZnJvbUFycmF5TGlrZSh2YWx1ZSlcbiAgfVxuXG4gIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAgICdUaGUgZmlyc3QgYXJndW1lbnQgbXVzdCBiZSBvbmUgb2YgdHlwZSBzdHJpbmcsIEJ1ZmZlciwgQXJyYXlCdWZmZXIsIEFycmF5LCAnICtcbiAgICAgICdvciBBcnJheS1saWtlIE9iamVjdC4gUmVjZWl2ZWQgdHlwZSAnICsgKHR5cGVvZiB2YWx1ZSlcbiAgICApXG4gIH1cblxuICBpZiAoaXNJbnN0YW5jZSh2YWx1ZSwgQXJyYXlCdWZmZXIpIHx8XG4gICAgICAodmFsdWUgJiYgaXNJbnN0YW5jZSh2YWx1ZS5idWZmZXIsIEFycmF5QnVmZmVyKSkpIHtcbiAgICByZXR1cm4gZnJvbUFycmF5QnVmZmVyKHZhbHVlLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpXG4gIH1cblxuICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICAnVGhlIFwidmFsdWVcIiBhcmd1bWVudCBtdXN0IG5vdCBiZSBvZiB0eXBlIG51bWJlci4gUmVjZWl2ZWQgdHlwZSBudW1iZXInXG4gICAgKVxuICB9XG5cbiAgdmFyIHZhbHVlT2YgPSB2YWx1ZS52YWx1ZU9mICYmIHZhbHVlLnZhbHVlT2YoKVxuICBpZiAodmFsdWVPZiAhPSBudWxsICYmIHZhbHVlT2YgIT09IHZhbHVlKSB7XG4gICAgcmV0dXJuIEJ1ZmZlci5mcm9tKHZhbHVlT2YsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aClcbiAgfVxuXG4gIHZhciBiID0gZnJvbU9iamVjdCh2YWx1ZSlcbiAgaWYgKGIpIHJldHVybiBiXG5cbiAgaWYgKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1ByaW1pdGl2ZSAhPSBudWxsICYmXG4gICAgICB0eXBlb2YgdmFsdWVbU3ltYm9sLnRvUHJpbWl0aXZlXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBCdWZmZXIuZnJvbShcbiAgICAgIHZhbHVlW1N5bWJvbC50b1ByaW1pdGl2ZV0oJ3N0cmluZycpLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGhcbiAgICApXG4gIH1cblxuICB0aHJvdyBuZXcgVHlwZUVycm9yKFxuICAgICdUaGUgZmlyc3QgYXJndW1lbnQgbXVzdCBiZSBvbmUgb2YgdHlwZSBzdHJpbmcsIEJ1ZmZlciwgQXJyYXlCdWZmZXIsIEFycmF5LCAnICtcbiAgICAnb3IgQXJyYXktbGlrZSBPYmplY3QuIFJlY2VpdmVkIHR5cGUgJyArICh0eXBlb2YgdmFsdWUpXG4gIClcbn1cblxuLyoqXG4gKiBGdW5jdGlvbmFsbHkgZXF1aXZhbGVudCB0byBCdWZmZXIoYXJnLCBlbmNvZGluZykgYnV0IHRocm93cyBhIFR5cGVFcnJvclxuICogaWYgdmFsdWUgaXMgYSBudW1iZXIuXG4gKiBCdWZmZXIuZnJvbShzdHJbLCBlbmNvZGluZ10pXG4gKiBCdWZmZXIuZnJvbShhcnJheSlcbiAqIEJ1ZmZlci5mcm9tKGJ1ZmZlcilcbiAqIEJ1ZmZlci5mcm9tKGFycmF5QnVmZmVyWywgYnl0ZU9mZnNldFssIGxlbmd0aF1dKVxuICoqL1xuQnVmZmVyLmZyb20gPSBmdW5jdGlvbiAodmFsdWUsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gZnJvbSh2YWx1ZSwgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKVxufVxuXG4vLyBOb3RlOiBDaGFuZ2UgcHJvdG90eXBlICphZnRlciogQnVmZmVyLmZyb20gaXMgZGVmaW5lZCB0byB3b3JrYXJvdW5kIENocm9tZSBidWc6XG4vLyBodHRwczovL2dpdGh1Yi5jb20vZmVyb3NzL2J1ZmZlci9wdWxsLzE0OFxuT2JqZWN0LnNldFByb3RvdHlwZU9mKEJ1ZmZlci5wcm90b3R5cGUsIFVpbnQ4QXJyYXkucHJvdG90eXBlKVxuT2JqZWN0LnNldFByb3RvdHlwZU9mKEJ1ZmZlciwgVWludDhBcnJheSlcblxuZnVuY3Rpb24gYXNzZXJ0U2l6ZSAoc2l6ZSkge1xuICBpZiAodHlwZW9mIHNpemUgIT09ICdudW1iZXInKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJzaXplXCIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIG51bWJlcicpXG4gIH0gZWxzZSBpZiAoc2l6ZSA8IDApIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignVGhlIHZhbHVlIFwiJyArIHNpemUgKyAnXCIgaXMgaW52YWxpZCBmb3Igb3B0aW9uIFwic2l6ZVwiJylcbiAgfVxufVxuXG5mdW5jdGlvbiBhbGxvYyAoc2l6ZSwgZmlsbCwgZW5jb2RpbmcpIHtcbiAgYXNzZXJ0U2l6ZShzaXplKVxuICBpZiAoc2l6ZSA8PSAwKSB7XG4gICAgcmV0dXJuIGNyZWF0ZUJ1ZmZlcihzaXplKVxuICB9XG4gIGlmIChmaWxsICE9PSB1bmRlZmluZWQpIHtcbiAgICAvLyBPbmx5IHBheSBhdHRlbnRpb24gdG8gZW5jb2RpbmcgaWYgaXQncyBhIHN0cmluZy4gVGhpc1xuICAgIC8vIHByZXZlbnRzIGFjY2lkZW50YWxseSBzZW5kaW5nIGluIGEgbnVtYmVyIHRoYXQgd291bGRcbiAgICAvLyBiZSBpbnRlcnByZXR0ZWQgYXMgYSBzdGFydCBvZmZzZXQuXG4gICAgcmV0dXJuIHR5cGVvZiBlbmNvZGluZyA9PT0gJ3N0cmluZydcbiAgICAgID8gY3JlYXRlQnVmZmVyKHNpemUpLmZpbGwoZmlsbCwgZW5jb2RpbmcpXG4gICAgICA6IGNyZWF0ZUJ1ZmZlcihzaXplKS5maWxsKGZpbGwpXG4gIH1cbiAgcmV0dXJuIGNyZWF0ZUJ1ZmZlcihzaXplKVxufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgZmlsbGVkIEJ1ZmZlciBpbnN0YW5jZS5cbiAqIGFsbG9jKHNpemVbLCBmaWxsWywgZW5jb2RpbmddXSlcbiAqKi9cbkJ1ZmZlci5hbGxvYyA9IGZ1bmN0aW9uIChzaXplLCBmaWxsLCBlbmNvZGluZykge1xuICByZXR1cm4gYWxsb2Moc2l6ZSwgZmlsbCwgZW5jb2RpbmcpXG59XG5cbmZ1bmN0aW9uIGFsbG9jVW5zYWZlIChzaXplKSB7XG4gIGFzc2VydFNpemUoc2l6ZSlcbiAgcmV0dXJuIGNyZWF0ZUJ1ZmZlcihzaXplIDwgMCA/IDAgOiBjaGVja2VkKHNpemUpIHwgMClcbn1cblxuLyoqXG4gKiBFcXVpdmFsZW50IHRvIEJ1ZmZlcihudW0pLCBieSBkZWZhdWx0IGNyZWF0ZXMgYSBub24temVyby1maWxsZWQgQnVmZmVyIGluc3RhbmNlLlxuICogKi9cbkJ1ZmZlci5hbGxvY1Vuc2FmZSA9IGZ1bmN0aW9uIChzaXplKSB7XG4gIHJldHVybiBhbGxvY1Vuc2FmZShzaXplKVxufVxuLyoqXG4gKiBFcXVpdmFsZW50IHRvIFNsb3dCdWZmZXIobnVtKSwgYnkgZGVmYXVsdCBjcmVhdGVzIGEgbm9uLXplcm8tZmlsbGVkIEJ1ZmZlciBpbnN0YW5jZS5cbiAqL1xuQnVmZmVyLmFsbG9jVW5zYWZlU2xvdyA9IGZ1bmN0aW9uIChzaXplKSB7XG4gIHJldHVybiBhbGxvY1Vuc2FmZShzaXplKVxufVxuXG5mdW5jdGlvbiBmcm9tU3RyaW5nIChzdHJpbmcsIGVuY29kaW5nKSB7XG4gIGlmICh0eXBlb2YgZW5jb2RpbmcgIT09ICdzdHJpbmcnIHx8IGVuY29kaW5nID09PSAnJykge1xuICAgIGVuY29kaW5nID0gJ3V0ZjgnXG4gIH1cblxuICBpZiAoIUJ1ZmZlci5pc0VuY29kaW5nKGVuY29kaW5nKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Vua25vd24gZW5jb2Rpbmc6ICcgKyBlbmNvZGluZylcbiAgfVxuXG4gIHZhciBsZW5ndGggPSBieXRlTGVuZ3RoKHN0cmluZywgZW5jb2RpbmcpIHwgMFxuICB2YXIgYnVmID0gY3JlYXRlQnVmZmVyKGxlbmd0aClcblxuICB2YXIgYWN0dWFsID0gYnVmLndyaXRlKHN0cmluZywgZW5jb2RpbmcpXG5cbiAgaWYgKGFjdHVhbCAhPT0gbGVuZ3RoKSB7XG4gICAgLy8gV3JpdGluZyBhIGhleCBzdHJpbmcsIGZvciBleGFtcGxlLCB0aGF0IGNvbnRhaW5zIGludmFsaWQgY2hhcmFjdGVycyB3aWxsXG4gICAgLy8gY2F1c2UgZXZlcnl0aGluZyBhZnRlciB0aGUgZmlyc3QgaW52YWxpZCBjaGFyYWN0ZXIgdG8gYmUgaWdub3JlZC4gKGUuZy5cbiAgICAvLyAnYWJ4eGNkJyB3aWxsIGJlIHRyZWF0ZWQgYXMgJ2FiJylcbiAgICBidWYgPSBidWYuc2xpY2UoMCwgYWN0dWFsKVxuICB9XG5cbiAgcmV0dXJuIGJ1ZlxufVxuXG5mdW5jdGlvbiBmcm9tQXJyYXlMaWtlIChhcnJheSkge1xuICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoIDwgMCA/IDAgOiBjaGVja2VkKGFycmF5Lmxlbmd0aCkgfCAwXG4gIHZhciBidWYgPSBjcmVhdGVCdWZmZXIobGVuZ3RoKVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSArPSAxKSB7XG4gICAgYnVmW2ldID0gYXJyYXlbaV0gJiAyNTVcbiAgfVxuICByZXR1cm4gYnVmXG59XG5cbmZ1bmN0aW9uIGZyb21BcnJheUJ1ZmZlciAoYXJyYXksIGJ5dGVPZmZzZXQsIGxlbmd0aCkge1xuICBpZiAoYnl0ZU9mZnNldCA8IDAgfHwgYXJyYXkuYnl0ZUxlbmd0aCA8IGJ5dGVPZmZzZXQpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignXCJvZmZzZXRcIiBpcyBvdXRzaWRlIG9mIGJ1ZmZlciBib3VuZHMnKVxuICB9XG5cbiAgaWYgKGFycmF5LmJ5dGVMZW5ndGggPCBieXRlT2Zmc2V0ICsgKGxlbmd0aCB8fCAwKSkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdcImxlbmd0aFwiIGlzIG91dHNpZGUgb2YgYnVmZmVyIGJvdW5kcycpXG4gIH1cblxuICB2YXIgYnVmXG4gIGlmIChieXRlT2Zmc2V0ID09PSB1bmRlZmluZWQgJiYgbGVuZ3RoID09PSB1bmRlZmluZWQpIHtcbiAgICBidWYgPSBuZXcgVWludDhBcnJheShhcnJheSlcbiAgfSBlbHNlIGlmIChsZW5ndGggPT09IHVuZGVmaW5lZCkge1xuICAgIGJ1ZiA9IG5ldyBVaW50OEFycmF5KGFycmF5LCBieXRlT2Zmc2V0KVxuICB9IGVsc2Uge1xuICAgIGJ1ZiA9IG5ldyBVaW50OEFycmF5KGFycmF5LCBieXRlT2Zmc2V0LCBsZW5ndGgpXG4gIH1cblxuICAvLyBSZXR1cm4gYW4gYXVnbWVudGVkIGBVaW50OEFycmF5YCBpbnN0YW5jZVxuICBPYmplY3Quc2V0UHJvdG90eXBlT2YoYnVmLCBCdWZmZXIucHJvdG90eXBlKVxuXG4gIHJldHVybiBidWZcbn1cblxuZnVuY3Rpb24gZnJvbU9iamVjdCAob2JqKSB7XG4gIGlmIChCdWZmZXIuaXNCdWZmZXIob2JqKSkge1xuICAgIHZhciBsZW4gPSBjaGVja2VkKG9iai5sZW5ndGgpIHwgMFxuICAgIHZhciBidWYgPSBjcmVhdGVCdWZmZXIobGVuKVxuXG4gICAgaWYgKGJ1Zi5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBidWZcbiAgICB9XG5cbiAgICBvYmouY29weShidWYsIDAsIDAsIGxlbilcbiAgICByZXR1cm4gYnVmXG4gIH1cblxuICBpZiAob2JqLmxlbmd0aCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgaWYgKHR5cGVvZiBvYmoubGVuZ3RoICE9PSAnbnVtYmVyJyB8fCBudW1iZXJJc05hTihvYmoubGVuZ3RoKSkge1xuICAgICAgcmV0dXJuIGNyZWF0ZUJ1ZmZlcigwKVxuICAgIH1cbiAgICByZXR1cm4gZnJvbUFycmF5TGlrZShvYmopXG4gIH1cblxuICBpZiAob2JqLnR5cGUgPT09ICdCdWZmZXInICYmIEFycmF5LmlzQXJyYXkob2JqLmRhdGEpKSB7XG4gICAgcmV0dXJuIGZyb21BcnJheUxpa2Uob2JqLmRhdGEpXG4gIH1cbn1cblxuZnVuY3Rpb24gY2hlY2tlZCAobGVuZ3RoKSB7XG4gIC8vIE5vdGU6IGNhbm5vdCB1c2UgYGxlbmd0aCA8IEtfTUFYX0xFTkdUSGAgaGVyZSBiZWNhdXNlIHRoYXQgZmFpbHMgd2hlblxuICAvLyBsZW5ndGggaXMgTmFOICh3aGljaCBpcyBvdGhlcndpc2UgY29lcmNlZCB0byB6ZXJvLilcbiAgaWYgKGxlbmd0aCA+PSBLX01BWF9MRU5HVEgpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQXR0ZW1wdCB0byBhbGxvY2F0ZSBCdWZmZXIgbGFyZ2VyIHRoYW4gbWF4aW11bSAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAnc2l6ZTogMHgnICsgS19NQVhfTEVOR1RILnRvU3RyaW5nKDE2KSArICcgYnl0ZXMnKVxuICB9XG4gIHJldHVybiBsZW5ndGggfCAwXG59XG5cbmZ1bmN0aW9uIFNsb3dCdWZmZXIgKGxlbmd0aCkge1xuICBpZiAoK2xlbmd0aCAhPSBsZW5ndGgpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBlcWVxZXFcbiAgICBsZW5ndGggPSAwXG4gIH1cbiAgcmV0dXJuIEJ1ZmZlci5hbGxvYygrbGVuZ3RoKVxufVxuXG5CdWZmZXIuaXNCdWZmZXIgPSBmdW5jdGlvbiBpc0J1ZmZlciAoYikge1xuICByZXR1cm4gYiAhPSBudWxsICYmIGIuX2lzQnVmZmVyID09PSB0cnVlICYmXG4gICAgYiAhPT0gQnVmZmVyLnByb3RvdHlwZSAvLyBzbyBCdWZmZXIuaXNCdWZmZXIoQnVmZmVyLnByb3RvdHlwZSkgd2lsbCBiZSBmYWxzZVxufVxuXG5CdWZmZXIuY29tcGFyZSA9IGZ1bmN0aW9uIGNvbXBhcmUgKGEsIGIpIHtcbiAgaWYgKGlzSW5zdGFuY2UoYSwgVWludDhBcnJheSkpIGEgPSBCdWZmZXIuZnJvbShhLCBhLm9mZnNldCwgYS5ieXRlTGVuZ3RoKVxuICBpZiAoaXNJbnN0YW5jZShiLCBVaW50OEFycmF5KSkgYiA9IEJ1ZmZlci5mcm9tKGIsIGIub2Zmc2V0LCBiLmJ5dGVMZW5ndGgpXG4gIGlmICghQnVmZmVyLmlzQnVmZmVyKGEpIHx8ICFCdWZmZXIuaXNCdWZmZXIoYikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFxuICAgICAgJ1RoZSBcImJ1ZjFcIiwgXCJidWYyXCIgYXJndW1lbnRzIG11c3QgYmUgb25lIG9mIHR5cGUgQnVmZmVyIG9yIFVpbnQ4QXJyYXknXG4gICAgKVxuICB9XG5cbiAgaWYgKGEgPT09IGIpIHJldHVybiAwXG5cbiAgdmFyIHggPSBhLmxlbmd0aFxuICB2YXIgeSA9IGIubGVuZ3RoXG5cbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IE1hdGgubWluKHgsIHkpOyBpIDwgbGVuOyArK2kpIHtcbiAgICBpZiAoYVtpXSAhPT0gYltpXSkge1xuICAgICAgeCA9IGFbaV1cbiAgICAgIHkgPSBiW2ldXG4gICAgICBicmVha1xuICAgIH1cbiAgfVxuXG4gIGlmICh4IDwgeSkgcmV0dXJuIC0xXG4gIGlmICh5IDwgeCkgcmV0dXJuIDFcbiAgcmV0dXJuIDBcbn1cblxuQnVmZmVyLmlzRW5jb2RpbmcgPSBmdW5jdGlvbiBpc0VuY29kaW5nIChlbmNvZGluZykge1xuICBzd2l0Y2ggKFN0cmluZyhlbmNvZGluZykudG9Mb3dlckNhc2UoKSkge1xuICAgIGNhc2UgJ2hleCc6XG4gICAgY2FzZSAndXRmOCc6XG4gICAgY2FzZSAndXRmLTgnOlxuICAgIGNhc2UgJ2FzY2lpJzpcbiAgICBjYXNlICdsYXRpbjEnOlxuICAgIGNhc2UgJ2JpbmFyeSc6XG4gICAgY2FzZSAnYmFzZTY0JzpcbiAgICBjYXNlICd1Y3MyJzpcbiAgICBjYXNlICd1Y3MtMic6XG4gICAgY2FzZSAndXRmMTZsZSc6XG4gICAgY2FzZSAndXRmLTE2bGUnOlxuICAgICAgcmV0dXJuIHRydWVcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGZhbHNlXG4gIH1cbn1cblxuQnVmZmVyLmNvbmNhdCA9IGZ1bmN0aW9uIGNvbmNhdCAobGlzdCwgbGVuZ3RoKSB7XG4gIGlmICghQXJyYXkuaXNBcnJheShsaXN0KSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wibGlzdFwiIGFyZ3VtZW50IG11c3QgYmUgYW4gQXJyYXkgb2YgQnVmZmVycycpXG4gIH1cblxuICBpZiAobGlzdC5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gQnVmZmVyLmFsbG9jKDApXG4gIH1cblxuICB2YXIgaVxuICBpZiAobGVuZ3RoID09PSB1bmRlZmluZWQpIHtcbiAgICBsZW5ndGggPSAwXG4gICAgZm9yIChpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyArK2kpIHtcbiAgICAgIGxlbmd0aCArPSBsaXN0W2ldLmxlbmd0aFxuICAgIH1cbiAgfVxuXG4gIHZhciBidWZmZXIgPSBCdWZmZXIuYWxsb2NVbnNhZmUobGVuZ3RoKVxuICB2YXIgcG9zID0gMFxuICBmb3IgKGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7ICsraSkge1xuICAgIHZhciBidWYgPSBsaXN0W2ldXG4gICAgaWYgKGlzSW5zdGFuY2UoYnVmLCBVaW50OEFycmF5KSkge1xuICAgICAgYnVmID0gQnVmZmVyLmZyb20oYnVmKVxuICAgIH1cbiAgICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihidWYpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcImxpc3RcIiBhcmd1bWVudCBtdXN0IGJlIGFuIEFycmF5IG9mIEJ1ZmZlcnMnKVxuICAgIH1cbiAgICBidWYuY29weShidWZmZXIsIHBvcylcbiAgICBwb3MgKz0gYnVmLmxlbmd0aFxuICB9XG4gIHJldHVybiBidWZmZXJcbn1cblxuZnVuY3Rpb24gYnl0ZUxlbmd0aCAoc3RyaW5nLCBlbmNvZGluZykge1xuICBpZiAoQnVmZmVyLmlzQnVmZmVyKHN0cmluZykpIHtcbiAgICByZXR1cm4gc3RyaW5nLmxlbmd0aFxuICB9XG4gIGlmIChBcnJheUJ1ZmZlci5pc1ZpZXcoc3RyaW5nKSB8fCBpc0luc3RhbmNlKHN0cmluZywgQXJyYXlCdWZmZXIpKSB7XG4gICAgcmV0dXJuIHN0cmluZy5ieXRlTGVuZ3RoXG4gIH1cbiAgaWYgKHR5cGVvZiBzdHJpbmcgIT09ICdzdHJpbmcnKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAgICdUaGUgXCJzdHJpbmdcIiBhcmd1bWVudCBtdXN0IGJlIG9uZSBvZiB0eXBlIHN0cmluZywgQnVmZmVyLCBvciBBcnJheUJ1ZmZlci4gJyArXG4gICAgICAnUmVjZWl2ZWQgdHlwZSAnICsgdHlwZW9mIHN0cmluZ1xuICAgIClcbiAgfVxuXG4gIHZhciBsZW4gPSBzdHJpbmcubGVuZ3RoXG4gIHZhciBtdXN0TWF0Y2ggPSAoYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdID09PSB0cnVlKVxuICBpZiAoIW11c3RNYXRjaCAmJiBsZW4gPT09IDApIHJldHVybiAwXG5cbiAgLy8gVXNlIGEgZm9yIGxvb3AgdG8gYXZvaWQgcmVjdXJzaW9uXG4gIHZhciBsb3dlcmVkQ2FzZSA9IGZhbHNlXG4gIGZvciAoOzspIHtcbiAgICBzd2l0Y2ggKGVuY29kaW5nKSB7XG4gICAgICBjYXNlICdhc2NpaSc6XG4gICAgICBjYXNlICdsYXRpbjEnOlxuICAgICAgY2FzZSAnYmluYXJ5JzpcbiAgICAgICAgcmV0dXJuIGxlblxuICAgICAgY2FzZSAndXRmOCc6XG4gICAgICBjYXNlICd1dGYtOCc6XG4gICAgICAgIHJldHVybiB1dGY4VG9CeXRlcyhzdHJpbmcpLmxlbmd0aFxuICAgICAgY2FzZSAndWNzMic6XG4gICAgICBjYXNlICd1Y3MtMic6XG4gICAgICBjYXNlICd1dGYxNmxlJzpcbiAgICAgIGNhc2UgJ3V0Zi0xNmxlJzpcbiAgICAgICAgcmV0dXJuIGxlbiAqIDJcbiAgICAgIGNhc2UgJ2hleCc6XG4gICAgICAgIHJldHVybiBsZW4gPj4+IDFcbiAgICAgIGNhc2UgJ2Jhc2U2NCc6XG4gICAgICAgIHJldHVybiBiYXNlNjRUb0J5dGVzKHN0cmluZykubGVuZ3RoXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAobG93ZXJlZENhc2UpIHtcbiAgICAgICAgICByZXR1cm4gbXVzdE1hdGNoID8gLTEgOiB1dGY4VG9CeXRlcyhzdHJpbmcpLmxlbmd0aCAvLyBhc3N1bWUgdXRmOFxuICAgICAgICB9XG4gICAgICAgIGVuY29kaW5nID0gKCcnICsgZW5jb2RpbmcpLnRvTG93ZXJDYXNlKClcbiAgICAgICAgbG93ZXJlZENhc2UgPSB0cnVlXG4gICAgfVxuICB9XG59XG5CdWZmZXIuYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGhcblxuZnVuY3Rpb24gc2xvd1RvU3RyaW5nIChlbmNvZGluZywgc3RhcnQsIGVuZCkge1xuICB2YXIgbG93ZXJlZENhc2UgPSBmYWxzZVxuXG4gIC8vIE5vIG5lZWQgdG8gdmVyaWZ5IHRoYXQgXCJ0aGlzLmxlbmd0aCA8PSBNQVhfVUlOVDMyXCIgc2luY2UgaXQncyBhIHJlYWQtb25seVxuICAvLyBwcm9wZXJ0eSBvZiBhIHR5cGVkIGFycmF5LlxuXG4gIC8vIFRoaXMgYmVoYXZlcyBuZWl0aGVyIGxpa2UgU3RyaW5nIG5vciBVaW50OEFycmF5IGluIHRoYXQgd2Ugc2V0IHN0YXJ0L2VuZFxuICAvLyB0byB0aGVpciB1cHBlci9sb3dlciBib3VuZHMgaWYgdGhlIHZhbHVlIHBhc3NlZCBpcyBvdXQgb2YgcmFuZ2UuXG4gIC8vIHVuZGVmaW5lZCBpcyBoYW5kbGVkIHNwZWNpYWxseSBhcyBwZXIgRUNNQS0yNjIgNnRoIEVkaXRpb24sXG4gIC8vIFNlY3Rpb24gMTMuMy4zLjcgUnVudGltZSBTZW1hbnRpY3M6IEtleWVkQmluZGluZ0luaXRpYWxpemF0aW9uLlxuICBpZiAoc3RhcnQgPT09IHVuZGVmaW5lZCB8fCBzdGFydCA8IDApIHtcbiAgICBzdGFydCA9IDBcbiAgfVxuICAvLyBSZXR1cm4gZWFybHkgaWYgc3RhcnQgPiB0aGlzLmxlbmd0aC4gRG9uZSBoZXJlIHRvIHByZXZlbnQgcG90ZW50aWFsIHVpbnQzMlxuICAvLyBjb2VyY2lvbiBmYWlsIGJlbG93LlxuICBpZiAoc3RhcnQgPiB0aGlzLmxlbmd0aCkge1xuICAgIHJldHVybiAnJ1xuICB9XG5cbiAgaWYgKGVuZCA9PT0gdW5kZWZpbmVkIHx8IGVuZCA+IHRoaXMubGVuZ3RoKSB7XG4gICAgZW5kID0gdGhpcy5sZW5ndGhcbiAgfVxuXG4gIGlmIChlbmQgPD0gMCkge1xuICAgIHJldHVybiAnJ1xuICB9XG5cbiAgLy8gRm9yY2UgY29lcnNpb24gdG8gdWludDMyLiBUaGlzIHdpbGwgYWxzbyBjb2VyY2UgZmFsc2V5L05hTiB2YWx1ZXMgdG8gMC5cbiAgZW5kID4+Pj0gMFxuICBzdGFydCA+Pj49IDBcblxuICBpZiAoZW5kIDw9IHN0YXJ0KSB7XG4gICAgcmV0dXJuICcnXG4gIH1cblxuICBpZiAoIWVuY29kaW5nKSBlbmNvZGluZyA9ICd1dGY4J1xuXG4gIHdoaWxlICh0cnVlKSB7XG4gICAgc3dpdGNoIChlbmNvZGluZykge1xuICAgICAgY2FzZSAnaGV4JzpcbiAgICAgICAgcmV0dXJuIGhleFNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cbiAgICAgIGNhc2UgJ3V0ZjgnOlxuICAgICAgY2FzZSAndXRmLTgnOlxuICAgICAgICByZXR1cm4gdXRmOFNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cbiAgICAgIGNhc2UgJ2FzY2lpJzpcbiAgICAgICAgcmV0dXJuIGFzY2lpU2xpY2UodGhpcywgc3RhcnQsIGVuZClcblxuICAgICAgY2FzZSAnbGF0aW4xJzpcbiAgICAgIGNhc2UgJ2JpbmFyeSc6XG4gICAgICAgIHJldHVybiBsYXRpbjFTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXG4gICAgICBjYXNlICdiYXNlNjQnOlxuICAgICAgICByZXR1cm4gYmFzZTY0U2xpY2UodGhpcywgc3RhcnQsIGVuZClcblxuICAgICAgY2FzZSAndWNzMic6XG4gICAgICBjYXNlICd1Y3MtMic6XG4gICAgICBjYXNlICd1dGYxNmxlJzpcbiAgICAgIGNhc2UgJ3V0Zi0xNmxlJzpcbiAgICAgICAgcmV0dXJuIHV0ZjE2bGVTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAobG93ZXJlZENhc2UpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Vua25vd24gZW5jb2Rpbmc6ICcgKyBlbmNvZGluZylcbiAgICAgICAgZW5jb2RpbmcgPSAoZW5jb2RpbmcgKyAnJykudG9Mb3dlckNhc2UoKVxuICAgICAgICBsb3dlcmVkQ2FzZSA9IHRydWVcbiAgICB9XG4gIH1cbn1cblxuLy8gVGhpcyBwcm9wZXJ0eSBpcyB1c2VkIGJ5IGBCdWZmZXIuaXNCdWZmZXJgIChhbmQgdGhlIGBpcy1idWZmZXJgIG5wbSBwYWNrYWdlKVxuLy8gdG8gZGV0ZWN0IGEgQnVmZmVyIGluc3RhbmNlLiBJdCdzIG5vdCBwb3NzaWJsZSB0byB1c2UgYGluc3RhbmNlb2YgQnVmZmVyYFxuLy8gcmVsaWFibHkgaW4gYSBicm93c2VyaWZ5IGNvbnRleHQgYmVjYXVzZSB0aGVyZSBjb3VsZCBiZSBtdWx0aXBsZSBkaWZmZXJlbnRcbi8vIGNvcGllcyBvZiB0aGUgJ2J1ZmZlcicgcGFja2FnZSBpbiB1c2UuIFRoaXMgbWV0aG9kIHdvcmtzIGV2ZW4gZm9yIEJ1ZmZlclxuLy8gaW5zdGFuY2VzIHRoYXQgd2VyZSBjcmVhdGVkIGZyb20gYW5vdGhlciBjb3B5IG9mIHRoZSBgYnVmZmVyYCBwYWNrYWdlLlxuLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vZmVyb3NzL2J1ZmZlci9pc3N1ZXMvMTU0XG5CdWZmZXIucHJvdG90eXBlLl9pc0J1ZmZlciA9IHRydWVcblxuZnVuY3Rpb24gc3dhcCAoYiwgbiwgbSkge1xuICB2YXIgaSA9IGJbbl1cbiAgYltuXSA9IGJbbV1cbiAgYlttXSA9IGlcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5zd2FwMTYgPSBmdW5jdGlvbiBzd2FwMTYgKCkge1xuICB2YXIgbGVuID0gdGhpcy5sZW5ndGhcbiAgaWYgKGxlbiAlIDIgIT09IDApIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDE2LWJpdHMnKVxuICB9XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpICs9IDIpIHtcbiAgICBzd2FwKHRoaXMsIGksIGkgKyAxKVxuICB9XG4gIHJldHVybiB0aGlzXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuc3dhcDMyID0gZnVuY3Rpb24gc3dhcDMyICgpIHtcbiAgdmFyIGxlbiA9IHRoaXMubGVuZ3RoXG4gIGlmIChsZW4gJSA0ICE9PSAwKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0J1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiAzMi1iaXRzJylcbiAgfVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSArPSA0KSB7XG4gICAgc3dhcCh0aGlzLCBpLCBpICsgMylcbiAgICBzd2FwKHRoaXMsIGkgKyAxLCBpICsgMilcbiAgfVxuICByZXR1cm4gdGhpc1xufVxuXG5CdWZmZXIucHJvdG90eXBlLnN3YXA2NCA9IGZ1bmN0aW9uIHN3YXA2NCAoKSB7XG4gIHZhciBsZW4gPSB0aGlzLmxlbmd0aFxuICBpZiAobGVuICUgOCAhPT0gMCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgNjQtYml0cycpXG4gIH1cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkgKz0gOCkge1xuICAgIHN3YXAodGhpcywgaSwgaSArIDcpXG4gICAgc3dhcCh0aGlzLCBpICsgMSwgaSArIDYpXG4gICAgc3dhcCh0aGlzLCBpICsgMiwgaSArIDUpXG4gICAgc3dhcCh0aGlzLCBpICsgMywgaSArIDQpXG4gIH1cbiAgcmV0dXJuIHRoaXNcbn1cblxuQnVmZmVyLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nICgpIHtcbiAgdmFyIGxlbmd0aCA9IHRoaXMubGVuZ3RoXG4gIGlmIChsZW5ndGggPT09IDApIHJldHVybiAnJ1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHV0ZjhTbGljZSh0aGlzLCAwLCBsZW5ndGgpXG4gIHJldHVybiBzbG93VG9TdHJpbmcuYXBwbHkodGhpcywgYXJndW1lbnRzKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnRvTG9jYWxlU3RyaW5nID0gQnVmZmVyLnByb3RvdHlwZS50b1N0cmluZ1xuXG5CdWZmZXIucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIGVxdWFscyAoYikge1xuICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihiKSkgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlcicpXG4gIGlmICh0aGlzID09PSBiKSByZXR1cm4gdHJ1ZVxuICByZXR1cm4gQnVmZmVyLmNvbXBhcmUodGhpcywgYikgPT09IDBcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5pbnNwZWN0ID0gZnVuY3Rpb24gaW5zcGVjdCAoKSB7XG4gIHZhciBzdHIgPSAnJ1xuICB2YXIgbWF4ID0gZXhwb3J0cy5JTlNQRUNUX01BWF9CWVRFU1xuICBzdHIgPSB0aGlzLnRvU3RyaW5nKCdoZXgnLCAwLCBtYXgpLnJlcGxhY2UoLyguezJ9KS9nLCAnJDEgJykudHJpbSgpXG4gIGlmICh0aGlzLmxlbmd0aCA+IG1heCkgc3RyICs9ICcgLi4uICdcbiAgcmV0dXJuICc8QnVmZmVyICcgKyBzdHIgKyAnPidcbn1cbmlmIChjdXN0b21JbnNwZWN0U3ltYm9sKSB7XG4gIEJ1ZmZlci5wcm90b3R5cGVbY3VzdG9tSW5zcGVjdFN5bWJvbF0gPSBCdWZmZXIucHJvdG90eXBlLmluc3BlY3Rcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5jb21wYXJlID0gZnVuY3Rpb24gY29tcGFyZSAodGFyZ2V0LCBzdGFydCwgZW5kLCB0aGlzU3RhcnQsIHRoaXNFbmQpIHtcbiAgaWYgKGlzSW5zdGFuY2UodGFyZ2V0LCBVaW50OEFycmF5KSkge1xuICAgIHRhcmdldCA9IEJ1ZmZlci5mcm9tKHRhcmdldCwgdGFyZ2V0Lm9mZnNldCwgdGFyZ2V0LmJ5dGVMZW5ndGgpXG4gIH1cbiAgaWYgKCFCdWZmZXIuaXNCdWZmZXIodGFyZ2V0KSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICAnVGhlIFwidGFyZ2V0XCIgYXJndW1lbnQgbXVzdCBiZSBvbmUgb2YgdHlwZSBCdWZmZXIgb3IgVWludDhBcnJheS4gJyArXG4gICAgICAnUmVjZWl2ZWQgdHlwZSAnICsgKHR5cGVvZiB0YXJnZXQpXG4gICAgKVxuICB9XG5cbiAgaWYgKHN0YXJ0ID09PSB1bmRlZmluZWQpIHtcbiAgICBzdGFydCA9IDBcbiAgfVxuICBpZiAoZW5kID09PSB1bmRlZmluZWQpIHtcbiAgICBlbmQgPSB0YXJnZXQgPyB0YXJnZXQubGVuZ3RoIDogMFxuICB9XG4gIGlmICh0aGlzU3RhcnQgPT09IHVuZGVmaW5lZCkge1xuICAgIHRoaXNTdGFydCA9IDBcbiAgfVxuICBpZiAodGhpc0VuZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhpc0VuZCA9IHRoaXMubGVuZ3RoXG4gIH1cblxuICBpZiAoc3RhcnQgPCAwIHx8IGVuZCA+IHRhcmdldC5sZW5ndGggfHwgdGhpc1N0YXJ0IDwgMCB8fCB0aGlzRW5kID4gdGhpcy5sZW5ndGgpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignb3V0IG9mIHJhbmdlIGluZGV4JylcbiAgfVxuXG4gIGlmICh0aGlzU3RhcnQgPj0gdGhpc0VuZCAmJiBzdGFydCA+PSBlbmQpIHtcbiAgICByZXR1cm4gMFxuICB9XG4gIGlmICh0aGlzU3RhcnQgPj0gdGhpc0VuZCkge1xuICAgIHJldHVybiAtMVxuICB9XG4gIGlmIChzdGFydCA+PSBlbmQpIHtcbiAgICByZXR1cm4gMVxuICB9XG5cbiAgc3RhcnQgPj4+PSAwXG4gIGVuZCA+Pj49IDBcbiAgdGhpc1N0YXJ0ID4+Pj0gMFxuICB0aGlzRW5kID4+Pj0gMFxuXG4gIGlmICh0aGlzID09PSB0YXJnZXQpIHJldHVybiAwXG5cbiAgdmFyIHggPSB0aGlzRW5kIC0gdGhpc1N0YXJ0XG4gIHZhciB5ID0gZW5kIC0gc3RhcnRcbiAgdmFyIGxlbiA9IE1hdGgubWluKHgsIHkpXG5cbiAgdmFyIHRoaXNDb3B5ID0gdGhpcy5zbGljZSh0aGlzU3RhcnQsIHRoaXNFbmQpXG4gIHZhciB0YXJnZXRDb3B5ID0gdGFyZ2V0LnNsaWNlKHN0YXJ0LCBlbmQpXG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgIGlmICh0aGlzQ29weVtpXSAhPT0gdGFyZ2V0Q29weVtpXSkge1xuICAgICAgeCA9IHRoaXNDb3B5W2ldXG4gICAgICB5ID0gdGFyZ2V0Q29weVtpXVxuICAgICAgYnJlYWtcbiAgICB9XG4gIH1cblxuICBpZiAoeCA8IHkpIHJldHVybiAtMVxuICBpZiAoeSA8IHgpIHJldHVybiAxXG4gIHJldHVybiAwXG59XG5cbi8vIEZpbmRzIGVpdGhlciB0aGUgZmlyc3QgaW5kZXggb2YgYHZhbGAgaW4gYGJ1ZmZlcmAgYXQgb2Zmc2V0ID49IGBieXRlT2Zmc2V0YCxcbi8vIE9SIHRoZSBsYXN0IGluZGV4IG9mIGB2YWxgIGluIGBidWZmZXJgIGF0IG9mZnNldCA8PSBgYnl0ZU9mZnNldGAuXG4vL1xuLy8gQXJndW1lbnRzOlxuLy8gLSBidWZmZXIgLSBhIEJ1ZmZlciB0byBzZWFyY2hcbi8vIC0gdmFsIC0gYSBzdHJpbmcsIEJ1ZmZlciwgb3IgbnVtYmVyXG4vLyAtIGJ5dGVPZmZzZXQgLSBhbiBpbmRleCBpbnRvIGBidWZmZXJgOyB3aWxsIGJlIGNsYW1wZWQgdG8gYW4gaW50MzJcbi8vIC0gZW5jb2RpbmcgLSBhbiBvcHRpb25hbCBlbmNvZGluZywgcmVsZXZhbnQgaXMgdmFsIGlzIGEgc3RyaW5nXG4vLyAtIGRpciAtIHRydWUgZm9yIGluZGV4T2YsIGZhbHNlIGZvciBsYXN0SW5kZXhPZlxuZnVuY3Rpb24gYmlkaXJlY3Rpb25hbEluZGV4T2YgKGJ1ZmZlciwgdmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgZGlyKSB7XG4gIC8vIEVtcHR5IGJ1ZmZlciBtZWFucyBubyBtYXRjaFxuICBpZiAoYnVmZmVyLmxlbmd0aCA9PT0gMCkgcmV0dXJuIC0xXG5cbiAgLy8gTm9ybWFsaXplIGJ5dGVPZmZzZXRcbiAgaWYgKHR5cGVvZiBieXRlT2Zmc2V0ID09PSAnc3RyaW5nJykge1xuICAgIGVuY29kaW5nID0gYnl0ZU9mZnNldFxuICAgIGJ5dGVPZmZzZXQgPSAwXG4gIH0gZWxzZSBpZiAoYnl0ZU9mZnNldCA+IDB4N2ZmZmZmZmYpIHtcbiAgICBieXRlT2Zmc2V0ID0gMHg3ZmZmZmZmZlxuICB9IGVsc2UgaWYgKGJ5dGVPZmZzZXQgPCAtMHg4MDAwMDAwMCkge1xuICAgIGJ5dGVPZmZzZXQgPSAtMHg4MDAwMDAwMFxuICB9XG4gIGJ5dGVPZmZzZXQgPSArYnl0ZU9mZnNldCAvLyBDb2VyY2UgdG8gTnVtYmVyLlxuICBpZiAobnVtYmVySXNOYU4oYnl0ZU9mZnNldCkpIHtcbiAgICAvLyBieXRlT2Zmc2V0OiBpdCBpdCdzIHVuZGVmaW5lZCwgbnVsbCwgTmFOLCBcImZvb1wiLCBldGMsIHNlYXJjaCB3aG9sZSBidWZmZXJcbiAgICBieXRlT2Zmc2V0ID0gZGlyID8gMCA6IChidWZmZXIubGVuZ3RoIC0gMSlcbiAgfVxuXG4gIC8vIE5vcm1hbGl6ZSBieXRlT2Zmc2V0OiBuZWdhdGl2ZSBvZmZzZXRzIHN0YXJ0IGZyb20gdGhlIGVuZCBvZiB0aGUgYnVmZmVyXG4gIGlmIChieXRlT2Zmc2V0IDwgMCkgYnl0ZU9mZnNldCA9IGJ1ZmZlci5sZW5ndGggKyBieXRlT2Zmc2V0XG4gIGlmIChieXRlT2Zmc2V0ID49IGJ1ZmZlci5sZW5ndGgpIHtcbiAgICBpZiAoZGlyKSByZXR1cm4gLTFcbiAgICBlbHNlIGJ5dGVPZmZzZXQgPSBidWZmZXIubGVuZ3RoIC0gMVxuICB9IGVsc2UgaWYgKGJ5dGVPZmZzZXQgPCAwKSB7XG4gICAgaWYgKGRpcikgYnl0ZU9mZnNldCA9IDBcbiAgICBlbHNlIHJldHVybiAtMVxuICB9XG5cbiAgLy8gTm9ybWFsaXplIHZhbFxuICBpZiAodHlwZW9mIHZhbCA9PT0gJ3N0cmluZycpIHtcbiAgICB2YWwgPSBCdWZmZXIuZnJvbSh2YWwsIGVuY29kaW5nKVxuICB9XG5cbiAgLy8gRmluYWxseSwgc2VhcmNoIGVpdGhlciBpbmRleE9mIChpZiBkaXIgaXMgdHJ1ZSkgb3IgbGFzdEluZGV4T2ZcbiAgaWYgKEJ1ZmZlci5pc0J1ZmZlcih2YWwpKSB7XG4gICAgLy8gU3BlY2lhbCBjYXNlOiBsb29raW5nIGZvciBlbXB0eSBzdHJpbmcvYnVmZmVyIGFsd2F5cyBmYWlsc1xuICAgIGlmICh2YWwubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gLTFcbiAgICB9XG4gICAgcmV0dXJuIGFycmF5SW5kZXhPZihidWZmZXIsIHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIGRpcilcbiAgfSBlbHNlIGlmICh0eXBlb2YgdmFsID09PSAnbnVtYmVyJykge1xuICAgIHZhbCA9IHZhbCAmIDB4RkYgLy8gU2VhcmNoIGZvciBhIGJ5dGUgdmFsdWUgWzAtMjU1XVxuICAgIGlmICh0eXBlb2YgVWludDhBcnJheS5wcm90b3R5cGUuaW5kZXhPZiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgaWYgKGRpcikge1xuICAgICAgICByZXR1cm4gVWludDhBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKGJ1ZmZlciwgdmFsLCBieXRlT2Zmc2V0KVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFVpbnQ4QXJyYXkucHJvdG90eXBlLmxhc3RJbmRleE9mLmNhbGwoYnVmZmVyLCB2YWwsIGJ5dGVPZmZzZXQpXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhcnJheUluZGV4T2YoYnVmZmVyLCBbdmFsXSwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIGRpcilcbiAgfVxuXG4gIHRocm93IG5ldyBUeXBlRXJyb3IoJ3ZhbCBtdXN0IGJlIHN0cmluZywgbnVtYmVyIG9yIEJ1ZmZlcicpXG59XG5cbmZ1bmN0aW9uIGFycmF5SW5kZXhPZiAoYXJyLCB2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nLCBkaXIpIHtcbiAgdmFyIGluZGV4U2l6ZSA9IDFcbiAgdmFyIGFyckxlbmd0aCA9IGFyci5sZW5ndGhcbiAgdmFyIHZhbExlbmd0aCA9IHZhbC5sZW5ndGhcblxuICBpZiAoZW5jb2RpbmcgIT09IHVuZGVmaW5lZCkge1xuICAgIGVuY29kaW5nID0gU3RyaW5nKGVuY29kaW5nKS50b0xvd2VyQ2FzZSgpXG4gICAgaWYgKGVuY29kaW5nID09PSAndWNzMicgfHwgZW5jb2RpbmcgPT09ICd1Y3MtMicgfHxcbiAgICAgICAgZW5jb2RpbmcgPT09ICd1dGYxNmxlJyB8fCBlbmNvZGluZyA9PT0gJ3V0Zi0xNmxlJykge1xuICAgICAgaWYgKGFyci5sZW5ndGggPCAyIHx8IHZhbC5sZW5ndGggPCAyKSB7XG4gICAgICAgIHJldHVybiAtMVxuICAgICAgfVxuICAgICAgaW5kZXhTaXplID0gMlxuICAgICAgYXJyTGVuZ3RoIC89IDJcbiAgICAgIHZhbExlbmd0aCAvPSAyXG4gICAgICBieXRlT2Zmc2V0IC89IDJcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiByZWFkIChidWYsIGkpIHtcbiAgICBpZiAoaW5kZXhTaXplID09PSAxKSB7XG4gICAgICByZXR1cm4gYnVmW2ldXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBidWYucmVhZFVJbnQxNkJFKGkgKiBpbmRleFNpemUpXG4gICAgfVxuICB9XG5cbiAgdmFyIGlcbiAgaWYgKGRpcikge1xuICAgIHZhciBmb3VuZEluZGV4ID0gLTFcbiAgICBmb3IgKGkgPSBieXRlT2Zmc2V0OyBpIDwgYXJyTGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChyZWFkKGFyciwgaSkgPT09IHJlYWQodmFsLCBmb3VuZEluZGV4ID09PSAtMSA/IDAgOiBpIC0gZm91bmRJbmRleCkpIHtcbiAgICAgICAgaWYgKGZvdW5kSW5kZXggPT09IC0xKSBmb3VuZEluZGV4ID0gaVxuICAgICAgICBpZiAoaSAtIGZvdW5kSW5kZXggKyAxID09PSB2YWxMZW5ndGgpIHJldHVybiBmb3VuZEluZGV4ICogaW5kZXhTaXplXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoZm91bmRJbmRleCAhPT0gLTEpIGkgLT0gaSAtIGZvdW5kSW5kZXhcbiAgICAgICAgZm91bmRJbmRleCA9IC0xXG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChieXRlT2Zmc2V0ICsgdmFsTGVuZ3RoID4gYXJyTGVuZ3RoKSBieXRlT2Zmc2V0ID0gYXJyTGVuZ3RoIC0gdmFsTGVuZ3RoXG4gICAgZm9yIChpID0gYnl0ZU9mZnNldDsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIHZhciBmb3VuZCA9IHRydWVcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdmFsTGVuZ3RoOyBqKyspIHtcbiAgICAgICAgaWYgKHJlYWQoYXJyLCBpICsgaikgIT09IHJlYWQodmFsLCBqKSkge1xuICAgICAgICAgIGZvdW5kID0gZmFsc2VcbiAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoZm91bmQpIHJldHVybiBpXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIC0xXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuaW5jbHVkZXMgPSBmdW5jdGlvbiBpbmNsdWRlcyAodmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZykge1xuICByZXR1cm4gdGhpcy5pbmRleE9mKHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcpICE9PSAtMVxufVxuXG5CdWZmZXIucHJvdG90eXBlLmluZGV4T2YgPSBmdW5jdGlvbiBpbmRleE9mICh2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nKSB7XG4gIHJldHVybiBiaWRpcmVjdGlvbmFsSW5kZXhPZih0aGlzLCB2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nLCB0cnVlKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLmxhc3RJbmRleE9mID0gZnVuY3Rpb24gbGFzdEluZGV4T2YgKHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcpIHtcbiAgcmV0dXJuIGJpZGlyZWN0aW9uYWxJbmRleE9mKHRoaXMsIHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIGZhbHNlKVxufVxuXG5mdW5jdGlvbiBoZXhXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIG9mZnNldCA9IE51bWJlcihvZmZzZXQpIHx8IDBcbiAgdmFyIHJlbWFpbmluZyA9IGJ1Zi5sZW5ndGggLSBvZmZzZXRcbiAgaWYgKCFsZW5ndGgpIHtcbiAgICBsZW5ndGggPSByZW1haW5pbmdcbiAgfSBlbHNlIHtcbiAgICBsZW5ndGggPSBOdW1iZXIobGVuZ3RoKVxuICAgIGlmIChsZW5ndGggPiByZW1haW5pbmcpIHtcbiAgICAgIGxlbmd0aCA9IHJlbWFpbmluZ1xuICAgIH1cbiAgfVxuXG4gIHZhciBzdHJMZW4gPSBzdHJpbmcubGVuZ3RoXG5cbiAgaWYgKGxlbmd0aCA+IHN0ckxlbiAvIDIpIHtcbiAgICBsZW5ndGggPSBzdHJMZW4gLyAyXG4gIH1cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuICAgIHZhciBwYXJzZWQgPSBwYXJzZUludChzdHJpbmcuc3Vic3RyKGkgKiAyLCAyKSwgMTYpXG4gICAgaWYgKG51bWJlcklzTmFOKHBhcnNlZCkpIHJldHVybiBpXG4gICAgYnVmW29mZnNldCArIGldID0gcGFyc2VkXG4gIH1cbiAgcmV0dXJuIGlcbn1cblxuZnVuY3Rpb24gdXRmOFdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIGJsaXRCdWZmZXIodXRmOFRvQnl0ZXMoc3RyaW5nLCBidWYubGVuZ3RoIC0gb2Zmc2V0KSwgYnVmLCBvZmZzZXQsIGxlbmd0aClcbn1cblxuZnVuY3Rpb24gYXNjaWlXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIHJldHVybiBibGl0QnVmZmVyKGFzY2lpVG9CeXRlcyhzdHJpbmcpLCBidWYsIG9mZnNldCwgbGVuZ3RoKVxufVxuXG5mdW5jdGlvbiBsYXRpbjFXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIHJldHVybiBhc2NpaVdyaXRlKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcbn1cblxuZnVuY3Rpb24gYmFzZTY0V3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gYmxpdEJ1ZmZlcihiYXNlNjRUb0J5dGVzKHN0cmluZyksIGJ1Ziwgb2Zmc2V0LCBsZW5ndGgpXG59XG5cbmZ1bmN0aW9uIHVjczJXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIHJldHVybiBibGl0QnVmZmVyKHV0ZjE2bGVUb0J5dGVzKHN0cmluZywgYnVmLmxlbmd0aCAtIG9mZnNldCksIGJ1Ziwgb2Zmc2V0LCBsZW5ndGgpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGUgPSBmdW5jdGlvbiB3cml0ZSAoc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCwgZW5jb2RpbmcpIHtcbiAgLy8gQnVmZmVyI3dyaXRlKHN0cmluZylcbiAgaWYgKG9mZnNldCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgZW5jb2RpbmcgPSAndXRmOCdcbiAgICBsZW5ndGggPSB0aGlzLmxlbmd0aFxuICAgIG9mZnNldCA9IDBcbiAgLy8gQnVmZmVyI3dyaXRlKHN0cmluZywgZW5jb2RpbmcpXG4gIH0gZWxzZSBpZiAobGVuZ3RoID09PSB1bmRlZmluZWQgJiYgdHlwZW9mIG9mZnNldCA9PT0gJ3N0cmluZycpIHtcbiAgICBlbmNvZGluZyA9IG9mZnNldFxuICAgIGxlbmd0aCA9IHRoaXMubGVuZ3RoXG4gICAgb2Zmc2V0ID0gMFxuICAvLyBCdWZmZXIjd3JpdGUoc3RyaW5nLCBvZmZzZXRbLCBsZW5ndGhdWywgZW5jb2RpbmddKVxuICB9IGVsc2UgaWYgKGlzRmluaXRlKG9mZnNldCkpIHtcbiAgICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgICBpZiAoaXNGaW5pdGUobGVuZ3RoKSkge1xuICAgICAgbGVuZ3RoID0gbGVuZ3RoID4+PiAwXG4gICAgICBpZiAoZW5jb2RpbmcgPT09IHVuZGVmaW5lZCkgZW5jb2RpbmcgPSAndXRmOCdcbiAgICB9IGVsc2Uge1xuICAgICAgZW5jb2RpbmcgPSBsZW5ndGhcbiAgICAgIGxlbmd0aCA9IHVuZGVmaW5lZFxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAnQnVmZmVyLndyaXRlKHN0cmluZywgZW5jb2RpbmcsIG9mZnNldFssIGxlbmd0aF0pIGlzIG5vIGxvbmdlciBzdXBwb3J0ZWQnXG4gICAgKVxuICB9XG5cbiAgdmFyIHJlbWFpbmluZyA9IHRoaXMubGVuZ3RoIC0gb2Zmc2V0XG4gIGlmIChsZW5ndGggPT09IHVuZGVmaW5lZCB8fCBsZW5ndGggPiByZW1haW5pbmcpIGxlbmd0aCA9IHJlbWFpbmluZ1xuXG4gIGlmICgoc3RyaW5nLmxlbmd0aCA+IDAgJiYgKGxlbmd0aCA8IDAgfHwgb2Zmc2V0IDwgMCkpIHx8IG9mZnNldCA+IHRoaXMubGVuZ3RoKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0F0dGVtcHQgdG8gd3JpdGUgb3V0c2lkZSBidWZmZXIgYm91bmRzJylcbiAgfVxuXG4gIGlmICghZW5jb2RpbmcpIGVuY29kaW5nID0gJ3V0ZjgnXG5cbiAgdmFyIGxvd2VyZWRDYXNlID0gZmFsc2VcbiAgZm9yICg7Oykge1xuICAgIHN3aXRjaCAoZW5jb2RpbmcpIHtcbiAgICAgIGNhc2UgJ2hleCc6XG4gICAgICAgIHJldHVybiBoZXhXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuXG4gICAgICBjYXNlICd1dGY4JzpcbiAgICAgIGNhc2UgJ3V0Zi04JzpcbiAgICAgICAgcmV0dXJuIHV0ZjhXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuXG4gICAgICBjYXNlICdhc2NpaSc6XG4gICAgICAgIHJldHVybiBhc2NpaVdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGNhc2UgJ2xhdGluMSc6XG4gICAgICBjYXNlICdiaW5hcnknOlxuICAgICAgICByZXR1cm4gbGF0aW4xV3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblxuICAgICAgY2FzZSAnYmFzZTY0JzpcbiAgICAgICAgLy8gV2FybmluZzogbWF4TGVuZ3RoIG5vdCB0YWtlbiBpbnRvIGFjY291bnQgaW4gYmFzZTY0V3JpdGVcbiAgICAgICAgcmV0dXJuIGJhc2U2NFdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGNhc2UgJ3VjczInOlxuICAgICAgY2FzZSAndWNzLTInOlxuICAgICAgY2FzZSAndXRmMTZsZSc6XG4gICAgICBjYXNlICd1dGYtMTZsZSc6XG4gICAgICAgIHJldHVybiB1Y3MyV3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKGxvd2VyZWRDYXNlKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbmtub3duIGVuY29kaW5nOiAnICsgZW5jb2RpbmcpXG4gICAgICAgIGVuY29kaW5nID0gKCcnICsgZW5jb2RpbmcpLnRvTG93ZXJDYXNlKClcbiAgICAgICAgbG93ZXJlZENhc2UgPSB0cnVlXG4gICAgfVxuICB9XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gdG9KU09OICgpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiAnQnVmZmVyJyxcbiAgICBkYXRhOiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0aGlzLl9hcnIgfHwgdGhpcywgMClcbiAgfVxufVxuXG5mdW5jdGlvbiBiYXNlNjRTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7XG4gIGlmIChzdGFydCA9PT0gMCAmJiBlbmQgPT09IGJ1Zi5sZW5ndGgpIHtcbiAgICByZXR1cm4gYmFzZTY0LmZyb21CeXRlQXJyYXkoYnVmKVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBiYXNlNjQuZnJvbUJ5dGVBcnJheShidWYuc2xpY2Uoc3RhcnQsIGVuZCkpXG4gIH1cbn1cblxuZnVuY3Rpb24gdXRmOFNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgZW5kID0gTWF0aC5taW4oYnVmLmxlbmd0aCwgZW5kKVxuICB2YXIgcmVzID0gW11cblxuICB2YXIgaSA9IHN0YXJ0XG4gIHdoaWxlIChpIDwgZW5kKSB7XG4gICAgdmFyIGZpcnN0Qnl0ZSA9IGJ1ZltpXVxuICAgIHZhciBjb2RlUG9pbnQgPSBudWxsXG4gICAgdmFyIGJ5dGVzUGVyU2VxdWVuY2UgPSAoZmlyc3RCeXRlID4gMHhFRikgPyA0XG4gICAgICA6IChmaXJzdEJ5dGUgPiAweERGKSA/IDNcbiAgICAgICAgOiAoZmlyc3RCeXRlID4gMHhCRikgPyAyXG4gICAgICAgICAgOiAxXG5cbiAgICBpZiAoaSArIGJ5dGVzUGVyU2VxdWVuY2UgPD0gZW5kKSB7XG4gICAgICB2YXIgc2Vjb25kQnl0ZSwgdGhpcmRCeXRlLCBmb3VydGhCeXRlLCB0ZW1wQ29kZVBvaW50XG5cbiAgICAgIHN3aXRjaCAoYnl0ZXNQZXJTZXF1ZW5jZSkge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgaWYgKGZpcnN0Qnl0ZSA8IDB4ODApIHtcbiAgICAgICAgICAgIGNvZGVQb2ludCA9IGZpcnN0Qnl0ZVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgc2Vjb25kQnl0ZSA9IGJ1ZltpICsgMV1cbiAgICAgICAgICBpZiAoKHNlY29uZEJ5dGUgJiAweEMwKSA9PT0gMHg4MCkge1xuICAgICAgICAgICAgdGVtcENvZGVQb2ludCA9IChmaXJzdEJ5dGUgJiAweDFGKSA8PCAweDYgfCAoc2Vjb25kQnl0ZSAmIDB4M0YpXG4gICAgICAgICAgICBpZiAodGVtcENvZGVQb2ludCA+IDB4N0YpIHtcbiAgICAgICAgICAgICAgY29kZVBvaW50ID0gdGVtcENvZGVQb2ludFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgc2Vjb25kQnl0ZSA9IGJ1ZltpICsgMV1cbiAgICAgICAgICB0aGlyZEJ5dGUgPSBidWZbaSArIDJdXG4gICAgICAgICAgaWYgKChzZWNvbmRCeXRlICYgMHhDMCkgPT09IDB4ODAgJiYgKHRoaXJkQnl0ZSAmIDB4QzApID09PSAweDgwKSB7XG4gICAgICAgICAgICB0ZW1wQ29kZVBvaW50ID0gKGZpcnN0Qnl0ZSAmIDB4RikgPDwgMHhDIHwgKHNlY29uZEJ5dGUgJiAweDNGKSA8PCAweDYgfCAodGhpcmRCeXRlICYgMHgzRilcbiAgICAgICAgICAgIGlmICh0ZW1wQ29kZVBvaW50ID4gMHg3RkYgJiYgKHRlbXBDb2RlUG9pbnQgPCAweEQ4MDAgfHwgdGVtcENvZGVQb2ludCA+IDB4REZGRikpIHtcbiAgICAgICAgICAgICAgY29kZVBvaW50ID0gdGVtcENvZGVQb2ludFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgc2Vjb25kQnl0ZSA9IGJ1ZltpICsgMV1cbiAgICAgICAgICB0aGlyZEJ5dGUgPSBidWZbaSArIDJdXG4gICAgICAgICAgZm91cnRoQnl0ZSA9IGJ1ZltpICsgM11cbiAgICAgICAgICBpZiAoKHNlY29uZEJ5dGUgJiAweEMwKSA9PT0gMHg4MCAmJiAodGhpcmRCeXRlICYgMHhDMCkgPT09IDB4ODAgJiYgKGZvdXJ0aEJ5dGUgJiAweEMwKSA9PT0gMHg4MCkge1xuICAgICAgICAgICAgdGVtcENvZGVQb2ludCA9IChmaXJzdEJ5dGUgJiAweEYpIDw8IDB4MTIgfCAoc2Vjb25kQnl0ZSAmIDB4M0YpIDw8IDB4QyB8ICh0aGlyZEJ5dGUgJiAweDNGKSA8PCAweDYgfCAoZm91cnRoQnl0ZSAmIDB4M0YpXG4gICAgICAgICAgICBpZiAodGVtcENvZGVQb2ludCA+IDB4RkZGRiAmJiB0ZW1wQ29kZVBvaW50IDwgMHgxMTAwMDApIHtcbiAgICAgICAgICAgICAgY29kZVBvaW50ID0gdGVtcENvZGVQb2ludFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoY29kZVBvaW50ID09PSBudWxsKSB7XG4gICAgICAvLyB3ZSBkaWQgbm90IGdlbmVyYXRlIGEgdmFsaWQgY29kZVBvaW50IHNvIGluc2VydCBhXG4gICAgICAvLyByZXBsYWNlbWVudCBjaGFyIChVK0ZGRkQpIGFuZCBhZHZhbmNlIG9ubHkgMSBieXRlXG4gICAgICBjb2RlUG9pbnQgPSAweEZGRkRcbiAgICAgIGJ5dGVzUGVyU2VxdWVuY2UgPSAxXG4gICAgfSBlbHNlIGlmIChjb2RlUG9pbnQgPiAweEZGRkYpIHtcbiAgICAgIC8vIGVuY29kZSB0byB1dGYxNiAoc3Vycm9nYXRlIHBhaXIgZGFuY2UpXG4gICAgICBjb2RlUG9pbnQgLT0gMHgxMDAwMFxuICAgICAgcmVzLnB1c2goY29kZVBvaW50ID4+PiAxMCAmIDB4M0ZGIHwgMHhEODAwKVxuICAgICAgY29kZVBvaW50ID0gMHhEQzAwIHwgY29kZVBvaW50ICYgMHgzRkZcbiAgICB9XG5cbiAgICByZXMucHVzaChjb2RlUG9pbnQpXG4gICAgaSArPSBieXRlc1BlclNlcXVlbmNlXG4gIH1cblxuICByZXR1cm4gZGVjb2RlQ29kZVBvaW50c0FycmF5KHJlcylcbn1cblxuLy8gQmFzZWQgb24gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjI3NDcyNzIvNjgwNzQyLCB0aGUgYnJvd3NlciB3aXRoXG4vLyB0aGUgbG93ZXN0IGxpbWl0IGlzIENocm9tZSwgd2l0aCAweDEwMDAwIGFyZ3MuXG4vLyBXZSBnbyAxIG1hZ25pdHVkZSBsZXNzLCBmb3Igc2FmZXR5XG52YXIgTUFYX0FSR1VNRU5UU19MRU5HVEggPSAweDEwMDBcblxuZnVuY3Rpb24gZGVjb2RlQ29kZVBvaW50c0FycmF5IChjb2RlUG9pbnRzKSB7XG4gIHZhciBsZW4gPSBjb2RlUG9pbnRzLmxlbmd0aFxuICBpZiAobGVuIDw9IE1BWF9BUkdVTUVOVFNfTEVOR1RIKSB7XG4gICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLCBjb2RlUG9pbnRzKSAvLyBhdm9pZCBleHRyYSBzbGljZSgpXG4gIH1cblxuICAvLyBEZWNvZGUgaW4gY2h1bmtzIHRvIGF2b2lkIFwiY2FsbCBzdGFjayBzaXplIGV4Y2VlZGVkXCIuXG4gIHZhciByZXMgPSAnJ1xuICB2YXIgaSA9IDBcbiAgd2hpbGUgKGkgPCBsZW4pIHtcbiAgICByZXMgKz0gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShcbiAgICAgIFN0cmluZyxcbiAgICAgIGNvZGVQb2ludHMuc2xpY2UoaSwgaSArPSBNQVhfQVJHVU1FTlRTX0xFTkdUSClcbiAgICApXG4gIH1cbiAgcmV0dXJuIHJlc1xufVxuXG5mdW5jdGlvbiBhc2NpaVNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIHJldCA9ICcnXG4gIGVuZCA9IE1hdGgubWluKGJ1Zi5sZW5ndGgsIGVuZClcblxuICBmb3IgKHZhciBpID0gc3RhcnQ7IGkgPCBlbmQ7ICsraSkge1xuICAgIHJldCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGJ1ZltpXSAmIDB4N0YpXG4gIH1cbiAgcmV0dXJuIHJldFxufVxuXG5mdW5jdGlvbiBsYXRpbjFTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7XG4gIHZhciByZXQgPSAnJ1xuICBlbmQgPSBNYXRoLm1pbihidWYubGVuZ3RoLCBlbmQpXG5cbiAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZW5kOyArK2kpIHtcbiAgICByZXQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShidWZbaV0pXG4gIH1cbiAgcmV0dXJuIHJldFxufVxuXG5mdW5jdGlvbiBoZXhTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7XG4gIHZhciBsZW4gPSBidWYubGVuZ3RoXG5cbiAgaWYgKCFzdGFydCB8fCBzdGFydCA8IDApIHN0YXJ0ID0gMFxuICBpZiAoIWVuZCB8fCBlbmQgPCAwIHx8IGVuZCA+IGxlbikgZW5kID0gbGVuXG5cbiAgdmFyIG91dCA9ICcnXG4gIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgKytpKSB7XG4gICAgb3V0ICs9IGhleFNsaWNlTG9va3VwVGFibGVbYnVmW2ldXVxuICB9XG4gIHJldHVybiBvdXRcbn1cblxuZnVuY3Rpb24gdXRmMTZsZVNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIGJ5dGVzID0gYnVmLnNsaWNlKHN0YXJ0LCBlbmQpXG4gIHZhciByZXMgPSAnJ1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGJ5dGVzLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgcmVzICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnl0ZXNbaV0gKyAoYnl0ZXNbaSArIDFdICogMjU2KSlcbiAgfVxuICByZXR1cm4gcmVzXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuc2xpY2UgPSBmdW5jdGlvbiBzbGljZSAoc3RhcnQsIGVuZCkge1xuICB2YXIgbGVuID0gdGhpcy5sZW5ndGhcbiAgc3RhcnQgPSB+fnN0YXJ0XG4gIGVuZCA9IGVuZCA9PT0gdW5kZWZpbmVkID8gbGVuIDogfn5lbmRcblxuICBpZiAoc3RhcnQgPCAwKSB7XG4gICAgc3RhcnQgKz0gbGVuXG4gICAgaWYgKHN0YXJ0IDwgMCkgc3RhcnQgPSAwXG4gIH0gZWxzZSBpZiAoc3RhcnQgPiBsZW4pIHtcbiAgICBzdGFydCA9IGxlblxuICB9XG5cbiAgaWYgKGVuZCA8IDApIHtcbiAgICBlbmQgKz0gbGVuXG4gICAgaWYgKGVuZCA8IDApIGVuZCA9IDBcbiAgfSBlbHNlIGlmIChlbmQgPiBsZW4pIHtcbiAgICBlbmQgPSBsZW5cbiAgfVxuXG4gIGlmIChlbmQgPCBzdGFydCkgZW5kID0gc3RhcnRcblxuICB2YXIgbmV3QnVmID0gdGhpcy5zdWJhcnJheShzdGFydCwgZW5kKVxuICAvLyBSZXR1cm4gYW4gYXVnbWVudGVkIGBVaW50OEFycmF5YCBpbnN0YW5jZVxuICBPYmplY3Quc2V0UHJvdG90eXBlT2YobmV3QnVmLCBCdWZmZXIucHJvdG90eXBlKVxuXG4gIHJldHVybiBuZXdCdWZcbn1cblxuLypcbiAqIE5lZWQgdG8gbWFrZSBzdXJlIHRoYXQgYnVmZmVyIGlzbid0IHRyeWluZyB0byB3cml0ZSBvdXQgb2YgYm91bmRzLlxuICovXG5mdW5jdGlvbiBjaGVja09mZnNldCAob2Zmc2V0LCBleHQsIGxlbmd0aCkge1xuICBpZiAoKG9mZnNldCAlIDEpICE9PSAwIHx8IG9mZnNldCA8IDApIHRocm93IG5ldyBSYW5nZUVycm9yKCdvZmZzZXQgaXMgbm90IHVpbnQnKVxuICBpZiAob2Zmc2V0ICsgZXh0ID4gbGVuZ3RoKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignVHJ5aW5nIHRvIGFjY2VzcyBiZXlvbmQgYnVmZmVyIGxlbmd0aCcpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnRMRSA9IGZ1bmN0aW9uIHJlYWRVSW50TEUgKG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgYnl0ZUxlbmd0aCwgdGhpcy5sZW5ndGgpXG5cbiAgdmFyIHZhbCA9IHRoaXNbb2Zmc2V0XVxuICB2YXIgbXVsID0gMVxuICB2YXIgaSA9IDBcbiAgd2hpbGUgKCsraSA8IGJ5dGVMZW5ndGggJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB2YWwgKz0gdGhpc1tvZmZzZXQgKyBpXSAqIG11bFxuICB9XG5cbiAgcmV0dXJuIHZhbFxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50QkUgPSBmdW5jdGlvbiByZWFkVUludEJFIChvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgY2hlY2tPZmZzZXQob2Zmc2V0LCBieXRlTGVuZ3RoLCB0aGlzLmxlbmd0aClcbiAgfVxuXG4gIHZhciB2YWwgPSB0aGlzW29mZnNldCArIC0tYnl0ZUxlbmd0aF1cbiAgdmFyIG11bCA9IDFcbiAgd2hpbGUgKGJ5dGVMZW5ndGggPiAwICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgdmFsICs9IHRoaXNbb2Zmc2V0ICsgLS1ieXRlTGVuZ3RoXSAqIG11bFxuICB9XG5cbiAgcmV0dXJuIHZhbFxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50OCA9IGZ1bmN0aW9uIHJlYWRVSW50OCAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAxLCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuIHRoaXNbb2Zmc2V0XVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50MTZMRSA9IGZ1bmN0aW9uIHJlYWRVSW50MTZMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAyLCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuIHRoaXNbb2Zmc2V0XSB8ICh0aGlzW29mZnNldCArIDFdIDw8IDgpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQxNkJFID0gZnVuY3Rpb24gcmVhZFVJbnQxNkJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDIsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gKHRoaXNbb2Zmc2V0XSA8PCA4KSB8IHRoaXNbb2Zmc2V0ICsgMV1cbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDMyTEUgPSBmdW5jdGlvbiByZWFkVUludDMyTEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpXG5cbiAgcmV0dXJuICgodGhpc1tvZmZzZXRdKSB8XG4gICAgICAodGhpc1tvZmZzZXQgKyAxXSA8PCA4KSB8XG4gICAgICAodGhpc1tvZmZzZXQgKyAyXSA8PCAxNikpICtcbiAgICAgICh0aGlzW29mZnNldCArIDNdICogMHgxMDAwMDAwKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50MzJCRSA9IGZ1bmN0aW9uIHJlYWRVSW50MzJCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aClcblxuICByZXR1cm4gKHRoaXNbb2Zmc2V0XSAqIDB4MTAwMDAwMCkgK1xuICAgICgodGhpc1tvZmZzZXQgKyAxXSA8PCAxNikgfFxuICAgICh0aGlzW29mZnNldCArIDJdIDw8IDgpIHxcbiAgICB0aGlzW29mZnNldCArIDNdKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnRMRSA9IGZ1bmN0aW9uIHJlYWRJbnRMRSAob2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCBieXRlTGVuZ3RoLCB0aGlzLmxlbmd0aClcblxuICB2YXIgdmFsID0gdGhpc1tvZmZzZXRdXG4gIHZhciBtdWwgPSAxXG4gIHZhciBpID0gMFxuICB3aGlsZSAoKytpIDwgYnl0ZUxlbmd0aCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHZhbCArPSB0aGlzW29mZnNldCArIGldICogbXVsXG4gIH1cbiAgbXVsICo9IDB4ODBcblxuICBpZiAodmFsID49IG11bCkgdmFsIC09IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoKVxuXG4gIHJldHVybiB2YWxcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50QkUgPSBmdW5jdGlvbiByZWFkSW50QkUgKG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgYnl0ZUxlbmd0aCwgdGhpcy5sZW5ndGgpXG5cbiAgdmFyIGkgPSBieXRlTGVuZ3RoXG4gIHZhciBtdWwgPSAxXG4gIHZhciB2YWwgPSB0aGlzW29mZnNldCArIC0taV1cbiAgd2hpbGUgKGkgPiAwICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgdmFsICs9IHRoaXNbb2Zmc2V0ICsgLS1pXSAqIG11bFxuICB9XG4gIG11bCAqPSAweDgwXG5cbiAgaWYgKHZhbCA+PSBtdWwpIHZhbCAtPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aClcblxuICByZXR1cm4gdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludDggPSBmdW5jdGlvbiByZWFkSW50OCAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAxLCB0aGlzLmxlbmd0aClcbiAgaWYgKCEodGhpc1tvZmZzZXRdICYgMHg4MCkpIHJldHVybiAodGhpc1tvZmZzZXRdKVxuICByZXR1cm4gKCgweGZmIC0gdGhpc1tvZmZzZXRdICsgMSkgKiAtMSlcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50MTZMRSA9IGZ1bmN0aW9uIHJlYWRJbnQxNkxFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDIsIHRoaXMubGVuZ3RoKVxuICB2YXIgdmFsID0gdGhpc1tvZmZzZXRdIHwgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgOClcbiAgcmV0dXJuICh2YWwgJiAweDgwMDApID8gdmFsIHwgMHhGRkZGMDAwMCA6IHZhbFxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnQxNkJFID0gZnVuY3Rpb24gcmVhZEludDE2QkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMiwgdGhpcy5sZW5ndGgpXG4gIHZhciB2YWwgPSB0aGlzW29mZnNldCArIDFdIHwgKHRoaXNbb2Zmc2V0XSA8PCA4KVxuICByZXR1cm4gKHZhbCAmIDB4ODAwMCkgPyB2YWwgfCAweEZGRkYwMDAwIDogdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludDMyTEUgPSBmdW5jdGlvbiByZWFkSW50MzJMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aClcblxuICByZXR1cm4gKHRoaXNbb2Zmc2V0XSkgfFxuICAgICh0aGlzW29mZnNldCArIDFdIDw8IDgpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAyXSA8PCAxNikgfFxuICAgICh0aGlzW29mZnNldCArIDNdIDw8IDI0KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnQzMkJFID0gZnVuY3Rpb24gcmVhZEludDMyQkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpXG5cbiAgcmV0dXJuICh0aGlzW29mZnNldF0gPDwgMjQpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAxXSA8PCAxNikgfFxuICAgICh0aGlzW29mZnNldCArIDJdIDw8IDgpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAzXSlcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkRmxvYXRMRSA9IGZ1bmN0aW9uIHJlYWRGbG9hdExFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gaWVlZTc1NC5yZWFkKHRoaXMsIG9mZnNldCwgdHJ1ZSwgMjMsIDQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEZsb2F0QkUgPSBmdW5jdGlvbiByZWFkRmxvYXRCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuIGllZWU3NTQucmVhZCh0aGlzLCBvZmZzZXQsIGZhbHNlLCAyMywgNClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkRG91YmxlTEUgPSBmdW5jdGlvbiByZWFkRG91YmxlTEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgOCwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiBpZWVlNzU0LnJlYWQodGhpcywgb2Zmc2V0LCB0cnVlLCA1MiwgOClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkRG91YmxlQkUgPSBmdW5jdGlvbiByZWFkRG91YmxlQkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgOCwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiBpZWVlNzU0LnJlYWQodGhpcywgb2Zmc2V0LCBmYWxzZSwgNTIsIDgpXG59XG5cbmZ1bmN0aW9uIGNoZWNrSW50IChidWYsIHZhbHVlLCBvZmZzZXQsIGV4dCwgbWF4LCBtaW4pIHtcbiAgaWYgKCFCdWZmZXIuaXNCdWZmZXIoYnVmKSkgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJidWZmZXJcIiBhcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyIGluc3RhbmNlJylcbiAgaWYgKHZhbHVlID4gbWF4IHx8IHZhbHVlIDwgbWluKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignXCJ2YWx1ZVwiIGFyZ3VtZW50IGlzIG91dCBvZiBib3VuZHMnKVxuICBpZiAob2Zmc2V0ICsgZXh0ID4gYnVmLmxlbmd0aCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0luZGV4IG91dCBvZiByYW5nZScpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50TEUgPSBmdW5jdGlvbiB3cml0ZVVJbnRMRSAodmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICB2YXIgbWF4Qnl0ZXMgPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aCkgLSAxXG4gICAgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbWF4Qnl0ZXMsIDApXG4gIH1cblxuICB2YXIgbXVsID0gMVxuICB2YXIgaSA9IDBcbiAgdGhpc1tvZmZzZXRdID0gdmFsdWUgJiAweEZGXG4gIHdoaWxlICgrK2kgPCBieXRlTGVuZ3RoICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgdGhpc1tvZmZzZXQgKyBpXSA9ICh2YWx1ZSAvIG11bCkgJiAweEZGXG4gIH1cblxuICByZXR1cm4gb2Zmc2V0ICsgYnl0ZUxlbmd0aFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludEJFID0gZnVuY3Rpb24gd3JpdGVVSW50QkUgKHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgdmFyIG1heEJ5dGVzID0gTWF0aC5wb3coMiwgOCAqIGJ5dGVMZW5ndGgpIC0gMVxuICAgIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIG1heEJ5dGVzLCAwKVxuICB9XG5cbiAgdmFyIGkgPSBieXRlTGVuZ3RoIC0gMVxuICB2YXIgbXVsID0gMVxuICB0aGlzW29mZnNldCArIGldID0gdmFsdWUgJiAweEZGXG4gIHdoaWxlICgtLWkgPj0gMCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHRoaXNbb2Zmc2V0ICsgaV0gPSAodmFsdWUgLyBtdWwpICYgMHhGRlxuICB9XG5cbiAgcmV0dXJuIG9mZnNldCArIGJ5dGVMZW5ndGhcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQ4ID0gZnVuY3Rpb24gd3JpdGVVSW50OCAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDEsIDB4ZmYsIDApXG4gIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIHJldHVybiBvZmZzZXQgKyAxXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50MTZMRSA9IGZ1bmN0aW9uIHdyaXRlVUludDE2TEUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAyLCAweGZmZmYsIDApXG4gIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDgpXG4gIHJldHVybiBvZmZzZXQgKyAyXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50MTZCRSA9IGZ1bmN0aW9uIHdyaXRlVUludDE2QkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAyLCAweGZmZmYsIDApXG4gIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSA+Pj4gOClcbiAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIHJldHVybiBvZmZzZXQgKyAyXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50MzJMRSA9IGZ1bmN0aW9uIHdyaXRlVUludDMyTEUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCA0LCAweGZmZmZmZmZmLCAwKVxuICB0aGlzW29mZnNldCArIDNdID0gKHZhbHVlID4+PiAyNClcbiAgdGhpc1tvZmZzZXQgKyAyXSA9ICh2YWx1ZSA+Pj4gMTYpXG4gIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDgpXG4gIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIHJldHVybiBvZmZzZXQgKyA0XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50MzJCRSA9IGZ1bmN0aW9uIHdyaXRlVUludDMyQkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCA0LCAweGZmZmZmZmZmLCAwKVxuICB0aGlzW29mZnNldF0gPSAodmFsdWUgPj4+IDI0KVxuICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiAxNilcbiAgdGhpc1tvZmZzZXQgKyAyXSA9ICh2YWx1ZSA+Pj4gOClcbiAgdGhpc1tvZmZzZXQgKyAzXSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIHJldHVybiBvZmZzZXQgKyA0XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnRMRSA9IGZ1bmN0aW9uIHdyaXRlSW50TEUgKHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgdmFyIGxpbWl0ID0gTWF0aC5wb3coMiwgKDggKiBieXRlTGVuZ3RoKSAtIDEpXG5cbiAgICBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBsaW1pdCAtIDEsIC1saW1pdClcbiAgfVxuXG4gIHZhciBpID0gMFxuICB2YXIgbXVsID0gMVxuICB2YXIgc3ViID0gMFxuICB0aGlzW29mZnNldF0gPSB2YWx1ZSAmIDB4RkZcbiAgd2hpbGUgKCsraSA8IGJ5dGVMZW5ndGggJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICBpZiAodmFsdWUgPCAwICYmIHN1YiA9PT0gMCAmJiB0aGlzW29mZnNldCArIGkgLSAxXSAhPT0gMCkge1xuICAgICAgc3ViID0gMVxuICAgIH1cbiAgICB0aGlzW29mZnNldCArIGldID0gKCh2YWx1ZSAvIG11bCkgPj4gMCkgLSBzdWIgJiAweEZGXG4gIH1cblxuICByZXR1cm4gb2Zmc2V0ICsgYnl0ZUxlbmd0aFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50QkUgPSBmdW5jdGlvbiB3cml0ZUludEJFICh2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIHZhciBsaW1pdCA9IE1hdGgucG93KDIsICg4ICogYnl0ZUxlbmd0aCkgLSAxKVxuXG4gICAgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbGltaXQgLSAxLCAtbGltaXQpXG4gIH1cblxuICB2YXIgaSA9IGJ5dGVMZW5ndGggLSAxXG4gIHZhciBtdWwgPSAxXG4gIHZhciBzdWIgPSAwXG4gIHRoaXNbb2Zmc2V0ICsgaV0gPSB2YWx1ZSAmIDB4RkZcbiAgd2hpbGUgKC0taSA+PSAwICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgaWYgKHZhbHVlIDwgMCAmJiBzdWIgPT09IDAgJiYgdGhpc1tvZmZzZXQgKyBpICsgMV0gIT09IDApIHtcbiAgICAgIHN1YiA9IDFcbiAgICB9XG4gICAgdGhpc1tvZmZzZXQgKyBpXSA9ICgodmFsdWUgLyBtdWwpID4+IDApIC0gc3ViICYgMHhGRlxuICB9XG5cbiAgcmV0dXJuIG9mZnNldCArIGJ5dGVMZW5ndGhcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDggPSBmdW5jdGlvbiB3cml0ZUludDggKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAxLCAweDdmLCAtMHg4MClcbiAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAweGZmICsgdmFsdWUgKyAxXG4gIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIHJldHVybiBvZmZzZXQgKyAxXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQxNkxFID0gZnVuY3Rpb24gd3JpdGVJbnQxNkxFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMiwgMHg3ZmZmLCAtMHg4MDAwKVxuICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiA4KVxuICByZXR1cm4gb2Zmc2V0ICsgMlxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50MTZCRSA9IGZ1bmN0aW9uIHdyaXRlSW50MTZCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDIsIDB4N2ZmZiwgLTB4ODAwMClcbiAgdGhpc1tvZmZzZXRdID0gKHZhbHVlID4+PiA4KVxuICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlICYgMHhmZilcbiAgcmV0dXJuIG9mZnNldCArIDJcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDMyTEUgPSBmdW5jdGlvbiB3cml0ZUludDMyTEUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCA0LCAweDdmZmZmZmZmLCAtMHg4MDAwMDAwMClcbiAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcbiAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gOClcbiAgdGhpc1tvZmZzZXQgKyAyXSA9ICh2YWx1ZSA+Pj4gMTYpXG4gIHRoaXNbb2Zmc2V0ICsgM10gPSAodmFsdWUgPj4+IDI0KVxuICByZXR1cm4gb2Zmc2V0ICsgNFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50MzJCRSA9IGZ1bmN0aW9uIHdyaXRlSW50MzJCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDQsIDB4N2ZmZmZmZmYsIC0weDgwMDAwMDAwKVxuICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDB4ZmZmZmZmZmYgKyB2YWx1ZSArIDFcbiAgdGhpc1tvZmZzZXRdID0gKHZhbHVlID4+PiAyNClcbiAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gMTYpXG4gIHRoaXNbb2Zmc2V0ICsgMl0gPSAodmFsdWUgPj4+IDgpXG4gIHRoaXNbb2Zmc2V0ICsgM10gPSAodmFsdWUgJiAweGZmKVxuICByZXR1cm4gb2Zmc2V0ICsgNFxufVxuXG5mdW5jdGlvbiBjaGVja0lFRUU3NTQgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgZXh0LCBtYXgsIG1pbikge1xuICBpZiAob2Zmc2V0ICsgZXh0ID4gYnVmLmxlbmd0aCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0luZGV4IG91dCBvZiByYW5nZScpXG4gIGlmIChvZmZzZXQgPCAwKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignSW5kZXggb3V0IG9mIHJhbmdlJylcbn1cblxuZnVuY3Rpb24gd3JpdGVGbG9hdCAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4sIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgY2hlY2tJRUVFNzU0KGJ1ZiwgdmFsdWUsIG9mZnNldCwgNCwgMy40MDI4MjM0NjYzODUyODg2ZSszOCwgLTMuNDAyODIzNDY2Mzg1Mjg4NmUrMzgpXG4gIH1cbiAgaWVlZTc1NC53cml0ZShidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgMjMsIDQpXG4gIHJldHVybiBvZmZzZXQgKyA0XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVGbG9hdExFID0gZnVuY3Rpb24gd3JpdGVGbG9hdExFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICByZXR1cm4gd3JpdGVGbG9hdCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCB0cnVlLCBub0Fzc2VydClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUZsb2F0QkUgPSBmdW5jdGlvbiB3cml0ZUZsb2F0QkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHJldHVybiB3cml0ZUZsb2F0KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGZhbHNlLCBub0Fzc2VydClcbn1cblxuZnVuY3Rpb24gd3JpdGVEb3VibGUgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIGNoZWNrSUVFRTc1NChidWYsIHZhbHVlLCBvZmZzZXQsIDgsIDEuNzk3NjkzMTM0ODYyMzE1N0UrMzA4LCAtMS43OTc2OTMxMzQ4NjIzMTU3RSszMDgpXG4gIH1cbiAgaWVlZTc1NC53cml0ZShidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgNTIsIDgpXG4gIHJldHVybiBvZmZzZXQgKyA4XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVEb3VibGVMRSA9IGZ1bmN0aW9uIHdyaXRlRG91YmxlTEUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHJldHVybiB3cml0ZURvdWJsZSh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCB0cnVlLCBub0Fzc2VydClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZURvdWJsZUJFID0gZnVuY3Rpb24gd3JpdGVEb3VibGVCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgcmV0dXJuIHdyaXRlRG91YmxlKHRoaXMsIHZhbHVlLCBvZmZzZXQsIGZhbHNlLCBub0Fzc2VydClcbn1cblxuLy8gY29weSh0YXJnZXRCdWZmZXIsIHRhcmdldFN0YXJ0PTAsIHNvdXJjZVN0YXJ0PTAsIHNvdXJjZUVuZD1idWZmZXIubGVuZ3RoKVxuQnVmZmVyLnByb3RvdHlwZS5jb3B5ID0gZnVuY3Rpb24gY29weSAodGFyZ2V0LCB0YXJnZXRTdGFydCwgc3RhcnQsIGVuZCkge1xuICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcih0YXJnZXQpKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdhcmd1bWVudCBzaG91bGQgYmUgYSBCdWZmZXInKVxuICBpZiAoIXN0YXJ0KSBzdGFydCA9IDBcbiAgaWYgKCFlbmQgJiYgZW5kICE9PSAwKSBlbmQgPSB0aGlzLmxlbmd0aFxuICBpZiAodGFyZ2V0U3RhcnQgPj0gdGFyZ2V0Lmxlbmd0aCkgdGFyZ2V0U3RhcnQgPSB0YXJnZXQubGVuZ3RoXG4gIGlmICghdGFyZ2V0U3RhcnQpIHRhcmdldFN0YXJ0ID0gMFxuICBpZiAoZW5kID4gMCAmJiBlbmQgPCBzdGFydCkgZW5kID0gc3RhcnRcblxuICAvLyBDb3B5IDAgYnl0ZXM7IHdlJ3JlIGRvbmVcbiAgaWYgKGVuZCA9PT0gc3RhcnQpIHJldHVybiAwXG4gIGlmICh0YXJnZXQubGVuZ3RoID09PSAwIHx8IHRoaXMubGVuZ3RoID09PSAwKSByZXR1cm4gMFxuXG4gIC8vIEZhdGFsIGVycm9yIGNvbmRpdGlvbnNcbiAgaWYgKHRhcmdldFN0YXJ0IDwgMCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCd0YXJnZXRTdGFydCBvdXQgb2YgYm91bmRzJylcbiAgfVxuICBpZiAoc3RhcnQgPCAwIHx8IHN0YXJ0ID49IHRoaXMubGVuZ3RoKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignSW5kZXggb3V0IG9mIHJhbmdlJylcbiAgaWYgKGVuZCA8IDApIHRocm93IG5ldyBSYW5nZUVycm9yKCdzb3VyY2VFbmQgb3V0IG9mIGJvdW5kcycpXG5cbiAgLy8gQXJlIHdlIG9vYj9cbiAgaWYgKGVuZCA+IHRoaXMubGVuZ3RoKSBlbmQgPSB0aGlzLmxlbmd0aFxuICBpZiAodGFyZ2V0Lmxlbmd0aCAtIHRhcmdldFN0YXJ0IDwgZW5kIC0gc3RhcnQpIHtcbiAgICBlbmQgPSB0YXJnZXQubGVuZ3RoIC0gdGFyZ2V0U3RhcnQgKyBzdGFydFxuICB9XG5cbiAgdmFyIGxlbiA9IGVuZCAtIHN0YXJ0XG5cbiAgaWYgKHRoaXMgPT09IHRhcmdldCAmJiB0eXBlb2YgVWludDhBcnJheS5wcm90b3R5cGUuY29weVdpdGhpbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIC8vIFVzZSBidWlsdC1pbiB3aGVuIGF2YWlsYWJsZSwgbWlzc2luZyBmcm9tIElFMTFcbiAgICB0aGlzLmNvcHlXaXRoaW4odGFyZ2V0U3RhcnQsIHN0YXJ0LCBlbmQpXG4gIH0gZWxzZSBpZiAodGhpcyA9PT0gdGFyZ2V0ICYmIHN0YXJ0IDwgdGFyZ2V0U3RhcnQgJiYgdGFyZ2V0U3RhcnQgPCBlbmQpIHtcbiAgICAvLyBkZXNjZW5kaW5nIGNvcHkgZnJvbSBlbmRcbiAgICBmb3IgKHZhciBpID0gbGVuIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgIHRhcmdldFtpICsgdGFyZ2V0U3RhcnRdID0gdGhpc1tpICsgc3RhcnRdXG4gICAgfVxuICB9IGVsc2Uge1xuICAgIFVpbnQ4QXJyYXkucHJvdG90eXBlLnNldC5jYWxsKFxuICAgICAgdGFyZ2V0LFxuICAgICAgdGhpcy5zdWJhcnJheShzdGFydCwgZW5kKSxcbiAgICAgIHRhcmdldFN0YXJ0XG4gICAgKVxuICB9XG5cbiAgcmV0dXJuIGxlblxufVxuXG4vLyBVc2FnZTpcbi8vICAgIGJ1ZmZlci5maWxsKG51bWJlclssIG9mZnNldFssIGVuZF1dKVxuLy8gICAgYnVmZmVyLmZpbGwoYnVmZmVyWywgb2Zmc2V0WywgZW5kXV0pXG4vLyAgICBidWZmZXIuZmlsbChzdHJpbmdbLCBvZmZzZXRbLCBlbmRdXVssIGVuY29kaW5nXSlcbkJ1ZmZlci5wcm90b3R5cGUuZmlsbCA9IGZ1bmN0aW9uIGZpbGwgKHZhbCwgc3RhcnQsIGVuZCwgZW5jb2RpbmcpIHtcbiAgLy8gSGFuZGxlIHN0cmluZyBjYXNlczpcbiAgaWYgKHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnKSB7XG4gICAgaWYgKHR5cGVvZiBzdGFydCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGVuY29kaW5nID0gc3RhcnRcbiAgICAgIHN0YXJ0ID0gMFxuICAgICAgZW5kID0gdGhpcy5sZW5ndGhcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBlbmQgPT09ICdzdHJpbmcnKSB7XG4gICAgICBlbmNvZGluZyA9IGVuZFxuICAgICAgZW5kID0gdGhpcy5sZW5ndGhcbiAgICB9XG4gICAgaWYgKGVuY29kaW5nICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIGVuY29kaW5nICE9PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignZW5jb2RpbmcgbXVzdCBiZSBhIHN0cmluZycpXG4gICAgfVxuICAgIGlmICh0eXBlb2YgZW5jb2RpbmcgPT09ICdzdHJpbmcnICYmICFCdWZmZXIuaXNFbmNvZGluZyhlbmNvZGluZykpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Vua25vd24gZW5jb2Rpbmc6ICcgKyBlbmNvZGluZylcbiAgICB9XG4gICAgaWYgKHZhbC5sZW5ndGggPT09IDEpIHtcbiAgICAgIHZhciBjb2RlID0gdmFsLmNoYXJDb2RlQXQoMClcbiAgICAgIGlmICgoZW5jb2RpbmcgPT09ICd1dGY4JyAmJiBjb2RlIDwgMTI4KSB8fFxuICAgICAgICAgIGVuY29kaW5nID09PSAnbGF0aW4xJykge1xuICAgICAgICAvLyBGYXN0IHBhdGg6IElmIGB2YWxgIGZpdHMgaW50byBhIHNpbmdsZSBieXRlLCB1c2UgdGhhdCBudW1lcmljIHZhbHVlLlxuICAgICAgICB2YWwgPSBjb2RlXG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKHR5cGVvZiB2YWwgPT09ICdudW1iZXInKSB7XG4gICAgdmFsID0gdmFsICYgMjU1XG4gIH0gZWxzZSBpZiAodHlwZW9mIHZhbCA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgdmFsID0gTnVtYmVyKHZhbClcbiAgfVxuXG4gIC8vIEludmFsaWQgcmFuZ2VzIGFyZSBub3Qgc2V0IHRvIGEgZGVmYXVsdCwgc28gY2FuIHJhbmdlIGNoZWNrIGVhcmx5LlxuICBpZiAoc3RhcnQgPCAwIHx8IHRoaXMubGVuZ3RoIDwgc3RhcnQgfHwgdGhpcy5sZW5ndGggPCBlbmQpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignT3V0IG9mIHJhbmdlIGluZGV4JylcbiAgfVxuXG4gIGlmIChlbmQgPD0gc3RhcnQpIHtcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgc3RhcnQgPSBzdGFydCA+Pj4gMFxuICBlbmQgPSBlbmQgPT09IHVuZGVmaW5lZCA/IHRoaXMubGVuZ3RoIDogZW5kID4+PiAwXG5cbiAgaWYgKCF2YWwpIHZhbCA9IDBcblxuICB2YXIgaVxuICBpZiAodHlwZW9mIHZhbCA9PT0gJ251bWJlcicpIHtcbiAgICBmb3IgKGkgPSBzdGFydDsgaSA8IGVuZDsgKytpKSB7XG4gICAgICB0aGlzW2ldID0gdmFsXG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHZhciBieXRlcyA9IEJ1ZmZlci5pc0J1ZmZlcih2YWwpXG4gICAgICA/IHZhbFxuICAgICAgOiBCdWZmZXIuZnJvbSh2YWwsIGVuY29kaW5nKVxuICAgIHZhciBsZW4gPSBieXRlcy5sZW5ndGhcbiAgICBpZiAobGVuID09PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgdmFsdWUgXCInICsgdmFsICtcbiAgICAgICAgJ1wiIGlzIGludmFsaWQgZm9yIGFyZ3VtZW50IFwidmFsdWVcIicpXG4gICAgfVxuICAgIGZvciAoaSA9IDA7IGkgPCBlbmQgLSBzdGFydDsgKytpKSB7XG4gICAgICB0aGlzW2kgKyBzdGFydF0gPSBieXRlc1tpICUgbGVuXVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0aGlzXG59XG5cbi8vIEhFTFBFUiBGVU5DVElPTlNcbi8vID09PT09PT09PT09PT09PT1cblxudmFyIElOVkFMSURfQkFTRTY0X1JFID0gL1teKy8wLTlBLVphLXotX10vZ1xuXG5mdW5jdGlvbiBiYXNlNjRjbGVhbiAoc3RyKSB7XG4gIC8vIE5vZGUgdGFrZXMgZXF1YWwgc2lnbnMgYXMgZW5kIG9mIHRoZSBCYXNlNjQgZW5jb2RpbmdcbiAgc3RyID0gc3RyLnNwbGl0KCc9JylbMF1cbiAgLy8gTm9kZSBzdHJpcHMgb3V0IGludmFsaWQgY2hhcmFjdGVycyBsaWtlIFxcbiBhbmQgXFx0IGZyb20gdGhlIHN0cmluZywgYmFzZTY0LWpzIGRvZXMgbm90XG4gIHN0ciA9IHN0ci50cmltKCkucmVwbGFjZShJTlZBTElEX0JBU0U2NF9SRSwgJycpXG4gIC8vIE5vZGUgY29udmVydHMgc3RyaW5ncyB3aXRoIGxlbmd0aCA8IDIgdG8gJydcbiAgaWYgKHN0ci5sZW5ndGggPCAyKSByZXR1cm4gJydcbiAgLy8gTm9kZSBhbGxvd3MgZm9yIG5vbi1wYWRkZWQgYmFzZTY0IHN0cmluZ3MgKG1pc3NpbmcgdHJhaWxpbmcgPT09KSwgYmFzZTY0LWpzIGRvZXMgbm90XG4gIHdoaWxlIChzdHIubGVuZ3RoICUgNCAhPT0gMCkge1xuICAgIHN0ciA9IHN0ciArICc9J1xuICB9XG4gIHJldHVybiBzdHJcbn1cblxuZnVuY3Rpb24gdXRmOFRvQnl0ZXMgKHN0cmluZywgdW5pdHMpIHtcbiAgdW5pdHMgPSB1bml0cyB8fCBJbmZpbml0eVxuICB2YXIgY29kZVBvaW50XG4gIHZhciBsZW5ndGggPSBzdHJpbmcubGVuZ3RoXG4gIHZhciBsZWFkU3Vycm9nYXRlID0gbnVsbFxuICB2YXIgYnl0ZXMgPSBbXVxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcbiAgICBjb2RlUG9pbnQgPSBzdHJpbmcuY2hhckNvZGVBdChpKVxuXG4gICAgLy8gaXMgc3Vycm9nYXRlIGNvbXBvbmVudFxuICAgIGlmIChjb2RlUG9pbnQgPiAweEQ3RkYgJiYgY29kZVBvaW50IDwgMHhFMDAwKSB7XG4gICAgICAvLyBsYXN0IGNoYXIgd2FzIGEgbGVhZFxuICAgICAgaWYgKCFsZWFkU3Vycm9nYXRlKSB7XG4gICAgICAgIC8vIG5vIGxlYWQgeWV0XG4gICAgICAgIGlmIChjb2RlUG9pbnQgPiAweERCRkYpIHtcbiAgICAgICAgICAvLyB1bmV4cGVjdGVkIHRyYWlsXG4gICAgICAgICAgaWYgKCh1bml0cyAtPSAzKSA+IC0xKSBieXRlcy5wdXNoKDB4RUYsIDB4QkYsIDB4QkQpXG4gICAgICAgICAgY29udGludWVcbiAgICAgICAgfSBlbHNlIGlmIChpICsgMSA9PT0gbGVuZ3RoKSB7XG4gICAgICAgICAgLy8gdW5wYWlyZWQgbGVhZFxuICAgICAgICAgIGlmICgodW5pdHMgLT0gMykgPiAtMSkgYnl0ZXMucHVzaCgweEVGLCAweEJGLCAweEJEKVxuICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH1cblxuICAgICAgICAvLyB2YWxpZCBsZWFkXG4gICAgICAgIGxlYWRTdXJyb2dhdGUgPSBjb2RlUG9pbnRcblxuICAgICAgICBjb250aW51ZVxuICAgICAgfVxuXG4gICAgICAvLyAyIGxlYWRzIGluIGEgcm93XG4gICAgICBpZiAoY29kZVBvaW50IDwgMHhEQzAwKSB7XG4gICAgICAgIGlmICgodW5pdHMgLT0gMykgPiAtMSkgYnl0ZXMucHVzaCgweEVGLCAweEJGLCAweEJEKVxuICAgICAgICBsZWFkU3Vycm9nYXRlID0gY29kZVBvaW50XG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG5cbiAgICAgIC8vIHZhbGlkIHN1cnJvZ2F0ZSBwYWlyXG4gICAgICBjb2RlUG9pbnQgPSAobGVhZFN1cnJvZ2F0ZSAtIDB4RDgwMCA8PCAxMCB8IGNvZGVQb2ludCAtIDB4REMwMCkgKyAweDEwMDAwXG4gICAgfSBlbHNlIGlmIChsZWFkU3Vycm9nYXRlKSB7XG4gICAgICAvLyB2YWxpZCBibXAgY2hhciwgYnV0IGxhc3QgY2hhciB3YXMgYSBsZWFkXG4gICAgICBpZiAoKHVuaXRzIC09IDMpID4gLTEpIGJ5dGVzLnB1c2goMHhFRiwgMHhCRiwgMHhCRClcbiAgICB9XG5cbiAgICBsZWFkU3Vycm9nYXRlID0gbnVsbFxuXG4gICAgLy8gZW5jb2RlIHV0ZjhcbiAgICBpZiAoY29kZVBvaW50IDwgMHg4MCkge1xuICAgICAgaWYgKCh1bml0cyAtPSAxKSA8IDApIGJyZWFrXG4gICAgICBieXRlcy5wdXNoKGNvZGVQb2ludClcbiAgICB9IGVsc2UgaWYgKGNvZGVQb2ludCA8IDB4ODAwKSB7XG4gICAgICBpZiAoKHVuaXRzIC09IDIpIDwgMCkgYnJlYWtcbiAgICAgIGJ5dGVzLnB1c2goXG4gICAgICAgIGNvZGVQb2ludCA+PiAweDYgfCAweEMwLFxuICAgICAgICBjb2RlUG9pbnQgJiAweDNGIHwgMHg4MFxuICAgICAgKVxuICAgIH0gZWxzZSBpZiAoY29kZVBvaW50IDwgMHgxMDAwMCkge1xuICAgICAgaWYgKCh1bml0cyAtPSAzKSA8IDApIGJyZWFrXG4gICAgICBieXRlcy5wdXNoKFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHhDIHwgMHhFMCxcbiAgICAgICAgY29kZVBvaW50ID4+IDB4NiAmIDB4M0YgfCAweDgwLFxuICAgICAgICBjb2RlUG9pbnQgJiAweDNGIHwgMHg4MFxuICAgICAgKVxuICAgIH0gZWxzZSBpZiAoY29kZVBvaW50IDwgMHgxMTAwMDApIHtcbiAgICAgIGlmICgodW5pdHMgLT0gNCkgPCAwKSBicmVha1xuICAgICAgYnl0ZXMucHVzaChcbiAgICAgICAgY29kZVBvaW50ID4+IDB4MTIgfCAweEYwLFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHhDICYgMHgzRiB8IDB4ODAsXG4gICAgICAgIGNvZGVQb2ludCA+PiAweDYgJiAweDNGIHwgMHg4MCxcbiAgICAgICAgY29kZVBvaW50ICYgMHgzRiB8IDB4ODBcbiAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGNvZGUgcG9pbnQnKVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBieXRlc1xufVxuXG5mdW5jdGlvbiBhc2NpaVRvQnl0ZXMgKHN0cikge1xuICB2YXIgYnl0ZUFycmF5ID0gW11cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyArK2kpIHtcbiAgICAvLyBOb2RlJ3MgY29kZSBzZWVtcyB0byBiZSBkb2luZyB0aGlzIGFuZCBub3QgJiAweDdGLi5cbiAgICBieXRlQXJyYXkucHVzaChzdHIuY2hhckNvZGVBdChpKSAmIDB4RkYpXG4gIH1cbiAgcmV0dXJuIGJ5dGVBcnJheVxufVxuXG5mdW5jdGlvbiB1dGYxNmxlVG9CeXRlcyAoc3RyLCB1bml0cykge1xuICB2YXIgYywgaGksIGxvXG4gIHZhciBieXRlQXJyYXkgPSBbXVxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0ci5sZW5ndGg7ICsraSkge1xuICAgIGlmICgodW5pdHMgLT0gMikgPCAwKSBicmVha1xuXG4gICAgYyA9IHN0ci5jaGFyQ29kZUF0KGkpXG4gICAgaGkgPSBjID4+IDhcbiAgICBsbyA9IGMgJSAyNTZcbiAgICBieXRlQXJyYXkucHVzaChsbylcbiAgICBieXRlQXJyYXkucHVzaChoaSlcbiAgfVxuXG4gIHJldHVybiBieXRlQXJyYXlcbn1cblxuZnVuY3Rpb24gYmFzZTY0VG9CeXRlcyAoc3RyKSB7XG4gIHJldHVybiBiYXNlNjQudG9CeXRlQXJyYXkoYmFzZTY0Y2xlYW4oc3RyKSlcbn1cblxuZnVuY3Rpb24gYmxpdEJ1ZmZlciAoc3JjLCBkc3QsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcbiAgICBpZiAoKGkgKyBvZmZzZXQgPj0gZHN0Lmxlbmd0aCkgfHwgKGkgPj0gc3JjLmxlbmd0aCkpIGJyZWFrXG4gICAgZHN0W2kgKyBvZmZzZXRdID0gc3JjW2ldXG4gIH1cbiAgcmV0dXJuIGlcbn1cblxuLy8gQXJyYXlCdWZmZXIgb3IgVWludDhBcnJheSBvYmplY3RzIGZyb20gb3RoZXIgY29udGV4dHMgKGkuZS4gaWZyYW1lcykgZG8gbm90IHBhc3Ncbi8vIHRoZSBgaW5zdGFuY2VvZmAgY2hlY2sgYnV0IHRoZXkgc2hvdWxkIGJlIHRyZWF0ZWQgYXMgb2YgdGhhdCB0eXBlLlxuLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vZmVyb3NzL2J1ZmZlci9pc3N1ZXMvMTY2XG5mdW5jdGlvbiBpc0luc3RhbmNlIChvYmosIHR5cGUpIHtcbiAgcmV0dXJuIG9iaiBpbnN0YW5jZW9mIHR5cGUgfHxcbiAgICAob2JqICE9IG51bGwgJiYgb2JqLmNvbnN0cnVjdG9yICE9IG51bGwgJiYgb2JqLmNvbnN0cnVjdG9yLm5hbWUgIT0gbnVsbCAmJlxuICAgICAgb2JqLmNvbnN0cnVjdG9yLm5hbWUgPT09IHR5cGUubmFtZSlcbn1cbmZ1bmN0aW9uIG51bWJlcklzTmFOIChvYmopIHtcbiAgLy8gRm9yIElFMTEgc3VwcG9ydFxuICByZXR1cm4gb2JqICE9PSBvYmogLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1zZWxmLWNvbXBhcmVcbn1cblxuLy8gQ3JlYXRlIGxvb2t1cCB0YWJsZSBmb3IgYHRvU3RyaW5nKCdoZXgnKWBcbi8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL2Zlcm9zcy9idWZmZXIvaXNzdWVzLzIxOVxudmFyIGhleFNsaWNlTG9va3VwVGFibGUgPSAoZnVuY3Rpb24gKCkge1xuICB2YXIgYWxwaGFiZXQgPSAnMDEyMzQ1Njc4OWFiY2RlZidcbiAgdmFyIHRhYmxlID0gbmV3IEFycmF5KDI1NilcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCAxNjsgKytpKSB7XG4gICAgdmFyIGkxNiA9IGkgKiAxNlxuICAgIGZvciAodmFyIGogPSAwOyBqIDwgMTY7ICsraikge1xuICAgICAgdGFibGVbaTE2ICsgal0gPSBhbHBoYWJldFtpXSArIGFscGhhYmV0W2pdXG4gICAgfVxuICB9XG4gIHJldHVybiB0YWJsZVxufSkoKVxuIiwiLypcbiAgQ29weXJpZ2h0IChDKSAyMDEyLTIwMTQgWXVzdWtlIFN1enVraSA8dXRhdGFuZS50ZWFAZ21haWwuY29tPlxuICBDb3B5cmlnaHQgKEMpIDIwMTUgSW5ndmFyIFN0ZXBhbnlhbiA8bWVAcnJldmVyc2VyLmNvbT5cbiAgQ29weXJpZ2h0IChDKSAyMDE0IEl2YW4gTmlrdWxpbiA8aWZhYWFuQGdtYWlsLmNvbT5cbiAgQ29weXJpZ2h0IChDKSAyMDEyLTIwMTMgTWljaGFlbCBGaWNhcnJhIDxlc2NvZGVnZW4uY29weXJpZ2h0QG1pY2hhZWwuZmljYXJyYS5tZT5cbiAgQ29weXJpZ2h0IChDKSAyMDEyLTIwMTMgTWF0aGlhcyBCeW5lbnMgPG1hdGhpYXNAcWl3aS5iZT5cbiAgQ29weXJpZ2h0IChDKSAyMDEzIElyYWtsaSBHb3phbGlzaHZpbGkgPHJmb2JpY0BnbWFpbC5jb20+XG4gIENvcHlyaWdodCAoQykgMjAxMiBSb2JlcnQgR3VzdC1CYXJkb24gPGRvbmF0ZUByb2JlcnQuZ3VzdC1iYXJkb24ub3JnPlxuICBDb3B5cmlnaHQgKEMpIDIwMTIgSm9obiBGcmVlbWFuIDxqZnJlZW1hbjA4QGdtYWlsLmNvbT5cbiAgQ29weXJpZ2h0IChDKSAyMDExLTIwMTIgQXJpeWEgSGlkYXlhdCA8YXJpeWEuaGlkYXlhdEBnbWFpbC5jb20+XG4gIENvcHlyaWdodCAoQykgMjAxMiBKb29zdC1XaW0gQm9la2VzdGVpam4gPGpvb3N0LXdpbUBib2VrZXN0ZWlqbi5ubD5cbiAgQ29weXJpZ2h0IChDKSAyMDEyIEtyaXMgS293YWwgPGtyaXMua293YWxAY2l4YXIuY29tPlxuICBDb3B5cmlnaHQgKEMpIDIwMTIgQXJwYWQgQm9yc29zIDxhcnBhZC5ib3Jzb3NAZ29vZ2xlbWFpbC5jb20+XG5cbiAgUmVkaXN0cmlidXRpb24gYW5kIHVzZSBpbiBzb3VyY2UgYW5kIGJpbmFyeSBmb3Jtcywgd2l0aCBvciB3aXRob3V0XG4gIG1vZGlmaWNhdGlvbiwgYXJlIHBlcm1pdHRlZCBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBhcmUgbWV0OlxuXG4gICAgKiBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRhaW4gdGhlIGFib3ZlIGNvcHlyaWdodFxuICAgICAgbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyLlxuICAgICogUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZSBjb3B5cmlnaHRcbiAgICAgIG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lciBpbiB0aGVcbiAgICAgIGRvY3VtZW50YXRpb24gYW5kL29yIG90aGVyIG1hdGVyaWFscyBwcm92aWRlZCB3aXRoIHRoZSBkaXN0cmlidXRpb24uXG5cbiAgVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SUyBcIkFTIElTXCJcbiAgQU5EIEFOWSBFWFBSRVNTIE9SIElNUExJRUQgV0FSUkFOVElFUywgSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sIFRIRVxuICBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRVxuICBBUkUgRElTQ0xBSU1FRC4gSU4gTk8gRVZFTlQgU0hBTEwgPENPUFlSSUdIVCBIT0xERVI+IEJFIExJQUJMRSBGT1IgQU5ZXG4gIERJUkVDVCwgSU5ESVJFQ1QsIElOQ0lERU5UQUwsIFNQRUNJQUwsIEVYRU1QTEFSWSwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTXG4gIChJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUztcbiAgTE9TUyBPRiBVU0UsIERBVEEsIE9SIFBST0ZJVFM7IE9SIEJVU0lORVNTIElOVEVSUlVQVElPTikgSE9XRVZFUiBDQVVTRUQgQU5EXG4gIE9OIEFOWSBUSEVPUlkgT0YgTElBQklMSVRZLCBXSEVUSEVSIElOIENPTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLCBPUiBUT1JUXG4gIChJTkNMVURJTkcgTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0YgVEhFIFVTRSBPRlxuICBUSElTIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFIFBPU1NJQklMSVRZIE9GIFNVQ0ggREFNQUdFLlxuKi9cblxuLypnbG9iYWwgZXhwb3J0czp0cnVlLCByZXF1aXJlOnRydWUsIGdsb2JhbDp0cnVlKi9cbihmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIFN5bnRheCxcbiAgICAgICAgUHJlY2VkZW5jZSxcbiAgICAgICAgQmluYXJ5UHJlY2VkZW5jZSxcbiAgICAgICAgU291cmNlTm9kZSxcbiAgICAgICAgZXN0cmF2ZXJzZSxcbiAgICAgICAgZXN1dGlscyxcbiAgICAgICAgYmFzZSxcbiAgICAgICAgaW5kZW50LFxuICAgICAgICBqc29uLFxuICAgICAgICByZW51bWJlcixcbiAgICAgICAgaGV4YWRlY2ltYWwsXG4gICAgICAgIHF1b3RlcyxcbiAgICAgICAgZXNjYXBlbGVzcyxcbiAgICAgICAgbmV3bGluZSxcbiAgICAgICAgc3BhY2UsXG4gICAgICAgIHBhcmVudGhlc2VzLFxuICAgICAgICBzZW1pY29sb25zLFxuICAgICAgICBzYWZlQ29uY2F0ZW5hdGlvbixcbiAgICAgICAgZGlyZWN0aXZlLFxuICAgICAgICBleHRyYSxcbiAgICAgICAgcGFyc2UsXG4gICAgICAgIHNvdXJjZU1hcCxcbiAgICAgICAgc291cmNlQ29kZSxcbiAgICAgICAgcHJlc2VydmVCbGFua0xpbmVzLFxuICAgICAgICBGT1JNQVRfTUlOSUZZLFxuICAgICAgICBGT1JNQVRfREVGQVVMVFM7XG5cbiAgICBlc3RyYXZlcnNlID0gcmVxdWlyZSgnZXN0cmF2ZXJzZScpO1xuICAgIGVzdXRpbHMgPSByZXF1aXJlKCdlc3V0aWxzJyk7XG5cbiAgICBTeW50YXggPSBlc3RyYXZlcnNlLlN5bnRheDtcblxuICAgIC8vIEdlbmVyYXRpb24gaXMgZG9uZSBieSBnZW5lcmF0ZUV4cHJlc3Npb24uXG4gICAgZnVuY3Rpb24gaXNFeHByZXNzaW9uKG5vZGUpIHtcbiAgICAgICAgcmV0dXJuIENvZGVHZW5lcmF0b3IuRXhwcmVzc2lvbi5oYXNPd25Qcm9wZXJ0eShub2RlLnR5cGUpO1xuICAgIH1cblxuICAgIC8vIEdlbmVyYXRpb24gaXMgZG9uZSBieSBnZW5lcmF0ZVN0YXRlbWVudC5cbiAgICBmdW5jdGlvbiBpc1N0YXRlbWVudChub2RlKSB7XG4gICAgICAgIHJldHVybiBDb2RlR2VuZXJhdG9yLlN0YXRlbWVudC5oYXNPd25Qcm9wZXJ0eShub2RlLnR5cGUpO1xuICAgIH1cblxuICAgIFByZWNlZGVuY2UgPSB7XG4gICAgICAgIFNlcXVlbmNlOiAwLFxuICAgICAgICBZaWVsZDogMSxcbiAgICAgICAgQXNzaWdubWVudDogMSxcbiAgICAgICAgQ29uZGl0aW9uYWw6IDIsXG4gICAgICAgIEFycm93RnVuY3Rpb246IDIsXG4gICAgICAgIExvZ2ljYWxPUjogMyxcbiAgICAgICAgTG9naWNhbEFORDogNCxcbiAgICAgICAgQml0d2lzZU9SOiA1LFxuICAgICAgICBCaXR3aXNlWE9SOiA2LFxuICAgICAgICBCaXR3aXNlQU5EOiA3LFxuICAgICAgICBFcXVhbGl0eTogOCxcbiAgICAgICAgUmVsYXRpb25hbDogOSxcbiAgICAgICAgQml0d2lzZVNISUZUOiAxMCxcbiAgICAgICAgQWRkaXRpdmU6IDExLFxuICAgICAgICBNdWx0aXBsaWNhdGl2ZTogMTIsXG4gICAgICAgIEV4cG9uZW50aWF0aW9uOiAxMyxcbiAgICAgICAgQXdhaXQ6IDE0LFxuICAgICAgICBVbmFyeTogMTQsXG4gICAgICAgIFBvc3RmaXg6IDE1LFxuICAgICAgICBDYWxsOiAxNixcbiAgICAgICAgTmV3OiAxNyxcbiAgICAgICAgVGFnZ2VkVGVtcGxhdGU6IDE4LFxuICAgICAgICBNZW1iZXI6IDE5LFxuICAgICAgICBQcmltYXJ5OiAyMFxuICAgIH07XG5cbiAgICBCaW5hcnlQcmVjZWRlbmNlID0ge1xuICAgICAgICAnfHwnOiBQcmVjZWRlbmNlLkxvZ2ljYWxPUixcbiAgICAgICAgJyYmJzogUHJlY2VkZW5jZS5Mb2dpY2FsQU5ELFxuICAgICAgICAnfCc6IFByZWNlZGVuY2UuQml0d2lzZU9SLFxuICAgICAgICAnXic6IFByZWNlZGVuY2UuQml0d2lzZVhPUixcbiAgICAgICAgJyYnOiBQcmVjZWRlbmNlLkJpdHdpc2VBTkQsXG4gICAgICAgICc9PSc6IFByZWNlZGVuY2UuRXF1YWxpdHksXG4gICAgICAgICchPSc6IFByZWNlZGVuY2UuRXF1YWxpdHksXG4gICAgICAgICc9PT0nOiBQcmVjZWRlbmNlLkVxdWFsaXR5LFxuICAgICAgICAnIT09JzogUHJlY2VkZW5jZS5FcXVhbGl0eSxcbiAgICAgICAgJ2lzJzogUHJlY2VkZW5jZS5FcXVhbGl0eSxcbiAgICAgICAgJ2lzbnQnOiBQcmVjZWRlbmNlLkVxdWFsaXR5LFxuICAgICAgICAnPCc6IFByZWNlZGVuY2UuUmVsYXRpb25hbCxcbiAgICAgICAgJz4nOiBQcmVjZWRlbmNlLlJlbGF0aW9uYWwsXG4gICAgICAgICc8PSc6IFByZWNlZGVuY2UuUmVsYXRpb25hbCxcbiAgICAgICAgJz49JzogUHJlY2VkZW5jZS5SZWxhdGlvbmFsLFxuICAgICAgICAnaW4nOiBQcmVjZWRlbmNlLlJlbGF0aW9uYWwsXG4gICAgICAgICdpbnN0YW5jZW9mJzogUHJlY2VkZW5jZS5SZWxhdGlvbmFsLFxuICAgICAgICAnPDwnOiBQcmVjZWRlbmNlLkJpdHdpc2VTSElGVCxcbiAgICAgICAgJz4+JzogUHJlY2VkZW5jZS5CaXR3aXNlU0hJRlQsXG4gICAgICAgICc+Pj4nOiBQcmVjZWRlbmNlLkJpdHdpc2VTSElGVCxcbiAgICAgICAgJysnOiBQcmVjZWRlbmNlLkFkZGl0aXZlLFxuICAgICAgICAnLSc6IFByZWNlZGVuY2UuQWRkaXRpdmUsXG4gICAgICAgICcqJzogUHJlY2VkZW5jZS5NdWx0aXBsaWNhdGl2ZSxcbiAgICAgICAgJyUnOiBQcmVjZWRlbmNlLk11bHRpcGxpY2F0aXZlLFxuICAgICAgICAnLyc6IFByZWNlZGVuY2UuTXVsdGlwbGljYXRpdmUsXG4gICAgICAgICcqKic6IFByZWNlZGVuY2UuRXhwb25lbnRpYXRpb25cbiAgICB9O1xuXG4gICAgLy9GbGFnc1xuICAgIHZhciBGX0FMTE9XX0lOID0gMSxcbiAgICAgICAgRl9BTExPV19DQUxMID0gMSA8PCAxLFxuICAgICAgICBGX0FMTE9XX1VOUEFSQVRIX05FVyA9IDEgPDwgMixcbiAgICAgICAgRl9GVU5DX0JPRFkgPSAxIDw8IDMsXG4gICAgICAgIEZfRElSRUNUSVZFX0NUWCA9IDEgPDwgNCxcbiAgICAgICAgRl9TRU1JQ09MT05fT1BUID0gMSA8PCA1O1xuXG4gICAgLy9FeHByZXNzaW9uIGZsYWcgc2V0c1xuICAgIC8vTk9URTogRmxhZyBvcmRlcjpcbiAgICAvLyBGX0FMTE9XX0lOXG4gICAgLy8gRl9BTExPV19DQUxMXG4gICAgLy8gRl9BTExPV19VTlBBUkFUSF9ORVdcbiAgICB2YXIgRV9GVFQgPSBGX0FMTE9XX0NBTEwgfCBGX0FMTE9XX1VOUEFSQVRIX05FVyxcbiAgICAgICAgRV9UVEYgPSBGX0FMTE9XX0lOIHwgRl9BTExPV19DQUxMLFxuICAgICAgICBFX1RUVCA9IEZfQUxMT1dfSU4gfCBGX0FMTE9XX0NBTEwgfCBGX0FMTE9XX1VOUEFSQVRIX05FVyxcbiAgICAgICAgRV9URkYgPSBGX0FMTE9XX0lOLFxuICAgICAgICBFX0ZGVCA9IEZfQUxMT1dfVU5QQVJBVEhfTkVXLFxuICAgICAgICBFX1RGVCA9IEZfQUxMT1dfSU4gfCBGX0FMTE9XX1VOUEFSQVRIX05FVztcblxuICAgIC8vU3RhdGVtZW50IGZsYWcgc2V0c1xuICAgIC8vTk9URTogRmxhZyBvcmRlcjpcbiAgICAvLyBGX0FMTE9XX0lOXG4gICAgLy8gRl9GVU5DX0JPRFlcbiAgICAvLyBGX0RJUkVDVElWRV9DVFhcbiAgICAvLyBGX1NFTUlDT0xPTl9PUFRcbiAgICB2YXIgU19URkZGID0gRl9BTExPV19JTixcbiAgICAgICAgU19URkZUID0gRl9BTExPV19JTiB8IEZfU0VNSUNPTE9OX09QVCxcbiAgICAgICAgU19GRkZGID0gMHgwMCxcbiAgICAgICAgU19URlRGID0gRl9BTExPV19JTiB8IEZfRElSRUNUSVZFX0NUWCxcbiAgICAgICAgU19UVEZGID0gRl9BTExPV19JTiB8IEZfRlVOQ19CT0RZO1xuXG4gICAgZnVuY3Rpb24gZ2V0RGVmYXVsdE9wdGlvbnMoKSB7XG4gICAgICAgIC8vIGRlZmF1bHQgb3B0aW9uc1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaW5kZW50OiBudWxsLFxuICAgICAgICAgICAgYmFzZTogbnVsbCxcbiAgICAgICAgICAgIHBhcnNlOiBudWxsLFxuICAgICAgICAgICAgY29tbWVudDogZmFsc2UsXG4gICAgICAgICAgICBmb3JtYXQ6IHtcbiAgICAgICAgICAgICAgICBpbmRlbnQ6IHtcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU6ICcgICAgJyxcbiAgICAgICAgICAgICAgICAgICAgYmFzZTogMCxcbiAgICAgICAgICAgICAgICAgICAgYWRqdXN0TXVsdGlsaW5lQ29tbWVudDogZmFsc2VcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG5ld2xpbmU6ICdcXG4nLFxuICAgICAgICAgICAgICAgIHNwYWNlOiAnICcsXG4gICAgICAgICAgICAgICAganNvbjogZmFsc2UsXG4gICAgICAgICAgICAgICAgcmVudW1iZXI6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGhleGFkZWNpbWFsOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBxdW90ZXM6ICdzaW5nbGUnLFxuICAgICAgICAgICAgICAgIGVzY2FwZWxlc3M6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGNvbXBhY3Q6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHBhcmVudGhlc2VzOiB0cnVlLFxuICAgICAgICAgICAgICAgIHNlbWljb2xvbnM6IHRydWUsXG4gICAgICAgICAgICAgICAgc2FmZUNvbmNhdGVuYXRpb246IGZhbHNlLFxuICAgICAgICAgICAgICAgIHByZXNlcnZlQmxhbmtMaW5lczogZmFsc2VcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBtb3o6IHtcbiAgICAgICAgICAgICAgICBjb21wcmVoZW5zaW9uRXhwcmVzc2lvblN0YXJ0c1dpdGhBc3NpZ25tZW50OiBmYWxzZSxcbiAgICAgICAgICAgICAgICBzdGFybGVzc0dlbmVyYXRvcjogZmFsc2VcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzb3VyY2VNYXA6IG51bGwsXG4gICAgICAgICAgICBzb3VyY2VNYXBSb290OiBudWxsLFxuICAgICAgICAgICAgc291cmNlTWFwV2l0aENvZGU6IGZhbHNlLFxuICAgICAgICAgICAgZGlyZWN0aXZlOiBmYWxzZSxcbiAgICAgICAgICAgIHJhdzogdHJ1ZSxcbiAgICAgICAgICAgIHZlcmJhdGltOiBudWxsLFxuICAgICAgICAgICAgc291cmNlQ29kZTogbnVsbFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHN0cmluZ1JlcGVhdChzdHIsIG51bSkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gJyc7XG5cbiAgICAgICAgZm9yIChudW0gfD0gMDsgbnVtID4gMDsgbnVtID4+Pj0gMSwgc3RyICs9IHN0cikge1xuICAgICAgICAgICAgaWYgKG51bSAmIDEpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgKz0gc3RyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoYXNMaW5lVGVybWluYXRvcihzdHIpIHtcbiAgICAgICAgcmV0dXJuICgvW1xcclxcbl0vZykudGVzdChzdHIpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGVuZHNXaXRoTGluZVRlcm1pbmF0b3Ioc3RyKSB7XG4gICAgICAgIHZhciBsZW4gPSBzdHIubGVuZ3RoO1xuICAgICAgICByZXR1cm4gbGVuICYmIGVzdXRpbHMuY29kZS5pc0xpbmVUZXJtaW5hdG9yKHN0ci5jaGFyQ29kZUF0KGxlbiAtIDEpKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtZXJnZSh0YXJnZXQsIG92ZXJyaWRlKSB7XG4gICAgICAgIHZhciBrZXk7XG4gICAgICAgIGZvciAoa2V5IGluIG92ZXJyaWRlKSB7XG4gICAgICAgICAgICBpZiAob3ZlcnJpZGUuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgICAgIHRhcmdldFtrZXldID0gb3ZlcnJpZGVba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHVwZGF0ZURlZXBseSh0YXJnZXQsIG92ZXJyaWRlKSB7XG4gICAgICAgIHZhciBrZXksIHZhbDtcblxuICAgICAgICBmdW5jdGlvbiBpc0hhc2hPYmplY3QodGFyZ2V0KSB7XG4gICAgICAgICAgICByZXR1cm4gdHlwZW9mIHRhcmdldCA9PT0gJ29iamVjdCcgJiYgdGFyZ2V0IGluc3RhbmNlb2YgT2JqZWN0ICYmICEodGFyZ2V0IGluc3RhbmNlb2YgUmVnRXhwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoa2V5IGluIG92ZXJyaWRlKSB7XG4gICAgICAgICAgICBpZiAob3ZlcnJpZGUuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgICAgIHZhbCA9IG92ZXJyaWRlW2tleV07XG4gICAgICAgICAgICAgICAgaWYgKGlzSGFzaE9iamVjdCh2YWwpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0hhc2hPYmplY3QodGFyZ2V0W2tleV0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVEZWVwbHkodGFyZ2V0W2tleV0sIHZhbCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRba2V5XSA9IHVwZGF0ZURlZXBseSh7fSwgdmFsKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldFtrZXldID0gdmFsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdlbmVyYXRlTnVtYmVyKHZhbHVlKSB7XG4gICAgICAgIHZhciByZXN1bHQsIHBvaW50LCB0ZW1wLCBleHBvbmVudCwgcG9zO1xuXG4gICAgICAgIGlmICh2YWx1ZSAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTnVtZXJpYyBsaXRlcmFsIHdob3NlIHZhbHVlIGlzIE5hTicpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2YWx1ZSA8IDAgfHwgKHZhbHVlID09PSAwICYmIDEgLyB2YWx1ZSA8IDApKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ051bWVyaWMgbGl0ZXJhbCB3aG9zZSB2YWx1ZSBpcyBuZWdhdGl2ZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHZhbHVlID09PSAxIC8gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGpzb24gPyAnbnVsbCcgOiByZW51bWJlciA/ICcxZTQwMCcgOiAnMWUrNDAwJztcbiAgICAgICAgfVxuXG4gICAgICAgIHJlc3VsdCA9ICcnICsgdmFsdWU7XG4gICAgICAgIGlmICghcmVudW1iZXIgfHwgcmVzdWx0Lmxlbmd0aCA8IDMpIHtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cblxuICAgICAgICBwb2ludCA9IHJlc3VsdC5pbmRleE9mKCcuJyk7XG4gICAgICAgIGlmICghanNvbiAmJiByZXN1bHQuY2hhckNvZGVBdCgwKSA9PT0gMHgzMCAgLyogMCAqLyAmJiBwb2ludCA9PT0gMSkge1xuICAgICAgICAgICAgcG9pbnQgPSAwO1xuICAgICAgICAgICAgcmVzdWx0ID0gcmVzdWx0LnNsaWNlKDEpO1xuICAgICAgICB9XG4gICAgICAgIHRlbXAgPSByZXN1bHQ7XG4gICAgICAgIHJlc3VsdCA9IHJlc3VsdC5yZXBsYWNlKCdlKycsICdlJyk7XG4gICAgICAgIGV4cG9uZW50ID0gMDtcbiAgICAgICAgaWYgKChwb3MgPSB0ZW1wLmluZGV4T2YoJ2UnKSkgPiAwKSB7XG4gICAgICAgICAgICBleHBvbmVudCA9ICt0ZW1wLnNsaWNlKHBvcyArIDEpO1xuICAgICAgICAgICAgdGVtcCA9IHRlbXAuc2xpY2UoMCwgcG9zKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocG9pbnQgPj0gMCkge1xuICAgICAgICAgICAgZXhwb25lbnQgLT0gdGVtcC5sZW5ndGggLSBwb2ludCAtIDE7XG4gICAgICAgICAgICB0ZW1wID0gKyh0ZW1wLnNsaWNlKDAsIHBvaW50KSArIHRlbXAuc2xpY2UocG9pbnQgKyAxKSkgKyAnJztcbiAgICAgICAgfVxuICAgICAgICBwb3MgPSAwO1xuICAgICAgICB3aGlsZSAodGVtcC5jaGFyQ29kZUF0KHRlbXAubGVuZ3RoICsgcG9zIC0gMSkgPT09IDB4MzAgIC8qIDAgKi8pIHtcbiAgICAgICAgICAgIC0tcG9zO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwb3MgIT09IDApIHtcbiAgICAgICAgICAgIGV4cG9uZW50IC09IHBvcztcbiAgICAgICAgICAgIHRlbXAgPSB0ZW1wLnNsaWNlKDAsIHBvcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV4cG9uZW50ICE9PSAwKSB7XG4gICAgICAgICAgICB0ZW1wICs9ICdlJyArIGV4cG9uZW50O1xuICAgICAgICB9XG4gICAgICAgIGlmICgodGVtcC5sZW5ndGggPCByZXN1bHQubGVuZ3RoIHx8XG4gICAgICAgICAgICAgICAgICAgIChoZXhhZGVjaW1hbCAmJiB2YWx1ZSA+IDFlMTIgJiYgTWF0aC5mbG9vcih2YWx1ZSkgPT09IHZhbHVlICYmICh0ZW1wID0gJzB4JyArIHZhbHVlLnRvU3RyaW5nKDE2KSkubGVuZ3RoIDwgcmVzdWx0Lmxlbmd0aCkpICYmXG4gICAgICAgICAgICAgICAgK3RlbXAgPT09IHZhbHVlKSB7XG4gICAgICAgICAgICByZXN1bHQgPSB0ZW1wO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvLyBHZW5lcmF0ZSB2YWxpZCBSZWdFeHAgZXhwcmVzc2lvbi5cbiAgICAvLyBUaGlzIGZ1bmN0aW9uIGlzIGJhc2VkIG9uIGh0dHBzOi8vZ2l0aHViLmNvbS9Db25zdGVsbGF0aW9uL2l2IEVuZ2luZVxuXG4gICAgZnVuY3Rpb24gZXNjYXBlUmVnRXhwQ2hhcmFjdGVyKGNoLCBwcmV2aW91c0lzQmFja3NsYXNoKSB7XG4gICAgICAgIC8vIG5vdCBoYW5kbGluZyAnXFwnIGFuZCBoYW5kbGluZyBcXHUyMDI4IG9yIFxcdTIwMjkgdG8gdW5pY29kZSBlc2NhcGUgc2VxdWVuY2VcbiAgICAgICAgaWYgKChjaCAmIH4xKSA9PT0gMHgyMDI4KSB7XG4gICAgICAgICAgICByZXR1cm4gKHByZXZpb3VzSXNCYWNrc2xhc2ggPyAndScgOiAnXFxcXHUnKSArICgoY2ggPT09IDB4MjAyOCkgPyAnMjAyOCcgOiAnMjAyOScpO1xuICAgICAgICB9IGVsc2UgaWYgKGNoID09PSAxMCB8fCBjaCA9PT0gMTMpIHsgIC8vIFxcbiwgXFxyXG4gICAgICAgICAgICByZXR1cm4gKHByZXZpb3VzSXNCYWNrc2xhc2ggPyAnJyA6ICdcXFxcJykgKyAoKGNoID09PSAxMCkgPyAnbicgOiAncicpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKGNoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZW5lcmF0ZVJlZ0V4cChyZWcpIHtcbiAgICAgICAgdmFyIG1hdGNoLCByZXN1bHQsIGZsYWdzLCBpLCBpeiwgY2gsIGNoYXJhY3RlckluQnJhY2ssIHByZXZpb3VzSXNCYWNrc2xhc2g7XG5cbiAgICAgICAgcmVzdWx0ID0gcmVnLnRvU3RyaW5nKCk7XG5cbiAgICAgICAgaWYgKHJlZy5zb3VyY2UpIHtcbiAgICAgICAgICAgIC8vIGV4dHJhY3QgZmxhZyBmcm9tIHRvU3RyaW5nIHJlc3VsdFxuICAgICAgICAgICAgbWF0Y2ggPSByZXN1bHQubWF0Y2goL1xcLyhbXi9dKikkLyk7XG4gICAgICAgICAgICBpZiAoIW1hdGNoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZmxhZ3MgPSBtYXRjaFsxXTtcbiAgICAgICAgICAgIHJlc3VsdCA9ICcnO1xuXG4gICAgICAgICAgICBjaGFyYWN0ZXJJbkJyYWNrID0gZmFsc2U7XG4gICAgICAgICAgICBwcmV2aW91c0lzQmFja3NsYXNoID0gZmFsc2U7XG4gICAgICAgICAgICBmb3IgKGkgPSAwLCBpeiA9IHJlZy5zb3VyY2UubGVuZ3RoOyBpIDwgaXo7ICsraSkge1xuICAgICAgICAgICAgICAgIGNoID0gcmVnLnNvdXJjZS5jaGFyQ29kZUF0KGkpO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFwcmV2aW91c0lzQmFja3NsYXNoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGFyYWN0ZXJJbkJyYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2ggPT09IDkzKSB7ICAvLyBdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhcmFjdGVySW5CcmFjayA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoID09PSA0NykgeyAgLy8gL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSAnXFxcXCc7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNoID09PSA5MSkgeyAgLy8gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYXJhY3RlckluQnJhY2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSBlc2NhcGVSZWdFeHBDaGFyYWN0ZXIoY2gsIHByZXZpb3VzSXNCYWNrc2xhc2gpO1xuICAgICAgICAgICAgICAgICAgICBwcmV2aW91c0lzQmFja3NsYXNoID0gY2ggPT09IDkyOyAgLy8gXFxcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBpZiBuZXcgUmVnRXhwKFwiXFxcXFxcbicpIGlzIHByb3ZpZGVkLCBjcmVhdGUgL1xcbi9cbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9IGVzY2FwZVJlZ0V4cENoYXJhY3RlcihjaCwgcHJldmlvdXNJc0JhY2tzbGFzaCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIHByZXZlbnQgbGlrZSAvXFxcXFsvXS9cbiAgICAgICAgICAgICAgICAgICAgcHJldmlvdXNJc0JhY2tzbGFzaCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuICcvJyArIHJlc3VsdCArICcvJyArIGZsYWdzO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBlc2NhcGVBbGxvd2VkQ2hhcmFjdGVyKGNvZGUsIG5leHQpIHtcbiAgICAgICAgdmFyIGhleDtcblxuICAgICAgICBpZiAoY29kZSA9PT0gMHgwOCAgLyogXFxiICovKSB7XG4gICAgICAgICAgICByZXR1cm4gJ1xcXFxiJztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjb2RlID09PSAweDBDICAvKiBcXGYgKi8pIHtcbiAgICAgICAgICAgIHJldHVybiAnXFxcXGYnO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNvZGUgPT09IDB4MDkgIC8qIFxcdCAqLykge1xuICAgICAgICAgICAgcmV0dXJuICdcXFxcdCc7XG4gICAgICAgIH1cblxuICAgICAgICBoZXggPSBjb2RlLnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICBpZiAoanNvbiB8fCBjb2RlID4gMHhGRikge1xuICAgICAgICAgICAgcmV0dXJuICdcXFxcdScgKyAnMDAwMCcuc2xpY2UoaGV4Lmxlbmd0aCkgKyBoZXg7XG4gICAgICAgIH0gZWxzZSBpZiAoY29kZSA9PT0gMHgwMDAwICYmICFlc3V0aWxzLmNvZGUuaXNEZWNpbWFsRGlnaXQobmV4dCkpIHtcbiAgICAgICAgICAgIHJldHVybiAnXFxcXDAnO1xuICAgICAgICB9IGVsc2UgaWYgKGNvZGUgPT09IDB4MDAwQiAgLyogXFx2ICovKSB7IC8vICdcXHYnXG4gICAgICAgICAgICByZXR1cm4gJ1xcXFx4MEInO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuICdcXFxceCcgKyAnMDAnLnNsaWNlKGhleC5sZW5ndGgpICsgaGV4O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZXNjYXBlRGlzYWxsb3dlZENoYXJhY3Rlcihjb2RlKSB7XG4gICAgICAgIGlmIChjb2RlID09PSAweDVDICAvKiBcXCAqLykge1xuICAgICAgICAgICAgcmV0dXJuICdcXFxcXFxcXCc7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY29kZSA9PT0gMHgwQSAgLyogXFxuICovKSB7XG4gICAgICAgICAgICByZXR1cm4gJ1xcXFxuJztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjb2RlID09PSAweDBEICAvKiBcXHIgKi8pIHtcbiAgICAgICAgICAgIHJldHVybiAnXFxcXHInO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNvZGUgPT09IDB4MjAyOCkge1xuICAgICAgICAgICAgcmV0dXJuICdcXFxcdTIwMjgnO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNvZGUgPT09IDB4MjAyOSkge1xuICAgICAgICAgICAgcmV0dXJuICdcXFxcdTIwMjknO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbmNvcnJlY3RseSBjbGFzc2lmaWVkIGNoYXJhY3RlcicpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGVzY2FwZURpcmVjdGl2ZShzdHIpIHtcbiAgICAgICAgdmFyIGksIGl6LCBjb2RlLCBxdW90ZTtcblxuICAgICAgICBxdW90ZSA9IHF1b3RlcyA9PT0gJ2RvdWJsZScgPyAnXCInIDogJ1xcJyc7XG4gICAgICAgIGZvciAoaSA9IDAsIGl6ID0gc3RyLmxlbmd0aDsgaSA8IGl6OyArK2kpIHtcbiAgICAgICAgICAgIGNvZGUgPSBzdHIuY2hhckNvZGVBdChpKTtcbiAgICAgICAgICAgIGlmIChjb2RlID09PSAweDI3ICAvKiAnICovKSB7XG4gICAgICAgICAgICAgICAgcXVvdGUgPSAnXCInO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjb2RlID09PSAweDIyICAvKiBcIiAqLykge1xuICAgICAgICAgICAgICAgIHF1b3RlID0gJ1xcJyc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNvZGUgPT09IDB4NUMgIC8qIFxcICovKSB7XG4gICAgICAgICAgICAgICAgKytpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHF1b3RlICsgc3RyICsgcXVvdGU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZXNjYXBlU3RyaW5nKHN0cikge1xuICAgICAgICB2YXIgcmVzdWx0ID0gJycsIGksIGxlbiwgY29kZSwgc2luZ2xlUXVvdGVzID0gMCwgZG91YmxlUXVvdGVzID0gMCwgc2luZ2xlLCBxdW90ZTtcblxuICAgICAgICBmb3IgKGkgPSAwLCBsZW4gPSBzdHIubGVuZ3RoOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgICAgICAgIGNvZGUgPSBzdHIuY2hhckNvZGVBdChpKTtcbiAgICAgICAgICAgIGlmIChjb2RlID09PSAweDI3ICAvKiAnICovKSB7XG4gICAgICAgICAgICAgICAgKytzaW5nbGVRdW90ZXM7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNvZGUgPT09IDB4MjIgIC8qIFwiICovKSB7XG4gICAgICAgICAgICAgICAgKytkb3VibGVRdW90ZXM7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNvZGUgPT09IDB4MkYgIC8qIC8gKi8gJiYganNvbikge1xuICAgICAgICAgICAgICAgIHJlc3VsdCArPSAnXFxcXCc7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGVzdXRpbHMuY29kZS5pc0xpbmVUZXJtaW5hdG9yKGNvZGUpIHx8IGNvZGUgPT09IDB4NUMgIC8qIFxcICovKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ICs9IGVzY2FwZURpc2FsbG93ZWRDaGFyYWN0ZXIoY29kZSk7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCFlc3V0aWxzLmNvZGUuaXNJZGVudGlmaWVyUGFydEVTNShjb2RlKSAmJiAoanNvbiAmJiBjb2RlIDwgMHgyMCAgLyogU1AgKi8gfHwgIWpzb24gJiYgIWVzY2FwZWxlc3MgJiYgKGNvZGUgPCAweDIwICAvKiBTUCAqLyB8fCBjb2RlID4gMHg3RSAgLyogfiAqLykpKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ICs9IGVzY2FwZUFsbG93ZWRDaGFyYWN0ZXIoY29kZSwgc3RyLmNoYXJDb2RlQXQoaSArIDEpKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc3VsdCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGNvZGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgc2luZ2xlID0gIShxdW90ZXMgPT09ICdkb3VibGUnIHx8IChxdW90ZXMgPT09ICdhdXRvJyAmJiBkb3VibGVRdW90ZXMgPCBzaW5nbGVRdW90ZXMpKTtcbiAgICAgICAgcXVvdGUgPSBzaW5nbGUgPyAnXFwnJyA6ICdcIic7XG5cbiAgICAgICAgaWYgKCEoc2luZ2xlID8gc2luZ2xlUXVvdGVzIDogZG91YmxlUXVvdGVzKSkge1xuICAgICAgICAgICAgcmV0dXJuIHF1b3RlICsgcmVzdWx0ICsgcXVvdGU7XG4gICAgICAgIH1cblxuICAgICAgICBzdHIgPSByZXN1bHQ7XG4gICAgICAgIHJlc3VsdCA9IHF1b3RlO1xuXG4gICAgICAgIGZvciAoaSA9IDAsIGxlbiA9IHN0ci5sZW5ndGg7IGkgPCBsZW47ICsraSkge1xuICAgICAgICAgICAgY29kZSA9IHN0ci5jaGFyQ29kZUF0KGkpO1xuICAgICAgICAgICAgaWYgKChjb2RlID09PSAweDI3ICAvKiAnICovICYmIHNpbmdsZSkgfHwgKGNvZGUgPT09IDB4MjIgIC8qIFwiICovICYmICFzaW5nbGUpKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ICs9ICdcXFxcJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc3VsdCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGNvZGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdCArIHF1b3RlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGZsYXR0ZW4gYW4gYXJyYXkgdG8gYSBzdHJpbmcsIHdoZXJlIHRoZSBhcnJheSBjYW4gY29udGFpblxuICAgICAqIGVpdGhlciBzdHJpbmdzIG9yIG5lc3RlZCBhcnJheXNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmbGF0dGVuVG9TdHJpbmcoYXJyKSB7XG4gICAgICAgIHZhciBpLCBpeiwgZWxlbSwgcmVzdWx0ID0gJyc7XG4gICAgICAgIGZvciAoaSA9IDAsIGl6ID0gYXJyLmxlbmd0aDsgaSA8IGl6OyArK2kpIHtcbiAgICAgICAgICAgIGVsZW0gPSBhcnJbaV07XG4gICAgICAgICAgICByZXN1bHQgKz0gQXJyYXkuaXNBcnJheShlbGVtKSA/IGZsYXR0ZW5Ub1N0cmluZyhlbGVtKSA6IGVsZW07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBjb252ZXJ0IGdlbmVyYXRlZCB0byBhIFNvdXJjZU5vZGUgd2hlbiBzb3VyY2UgbWFwcyBhcmUgZW5hYmxlZC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b1NvdXJjZU5vZGVXaGVuTmVlZGVkKGdlbmVyYXRlZCwgbm9kZSkge1xuICAgICAgICBpZiAoIXNvdXJjZU1hcCkge1xuICAgICAgICAgICAgLy8gd2l0aCBubyBzb3VyY2UgbWFwcywgZ2VuZXJhdGVkIGlzIGVpdGhlciBhblxuICAgICAgICAgICAgLy8gYXJyYXkgb3IgYSBzdHJpbmcuICBpZiBhbiBhcnJheSwgZmxhdHRlbiBpdC5cbiAgICAgICAgICAgIC8vIGlmIGEgc3RyaW5nLCBqdXN0IHJldHVybiBpdFxuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZ2VuZXJhdGVkKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmbGF0dGVuVG9TdHJpbmcoZ2VuZXJhdGVkKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdlbmVyYXRlZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAobm9kZSA9PSBudWxsKSB7XG4gICAgICAgICAgICBpZiAoZ2VuZXJhdGVkIGluc3RhbmNlb2YgU291cmNlTm9kZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBnZW5lcmF0ZWQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG5vZGUgPSB7fTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAobm9kZS5sb2MgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBTb3VyY2VOb2RlKG51bGwsIG51bGwsIHNvdXJjZU1hcCwgZ2VuZXJhdGVkLCBub2RlLm5hbWUgfHwgbnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBTb3VyY2VOb2RlKG5vZGUubG9jLnN0YXJ0LmxpbmUsIG5vZGUubG9jLnN0YXJ0LmNvbHVtbiwgKHNvdXJjZU1hcCA9PT0gdHJ1ZSA/IG5vZGUubG9jLnNvdXJjZSB8fCBudWxsIDogc291cmNlTWFwKSwgZ2VuZXJhdGVkLCBub2RlLm5hbWUgfHwgbnVsbCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbm9FbXB0eVNwYWNlKCkge1xuICAgICAgICByZXR1cm4gKHNwYWNlKSA/IHNwYWNlIDogJyAnO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGpvaW4obGVmdCwgcmlnaHQpIHtcbiAgICAgICAgdmFyIGxlZnRTb3VyY2UsXG4gICAgICAgICAgICByaWdodFNvdXJjZSxcbiAgICAgICAgICAgIGxlZnRDaGFyQ29kZSxcbiAgICAgICAgICAgIHJpZ2h0Q2hhckNvZGU7XG5cbiAgICAgICAgbGVmdFNvdXJjZSA9IHRvU291cmNlTm9kZVdoZW5OZWVkZWQobGVmdCkudG9TdHJpbmcoKTtcbiAgICAgICAgaWYgKGxlZnRTb3VyY2UubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gW3JpZ2h0XTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJpZ2h0U291cmNlID0gdG9Tb3VyY2VOb2RlV2hlbk5lZWRlZChyaWdodCkudG9TdHJpbmcoKTtcbiAgICAgICAgaWYgKHJpZ2h0U291cmNlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIFtsZWZ0XTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxlZnRDaGFyQ29kZSA9IGxlZnRTb3VyY2UuY2hhckNvZGVBdChsZWZ0U291cmNlLmxlbmd0aCAtIDEpO1xuICAgICAgICByaWdodENoYXJDb2RlID0gcmlnaHRTb3VyY2UuY2hhckNvZGVBdCgwKTtcblxuICAgICAgICBpZiAoKGxlZnRDaGFyQ29kZSA9PT0gMHgyQiAgLyogKyAqLyB8fCBsZWZ0Q2hhckNvZGUgPT09IDB4MkQgIC8qIC0gKi8pICYmIGxlZnRDaGFyQ29kZSA9PT0gcmlnaHRDaGFyQ29kZSB8fFxuICAgICAgICAgICAgZXN1dGlscy5jb2RlLmlzSWRlbnRpZmllclBhcnRFUzUobGVmdENoYXJDb2RlKSAmJiBlc3V0aWxzLmNvZGUuaXNJZGVudGlmaWVyUGFydEVTNShyaWdodENoYXJDb2RlKSB8fFxuICAgICAgICAgICAgbGVmdENoYXJDb2RlID09PSAweDJGICAvKiAvICovICYmIHJpZ2h0Q2hhckNvZGUgPT09IDB4NjkgIC8qIGkgKi8pIHsgLy8gaW5maXggd29yZCBvcGVyYXRvcnMgYWxsIHN0YXJ0IHdpdGggYGlgXG4gICAgICAgICAgICByZXR1cm4gW2xlZnQsIG5vRW1wdHlTcGFjZSgpLCByaWdodF07XG4gICAgICAgIH0gZWxzZSBpZiAoZXN1dGlscy5jb2RlLmlzV2hpdGVTcGFjZShsZWZ0Q2hhckNvZGUpIHx8IGVzdXRpbHMuY29kZS5pc0xpbmVUZXJtaW5hdG9yKGxlZnRDaGFyQ29kZSkgfHxcbiAgICAgICAgICAgICAgICBlc3V0aWxzLmNvZGUuaXNXaGl0ZVNwYWNlKHJpZ2h0Q2hhckNvZGUpIHx8IGVzdXRpbHMuY29kZS5pc0xpbmVUZXJtaW5hdG9yKHJpZ2h0Q2hhckNvZGUpKSB7XG4gICAgICAgICAgICByZXR1cm4gW2xlZnQsIHJpZ2h0XTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW2xlZnQsIHNwYWNlLCByaWdodF07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYWRkSW5kZW50KHN0bXQpIHtcbiAgICAgICAgcmV0dXJuIFtiYXNlLCBzdG10XTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB3aXRoSW5kZW50KGZuKSB7XG4gICAgICAgIHZhciBwcmV2aW91c0Jhc2U7XG4gICAgICAgIHByZXZpb3VzQmFzZSA9IGJhc2U7XG4gICAgICAgIGJhc2UgKz0gaW5kZW50O1xuICAgICAgICBmbihiYXNlKTtcbiAgICAgICAgYmFzZSA9IHByZXZpb3VzQmFzZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjYWxjdWxhdGVTcGFjZXMoc3RyKSB7XG4gICAgICAgIHZhciBpO1xuICAgICAgICBmb3IgKGkgPSBzdHIubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgICAgIGlmIChlc3V0aWxzLmNvZGUuaXNMaW5lVGVybWluYXRvcihzdHIuY2hhckNvZGVBdChpKSkpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKHN0ci5sZW5ndGggLSAxKSAtIGk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYWRqdXN0TXVsdGlsaW5lQ29tbWVudCh2YWx1ZSwgc3BlY2lhbEJhc2UpIHtcbiAgICAgICAgdmFyIGFycmF5LCBpLCBsZW4sIGxpbmUsIGosIHNwYWNlcywgcHJldmlvdXNCYXNlLCBzbjtcblxuICAgICAgICBhcnJheSA9IHZhbHVlLnNwbGl0KC9cXHJcXG58W1xcclxcbl0vKTtcbiAgICAgICAgc3BhY2VzID0gTnVtYmVyLk1BWF9WQUxVRTtcblxuICAgICAgICAvLyBmaXJzdCBsaW5lIGRvZXNuJ3QgaGF2ZSBpbmRlbnRhdGlvblxuICAgICAgICBmb3IgKGkgPSAxLCBsZW4gPSBhcnJheS5sZW5ndGg7IGkgPCBsZW47ICsraSkge1xuICAgICAgICAgICAgbGluZSA9IGFycmF5W2ldO1xuICAgICAgICAgICAgaiA9IDA7XG4gICAgICAgICAgICB3aGlsZSAoaiA8IGxpbmUubGVuZ3RoICYmIGVzdXRpbHMuY29kZS5pc1doaXRlU3BhY2UobGluZS5jaGFyQ29kZUF0KGopKSkge1xuICAgICAgICAgICAgICAgICsrajtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzcGFjZXMgPiBqKSB7XG4gICAgICAgICAgICAgICAgc3BhY2VzID0gajtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2Ygc3BlY2lhbEJhc2UgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAvLyBwYXR0ZXJuIGxpa2VcbiAgICAgICAgICAgIC8vIHtcbiAgICAgICAgICAgIC8vICAgdmFyIHQgPSAyMDsgIC8qXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgKiB0aGlzIGlzIGNvbW1lbnRcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgcHJldmlvdXNCYXNlID0gYmFzZTtcbiAgICAgICAgICAgIGlmIChhcnJheVsxXVtzcGFjZXNdID09PSAnKicpIHtcbiAgICAgICAgICAgICAgICBzcGVjaWFsQmFzZSArPSAnICc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBiYXNlID0gc3BlY2lhbEJhc2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoc3BhY2VzICYgMSkge1xuICAgICAgICAgICAgICAgIC8vIC8qXG4gICAgICAgICAgICAgICAgLy8gICpcbiAgICAgICAgICAgICAgICAvLyAgKi9cbiAgICAgICAgICAgICAgICAvLyBJZiBzcGFjZXMgYXJlIG9kZCBudW1iZXIsIGFib3ZlIHBhdHRlcm4gaXMgY29uc2lkZXJlZC5cbiAgICAgICAgICAgICAgICAvLyBXZSB3YXN0ZSAxIHNwYWNlLlxuICAgICAgICAgICAgICAgIC0tc3BhY2VzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcHJldmlvdXNCYXNlID0gYmFzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoaSA9IDEsIGxlbiA9IGFycmF5Lmxlbmd0aDsgaSA8IGxlbjsgKytpKSB7XG4gICAgICAgICAgICBzbiA9IHRvU291cmNlTm9kZVdoZW5OZWVkZWQoYWRkSW5kZW50KGFycmF5W2ldLnNsaWNlKHNwYWNlcykpKTtcbiAgICAgICAgICAgIGFycmF5W2ldID0gc291cmNlTWFwID8gc24uam9pbignJykgOiBzbjtcbiAgICAgICAgfVxuXG4gICAgICAgIGJhc2UgPSBwcmV2aW91c0Jhc2U7XG5cbiAgICAgICAgcmV0dXJuIGFycmF5LmpvaW4oJ1xcbicpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdlbmVyYXRlQ29tbWVudChjb21tZW50LCBzcGVjaWFsQmFzZSkge1xuICAgICAgICBpZiAoY29tbWVudC50eXBlID09PSAnTGluZScpIHtcbiAgICAgICAgICAgIGlmIChlbmRzV2l0aExpbmVUZXJtaW5hdG9yKGNvbW1lbnQudmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICcvLycgKyBjb21tZW50LnZhbHVlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBBbHdheXMgdXNlIExpbmVUZXJtaW5hdG9yXG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9ICcvLycgKyBjb21tZW50LnZhbHVlO1xuICAgICAgICAgICAgICAgIGlmICghcHJlc2VydmVCbGFua0xpbmVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSAnXFxuJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZXh0cmEuZm9ybWF0LmluZGVudC5hZGp1c3RNdWx0aWxpbmVDb21tZW50ICYmIC9bXFxuXFxyXS8udGVzdChjb21tZW50LnZhbHVlKSkge1xuICAgICAgICAgICAgcmV0dXJuIGFkanVzdE11bHRpbGluZUNvbW1lbnQoJy8qJyArIGNvbW1lbnQudmFsdWUgKyAnKi8nLCBzcGVjaWFsQmFzZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICcvKicgKyBjb21tZW50LnZhbHVlICsgJyovJztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhZGRDb21tZW50cyhzdG10LCByZXN1bHQpIHtcbiAgICAgICAgdmFyIGksIGxlbiwgY29tbWVudCwgc2F2ZSwgdGFpbGluZ1RvU3RhdGVtZW50LCBzcGVjaWFsQmFzZSwgZnJhZ21lbnQsXG4gICAgICAgICAgICBleHRSYW5nZSwgcmFuZ2UsIHByZXZSYW5nZSwgcHJlZml4LCBpbmZpeCwgc3VmZml4LCBjb3VudDtcblxuICAgICAgICBpZiAoc3RtdC5sZWFkaW5nQ29tbWVudHMgJiYgc3RtdC5sZWFkaW5nQ29tbWVudHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgc2F2ZSA9IHJlc3VsdDtcblxuICAgICAgICAgICAgaWYgKHByZXNlcnZlQmxhbmtMaW5lcykge1xuICAgICAgICAgICAgICAgIGNvbW1lbnQgPSBzdG10LmxlYWRpbmdDb21tZW50c1swXTtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBbXTtcblxuICAgICAgICAgICAgICAgIGV4dFJhbmdlID0gY29tbWVudC5leHRlbmRlZFJhbmdlO1xuICAgICAgICAgICAgICAgIHJhbmdlID0gY29tbWVudC5yYW5nZTtcblxuICAgICAgICAgICAgICAgIHByZWZpeCA9IHNvdXJjZUNvZGUuc3Vic3RyaW5nKGV4dFJhbmdlWzBdLCByYW5nZVswXSk7XG4gICAgICAgICAgICAgICAgY291bnQgPSAocHJlZml4Lm1hdGNoKC9cXG4vZykgfHwgW10pLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBpZiAoY291bnQgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHN0cmluZ1JlcGVhdCgnXFxuJywgY291bnQpKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goYWRkSW5kZW50KGdlbmVyYXRlQ29tbWVudChjb21tZW50KSkpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHByZWZpeCk7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGdlbmVyYXRlQ29tbWVudChjb21tZW50KSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcHJldlJhbmdlID0gcmFuZ2U7XG5cbiAgICAgICAgICAgICAgICBmb3IgKGkgPSAxLCBsZW4gPSBzdG10LmxlYWRpbmdDb21tZW50cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBjb21tZW50ID0gc3RtdC5sZWFkaW5nQ29tbWVudHNbaV07XG4gICAgICAgICAgICAgICAgICAgIHJhbmdlID0gY29tbWVudC5yYW5nZTtcblxuICAgICAgICAgICAgICAgICAgICBpbmZpeCA9IHNvdXJjZUNvZGUuc3Vic3RyaW5nKHByZXZSYW5nZVsxXSwgcmFuZ2VbMF0pO1xuICAgICAgICAgICAgICAgICAgICBjb3VudCA9IChpbmZpeC5tYXRjaCgvXFxuL2cpIHx8IFtdKS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHN0cmluZ1JlcGVhdCgnXFxuJywgY291bnQpKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goYWRkSW5kZW50KGdlbmVyYXRlQ29tbWVudChjb21tZW50KSkpO1xuXG4gICAgICAgICAgICAgICAgICAgIHByZXZSYW5nZSA9IHJhbmdlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHN1ZmZpeCA9IHNvdXJjZUNvZGUuc3Vic3RyaW5nKHJhbmdlWzFdLCBleHRSYW5nZVsxXSk7XG4gICAgICAgICAgICAgICAgY291bnQgPSAoc3VmZml4Lm1hdGNoKC9cXG4vZykgfHwgW10pLmxlbmd0aDtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChzdHJpbmdSZXBlYXQoJ1xcbicsIGNvdW50KSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbW1lbnQgPSBzdG10LmxlYWRpbmdDb21tZW50c1swXTtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBbXTtcbiAgICAgICAgICAgICAgICBpZiAoc2FmZUNvbmNhdGVuYXRpb24gJiYgc3RtdC50eXBlID09PSBTeW50YXguUHJvZ3JhbSAmJiBzdG10LmJvZHkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKCdcXG4nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goZ2VuZXJhdGVDb21tZW50KGNvbW1lbnQpKTtcbiAgICAgICAgICAgICAgICBpZiAoIWVuZHNXaXRoTGluZVRlcm1pbmF0b3IodG9Tb3VyY2VOb2RlV2hlbk5lZWRlZChyZXN1bHQpLnRvU3RyaW5nKCkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKCdcXG4nKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBmb3IgKGkgPSAxLCBsZW4gPSBzdG10LmxlYWRpbmdDb21tZW50cy5sZW5ndGg7IGkgPCBsZW47ICsraSkge1xuICAgICAgICAgICAgICAgICAgICBjb21tZW50ID0gc3RtdC5sZWFkaW5nQ29tbWVudHNbaV07XG4gICAgICAgICAgICAgICAgICAgIGZyYWdtZW50ID0gW2dlbmVyYXRlQ29tbWVudChjb21tZW50KV07XG4gICAgICAgICAgICAgICAgICAgIGlmICghZW5kc1dpdGhMaW5lVGVybWluYXRvcih0b1NvdXJjZU5vZGVXaGVuTmVlZGVkKGZyYWdtZW50KS50b1N0cmluZygpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZnJhZ21lbnQucHVzaCgnXFxuJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goYWRkSW5kZW50KGZyYWdtZW50KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXN1bHQucHVzaChhZGRJbmRlbnQoc2F2ZSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHN0bXQudHJhaWxpbmdDb21tZW50cykge1xuXG4gICAgICAgICAgICBpZiAocHJlc2VydmVCbGFua0xpbmVzKSB7XG4gICAgICAgICAgICAgICAgY29tbWVudCA9IHN0bXQudHJhaWxpbmdDb21tZW50c1swXTtcbiAgICAgICAgICAgICAgICBleHRSYW5nZSA9IGNvbW1lbnQuZXh0ZW5kZWRSYW5nZTtcbiAgICAgICAgICAgICAgICByYW5nZSA9IGNvbW1lbnQucmFuZ2U7XG5cbiAgICAgICAgICAgICAgICBwcmVmaXggPSBzb3VyY2VDb2RlLnN1YnN0cmluZyhleHRSYW5nZVswXSwgcmFuZ2VbMF0pO1xuICAgICAgICAgICAgICAgIGNvdW50ID0gKHByZWZpeC5tYXRjaCgvXFxuL2cpIHx8IFtdKS5sZW5ndGg7XG5cbiAgICAgICAgICAgICAgICBpZiAoY291bnQgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHN0cmluZ1JlcGVhdCgnXFxuJywgY291bnQpKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goYWRkSW5kZW50KGdlbmVyYXRlQ29tbWVudChjb21tZW50KSkpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHByZWZpeCk7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGdlbmVyYXRlQ29tbWVudChjb21tZW50KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0YWlsaW5nVG9TdGF0ZW1lbnQgPSAhZW5kc1dpdGhMaW5lVGVybWluYXRvcih0b1NvdXJjZU5vZGVXaGVuTmVlZGVkKHJlc3VsdCkudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgc3BlY2lhbEJhc2UgPSBzdHJpbmdSZXBlYXQoJyAnLCBjYWxjdWxhdGVTcGFjZXModG9Tb3VyY2VOb2RlV2hlbk5lZWRlZChbYmFzZSwgcmVzdWx0LCBpbmRlbnRdKS50b1N0cmluZygpKSk7XG4gICAgICAgICAgICAgICAgZm9yIChpID0gMCwgbGVuID0gc3RtdC50cmFpbGluZ0NvbW1lbnRzLmxlbmd0aDsgaSA8IGxlbjsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbW1lbnQgPSBzdG10LnRyYWlsaW5nQ29tbWVudHNbaV07XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWlsaW5nVG9TdGF0ZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdlIGFzc3VtZSB0YXJnZXQgbGlrZSBmb2xsb3dpbmcgc2NyaXB0XG4gICAgICAgICAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdmFyIHQgPSAyMDsgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAqIFRoaXMgaXMgY29tbWVudCBvZiB0XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZpcnN0IGNhc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBbcmVzdWx0LCBpbmRlbnRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBbcmVzdWx0LCBzcGVjaWFsQmFzZV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChnZW5lcmF0ZUNvbW1lbnQoY29tbWVudCwgc3BlY2lhbEJhc2UpKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IFtyZXN1bHQsIGFkZEluZGVudChnZW5lcmF0ZUNvbW1lbnQoY29tbWVudCkpXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoaSAhPT0gbGVuIC0gMSAmJiAhZW5kc1dpdGhMaW5lVGVybWluYXRvcih0b1NvdXJjZU5vZGVXaGVuTmVlZGVkKHJlc3VsdCkudG9TdHJpbmcoKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IFtyZXN1bHQsICdcXG4nXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2VuZXJhdGVCbGFua0xpbmVzKHN0YXJ0LCBlbmQsIHJlc3VsdCkge1xuICAgICAgICB2YXIgaiwgbmV3bGluZUNvdW50ID0gMDtcblxuICAgICAgICBmb3IgKGogPSBzdGFydDsgaiA8IGVuZDsgaisrKSB7XG4gICAgICAgICAgICBpZiAoc291cmNlQ29kZVtqXSA9PT0gJ1xcbicpIHtcbiAgICAgICAgICAgICAgICBuZXdsaW5lQ291bnQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoaiA9IDE7IGogPCBuZXdsaW5lQ291bnQ7IGorKykge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2gobmV3bGluZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwYXJlbnRoZXNpemUodGV4dCwgY3VycmVudCwgc2hvdWxkKSB7XG4gICAgICAgIGlmIChjdXJyZW50IDwgc2hvdWxkKSB7XG4gICAgICAgICAgICByZXR1cm4gWycoJywgdGV4dCwgJyknXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGV4dDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZW5lcmF0ZVZlcmJhdGltU3RyaW5nKHN0cmluZykge1xuICAgICAgICB2YXIgaSwgaXosIHJlc3VsdDtcbiAgICAgICAgcmVzdWx0ID0gc3RyaW5nLnNwbGl0KC9cXHJcXG58XFxuLyk7XG4gICAgICAgIGZvciAoaSA9IDEsIGl6ID0gcmVzdWx0Lmxlbmd0aDsgaSA8IGl6OyBpKyspIHtcbiAgICAgICAgICAgIHJlc3VsdFtpXSA9IG5ld2xpbmUgKyBiYXNlICsgcmVzdWx0W2ldO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2VuZXJhdGVWZXJiYXRpbShleHByLCBwcmVjZWRlbmNlKSB7XG4gICAgICAgIHZhciB2ZXJiYXRpbSwgcmVzdWx0LCBwcmVjO1xuICAgICAgICB2ZXJiYXRpbSA9IGV4cHJbZXh0cmEudmVyYmF0aW1dO1xuXG4gICAgICAgIGlmICh0eXBlb2YgdmVyYmF0aW0gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICByZXN1bHQgPSBwYXJlbnRoZXNpemUoZ2VuZXJhdGVWZXJiYXRpbVN0cmluZyh2ZXJiYXRpbSksIFByZWNlZGVuY2UuU2VxdWVuY2UsIHByZWNlZGVuY2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gdmVyYmF0aW0gaXMgb2JqZWN0XG4gICAgICAgICAgICByZXN1bHQgPSBnZW5lcmF0ZVZlcmJhdGltU3RyaW5nKHZlcmJhdGltLmNvbnRlbnQpO1xuICAgICAgICAgICAgcHJlYyA9ICh2ZXJiYXRpbS5wcmVjZWRlbmNlICE9IG51bGwpID8gdmVyYmF0aW0ucHJlY2VkZW5jZSA6IFByZWNlZGVuY2UuU2VxdWVuY2U7XG4gICAgICAgICAgICByZXN1bHQgPSBwYXJlbnRoZXNpemUocmVzdWx0LCBwcmVjLCBwcmVjZWRlbmNlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0b1NvdXJjZU5vZGVXaGVuTmVlZGVkKHJlc3VsdCwgZXhwcik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gQ29kZUdlbmVyYXRvcigpIHtcbiAgICB9XG5cbiAgICAvLyBIZWxwZXJzLlxuXG4gICAgQ29kZUdlbmVyYXRvci5wcm90b3R5cGUubWF5YmVCbG9jayA9IGZ1bmN0aW9uKHN0bXQsIGZsYWdzKSB7XG4gICAgICAgIHZhciByZXN1bHQsIG5vTGVhZGluZ0NvbW1lbnQsIHRoYXQgPSB0aGlzO1xuXG4gICAgICAgIG5vTGVhZGluZ0NvbW1lbnQgPSAhZXh0cmEuY29tbWVudCB8fCAhc3RtdC5sZWFkaW5nQ29tbWVudHM7XG5cbiAgICAgICAgaWYgKHN0bXQudHlwZSA9PT0gU3ludGF4LkJsb2NrU3RhdGVtZW50ICYmIG5vTGVhZGluZ0NvbW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBbc3BhY2UsIHRoaXMuZ2VuZXJhdGVTdGF0ZW1lbnQoc3RtdCwgZmxhZ3MpXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzdG10LnR5cGUgPT09IFN5bnRheC5FbXB0eVN0YXRlbWVudCAmJiBub0xlYWRpbmdDb21tZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gJzsnO1xuICAgICAgICB9XG5cbiAgICAgICAgd2l0aEluZGVudChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXN1bHQgPSBbXG4gICAgICAgICAgICAgICAgbmV3bGluZSxcbiAgICAgICAgICAgICAgICBhZGRJbmRlbnQodGhhdC5nZW5lcmF0ZVN0YXRlbWVudChzdG10LCBmbGFncykpXG4gICAgICAgICAgICBdO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG5cbiAgICBDb2RlR2VuZXJhdG9yLnByb3RvdHlwZS5tYXliZUJsb2NrU3VmZml4ID0gZnVuY3Rpb24gKHN0bXQsIHJlc3VsdCkge1xuICAgICAgICB2YXIgZW5kcyA9IGVuZHNXaXRoTGluZVRlcm1pbmF0b3IodG9Tb3VyY2VOb2RlV2hlbk5lZWRlZChyZXN1bHQpLnRvU3RyaW5nKCkpO1xuICAgICAgICBpZiAoc3RtdC50eXBlID09PSBTeW50YXguQmxvY2tTdGF0ZW1lbnQgJiYgKCFleHRyYS5jb21tZW50IHx8ICFzdG10LmxlYWRpbmdDb21tZW50cykgJiYgIWVuZHMpIHtcbiAgICAgICAgICAgIHJldHVybiBbcmVzdWx0LCBzcGFjZV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVuZHMpIHtcbiAgICAgICAgICAgIHJldHVybiBbcmVzdWx0LCBiYXNlXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW3Jlc3VsdCwgbmV3bGluZSwgYmFzZV07XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGdlbmVyYXRlSWRlbnRpZmllcihub2RlKSB7XG4gICAgICAgIHJldHVybiB0b1NvdXJjZU5vZGVXaGVuTmVlZGVkKG5vZGUubmFtZSwgbm9kZSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2VuZXJhdGVBc3luY1ByZWZpeChub2RlLCBzcGFjZVJlcXVpcmVkKSB7XG4gICAgICAgIHJldHVybiBub2RlLmFzeW5jID8gJ2FzeW5jJyArIChzcGFjZVJlcXVpcmVkID8gbm9FbXB0eVNwYWNlKCkgOiBzcGFjZSkgOiAnJztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZW5lcmF0ZVN0YXJTdWZmaXgobm9kZSkge1xuICAgICAgICB2YXIgaXNHZW5lcmF0b3IgPSBub2RlLmdlbmVyYXRvciAmJiAhZXh0cmEubW96LnN0YXJsZXNzR2VuZXJhdG9yO1xuICAgICAgICByZXR1cm4gaXNHZW5lcmF0b3IgPyAnKicgKyBzcGFjZSA6ICcnO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdlbmVyYXRlTWV0aG9kUHJlZml4KHByb3ApIHtcbiAgICAgICAgdmFyIGZ1bmMgPSBwcm9wLnZhbHVlLCBwcmVmaXggPSAnJztcbiAgICAgICAgaWYgKGZ1bmMuYXN5bmMpIHtcbiAgICAgICAgICAgIHByZWZpeCArPSBnZW5lcmF0ZUFzeW5jUHJlZml4KGZ1bmMsICFwcm9wLmNvbXB1dGVkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZnVuYy5nZW5lcmF0b3IpIHtcbiAgICAgICAgICAgIC8vIGF2b2lkIHNwYWNlIGJlZm9yZSBtZXRob2QgbmFtZVxuICAgICAgICAgICAgcHJlZml4ICs9IGdlbmVyYXRlU3RhclN1ZmZpeChmdW5jKSA/ICcqJyA6ICcnO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwcmVmaXg7XG4gICAgfVxuXG4gICAgQ29kZUdlbmVyYXRvci5wcm90b3R5cGUuZ2VuZXJhdGVQYXR0ZXJuID0gZnVuY3Rpb24gKG5vZGUsIHByZWNlZGVuY2UsIGZsYWdzKSB7XG4gICAgICAgIGlmIChub2RlLnR5cGUgPT09IFN5bnRheC5JZGVudGlmaWVyKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2VuZXJhdGVJZGVudGlmaWVyKG5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmdlbmVyYXRlRXhwcmVzc2lvbihub2RlLCBwcmVjZWRlbmNlLCBmbGFncyk7XG4gICAgfTtcblxuICAgIENvZGVHZW5lcmF0b3IucHJvdG90eXBlLmdlbmVyYXRlRnVuY3Rpb25QYXJhbXMgPSBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICB2YXIgaSwgaXosIHJlc3VsdCwgaGFzRGVmYXVsdDtcblxuICAgICAgICBoYXNEZWZhdWx0ID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKG5vZGUudHlwZSA9PT0gU3ludGF4LkFycm93RnVuY3Rpb25FeHByZXNzaW9uICYmXG4gICAgICAgICAgICAgICAgIW5vZGUucmVzdCAmJiAoIW5vZGUuZGVmYXVsdHMgfHwgbm9kZS5kZWZhdWx0cy5sZW5ndGggPT09IDApICYmXG4gICAgICAgICAgICAgICAgbm9kZS5wYXJhbXMubGVuZ3RoID09PSAxICYmIG5vZGUucGFyYW1zWzBdLnR5cGUgPT09IFN5bnRheC5JZGVudGlmaWVyKSB7XG4gICAgICAgICAgICAvLyBhcmcgPT4geyB9IGNhc2VcbiAgICAgICAgICAgIHJlc3VsdCA9IFtnZW5lcmF0ZUFzeW5jUHJlZml4KG5vZGUsIHRydWUpLCBnZW5lcmF0ZUlkZW50aWZpZXIobm9kZS5wYXJhbXNbMF0pXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IG5vZGUudHlwZSA9PT0gU3ludGF4LkFycm93RnVuY3Rpb25FeHByZXNzaW9uID8gW2dlbmVyYXRlQXN5bmNQcmVmaXgobm9kZSwgZmFsc2UpXSA6IFtdO1xuICAgICAgICAgICAgcmVzdWx0LnB1c2goJygnKTtcbiAgICAgICAgICAgIGlmIChub2RlLmRlZmF1bHRzKSB7XG4gICAgICAgICAgICAgICAgaGFzRGVmYXVsdCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGkgPSAwLCBpeiA9IG5vZGUucGFyYW1zLmxlbmd0aDsgaSA8IGl6OyArK2kpIHtcbiAgICAgICAgICAgICAgICBpZiAoaGFzRGVmYXVsdCAmJiBub2RlLmRlZmF1bHRzW2ldKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEhhbmRsZSBkZWZhdWx0IHZhbHVlcy5cbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2godGhpcy5nZW5lcmF0ZUFzc2lnbm1lbnQobm9kZS5wYXJhbXNbaV0sIG5vZGUuZGVmYXVsdHNbaV0sICc9JywgUHJlY2VkZW5jZS5Bc3NpZ25tZW50LCBFX1RUVCkpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHRoaXMuZ2VuZXJhdGVQYXR0ZXJuKG5vZGUucGFyYW1zW2ldLCBQcmVjZWRlbmNlLkFzc2lnbm1lbnQsIEVfVFRUKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpICsgMSA8IGl6KSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKCcsJyArIHNwYWNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChub2RlLnJlc3QpIHtcbiAgICAgICAgICAgICAgICBpZiAobm9kZS5wYXJhbXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKCcsJyArIHNwYWNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goJy4uLicpO1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGdlbmVyYXRlSWRlbnRpZmllcihub2RlLnJlc3QpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmVzdWx0LnB1c2goJyknKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcblxuICAgIENvZGVHZW5lcmF0b3IucHJvdG90eXBlLmdlbmVyYXRlRnVuY3Rpb25Cb2R5ID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgdmFyIHJlc3VsdCwgZXhwcjtcblxuICAgICAgICByZXN1bHQgPSB0aGlzLmdlbmVyYXRlRnVuY3Rpb25QYXJhbXMobm9kZSk7XG5cbiAgICAgICAgaWYgKG5vZGUudHlwZSA9PT0gU3ludGF4LkFycm93RnVuY3Rpb25FeHByZXNzaW9uKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaChzcGFjZSk7XG4gICAgICAgICAgICByZXN1bHQucHVzaCgnPT4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChub2RlLmV4cHJlc3Npb24pIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKHNwYWNlKTtcbiAgICAgICAgICAgIGV4cHIgPSB0aGlzLmdlbmVyYXRlRXhwcmVzc2lvbihub2RlLmJvZHksIFByZWNlZGVuY2UuQXNzaWdubWVudCwgRV9UVFQpO1xuICAgICAgICAgICAgaWYgKGV4cHIudG9TdHJpbmcoKS5jaGFyQXQoMCkgPT09ICd7Jykge1xuICAgICAgICAgICAgICAgIGV4cHIgPSBbJygnLCBleHByLCAnKSddO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzdWx0LnB1c2goZXhwcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaCh0aGlzLm1heWJlQmxvY2sobm9kZS5ib2R5LCBTX1RURkYpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcblxuICAgIENvZGVHZW5lcmF0b3IucHJvdG90eXBlLmdlbmVyYXRlSXRlcmF0aW9uRm9yU3RhdGVtZW50ID0gZnVuY3Rpb24gKG9wZXJhdG9yLCBzdG10LCBmbGFncykge1xuICAgICAgICB2YXIgcmVzdWx0ID0gWydmb3InICsgKHN0bXQuYXdhaXQgPyBub0VtcHR5U3BhY2UoKSArICdhd2FpdCcgOiAnJykgKyBzcGFjZSArICcoJ10sIHRoYXQgPSB0aGlzO1xuICAgICAgICB3aXRoSW5kZW50KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChzdG10LmxlZnQudHlwZSA9PT0gU3ludGF4LlZhcmlhYmxlRGVjbGFyYXRpb24pIHtcbiAgICAgICAgICAgICAgICB3aXRoSW5kZW50KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goc3RtdC5sZWZ0LmtpbmQgKyBub0VtcHR5U3BhY2UoKSk7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHRoYXQuZ2VuZXJhdGVTdGF0ZW1lbnQoc3RtdC5sZWZ0LmRlY2xhcmF0aW9uc1swXSwgU19GRkZGKSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHRoYXQuZ2VuZXJhdGVFeHByZXNzaW9uKHN0bXQubGVmdCwgUHJlY2VkZW5jZS5DYWxsLCBFX1RUVCkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXN1bHQgPSBqb2luKHJlc3VsdCwgb3BlcmF0b3IpO1xuICAgICAgICAgICAgcmVzdWx0ID0gW2pvaW4oXG4gICAgICAgICAgICAgICAgcmVzdWx0LFxuICAgICAgICAgICAgICAgIHRoYXQuZ2VuZXJhdGVFeHByZXNzaW9uKHN0bXQucmlnaHQsIFByZWNlZGVuY2UuQXNzaWdubWVudCwgRV9UVFQpXG4gICAgICAgICAgICApLCAnKSddO1xuICAgICAgICB9KTtcbiAgICAgICAgcmVzdWx0LnB1c2godGhpcy5tYXliZUJsb2NrKHN0bXQuYm9keSwgZmxhZ3MpKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuXG4gICAgQ29kZUdlbmVyYXRvci5wcm90b3R5cGUuZ2VuZXJhdGVQcm9wZXJ0eUtleSA9IGZ1bmN0aW9uIChleHByLCBjb21wdXRlZCkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gW107XG5cbiAgICAgICAgaWYgKGNvbXB1dGVkKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaCgnWycpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVzdWx0LnB1c2godGhpcy5nZW5lcmF0ZUV4cHJlc3Npb24oZXhwciwgUHJlY2VkZW5jZS5TZXF1ZW5jZSwgRV9UVFQpKTtcblxuICAgICAgICBpZiAoY29tcHV0ZWQpIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKCddJyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG5cbiAgICBDb2RlR2VuZXJhdG9yLnByb3RvdHlwZS5nZW5lcmF0ZUFzc2lnbm1lbnQgPSBmdW5jdGlvbiAobGVmdCwgcmlnaHQsIG9wZXJhdG9yLCBwcmVjZWRlbmNlLCBmbGFncykge1xuICAgICAgICBpZiAoUHJlY2VkZW5jZS5Bc3NpZ25tZW50IDwgcHJlY2VkZW5jZSkge1xuICAgICAgICAgICAgZmxhZ3MgfD0gRl9BTExPV19JTjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBwYXJlbnRoZXNpemUoXG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgdGhpcy5nZW5lcmF0ZUV4cHJlc3Npb24obGVmdCwgUHJlY2VkZW5jZS5DYWxsLCBmbGFncyksXG4gICAgICAgICAgICAgICAgc3BhY2UgKyBvcGVyYXRvciArIHNwYWNlLFxuICAgICAgICAgICAgICAgIHRoaXMuZ2VuZXJhdGVFeHByZXNzaW9uKHJpZ2h0LCBQcmVjZWRlbmNlLkFzc2lnbm1lbnQsIGZsYWdzKVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFByZWNlZGVuY2UuQXNzaWdubWVudCxcbiAgICAgICAgICAgIHByZWNlZGVuY2VcbiAgICAgICAgKTtcbiAgICB9O1xuXG4gICAgQ29kZUdlbmVyYXRvci5wcm90b3R5cGUuc2VtaWNvbG9uID0gZnVuY3Rpb24gKGZsYWdzKSB7XG4gICAgICAgIGlmICghc2VtaWNvbG9ucyAmJiBmbGFncyAmIEZfU0VNSUNPTE9OX09QVCkge1xuICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAnOyc7XG4gICAgfTtcblxuICAgIC8vIFN0YXRlbWVudHMuXG5cbiAgICBDb2RlR2VuZXJhdG9yLlN0YXRlbWVudCA9IHtcblxuICAgICAgICBCbG9ja1N0YXRlbWVudDogZnVuY3Rpb24gKHN0bXQsIGZsYWdzKSB7XG4gICAgICAgICAgICB2YXIgcmFuZ2UsIGNvbnRlbnQsIHJlc3VsdCA9IFsneycsIG5ld2xpbmVdLCB0aGF0ID0gdGhpcztcblxuICAgICAgICAgICAgd2l0aEluZGVudChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgLy8gaGFuZGxlIGZ1bmN0aW9ucyB3aXRob3V0IGFueSBjb2RlXG4gICAgICAgICAgICAgICAgaWYgKHN0bXQuYm9keS5sZW5ndGggPT09IDAgJiYgcHJlc2VydmVCbGFua0xpbmVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJhbmdlID0gc3RtdC5yYW5nZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJhbmdlWzFdIC0gcmFuZ2VbMF0gPiAyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50ID0gc291cmNlQ29kZS5zdWJzdHJpbmcocmFuZ2VbMF0gKyAxLCByYW5nZVsxXSAtIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRlbnRbMF0gPT09ICdcXG4nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gWyd7J107XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChjb250ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciBpLCBpeiwgZnJhZ21lbnQsIGJvZHlGbGFncztcbiAgICAgICAgICAgICAgICBib2R5RmxhZ3MgPSBTX1RGRkY7XG4gICAgICAgICAgICAgICAgaWYgKGZsYWdzICYgRl9GVU5DX0JPRFkpIHtcbiAgICAgICAgICAgICAgICAgICAgYm9keUZsYWdzIHw9IEZfRElSRUNUSVZFX0NUWDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwLCBpeiA9IHN0bXQuYm9keS5sZW5ndGg7IGkgPCBpejsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwcmVzZXJ2ZUJsYW5rTGluZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGhhbmRsZSBzcGFjZXMgYmVmb3JlIHRoZSBmaXJzdCBsaW5lXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdG10LmJvZHlbMF0ubGVhZGluZ0NvbW1lbnRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlID0gc3RtdC5ib2R5WzBdLmxlYWRpbmdDb21tZW50c1swXS5leHRlbmRlZFJhbmdlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50ID0gc291cmNlQ29kZS5zdWJzdHJpbmcocmFuZ2VbMF0sIHJhbmdlWzFdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRlbnRbMF0gPT09ICdcXG4nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBbJ3snXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXN0bXQuYm9keVswXS5sZWFkaW5nQ29tbWVudHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2VuZXJhdGVCbGFua0xpbmVzKHN0bXQucmFuZ2VbMF0sIHN0bXQuYm9keVswXS5yYW5nZVswXSwgcmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGhhbmRsZSBzcGFjZXMgYmV0d2VlbiBsaW5lc1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzdG10LmJvZHlbaSAtIDFdLnRyYWlsaW5nQ29tbWVudHMgICYmICFzdG10LmJvZHlbaV0ubGVhZGluZ0NvbW1lbnRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdlbmVyYXRlQmxhbmtMaW5lcyhzdG10LmJvZHlbaSAtIDFdLnJhbmdlWzFdLCBzdG10LmJvZHlbaV0ucmFuZ2VbMF0sIHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGkgPT09IGl6IC0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYm9keUZsYWdzIHw9IEZfU0VNSUNPTE9OX09QVDtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdG10LmJvZHlbaV0ubGVhZGluZ0NvbW1lbnRzICYmIHByZXNlcnZlQmxhbmtMaW5lcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZnJhZ21lbnQgPSB0aGF0LmdlbmVyYXRlU3RhdGVtZW50KHN0bXQuYm9keVtpXSwgYm9keUZsYWdzKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZyYWdtZW50ID0gYWRkSW5kZW50KHRoYXQuZ2VuZXJhdGVTdGF0ZW1lbnQoc3RtdC5ib2R5W2ldLCBib2R5RmxhZ3MpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGZyYWdtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFlbmRzV2l0aExpbmVUZXJtaW5hdG9yKHRvU291cmNlTm9kZVdoZW5OZWVkZWQoZnJhZ21lbnQpLnRvU3RyaW5nKCkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJlc2VydmVCbGFua0xpbmVzICYmIGkgPCBpeiAtIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBkb24ndCBhZGQgYSBuZXcgbGluZSBpZiB0aGVyZSBhcmUgbGVhZGluZyBjb21lbnRzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaW4gdGhlIG5leHQgc3RhdGVtZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzdG10LmJvZHlbaSArIDFdLmxlYWRpbmdDb21tZW50cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChuZXdsaW5lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG5ld2xpbmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHByZXNlcnZlQmxhbmtMaW5lcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaGFuZGxlIHNwYWNlcyBhZnRlciB0aGUgbGFzdCBsaW5lXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PT0gaXogLSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzdG10LmJvZHlbaV0udHJhaWxpbmdDb21tZW50cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZW5lcmF0ZUJsYW5rTGluZXMoc3RtdC5ib2R5W2ldLnJhbmdlWzFdLCBzdG10LnJhbmdlWzFdLCByZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXN1bHQucHVzaChhZGRJbmRlbnQoJ30nKSk7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9LFxuXG4gICAgICAgIEJyZWFrU3RhdGVtZW50OiBmdW5jdGlvbiAoc3RtdCwgZmxhZ3MpIHtcbiAgICAgICAgICAgIGlmIChzdG10LmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdicmVhayAnICsgc3RtdC5sYWJlbC5uYW1lICsgdGhpcy5zZW1pY29sb24oZmxhZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuICdicmVhaycgKyB0aGlzLnNlbWljb2xvbihmbGFncyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgQ29udGludWVTdGF0ZW1lbnQ6IGZ1bmN0aW9uIChzdG10LCBmbGFncykge1xuICAgICAgICAgICAgaWYgKHN0bXQubGFiZWwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2NvbnRpbnVlICcgKyBzdG10LmxhYmVsLm5hbWUgKyB0aGlzLnNlbWljb2xvbihmbGFncyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gJ2NvbnRpbnVlJyArIHRoaXMuc2VtaWNvbG9uKGZsYWdzKTtcbiAgICAgICAgfSxcblxuICAgICAgICBDbGFzc0JvZHk6IGZ1bmN0aW9uIChzdG10LCBmbGFncykge1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFsgJ3snLCBuZXdsaW5lXSwgdGhhdCA9IHRoaXM7XG5cbiAgICAgICAgICAgIHdpdGhJbmRlbnQoZnVuY3Rpb24gKGluZGVudCkge1xuICAgICAgICAgICAgICAgIHZhciBpLCBpejtcblxuICAgICAgICAgICAgICAgIGZvciAoaSA9IDAsIGl6ID0gc3RtdC5ib2R5Lmxlbmd0aDsgaSA8IGl6OyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goaW5kZW50KTtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2godGhhdC5nZW5lcmF0ZUV4cHJlc3Npb24oc3RtdC5ib2R5W2ldLCBQcmVjZWRlbmNlLlNlcXVlbmNlLCBFX1RUVCkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaSArIDEgPCBpeikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gobmV3bGluZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKCFlbmRzV2l0aExpbmVUZXJtaW5hdG9yKHRvU291cmNlTm9kZVdoZW5OZWVkZWQocmVzdWx0KS50b1N0cmluZygpKSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG5ld2xpbmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzdWx0LnB1c2goYmFzZSk7XG4gICAgICAgICAgICByZXN1bHQucHVzaCgnfScpO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfSxcblxuICAgICAgICBDbGFzc0RlY2xhcmF0aW9uOiBmdW5jdGlvbiAoc3RtdCwgZmxhZ3MpIHtcbiAgICAgICAgICAgIHZhciByZXN1bHQsIGZyYWdtZW50O1xuICAgICAgICAgICAgcmVzdWx0ICA9IFsnY2xhc3MnXTtcbiAgICAgICAgICAgIGlmIChzdG10LmlkKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gam9pbihyZXN1bHQsIHRoaXMuZ2VuZXJhdGVFeHByZXNzaW9uKHN0bXQuaWQsIFByZWNlZGVuY2UuU2VxdWVuY2UsIEVfVFRUKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc3RtdC5zdXBlckNsYXNzKSB7XG4gICAgICAgICAgICAgICAgZnJhZ21lbnQgPSBqb2luKCdleHRlbmRzJywgdGhpcy5nZW5lcmF0ZUV4cHJlc3Npb24oc3RtdC5zdXBlckNsYXNzLCBQcmVjZWRlbmNlLlVuYXJ5LCBFX1RUVCkpO1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IGpvaW4ocmVzdWx0LCBmcmFnbWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXN1bHQucHVzaChzcGFjZSk7XG4gICAgICAgICAgICByZXN1bHQucHVzaCh0aGlzLmdlbmVyYXRlU3RhdGVtZW50KHN0bXQuYm9keSwgU19URkZUKSk7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9LFxuXG4gICAgICAgIERpcmVjdGl2ZVN0YXRlbWVudDogZnVuY3Rpb24gKHN0bXQsIGZsYWdzKSB7XG4gICAgICAgICAgICBpZiAoZXh0cmEucmF3ICYmIHN0bXQucmF3KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0bXQucmF3ICsgdGhpcy5zZW1pY29sb24oZmxhZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGVzY2FwZURpcmVjdGl2ZShzdG10LmRpcmVjdGl2ZSkgKyB0aGlzLnNlbWljb2xvbihmbGFncyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgRG9XaGlsZVN0YXRlbWVudDogZnVuY3Rpb24gKHN0bXQsIGZsYWdzKSB7XG4gICAgICAgICAgICAvLyBCZWNhdXNlIGBkbyA0MiB3aGlsZSAoY29uZClgIGlzIFN5bnRheCBFcnJvci4gV2UgbmVlZCBzZW1pY29sb24uXG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gam9pbignZG8nLCB0aGlzLm1heWJlQmxvY2soc3RtdC5ib2R5LCBTX1RGRkYpKTtcbiAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMubWF5YmVCbG9ja1N1ZmZpeChzdG10LmJvZHksIHJlc3VsdCk7XG4gICAgICAgICAgICByZXR1cm4gam9pbihyZXN1bHQsIFtcbiAgICAgICAgICAgICAgICAnd2hpbGUnICsgc3BhY2UgKyAnKCcsXG4gICAgICAgICAgICAgICAgdGhpcy5nZW5lcmF0ZUV4cHJlc3Npb24oc3RtdC50ZXN0LCBQcmVjZWRlbmNlLlNlcXVlbmNlLCBFX1RUVCksXG4gICAgICAgICAgICAgICAgJyknICsgdGhpcy5zZW1pY29sb24oZmxhZ3MpXG4gICAgICAgICAgICBdKTtcbiAgICAgICAgfSxcblxuICAgICAgICBDYXRjaENsYXVzZTogZnVuY3Rpb24gKHN0bXQsIGZsYWdzKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0LCB0aGF0ID0gdGhpcztcbiAgICAgICAgICAgIHdpdGhJbmRlbnQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBndWFyZDtcblxuICAgICAgICAgICAgICAgIGlmIChzdG10LnBhcmFtKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICdjYXRjaCcgKyBzcGFjZSArICcoJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuZ2VuZXJhdGVFeHByZXNzaW9uKHN0bXQucGFyYW0sIFByZWNlZGVuY2UuU2VxdWVuY2UsIEVfVFRUKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICcpJ1xuICAgICAgICAgICAgICAgICAgICBdO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdG10Lmd1YXJkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBndWFyZCA9IHRoYXQuZ2VuZXJhdGVFeHByZXNzaW9uKHN0bXQuZ3VhcmQsIFByZWNlZGVuY2UuU2VxdWVuY2UsIEVfVFRUKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5zcGxpY2UoMiwgMCwgJyBpZiAnLCBndWFyZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBbJ2NhdGNoJ107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXN1bHQucHVzaCh0aGlzLm1heWJlQmxvY2soc3RtdC5ib2R5LCBTX1RGRkYpKTtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH0sXG5cbiAgICAgICAgRGVidWdnZXJTdGF0ZW1lbnQ6IGZ1bmN0aW9uIChzdG10LCBmbGFncykge1xuICAgICAgICAgICAgcmV0dXJuICdkZWJ1Z2dlcicgKyB0aGlzLnNlbWljb2xvbihmbGFncyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgRW1wdHlTdGF0ZW1lbnQ6IGZ1bmN0aW9uIChzdG10LCBmbGFncykge1xuICAgICAgICAgICAgcmV0dXJuICc7JztcbiAgICAgICAgfSxcblxuICAgICAgICBFeHBvcnREZWZhdWx0RGVjbGFyYXRpb246IGZ1bmN0aW9uIChzdG10LCBmbGFncykge1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFsgJ2V4cG9ydCcgXSwgYm9keUZsYWdzO1xuXG4gICAgICAgICAgICBib2R5RmxhZ3MgPSAoZmxhZ3MgJiBGX1NFTUlDT0xPTl9PUFQpID8gU19URkZUIDogU19URkZGO1xuXG4gICAgICAgICAgICAvLyBleHBvcnQgZGVmYXVsdCBIb2lzdGFibGVEZWNsYXJhdGlvbltEZWZhdWx0XVxuICAgICAgICAgICAgLy8gZXhwb3J0IGRlZmF1bHQgQXNzaWdubWVudEV4cHJlc3Npb25bSW5dIDtcbiAgICAgICAgICAgIHJlc3VsdCA9IGpvaW4ocmVzdWx0LCAnZGVmYXVsdCcpO1xuICAgICAgICAgICAgaWYgKGlzU3RhdGVtZW50KHN0bXQuZGVjbGFyYXRpb24pKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gam9pbihyZXN1bHQsIHRoaXMuZ2VuZXJhdGVTdGF0ZW1lbnQoc3RtdC5kZWNsYXJhdGlvbiwgYm9keUZsYWdzKSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IGpvaW4ocmVzdWx0LCB0aGlzLmdlbmVyYXRlRXhwcmVzc2lvbihzdG10LmRlY2xhcmF0aW9uLCBQcmVjZWRlbmNlLkFzc2lnbm1lbnQsIEVfVFRUKSArIHRoaXMuc2VtaWNvbG9uKGZsYWdzKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9LFxuXG4gICAgICAgIEV4cG9ydE5hbWVkRGVjbGFyYXRpb246IGZ1bmN0aW9uIChzdG10LCBmbGFncykge1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFsgJ2V4cG9ydCcgXSwgYm9keUZsYWdzLCB0aGF0ID0gdGhpcztcblxuICAgICAgICAgICAgYm9keUZsYWdzID0gKGZsYWdzICYgRl9TRU1JQ09MT05fT1BUKSA/IFNfVEZGVCA6IFNfVEZGRjtcblxuICAgICAgICAgICAgLy8gZXhwb3J0IFZhcmlhYmxlU3RhdGVtZW50XG4gICAgICAgICAgICAvLyBleHBvcnQgRGVjbGFyYXRpb25bRGVmYXVsdF1cbiAgICAgICAgICAgIGlmIChzdG10LmRlY2xhcmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGpvaW4ocmVzdWx0LCB0aGlzLmdlbmVyYXRlU3RhdGVtZW50KHN0bXQuZGVjbGFyYXRpb24sIGJvZHlGbGFncykpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBleHBvcnQgRXhwb3J0Q2xhdXNlW05vUmVmZXJlbmNlXSBGcm9tQ2xhdXNlIDtcbiAgICAgICAgICAgIC8vIGV4cG9ydCBFeHBvcnRDbGF1c2UgO1xuICAgICAgICAgICAgaWYgKHN0bXQuc3BlY2lmaWVycykge1xuICAgICAgICAgICAgICAgIGlmIChzdG10LnNwZWNpZmllcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IGpvaW4ocmVzdWx0LCAneycgKyBzcGFjZSArICd9Jyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzdG10LnNwZWNpZmllcnNbMF0udHlwZSA9PT0gU3ludGF4LkV4cG9ydEJhdGNoU3BlY2lmaWVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IGpvaW4ocmVzdWx0LCB0aGlzLmdlbmVyYXRlRXhwcmVzc2lvbihzdG10LnNwZWNpZmllcnNbMF0sIFByZWNlZGVuY2UuU2VxdWVuY2UsIEVfVFRUKSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gam9pbihyZXN1bHQsICd7Jyk7XG4gICAgICAgICAgICAgICAgICAgIHdpdGhJbmRlbnQoZnVuY3Rpb24gKGluZGVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGksIGl6O1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gobmV3bGluZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSAwLCBpeiA9IHN0bXQuc3BlY2lmaWVycy5sZW5ndGg7IGkgPCBpejsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goaW5kZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh0aGF0LmdlbmVyYXRlRXhwcmVzc2lvbihzdG10LnNwZWNpZmllcnNbaV0sIFByZWNlZGVuY2UuU2VxdWVuY2UsIEVfVFRUKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgKyAxIDwgaXopIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goJywnICsgbmV3bGluZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFlbmRzV2l0aExpbmVUZXJtaW5hdG9yKHRvU291cmNlTm9kZVdoZW5OZWVkZWQocmVzdWx0KS50b1N0cmluZygpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gobmV3bGluZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goYmFzZSArICd9Jyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHN0bXQuc291cmNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IGpvaW4ocmVzdWx0LCBbXG4gICAgICAgICAgICAgICAgICAgICAgICAnZnJvbScgKyBzcGFjZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1vZHVsZVNwZWNpZmllclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nZW5lcmF0ZUV4cHJlc3Npb24oc3RtdC5zb3VyY2UsIFByZWNlZGVuY2UuU2VxdWVuY2UsIEVfVFRUKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VtaWNvbG9uKGZsYWdzKVxuICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh0aGlzLnNlbWljb2xvbihmbGFncykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH0sXG5cbiAgICAgICAgRXhwb3J0QWxsRGVjbGFyYXRpb246IGZ1bmN0aW9uIChzdG10LCBmbGFncykge1xuICAgICAgICAgICAgLy8gZXhwb3J0ICogRnJvbUNsYXVzZSA7XG4gICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICdleHBvcnQnICsgc3BhY2UsXG4gICAgICAgICAgICAgICAgJyonICsgc3BhY2UsXG4gICAgICAgICAgICAgICAgJ2Zyb20nICsgc3BhY2UsXG4gICAgICAgICAgICAgICAgLy8gTW9kdWxlU3BlY2lmaWVyXG4gICAgICAgICAgICAgICAgdGhpcy5nZW5lcmF0ZUV4cHJlc3Npb24oc3RtdC5zb3VyY2UsIFByZWNlZGVuY2UuU2VxdWVuY2UsIEVfVFRUKSxcbiAgICAgICAgICAgICAgICB0aGlzLnNlbWljb2xvbihmbGFncylcbiAgICAgICAgICAgIF07XG4gICAgICAgIH0sXG5cbiAgICAgICAgRXhwcmVzc2lvblN0YXRlbWVudDogZnVuY3Rpb24gKHN0bXQsIGZsYWdzKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0LCBmcmFnbWVudDtcblxuICAgICAgICAgICAgZnVuY3Rpb24gaXNDbGFzc1ByZWZpeGVkKGZyYWdtZW50KSB7XG4gICAgICAgICAgICAgICAgdmFyIGNvZGU7XG4gICAgICAgICAgICAgICAgaWYgKGZyYWdtZW50LnNsaWNlKDAsIDUpICE9PSAnY2xhc3MnKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29kZSA9IGZyYWdtZW50LmNoYXJDb2RlQXQoNSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvZGUgPT09IDB4N0IgIC8qICd7JyAqLyB8fCBlc3V0aWxzLmNvZGUuaXNXaGl0ZVNwYWNlKGNvZGUpIHx8IGVzdXRpbHMuY29kZS5pc0xpbmVUZXJtaW5hdG9yKGNvZGUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmdW5jdGlvbiBpc0Z1bmN0aW9uUHJlZml4ZWQoZnJhZ21lbnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgY29kZTtcbiAgICAgICAgICAgICAgICBpZiAoZnJhZ21lbnQuc2xpY2UoMCwgOCkgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb2RlID0gZnJhZ21lbnQuY2hhckNvZGVBdCg4KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29kZSA9PT0gMHgyOCAvKiAnKCcgKi8gfHwgZXN1dGlscy5jb2RlLmlzV2hpdGVTcGFjZShjb2RlKSB8fCBjb2RlID09PSAweDJBICAvKiAnKicgKi8gfHwgZXN1dGlscy5jb2RlLmlzTGluZVRlcm1pbmF0b3IoY29kZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIGlzQXN5bmNQcmVmaXhlZChmcmFnbWVudCkge1xuICAgICAgICAgICAgICAgIHZhciBjb2RlLCBpLCBpejtcbiAgICAgICAgICAgICAgICBpZiAoZnJhZ21lbnQuc2xpY2UoMCwgNSkgIT09ICdhc3luYycpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIWVzdXRpbHMuY29kZS5pc1doaXRlU3BhY2UoZnJhZ21lbnQuY2hhckNvZGVBdCg1KSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmb3IgKGkgPSA2LCBpeiA9IGZyYWdtZW50Lmxlbmd0aDsgaSA8IGl6OyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFlc3V0aWxzLmNvZGUuaXNXaGl0ZVNwYWNlKGZyYWdtZW50LmNoYXJDb2RlQXQoaSkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaSA9PT0gaXopIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZnJhZ21lbnQuc2xpY2UoaSwgaSArIDgpICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29kZSA9IGZyYWdtZW50LmNoYXJDb2RlQXQoaSArIDgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjb2RlID09PSAweDI4IC8qICcoJyAqLyB8fCBlc3V0aWxzLmNvZGUuaXNXaGl0ZVNwYWNlKGNvZGUpIHx8IGNvZGUgPT09IDB4MkEgIC8qICcqJyAqLyB8fCBlc3V0aWxzLmNvZGUuaXNMaW5lVGVybWluYXRvcihjb2RlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmVzdWx0ID0gW3RoaXMuZ2VuZXJhdGVFeHByZXNzaW9uKHN0bXQuZXhwcmVzc2lvbiwgUHJlY2VkZW5jZS5TZXF1ZW5jZSwgRV9UVFQpXTtcbiAgICAgICAgICAgIC8vIDEyLjQgJ3snLCAnZnVuY3Rpb24nLCAnY2xhc3MnIGlzIG5vdCBhbGxvd2VkIGluIHRoaXMgcG9zaXRpb24uXG4gICAgICAgICAgICAvLyB3cmFwIGV4cHJlc3Npb24gd2l0aCBwYXJlbnRoZXNlc1xuICAgICAgICAgICAgZnJhZ21lbnQgPSB0b1NvdXJjZU5vZGVXaGVuTmVlZGVkKHJlc3VsdCkudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIGlmIChmcmFnbWVudC5jaGFyQ29kZUF0KDApID09PSAweDdCICAvKiAneycgKi8gfHwgIC8vIE9iamVjdEV4cHJlc3Npb25cbiAgICAgICAgICAgICAgICAgICAgaXNDbGFzc1ByZWZpeGVkKGZyYWdtZW50KSB8fFxuICAgICAgICAgICAgICAgICAgICBpc0Z1bmN0aW9uUHJlZml4ZWQoZnJhZ21lbnQpIHx8XG4gICAgICAgICAgICAgICAgICAgIGlzQXN5bmNQcmVmaXhlZChmcmFnbWVudCkgfHxcbiAgICAgICAgICAgICAgICAgICAgKGRpcmVjdGl2ZSAmJiAoZmxhZ3MgJiBGX0RJUkVDVElWRV9DVFgpICYmIHN0bXQuZXhwcmVzc2lvbi50eXBlID09PSBTeW50YXguTGl0ZXJhbCAmJiB0eXBlb2Ygc3RtdC5leHByZXNzaW9uLnZhbHVlID09PSAnc3RyaW5nJykpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBbJygnLCByZXN1bHQsICcpJyArIHRoaXMuc2VtaWNvbG9uKGZsYWdzKV07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHRoaXMuc2VtaWNvbG9uKGZsYWdzKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9LFxuXG4gICAgICAgIEltcG9ydERlY2xhcmF0aW9uOiBmdW5jdGlvbiAoc3RtdCwgZmxhZ3MpIHtcbiAgICAgICAgICAgIC8vIEVTNjogMTUuMi4xIHZhbGlkIGltcG9ydCBkZWNsYXJhdGlvbnM6XG4gICAgICAgICAgICAvLyAgICAgLSBpbXBvcnQgSW1wb3J0Q2xhdXNlIEZyb21DbGF1c2UgO1xuICAgICAgICAgICAgLy8gICAgIC0gaW1wb3J0IE1vZHVsZVNwZWNpZmllciA7XG4gICAgICAgICAgICB2YXIgcmVzdWx0LCBjdXJzb3IsIHRoYXQgPSB0aGlzO1xuXG4gICAgICAgICAgICAvLyBJZiBubyBJbXBvcnRDbGF1c2UgaXMgcHJlc2VudCxcbiAgICAgICAgICAgIC8vIHRoaXMgc2hvdWxkIGJlIGBpbXBvcnQgTW9kdWxlU3BlY2lmaWVyYCBzbyBza2lwIGBmcm9tYFxuICAgICAgICAgICAgLy8gTW9kdWxlU3BlY2lmaWVyIGlzIFN0cmluZ0xpdGVyYWwuXG4gICAgICAgICAgICBpZiAoc3RtdC5zcGVjaWZpZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIC8vIGltcG9ydCBNb2R1bGVTcGVjaWZpZXIgO1xuICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICdpbXBvcnQnLFxuICAgICAgICAgICAgICAgICAgICBzcGFjZSxcbiAgICAgICAgICAgICAgICAgICAgLy8gTW9kdWxlU3BlY2lmaWVyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2VuZXJhdGVFeHByZXNzaW9uKHN0bXQuc291cmNlLCBQcmVjZWRlbmNlLlNlcXVlbmNlLCBFX1RUVCksXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VtaWNvbG9uKGZsYWdzKVxuICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGltcG9ydCBJbXBvcnRDbGF1c2UgRnJvbUNsYXVzZSA7XG4gICAgICAgICAgICByZXN1bHQgPSBbXG4gICAgICAgICAgICAgICAgJ2ltcG9ydCdcbiAgICAgICAgICAgIF07XG4gICAgICAgICAgICBjdXJzb3IgPSAwO1xuXG4gICAgICAgICAgICAvLyBJbXBvcnRlZEJpbmRpbmdcbiAgICAgICAgICAgIGlmIChzdG10LnNwZWNpZmllcnNbY3Vyc29yXS50eXBlID09PSBTeW50YXguSW1wb3J0RGVmYXVsdFNwZWNpZmllcikge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IGpvaW4ocmVzdWx0LCBbXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdlbmVyYXRlRXhwcmVzc2lvbihzdG10LnNwZWNpZmllcnNbY3Vyc29yXSwgUHJlY2VkZW5jZS5TZXF1ZW5jZSwgRV9UVFQpXG4gICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgKytjdXJzb3I7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChzdG10LnNwZWNpZmllcnNbY3Vyc29yXSkge1xuICAgICAgICAgICAgICAgIGlmIChjdXJzb3IgIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goJywnKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoc3RtdC5zcGVjaWZpZXJzW2N1cnNvcl0udHlwZSA9PT0gU3ludGF4LkltcG9ydE5hbWVzcGFjZVNwZWNpZmllcikge1xuICAgICAgICAgICAgICAgICAgICAvLyBOYW1lU3BhY2VJbXBvcnRcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gam9pbihyZXN1bHQsIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcGFjZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdlbmVyYXRlRXhwcmVzc2lvbihzdG10LnNwZWNpZmllcnNbY3Vyc29yXSwgUHJlY2VkZW5jZS5TZXF1ZW5jZSwgRV9UVFQpXG4gICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIE5hbWVkSW1wb3J0c1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChzcGFjZSArICd7Jyk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKChzdG10LnNwZWNpZmllcnMubGVuZ3RoIC0gY3Vyc29yKSA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaW1wb3J0IHsgLi4uIH0gZnJvbSBcIi4uLlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goc3BhY2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2godGhpcy5nZW5lcmF0ZUV4cHJlc3Npb24oc3RtdC5zcGVjaWZpZXJzW2N1cnNvcl0sIFByZWNlZGVuY2UuU2VxdWVuY2UsIEVfVFRUKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChzcGFjZSArICd9JyArIHNwYWNlKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGltcG9ydCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAuLi4sXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAuLi4sXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB9IGZyb20gXCIuLi5cIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpdGhJbmRlbnQoZnVuY3Rpb24gKGluZGVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpLCBpejtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChuZXdsaW5lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSBjdXJzb3IsIGl6ID0gc3RtdC5zcGVjaWZpZXJzLmxlbmd0aDsgaSA8IGl6OyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goaW5kZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2godGhhdC5nZW5lcmF0ZUV4cHJlc3Npb24oc3RtdC5zcGVjaWZpZXJzW2ldLCBQcmVjZWRlbmNlLlNlcXVlbmNlLCBFX1RUVCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSArIDEgPCBpeikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goJywnICsgbmV3bGluZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZW5kc1dpdGhMaW5lVGVybWluYXRvcih0b1NvdXJjZU5vZGVXaGVuTmVlZGVkKHJlc3VsdCkudG9TdHJpbmcoKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChuZXdsaW5lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGJhc2UgKyAnfScgKyBzcGFjZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJlc3VsdCA9IGpvaW4ocmVzdWx0LCBbXG4gICAgICAgICAgICAgICAgJ2Zyb20nICsgc3BhY2UsXG4gICAgICAgICAgICAgICAgLy8gTW9kdWxlU3BlY2lmaWVyXG4gICAgICAgICAgICAgICAgdGhpcy5nZW5lcmF0ZUV4cHJlc3Npb24oc3RtdC5zb3VyY2UsIFByZWNlZGVuY2UuU2VxdWVuY2UsIEVfVFRUKSxcbiAgICAgICAgICAgICAgICB0aGlzLnNlbWljb2xvbihmbGFncylcbiAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfSxcblxuICAgICAgICBWYXJpYWJsZURlY2xhcmF0b3I6IGZ1bmN0aW9uIChzdG10LCBmbGFncykge1xuICAgICAgICAgICAgdmFyIGl0ZW1GbGFncyA9IChmbGFncyAmIEZfQUxMT1dfSU4pID8gRV9UVFQgOiBFX0ZUVDtcbiAgICAgICAgICAgIGlmIChzdG10LmluaXQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmdlbmVyYXRlRXhwcmVzc2lvbihzdG10LmlkLCBQcmVjZWRlbmNlLkFzc2lnbm1lbnQsIGl0ZW1GbGFncyksXG4gICAgICAgICAgICAgICAgICAgIHNwYWNlLFxuICAgICAgICAgICAgICAgICAgICAnPScsXG4gICAgICAgICAgICAgICAgICAgIHNwYWNlLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmdlbmVyYXRlRXhwcmVzc2lvbihzdG10LmluaXQsIFByZWNlZGVuY2UuQXNzaWdubWVudCwgaXRlbUZsYWdzKVxuICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZW5lcmF0ZVBhdHRlcm4oc3RtdC5pZCwgUHJlY2VkZW5jZS5Bc3NpZ25tZW50LCBpdGVtRmxhZ3MpO1xuICAgICAgICB9LFxuXG4gICAgICAgIFZhcmlhYmxlRGVjbGFyYXRpb246IGZ1bmN0aW9uIChzdG10LCBmbGFncykge1xuICAgICAgICAgICAgLy8gVmFyaWFibGVEZWNsYXJhdG9yIGlzIHR5cGVkIGFzIFN0YXRlbWVudCxcbiAgICAgICAgICAgIC8vIGJ1dCBqb2luZWQgd2l0aCBjb21tYSAobm90IExpbmVUZXJtaW5hdG9yKS5cbiAgICAgICAgICAgIC8vIFNvIGlmIGNvbW1lbnQgaXMgYXR0YWNoZWQgdG8gdGFyZ2V0IG5vZGUsIHdlIHNob3VsZCBzcGVjaWFsaXplLlxuICAgICAgICAgICAgdmFyIHJlc3VsdCwgaSwgaXosIG5vZGUsIGJvZHlGbGFncywgdGhhdCA9IHRoaXM7XG5cbiAgICAgICAgICAgIHJlc3VsdCA9IFsgc3RtdC5raW5kIF07XG5cbiAgICAgICAgICAgIGJvZHlGbGFncyA9IChmbGFncyAmIEZfQUxMT1dfSU4pID8gU19URkZGIDogU19GRkZGO1xuXG4gICAgICAgICAgICBmdW5jdGlvbiBibG9jaygpIHtcbiAgICAgICAgICAgICAgICBub2RlID0gc3RtdC5kZWNsYXJhdGlvbnNbMF07XG4gICAgICAgICAgICAgICAgaWYgKGV4dHJhLmNvbW1lbnQgJiYgbm9kZS5sZWFkaW5nQ29tbWVudHMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goJ1xcbicpO1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChhZGRJbmRlbnQodGhhdC5nZW5lcmF0ZVN0YXRlbWVudChub2RlLCBib2R5RmxhZ3MpKSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gobm9FbXB0eVNwYWNlKCkpO1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh0aGF0LmdlbmVyYXRlU3RhdGVtZW50KG5vZGUsIGJvZHlGbGFncykpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGZvciAoaSA9IDEsIGl6ID0gc3RtdC5kZWNsYXJhdGlvbnMubGVuZ3RoOyBpIDwgaXo7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICBub2RlID0gc3RtdC5kZWNsYXJhdGlvbnNbaV07XG4gICAgICAgICAgICAgICAgICAgIGlmIChleHRyYS5jb21tZW50ICYmIG5vZGUubGVhZGluZ0NvbW1lbnRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCgnLCcgKyBuZXdsaW5lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGFkZEluZGVudCh0aGF0LmdlbmVyYXRlU3RhdGVtZW50KG5vZGUsIGJvZHlGbGFncykpKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKCcsJyArIHNwYWNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHRoYXQuZ2VuZXJhdGVTdGF0ZW1lbnQobm9kZSwgYm9keUZsYWdzKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChzdG10LmRlY2xhcmF0aW9ucy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgd2l0aEluZGVudChibG9jayk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGJsb2NrKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKHRoaXMuc2VtaWNvbG9uKGZsYWdzKSk7XG5cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH0sXG5cbiAgICAgICAgVGhyb3dTdGF0ZW1lbnQ6IGZ1bmN0aW9uIChzdG10LCBmbGFncykge1xuICAgICAgICAgICAgcmV0dXJuIFtqb2luKFxuICAgICAgICAgICAgICAgICd0aHJvdycsXG4gICAgICAgICAgICAgICAgdGhpcy5nZW5lcmF0ZUV4cHJlc3Npb24oc3RtdC5hcmd1bWVudCwgUHJlY2VkZW5jZS5TZXF1ZW5jZSwgRV9UVFQpXG4gICAgICAgICAgICApLCB0aGlzLnNlbWljb2xvbihmbGFncyldO1xuICAgICAgICB9LFxuXG4gICAgICAgIFRyeVN0YXRlbWVudDogZnVuY3Rpb24gKHN0bXQsIGZsYWdzKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0LCBpLCBpeiwgZ3VhcmRlZEhhbmRsZXJzO1xuXG4gICAgICAgICAgICByZXN1bHQgPSBbJ3RyeScsIHRoaXMubWF5YmVCbG9jayhzdG10LmJsb2NrLCBTX1RGRkYpXTtcbiAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMubWF5YmVCbG9ja1N1ZmZpeChzdG10LmJsb2NrLCByZXN1bHQpO1xuXG4gICAgICAgICAgICBpZiAoc3RtdC5oYW5kbGVycykge1xuICAgICAgICAgICAgICAgIC8vIG9sZCBpbnRlcmZhY2VcbiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwLCBpeiA9IHN0bXQuaGFuZGxlcnMubGVuZ3RoOyBpIDwgaXo7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBqb2luKHJlc3VsdCwgdGhpcy5nZW5lcmF0ZVN0YXRlbWVudChzdG10LmhhbmRsZXJzW2ldLCBTX1RGRkYpKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0bXQuZmluYWxpemVyIHx8IGkgKyAxICE9PSBpeikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5tYXliZUJsb2NrU3VmZml4KHN0bXQuaGFuZGxlcnNbaV0uYm9keSwgcmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZ3VhcmRlZEhhbmRsZXJzID0gc3RtdC5ndWFyZGVkSGFuZGxlcnMgfHwgW107XG5cbiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwLCBpeiA9IGd1YXJkZWRIYW5kbGVycy5sZW5ndGg7IGkgPCBpejsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IGpvaW4ocmVzdWx0LCB0aGlzLmdlbmVyYXRlU3RhdGVtZW50KGd1YXJkZWRIYW5kbGVyc1tpXSwgU19URkZGKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdG10LmZpbmFsaXplciB8fCBpICsgMSAhPT0gaXopIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMubWF5YmVCbG9ja1N1ZmZpeChndWFyZGVkSGFuZGxlcnNbaV0uYm9keSwgcmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIG5ldyBpbnRlcmZhY2VcbiAgICAgICAgICAgICAgICBpZiAoc3RtdC5oYW5kbGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHN0bXQuaGFuZGxlcikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDAsIGl6ID0gc3RtdC5oYW5kbGVyLmxlbmd0aDsgaSA8IGl6OyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBqb2luKHJlc3VsdCwgdGhpcy5nZW5lcmF0ZVN0YXRlbWVudChzdG10LmhhbmRsZXJbaV0sIFNfVEZGRikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdG10LmZpbmFsaXplciB8fCBpICsgMSAhPT0gaXopIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5tYXliZUJsb2NrU3VmZml4KHN0bXQuaGFuZGxlcltpXS5ib2R5LCByZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IGpvaW4ocmVzdWx0LCB0aGlzLmdlbmVyYXRlU3RhdGVtZW50KHN0bXQuaGFuZGxlciwgU19URkZGKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RtdC5maW5hbGl6ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSB0aGlzLm1heWJlQmxvY2tTdWZmaXgoc3RtdC5oYW5kbGVyLmJvZHksIHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc3RtdC5maW5hbGl6ZXIpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBqb2luKHJlc3VsdCwgWydmaW5hbGx5JywgdGhpcy5tYXliZUJsb2NrKHN0bXQuZmluYWxpemVyLCBTX1RGRkYpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9LFxuXG4gICAgICAgIFN3aXRjaFN0YXRlbWVudDogZnVuY3Rpb24gKHN0bXQsIGZsYWdzKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0LCBmcmFnbWVudCwgaSwgaXosIGJvZHlGbGFncywgdGhhdCA9IHRoaXM7XG4gICAgICAgICAgICB3aXRoSW5kZW50KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBbXG4gICAgICAgICAgICAgICAgICAgICdzd2l0Y2gnICsgc3BhY2UgKyAnKCcsXG4gICAgICAgICAgICAgICAgICAgIHRoYXQuZ2VuZXJhdGVFeHByZXNzaW9uKHN0bXQuZGlzY3JpbWluYW50LCBQcmVjZWRlbmNlLlNlcXVlbmNlLCBFX1RUVCksXG4gICAgICAgICAgICAgICAgICAgICcpJyArIHNwYWNlICsgJ3snICsgbmV3bGluZVxuICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChzdG10LmNhc2VzKSB7XG4gICAgICAgICAgICAgICAgYm9keUZsYWdzID0gU19URkZGO1xuICAgICAgICAgICAgICAgIGZvciAoaSA9IDAsIGl6ID0gc3RtdC5jYXNlcy5sZW5ndGg7IGkgPCBpejsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpID09PSBpeiAtIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvZHlGbGFncyB8PSBGX1NFTUlDT0xPTl9PUFQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZnJhZ21lbnQgPSBhZGRJbmRlbnQodGhpcy5nZW5lcmF0ZVN0YXRlbWVudChzdG10LmNhc2VzW2ldLCBib2R5RmxhZ3MpKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goZnJhZ21lbnQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWVuZHNXaXRoTGluZVRlcm1pbmF0b3IodG9Tb3VyY2VOb2RlV2hlbk5lZWRlZChmcmFnbWVudCkudG9TdHJpbmcoKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG5ld2xpbmUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzdWx0LnB1c2goYWRkSW5kZW50KCd9JykpO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfSxcblxuICAgICAgICBTd2l0Y2hDYXNlOiBmdW5jdGlvbiAoc3RtdCwgZmxhZ3MpIHtcbiAgICAgICAgICAgIHZhciByZXN1bHQsIGZyYWdtZW50LCBpLCBpeiwgYm9keUZsYWdzLCB0aGF0ID0gdGhpcztcbiAgICAgICAgICAgIHdpdGhJbmRlbnQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmIChzdG10LnRlc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gW1xuICAgICAgICAgICAgICAgICAgICAgICAgam9pbignY2FzZScsIHRoYXQuZ2VuZXJhdGVFeHByZXNzaW9uKHN0bXQudGVzdCwgUHJlY2VkZW5jZS5TZXF1ZW5jZSwgRV9UVFQpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICc6J1xuICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IFsnZGVmYXVsdDonXTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpID0gMDtcbiAgICAgICAgICAgICAgICBpeiA9IHN0bXQuY29uc2VxdWVudC5sZW5ndGg7XG4gICAgICAgICAgICAgICAgaWYgKGl6ICYmIHN0bXQuY29uc2VxdWVudFswXS50eXBlID09PSBTeW50YXguQmxvY2tTdGF0ZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgZnJhZ21lbnQgPSB0aGF0Lm1heWJlQmxvY2soc3RtdC5jb25zZXF1ZW50WzBdLCBTX1RGRkYpO1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChmcmFnbWVudCk7XG4gICAgICAgICAgICAgICAgICAgIGkgPSAxO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChpICE9PSBpeiAmJiAhZW5kc1dpdGhMaW5lVGVybWluYXRvcih0b1NvdXJjZU5vZGVXaGVuTmVlZGVkKHJlc3VsdCkudG9TdHJpbmcoKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gobmV3bGluZSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgYm9keUZsYWdzID0gU19URkZGO1xuICAgICAgICAgICAgICAgIGZvciAoOyBpIDwgaXo7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PT0gaXogLSAxICYmIGZsYWdzICYgRl9TRU1JQ09MT05fT1BUKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBib2R5RmxhZ3MgfD0gRl9TRU1JQ09MT05fT1BUO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGZyYWdtZW50ID0gYWRkSW5kZW50KHRoYXQuZ2VuZXJhdGVTdGF0ZW1lbnQoc3RtdC5jb25zZXF1ZW50W2ldLCBib2R5RmxhZ3MpKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goZnJhZ21lbnQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaSArIDEgIT09IGl6ICYmICFlbmRzV2l0aExpbmVUZXJtaW5hdG9yKHRvU291cmNlTm9kZVdoZW5OZWVkZWQoZnJhZ21lbnQpLnRvU3RyaW5nKCkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChuZXdsaW5lKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfSxcblxuICAgICAgICBJZlN0YXRlbWVudDogZnVuY3Rpb24gKHN0bXQsIGZsYWdzKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0LCBib2R5RmxhZ3MsIHNlbWljb2xvbk9wdGlvbmFsLCB0aGF0ID0gdGhpcztcbiAgICAgICAgICAgIHdpdGhJbmRlbnQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IFtcbiAgICAgICAgICAgICAgICAgICAgJ2lmJyArIHNwYWNlICsgJygnLFxuICAgICAgICAgICAgICAgICAgICB0aGF0LmdlbmVyYXRlRXhwcmVzc2lvbihzdG10LnRlc3QsIFByZWNlZGVuY2UuU2VxdWVuY2UsIEVfVFRUKSxcbiAgICAgICAgICAgICAgICAgICAgJyknXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgc2VtaWNvbG9uT3B0aW9uYWwgPSBmbGFncyAmIEZfU0VNSUNPTE9OX09QVDtcbiAgICAgICAgICAgIGJvZHlGbGFncyA9IFNfVEZGRjtcbiAgICAgICAgICAgIGlmIChzZW1pY29sb25PcHRpb25hbCkge1xuICAgICAgICAgICAgICAgIGJvZHlGbGFncyB8PSBGX1NFTUlDT0xPTl9PUFQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc3RtdC5hbHRlcm5hdGUpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh0aGlzLm1heWJlQmxvY2soc3RtdC5jb25zZXF1ZW50LCBTX1RGRkYpKTtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSB0aGlzLm1heWJlQmxvY2tTdWZmaXgoc3RtdC5jb25zZXF1ZW50LCByZXN1bHQpO1xuICAgICAgICAgICAgICAgIGlmIChzdG10LmFsdGVybmF0ZS50eXBlID09PSBTeW50YXguSWZTdGF0ZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gam9pbihyZXN1bHQsIFsnZWxzZSAnLCB0aGlzLmdlbmVyYXRlU3RhdGVtZW50KHN0bXQuYWx0ZXJuYXRlLCBib2R5RmxhZ3MpXSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gam9pbihyZXN1bHQsIGpvaW4oJ2Vsc2UnLCB0aGlzLm1heWJlQmxvY2soc3RtdC5hbHRlcm5hdGUsIGJvZHlGbGFncykpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHRoaXMubWF5YmVCbG9jayhzdG10LmNvbnNlcXVlbnQsIGJvZHlGbGFncykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfSxcblxuICAgICAgICBGb3JTdGF0ZW1lbnQ6IGZ1bmN0aW9uIChzdG10LCBmbGFncykge1xuICAgICAgICAgICAgdmFyIHJlc3VsdCwgdGhhdCA9IHRoaXM7XG4gICAgICAgICAgICB3aXRoSW5kZW50KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBbJ2ZvcicgKyBzcGFjZSArICcoJ107XG4gICAgICAgICAgICAgICAgaWYgKHN0bXQuaW5pdCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3RtdC5pbml0LnR5cGUgPT09IFN5bnRheC5WYXJpYWJsZURlY2xhcmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh0aGF0LmdlbmVyYXRlU3RhdGVtZW50KHN0bXQuaW5pdCwgU19GRkZGKSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBGX0FMTE9XX0lOIGJlY29tZXMgZmFsc2UuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh0aGF0LmdlbmVyYXRlRXhwcmVzc2lvbihzdG10LmluaXQsIFByZWNlZGVuY2UuU2VxdWVuY2UsIEVfRlRUKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCgnOycpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goJzsnKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoc3RtdC50ZXN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHNwYWNlKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2godGhhdC5nZW5lcmF0ZUV4cHJlc3Npb24oc3RtdC50ZXN0LCBQcmVjZWRlbmNlLlNlcXVlbmNlLCBFX1RUVCkpO1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCgnOycpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKCc7Jyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHN0bXQudXBkYXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHNwYWNlKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2godGhhdC5nZW5lcmF0ZUV4cHJlc3Npb24oc3RtdC51cGRhdGUsIFByZWNlZGVuY2UuU2VxdWVuY2UsIEVfVFRUKSk7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKCcpJyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goJyknKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcmVzdWx0LnB1c2godGhpcy5tYXliZUJsb2NrKHN0bXQuYm9keSwgZmxhZ3MgJiBGX1NFTUlDT0xPTl9PUFQgPyBTX1RGRlQgOiBTX1RGRkYpKTtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH0sXG5cbiAgICAgICAgRm9ySW5TdGF0ZW1lbnQ6IGZ1bmN0aW9uIChzdG10LCBmbGFncykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2VuZXJhdGVJdGVyYXRpb25Gb3JTdGF0ZW1lbnQoJ2luJywgc3RtdCwgZmxhZ3MgJiBGX1NFTUlDT0xPTl9PUFQgPyBTX1RGRlQgOiBTX1RGRkYpO1xuICAgICAgICB9LFxuXG4gICAgICAgIEZvck9mU3RhdGVtZW50OiBmdW5jdGlvbiAoc3RtdCwgZmxhZ3MpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdlbmVyYXRlSXRlcmF0aW9uRm9yU3RhdGVtZW50KCdvZicsIHN0bXQsIGZsYWdzICYgRl9TRU1JQ09MT05fT1BUID8gU19URkZUIDogU19URkZGKTtcbiAgICAgICAgfSxcblxuICAgICAgICBMYWJlbGVkU3RhdGVtZW50OiBmdW5jdGlvbiAoc3RtdCwgZmxhZ3MpIHtcbiAgICAgICAgICAgIHJldHVybiBbc3RtdC5sYWJlbC5uYW1lICsgJzonLCB0aGlzLm1heWJlQmxvY2soc3RtdC5ib2R5LCBmbGFncyAmIEZfU0VNSUNPTE9OX09QVCA/IFNfVEZGVCA6IFNfVEZGRildO1xuICAgICAgICB9LFxuXG4gICAgICAgIFByb2dyYW06IGZ1bmN0aW9uIChzdG10LCBmbGFncykge1xuICAgICAgICAgICAgdmFyIHJlc3VsdCwgZnJhZ21lbnQsIGksIGl6LCBib2R5RmxhZ3M7XG4gICAgICAgICAgICBpeiA9IHN0bXQuYm9keS5sZW5ndGg7XG4gICAgICAgICAgICByZXN1bHQgPSBbc2FmZUNvbmNhdGVuYXRpb24gJiYgaXogPiAwID8gJ1xcbicgOiAnJ107XG4gICAgICAgICAgICBib2R5RmxhZ3MgPSBTX1RGVEY7XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgaXo7ICsraSkge1xuICAgICAgICAgICAgICAgIGlmICghc2FmZUNvbmNhdGVuYXRpb24gJiYgaSA9PT0gaXogLSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGJvZHlGbGFncyB8PSBGX1NFTUlDT0xPTl9PUFQ7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHByZXNlcnZlQmxhbmtMaW5lcykge1xuICAgICAgICAgICAgICAgICAgICAvLyBoYW5kbGUgc3BhY2VzIGJlZm9yZSB0aGUgZmlyc3QgbGluZVxuICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzdG10LmJvZHlbMF0ubGVhZGluZ0NvbW1lbnRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2VuZXJhdGVCbGFua0xpbmVzKHN0bXQucmFuZ2VbMF0sIHN0bXQuYm9keVtpXS5yYW5nZVswXSwgcmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIGhhbmRsZSBzcGFjZXMgYmV0d2VlbiBsaW5lc1xuICAgICAgICAgICAgICAgICAgICBpZiAoaSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc3RtdC5ib2R5W2kgLSAxXS50cmFpbGluZ0NvbW1lbnRzICYmICFzdG10LmJvZHlbaV0ubGVhZGluZ0NvbW1lbnRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2VuZXJhdGVCbGFua0xpbmVzKHN0bXQuYm9keVtpIC0gMV0ucmFuZ2VbMV0sIHN0bXQuYm9keVtpXS5yYW5nZVswXSwgcmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGZyYWdtZW50ID0gYWRkSW5kZW50KHRoaXMuZ2VuZXJhdGVTdGF0ZW1lbnQoc3RtdC5ib2R5W2ldLCBib2R5RmxhZ3MpKTtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChmcmFnbWVudCk7XG4gICAgICAgICAgICAgICAgaWYgKGkgKyAxIDwgaXogJiYgIWVuZHNXaXRoTGluZVRlcm1pbmF0b3IodG9Tb3VyY2VOb2RlV2hlbk5lZWRlZChmcmFnbWVudCkudG9TdHJpbmcoKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByZXNlcnZlQmxhbmtMaW5lcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzdG10LmJvZHlbaSArIDFdLmxlYWRpbmdDb21tZW50cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG5ld2xpbmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gobmV3bGluZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAocHJlc2VydmVCbGFua0xpbmVzKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGhhbmRsZSBzcGFjZXMgYWZ0ZXIgdGhlIGxhc3QgbGluZVxuICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PT0gaXogLSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXN0bXQuYm9keVtpXS50cmFpbGluZ0NvbW1lbnRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2VuZXJhdGVCbGFua0xpbmVzKHN0bXQuYm9keVtpXS5yYW5nZVsxXSwgc3RtdC5yYW5nZVsxXSwgcmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH0sXG5cbiAgICAgICAgRnVuY3Rpb25EZWNsYXJhdGlvbjogZnVuY3Rpb24gKHN0bXQsIGZsYWdzKSB7XG4gICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgIGdlbmVyYXRlQXN5bmNQcmVmaXgoc3RtdCwgdHJ1ZSksXG4gICAgICAgICAgICAgICAgJ2Z1bmN0aW9uJyxcbiAgICAgICAgICAgICAgICBnZW5lcmF0ZVN0YXJTdWZmaXgoc3RtdCkgfHwgbm9FbXB0eVNwYWNlKCksXG4gICAgICAgICAgICAgICAgc3RtdC5pZCA/IGdlbmVyYXRlSWRlbnRpZmllcihzdG10LmlkKSA6ICcnLFxuICAgICAgICAgICAgICAgIHRoaXMuZ2VuZXJhdGVGdW5jdGlvbkJvZHkoc3RtdClcbiAgICAgICAgICAgIF07XG4gICAgICAgIH0sXG5cbiAgICAgICAgUmV0dXJuU3RhdGVtZW50OiBmdW5jdGlvbiAoc3RtdCwgZmxhZ3MpIHtcbiAgICAgICAgICAgIGlmIChzdG10LmFyZ3VtZW50KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtqb2luKFxuICAgICAgICAgICAgICAgICAgICAncmV0dXJuJyxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZW5lcmF0ZUV4cHJlc3Npb24oc3RtdC5hcmd1bWVudCwgUHJlY2VkZW5jZS5TZXF1ZW5jZSwgRV9UVFQpXG4gICAgICAgICAgICAgICAgKSwgdGhpcy5zZW1pY29sb24oZmxhZ3MpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBbJ3JldHVybicgKyB0aGlzLnNlbWljb2xvbihmbGFncyldO1xuICAgICAgICB9LFxuXG4gICAgICAgIFdoaWxlU3RhdGVtZW50OiBmdW5jdGlvbiAoc3RtdCwgZmxhZ3MpIHtcbiAgICAgICAgICAgIHZhciByZXN1bHQsIHRoYXQgPSB0aGlzO1xuICAgICAgICAgICAgd2l0aEluZGVudChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gW1xuICAgICAgICAgICAgICAgICAgICAnd2hpbGUnICsgc3BhY2UgKyAnKCcsXG4gICAgICAgICAgICAgICAgICAgIHRoYXQuZ2VuZXJhdGVFeHByZXNzaW9uKHN0bXQudGVzdCwgUHJlY2VkZW5jZS5TZXF1ZW5jZSwgRV9UVFQpLFxuICAgICAgICAgICAgICAgICAgICAnKSdcbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXN1bHQucHVzaCh0aGlzLm1heWJlQmxvY2soc3RtdC5ib2R5LCBmbGFncyAmIEZfU0VNSUNPTE9OX09QVCA/IFNfVEZGVCA6IFNfVEZGRikpO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfSxcblxuICAgICAgICBXaXRoU3RhdGVtZW50OiBmdW5jdGlvbiAoc3RtdCwgZmxhZ3MpIHtcbiAgICAgICAgICAgIHZhciByZXN1bHQsIHRoYXQgPSB0aGlzO1xuICAgICAgICAgICAgd2l0aEluZGVudChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gW1xuICAgICAgICAgICAgICAgICAgICAnd2l0aCcgKyBzcGFjZSArICcoJyxcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5nZW5lcmF0ZUV4cHJlc3Npb24oc3RtdC5vYmplY3QsIFByZWNlZGVuY2UuU2VxdWVuY2UsIEVfVFRUKSxcbiAgICAgICAgICAgICAgICAgICAgJyknXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmVzdWx0LnB1c2godGhpcy5tYXliZUJsb2NrKHN0bXQuYm9keSwgZmxhZ3MgJiBGX1NFTUlDT0xPTl9PUFQgPyBTX1RGRlQgOiBTX1RGRkYpKTtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cblxuICAgIH07XG5cbiAgICBtZXJnZShDb2RlR2VuZXJhdG9yLnByb3RvdHlwZSwgQ29kZUdlbmVyYXRvci5TdGF0ZW1lbnQpO1xuXG4gICAgLy8gRXhwcmVzc2lvbnMuXG5cbiAgICBDb2RlR2VuZXJhdG9yLkV4cHJlc3Npb24gPSB7XG5cbiAgICAgICAgU2VxdWVuY2VFeHByZXNzaW9uOiBmdW5jdGlvbiAoZXhwciwgcHJlY2VkZW5jZSwgZmxhZ3MpIHtcbiAgICAgICAgICAgIHZhciByZXN1bHQsIGksIGl6O1xuICAgICAgICAgICAgaWYgKFByZWNlZGVuY2UuU2VxdWVuY2UgPCBwcmVjZWRlbmNlKSB7XG4gICAgICAgICAgICAgICAgZmxhZ3MgfD0gRl9BTExPV19JTjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc3VsdCA9IFtdO1xuICAgICAgICAgICAgZm9yIChpID0gMCwgaXogPSBleHByLmV4cHJlc3Npb25zLmxlbmd0aDsgaSA8IGl6OyArK2kpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh0aGlzLmdlbmVyYXRlRXhwcmVzc2lvbihleHByLmV4cHJlc3Npb25zW2ldLCBQcmVjZWRlbmNlLkFzc2lnbm1lbnQsIGZsYWdzKSk7XG4gICAgICAgICAgICAgICAgaWYgKGkgKyAxIDwgaXopIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goJywnICsgc3BhY2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBwYXJlbnRoZXNpemUocmVzdWx0LCBQcmVjZWRlbmNlLlNlcXVlbmNlLCBwcmVjZWRlbmNlKTtcbiAgICAgICAgfSxcblxuICAgICAgICBBc3NpZ25tZW50RXhwcmVzc2lvbjogZnVuY3Rpb24gKGV4cHIsIHByZWNlZGVuY2UsIGZsYWdzKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZW5lcmF0ZUFzc2lnbm1lbnQoZXhwci5sZWZ0LCBleHByLnJpZ2h0LCBleHByLm9wZXJhdG9yLCBwcmVjZWRlbmNlLCBmbGFncyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgQXJyb3dGdW5jdGlvbkV4cHJlc3Npb246IGZ1bmN0aW9uIChleHByLCBwcmVjZWRlbmNlLCBmbGFncykge1xuICAgICAgICAgICAgcmV0dXJuIHBhcmVudGhlc2l6ZSh0aGlzLmdlbmVyYXRlRnVuY3Rpb25Cb2R5KGV4cHIpLCBQcmVjZWRlbmNlLkFycm93RnVuY3Rpb24sIHByZWNlZGVuY2UpO1xuICAgICAgICB9LFxuXG4gICAgICAgIENvbmRpdGlvbmFsRXhwcmVzc2lvbjogZnVuY3Rpb24gKGV4cHIsIHByZWNlZGVuY2UsIGZsYWdzKSB7XG4gICAgICAgICAgICBpZiAoUHJlY2VkZW5jZS5Db25kaXRpb25hbCA8IHByZWNlZGVuY2UpIHtcbiAgICAgICAgICAgICAgICBmbGFncyB8PSBGX0FMTE9XX0lOO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHBhcmVudGhlc2l6ZShcbiAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2VuZXJhdGVFeHByZXNzaW9uKGV4cHIudGVzdCwgUHJlY2VkZW5jZS5Mb2dpY2FsT1IsIGZsYWdzKSxcbiAgICAgICAgICAgICAgICAgICAgc3BhY2UgKyAnPycgKyBzcGFjZSxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZW5lcmF0ZUV4cHJlc3Npb24oZXhwci5jb25zZXF1ZW50LCBQcmVjZWRlbmNlLkFzc2lnbm1lbnQsIGZsYWdzKSxcbiAgICAgICAgICAgICAgICAgICAgc3BhY2UgKyAnOicgKyBzcGFjZSxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZW5lcmF0ZUV4cHJlc3Npb24oZXhwci5hbHRlcm5hdGUsIFByZWNlZGVuY2UuQXNzaWdubWVudCwgZmxhZ3MpXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICBQcmVjZWRlbmNlLkNvbmRpdGlvbmFsLFxuICAgICAgICAgICAgICAgIHByZWNlZGVuY2VcbiAgICAgICAgICAgICk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgTG9naWNhbEV4cHJlc3Npb246IGZ1bmN0aW9uIChleHByLCBwcmVjZWRlbmNlLCBmbGFncykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuQmluYXJ5RXhwcmVzc2lvbihleHByLCBwcmVjZWRlbmNlLCBmbGFncyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgQmluYXJ5RXhwcmVzc2lvbjogZnVuY3Rpb24gKGV4cHIsIHByZWNlZGVuY2UsIGZsYWdzKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0LCBsZWZ0UHJlY2VkZW5jZSwgcmlnaHRQcmVjZWRlbmNlLCBjdXJyZW50UHJlY2VkZW5jZSwgZnJhZ21lbnQsIGxlZnRTb3VyY2U7XG4gICAgICAgICAgICBjdXJyZW50UHJlY2VkZW5jZSA9IEJpbmFyeVByZWNlZGVuY2VbZXhwci5vcGVyYXRvcl07XG4gICAgICAgICAgICBsZWZ0UHJlY2VkZW5jZSA9IGV4cHIub3BlcmF0b3IgPT09ICcqKicgPyBQcmVjZWRlbmNlLlBvc3RmaXggOiBjdXJyZW50UHJlY2VkZW5jZTtcbiAgICAgICAgICAgIHJpZ2h0UHJlY2VkZW5jZSA9IGV4cHIub3BlcmF0b3IgPT09ICcqKicgPyBjdXJyZW50UHJlY2VkZW5jZSA6IGN1cnJlbnRQcmVjZWRlbmNlICsgMTtcblxuICAgICAgICAgICAgaWYgKGN1cnJlbnRQcmVjZWRlbmNlIDwgcHJlY2VkZW5jZSkge1xuICAgICAgICAgICAgICAgIGZsYWdzIHw9IEZfQUxMT1dfSU47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZyYWdtZW50ID0gdGhpcy5nZW5lcmF0ZUV4cHJlc3Npb24oZXhwci5sZWZ0LCBsZWZ0UHJlY2VkZW5jZSwgZmxhZ3MpO1xuXG4gICAgICAgICAgICBsZWZ0U291cmNlID0gZnJhZ21lbnQudG9TdHJpbmcoKTtcblxuICAgICAgICAgICAgaWYgKGxlZnRTb3VyY2UuY2hhckNvZGVBdChsZWZ0U291cmNlLmxlbmd0aCAtIDEpID09PSAweDJGIC8qIC8gKi8gJiYgZXN1dGlscy5jb2RlLmlzSWRlbnRpZmllclBhcnRFUzUoZXhwci5vcGVyYXRvci5jaGFyQ29kZUF0KDApKSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IFtmcmFnbWVudCwgbm9FbXB0eVNwYWNlKCksIGV4cHIub3BlcmF0b3JdO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBqb2luKGZyYWdtZW50LCBleHByLm9wZXJhdG9yKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnJhZ21lbnQgPSB0aGlzLmdlbmVyYXRlRXhwcmVzc2lvbihleHByLnJpZ2h0LCByaWdodFByZWNlZGVuY2UsIGZsYWdzKTtcblxuICAgICAgICAgICAgaWYgKGV4cHIub3BlcmF0b3IgPT09ICcvJyAmJiBmcmFnbWVudC50b1N0cmluZygpLmNoYXJBdCgwKSA9PT0gJy8nIHx8XG4gICAgICAgICAgICBleHByLm9wZXJhdG9yLnNsaWNlKC0xKSA9PT0gJzwnICYmIGZyYWdtZW50LnRvU3RyaW5nKCkuc2xpY2UoMCwgMykgPT09ICchLS0nKSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgJy8nIGNvbmNhdHMgd2l0aCAnLycgb3IgYDxgIGNvbmNhdHMgd2l0aCBgIS0tYCwgaXQgaXMgaW50ZXJwcmV0ZWQgYXMgY29tbWVudCBzdGFydFxuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG5vRW1wdHlTcGFjZSgpKTtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChmcmFnbWVudCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IGpvaW4ocmVzdWx0LCBmcmFnbWVudCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChleHByLm9wZXJhdG9yID09PSAnaW4nICYmICEoZmxhZ3MgJiBGX0FMTE9XX0lOKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBbJygnLCByZXN1bHQsICcpJ107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcGFyZW50aGVzaXplKHJlc3VsdCwgY3VycmVudFByZWNlZGVuY2UsIHByZWNlZGVuY2UpO1xuICAgICAgICB9LFxuXG4gICAgICAgIENhbGxFeHByZXNzaW9uOiBmdW5jdGlvbiAoZXhwciwgcHJlY2VkZW5jZSwgZmxhZ3MpIHtcbiAgICAgICAgICAgIHZhciByZXN1bHQsIGksIGl6O1xuICAgICAgICAgICAgLy8gRl9BTExPV19VTlBBUkFUSF9ORVcgYmVjb21lcyBmYWxzZS5cbiAgICAgICAgICAgIHJlc3VsdCA9IFt0aGlzLmdlbmVyYXRlRXhwcmVzc2lvbihleHByLmNhbGxlZSwgUHJlY2VkZW5jZS5DYWxsLCBFX1RURildO1xuICAgICAgICAgICAgcmVzdWx0LnB1c2goJygnKTtcbiAgICAgICAgICAgIGZvciAoaSA9IDAsIGl6ID0gZXhwclsnYXJndW1lbnRzJ10ubGVuZ3RoOyBpIDwgaXo7ICsraSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHRoaXMuZ2VuZXJhdGVFeHByZXNzaW9uKGV4cHJbJ2FyZ3VtZW50cyddW2ldLCBQcmVjZWRlbmNlLkFzc2lnbm1lbnQsIEVfVFRUKSk7XG4gICAgICAgICAgICAgICAgaWYgKGkgKyAxIDwgaXopIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goJywnICsgc3BhY2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKCcpJyk7XG5cbiAgICAgICAgICAgIGlmICghKGZsYWdzICYgRl9BTExPV19DQUxMKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBbJygnLCByZXN1bHQsICcpJ107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcGFyZW50aGVzaXplKHJlc3VsdCwgUHJlY2VkZW5jZS5DYWxsLCBwcmVjZWRlbmNlKTtcbiAgICAgICAgfSxcblxuICAgICAgICBOZXdFeHByZXNzaW9uOiBmdW5jdGlvbiAoZXhwciwgcHJlY2VkZW5jZSwgZmxhZ3MpIHtcbiAgICAgICAgICAgIHZhciByZXN1bHQsIGxlbmd0aCwgaSwgaXosIGl0ZW1GbGFncztcbiAgICAgICAgICAgIGxlbmd0aCA9IGV4cHJbJ2FyZ3VtZW50cyddLmxlbmd0aDtcblxuICAgICAgICAgICAgLy8gRl9BTExPV19DQUxMIGJlY29tZXMgZmFsc2UuXG4gICAgICAgICAgICAvLyBGX0FMTE9XX1VOUEFSQVRIX05FVyBtYXkgYmVjb21lIGZhbHNlLlxuICAgICAgICAgICAgaXRlbUZsYWdzID0gKGZsYWdzICYgRl9BTExPV19VTlBBUkFUSF9ORVcgJiYgIXBhcmVudGhlc2VzICYmIGxlbmd0aCA9PT0gMCkgPyBFX1RGVCA6IEVfVEZGO1xuXG4gICAgICAgICAgICByZXN1bHQgPSBqb2luKFxuICAgICAgICAgICAgICAgICduZXcnLFxuICAgICAgICAgICAgICAgIHRoaXMuZ2VuZXJhdGVFeHByZXNzaW9uKGV4cHIuY2FsbGVlLCBQcmVjZWRlbmNlLk5ldywgaXRlbUZsYWdzKVxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgaWYgKCEoZmxhZ3MgJiBGX0FMTE9XX1VOUEFSQVRIX05FVykgfHwgcGFyZW50aGVzZXMgfHwgbGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKCcoJyk7XG4gICAgICAgICAgICAgICAgZm9yIChpID0gMCwgaXogPSBsZW5ndGg7IGkgPCBpejsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHRoaXMuZ2VuZXJhdGVFeHByZXNzaW9uKGV4cHJbJ2FyZ3VtZW50cyddW2ldLCBQcmVjZWRlbmNlLkFzc2lnbm1lbnQsIEVfVFRUKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpICsgMSA8IGl6KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCgnLCcgKyBzcGFjZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goJyknKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHBhcmVudGhlc2l6ZShyZXN1bHQsIFByZWNlZGVuY2UuTmV3LCBwcmVjZWRlbmNlKTtcbiAgICAgICAgfSxcblxuICAgICAgICBNZW1iZXJFeHByZXNzaW9uOiBmdW5jdGlvbiAoZXhwciwgcHJlY2VkZW5jZSwgZmxhZ3MpIHtcbiAgICAgICAgICAgIHZhciByZXN1bHQsIGZyYWdtZW50O1xuXG4gICAgICAgICAgICAvLyBGX0FMTE9XX1VOUEFSQVRIX05FVyBiZWNvbWVzIGZhbHNlLlxuICAgICAgICAgICAgcmVzdWx0ID0gW3RoaXMuZ2VuZXJhdGVFeHByZXNzaW9uKGV4cHIub2JqZWN0LCBQcmVjZWRlbmNlLkNhbGwsIChmbGFncyAmIEZfQUxMT1dfQ0FMTCkgPyBFX1RURiA6IEVfVEZGKV07XG5cbiAgICAgICAgICAgIGlmIChleHByLmNvbXB1dGVkKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goJ1snKTtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh0aGlzLmdlbmVyYXRlRXhwcmVzc2lvbihleHByLnByb3BlcnR5LCBQcmVjZWRlbmNlLlNlcXVlbmNlLCBmbGFncyAmIEZfQUxMT1dfQ0FMTCA/IEVfVFRUIDogRV9URlQpKTtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaCgnXScpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoZXhwci5vYmplY3QudHlwZSA9PT0gU3ludGF4LkxpdGVyYWwgJiYgdHlwZW9mIGV4cHIub2JqZWN0LnZhbHVlID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgICAgICBmcmFnbWVudCA9IHRvU291cmNlTm9kZVdoZW5OZWVkZWQocmVzdWx0KS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICAvLyBXaGVuIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBhcmUgYWxsIHRydWUsXG4gICAgICAgICAgICAgICAgICAgIC8vICAgMS4gTm8gZmxvYXRpbmcgcG9pbnRcbiAgICAgICAgICAgICAgICAgICAgLy8gICAyLiBEb24ndCBoYXZlIGV4cG9uZW50c1xuICAgICAgICAgICAgICAgICAgICAvLyAgIDMuIFRoZSBsYXN0IGNoYXJhY3RlciBpcyBhIGRlY2ltYWwgZGlnaXRcbiAgICAgICAgICAgICAgICAgICAgLy8gICA0LiBOb3QgaGV4YWRlY2ltYWwgT1Igb2N0YWwgbnVtYmVyIGxpdGVyYWxcbiAgICAgICAgICAgICAgICAgICAgLy8gd2Ugc2hvdWxkIGFkZCBhIGZsb2F0aW5nIHBvaW50LlxuICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJhZ21lbnQuaW5kZXhPZignLicpIDwgMCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICEvW2VFeFhdLy50ZXN0KGZyYWdtZW50KSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVzdXRpbHMuY29kZS5pc0RlY2ltYWxEaWdpdChmcmFnbWVudC5jaGFyQ29kZUF0KGZyYWdtZW50Lmxlbmd0aCAtIDEpKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICEoZnJhZ21lbnQubGVuZ3RoID49IDIgJiYgZnJhZ21lbnQuY2hhckNvZGVBdCgwKSA9PT0gNDgpICAvLyAnMCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKCcgJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goJy4nKTtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChnZW5lcmF0ZUlkZW50aWZpZXIoZXhwci5wcm9wZXJ0eSkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gcGFyZW50aGVzaXplKHJlc3VsdCwgUHJlY2VkZW5jZS5NZW1iZXIsIHByZWNlZGVuY2UpO1xuICAgICAgICB9LFxuXG4gICAgICAgIE1ldGFQcm9wZXJ0eTogZnVuY3Rpb24gKGV4cHIsIHByZWNlZGVuY2UsIGZsYWdzKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0O1xuICAgICAgICAgICAgcmVzdWx0ID0gW107XG4gICAgICAgICAgICByZXN1bHQucHVzaCh0eXBlb2YgZXhwci5tZXRhID09PSBcInN0cmluZ1wiID8gZXhwci5tZXRhIDogZ2VuZXJhdGVJZGVudGlmaWVyKGV4cHIubWV0YSkpO1xuICAgICAgICAgICAgcmVzdWx0LnB1c2goJy4nKTtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKHR5cGVvZiBleHByLnByb3BlcnR5ID09PSBcInN0cmluZ1wiID8gZXhwci5wcm9wZXJ0eSA6IGdlbmVyYXRlSWRlbnRpZmllcihleHByLnByb3BlcnR5KSk7XG4gICAgICAgICAgICByZXR1cm4gcGFyZW50aGVzaXplKHJlc3VsdCwgUHJlY2VkZW5jZS5NZW1iZXIsIHByZWNlZGVuY2UpO1xuICAgICAgICB9LFxuXG4gICAgICAgIFVuYXJ5RXhwcmVzc2lvbjogZnVuY3Rpb24gKGV4cHIsIHByZWNlZGVuY2UsIGZsYWdzKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0LCBmcmFnbWVudCwgcmlnaHRDaGFyQ29kZSwgbGVmdFNvdXJjZSwgbGVmdENoYXJDb2RlO1xuICAgICAgICAgICAgZnJhZ21lbnQgPSB0aGlzLmdlbmVyYXRlRXhwcmVzc2lvbihleHByLmFyZ3VtZW50LCBQcmVjZWRlbmNlLlVuYXJ5LCBFX1RUVCk7XG5cbiAgICAgICAgICAgIGlmIChzcGFjZSA9PT0gJycpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBqb2luKGV4cHIub3BlcmF0b3IsIGZyYWdtZW50KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gW2V4cHIub3BlcmF0b3JdO1xuICAgICAgICAgICAgICAgIGlmIChleHByLm9wZXJhdG9yLmxlbmd0aCA+IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZGVsZXRlLCB2b2lkLCB0eXBlb2ZcbiAgICAgICAgICAgICAgICAgICAgLy8gZ2V0IGB0eXBlb2YgW11gLCBub3QgYHR5cGVvZltdYFxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBqb2luKHJlc3VsdCwgZnJhZ21lbnQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFByZXZlbnQgaW5zZXJ0aW5nIHNwYWNlcyBiZXR3ZWVuIG9wZXJhdG9yIGFuZCBhcmd1bWVudCBpZiBpdCBpcyB1bm5lY2Vzc2FyeVxuICAgICAgICAgICAgICAgICAgICAvLyBsaWtlLCBgIWNvbmRgXG4gICAgICAgICAgICAgICAgICAgIGxlZnRTb3VyY2UgPSB0b1NvdXJjZU5vZGVXaGVuTmVlZGVkKHJlc3VsdCkudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgbGVmdENoYXJDb2RlID0gbGVmdFNvdXJjZS5jaGFyQ29kZUF0KGxlZnRTb3VyY2UubGVuZ3RoIC0gMSk7XG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0Q2hhckNvZGUgPSBmcmFnbWVudC50b1N0cmluZygpLmNoYXJDb2RlQXQoMCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCgobGVmdENoYXJDb2RlID09PSAweDJCICAvKiArICovIHx8IGxlZnRDaGFyQ29kZSA9PT0gMHgyRCAgLyogLSAqLykgJiYgbGVmdENoYXJDb2RlID09PSByaWdodENoYXJDb2RlKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChlc3V0aWxzLmNvZGUuaXNJZGVudGlmaWVyUGFydEVTNShsZWZ0Q2hhckNvZGUpICYmIGVzdXRpbHMuY29kZS5pc0lkZW50aWZpZXJQYXJ0RVM1KHJpZ2h0Q2hhckNvZGUpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gobm9FbXB0eVNwYWNlKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goZnJhZ21lbnQpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goZnJhZ21lbnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHBhcmVudGhlc2l6ZShyZXN1bHQsIFByZWNlZGVuY2UuVW5hcnksIHByZWNlZGVuY2UpO1xuICAgICAgICB9LFxuXG4gICAgICAgIFlpZWxkRXhwcmVzc2lvbjogZnVuY3Rpb24gKGV4cHIsIHByZWNlZGVuY2UsIGZsYWdzKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0O1xuICAgICAgICAgICAgaWYgKGV4cHIuZGVsZWdhdGUpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSAneWllbGQqJztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gJ3lpZWxkJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChleHByLmFyZ3VtZW50KSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gam9pbihcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmdlbmVyYXRlRXhwcmVzc2lvbihleHByLmFyZ3VtZW50LCBQcmVjZWRlbmNlLllpZWxkLCBFX1RUVClcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHBhcmVudGhlc2l6ZShyZXN1bHQsIFByZWNlZGVuY2UuWWllbGQsIHByZWNlZGVuY2UpO1xuICAgICAgICB9LFxuXG4gICAgICAgIEF3YWl0RXhwcmVzc2lvbjogZnVuY3Rpb24gKGV4cHIsIHByZWNlZGVuY2UsIGZsYWdzKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gam9pbihcbiAgICAgICAgICAgICAgICBleHByLmFsbCA/ICdhd2FpdConIDogJ2F3YWl0JyxcbiAgICAgICAgICAgICAgICB0aGlzLmdlbmVyYXRlRXhwcmVzc2lvbihleHByLmFyZ3VtZW50LCBQcmVjZWRlbmNlLkF3YWl0LCBFX1RUVClcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICByZXR1cm4gcGFyZW50aGVzaXplKHJlc3VsdCwgUHJlY2VkZW5jZS5Bd2FpdCwgcHJlY2VkZW5jZSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgVXBkYXRlRXhwcmVzc2lvbjogZnVuY3Rpb24gKGV4cHIsIHByZWNlZGVuY2UsIGZsYWdzKSB7XG4gICAgICAgICAgICBpZiAoZXhwci5wcmVmaXgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyZW50aGVzaXplKFxuICAgICAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgICAgICBleHByLm9wZXJhdG9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nZW5lcmF0ZUV4cHJlc3Npb24oZXhwci5hcmd1bWVudCwgUHJlY2VkZW5jZS5VbmFyeSwgRV9UVFQpXG4gICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgIFByZWNlZGVuY2UuVW5hcnksXG4gICAgICAgICAgICAgICAgICAgIHByZWNlZGVuY2VcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHBhcmVudGhlc2l6ZShcbiAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2VuZXJhdGVFeHByZXNzaW9uKGV4cHIuYXJndW1lbnQsIFByZWNlZGVuY2UuUG9zdGZpeCwgRV9UVFQpLFxuICAgICAgICAgICAgICAgICAgICBleHByLm9wZXJhdG9yXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICBQcmVjZWRlbmNlLlBvc3RmaXgsXG4gICAgICAgICAgICAgICAgcHJlY2VkZW5jZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSxcblxuICAgICAgICBGdW5jdGlvbkV4cHJlc3Npb246IGZ1bmN0aW9uIChleHByLCBwcmVjZWRlbmNlLCBmbGFncykge1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFtcbiAgICAgICAgICAgICAgICBnZW5lcmF0ZUFzeW5jUHJlZml4KGV4cHIsIHRydWUpLFxuICAgICAgICAgICAgICAgICdmdW5jdGlvbidcbiAgICAgICAgICAgIF07XG4gICAgICAgICAgICBpZiAoZXhwci5pZCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGdlbmVyYXRlU3RhclN1ZmZpeChleHByKSB8fCBub0VtcHR5U3BhY2UoKSk7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goZ2VuZXJhdGVJZGVudGlmaWVyKGV4cHIuaWQpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goZ2VuZXJhdGVTdGFyU3VmZml4KGV4cHIpIHx8IHNwYWNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKHRoaXMuZ2VuZXJhdGVGdW5jdGlvbkJvZHkoZXhwcikpO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfSxcblxuICAgICAgICBBcnJheVBhdHRlcm46IGZ1bmN0aW9uIChleHByLCBwcmVjZWRlbmNlLCBmbGFncykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuQXJyYXlFeHByZXNzaW9uKGV4cHIsIHByZWNlZGVuY2UsIGZsYWdzLCB0cnVlKTtcbiAgICAgICAgfSxcblxuICAgICAgICBBcnJheUV4cHJlc3Npb246IGZ1bmN0aW9uIChleHByLCBwcmVjZWRlbmNlLCBmbGFncywgaXNQYXR0ZXJuKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0LCBtdWx0aWxpbmUsIHRoYXQgPSB0aGlzO1xuICAgICAgICAgICAgaWYgKCFleHByLmVsZW1lbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAnW10nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbXVsdGlsaW5lID0gaXNQYXR0ZXJuID8gZmFsc2UgOiBleHByLmVsZW1lbnRzLmxlbmd0aCA+IDE7XG4gICAgICAgICAgICByZXN1bHQgPSBbJ1snLCBtdWx0aWxpbmUgPyBuZXdsaW5lIDogJyddO1xuICAgICAgICAgICAgd2l0aEluZGVudChmdW5jdGlvbiAoaW5kZW50KSB7XG4gICAgICAgICAgICAgICAgdmFyIGksIGl6O1xuICAgICAgICAgICAgICAgIGZvciAoaSA9IDAsIGl6ID0gZXhwci5lbGVtZW50cy5sZW5ndGg7IGkgPCBpejsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghZXhwci5lbGVtZW50c1tpXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG11bHRpbGluZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGluZGVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSArIDEgPT09IGl6KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goJywnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG11bHRpbGluZSA/IGluZGVudCA6ICcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHRoYXQuZ2VuZXJhdGVFeHByZXNzaW9uKGV4cHIuZWxlbWVudHNbaV0sIFByZWNlZGVuY2UuQXNzaWdubWVudCwgRV9UVFQpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoaSArIDEgPCBpeikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goJywnICsgKG11bHRpbGluZSA/IG5ld2xpbmUgOiBzcGFjZSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAobXVsdGlsaW5lICYmICFlbmRzV2l0aExpbmVUZXJtaW5hdG9yKHRvU291cmNlTm9kZVdoZW5OZWVkZWQocmVzdWx0KS50b1N0cmluZygpKSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG5ld2xpbmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzdWx0LnB1c2gobXVsdGlsaW5lID8gYmFzZSA6ICcnKTtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKCddJyk7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9LFxuXG4gICAgICAgIFJlc3RFbGVtZW50OiBmdW5jdGlvbihleHByLCBwcmVjZWRlbmNlLCBmbGFncykge1xuICAgICAgICAgICAgcmV0dXJuICcuLi4nICsgdGhpcy5nZW5lcmF0ZVBhdHRlcm4oZXhwci5hcmd1bWVudCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgQ2xhc3NFeHByZXNzaW9uOiBmdW5jdGlvbiAoZXhwciwgcHJlY2VkZW5jZSwgZmxhZ3MpIHtcbiAgICAgICAgICAgIHZhciByZXN1bHQsIGZyYWdtZW50O1xuICAgICAgICAgICAgcmVzdWx0ID0gWydjbGFzcyddO1xuICAgICAgICAgICAgaWYgKGV4cHIuaWQpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBqb2luKHJlc3VsdCwgdGhpcy5nZW5lcmF0ZUV4cHJlc3Npb24oZXhwci5pZCwgUHJlY2VkZW5jZS5TZXF1ZW5jZSwgRV9UVFQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChleHByLnN1cGVyQ2xhc3MpIHtcbiAgICAgICAgICAgICAgICBmcmFnbWVudCA9IGpvaW4oJ2V4dGVuZHMnLCB0aGlzLmdlbmVyYXRlRXhwcmVzc2lvbihleHByLnN1cGVyQ2xhc3MsIFByZWNlZGVuY2UuVW5hcnksIEVfVFRUKSk7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gam9pbihyZXN1bHQsIGZyYWdtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKHNwYWNlKTtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKHRoaXMuZ2VuZXJhdGVTdGF0ZW1lbnQoZXhwci5ib2R5LCBTX1RGRlQpKTtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH0sXG5cbiAgICAgICAgTWV0aG9kRGVmaW5pdGlvbjogZnVuY3Rpb24gKGV4cHIsIHByZWNlZGVuY2UsIGZsYWdzKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0LCBmcmFnbWVudDtcbiAgICAgICAgICAgIGlmIChleHByWydzdGF0aWMnXSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IFsnc3RhdGljJyArIHNwYWNlXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZXhwci5raW5kID09PSAnZ2V0JyB8fCBleHByLmtpbmQgPT09ICdzZXQnKSB7XG4gICAgICAgICAgICAgICAgZnJhZ21lbnQgPSBbXG4gICAgICAgICAgICAgICAgICAgIGpvaW4oZXhwci5raW5kLCB0aGlzLmdlbmVyYXRlUHJvcGVydHlLZXkoZXhwci5rZXksIGV4cHIuY29tcHV0ZWQpKSxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZW5lcmF0ZUZ1bmN0aW9uQm9keShleHByLnZhbHVlKVxuICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZyYWdtZW50ID0gW1xuICAgICAgICAgICAgICAgICAgICBnZW5lcmF0ZU1ldGhvZFByZWZpeChleHByKSxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZW5lcmF0ZVByb3BlcnR5S2V5KGV4cHIua2V5LCBleHByLmNvbXB1dGVkKSxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZW5lcmF0ZUZ1bmN0aW9uQm9keShleHByLnZhbHVlKVxuICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gam9pbihyZXN1bHQsIGZyYWdtZW50KTtcbiAgICAgICAgfSxcblxuICAgICAgICBQcm9wZXJ0eTogZnVuY3Rpb24gKGV4cHIsIHByZWNlZGVuY2UsIGZsYWdzKSB7XG4gICAgICAgICAgICBpZiAoZXhwci5raW5kID09PSAnZ2V0JyB8fCBleHByLmtpbmQgPT09ICdzZXQnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgZXhwci5raW5kLCBub0VtcHR5U3BhY2UoKSxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZW5lcmF0ZVByb3BlcnR5S2V5KGV4cHIua2V5LCBleHByLmNvbXB1dGVkKSxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZW5lcmF0ZUZ1bmN0aW9uQm9keShleHByLnZhbHVlKVxuICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChleHByLnNob3J0aGFuZCkge1xuICAgICAgICAgICAgICAgIGlmIChleHByLnZhbHVlLnR5cGUgPT09IFwiQXNzaWdubWVudFBhdHRlcm5cIikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5Bc3NpZ25tZW50UGF0dGVybihleHByLnZhbHVlLCBQcmVjZWRlbmNlLlNlcXVlbmNlLCBFX1RUVCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdlbmVyYXRlUHJvcGVydHlLZXkoZXhwci5rZXksIGV4cHIuY29tcHV0ZWQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZXhwci5tZXRob2QpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICBnZW5lcmF0ZU1ldGhvZFByZWZpeChleHByKSxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZW5lcmF0ZVByb3BlcnR5S2V5KGV4cHIua2V5LCBleHByLmNvbXB1dGVkKSxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZW5lcmF0ZUZ1bmN0aW9uQm9keShleHByLnZhbHVlKVxuICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgdGhpcy5nZW5lcmF0ZVByb3BlcnR5S2V5KGV4cHIua2V5LCBleHByLmNvbXB1dGVkKSxcbiAgICAgICAgICAgICAgICAnOicgKyBzcGFjZSxcbiAgICAgICAgICAgICAgICB0aGlzLmdlbmVyYXRlRXhwcmVzc2lvbihleHByLnZhbHVlLCBQcmVjZWRlbmNlLkFzc2lnbm1lbnQsIEVfVFRUKVxuICAgICAgICAgICAgXTtcbiAgICAgICAgfSxcblxuICAgICAgICBPYmplY3RFeHByZXNzaW9uOiBmdW5jdGlvbiAoZXhwciwgcHJlY2VkZW5jZSwgZmxhZ3MpIHtcbiAgICAgICAgICAgIHZhciBtdWx0aWxpbmUsIHJlc3VsdCwgZnJhZ21lbnQsIHRoYXQgPSB0aGlzO1xuXG4gICAgICAgICAgICBpZiAoIWV4cHIucHJvcGVydGllcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3t9JztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG11bHRpbGluZSA9IGV4cHIucHJvcGVydGllcy5sZW5ndGggPiAxO1xuXG4gICAgICAgICAgICB3aXRoSW5kZW50KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBmcmFnbWVudCA9IHRoYXQuZ2VuZXJhdGVFeHByZXNzaW9uKGV4cHIucHJvcGVydGllc1swXSwgUHJlY2VkZW5jZS5TZXF1ZW5jZSwgRV9UVFQpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmICghbXVsdGlsaW5lKSB7XG4gICAgICAgICAgICAgICAgLy8gaXNzdWVzIDRcbiAgICAgICAgICAgICAgICAvLyBEbyBub3QgdHJhbnNmb3JtIGZyb21cbiAgICAgICAgICAgICAgICAvLyAgIGRlamF2dS5DbGFzcy5kZWNsYXJlKHtcbiAgICAgICAgICAgICAgICAvLyAgICAgICBtZXRob2QyOiBmdW5jdGlvbiAoKSB7fVxuICAgICAgICAgICAgICAgIC8vICAgfSk7XG4gICAgICAgICAgICAgICAgLy8gdG9cbiAgICAgICAgICAgICAgICAvLyAgIGRlamF2dS5DbGFzcy5kZWNsYXJlKHttZXRob2QyOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgLy8gICAgICAgfX0pO1xuICAgICAgICAgICAgICAgIGlmICghaGFzTGluZVRlcm1pbmF0b3IodG9Tb3VyY2VOb2RlV2hlbk5lZWRlZChmcmFnbWVudCkudG9TdHJpbmcoKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsgJ3snLCBzcGFjZSwgZnJhZ21lbnQsIHNwYWNlLCAnfScgXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHdpdGhJbmRlbnQoZnVuY3Rpb24gKGluZGVudCkge1xuICAgICAgICAgICAgICAgIHZhciBpLCBpejtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBbICd7JywgbmV3bGluZSwgaW5kZW50LCBmcmFnbWVudCBdO1xuXG4gICAgICAgICAgICAgICAgaWYgKG11bHRpbGluZSkge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCgnLCcgKyBuZXdsaW5lKTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gMSwgaXogPSBleHByLnByb3BlcnRpZXMubGVuZ3RoOyBpIDwgaXo7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goaW5kZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHRoYXQuZ2VuZXJhdGVFeHByZXNzaW9uKGV4cHIucHJvcGVydGllc1tpXSwgUHJlY2VkZW5jZS5TZXF1ZW5jZSwgRV9UVFQpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpICsgMSA8IGl6KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goJywnICsgbmV3bGluZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKCFlbmRzV2l0aExpbmVUZXJtaW5hdG9yKHRvU291cmNlTm9kZVdoZW5OZWVkZWQocmVzdWx0KS50b1N0cmluZygpKSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG5ld2xpbmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzdWx0LnB1c2goYmFzZSk7XG4gICAgICAgICAgICByZXN1bHQucHVzaCgnfScpO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfSxcblxuICAgICAgICBBc3NpZ25tZW50UGF0dGVybjogZnVuY3Rpb24oZXhwciwgcHJlY2VkZW5jZSwgZmxhZ3MpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdlbmVyYXRlQXNzaWdubWVudChleHByLmxlZnQsIGV4cHIucmlnaHQsICc9JywgcHJlY2VkZW5jZSwgZmxhZ3MpO1xuICAgICAgICB9LFxuXG4gICAgICAgIE9iamVjdFBhdHRlcm46IGZ1bmN0aW9uIChleHByLCBwcmVjZWRlbmNlLCBmbGFncykge1xuICAgICAgICAgICAgdmFyIHJlc3VsdCwgaSwgaXosIG11bHRpbGluZSwgcHJvcGVydHksIHRoYXQgPSB0aGlzO1xuICAgICAgICAgICAgaWYgKCFleHByLnByb3BlcnRpZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICd7fSc7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG11bHRpbGluZSA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKGV4cHIucHJvcGVydGllcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eSA9IGV4cHIucHJvcGVydGllc1swXTtcbiAgICAgICAgICAgICAgICBpZiAocHJvcGVydHkudmFsdWUudHlwZSAhPT0gU3ludGF4LklkZW50aWZpZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgbXVsdGlsaW5lID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZvciAoaSA9IDAsIGl6ID0gZXhwci5wcm9wZXJ0aWVzLmxlbmd0aDsgaSA8IGl6OyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydHkgPSBleHByLnByb3BlcnRpZXNbaV07XG4gICAgICAgICAgICAgICAgICAgIGlmICghcHJvcGVydHkuc2hvcnRoYW5kKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtdWx0aWxpbmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXN1bHQgPSBbJ3snLCBtdWx0aWxpbmUgPyBuZXdsaW5lIDogJycgXTtcblxuICAgICAgICAgICAgd2l0aEluZGVudChmdW5jdGlvbiAoaW5kZW50KSB7XG4gICAgICAgICAgICAgICAgdmFyIGksIGl6O1xuICAgICAgICAgICAgICAgIGZvciAoaSA9IDAsIGl6ID0gZXhwci5wcm9wZXJ0aWVzLmxlbmd0aDsgaSA8IGl6OyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gobXVsdGlsaW5lID8gaW5kZW50IDogJycpO1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh0aGF0LmdlbmVyYXRlRXhwcmVzc2lvbihleHByLnByb3BlcnRpZXNbaV0sIFByZWNlZGVuY2UuU2VxdWVuY2UsIEVfVFRUKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpICsgMSA8IGl6KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCgnLCcgKyAobXVsdGlsaW5lID8gbmV3bGluZSA6IHNwYWNlKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKG11bHRpbGluZSAmJiAhZW5kc1dpdGhMaW5lVGVybWluYXRvcih0b1NvdXJjZU5vZGVXaGVuTmVlZGVkKHJlc3VsdCkudG9TdHJpbmcoKSkpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChuZXdsaW5lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKG11bHRpbGluZSA/IGJhc2UgOiAnJyk7XG4gICAgICAgICAgICByZXN1bHQucHVzaCgnfScpO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfSxcblxuICAgICAgICBUaGlzRXhwcmVzc2lvbjogZnVuY3Rpb24gKGV4cHIsIHByZWNlZGVuY2UsIGZsYWdzKSB7XG4gICAgICAgICAgICByZXR1cm4gJ3RoaXMnO1xuICAgICAgICB9LFxuXG4gICAgICAgIFN1cGVyOiBmdW5jdGlvbiAoZXhwciwgcHJlY2VkZW5jZSwgZmxhZ3MpIHtcbiAgICAgICAgICAgIHJldHVybiAnc3VwZXInO1xuICAgICAgICB9LFxuXG4gICAgICAgIElkZW50aWZpZXI6IGZ1bmN0aW9uIChleHByLCBwcmVjZWRlbmNlLCBmbGFncykge1xuICAgICAgICAgICAgcmV0dXJuIGdlbmVyYXRlSWRlbnRpZmllcihleHByKTtcbiAgICAgICAgfSxcblxuICAgICAgICBJbXBvcnREZWZhdWx0U3BlY2lmaWVyOiBmdW5jdGlvbiAoZXhwciwgcHJlY2VkZW5jZSwgZmxhZ3MpIHtcbiAgICAgICAgICAgIHJldHVybiBnZW5lcmF0ZUlkZW50aWZpZXIoZXhwci5pZCB8fCBleHByLmxvY2FsKTtcbiAgICAgICAgfSxcblxuICAgICAgICBJbXBvcnROYW1lc3BhY2VTcGVjaWZpZXI6IGZ1bmN0aW9uIChleHByLCBwcmVjZWRlbmNlLCBmbGFncykge1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFsnKiddO1xuICAgICAgICAgICAgdmFyIGlkID0gZXhwci5pZCB8fCBleHByLmxvY2FsO1xuICAgICAgICAgICAgaWYgKGlkKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goc3BhY2UgKyAnYXMnICsgbm9FbXB0eVNwYWNlKCkgKyBnZW5lcmF0ZUlkZW50aWZpZXIoaWQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH0sXG5cbiAgICAgICAgSW1wb3J0U3BlY2lmaWVyOiBmdW5jdGlvbiAoZXhwciwgcHJlY2VkZW5jZSwgZmxhZ3MpIHtcbiAgICAgICAgICAgIHZhciBpbXBvcnRlZCA9IGV4cHIuaW1wb3J0ZWQ7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gWyBpbXBvcnRlZC5uYW1lIF07XG4gICAgICAgICAgICB2YXIgbG9jYWwgPSBleHByLmxvY2FsO1xuICAgICAgICAgICAgaWYgKGxvY2FsICYmIGxvY2FsLm5hbWUgIT09IGltcG9ydGVkLm5hbWUpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChub0VtcHR5U3BhY2UoKSArICdhcycgKyBub0VtcHR5U3BhY2UoKSArIGdlbmVyYXRlSWRlbnRpZmllcihsb2NhbCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfSxcblxuICAgICAgICBFeHBvcnRTcGVjaWZpZXI6IGZ1bmN0aW9uIChleHByLCBwcmVjZWRlbmNlLCBmbGFncykge1xuICAgICAgICAgICAgdmFyIGxvY2FsID0gZXhwci5sb2NhbDtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBbIGxvY2FsLm5hbWUgXTtcbiAgICAgICAgICAgIHZhciBleHBvcnRlZCA9IGV4cHIuZXhwb3J0ZWQ7XG4gICAgICAgICAgICBpZiAoZXhwb3J0ZWQgJiYgZXhwb3J0ZWQubmFtZSAhPT0gbG9jYWwubmFtZSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG5vRW1wdHlTcGFjZSgpICsgJ2FzJyArIG5vRW1wdHlTcGFjZSgpICsgZ2VuZXJhdGVJZGVudGlmaWVyKGV4cG9ydGVkKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9LFxuXG4gICAgICAgIExpdGVyYWw6IGZ1bmN0aW9uIChleHByLCBwcmVjZWRlbmNlLCBmbGFncykge1xuICAgICAgICAgICAgdmFyIHJhdztcbiAgICAgICAgICAgIGlmIChleHByLmhhc093blByb3BlcnR5KCdyYXcnKSAmJiBwYXJzZSAmJiBleHRyYS5yYXcpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICByYXcgPSBwYXJzZShleHByLnJhdykuYm9keVswXS5leHByZXNzaW9uO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmF3LnR5cGUgPT09IFN5bnRheC5MaXRlcmFsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmF3LnZhbHVlID09PSBleHByLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGV4cHIucmF3O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBub3QgdXNlIHJhdyBwcm9wZXJ0eVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGV4cHIucmVnZXgpIHtcbiAgICAgICAgICAgICAgcmV0dXJuICcvJyArIGV4cHIucmVnZXgucGF0dGVybiArICcvJyArIGV4cHIucmVnZXguZmxhZ3M7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChleHByLnZhbHVlID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdudWxsJztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBleHByLnZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIHJldHVybiBlc2NhcGVTdHJpbmcoZXhwci52YWx1ZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgZXhwci52YWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2VuZXJhdGVOdW1iZXIoZXhwci52YWx1ZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgZXhwci52YWx1ZSA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGV4cHIudmFsdWUgPyAndHJ1ZScgOiAnZmFsc2UnO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gZ2VuZXJhdGVSZWdFeHAoZXhwci52YWx1ZSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgR2VuZXJhdG9yRXhwcmVzc2lvbjogZnVuY3Rpb24gKGV4cHIsIHByZWNlZGVuY2UsIGZsYWdzKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5Db21wcmVoZW5zaW9uRXhwcmVzc2lvbihleHByLCBwcmVjZWRlbmNlLCBmbGFncyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgQ29tcHJlaGVuc2lvbkV4cHJlc3Npb246IGZ1bmN0aW9uIChleHByLCBwcmVjZWRlbmNlLCBmbGFncykge1xuICAgICAgICAgICAgLy8gR2VuZXJhdG9yRXhwcmVzc2lvbiBzaG91bGQgYmUgcGFyZW50aGVzaXplZCB3aXRoICguLi4pLCBDb21wcmVoZW5zaW9uRXhwcmVzc2lvbiB3aXRoIFsuLi5dXG4gICAgICAgICAgICAvLyBEdWUgdG8gaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9ODgzNDY4IHBvc2l0aW9uIG9mIGV4cHIuYm9keSBjYW4gZGlmZmVyIGluIFNwaWRlcm1vbmtleSBhbmQgRVM2XG5cbiAgICAgICAgICAgIHZhciByZXN1bHQsIGksIGl6LCBmcmFnbWVudCwgdGhhdCA9IHRoaXM7XG4gICAgICAgICAgICByZXN1bHQgPSAoZXhwci50eXBlID09PSBTeW50YXguR2VuZXJhdG9yRXhwcmVzc2lvbikgPyBbJygnXSA6IFsnWyddO1xuXG4gICAgICAgICAgICBpZiAoZXh0cmEubW96LmNvbXByZWhlbnNpb25FeHByZXNzaW9uU3RhcnRzV2l0aEFzc2lnbm1lbnQpIHtcbiAgICAgICAgICAgICAgICBmcmFnbWVudCA9IHRoaXMuZ2VuZXJhdGVFeHByZXNzaW9uKGV4cHIuYm9keSwgUHJlY2VkZW5jZS5Bc3NpZ25tZW50LCBFX1RUVCk7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goZnJhZ21lbnQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZXhwci5ibG9ja3MpIHtcbiAgICAgICAgICAgICAgICB3aXRoSW5kZW50KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gMCwgaXogPSBleHByLmJsb2Nrcy5sZW5ndGg7IGkgPCBpejsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmcmFnbWVudCA9IHRoYXQuZ2VuZXJhdGVFeHByZXNzaW9uKGV4cHIuYmxvY2tzW2ldLCBQcmVjZWRlbmNlLlNlcXVlbmNlLCBFX1RUVCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSA+IDAgfHwgZXh0cmEubW96LmNvbXByZWhlbnNpb25FeHByZXNzaW9uU3RhcnRzV2l0aEFzc2lnbm1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBqb2luKHJlc3VsdCwgZnJhZ21lbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChmcmFnbWVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGV4cHIuZmlsdGVyKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gam9pbihyZXN1bHQsICdpZicgKyBzcGFjZSk7XG4gICAgICAgICAgICAgICAgZnJhZ21lbnQgPSB0aGlzLmdlbmVyYXRlRXhwcmVzc2lvbihleHByLmZpbHRlciwgUHJlY2VkZW5jZS5TZXF1ZW5jZSwgRV9UVFQpO1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IGpvaW4ocmVzdWx0LCBbICcoJywgZnJhZ21lbnQsICcpJyBdKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFleHRyYS5tb3ouY29tcHJlaGVuc2lvbkV4cHJlc3Npb25TdGFydHNXaXRoQXNzaWdubWVudCkge1xuICAgICAgICAgICAgICAgIGZyYWdtZW50ID0gdGhpcy5nZW5lcmF0ZUV4cHJlc3Npb24oZXhwci5ib2R5LCBQcmVjZWRlbmNlLkFzc2lnbm1lbnQsIEVfVFRUKTtcblxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IGpvaW4ocmVzdWx0LCBmcmFnbWVudCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKChleHByLnR5cGUgPT09IFN5bnRheC5HZW5lcmF0b3JFeHByZXNzaW9uKSA/ICcpJyA6ICddJyk7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9LFxuXG4gICAgICAgIENvbXByZWhlbnNpb25CbG9jazogZnVuY3Rpb24gKGV4cHIsIHByZWNlZGVuY2UsIGZsYWdzKSB7XG4gICAgICAgICAgICB2YXIgZnJhZ21lbnQ7XG4gICAgICAgICAgICBpZiAoZXhwci5sZWZ0LnR5cGUgPT09IFN5bnRheC5WYXJpYWJsZURlY2xhcmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgZnJhZ21lbnQgPSBbXG4gICAgICAgICAgICAgICAgICAgIGV4cHIubGVmdC5raW5kLCBub0VtcHR5U3BhY2UoKSxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZW5lcmF0ZVN0YXRlbWVudChleHByLmxlZnQuZGVjbGFyYXRpb25zWzBdLCBTX0ZGRkYpXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZnJhZ21lbnQgPSB0aGlzLmdlbmVyYXRlRXhwcmVzc2lvbihleHByLmxlZnQsIFByZWNlZGVuY2UuQ2FsbCwgRV9UVFQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmcmFnbWVudCA9IGpvaW4oZnJhZ21lbnQsIGV4cHIub2YgPyAnb2YnIDogJ2luJyk7XG4gICAgICAgICAgICBmcmFnbWVudCA9IGpvaW4oZnJhZ21lbnQsIHRoaXMuZ2VuZXJhdGVFeHByZXNzaW9uKGV4cHIucmlnaHQsIFByZWNlZGVuY2UuU2VxdWVuY2UsIEVfVFRUKSk7XG5cbiAgICAgICAgICAgIHJldHVybiBbICdmb3InICsgc3BhY2UgKyAnKCcsIGZyYWdtZW50LCAnKScgXTtcbiAgICAgICAgfSxcblxuICAgICAgICBTcHJlYWRFbGVtZW50OiBmdW5jdGlvbiAoZXhwciwgcHJlY2VkZW5jZSwgZmxhZ3MpIHtcbiAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgJy4uLicsXG4gICAgICAgICAgICAgICAgdGhpcy5nZW5lcmF0ZUV4cHJlc3Npb24oZXhwci5hcmd1bWVudCwgUHJlY2VkZW5jZS5Bc3NpZ25tZW50LCBFX1RUVClcbiAgICAgICAgICAgIF07XG4gICAgICAgIH0sXG5cbiAgICAgICAgVGFnZ2VkVGVtcGxhdGVFeHByZXNzaW9uOiBmdW5jdGlvbiAoZXhwciwgcHJlY2VkZW5jZSwgZmxhZ3MpIHtcbiAgICAgICAgICAgIHZhciBpdGVtRmxhZ3MgPSBFX1RURjtcbiAgICAgICAgICAgIGlmICghKGZsYWdzICYgRl9BTExPV19DQUxMKSkge1xuICAgICAgICAgICAgICAgIGl0ZW1GbGFncyA9IEVfVEZGO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFtcbiAgICAgICAgICAgICAgICB0aGlzLmdlbmVyYXRlRXhwcmVzc2lvbihleHByLnRhZywgUHJlY2VkZW5jZS5DYWxsLCBpdGVtRmxhZ3MpLFxuICAgICAgICAgICAgICAgIHRoaXMuZ2VuZXJhdGVFeHByZXNzaW9uKGV4cHIucXVhc2ksIFByZWNlZGVuY2UuUHJpbWFyeSwgRV9GRlQpXG4gICAgICAgICAgICBdO1xuICAgICAgICAgICAgcmV0dXJuIHBhcmVudGhlc2l6ZShyZXN1bHQsIFByZWNlZGVuY2UuVGFnZ2VkVGVtcGxhdGUsIHByZWNlZGVuY2UpO1xuICAgICAgICB9LFxuXG4gICAgICAgIFRlbXBsYXRlRWxlbWVudDogZnVuY3Rpb24gKGV4cHIsIHByZWNlZGVuY2UsIGZsYWdzKSB7XG4gICAgICAgICAgICAvLyBEb24ndCB1c2UgXCJjb29rZWRcIi4gU2luY2UgdGFnZ2VkIHRlbXBsYXRlIGNhbiB1c2UgcmF3IHRlbXBsYXRlXG4gICAgICAgICAgICAvLyByZXByZXNlbnRhdGlvbi4gU28gaWYgd2UgZG8gc28sIGl0IGJyZWFrcyB0aGUgc2NyaXB0IHNlbWFudGljcy5cbiAgICAgICAgICAgIHJldHVybiBleHByLnZhbHVlLnJhdztcbiAgICAgICAgfSxcblxuICAgICAgICBUZW1wbGF0ZUxpdGVyYWw6IGZ1bmN0aW9uIChleHByLCBwcmVjZWRlbmNlLCBmbGFncykge1xuICAgICAgICAgICAgdmFyIHJlc3VsdCwgaSwgaXo7XG4gICAgICAgICAgICByZXN1bHQgPSBbICdgJyBdO1xuICAgICAgICAgICAgZm9yIChpID0gMCwgaXogPSBleHByLnF1YXNpcy5sZW5ndGg7IGkgPCBpejsgKytpKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2godGhpcy5nZW5lcmF0ZUV4cHJlc3Npb24oZXhwci5xdWFzaXNbaV0sIFByZWNlZGVuY2UuUHJpbWFyeSwgRV9UVFQpKTtcbiAgICAgICAgICAgICAgICBpZiAoaSArIDEgPCBpeikge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCgnJHsnICsgc3BhY2UpO1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh0aGlzLmdlbmVyYXRlRXhwcmVzc2lvbihleHByLmV4cHJlc3Npb25zW2ldLCBQcmVjZWRlbmNlLlNlcXVlbmNlLCBFX1RUVCkpO1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChzcGFjZSArICd9Jyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzdWx0LnB1c2goJ2AnKTtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH0sXG5cbiAgICAgICAgTW9kdWxlU3BlY2lmaWVyOiBmdW5jdGlvbiAoZXhwciwgcHJlY2VkZW5jZSwgZmxhZ3MpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLkxpdGVyYWwoZXhwciwgcHJlY2VkZW5jZSwgZmxhZ3MpO1xuICAgICAgICB9LFxuXG4gICAgICAgIEltcG9ydEV4cHJlc3Npb246IGZ1bmN0aW9uKGV4cHIsIHByZWNlZGVuY2UsIGZsYWcpIHtcbiAgICAgICAgICAgIHJldHVybiBwYXJlbnRoZXNpemUoW1xuICAgICAgICAgICAgICAgICdpbXBvcnQoJyxcbiAgICAgICAgICAgICAgICB0aGlzLmdlbmVyYXRlRXhwcmVzc2lvbihleHByLnNvdXJjZSwgUHJlY2VkZW5jZS5Bc3NpZ25tZW50LCBFX1RUVCksXG4gICAgICAgICAgICAgICAgJyknXG4gICAgICAgICAgICBdLCBQcmVjZWRlbmNlLkNhbGwsIHByZWNlZGVuY2UpO1xuICAgICAgICB9LFxuXG4gICAgfTtcblxuICAgIG1lcmdlKENvZGVHZW5lcmF0b3IucHJvdG90eXBlLCBDb2RlR2VuZXJhdG9yLkV4cHJlc3Npb24pO1xuXG4gICAgQ29kZUdlbmVyYXRvci5wcm90b3R5cGUuZ2VuZXJhdGVFeHByZXNzaW9uID0gZnVuY3Rpb24gKGV4cHIsIHByZWNlZGVuY2UsIGZsYWdzKSB7XG4gICAgICAgIHZhciByZXN1bHQsIHR5cGU7XG5cbiAgICAgICAgdHlwZSA9IGV4cHIudHlwZSB8fCBTeW50YXguUHJvcGVydHk7XG5cbiAgICAgICAgaWYgKGV4dHJhLnZlcmJhdGltICYmIGV4cHIuaGFzT3duUHJvcGVydHkoZXh0cmEudmVyYmF0aW0pKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2VuZXJhdGVWZXJiYXRpbShleHByLCBwcmVjZWRlbmNlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlc3VsdCA9IHRoaXNbdHlwZV0oZXhwciwgcHJlY2VkZW5jZSwgZmxhZ3MpO1xuXG5cbiAgICAgICAgaWYgKGV4dHJhLmNvbW1lbnQpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IGFkZENvbW1lbnRzKGV4cHIsIHJlc3VsdCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRvU291cmNlTm9kZVdoZW5OZWVkZWQocmVzdWx0LCBleHByKTtcbiAgICB9O1xuXG4gICAgQ29kZUdlbmVyYXRvci5wcm90b3R5cGUuZ2VuZXJhdGVTdGF0ZW1lbnQgPSBmdW5jdGlvbiAoc3RtdCwgZmxhZ3MpIHtcbiAgICAgICAgdmFyIHJlc3VsdCxcbiAgICAgICAgICAgIGZyYWdtZW50O1xuXG4gICAgICAgIHJlc3VsdCA9IHRoaXNbc3RtdC50eXBlXShzdG10LCBmbGFncyk7XG5cbiAgICAgICAgLy8gQXR0YWNoIGNvbW1lbnRzXG5cbiAgICAgICAgaWYgKGV4dHJhLmNvbW1lbnQpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IGFkZENvbW1lbnRzKHN0bXQsIHJlc3VsdCk7XG4gICAgICAgIH1cblxuICAgICAgICBmcmFnbWVudCA9IHRvU291cmNlTm9kZVdoZW5OZWVkZWQocmVzdWx0KS50b1N0cmluZygpO1xuICAgICAgICBpZiAoc3RtdC50eXBlID09PSBTeW50YXguUHJvZ3JhbSAmJiAhc2FmZUNvbmNhdGVuYXRpb24gJiYgbmV3bGluZSA9PT0gJycgJiYgIGZyYWdtZW50LmNoYXJBdChmcmFnbWVudC5sZW5ndGggLSAxKSA9PT0gJ1xcbicpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHNvdXJjZU1hcCA/IHRvU291cmNlTm9kZVdoZW5OZWVkZWQocmVzdWx0KS5yZXBsYWNlUmlnaHQoL1xccyskLywgJycpIDogZnJhZ21lbnQucmVwbGFjZSgvXFxzKyQvLCAnJyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdG9Tb3VyY2VOb2RlV2hlbk5lZWRlZChyZXN1bHQsIHN0bXQpO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBnZW5lcmF0ZUludGVybmFsKG5vZGUpIHtcbiAgICAgICAgdmFyIGNvZGVnZW47XG5cbiAgICAgICAgY29kZWdlbiA9IG5ldyBDb2RlR2VuZXJhdG9yKCk7XG4gICAgICAgIGlmIChpc1N0YXRlbWVudChub2RlKSkge1xuICAgICAgICAgICAgcmV0dXJuIGNvZGVnZW4uZ2VuZXJhdGVTdGF0ZW1lbnQobm9kZSwgU19URkZGKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc0V4cHJlc3Npb24obm9kZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBjb2RlZ2VuLmdlbmVyYXRlRXhwcmVzc2lvbihub2RlLCBQcmVjZWRlbmNlLlNlcXVlbmNlLCBFX1RUVCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Vua25vd24gbm9kZSB0eXBlOiAnICsgbm9kZS50eXBlKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZW5lcmF0ZShub2RlLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBkZWZhdWx0T3B0aW9ucyA9IGdldERlZmF1bHRPcHRpb25zKCksIHJlc3VsdCwgcGFpcjtcblxuICAgICAgICBpZiAob3B0aW9ucyAhPSBudWxsKSB7XG4gICAgICAgICAgICAvLyBPYnNvbGV0ZSBvcHRpb25zXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gICBgb3B0aW9ucy5pbmRlbnRgXG4gICAgICAgICAgICAvLyAgIGBvcHRpb25zLmJhc2VgXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gSW5zdGVhZCBvZiB0aGVtLCB3ZSBjYW4gdXNlIGBvcHRpb24uZm9ybWF0LmluZGVudGAuXG4gICAgICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMuaW5kZW50ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIGRlZmF1bHRPcHRpb25zLmZvcm1hdC5pbmRlbnQuc3R5bGUgPSBvcHRpb25zLmluZGVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5iYXNlID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgIGRlZmF1bHRPcHRpb25zLmZvcm1hdC5pbmRlbnQuYmFzZSA9IG9wdGlvbnMuYmFzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wdGlvbnMgPSB1cGRhdGVEZWVwbHkoZGVmYXVsdE9wdGlvbnMsIG9wdGlvbnMpO1xuICAgICAgICAgICAgaW5kZW50ID0gb3B0aW9ucy5mb3JtYXQuaW5kZW50LnN0eWxlO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLmJhc2UgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgYmFzZSA9IG9wdGlvbnMuYmFzZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYmFzZSA9IHN0cmluZ1JlcGVhdChpbmRlbnQsIG9wdGlvbnMuZm9ybWF0LmluZGVudC5iYXNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBkZWZhdWx0T3B0aW9ucztcbiAgICAgICAgICAgIGluZGVudCA9IG9wdGlvbnMuZm9ybWF0LmluZGVudC5zdHlsZTtcbiAgICAgICAgICAgIGJhc2UgPSBzdHJpbmdSZXBlYXQoaW5kZW50LCBvcHRpb25zLmZvcm1hdC5pbmRlbnQuYmFzZSk7XG4gICAgICAgIH1cbiAgICAgICAganNvbiA9IG9wdGlvbnMuZm9ybWF0Lmpzb247XG4gICAgICAgIHJlbnVtYmVyID0gb3B0aW9ucy5mb3JtYXQucmVudW1iZXI7XG4gICAgICAgIGhleGFkZWNpbWFsID0ganNvbiA/IGZhbHNlIDogb3B0aW9ucy5mb3JtYXQuaGV4YWRlY2ltYWw7XG4gICAgICAgIHF1b3RlcyA9IGpzb24gPyAnZG91YmxlJyA6IG9wdGlvbnMuZm9ybWF0LnF1b3RlcztcbiAgICAgICAgZXNjYXBlbGVzcyA9IG9wdGlvbnMuZm9ybWF0LmVzY2FwZWxlc3M7XG4gICAgICAgIG5ld2xpbmUgPSBvcHRpb25zLmZvcm1hdC5uZXdsaW5lO1xuICAgICAgICBzcGFjZSA9IG9wdGlvbnMuZm9ybWF0LnNwYWNlO1xuICAgICAgICBpZiAob3B0aW9ucy5mb3JtYXQuY29tcGFjdCkge1xuICAgICAgICAgICAgbmV3bGluZSA9IHNwYWNlID0gaW5kZW50ID0gYmFzZSA9ICcnO1xuICAgICAgICB9XG4gICAgICAgIHBhcmVudGhlc2VzID0gb3B0aW9ucy5mb3JtYXQucGFyZW50aGVzZXM7XG4gICAgICAgIHNlbWljb2xvbnMgPSBvcHRpb25zLmZvcm1hdC5zZW1pY29sb25zO1xuICAgICAgICBzYWZlQ29uY2F0ZW5hdGlvbiA9IG9wdGlvbnMuZm9ybWF0LnNhZmVDb25jYXRlbmF0aW9uO1xuICAgICAgICBkaXJlY3RpdmUgPSBvcHRpb25zLmRpcmVjdGl2ZTtcbiAgICAgICAgcGFyc2UgPSBqc29uID8gbnVsbCA6IG9wdGlvbnMucGFyc2U7XG4gICAgICAgIHNvdXJjZU1hcCA9IG9wdGlvbnMuc291cmNlTWFwO1xuICAgICAgICBzb3VyY2VDb2RlID0gb3B0aW9ucy5zb3VyY2VDb2RlO1xuICAgICAgICBwcmVzZXJ2ZUJsYW5rTGluZXMgPSBvcHRpb25zLmZvcm1hdC5wcmVzZXJ2ZUJsYW5rTGluZXMgJiYgc291cmNlQ29kZSAhPT0gbnVsbDtcbiAgICAgICAgZXh0cmEgPSBvcHRpb25zO1xuXG4gICAgICAgIGlmIChzb3VyY2VNYXApIHtcbiAgICAgICAgICAgIGlmICghZXhwb3J0cy5icm93c2VyKSB7XG4gICAgICAgICAgICAgICAgLy8gV2UgYXNzdW1lIGVudmlyb25tZW50IGlzIG5vZGUuanNcbiAgICAgICAgICAgICAgICAvLyBBbmQgcHJldmVudCBmcm9tIGluY2x1ZGluZyBzb3VyY2UtbWFwIGJ5IGJyb3dzZXJpZnlcbiAgICAgICAgICAgICAgICBTb3VyY2VOb2RlID0gcmVxdWlyZSgnc291cmNlLW1hcCcpLlNvdXJjZU5vZGU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIFNvdXJjZU5vZGUgPSBnbG9iYWwuc291cmNlTWFwLlNvdXJjZU5vZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXN1bHQgPSBnZW5lcmF0ZUludGVybmFsKG5vZGUpO1xuXG4gICAgICAgIGlmICghc291cmNlTWFwKSB7XG4gICAgICAgICAgICBwYWlyID0ge2NvZGU6IHJlc3VsdC50b1N0cmluZygpLCBtYXA6IG51bGx9O1xuICAgICAgICAgICAgcmV0dXJuIG9wdGlvbnMuc291cmNlTWFwV2l0aENvZGUgPyBwYWlyIDogcGFpci5jb2RlO1xuICAgICAgICB9XG5cblxuICAgICAgICBwYWlyID0gcmVzdWx0LnRvU3RyaW5nV2l0aFNvdXJjZU1hcCh7XG4gICAgICAgICAgICBmaWxlOiBvcHRpb25zLmZpbGUsXG4gICAgICAgICAgICBzb3VyY2VSb290OiBvcHRpb25zLnNvdXJjZU1hcFJvb3RcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuc291cmNlQ29udGVudCkge1xuICAgICAgICAgICAgcGFpci5tYXAuc2V0U291cmNlQ29udGVudChvcHRpb25zLnNvdXJjZU1hcCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5zb3VyY2VDb250ZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcHRpb25zLnNvdXJjZU1hcFdpdGhDb2RlKSB7XG4gICAgICAgICAgICByZXR1cm4gcGFpcjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBwYWlyLm1hcC50b1N0cmluZygpO1xuICAgIH1cblxuICAgIEZPUk1BVF9NSU5JRlkgPSB7XG4gICAgICAgIGluZGVudDoge1xuICAgICAgICAgICAgc3R5bGU6ICcnLFxuICAgICAgICAgICAgYmFzZTogMFxuICAgICAgICB9LFxuICAgICAgICByZW51bWJlcjogdHJ1ZSxcbiAgICAgICAgaGV4YWRlY2ltYWw6IHRydWUsXG4gICAgICAgIHF1b3RlczogJ2F1dG8nLFxuICAgICAgICBlc2NhcGVsZXNzOiB0cnVlLFxuICAgICAgICBjb21wYWN0OiB0cnVlLFxuICAgICAgICBwYXJlbnRoZXNlczogZmFsc2UsXG4gICAgICAgIHNlbWljb2xvbnM6IGZhbHNlXG4gICAgfTtcblxuICAgIEZPUk1BVF9ERUZBVUxUUyA9IGdldERlZmF1bHRPcHRpb25zKCkuZm9ybWF0O1xuXG4gICAgZXhwb3J0cy52ZXJzaW9uID0gcmVxdWlyZSgnLi9wYWNrYWdlLmpzb24nKS52ZXJzaW9uO1xuICAgIGV4cG9ydHMuZ2VuZXJhdGUgPSBnZW5lcmF0ZTtcbiAgICBleHBvcnRzLmF0dGFjaENvbW1lbnRzID0gZXN0cmF2ZXJzZS5hdHRhY2hDb21tZW50cztcbiAgICBleHBvcnRzLlByZWNlZGVuY2UgPSB1cGRhdGVEZWVwbHkoe30sIFByZWNlZGVuY2UpO1xuICAgIGV4cG9ydHMuYnJvd3NlciA9IGZhbHNlO1xuICAgIGV4cG9ydHMuRk9STUFUX01JTklGWSA9IEZPUk1BVF9NSU5JRlk7XG4gICAgZXhwb3J0cy5GT1JNQVRfREVGQVVMVFMgPSBGT1JNQVRfREVGQVVMVFM7XG59KCkpO1xuLyogdmltOiBzZXQgc3c9NCB0cz00IGV0IHR3PTgwIDogKi9cbiIsIi8qIC0qLSBNb2RlOiBqczsganMtaW5kZW50LWxldmVsOiAyOyAtKi0gKi9cbi8qXG4gKiBDb3B5cmlnaHQgMjAxMSBNb3ppbGxhIEZvdW5kYXRpb24gYW5kIGNvbnRyaWJ1dG9yc1xuICogTGljZW5zZWQgdW5kZXIgdGhlIE5ldyBCU0QgbGljZW5zZS4gU2VlIExJQ0VOU0Ugb3I6XG4gKiBodHRwOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvQlNELTMtQ2xhdXNlXG4gKi9cblxudmFyIHV0aWwgPSByZXF1aXJlKCcuL3V0aWwnKTtcbnZhciBoYXMgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xudmFyIGhhc05hdGl2ZU1hcCA9IHR5cGVvZiBNYXAgIT09IFwidW5kZWZpbmVkXCI7XG5cbi8qKlxuICogQSBkYXRhIHN0cnVjdHVyZSB3aGljaCBpcyBhIGNvbWJpbmF0aW9uIG9mIGFuIGFycmF5IGFuZCBhIHNldC4gQWRkaW5nIGEgbmV3XG4gKiBtZW1iZXIgaXMgTygxKSwgdGVzdGluZyBmb3IgbWVtYmVyc2hpcCBpcyBPKDEpLCBhbmQgZmluZGluZyB0aGUgaW5kZXggb2YgYW5cbiAqIGVsZW1lbnQgaXMgTygxKS4gUmVtb3ZpbmcgZWxlbWVudHMgZnJvbSB0aGUgc2V0IGlzIG5vdCBzdXBwb3J0ZWQuIE9ubHlcbiAqIHN0cmluZ3MgYXJlIHN1cHBvcnRlZCBmb3IgbWVtYmVyc2hpcC5cbiAqL1xuZnVuY3Rpb24gQXJyYXlTZXQoKSB7XG4gIHRoaXMuX2FycmF5ID0gW107XG4gIHRoaXMuX3NldCA9IGhhc05hdGl2ZU1hcCA/IG5ldyBNYXAoKSA6IE9iamVjdC5jcmVhdGUobnVsbCk7XG59XG5cbi8qKlxuICogU3RhdGljIG1ldGhvZCBmb3IgY3JlYXRpbmcgQXJyYXlTZXQgaW5zdGFuY2VzIGZyb20gYW4gZXhpc3RpbmcgYXJyYXkuXG4gKi9cbkFycmF5U2V0LmZyb21BcnJheSA9IGZ1bmN0aW9uIEFycmF5U2V0X2Zyb21BcnJheShhQXJyYXksIGFBbGxvd0R1cGxpY2F0ZXMpIHtcbiAgdmFyIHNldCA9IG5ldyBBcnJheVNldCgpO1xuICBmb3IgKHZhciBpID0gMCwgbGVuID0gYUFycmF5Lmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgc2V0LmFkZChhQXJyYXlbaV0sIGFBbGxvd0R1cGxpY2F0ZXMpO1xuICB9XG4gIHJldHVybiBzZXQ7XG59O1xuXG4vKipcbiAqIFJldHVybiBob3cgbWFueSB1bmlxdWUgaXRlbXMgYXJlIGluIHRoaXMgQXJyYXlTZXQuIElmIGR1cGxpY2F0ZXMgaGF2ZSBiZWVuXG4gKiBhZGRlZCwgdGhhbiB0aG9zZSBkbyBub3QgY291bnQgdG93YXJkcyB0aGUgc2l6ZS5cbiAqXG4gKiBAcmV0dXJucyBOdW1iZXJcbiAqL1xuQXJyYXlTZXQucHJvdG90eXBlLnNpemUgPSBmdW5jdGlvbiBBcnJheVNldF9zaXplKCkge1xuICByZXR1cm4gaGFzTmF0aXZlTWFwID8gdGhpcy5fc2V0LnNpemUgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0aGlzLl9zZXQpLmxlbmd0aDtcbn07XG5cbi8qKlxuICogQWRkIHRoZSBnaXZlbiBzdHJpbmcgdG8gdGhpcyBzZXQuXG4gKlxuICogQHBhcmFtIFN0cmluZyBhU3RyXG4gKi9cbkFycmF5U2V0LnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiBBcnJheVNldF9hZGQoYVN0ciwgYUFsbG93RHVwbGljYXRlcykge1xuICB2YXIgc1N0ciA9IGhhc05hdGl2ZU1hcCA/IGFTdHIgOiB1dGlsLnRvU2V0U3RyaW5nKGFTdHIpO1xuICB2YXIgaXNEdXBsaWNhdGUgPSBoYXNOYXRpdmVNYXAgPyB0aGlzLmhhcyhhU3RyKSA6IGhhcy5jYWxsKHRoaXMuX3NldCwgc1N0cik7XG4gIHZhciBpZHggPSB0aGlzLl9hcnJheS5sZW5ndGg7XG4gIGlmICghaXNEdXBsaWNhdGUgfHwgYUFsbG93RHVwbGljYXRlcykge1xuICAgIHRoaXMuX2FycmF5LnB1c2goYVN0cik7XG4gIH1cbiAgaWYgKCFpc0R1cGxpY2F0ZSkge1xuICAgIGlmIChoYXNOYXRpdmVNYXApIHtcbiAgICAgIHRoaXMuX3NldC5zZXQoYVN0ciwgaWR4KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fc2V0W3NTdHJdID0gaWR4O1xuICAgIH1cbiAgfVxufTtcblxuLyoqXG4gKiBJcyB0aGUgZ2l2ZW4gc3RyaW5nIGEgbWVtYmVyIG9mIHRoaXMgc2V0P1xuICpcbiAqIEBwYXJhbSBTdHJpbmcgYVN0clxuICovXG5BcnJheVNldC5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24gQXJyYXlTZXRfaGFzKGFTdHIpIHtcbiAgaWYgKGhhc05hdGl2ZU1hcCkge1xuICAgIHJldHVybiB0aGlzLl9zZXQuaGFzKGFTdHIpO1xuICB9IGVsc2Uge1xuICAgIHZhciBzU3RyID0gdXRpbC50b1NldFN0cmluZyhhU3RyKTtcbiAgICByZXR1cm4gaGFzLmNhbGwodGhpcy5fc2V0LCBzU3RyKTtcbiAgfVxufTtcblxuLyoqXG4gKiBXaGF0IGlzIHRoZSBpbmRleCBvZiB0aGUgZ2l2ZW4gc3RyaW5nIGluIHRoZSBhcnJheT9cbiAqXG4gKiBAcGFyYW0gU3RyaW5nIGFTdHJcbiAqL1xuQXJyYXlTZXQucHJvdG90eXBlLmluZGV4T2YgPSBmdW5jdGlvbiBBcnJheVNldF9pbmRleE9mKGFTdHIpIHtcbiAgaWYgKGhhc05hdGl2ZU1hcCkge1xuICAgIHZhciBpZHggPSB0aGlzLl9zZXQuZ2V0KGFTdHIpO1xuICAgIGlmIChpZHggPj0gMCkge1xuICAgICAgICByZXR1cm4gaWR4O1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB2YXIgc1N0ciA9IHV0aWwudG9TZXRTdHJpbmcoYVN0cik7XG4gICAgaWYgKGhhcy5jYWxsKHRoaXMuX3NldCwgc1N0cikpIHtcbiAgICAgIHJldHVybiB0aGlzLl9zZXRbc1N0cl07XG4gICAgfVxuICB9XG5cbiAgdGhyb3cgbmV3IEVycm9yKCdcIicgKyBhU3RyICsgJ1wiIGlzIG5vdCBpbiB0aGUgc2V0LicpO1xufTtcblxuLyoqXG4gKiBXaGF0IGlzIHRoZSBlbGVtZW50IGF0IHRoZSBnaXZlbiBpbmRleD9cbiAqXG4gKiBAcGFyYW0gTnVtYmVyIGFJZHhcbiAqL1xuQXJyYXlTZXQucHJvdG90eXBlLmF0ID0gZnVuY3Rpb24gQXJyYXlTZXRfYXQoYUlkeCkge1xuICBpZiAoYUlkeCA+PSAwICYmIGFJZHggPCB0aGlzLl9hcnJheS5sZW5ndGgpIHtcbiAgICByZXR1cm4gdGhpcy5fYXJyYXlbYUlkeF07XG4gIH1cbiAgdGhyb3cgbmV3IEVycm9yKCdObyBlbGVtZW50IGluZGV4ZWQgYnkgJyArIGFJZHgpO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBhcnJheSByZXByZXNlbnRhdGlvbiBvZiB0aGlzIHNldCAod2hpY2ggaGFzIHRoZSBwcm9wZXIgaW5kaWNlc1xuICogaW5kaWNhdGVkIGJ5IGluZGV4T2YpLiBOb3RlIHRoYXQgdGhpcyBpcyBhIGNvcHkgb2YgdGhlIGludGVybmFsIGFycmF5IHVzZWRcbiAqIGZvciBzdG9yaW5nIHRoZSBtZW1iZXJzIHNvIHRoYXQgbm8gb25lIGNhbiBtZXNzIHdpdGggaW50ZXJuYWwgc3RhdGUuXG4gKi9cbkFycmF5U2V0LnByb3RvdHlwZS50b0FycmF5ID0gZnVuY3Rpb24gQXJyYXlTZXRfdG9BcnJheSgpIHtcbiAgcmV0dXJuIHRoaXMuX2FycmF5LnNsaWNlKCk7XG59O1xuXG5leHBvcnRzLkFycmF5U2V0ID0gQXJyYXlTZXQ7XG4iLCIvKiAtKi0gTW9kZToganM7IGpzLWluZGVudC1sZXZlbDogMjsgLSotICovXG4vKlxuICogQ29weXJpZ2h0IDIwMTEgTW96aWxsYSBGb3VuZGF0aW9uIGFuZCBjb250cmlidXRvcnNcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBOZXcgQlNEIGxpY2Vuc2UuIFNlZSBMSUNFTlNFIG9yOlxuICogaHR0cDovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL0JTRC0zLUNsYXVzZVxuICpcbiAqIEJhc2VkIG9uIHRoZSBCYXNlIDY0IFZMUSBpbXBsZW1lbnRhdGlvbiBpbiBDbG9zdXJlIENvbXBpbGVyOlxuICogaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9jbG9zdXJlLWNvbXBpbGVyL3NvdXJjZS9icm93c2UvdHJ1bmsvc3JjL2NvbS9nb29nbGUvZGVidWdnaW5nL3NvdXJjZW1hcC9CYXNlNjRWTFEuamF2YVxuICpcbiAqIENvcHlyaWdodCAyMDExIFRoZSBDbG9zdXJlIENvbXBpbGVyIEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBSZWRpc3RyaWJ1dGlvbiBhbmQgdXNlIGluIHNvdXJjZSBhbmQgYmluYXJ5IGZvcm1zLCB3aXRoIG9yIHdpdGhvdXRcbiAqIG1vZGlmaWNhdGlvbiwgYXJlIHBlcm1pdHRlZCBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBhcmVcbiAqIG1ldDpcbiAqXG4gKiAgKiBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRhaW4gdGhlIGFib3ZlIGNvcHlyaWdodFxuICogICAgbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyLlxuICogICogUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZVxuICogICAgY29weXJpZ2h0IG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmdcbiAqICAgIGRpc2NsYWltZXIgaW4gdGhlIGRvY3VtZW50YXRpb24gYW5kL29yIG90aGVyIG1hdGVyaWFscyBwcm92aWRlZFxuICogICAgd2l0aCB0aGUgZGlzdHJpYnV0aW9uLlxuICogICogTmVpdGhlciB0aGUgbmFtZSBvZiBHb29nbGUgSW5jLiBub3IgdGhlIG5hbWVzIG9mIGl0c1xuICogICAgY29udHJpYnV0b3JzIG1heSBiZSB1c2VkIHRvIGVuZG9yc2Ugb3IgcHJvbW90ZSBwcm9kdWN0cyBkZXJpdmVkXG4gKiAgICBmcm9tIHRoaXMgc29mdHdhcmUgd2l0aG91dCBzcGVjaWZpYyBwcmlvciB3cml0dGVuIHBlcm1pc3Npb24uXG4gKlxuICogVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SU1xuICogXCJBUyBJU1wiIEFORCBBTlkgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVFxuICogTElNSVRFRCBUTywgVEhFIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SXG4gKiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBUkUgRElTQ0xBSU1FRC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIENPUFlSSUdIVFxuICogT1dORVIgT1IgQ09OVFJJQlVUT1JTIEJFIExJQUJMRSBGT1IgQU5ZIERJUkVDVCwgSU5ESVJFQ1QsIElOQ0lERU5UQUwsXG4gKiBTUEVDSUFMLCBFWEVNUExBUlksIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyAoSU5DTFVESU5HLCBCVVQgTk9UXG4gKiBMSU1JVEVEIFRPLCBQUk9DVVJFTUVOVCBPRiBTVUJTVElUVVRFIEdPT0RTIE9SIFNFUlZJQ0VTOyBMT1NTIE9GIFVTRSxcbiAqIERBVEEsIE9SIFBST0ZJVFM7IE9SIEJVU0lORVNTIElOVEVSUlVQVElPTikgSE9XRVZFUiBDQVVTRUQgQU5EIE9OIEFOWVxuICogVEhFT1JZIE9GIExJQUJJTElUWSwgV0hFVEhFUiBJTiBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSwgT1IgVE9SVFxuICogKElOQ0xVRElORyBORUdMSUdFTkNFIE9SIE9USEVSV0lTRSkgQVJJU0lORyBJTiBBTlkgV0FZIE9VVCBPRiBUSEUgVVNFXG4gKiBPRiBUSElTIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFIFBPU1NJQklMSVRZIE9GIFNVQ0ggREFNQUdFLlxuICovXG5cbnZhciBiYXNlNjQgPSByZXF1aXJlKCcuL2Jhc2U2NCcpO1xuXG4vLyBBIHNpbmdsZSBiYXNlIDY0IGRpZ2l0IGNhbiBjb250YWluIDYgYml0cyBvZiBkYXRhLiBGb3IgdGhlIGJhc2UgNjQgdmFyaWFibGVcbi8vIGxlbmd0aCBxdWFudGl0aWVzIHdlIHVzZSBpbiB0aGUgc291cmNlIG1hcCBzcGVjLCB0aGUgZmlyc3QgYml0IGlzIHRoZSBzaWduLFxuLy8gdGhlIG5leHQgZm91ciBiaXRzIGFyZSB0aGUgYWN0dWFsIHZhbHVlLCBhbmQgdGhlIDZ0aCBiaXQgaXMgdGhlXG4vLyBjb250aW51YXRpb24gYml0LiBUaGUgY29udGludWF0aW9uIGJpdCB0ZWxscyB1cyB3aGV0aGVyIHRoZXJlIGFyZSBtb3JlXG4vLyBkaWdpdHMgaW4gdGhpcyB2YWx1ZSBmb2xsb3dpbmcgdGhpcyBkaWdpdC5cbi8vXG4vLyAgIENvbnRpbnVhdGlvblxuLy8gICB8ICAgIFNpZ25cbi8vICAgfCAgICB8XG4vLyAgIFYgICAgVlxuLy8gICAxMDEwMTFcblxudmFyIFZMUV9CQVNFX1NISUZUID0gNTtcblxuLy8gYmluYXJ5OiAxMDAwMDBcbnZhciBWTFFfQkFTRSA9IDEgPDwgVkxRX0JBU0VfU0hJRlQ7XG5cbi8vIGJpbmFyeTogMDExMTExXG52YXIgVkxRX0JBU0VfTUFTSyA9IFZMUV9CQVNFIC0gMTtcblxuLy8gYmluYXJ5OiAxMDAwMDBcbnZhciBWTFFfQ09OVElOVUFUSU9OX0JJVCA9IFZMUV9CQVNFO1xuXG4vKipcbiAqIENvbnZlcnRzIGZyb20gYSB0d28tY29tcGxlbWVudCB2YWx1ZSB0byBhIHZhbHVlIHdoZXJlIHRoZSBzaWduIGJpdCBpc1xuICogcGxhY2VkIGluIHRoZSBsZWFzdCBzaWduaWZpY2FudCBiaXQuICBGb3IgZXhhbXBsZSwgYXMgZGVjaW1hbHM6XG4gKiAgIDEgYmVjb21lcyAyICgxMCBiaW5hcnkpLCAtMSBiZWNvbWVzIDMgKDExIGJpbmFyeSlcbiAqICAgMiBiZWNvbWVzIDQgKDEwMCBiaW5hcnkpLCAtMiBiZWNvbWVzIDUgKDEwMSBiaW5hcnkpXG4gKi9cbmZ1bmN0aW9uIHRvVkxRU2lnbmVkKGFWYWx1ZSkge1xuICByZXR1cm4gYVZhbHVlIDwgMFxuICAgID8gKCgtYVZhbHVlKSA8PCAxKSArIDFcbiAgICA6IChhVmFsdWUgPDwgMSkgKyAwO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIHRvIGEgdHdvLWNvbXBsZW1lbnQgdmFsdWUgZnJvbSBhIHZhbHVlIHdoZXJlIHRoZSBzaWduIGJpdCBpc1xuICogcGxhY2VkIGluIHRoZSBsZWFzdCBzaWduaWZpY2FudCBiaXQuICBGb3IgZXhhbXBsZSwgYXMgZGVjaW1hbHM6XG4gKiAgIDIgKDEwIGJpbmFyeSkgYmVjb21lcyAxLCAzICgxMSBiaW5hcnkpIGJlY29tZXMgLTFcbiAqICAgNCAoMTAwIGJpbmFyeSkgYmVjb21lcyAyLCA1ICgxMDEgYmluYXJ5KSBiZWNvbWVzIC0yXG4gKi9cbmZ1bmN0aW9uIGZyb21WTFFTaWduZWQoYVZhbHVlKSB7XG4gIHZhciBpc05lZ2F0aXZlID0gKGFWYWx1ZSAmIDEpID09PSAxO1xuICB2YXIgc2hpZnRlZCA9IGFWYWx1ZSA+PiAxO1xuICByZXR1cm4gaXNOZWdhdGl2ZVxuICAgID8gLXNoaWZ0ZWRcbiAgICA6IHNoaWZ0ZWQ7XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgYmFzZSA2NCBWTFEgZW5jb2RlZCB2YWx1ZS5cbiAqL1xuZXhwb3J0cy5lbmNvZGUgPSBmdW5jdGlvbiBiYXNlNjRWTFFfZW5jb2RlKGFWYWx1ZSkge1xuICB2YXIgZW5jb2RlZCA9IFwiXCI7XG4gIHZhciBkaWdpdDtcblxuICB2YXIgdmxxID0gdG9WTFFTaWduZWQoYVZhbHVlKTtcblxuICBkbyB7XG4gICAgZGlnaXQgPSB2bHEgJiBWTFFfQkFTRV9NQVNLO1xuICAgIHZscSA+Pj49IFZMUV9CQVNFX1NISUZUO1xuICAgIGlmICh2bHEgPiAwKSB7XG4gICAgICAvLyBUaGVyZSBhcmUgc3RpbGwgbW9yZSBkaWdpdHMgaW4gdGhpcyB2YWx1ZSwgc28gd2UgbXVzdCBtYWtlIHN1cmUgdGhlXG4gICAgICAvLyBjb250aW51YXRpb24gYml0IGlzIG1hcmtlZC5cbiAgICAgIGRpZ2l0IHw9IFZMUV9DT05USU5VQVRJT05fQklUO1xuICAgIH1cbiAgICBlbmNvZGVkICs9IGJhc2U2NC5lbmNvZGUoZGlnaXQpO1xuICB9IHdoaWxlICh2bHEgPiAwKTtcblxuICByZXR1cm4gZW5jb2RlZDtcbn07XG5cbi8qKlxuICogRGVjb2RlcyB0aGUgbmV4dCBiYXNlIDY0IFZMUSB2YWx1ZSBmcm9tIHRoZSBnaXZlbiBzdHJpbmcgYW5kIHJldHVybnMgdGhlXG4gKiB2YWx1ZSBhbmQgdGhlIHJlc3Qgb2YgdGhlIHN0cmluZyB2aWEgdGhlIG91dCBwYXJhbWV0ZXIuXG4gKi9cbmV4cG9ydHMuZGVjb2RlID0gZnVuY3Rpb24gYmFzZTY0VkxRX2RlY29kZShhU3RyLCBhSW5kZXgsIGFPdXRQYXJhbSkge1xuICB2YXIgc3RyTGVuID0gYVN0ci5sZW5ndGg7XG4gIHZhciByZXN1bHQgPSAwO1xuICB2YXIgc2hpZnQgPSAwO1xuICB2YXIgY29udGludWF0aW9uLCBkaWdpdDtcblxuICBkbyB7XG4gICAgaWYgKGFJbmRleCA+PSBzdHJMZW4pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkV4cGVjdGVkIG1vcmUgZGlnaXRzIGluIGJhc2UgNjQgVkxRIHZhbHVlLlwiKTtcbiAgICB9XG5cbiAgICBkaWdpdCA9IGJhc2U2NC5kZWNvZGUoYVN0ci5jaGFyQ29kZUF0KGFJbmRleCsrKSk7XG4gICAgaWYgKGRpZ2l0ID09PSAtMSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBiYXNlNjQgZGlnaXQ6IFwiICsgYVN0ci5jaGFyQXQoYUluZGV4IC0gMSkpO1xuICAgIH1cblxuICAgIGNvbnRpbnVhdGlvbiA9ICEhKGRpZ2l0ICYgVkxRX0NPTlRJTlVBVElPTl9CSVQpO1xuICAgIGRpZ2l0ICY9IFZMUV9CQVNFX01BU0s7XG4gICAgcmVzdWx0ID0gcmVzdWx0ICsgKGRpZ2l0IDw8IHNoaWZ0KTtcbiAgICBzaGlmdCArPSBWTFFfQkFTRV9TSElGVDtcbiAgfSB3aGlsZSAoY29udGludWF0aW9uKTtcblxuICBhT3V0UGFyYW0udmFsdWUgPSBmcm9tVkxRU2lnbmVkKHJlc3VsdCk7XG4gIGFPdXRQYXJhbS5yZXN0ID0gYUluZGV4O1xufTtcbiIsIi8qIC0qLSBNb2RlOiBqczsganMtaW5kZW50LWxldmVsOiAyOyAtKi0gKi9cbi8qXG4gKiBDb3B5cmlnaHQgMjAxMSBNb3ppbGxhIEZvdW5kYXRpb24gYW5kIGNvbnRyaWJ1dG9yc1xuICogTGljZW5zZWQgdW5kZXIgdGhlIE5ldyBCU0QgbGljZW5zZS4gU2VlIExJQ0VOU0Ugb3I6XG4gKiBodHRwOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvQlNELTMtQ2xhdXNlXG4gKi9cblxudmFyIGludFRvQ2hhck1hcCA9ICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvJy5zcGxpdCgnJyk7XG5cbi8qKlxuICogRW5jb2RlIGFuIGludGVnZXIgaW4gdGhlIHJhbmdlIG9mIDAgdG8gNjMgdG8gYSBzaW5nbGUgYmFzZSA2NCBkaWdpdC5cbiAqL1xuZXhwb3J0cy5lbmNvZGUgPSBmdW5jdGlvbiAobnVtYmVyKSB7XG4gIGlmICgwIDw9IG51bWJlciAmJiBudW1iZXIgPCBpbnRUb0NoYXJNYXAubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGludFRvQ2hhck1hcFtudW1iZXJdO1xuICB9XG4gIHRocm93IG5ldyBUeXBlRXJyb3IoXCJNdXN0IGJlIGJldHdlZW4gMCBhbmQgNjM6IFwiICsgbnVtYmVyKTtcbn07XG5cbi8qKlxuICogRGVjb2RlIGEgc2luZ2xlIGJhc2UgNjQgY2hhcmFjdGVyIGNvZGUgZGlnaXQgdG8gYW4gaW50ZWdlci4gUmV0dXJucyAtMSBvblxuICogZmFpbHVyZS5cbiAqL1xuZXhwb3J0cy5kZWNvZGUgPSBmdW5jdGlvbiAoY2hhckNvZGUpIHtcbiAgdmFyIGJpZ0EgPSA2NTsgICAgIC8vICdBJ1xuICB2YXIgYmlnWiA9IDkwOyAgICAgLy8gJ1onXG5cbiAgdmFyIGxpdHRsZUEgPSA5NzsgIC8vICdhJ1xuICB2YXIgbGl0dGxlWiA9IDEyMjsgLy8gJ3onXG5cbiAgdmFyIHplcm8gPSA0ODsgICAgIC8vICcwJ1xuICB2YXIgbmluZSA9IDU3OyAgICAgLy8gJzknXG5cbiAgdmFyIHBsdXMgPSA0MzsgICAgIC8vICcrJ1xuICB2YXIgc2xhc2ggPSA0NzsgICAgLy8gJy8nXG5cbiAgdmFyIGxpdHRsZU9mZnNldCA9IDI2O1xuICB2YXIgbnVtYmVyT2Zmc2V0ID0gNTI7XG5cbiAgLy8gMCAtIDI1OiBBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWlxuICBpZiAoYmlnQSA8PSBjaGFyQ29kZSAmJiBjaGFyQ29kZSA8PSBiaWdaKSB7XG4gICAgcmV0dXJuIChjaGFyQ29kZSAtIGJpZ0EpO1xuICB9XG5cbiAgLy8gMjYgLSA1MTogYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXpcbiAgaWYgKGxpdHRsZUEgPD0gY2hhckNvZGUgJiYgY2hhckNvZGUgPD0gbGl0dGxlWikge1xuICAgIHJldHVybiAoY2hhckNvZGUgLSBsaXR0bGVBICsgbGl0dGxlT2Zmc2V0KTtcbiAgfVxuXG4gIC8vIDUyIC0gNjE6IDAxMjM0NTY3ODlcbiAgaWYgKHplcm8gPD0gY2hhckNvZGUgJiYgY2hhckNvZGUgPD0gbmluZSkge1xuICAgIHJldHVybiAoY2hhckNvZGUgLSB6ZXJvICsgbnVtYmVyT2Zmc2V0KTtcbiAgfVxuXG4gIC8vIDYyOiArXG4gIGlmIChjaGFyQ29kZSA9PSBwbHVzKSB7XG4gICAgcmV0dXJuIDYyO1xuICB9XG5cbiAgLy8gNjM6IC9cbiAgaWYgKGNoYXJDb2RlID09IHNsYXNoKSB7XG4gICAgcmV0dXJuIDYzO1xuICB9XG5cbiAgLy8gSW52YWxpZCBiYXNlNjQgZGlnaXQuXG4gIHJldHVybiAtMTtcbn07XG4iLCIvKiAtKi0gTW9kZToganM7IGpzLWluZGVudC1sZXZlbDogMjsgLSotICovXG4vKlxuICogQ29weXJpZ2h0IDIwMTEgTW96aWxsYSBGb3VuZGF0aW9uIGFuZCBjb250cmlidXRvcnNcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBOZXcgQlNEIGxpY2Vuc2UuIFNlZSBMSUNFTlNFIG9yOlxuICogaHR0cDovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL0JTRC0zLUNsYXVzZVxuICovXG5cbmV4cG9ydHMuR1JFQVRFU1RfTE9XRVJfQk9VTkQgPSAxO1xuZXhwb3J0cy5MRUFTVF9VUFBFUl9CT1VORCA9IDI7XG5cbi8qKlxuICogUmVjdXJzaXZlIGltcGxlbWVudGF0aW9uIG9mIGJpbmFyeSBzZWFyY2guXG4gKlxuICogQHBhcmFtIGFMb3cgSW5kaWNlcyBoZXJlIGFuZCBsb3dlciBkbyBub3QgY29udGFpbiB0aGUgbmVlZGxlLlxuICogQHBhcmFtIGFIaWdoIEluZGljZXMgaGVyZSBhbmQgaGlnaGVyIGRvIG5vdCBjb250YWluIHRoZSBuZWVkbGUuXG4gKiBAcGFyYW0gYU5lZWRsZSBUaGUgZWxlbWVudCBiZWluZyBzZWFyY2hlZCBmb3IuXG4gKiBAcGFyYW0gYUhheXN0YWNrIFRoZSBub24tZW1wdHkgYXJyYXkgYmVpbmcgc2VhcmNoZWQuXG4gKiBAcGFyYW0gYUNvbXBhcmUgRnVuY3Rpb24gd2hpY2ggdGFrZXMgdHdvIGVsZW1lbnRzIGFuZCByZXR1cm5zIC0xLCAwLCBvciAxLlxuICogQHBhcmFtIGFCaWFzIEVpdGhlciAnYmluYXJ5U2VhcmNoLkdSRUFURVNUX0xPV0VSX0JPVU5EJyBvclxuICogICAgICdiaW5hcnlTZWFyY2guTEVBU1RfVVBQRVJfQk9VTkQnLiBTcGVjaWZpZXMgd2hldGhlciB0byByZXR1cm4gdGhlXG4gKiAgICAgY2xvc2VzdCBlbGVtZW50IHRoYXQgaXMgc21hbGxlciB0aGFuIG9yIGdyZWF0ZXIgdGhhbiB0aGUgb25lIHdlIGFyZVxuICogICAgIHNlYXJjaGluZyBmb3IsIHJlc3BlY3RpdmVseSwgaWYgdGhlIGV4YWN0IGVsZW1lbnQgY2Fubm90IGJlIGZvdW5kLlxuICovXG5mdW5jdGlvbiByZWN1cnNpdmVTZWFyY2goYUxvdywgYUhpZ2gsIGFOZWVkbGUsIGFIYXlzdGFjaywgYUNvbXBhcmUsIGFCaWFzKSB7XG4gIC8vIFRoaXMgZnVuY3Rpb24gdGVybWluYXRlcyB3aGVuIG9uZSBvZiB0aGUgZm9sbG93aW5nIGlzIHRydWU6XG4gIC8vXG4gIC8vICAgMS4gV2UgZmluZCB0aGUgZXhhY3QgZWxlbWVudCB3ZSBhcmUgbG9va2luZyBmb3IuXG4gIC8vXG4gIC8vICAgMi4gV2UgZGlkIG5vdCBmaW5kIHRoZSBleGFjdCBlbGVtZW50LCBidXQgd2UgY2FuIHJldHVybiB0aGUgaW5kZXggb2ZcbiAgLy8gICAgICB0aGUgbmV4dC1jbG9zZXN0IGVsZW1lbnQuXG4gIC8vXG4gIC8vICAgMy4gV2UgZGlkIG5vdCBmaW5kIHRoZSBleGFjdCBlbGVtZW50LCBhbmQgdGhlcmUgaXMgbm8gbmV4dC1jbG9zZXN0XG4gIC8vICAgICAgZWxlbWVudCB0aGFuIHRoZSBvbmUgd2UgYXJlIHNlYXJjaGluZyBmb3IsIHNvIHdlIHJldHVybiAtMS5cbiAgdmFyIG1pZCA9IE1hdGguZmxvb3IoKGFIaWdoIC0gYUxvdykgLyAyKSArIGFMb3c7XG4gIHZhciBjbXAgPSBhQ29tcGFyZShhTmVlZGxlLCBhSGF5c3RhY2tbbWlkXSwgdHJ1ZSk7XG4gIGlmIChjbXAgPT09IDApIHtcbiAgICAvLyBGb3VuZCB0aGUgZWxlbWVudCB3ZSBhcmUgbG9va2luZyBmb3IuXG4gICAgcmV0dXJuIG1pZDtcbiAgfVxuICBlbHNlIGlmIChjbXAgPiAwKSB7XG4gICAgLy8gT3VyIG5lZWRsZSBpcyBncmVhdGVyIHRoYW4gYUhheXN0YWNrW21pZF0uXG4gICAgaWYgKGFIaWdoIC0gbWlkID4gMSkge1xuICAgICAgLy8gVGhlIGVsZW1lbnQgaXMgaW4gdGhlIHVwcGVyIGhhbGYuXG4gICAgICByZXR1cm4gcmVjdXJzaXZlU2VhcmNoKG1pZCwgYUhpZ2gsIGFOZWVkbGUsIGFIYXlzdGFjaywgYUNvbXBhcmUsIGFCaWFzKTtcbiAgICB9XG5cbiAgICAvLyBUaGUgZXhhY3QgbmVlZGxlIGVsZW1lbnQgd2FzIG5vdCBmb3VuZCBpbiB0aGlzIGhheXN0YWNrLiBEZXRlcm1pbmUgaWZcbiAgICAvLyB3ZSBhcmUgaW4gdGVybWluYXRpb24gY2FzZSAoMykgb3IgKDIpIGFuZCByZXR1cm4gdGhlIGFwcHJvcHJpYXRlIHRoaW5nLlxuICAgIGlmIChhQmlhcyA9PSBleHBvcnRzLkxFQVNUX1VQUEVSX0JPVU5EKSB7XG4gICAgICByZXR1cm4gYUhpZ2ggPCBhSGF5c3RhY2subGVuZ3RoID8gYUhpZ2ggOiAtMTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG1pZDtcbiAgICB9XG4gIH1cbiAgZWxzZSB7XG4gICAgLy8gT3VyIG5lZWRsZSBpcyBsZXNzIHRoYW4gYUhheXN0YWNrW21pZF0uXG4gICAgaWYgKG1pZCAtIGFMb3cgPiAxKSB7XG4gICAgICAvLyBUaGUgZWxlbWVudCBpcyBpbiB0aGUgbG93ZXIgaGFsZi5cbiAgICAgIHJldHVybiByZWN1cnNpdmVTZWFyY2goYUxvdywgbWlkLCBhTmVlZGxlLCBhSGF5c3RhY2ssIGFDb21wYXJlLCBhQmlhcyk7XG4gICAgfVxuXG4gICAgLy8gd2UgYXJlIGluIHRlcm1pbmF0aW9uIGNhc2UgKDMpIG9yICgyKSBhbmQgcmV0dXJuIHRoZSBhcHByb3ByaWF0ZSB0aGluZy5cbiAgICBpZiAoYUJpYXMgPT0gZXhwb3J0cy5MRUFTVF9VUFBFUl9CT1VORCkge1xuICAgICAgcmV0dXJuIG1pZDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGFMb3cgPCAwID8gLTEgOiBhTG93O1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIFRoaXMgaXMgYW4gaW1wbGVtZW50YXRpb24gb2YgYmluYXJ5IHNlYXJjaCB3aGljaCB3aWxsIGFsd2F5cyB0cnkgYW5kIHJldHVyblxuICogdGhlIGluZGV4IG9mIHRoZSBjbG9zZXN0IGVsZW1lbnQgaWYgdGhlcmUgaXMgbm8gZXhhY3QgaGl0LiBUaGlzIGlzIGJlY2F1c2VcbiAqIG1hcHBpbmdzIGJldHdlZW4gb3JpZ2luYWwgYW5kIGdlbmVyYXRlZCBsaW5lL2NvbCBwYWlycyBhcmUgc2luZ2xlIHBvaW50cyxcbiAqIGFuZCB0aGVyZSBpcyBhbiBpbXBsaWNpdCByZWdpb24gYmV0d2VlbiBlYWNoIG9mIHRoZW0sIHNvIGEgbWlzcyBqdXN0IG1lYW5zXG4gKiB0aGF0IHlvdSBhcmVuJ3Qgb24gdGhlIHZlcnkgc3RhcnQgb2YgYSByZWdpb24uXG4gKlxuICogQHBhcmFtIGFOZWVkbGUgVGhlIGVsZW1lbnQgeW91IGFyZSBsb29raW5nIGZvci5cbiAqIEBwYXJhbSBhSGF5c3RhY2sgVGhlIGFycmF5IHRoYXQgaXMgYmVpbmcgc2VhcmNoZWQuXG4gKiBAcGFyYW0gYUNvbXBhcmUgQSBmdW5jdGlvbiB3aGljaCB0YWtlcyB0aGUgbmVlZGxlIGFuZCBhbiBlbGVtZW50IGluIHRoZVxuICogICAgIGFycmF5IGFuZCByZXR1cm5zIC0xLCAwLCBvciAxIGRlcGVuZGluZyBvbiB3aGV0aGVyIHRoZSBuZWVkbGUgaXMgbGVzc1xuICogICAgIHRoYW4sIGVxdWFsIHRvLCBvciBncmVhdGVyIHRoYW4gdGhlIGVsZW1lbnQsIHJlc3BlY3RpdmVseS5cbiAqIEBwYXJhbSBhQmlhcyBFaXRoZXIgJ2JpbmFyeVNlYXJjaC5HUkVBVEVTVF9MT1dFUl9CT1VORCcgb3JcbiAqICAgICAnYmluYXJ5U2VhcmNoLkxFQVNUX1VQUEVSX0JPVU5EJy4gU3BlY2lmaWVzIHdoZXRoZXIgdG8gcmV0dXJuIHRoZVxuICogICAgIGNsb3Nlc3QgZWxlbWVudCB0aGF0IGlzIHNtYWxsZXIgdGhhbiBvciBncmVhdGVyIHRoYW4gdGhlIG9uZSB3ZSBhcmVcbiAqICAgICBzZWFyY2hpbmcgZm9yLCByZXNwZWN0aXZlbHksIGlmIHRoZSBleGFjdCBlbGVtZW50IGNhbm5vdCBiZSBmb3VuZC5cbiAqICAgICBEZWZhdWx0cyB0byAnYmluYXJ5U2VhcmNoLkdSRUFURVNUX0xPV0VSX0JPVU5EJy5cbiAqL1xuZXhwb3J0cy5zZWFyY2ggPSBmdW5jdGlvbiBzZWFyY2goYU5lZWRsZSwgYUhheXN0YWNrLCBhQ29tcGFyZSwgYUJpYXMpIHtcbiAgaWYgKGFIYXlzdGFjay5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gLTE7XG4gIH1cblxuICB2YXIgaW5kZXggPSByZWN1cnNpdmVTZWFyY2goLTEsIGFIYXlzdGFjay5sZW5ndGgsIGFOZWVkbGUsIGFIYXlzdGFjayxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFDb21wYXJlLCBhQmlhcyB8fCBleHBvcnRzLkdSRUFURVNUX0xPV0VSX0JPVU5EKTtcbiAgaWYgKGluZGV4IDwgMCkge1xuICAgIHJldHVybiAtMTtcbiAgfVxuXG4gIC8vIFdlIGhhdmUgZm91bmQgZWl0aGVyIHRoZSBleGFjdCBlbGVtZW50LCBvciB0aGUgbmV4dC1jbG9zZXN0IGVsZW1lbnQgdGhhblxuICAvLyB0aGUgb25lIHdlIGFyZSBzZWFyY2hpbmcgZm9yLiBIb3dldmVyLCB0aGVyZSBtYXkgYmUgbW9yZSB0aGFuIG9uZSBzdWNoXG4gIC8vIGVsZW1lbnQuIE1ha2Ugc3VyZSB3ZSBhbHdheXMgcmV0dXJuIHRoZSBzbWFsbGVzdCBvZiB0aGVzZS5cbiAgd2hpbGUgKGluZGV4IC0gMSA+PSAwKSB7XG4gICAgaWYgKGFDb21wYXJlKGFIYXlzdGFja1tpbmRleF0sIGFIYXlzdGFja1tpbmRleCAtIDFdLCB0cnVlKSAhPT0gMCkge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIC0taW5kZXg7XG4gIH1cblxuICByZXR1cm4gaW5kZXg7XG59O1xuIiwiLyogLSotIE1vZGU6IGpzOyBqcy1pbmRlbnQtbGV2ZWw6IDI7IC0qLSAqL1xuLypcbiAqIENvcHlyaWdodCAyMDE0IE1vemlsbGEgRm91bmRhdGlvbiBhbmQgY29udHJpYnV0b3JzXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTmV3IEJTRCBsaWNlbnNlLiBTZWUgTElDRU5TRSBvcjpcbiAqIGh0dHA6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9CU0QtMy1DbGF1c2VcbiAqL1xuXG52YXIgdXRpbCA9IHJlcXVpcmUoJy4vdXRpbCcpO1xuXG4vKipcbiAqIERldGVybWluZSB3aGV0aGVyIG1hcHBpbmdCIGlzIGFmdGVyIG1hcHBpbmdBIHdpdGggcmVzcGVjdCB0byBnZW5lcmF0ZWRcbiAqIHBvc2l0aW9uLlxuICovXG5mdW5jdGlvbiBnZW5lcmF0ZWRQb3NpdGlvbkFmdGVyKG1hcHBpbmdBLCBtYXBwaW5nQikge1xuICAvLyBPcHRpbWl6ZWQgZm9yIG1vc3QgY29tbW9uIGNhc2VcbiAgdmFyIGxpbmVBID0gbWFwcGluZ0EuZ2VuZXJhdGVkTGluZTtcbiAgdmFyIGxpbmVCID0gbWFwcGluZ0IuZ2VuZXJhdGVkTGluZTtcbiAgdmFyIGNvbHVtbkEgPSBtYXBwaW5nQS5nZW5lcmF0ZWRDb2x1bW47XG4gIHZhciBjb2x1bW5CID0gbWFwcGluZ0IuZ2VuZXJhdGVkQ29sdW1uO1xuICByZXR1cm4gbGluZUIgPiBsaW5lQSB8fCBsaW5lQiA9PSBsaW5lQSAmJiBjb2x1bW5CID49IGNvbHVtbkEgfHxcbiAgICAgICAgIHV0aWwuY29tcGFyZUJ5R2VuZXJhdGVkUG9zaXRpb25zSW5mbGF0ZWQobWFwcGluZ0EsIG1hcHBpbmdCKSA8PSAwO1xufVxuXG4vKipcbiAqIEEgZGF0YSBzdHJ1Y3R1cmUgdG8gcHJvdmlkZSBhIHNvcnRlZCB2aWV3IG9mIGFjY3VtdWxhdGVkIG1hcHBpbmdzIGluIGFcbiAqIHBlcmZvcm1hbmNlIGNvbnNjaW91cyBtYW5uZXIuIEl0IHRyYWRlcyBhIG5lZ2xpYmFibGUgb3ZlcmhlYWQgaW4gZ2VuZXJhbFxuICogY2FzZSBmb3IgYSBsYXJnZSBzcGVlZHVwIGluIGNhc2Ugb2YgbWFwcGluZ3MgYmVpbmcgYWRkZWQgaW4gb3JkZXIuXG4gKi9cbmZ1bmN0aW9uIE1hcHBpbmdMaXN0KCkge1xuICB0aGlzLl9hcnJheSA9IFtdO1xuICB0aGlzLl9zb3J0ZWQgPSB0cnVlO1xuICAvLyBTZXJ2ZXMgYXMgaW5maW11bVxuICB0aGlzLl9sYXN0ID0ge2dlbmVyYXRlZExpbmU6IC0xLCBnZW5lcmF0ZWRDb2x1bW46IDB9O1xufVxuXG4vKipcbiAqIEl0ZXJhdGUgdGhyb3VnaCBpbnRlcm5hbCBpdGVtcy4gVGhpcyBtZXRob2QgdGFrZXMgdGhlIHNhbWUgYXJndW1lbnRzIHRoYXRcbiAqIGBBcnJheS5wcm90b3R5cGUuZm9yRWFjaGAgdGFrZXMuXG4gKlxuICogTk9URTogVGhlIG9yZGVyIG9mIHRoZSBtYXBwaW5ncyBpcyBOT1QgZ3VhcmFudGVlZC5cbiAqL1xuTWFwcGluZ0xpc3QucHJvdG90eXBlLnVuc29ydGVkRm9yRWFjaCA9XG4gIGZ1bmN0aW9uIE1hcHBpbmdMaXN0X2ZvckVhY2goYUNhbGxiYWNrLCBhVGhpc0FyZykge1xuICAgIHRoaXMuX2FycmF5LmZvckVhY2goYUNhbGxiYWNrLCBhVGhpc0FyZyk7XG4gIH07XG5cbi8qKlxuICogQWRkIHRoZSBnaXZlbiBzb3VyY2UgbWFwcGluZy5cbiAqXG4gKiBAcGFyYW0gT2JqZWN0IGFNYXBwaW5nXG4gKi9cbk1hcHBpbmdMaXN0LnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiBNYXBwaW5nTGlzdF9hZGQoYU1hcHBpbmcpIHtcbiAgaWYgKGdlbmVyYXRlZFBvc2l0aW9uQWZ0ZXIodGhpcy5fbGFzdCwgYU1hcHBpbmcpKSB7XG4gICAgdGhpcy5fbGFzdCA9IGFNYXBwaW5nO1xuICAgIHRoaXMuX2FycmF5LnB1c2goYU1hcHBpbmcpO1xuICB9IGVsc2Uge1xuICAgIHRoaXMuX3NvcnRlZCA9IGZhbHNlO1xuICAgIHRoaXMuX2FycmF5LnB1c2goYU1hcHBpbmcpO1xuICB9XG59O1xuXG4vKipcbiAqIFJldHVybnMgdGhlIGZsYXQsIHNvcnRlZCBhcnJheSBvZiBtYXBwaW5ncy4gVGhlIG1hcHBpbmdzIGFyZSBzb3J0ZWQgYnlcbiAqIGdlbmVyYXRlZCBwb3NpdGlvbi5cbiAqXG4gKiBXQVJOSU5HOiBUaGlzIG1ldGhvZCByZXR1cm5zIGludGVybmFsIGRhdGEgd2l0aG91dCBjb3B5aW5nLCBmb3JcbiAqIHBlcmZvcm1hbmNlLiBUaGUgcmV0dXJuIHZhbHVlIG11c3QgTk9UIGJlIG11dGF0ZWQsIGFuZCBzaG91bGQgYmUgdHJlYXRlZCBhc1xuICogYW4gaW1tdXRhYmxlIGJvcnJvdy4gSWYgeW91IHdhbnQgdG8gdGFrZSBvd25lcnNoaXAsIHlvdSBtdXN0IG1ha2UgeW91ciBvd25cbiAqIGNvcHkuXG4gKi9cbk1hcHBpbmdMaXN0LnByb3RvdHlwZS50b0FycmF5ID0gZnVuY3Rpb24gTWFwcGluZ0xpc3RfdG9BcnJheSgpIHtcbiAgaWYgKCF0aGlzLl9zb3J0ZWQpIHtcbiAgICB0aGlzLl9hcnJheS5zb3J0KHV0aWwuY29tcGFyZUJ5R2VuZXJhdGVkUG9zaXRpb25zSW5mbGF0ZWQpO1xuICAgIHRoaXMuX3NvcnRlZCA9IHRydWU7XG4gIH1cbiAgcmV0dXJuIHRoaXMuX2FycmF5O1xufTtcblxuZXhwb3J0cy5NYXBwaW5nTGlzdCA9IE1hcHBpbmdMaXN0O1xuIiwiLyogLSotIE1vZGU6IGpzOyBqcy1pbmRlbnQtbGV2ZWw6IDI7IC0qLSAqL1xuLypcbiAqIENvcHlyaWdodCAyMDExIE1vemlsbGEgRm91bmRhdGlvbiBhbmQgY29udHJpYnV0b3JzXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTmV3IEJTRCBsaWNlbnNlLiBTZWUgTElDRU5TRSBvcjpcbiAqIGh0dHA6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9CU0QtMy1DbGF1c2VcbiAqL1xuXG4vLyBJdCB0dXJucyBvdXQgdGhhdCBzb21lIChtb3N0PykgSmF2YVNjcmlwdCBlbmdpbmVzIGRvbid0IHNlbGYtaG9zdFxuLy8gYEFycmF5LnByb3RvdHlwZS5zb3J0YC4gVGhpcyBtYWtlcyBzZW5zZSBiZWNhdXNlIEMrKyB3aWxsIGxpa2VseSByZW1haW5cbi8vIGZhc3RlciB0aGFuIEpTIHdoZW4gZG9pbmcgcmF3IENQVS1pbnRlbnNpdmUgc29ydGluZy4gSG93ZXZlciwgd2hlbiB1c2luZyBhXG4vLyBjdXN0b20gY29tcGFyYXRvciBmdW5jdGlvbiwgY2FsbGluZyBiYWNrIGFuZCBmb3J0aCBiZXR3ZWVuIHRoZSBWTSdzIEMrKyBhbmRcbi8vIEpJVCdkIEpTIGlzIHJhdGhlciBzbG93ICphbmQqIGxvc2VzIEpJVCB0eXBlIGluZm9ybWF0aW9uLCByZXN1bHRpbmcgaW5cbi8vIHdvcnNlIGdlbmVyYXRlZCBjb2RlIGZvciB0aGUgY29tcGFyYXRvciBmdW5jdGlvbiB0aGFuIHdvdWxkIGJlIG9wdGltYWwuIEluXG4vLyBmYWN0LCB3aGVuIHNvcnRpbmcgd2l0aCBhIGNvbXBhcmF0b3IsIHRoZXNlIGNvc3RzIG91dHdlaWdoIHRoZSBiZW5lZml0cyBvZlxuLy8gc29ydGluZyBpbiBDKysuIEJ5IHVzaW5nIG91ciBvd24gSlMtaW1wbGVtZW50ZWQgUXVpY2sgU29ydCAoYmVsb3cpLCB3ZSBnZXRcbi8vIGEgfjM1MDBtcyBtZWFuIHNwZWVkLXVwIGluIGBiZW5jaC9iZW5jaC5odG1sYC5cblxuLyoqXG4gKiBTd2FwIHRoZSBlbGVtZW50cyBpbmRleGVkIGJ5IGB4YCBhbmQgYHlgIGluIHRoZSBhcnJheSBgYXJ5YC5cbiAqXG4gKiBAcGFyYW0ge0FycmF5fSBhcnlcbiAqICAgICAgICBUaGUgYXJyYXkuXG4gKiBAcGFyYW0ge051bWJlcn0geFxuICogICAgICAgIFRoZSBpbmRleCBvZiB0aGUgZmlyc3QgaXRlbS5cbiAqIEBwYXJhbSB7TnVtYmVyfSB5XG4gKiAgICAgICAgVGhlIGluZGV4IG9mIHRoZSBzZWNvbmQgaXRlbS5cbiAqL1xuZnVuY3Rpb24gc3dhcChhcnksIHgsIHkpIHtcbiAgdmFyIHRlbXAgPSBhcnlbeF07XG4gIGFyeVt4XSA9IGFyeVt5XTtcbiAgYXJ5W3ldID0gdGVtcDtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgcmFuZG9tIGludGVnZXIgd2l0aGluIHRoZSByYW5nZSBgbG93IC4uIGhpZ2hgIGluY2x1c2l2ZS5cbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gbG93XG4gKiAgICAgICAgVGhlIGxvd2VyIGJvdW5kIG9uIHRoZSByYW5nZS5cbiAqIEBwYXJhbSB7TnVtYmVyfSBoaWdoXG4gKiAgICAgICAgVGhlIHVwcGVyIGJvdW5kIG9uIHRoZSByYW5nZS5cbiAqL1xuZnVuY3Rpb24gcmFuZG9tSW50SW5SYW5nZShsb3csIGhpZ2gpIHtcbiAgcmV0dXJuIE1hdGgucm91bmQobG93ICsgKE1hdGgucmFuZG9tKCkgKiAoaGlnaCAtIGxvdykpKTtcbn1cblxuLyoqXG4gKiBUaGUgUXVpY2sgU29ydCBhbGdvcml0aG0uXG4gKlxuICogQHBhcmFtIHtBcnJheX0gYXJ5XG4gKiAgICAgICAgQW4gYXJyYXkgdG8gc29ydC5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGNvbXBhcmF0b3JcbiAqICAgICAgICBGdW5jdGlvbiB0byB1c2UgdG8gY29tcGFyZSB0d28gaXRlbXMuXG4gKiBAcGFyYW0ge051bWJlcn0gcFxuICogICAgICAgIFN0YXJ0IGluZGV4IG9mIHRoZSBhcnJheVxuICogQHBhcmFtIHtOdW1iZXJ9IHJcbiAqICAgICAgICBFbmQgaW5kZXggb2YgdGhlIGFycmF5XG4gKi9cbmZ1bmN0aW9uIGRvUXVpY2tTb3J0KGFyeSwgY29tcGFyYXRvciwgcCwgcikge1xuICAvLyBJZiBvdXIgbG93ZXIgYm91bmQgaXMgbGVzcyB0aGFuIG91ciB1cHBlciBib3VuZCwgd2UgKDEpIHBhcnRpdGlvbiB0aGVcbiAgLy8gYXJyYXkgaW50byB0d28gcGllY2VzIGFuZCAoMikgcmVjdXJzZSBvbiBlYWNoIGhhbGYuIElmIGl0IGlzIG5vdCwgdGhpcyBpc1xuICAvLyB0aGUgZW1wdHkgYXJyYXkgYW5kIG91ciBiYXNlIGNhc2UuXG5cbiAgaWYgKHAgPCByKSB7XG4gICAgLy8gKDEpIFBhcnRpdGlvbmluZy5cbiAgICAvL1xuICAgIC8vIFRoZSBwYXJ0aXRpb25pbmcgY2hvb3NlcyBhIHBpdm90IGJldHdlZW4gYHBgIGFuZCBgcmAgYW5kIG1vdmVzIGFsbFxuICAgIC8vIGVsZW1lbnRzIHRoYXQgYXJlIGxlc3MgdGhhbiBvciBlcXVhbCB0byB0aGUgcGl2b3QgdG8gdGhlIGJlZm9yZSBpdCwgYW5kXG4gICAgLy8gYWxsIHRoZSBlbGVtZW50cyB0aGF0IGFyZSBncmVhdGVyIHRoYW4gaXQgYWZ0ZXIgaXQuIFRoZSBlZmZlY3QgaXMgdGhhdFxuICAgIC8vIG9uY2UgcGFydGl0aW9uIGlzIGRvbmUsIHRoZSBwaXZvdCBpcyBpbiB0aGUgZXhhY3QgcGxhY2UgaXQgd2lsbCBiZSB3aGVuXG4gICAgLy8gdGhlIGFycmF5IGlzIHB1dCBpbiBzb3J0ZWQgb3JkZXIsIGFuZCBpdCB3aWxsIG5vdCBuZWVkIHRvIGJlIG1vdmVkXG4gICAgLy8gYWdhaW4uIFRoaXMgcnVucyBpbiBPKG4pIHRpbWUuXG5cbiAgICAvLyBBbHdheXMgY2hvb3NlIGEgcmFuZG9tIHBpdm90IHNvIHRoYXQgYW4gaW5wdXQgYXJyYXkgd2hpY2ggaXMgcmV2ZXJzZVxuICAgIC8vIHNvcnRlZCBkb2VzIG5vdCBjYXVzZSBPKG5eMikgcnVubmluZyB0aW1lLlxuICAgIHZhciBwaXZvdEluZGV4ID0gcmFuZG9tSW50SW5SYW5nZShwLCByKTtcbiAgICB2YXIgaSA9IHAgLSAxO1xuXG4gICAgc3dhcChhcnksIHBpdm90SW5kZXgsIHIpO1xuICAgIHZhciBwaXZvdCA9IGFyeVtyXTtcblxuICAgIC8vIEltbWVkaWF0ZWx5IGFmdGVyIGBqYCBpcyBpbmNyZW1lbnRlZCBpbiB0aGlzIGxvb3AsIHRoZSBmb2xsb3dpbmcgaG9sZFxuICAgIC8vIHRydWU6XG4gICAgLy9cbiAgICAvLyAgICogRXZlcnkgZWxlbWVudCBpbiBgYXJ5W3AgLi4gaV1gIGlzIGxlc3MgdGhhbiBvciBlcXVhbCB0byB0aGUgcGl2b3QuXG4gICAgLy9cbiAgICAvLyAgICogRXZlcnkgZWxlbWVudCBpbiBgYXJ5W2krMSAuLiBqLTFdYCBpcyBncmVhdGVyIHRoYW4gdGhlIHBpdm90LlxuICAgIGZvciAodmFyIGogPSBwOyBqIDwgcjsgaisrKSB7XG4gICAgICBpZiAoY29tcGFyYXRvcihhcnlbal0sIHBpdm90KSA8PSAwKSB7XG4gICAgICAgIGkgKz0gMTtcbiAgICAgICAgc3dhcChhcnksIGksIGopO1xuICAgICAgfVxuICAgIH1cblxuICAgIHN3YXAoYXJ5LCBpICsgMSwgaik7XG4gICAgdmFyIHEgPSBpICsgMTtcblxuICAgIC8vICgyKSBSZWN1cnNlIG9uIGVhY2ggaGFsZi5cblxuICAgIGRvUXVpY2tTb3J0KGFyeSwgY29tcGFyYXRvciwgcCwgcSAtIDEpO1xuICAgIGRvUXVpY2tTb3J0KGFyeSwgY29tcGFyYXRvciwgcSArIDEsIHIpO1xuICB9XG59XG5cbi8qKlxuICogU29ydCB0aGUgZ2l2ZW4gYXJyYXkgaW4tcGxhY2Ugd2l0aCB0aGUgZ2l2ZW4gY29tcGFyYXRvciBmdW5jdGlvbi5cbiAqXG4gKiBAcGFyYW0ge0FycmF5fSBhcnlcbiAqICAgICAgICBBbiBhcnJheSB0byBzb3J0LlxuICogQHBhcmFtIHtmdW5jdGlvbn0gY29tcGFyYXRvclxuICogICAgICAgIEZ1bmN0aW9uIHRvIHVzZSB0byBjb21wYXJlIHR3byBpdGVtcy5cbiAqL1xuZXhwb3J0cy5xdWlja1NvcnQgPSBmdW5jdGlvbiAoYXJ5LCBjb21wYXJhdG9yKSB7XG4gIGRvUXVpY2tTb3J0KGFyeSwgY29tcGFyYXRvciwgMCwgYXJ5Lmxlbmd0aCAtIDEpO1xufTtcbiIsIi8qIC0qLSBNb2RlOiBqczsganMtaW5kZW50LWxldmVsOiAyOyAtKi0gKi9cbi8qXG4gKiBDb3B5cmlnaHQgMjAxMSBNb3ppbGxhIEZvdW5kYXRpb24gYW5kIGNvbnRyaWJ1dG9yc1xuICogTGljZW5zZWQgdW5kZXIgdGhlIE5ldyBCU0QgbGljZW5zZS4gU2VlIExJQ0VOU0Ugb3I6XG4gKiBodHRwOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvQlNELTMtQ2xhdXNlXG4gKi9cblxudmFyIHV0aWwgPSByZXF1aXJlKCcuL3V0aWwnKTtcbnZhciBiaW5hcnlTZWFyY2ggPSByZXF1aXJlKCcuL2JpbmFyeS1zZWFyY2gnKTtcbnZhciBBcnJheVNldCA9IHJlcXVpcmUoJy4vYXJyYXktc2V0JykuQXJyYXlTZXQ7XG52YXIgYmFzZTY0VkxRID0gcmVxdWlyZSgnLi9iYXNlNjQtdmxxJyk7XG52YXIgcXVpY2tTb3J0ID0gcmVxdWlyZSgnLi9xdWljay1zb3J0JykucXVpY2tTb3J0O1xuXG5mdW5jdGlvbiBTb3VyY2VNYXBDb25zdW1lcihhU291cmNlTWFwLCBhU291cmNlTWFwVVJMKSB7XG4gIHZhciBzb3VyY2VNYXAgPSBhU291cmNlTWFwO1xuICBpZiAodHlwZW9mIGFTb3VyY2VNYXAgPT09ICdzdHJpbmcnKSB7XG4gICAgc291cmNlTWFwID0gdXRpbC5wYXJzZVNvdXJjZU1hcElucHV0KGFTb3VyY2VNYXApO1xuICB9XG5cbiAgcmV0dXJuIHNvdXJjZU1hcC5zZWN0aW9ucyAhPSBudWxsXG4gICAgPyBuZXcgSW5kZXhlZFNvdXJjZU1hcENvbnN1bWVyKHNvdXJjZU1hcCwgYVNvdXJjZU1hcFVSTClcbiAgICA6IG5ldyBCYXNpY1NvdXJjZU1hcENvbnN1bWVyKHNvdXJjZU1hcCwgYVNvdXJjZU1hcFVSTCk7XG59XG5cblNvdXJjZU1hcENvbnN1bWVyLmZyb21Tb3VyY2VNYXAgPSBmdW5jdGlvbihhU291cmNlTWFwLCBhU291cmNlTWFwVVJMKSB7XG4gIHJldHVybiBCYXNpY1NvdXJjZU1hcENvbnN1bWVyLmZyb21Tb3VyY2VNYXAoYVNvdXJjZU1hcCwgYVNvdXJjZU1hcFVSTCk7XG59XG5cbi8qKlxuICogVGhlIHZlcnNpb24gb2YgdGhlIHNvdXJjZSBtYXBwaW5nIHNwZWMgdGhhdCB3ZSBhcmUgY29uc3VtaW5nLlxuICovXG5Tb3VyY2VNYXBDb25zdW1lci5wcm90b3R5cGUuX3ZlcnNpb24gPSAzO1xuXG4vLyBgX19nZW5lcmF0ZWRNYXBwaW5nc2AgYW5kIGBfX29yaWdpbmFsTWFwcGluZ3NgIGFyZSBhcnJheXMgdGhhdCBob2xkIHRoZVxuLy8gcGFyc2VkIG1hcHBpbmcgY29vcmRpbmF0ZXMgZnJvbSB0aGUgc291cmNlIG1hcCdzIFwibWFwcGluZ3NcIiBhdHRyaWJ1dGUuIFRoZXlcbi8vIGFyZSBsYXppbHkgaW5zdGFudGlhdGVkLCBhY2Nlc3NlZCB2aWEgdGhlIGBfZ2VuZXJhdGVkTWFwcGluZ3NgIGFuZFxuLy8gYF9vcmlnaW5hbE1hcHBpbmdzYCBnZXR0ZXJzIHJlc3BlY3RpdmVseSwgYW5kIHdlIG9ubHkgcGFyc2UgdGhlIG1hcHBpbmdzXG4vLyBhbmQgY3JlYXRlIHRoZXNlIGFycmF5cyBvbmNlIHF1ZXJpZWQgZm9yIGEgc291cmNlIGxvY2F0aW9uLiBXZSBqdW1wIHRocm91Z2hcbi8vIHRoZXNlIGhvb3BzIGJlY2F1c2UgdGhlcmUgY2FuIGJlIG1hbnkgdGhvdXNhbmRzIG9mIG1hcHBpbmdzLCBhbmQgcGFyc2luZ1xuLy8gdGhlbSBpcyBleHBlbnNpdmUsIHNvIHdlIG9ubHkgd2FudCB0byBkbyBpdCBpZiB3ZSBtdXN0LlxuLy9cbi8vIEVhY2ggb2JqZWN0IGluIHRoZSBhcnJheXMgaXMgb2YgdGhlIGZvcm06XG4vL1xuLy8gICAgIHtcbi8vICAgICAgIGdlbmVyYXRlZExpbmU6IFRoZSBsaW5lIG51bWJlciBpbiB0aGUgZ2VuZXJhdGVkIGNvZGUsXG4vLyAgICAgICBnZW5lcmF0ZWRDb2x1bW46IFRoZSBjb2x1bW4gbnVtYmVyIGluIHRoZSBnZW5lcmF0ZWQgY29kZSxcbi8vICAgICAgIHNvdXJjZTogVGhlIHBhdGggdG8gdGhlIG9yaWdpbmFsIHNvdXJjZSBmaWxlIHRoYXQgZ2VuZXJhdGVkIHRoaXNcbi8vICAgICAgICAgICAgICAgY2h1bmsgb2YgY29kZSxcbi8vICAgICAgIG9yaWdpbmFsTGluZTogVGhlIGxpbmUgbnVtYmVyIGluIHRoZSBvcmlnaW5hbCBzb3VyY2UgdGhhdFxuLy8gICAgICAgICAgICAgICAgICAgICBjb3JyZXNwb25kcyB0byB0aGlzIGNodW5rIG9mIGdlbmVyYXRlZCBjb2RlLFxuLy8gICAgICAgb3JpZ2luYWxDb2x1bW46IFRoZSBjb2x1bW4gbnVtYmVyIGluIHRoZSBvcmlnaW5hbCBzb3VyY2UgdGhhdFxuLy8gICAgICAgICAgICAgICAgICAgICAgIGNvcnJlc3BvbmRzIHRvIHRoaXMgY2h1bmsgb2YgZ2VuZXJhdGVkIGNvZGUsXG4vLyAgICAgICBuYW1lOiBUaGUgbmFtZSBvZiB0aGUgb3JpZ2luYWwgc3ltYm9sIHdoaWNoIGdlbmVyYXRlZCB0aGlzIGNodW5rIG9mXG4vLyAgICAgICAgICAgICBjb2RlLlxuLy8gICAgIH1cbi8vXG4vLyBBbGwgcHJvcGVydGllcyBleGNlcHQgZm9yIGBnZW5lcmF0ZWRMaW5lYCBhbmQgYGdlbmVyYXRlZENvbHVtbmAgY2FuIGJlXG4vLyBgbnVsbGAuXG4vL1xuLy8gYF9nZW5lcmF0ZWRNYXBwaW5nc2AgaXMgb3JkZXJlZCBieSB0aGUgZ2VuZXJhdGVkIHBvc2l0aW9ucy5cbi8vXG4vLyBgX29yaWdpbmFsTWFwcGluZ3NgIGlzIG9yZGVyZWQgYnkgdGhlIG9yaWdpbmFsIHBvc2l0aW9ucy5cblxuU291cmNlTWFwQ29uc3VtZXIucHJvdG90eXBlLl9fZ2VuZXJhdGVkTWFwcGluZ3MgPSBudWxsO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KFNvdXJjZU1hcENvbnN1bWVyLnByb3RvdHlwZSwgJ19nZW5lcmF0ZWRNYXBwaW5ncycsIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIXRoaXMuX19nZW5lcmF0ZWRNYXBwaW5ncykge1xuICAgICAgdGhpcy5fcGFyc2VNYXBwaW5ncyh0aGlzLl9tYXBwaW5ncywgdGhpcy5zb3VyY2VSb290KTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5fX2dlbmVyYXRlZE1hcHBpbmdzO1xuICB9XG59KTtcblxuU291cmNlTWFwQ29uc3VtZXIucHJvdG90eXBlLl9fb3JpZ2luYWxNYXBwaW5ncyA9IG51bGw7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoU291cmNlTWFwQ29uc3VtZXIucHJvdG90eXBlLCAnX29yaWdpbmFsTWFwcGluZ3MnLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCF0aGlzLl9fb3JpZ2luYWxNYXBwaW5ncykge1xuICAgICAgdGhpcy5fcGFyc2VNYXBwaW5ncyh0aGlzLl9tYXBwaW5ncywgdGhpcy5zb3VyY2VSb290KTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5fX29yaWdpbmFsTWFwcGluZ3M7XG4gIH1cbn0pO1xuXG5Tb3VyY2VNYXBDb25zdW1lci5wcm90b3R5cGUuX2NoYXJJc01hcHBpbmdTZXBhcmF0b3IgPVxuICBmdW5jdGlvbiBTb3VyY2VNYXBDb25zdW1lcl9jaGFySXNNYXBwaW5nU2VwYXJhdG9yKGFTdHIsIGluZGV4KSB7XG4gICAgdmFyIGMgPSBhU3RyLmNoYXJBdChpbmRleCk7XG4gICAgcmV0dXJuIGMgPT09IFwiO1wiIHx8IGMgPT09IFwiLFwiO1xuICB9O1xuXG4vKipcbiAqIFBhcnNlIHRoZSBtYXBwaW5ncyBpbiBhIHN0cmluZyBpbiB0byBhIGRhdGEgc3RydWN0dXJlIHdoaWNoIHdlIGNhbiBlYXNpbHlcbiAqIHF1ZXJ5ICh0aGUgb3JkZXJlZCBhcnJheXMgaW4gdGhlIGB0aGlzLl9fZ2VuZXJhdGVkTWFwcGluZ3NgIGFuZFxuICogYHRoaXMuX19vcmlnaW5hbE1hcHBpbmdzYCBwcm9wZXJ0aWVzKS5cbiAqL1xuU291cmNlTWFwQ29uc3VtZXIucHJvdG90eXBlLl9wYXJzZU1hcHBpbmdzID1cbiAgZnVuY3Rpb24gU291cmNlTWFwQ29uc3VtZXJfcGFyc2VNYXBwaW5ncyhhU3RyLCBhU291cmNlUm9vdCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIlN1YmNsYXNzZXMgbXVzdCBpbXBsZW1lbnQgX3BhcnNlTWFwcGluZ3NcIik7XG4gIH07XG5cblNvdXJjZU1hcENvbnN1bWVyLkdFTkVSQVRFRF9PUkRFUiA9IDE7XG5Tb3VyY2VNYXBDb25zdW1lci5PUklHSU5BTF9PUkRFUiA9IDI7XG5cblNvdXJjZU1hcENvbnN1bWVyLkdSRUFURVNUX0xPV0VSX0JPVU5EID0gMTtcblNvdXJjZU1hcENvbnN1bWVyLkxFQVNUX1VQUEVSX0JPVU5EID0gMjtcblxuLyoqXG4gKiBJdGVyYXRlIG92ZXIgZWFjaCBtYXBwaW5nIGJldHdlZW4gYW4gb3JpZ2luYWwgc291cmNlL2xpbmUvY29sdW1uIGFuZCBhXG4gKiBnZW5lcmF0ZWQgbGluZS9jb2x1bW4gaW4gdGhpcyBzb3VyY2UgbWFwLlxuICpcbiAqIEBwYXJhbSBGdW5jdGlvbiBhQ2FsbGJhY2tcbiAqICAgICAgICBUaGUgZnVuY3Rpb24gdGhhdCBpcyBjYWxsZWQgd2l0aCBlYWNoIG1hcHBpbmcuXG4gKiBAcGFyYW0gT2JqZWN0IGFDb250ZXh0XG4gKiAgICAgICAgT3B0aW9uYWwuIElmIHNwZWNpZmllZCwgdGhpcyBvYmplY3Qgd2lsbCBiZSB0aGUgdmFsdWUgb2YgYHRoaXNgIGV2ZXJ5XG4gKiAgICAgICAgdGltZSB0aGF0IGBhQ2FsbGJhY2tgIGlzIGNhbGxlZC5cbiAqIEBwYXJhbSBhT3JkZXJcbiAqICAgICAgICBFaXRoZXIgYFNvdXJjZU1hcENvbnN1bWVyLkdFTkVSQVRFRF9PUkRFUmAgb3JcbiAqICAgICAgICBgU291cmNlTWFwQ29uc3VtZXIuT1JJR0lOQUxfT1JERVJgLiBTcGVjaWZpZXMgd2hldGhlciB5b3Ugd2FudCB0b1xuICogICAgICAgIGl0ZXJhdGUgb3ZlciB0aGUgbWFwcGluZ3Mgc29ydGVkIGJ5IHRoZSBnZW5lcmF0ZWQgZmlsZSdzIGxpbmUvY29sdW1uXG4gKiAgICAgICAgb3JkZXIgb3IgdGhlIG9yaWdpbmFsJ3Mgc291cmNlL2xpbmUvY29sdW1uIG9yZGVyLCByZXNwZWN0aXZlbHkuIERlZmF1bHRzIHRvXG4gKiAgICAgICAgYFNvdXJjZU1hcENvbnN1bWVyLkdFTkVSQVRFRF9PUkRFUmAuXG4gKi9cblNvdXJjZU1hcENvbnN1bWVyLnByb3RvdHlwZS5lYWNoTWFwcGluZyA9XG4gIGZ1bmN0aW9uIFNvdXJjZU1hcENvbnN1bWVyX2VhY2hNYXBwaW5nKGFDYWxsYmFjaywgYUNvbnRleHQsIGFPcmRlcikge1xuICAgIHZhciBjb250ZXh0ID0gYUNvbnRleHQgfHwgbnVsbDtcbiAgICB2YXIgb3JkZXIgPSBhT3JkZXIgfHwgU291cmNlTWFwQ29uc3VtZXIuR0VORVJBVEVEX09SREVSO1xuXG4gICAgdmFyIG1hcHBpbmdzO1xuICAgIHN3aXRjaCAob3JkZXIpIHtcbiAgICBjYXNlIFNvdXJjZU1hcENvbnN1bWVyLkdFTkVSQVRFRF9PUkRFUjpcbiAgICAgIG1hcHBpbmdzID0gdGhpcy5fZ2VuZXJhdGVkTWFwcGluZ3M7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFNvdXJjZU1hcENvbnN1bWVyLk9SSUdJTkFMX09SREVSOlxuICAgICAgbWFwcGluZ3MgPSB0aGlzLl9vcmlnaW5hbE1hcHBpbmdzO1xuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlVua25vd24gb3JkZXIgb2YgaXRlcmF0aW9uLlwiKTtcbiAgICB9XG5cbiAgICB2YXIgc291cmNlUm9vdCA9IHRoaXMuc291cmNlUm9vdDtcbiAgICBtYXBwaW5ncy5tYXAoZnVuY3Rpb24gKG1hcHBpbmcpIHtcbiAgICAgIHZhciBzb3VyY2UgPSBtYXBwaW5nLnNvdXJjZSA9PT0gbnVsbCA/IG51bGwgOiB0aGlzLl9zb3VyY2VzLmF0KG1hcHBpbmcuc291cmNlKTtcbiAgICAgIHNvdXJjZSA9IHV0aWwuY29tcHV0ZVNvdXJjZVVSTChzb3VyY2VSb290LCBzb3VyY2UsIHRoaXMuX3NvdXJjZU1hcFVSTCk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzb3VyY2U6IHNvdXJjZSxcbiAgICAgICAgZ2VuZXJhdGVkTGluZTogbWFwcGluZy5nZW5lcmF0ZWRMaW5lLFxuICAgICAgICBnZW5lcmF0ZWRDb2x1bW46IG1hcHBpbmcuZ2VuZXJhdGVkQ29sdW1uLFxuICAgICAgICBvcmlnaW5hbExpbmU6IG1hcHBpbmcub3JpZ2luYWxMaW5lLFxuICAgICAgICBvcmlnaW5hbENvbHVtbjogbWFwcGluZy5vcmlnaW5hbENvbHVtbixcbiAgICAgICAgbmFtZTogbWFwcGluZy5uYW1lID09PSBudWxsID8gbnVsbCA6IHRoaXMuX25hbWVzLmF0KG1hcHBpbmcubmFtZSlcbiAgICAgIH07XG4gICAgfSwgdGhpcykuZm9yRWFjaChhQ2FsbGJhY2ssIGNvbnRleHQpO1xuICB9O1xuXG4vKipcbiAqIFJldHVybnMgYWxsIGdlbmVyYXRlZCBsaW5lIGFuZCBjb2x1bW4gaW5mb3JtYXRpb24gZm9yIHRoZSBvcmlnaW5hbCBzb3VyY2UsXG4gKiBsaW5lLCBhbmQgY29sdW1uIHByb3ZpZGVkLiBJZiBubyBjb2x1bW4gaXMgcHJvdmlkZWQsIHJldHVybnMgYWxsIG1hcHBpbmdzXG4gKiBjb3JyZXNwb25kaW5nIHRvIGEgZWl0aGVyIHRoZSBsaW5lIHdlIGFyZSBzZWFyY2hpbmcgZm9yIG9yIHRoZSBuZXh0XG4gKiBjbG9zZXN0IGxpbmUgdGhhdCBoYXMgYW55IG1hcHBpbmdzLiBPdGhlcndpc2UsIHJldHVybnMgYWxsIG1hcHBpbmdzXG4gKiBjb3JyZXNwb25kaW5nIHRvIHRoZSBnaXZlbiBsaW5lIGFuZCBlaXRoZXIgdGhlIGNvbHVtbiB3ZSBhcmUgc2VhcmNoaW5nIGZvclxuICogb3IgdGhlIG5leHQgY2xvc2VzdCBjb2x1bW4gdGhhdCBoYXMgYW55IG9mZnNldHMuXG4gKlxuICogVGhlIG9ubHkgYXJndW1lbnQgaXMgYW4gb2JqZWN0IHdpdGggdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuICpcbiAqICAgLSBzb3VyY2U6IFRoZSBmaWxlbmFtZSBvZiB0aGUgb3JpZ2luYWwgc291cmNlLlxuICogICAtIGxpbmU6IFRoZSBsaW5lIG51bWJlciBpbiB0aGUgb3JpZ2luYWwgc291cmNlLiAgVGhlIGxpbmUgbnVtYmVyIGlzIDEtYmFzZWQuXG4gKiAgIC0gY29sdW1uOiBPcHRpb25hbC4gdGhlIGNvbHVtbiBudW1iZXIgaW4gdGhlIG9yaWdpbmFsIHNvdXJjZS5cbiAqICAgIFRoZSBjb2x1bW4gbnVtYmVyIGlzIDAtYmFzZWQuXG4gKlxuICogYW5kIGFuIGFycmF5IG9mIG9iamVjdHMgaXMgcmV0dXJuZWQsIGVhY2ggd2l0aCB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gKlxuICogICAtIGxpbmU6IFRoZSBsaW5lIG51bWJlciBpbiB0aGUgZ2VuZXJhdGVkIHNvdXJjZSwgb3IgbnVsbC4gIFRoZVxuICogICAgbGluZSBudW1iZXIgaXMgMS1iYXNlZC5cbiAqICAgLSBjb2x1bW46IFRoZSBjb2x1bW4gbnVtYmVyIGluIHRoZSBnZW5lcmF0ZWQgc291cmNlLCBvciBudWxsLlxuICogICAgVGhlIGNvbHVtbiBudW1iZXIgaXMgMC1iYXNlZC5cbiAqL1xuU291cmNlTWFwQ29uc3VtZXIucHJvdG90eXBlLmFsbEdlbmVyYXRlZFBvc2l0aW9uc0ZvciA9XG4gIGZ1bmN0aW9uIFNvdXJjZU1hcENvbnN1bWVyX2FsbEdlbmVyYXRlZFBvc2l0aW9uc0ZvcihhQXJncykge1xuICAgIHZhciBsaW5lID0gdXRpbC5nZXRBcmcoYUFyZ3MsICdsaW5lJyk7XG5cbiAgICAvLyBXaGVuIHRoZXJlIGlzIG5vIGV4YWN0IG1hdGNoLCBCYXNpY1NvdXJjZU1hcENvbnN1bWVyLnByb3RvdHlwZS5fZmluZE1hcHBpbmdcbiAgICAvLyByZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgY2xvc2VzdCBtYXBwaW5nIGxlc3MgdGhhbiB0aGUgbmVlZGxlLiBCeVxuICAgIC8vIHNldHRpbmcgbmVlZGxlLm9yaWdpbmFsQ29sdW1uIHRvIDAsIHdlIHRodXMgZmluZCB0aGUgbGFzdCBtYXBwaW5nIGZvclxuICAgIC8vIHRoZSBnaXZlbiBsaW5lLCBwcm92aWRlZCBzdWNoIGEgbWFwcGluZyBleGlzdHMuXG4gICAgdmFyIG5lZWRsZSA9IHtcbiAgICAgIHNvdXJjZTogdXRpbC5nZXRBcmcoYUFyZ3MsICdzb3VyY2UnKSxcbiAgICAgIG9yaWdpbmFsTGluZTogbGluZSxcbiAgICAgIG9yaWdpbmFsQ29sdW1uOiB1dGlsLmdldEFyZyhhQXJncywgJ2NvbHVtbicsIDApXG4gICAgfTtcblxuICAgIG5lZWRsZS5zb3VyY2UgPSB0aGlzLl9maW5kU291cmNlSW5kZXgobmVlZGxlLnNvdXJjZSk7XG4gICAgaWYgKG5lZWRsZS5zb3VyY2UgPCAwKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgdmFyIG1hcHBpbmdzID0gW107XG5cbiAgICB2YXIgaW5kZXggPSB0aGlzLl9maW5kTWFwcGluZyhuZWVkbGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fb3JpZ2luYWxNYXBwaW5ncyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIm9yaWdpbmFsTGluZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwib3JpZ2luYWxDb2x1bW5cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dGlsLmNvbXBhcmVCeU9yaWdpbmFsUG9zaXRpb25zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJpbmFyeVNlYXJjaC5MRUFTVF9VUFBFUl9CT1VORCk7XG4gICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgIHZhciBtYXBwaW5nID0gdGhpcy5fb3JpZ2luYWxNYXBwaW5nc1tpbmRleF07XG5cbiAgICAgIGlmIChhQXJncy5jb2x1bW4gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB2YXIgb3JpZ2luYWxMaW5lID0gbWFwcGluZy5vcmlnaW5hbExpbmU7XG5cbiAgICAgICAgLy8gSXRlcmF0ZSB1bnRpbCBlaXRoZXIgd2UgcnVuIG91dCBvZiBtYXBwaW5ncywgb3Igd2UgcnVuIGludG9cbiAgICAgICAgLy8gYSBtYXBwaW5nIGZvciBhIGRpZmZlcmVudCBsaW5lIHRoYW4gdGhlIG9uZSB3ZSBmb3VuZC4gU2luY2VcbiAgICAgICAgLy8gbWFwcGluZ3MgYXJlIHNvcnRlZCwgdGhpcyBpcyBndWFyYW50ZWVkIHRvIGZpbmQgYWxsIG1hcHBpbmdzIGZvclxuICAgICAgICAvLyB0aGUgbGluZSB3ZSBmb3VuZC5cbiAgICAgICAgd2hpbGUgKG1hcHBpbmcgJiYgbWFwcGluZy5vcmlnaW5hbExpbmUgPT09IG9yaWdpbmFsTGluZSkge1xuICAgICAgICAgIG1hcHBpbmdzLnB1c2goe1xuICAgICAgICAgICAgbGluZTogdXRpbC5nZXRBcmcobWFwcGluZywgJ2dlbmVyYXRlZExpbmUnLCBudWxsKSxcbiAgICAgICAgICAgIGNvbHVtbjogdXRpbC5nZXRBcmcobWFwcGluZywgJ2dlbmVyYXRlZENvbHVtbicsIG51bGwpLFxuICAgICAgICAgICAgbGFzdENvbHVtbjogdXRpbC5nZXRBcmcobWFwcGluZywgJ2xhc3RHZW5lcmF0ZWRDb2x1bW4nLCBudWxsKVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgbWFwcGluZyA9IHRoaXMuX29yaWdpbmFsTWFwcGluZ3NbKytpbmRleF07XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBvcmlnaW5hbENvbHVtbiA9IG1hcHBpbmcub3JpZ2luYWxDb2x1bW47XG5cbiAgICAgICAgLy8gSXRlcmF0ZSB1bnRpbCBlaXRoZXIgd2UgcnVuIG91dCBvZiBtYXBwaW5ncywgb3Igd2UgcnVuIGludG9cbiAgICAgICAgLy8gYSBtYXBwaW5nIGZvciBhIGRpZmZlcmVudCBsaW5lIHRoYW4gdGhlIG9uZSB3ZSB3ZXJlIHNlYXJjaGluZyBmb3IuXG4gICAgICAgIC8vIFNpbmNlIG1hcHBpbmdzIGFyZSBzb3J0ZWQsIHRoaXMgaXMgZ3VhcmFudGVlZCB0byBmaW5kIGFsbCBtYXBwaW5ncyBmb3JcbiAgICAgICAgLy8gdGhlIGxpbmUgd2UgYXJlIHNlYXJjaGluZyBmb3IuXG4gICAgICAgIHdoaWxlIChtYXBwaW5nICYmXG4gICAgICAgICAgICAgICBtYXBwaW5nLm9yaWdpbmFsTGluZSA9PT0gbGluZSAmJlxuICAgICAgICAgICAgICAgbWFwcGluZy5vcmlnaW5hbENvbHVtbiA9PSBvcmlnaW5hbENvbHVtbikge1xuICAgICAgICAgIG1hcHBpbmdzLnB1c2goe1xuICAgICAgICAgICAgbGluZTogdXRpbC5nZXRBcmcobWFwcGluZywgJ2dlbmVyYXRlZExpbmUnLCBudWxsKSxcbiAgICAgICAgICAgIGNvbHVtbjogdXRpbC5nZXRBcmcobWFwcGluZywgJ2dlbmVyYXRlZENvbHVtbicsIG51bGwpLFxuICAgICAgICAgICAgbGFzdENvbHVtbjogdXRpbC5nZXRBcmcobWFwcGluZywgJ2xhc3RHZW5lcmF0ZWRDb2x1bW4nLCBudWxsKVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgbWFwcGluZyA9IHRoaXMuX29yaWdpbmFsTWFwcGluZ3NbKytpbmRleF07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbWFwcGluZ3M7XG4gIH07XG5cbmV4cG9ydHMuU291cmNlTWFwQ29uc3VtZXIgPSBTb3VyY2VNYXBDb25zdW1lcjtcblxuLyoqXG4gKiBBIEJhc2ljU291cmNlTWFwQ29uc3VtZXIgaW5zdGFuY2UgcmVwcmVzZW50cyBhIHBhcnNlZCBzb3VyY2UgbWFwIHdoaWNoIHdlIGNhblxuICogcXVlcnkgZm9yIGluZm9ybWF0aW9uIGFib3V0IHRoZSBvcmlnaW5hbCBmaWxlIHBvc2l0aW9ucyBieSBnaXZpbmcgaXQgYSBmaWxlXG4gKiBwb3NpdGlvbiBpbiB0aGUgZ2VuZXJhdGVkIHNvdXJjZS5cbiAqXG4gKiBUaGUgZmlyc3QgcGFyYW1ldGVyIGlzIHRoZSByYXcgc291cmNlIG1hcCAoZWl0aGVyIGFzIGEgSlNPTiBzdHJpbmcsIG9yXG4gKiBhbHJlYWR5IHBhcnNlZCB0byBhbiBvYmplY3QpLiBBY2NvcmRpbmcgdG8gdGhlIHNwZWMsIHNvdXJjZSBtYXBzIGhhdmUgdGhlXG4gKiBmb2xsb3dpbmcgYXR0cmlidXRlczpcbiAqXG4gKiAgIC0gdmVyc2lvbjogV2hpY2ggdmVyc2lvbiBvZiB0aGUgc291cmNlIG1hcCBzcGVjIHRoaXMgbWFwIGlzIGZvbGxvd2luZy5cbiAqICAgLSBzb3VyY2VzOiBBbiBhcnJheSBvZiBVUkxzIHRvIHRoZSBvcmlnaW5hbCBzb3VyY2UgZmlsZXMuXG4gKiAgIC0gbmFtZXM6IEFuIGFycmF5IG9mIGlkZW50aWZpZXJzIHdoaWNoIGNhbiBiZSByZWZlcnJlbmNlZCBieSBpbmRpdmlkdWFsIG1hcHBpbmdzLlxuICogICAtIHNvdXJjZVJvb3Q6IE9wdGlvbmFsLiBUaGUgVVJMIHJvb3QgZnJvbSB3aGljaCBhbGwgc291cmNlcyBhcmUgcmVsYXRpdmUuXG4gKiAgIC0gc291cmNlc0NvbnRlbnQ6IE9wdGlvbmFsLiBBbiBhcnJheSBvZiBjb250ZW50cyBvZiB0aGUgb3JpZ2luYWwgc291cmNlIGZpbGVzLlxuICogICAtIG1hcHBpbmdzOiBBIHN0cmluZyBvZiBiYXNlNjQgVkxRcyB3aGljaCBjb250YWluIHRoZSBhY3R1YWwgbWFwcGluZ3MuXG4gKiAgIC0gZmlsZTogT3B0aW9uYWwuIFRoZSBnZW5lcmF0ZWQgZmlsZSB0aGlzIHNvdXJjZSBtYXAgaXMgYXNzb2NpYXRlZCB3aXRoLlxuICpcbiAqIEhlcmUgaXMgYW4gZXhhbXBsZSBzb3VyY2UgbWFwLCB0YWtlbiBmcm9tIHRoZSBzb3VyY2UgbWFwIHNwZWNbMF06XG4gKlxuICogICAgIHtcbiAqICAgICAgIHZlcnNpb24gOiAzLFxuICogICAgICAgZmlsZTogXCJvdXQuanNcIixcbiAqICAgICAgIHNvdXJjZVJvb3QgOiBcIlwiLFxuICogICAgICAgc291cmNlczogW1wiZm9vLmpzXCIsIFwiYmFyLmpzXCJdLFxuICogICAgICAgbmFtZXM6IFtcInNyY1wiLCBcIm1hcHNcIiwgXCJhcmVcIiwgXCJmdW5cIl0sXG4gKiAgICAgICBtYXBwaW5nczogXCJBQSxBQjs7QUJDREU7XCJcbiAqICAgICB9XG4gKlxuICogVGhlIHNlY29uZCBwYXJhbWV0ZXIsIGlmIGdpdmVuLCBpcyBhIHN0cmluZyB3aG9zZSB2YWx1ZSBpcyB0aGUgVVJMXG4gKiBhdCB3aGljaCB0aGUgc291cmNlIG1hcCB3YXMgZm91bmQuICBUaGlzIFVSTCBpcyB1c2VkIHRvIGNvbXB1dGUgdGhlXG4gKiBzb3VyY2VzIGFycmF5LlxuICpcbiAqIFswXTogaHR0cHM6Ly9kb2NzLmdvb2dsZS5jb20vZG9jdW1lbnQvZC8xVTFSR0FlaFF3UnlwVVRvdkYxS1JscGlPRnplMGItXzJnYzZmQUgwS1kway9lZGl0P3BsaT0xI1xuICovXG5mdW5jdGlvbiBCYXNpY1NvdXJjZU1hcENvbnN1bWVyKGFTb3VyY2VNYXAsIGFTb3VyY2VNYXBVUkwpIHtcbiAgdmFyIHNvdXJjZU1hcCA9IGFTb3VyY2VNYXA7XG4gIGlmICh0eXBlb2YgYVNvdXJjZU1hcCA9PT0gJ3N0cmluZycpIHtcbiAgICBzb3VyY2VNYXAgPSB1dGlsLnBhcnNlU291cmNlTWFwSW5wdXQoYVNvdXJjZU1hcCk7XG4gIH1cblxuICB2YXIgdmVyc2lvbiA9IHV0aWwuZ2V0QXJnKHNvdXJjZU1hcCwgJ3ZlcnNpb24nKTtcbiAgdmFyIHNvdXJjZXMgPSB1dGlsLmdldEFyZyhzb3VyY2VNYXAsICdzb3VyY2VzJyk7XG4gIC8vIFNhc3MgMy4zIGxlYXZlcyBvdXQgdGhlICduYW1lcycgYXJyYXksIHNvIHdlIGRldmlhdGUgZnJvbSB0aGUgc3BlYyAod2hpY2hcbiAgLy8gcmVxdWlyZXMgdGhlIGFycmF5KSB0byBwbGF5IG5pY2UgaGVyZS5cbiAgdmFyIG5hbWVzID0gdXRpbC5nZXRBcmcoc291cmNlTWFwLCAnbmFtZXMnLCBbXSk7XG4gIHZhciBzb3VyY2VSb290ID0gdXRpbC5nZXRBcmcoc291cmNlTWFwLCAnc291cmNlUm9vdCcsIG51bGwpO1xuICB2YXIgc291cmNlc0NvbnRlbnQgPSB1dGlsLmdldEFyZyhzb3VyY2VNYXAsICdzb3VyY2VzQ29udGVudCcsIG51bGwpO1xuICB2YXIgbWFwcGluZ3MgPSB1dGlsLmdldEFyZyhzb3VyY2VNYXAsICdtYXBwaW5ncycpO1xuICB2YXIgZmlsZSA9IHV0aWwuZ2V0QXJnKHNvdXJjZU1hcCwgJ2ZpbGUnLCBudWxsKTtcblxuICAvLyBPbmNlIGFnYWluLCBTYXNzIGRldmlhdGVzIGZyb20gdGhlIHNwZWMgYW5kIHN1cHBsaWVzIHRoZSB2ZXJzaW9uIGFzIGFcbiAgLy8gc3RyaW5nIHJhdGhlciB0aGFuIGEgbnVtYmVyLCBzbyB3ZSB1c2UgbG9vc2UgZXF1YWxpdHkgY2hlY2tpbmcgaGVyZS5cbiAgaWYgKHZlcnNpb24gIT0gdGhpcy5fdmVyc2lvbikge1xuICAgIHRocm93IG5ldyBFcnJvcignVW5zdXBwb3J0ZWQgdmVyc2lvbjogJyArIHZlcnNpb24pO1xuICB9XG5cbiAgaWYgKHNvdXJjZVJvb3QpIHtcbiAgICBzb3VyY2VSb290ID0gdXRpbC5ub3JtYWxpemUoc291cmNlUm9vdCk7XG4gIH1cblxuICBzb3VyY2VzID0gc291cmNlc1xuICAgIC5tYXAoU3RyaW5nKVxuICAgIC8vIFNvbWUgc291cmNlIG1hcHMgcHJvZHVjZSByZWxhdGl2ZSBzb3VyY2UgcGF0aHMgbGlrZSBcIi4vZm9vLmpzXCIgaW5zdGVhZCBvZlxuICAgIC8vIFwiZm9vLmpzXCIuICBOb3JtYWxpemUgdGhlc2UgZmlyc3Qgc28gdGhhdCBmdXR1cmUgY29tcGFyaXNvbnMgd2lsbCBzdWNjZWVkLlxuICAgIC8vIFNlZSBidWd6aWwubGEvMTA5MDc2OC5cbiAgICAubWFwKHV0aWwubm9ybWFsaXplKVxuICAgIC8vIEFsd2F5cyBlbnN1cmUgdGhhdCBhYnNvbHV0ZSBzb3VyY2VzIGFyZSBpbnRlcm5hbGx5IHN0b3JlZCByZWxhdGl2ZSB0b1xuICAgIC8vIHRoZSBzb3VyY2Ugcm9vdCwgaWYgdGhlIHNvdXJjZSByb290IGlzIGFic29sdXRlLiBOb3QgZG9pbmcgdGhpcyB3b3VsZFxuICAgIC8vIGJlIHBhcnRpY3VsYXJseSBwcm9ibGVtYXRpYyB3aGVuIHRoZSBzb3VyY2Ugcm9vdCBpcyBhIHByZWZpeCBvZiB0aGVcbiAgICAvLyBzb3VyY2UgKHZhbGlkLCBidXQgd2h5Pz8pLiBTZWUgZ2l0aHViIGlzc3VlICMxOTkgYW5kIGJ1Z3ppbC5sYS8xMTg4OTgyLlxuICAgIC5tYXAoZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgcmV0dXJuIHNvdXJjZVJvb3QgJiYgdXRpbC5pc0Fic29sdXRlKHNvdXJjZVJvb3QpICYmIHV0aWwuaXNBYnNvbHV0ZShzb3VyY2UpXG4gICAgICAgID8gdXRpbC5yZWxhdGl2ZShzb3VyY2VSb290LCBzb3VyY2UpXG4gICAgICAgIDogc291cmNlO1xuICAgIH0pO1xuXG4gIC8vIFBhc3MgYHRydWVgIGJlbG93IHRvIGFsbG93IGR1cGxpY2F0ZSBuYW1lcyBhbmQgc291cmNlcy4gV2hpbGUgc291cmNlIG1hcHNcbiAgLy8gYXJlIGludGVuZGVkIHRvIGJlIGNvbXByZXNzZWQgYW5kIGRlZHVwbGljYXRlZCwgdGhlIFR5cGVTY3JpcHQgY29tcGlsZXJcbiAgLy8gc29tZXRpbWVzIGdlbmVyYXRlcyBzb3VyY2UgbWFwcyB3aXRoIGR1cGxpY2F0ZXMgaW4gdGhlbS4gU2VlIEdpdGh1YiBpc3N1ZVxuICAvLyAjNzIgYW5kIGJ1Z3ppbC5sYS84ODk0OTIuXG4gIHRoaXMuX25hbWVzID0gQXJyYXlTZXQuZnJvbUFycmF5KG5hbWVzLm1hcChTdHJpbmcpLCB0cnVlKTtcbiAgdGhpcy5fc291cmNlcyA9IEFycmF5U2V0LmZyb21BcnJheShzb3VyY2VzLCB0cnVlKTtcblxuICB0aGlzLl9hYnNvbHV0ZVNvdXJjZXMgPSB0aGlzLl9zb3VyY2VzLnRvQXJyYXkoKS5tYXAoZnVuY3Rpb24gKHMpIHtcbiAgICByZXR1cm4gdXRpbC5jb21wdXRlU291cmNlVVJMKHNvdXJjZVJvb3QsIHMsIGFTb3VyY2VNYXBVUkwpO1xuICB9KTtcblxuICB0aGlzLnNvdXJjZVJvb3QgPSBzb3VyY2VSb290O1xuICB0aGlzLnNvdXJjZXNDb250ZW50ID0gc291cmNlc0NvbnRlbnQ7XG4gIHRoaXMuX21hcHBpbmdzID0gbWFwcGluZ3M7XG4gIHRoaXMuX3NvdXJjZU1hcFVSTCA9IGFTb3VyY2VNYXBVUkw7XG4gIHRoaXMuZmlsZSA9IGZpbGU7XG59XG5cbkJhc2ljU291cmNlTWFwQ29uc3VtZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShTb3VyY2VNYXBDb25zdW1lci5wcm90b3R5cGUpO1xuQmFzaWNTb3VyY2VNYXBDb25zdW1lci5wcm90b3R5cGUuY29uc3VtZXIgPSBTb3VyY2VNYXBDb25zdW1lcjtcblxuLyoqXG4gKiBVdGlsaXR5IGZ1bmN0aW9uIHRvIGZpbmQgdGhlIGluZGV4IG9mIGEgc291cmNlLiAgUmV0dXJucyAtMSBpZiBub3RcbiAqIGZvdW5kLlxuICovXG5CYXNpY1NvdXJjZU1hcENvbnN1bWVyLnByb3RvdHlwZS5fZmluZFNvdXJjZUluZGV4ID0gZnVuY3Rpb24oYVNvdXJjZSkge1xuICB2YXIgcmVsYXRpdmVTb3VyY2UgPSBhU291cmNlO1xuICBpZiAodGhpcy5zb3VyY2VSb290ICE9IG51bGwpIHtcbiAgICByZWxhdGl2ZVNvdXJjZSA9IHV0aWwucmVsYXRpdmUodGhpcy5zb3VyY2VSb290LCByZWxhdGl2ZVNvdXJjZSk7XG4gIH1cblxuICBpZiAodGhpcy5fc291cmNlcy5oYXMocmVsYXRpdmVTb3VyY2UpKSB7XG4gICAgcmV0dXJuIHRoaXMuX3NvdXJjZXMuaW5kZXhPZihyZWxhdGl2ZVNvdXJjZSk7XG4gIH1cblxuICAvLyBNYXliZSBhU291cmNlIGlzIGFuIGFic29sdXRlIFVSTCBhcyByZXR1cm5lZCBieSB8c291cmNlc3wuICBJblxuICAvLyB0aGlzIGNhc2Ugd2UgY2FuJ3Qgc2ltcGx5IHVuZG8gdGhlIHRyYW5zZm9ybS5cbiAgdmFyIGk7XG4gIGZvciAoaSA9IDA7IGkgPCB0aGlzLl9hYnNvbHV0ZVNvdXJjZXMubGVuZ3RoOyArK2kpIHtcbiAgICBpZiAodGhpcy5fYWJzb2x1dGVTb3VyY2VzW2ldID09IGFTb3VyY2UpIHtcbiAgICAgIHJldHVybiBpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiAtMTtcbn07XG5cbi8qKlxuICogQ3JlYXRlIGEgQmFzaWNTb3VyY2VNYXBDb25zdW1lciBmcm9tIGEgU291cmNlTWFwR2VuZXJhdG9yLlxuICpcbiAqIEBwYXJhbSBTb3VyY2VNYXBHZW5lcmF0b3IgYVNvdXJjZU1hcFxuICogICAgICAgIFRoZSBzb3VyY2UgbWFwIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbiAqIEBwYXJhbSBTdHJpbmcgYVNvdXJjZU1hcFVSTFxuICogICAgICAgIFRoZSBVUkwgYXQgd2hpY2ggdGhlIHNvdXJjZSBtYXAgY2FuIGJlIGZvdW5kIChvcHRpb25hbClcbiAqIEByZXR1cm5zIEJhc2ljU291cmNlTWFwQ29uc3VtZXJcbiAqL1xuQmFzaWNTb3VyY2VNYXBDb25zdW1lci5mcm9tU291cmNlTWFwID1cbiAgZnVuY3Rpb24gU291cmNlTWFwQ29uc3VtZXJfZnJvbVNvdXJjZU1hcChhU291cmNlTWFwLCBhU291cmNlTWFwVVJMKSB7XG4gICAgdmFyIHNtYyA9IE9iamVjdC5jcmVhdGUoQmFzaWNTb3VyY2VNYXBDb25zdW1lci5wcm90b3R5cGUpO1xuXG4gICAgdmFyIG5hbWVzID0gc21jLl9uYW1lcyA9IEFycmF5U2V0LmZyb21BcnJheShhU291cmNlTWFwLl9uYW1lcy50b0FycmF5KCksIHRydWUpO1xuICAgIHZhciBzb3VyY2VzID0gc21jLl9zb3VyY2VzID0gQXJyYXlTZXQuZnJvbUFycmF5KGFTb3VyY2VNYXAuX3NvdXJjZXMudG9BcnJheSgpLCB0cnVlKTtcbiAgICBzbWMuc291cmNlUm9vdCA9IGFTb3VyY2VNYXAuX3NvdXJjZVJvb3Q7XG4gICAgc21jLnNvdXJjZXNDb250ZW50ID0gYVNvdXJjZU1hcC5fZ2VuZXJhdGVTb3VyY2VzQ29udGVudChzbWMuX3NvdXJjZXMudG9BcnJheSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc21jLnNvdXJjZVJvb3QpO1xuICAgIHNtYy5maWxlID0gYVNvdXJjZU1hcC5fZmlsZTtcbiAgICBzbWMuX3NvdXJjZU1hcFVSTCA9IGFTb3VyY2VNYXBVUkw7XG4gICAgc21jLl9hYnNvbHV0ZVNvdXJjZXMgPSBzbWMuX3NvdXJjZXMudG9BcnJheSgpLm1hcChmdW5jdGlvbiAocykge1xuICAgICAgcmV0dXJuIHV0aWwuY29tcHV0ZVNvdXJjZVVSTChzbWMuc291cmNlUm9vdCwgcywgYVNvdXJjZU1hcFVSTCk7XG4gICAgfSk7XG5cbiAgICAvLyBCZWNhdXNlIHdlIGFyZSBtb2RpZnlpbmcgdGhlIGVudHJpZXMgKGJ5IGNvbnZlcnRpbmcgc3RyaW5nIHNvdXJjZXMgYW5kXG4gICAgLy8gbmFtZXMgdG8gaW5kaWNlcyBpbnRvIHRoZSBzb3VyY2VzIGFuZCBuYW1lcyBBcnJheVNldHMpLCB3ZSBoYXZlIHRvIG1ha2VcbiAgICAvLyBhIGNvcHkgb2YgdGhlIGVudHJ5IG9yIGVsc2UgYmFkIHRoaW5ncyBoYXBwZW4uIFNoYXJlZCBtdXRhYmxlIHN0YXRlXG4gICAgLy8gc3RyaWtlcyBhZ2FpbiEgU2VlIGdpdGh1YiBpc3N1ZSAjMTkxLlxuXG4gICAgdmFyIGdlbmVyYXRlZE1hcHBpbmdzID0gYVNvdXJjZU1hcC5fbWFwcGluZ3MudG9BcnJheSgpLnNsaWNlKCk7XG4gICAgdmFyIGRlc3RHZW5lcmF0ZWRNYXBwaW5ncyA9IHNtYy5fX2dlbmVyYXRlZE1hcHBpbmdzID0gW107XG4gICAgdmFyIGRlc3RPcmlnaW5hbE1hcHBpbmdzID0gc21jLl9fb3JpZ2luYWxNYXBwaW5ncyA9IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IGdlbmVyYXRlZE1hcHBpbmdzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgc3JjTWFwcGluZyA9IGdlbmVyYXRlZE1hcHBpbmdzW2ldO1xuICAgICAgdmFyIGRlc3RNYXBwaW5nID0gbmV3IE1hcHBpbmc7XG4gICAgICBkZXN0TWFwcGluZy5nZW5lcmF0ZWRMaW5lID0gc3JjTWFwcGluZy5nZW5lcmF0ZWRMaW5lO1xuICAgICAgZGVzdE1hcHBpbmcuZ2VuZXJhdGVkQ29sdW1uID0gc3JjTWFwcGluZy5nZW5lcmF0ZWRDb2x1bW47XG5cbiAgICAgIGlmIChzcmNNYXBwaW5nLnNvdXJjZSkge1xuICAgICAgICBkZXN0TWFwcGluZy5zb3VyY2UgPSBzb3VyY2VzLmluZGV4T2Yoc3JjTWFwcGluZy5zb3VyY2UpO1xuICAgICAgICBkZXN0TWFwcGluZy5vcmlnaW5hbExpbmUgPSBzcmNNYXBwaW5nLm9yaWdpbmFsTGluZTtcbiAgICAgICAgZGVzdE1hcHBpbmcub3JpZ2luYWxDb2x1bW4gPSBzcmNNYXBwaW5nLm9yaWdpbmFsQ29sdW1uO1xuXG4gICAgICAgIGlmIChzcmNNYXBwaW5nLm5hbWUpIHtcbiAgICAgICAgICBkZXN0TWFwcGluZy5uYW1lID0gbmFtZXMuaW5kZXhPZihzcmNNYXBwaW5nLm5hbWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgZGVzdE9yaWdpbmFsTWFwcGluZ3MucHVzaChkZXN0TWFwcGluZyk7XG4gICAgICB9XG5cbiAgICAgIGRlc3RHZW5lcmF0ZWRNYXBwaW5ncy5wdXNoKGRlc3RNYXBwaW5nKTtcbiAgICB9XG5cbiAgICBxdWlja1NvcnQoc21jLl9fb3JpZ2luYWxNYXBwaW5ncywgdXRpbC5jb21wYXJlQnlPcmlnaW5hbFBvc2l0aW9ucyk7XG5cbiAgICByZXR1cm4gc21jO1xuICB9O1xuXG4vKipcbiAqIFRoZSB2ZXJzaW9uIG9mIHRoZSBzb3VyY2UgbWFwcGluZyBzcGVjIHRoYXQgd2UgYXJlIGNvbnN1bWluZy5cbiAqL1xuQmFzaWNTb3VyY2VNYXBDb25zdW1lci5wcm90b3R5cGUuX3ZlcnNpb24gPSAzO1xuXG4vKipcbiAqIFRoZSBsaXN0IG9mIG9yaWdpbmFsIHNvdXJjZXMuXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShCYXNpY1NvdXJjZU1hcENvbnN1bWVyLnByb3RvdHlwZSwgJ3NvdXJjZXMnLCB7XG4gIGdldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLl9hYnNvbHV0ZVNvdXJjZXMuc2xpY2UoKTtcbiAgfVxufSk7XG5cbi8qKlxuICogUHJvdmlkZSB0aGUgSklUIHdpdGggYSBuaWNlIHNoYXBlIC8gaGlkZGVuIGNsYXNzLlxuICovXG5mdW5jdGlvbiBNYXBwaW5nKCkge1xuICB0aGlzLmdlbmVyYXRlZExpbmUgPSAwO1xuICB0aGlzLmdlbmVyYXRlZENvbHVtbiA9IDA7XG4gIHRoaXMuc291cmNlID0gbnVsbDtcbiAgdGhpcy5vcmlnaW5hbExpbmUgPSBudWxsO1xuICB0aGlzLm9yaWdpbmFsQ29sdW1uID0gbnVsbDtcbiAgdGhpcy5uYW1lID0gbnVsbDtcbn1cblxuLyoqXG4gKiBQYXJzZSB0aGUgbWFwcGluZ3MgaW4gYSBzdHJpbmcgaW4gdG8gYSBkYXRhIHN0cnVjdHVyZSB3aGljaCB3ZSBjYW4gZWFzaWx5XG4gKiBxdWVyeSAodGhlIG9yZGVyZWQgYXJyYXlzIGluIHRoZSBgdGhpcy5fX2dlbmVyYXRlZE1hcHBpbmdzYCBhbmRcbiAqIGB0aGlzLl9fb3JpZ2luYWxNYXBwaW5nc2AgcHJvcGVydGllcykuXG4gKi9cbkJhc2ljU291cmNlTWFwQ29uc3VtZXIucHJvdG90eXBlLl9wYXJzZU1hcHBpbmdzID1cbiAgZnVuY3Rpb24gU291cmNlTWFwQ29uc3VtZXJfcGFyc2VNYXBwaW5ncyhhU3RyLCBhU291cmNlUm9vdCkge1xuICAgIHZhciBnZW5lcmF0ZWRMaW5lID0gMTtcbiAgICB2YXIgcHJldmlvdXNHZW5lcmF0ZWRDb2x1bW4gPSAwO1xuICAgIHZhciBwcmV2aW91c09yaWdpbmFsTGluZSA9IDA7XG4gICAgdmFyIHByZXZpb3VzT3JpZ2luYWxDb2x1bW4gPSAwO1xuICAgIHZhciBwcmV2aW91c1NvdXJjZSA9IDA7XG4gICAgdmFyIHByZXZpb3VzTmFtZSA9IDA7XG4gICAgdmFyIGxlbmd0aCA9IGFTdHIubGVuZ3RoO1xuICAgIHZhciBpbmRleCA9IDA7XG4gICAgdmFyIGNhY2hlZFNlZ21lbnRzID0ge307XG4gICAgdmFyIHRlbXAgPSB7fTtcbiAgICB2YXIgb3JpZ2luYWxNYXBwaW5ncyA9IFtdO1xuICAgIHZhciBnZW5lcmF0ZWRNYXBwaW5ncyA9IFtdO1xuICAgIHZhciBtYXBwaW5nLCBzdHIsIHNlZ21lbnQsIGVuZCwgdmFsdWU7XG5cbiAgICB3aGlsZSAoaW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIGlmIChhU3RyLmNoYXJBdChpbmRleCkgPT09ICc7Jykge1xuICAgICAgICBnZW5lcmF0ZWRMaW5lKys7XG4gICAgICAgIGluZGV4Kys7XG4gICAgICAgIHByZXZpb3VzR2VuZXJhdGVkQ29sdW1uID0gMDtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKGFTdHIuY2hhckF0KGluZGV4KSA9PT0gJywnKSB7XG4gICAgICAgIGluZGV4Kys7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgbWFwcGluZyA9IG5ldyBNYXBwaW5nKCk7XG4gICAgICAgIG1hcHBpbmcuZ2VuZXJhdGVkTGluZSA9IGdlbmVyYXRlZExpbmU7XG5cbiAgICAgICAgLy8gQmVjYXVzZSBlYWNoIG9mZnNldCBpcyBlbmNvZGVkIHJlbGF0aXZlIHRvIHRoZSBwcmV2aW91cyBvbmUsXG4gICAgICAgIC8vIG1hbnkgc2VnbWVudHMgb2Z0ZW4gaGF2ZSB0aGUgc2FtZSBlbmNvZGluZy4gV2UgY2FuIGV4cGxvaXQgdGhpc1xuICAgICAgICAvLyBmYWN0IGJ5IGNhY2hpbmcgdGhlIHBhcnNlZCB2YXJpYWJsZSBsZW5ndGggZmllbGRzIG9mIGVhY2ggc2VnbWVudCxcbiAgICAgICAgLy8gYWxsb3dpbmcgdXMgdG8gYXZvaWQgYSBzZWNvbmQgcGFyc2UgaWYgd2UgZW5jb3VudGVyIHRoZSBzYW1lXG4gICAgICAgIC8vIHNlZ21lbnQgYWdhaW4uXG4gICAgICAgIGZvciAoZW5kID0gaW5kZXg7IGVuZCA8IGxlbmd0aDsgZW5kKyspIHtcbiAgICAgICAgICBpZiAodGhpcy5fY2hhcklzTWFwcGluZ1NlcGFyYXRvcihhU3RyLCBlbmQpKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc3RyID0gYVN0ci5zbGljZShpbmRleCwgZW5kKTtcblxuICAgICAgICBzZWdtZW50ID0gY2FjaGVkU2VnbWVudHNbc3RyXTtcbiAgICAgICAgaWYgKHNlZ21lbnQpIHtcbiAgICAgICAgICBpbmRleCArPSBzdHIubGVuZ3RoO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlZ21lbnQgPSBbXTtcbiAgICAgICAgICB3aGlsZSAoaW5kZXggPCBlbmQpIHtcbiAgICAgICAgICAgIGJhc2U2NFZMUS5kZWNvZGUoYVN0ciwgaW5kZXgsIHRlbXApO1xuICAgICAgICAgICAgdmFsdWUgPSB0ZW1wLnZhbHVlO1xuICAgICAgICAgICAgaW5kZXggPSB0ZW1wLnJlc3Q7XG4gICAgICAgICAgICBzZWdtZW50LnB1c2godmFsdWUpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChzZWdtZW50Lmxlbmd0aCA9PT0gMikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGb3VuZCBhIHNvdXJjZSwgYnV0IG5vIGxpbmUgYW5kIGNvbHVtbicpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChzZWdtZW50Lmxlbmd0aCA9PT0gMykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGb3VuZCBhIHNvdXJjZSBhbmQgbGluZSwgYnV0IG5vIGNvbHVtbicpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNhY2hlZFNlZ21lbnRzW3N0cl0gPSBzZWdtZW50O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gR2VuZXJhdGVkIGNvbHVtbi5cbiAgICAgICAgbWFwcGluZy5nZW5lcmF0ZWRDb2x1bW4gPSBwcmV2aW91c0dlbmVyYXRlZENvbHVtbiArIHNlZ21lbnRbMF07XG4gICAgICAgIHByZXZpb3VzR2VuZXJhdGVkQ29sdW1uID0gbWFwcGluZy5nZW5lcmF0ZWRDb2x1bW47XG5cbiAgICAgICAgaWYgKHNlZ21lbnQubGVuZ3RoID4gMSkge1xuICAgICAgICAgIC8vIE9yaWdpbmFsIHNvdXJjZS5cbiAgICAgICAgICBtYXBwaW5nLnNvdXJjZSA9IHByZXZpb3VzU291cmNlICsgc2VnbWVudFsxXTtcbiAgICAgICAgICBwcmV2aW91c1NvdXJjZSArPSBzZWdtZW50WzFdO1xuXG4gICAgICAgICAgLy8gT3JpZ2luYWwgbGluZS5cbiAgICAgICAgICBtYXBwaW5nLm9yaWdpbmFsTGluZSA9IHByZXZpb3VzT3JpZ2luYWxMaW5lICsgc2VnbWVudFsyXTtcbiAgICAgICAgICBwcmV2aW91c09yaWdpbmFsTGluZSA9IG1hcHBpbmcub3JpZ2luYWxMaW5lO1xuICAgICAgICAgIC8vIExpbmVzIGFyZSBzdG9yZWQgMC1iYXNlZFxuICAgICAgICAgIG1hcHBpbmcub3JpZ2luYWxMaW5lICs9IDE7XG5cbiAgICAgICAgICAvLyBPcmlnaW5hbCBjb2x1bW4uXG4gICAgICAgICAgbWFwcGluZy5vcmlnaW5hbENvbHVtbiA9IHByZXZpb3VzT3JpZ2luYWxDb2x1bW4gKyBzZWdtZW50WzNdO1xuICAgICAgICAgIHByZXZpb3VzT3JpZ2luYWxDb2x1bW4gPSBtYXBwaW5nLm9yaWdpbmFsQ29sdW1uO1xuXG4gICAgICAgICAgaWYgKHNlZ21lbnQubGVuZ3RoID4gNCkge1xuICAgICAgICAgICAgLy8gT3JpZ2luYWwgbmFtZS5cbiAgICAgICAgICAgIG1hcHBpbmcubmFtZSA9IHByZXZpb3VzTmFtZSArIHNlZ21lbnRbNF07XG4gICAgICAgICAgICBwcmV2aW91c05hbWUgKz0gc2VnbWVudFs0XTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBnZW5lcmF0ZWRNYXBwaW5ncy5wdXNoKG1hcHBpbmcpO1xuICAgICAgICBpZiAodHlwZW9mIG1hcHBpbmcub3JpZ2luYWxMaW5lID09PSAnbnVtYmVyJykge1xuICAgICAgICAgIG9yaWdpbmFsTWFwcGluZ3MucHVzaChtYXBwaW5nKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHF1aWNrU29ydChnZW5lcmF0ZWRNYXBwaW5ncywgdXRpbC5jb21wYXJlQnlHZW5lcmF0ZWRQb3NpdGlvbnNEZWZsYXRlZCk7XG4gICAgdGhpcy5fX2dlbmVyYXRlZE1hcHBpbmdzID0gZ2VuZXJhdGVkTWFwcGluZ3M7XG5cbiAgICBxdWlja1NvcnQob3JpZ2luYWxNYXBwaW5ncywgdXRpbC5jb21wYXJlQnlPcmlnaW5hbFBvc2l0aW9ucyk7XG4gICAgdGhpcy5fX29yaWdpbmFsTWFwcGluZ3MgPSBvcmlnaW5hbE1hcHBpbmdzO1xuICB9O1xuXG4vKipcbiAqIEZpbmQgdGhlIG1hcHBpbmcgdGhhdCBiZXN0IG1hdGNoZXMgdGhlIGh5cG90aGV0aWNhbCBcIm5lZWRsZVwiIG1hcHBpbmcgdGhhdFxuICogd2UgYXJlIHNlYXJjaGluZyBmb3IgaW4gdGhlIGdpdmVuIFwiaGF5c3RhY2tcIiBvZiBtYXBwaW5ncy5cbiAqL1xuQmFzaWNTb3VyY2VNYXBDb25zdW1lci5wcm90b3R5cGUuX2ZpbmRNYXBwaW5nID1cbiAgZnVuY3Rpb24gU291cmNlTWFwQ29uc3VtZXJfZmluZE1hcHBpbmcoYU5lZWRsZSwgYU1hcHBpbmdzLCBhTGluZU5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFDb2x1bW5OYW1lLCBhQ29tcGFyYXRvciwgYUJpYXMpIHtcbiAgICAvLyBUbyByZXR1cm4gdGhlIHBvc2l0aW9uIHdlIGFyZSBzZWFyY2hpbmcgZm9yLCB3ZSBtdXN0IGZpcnN0IGZpbmQgdGhlXG4gICAgLy8gbWFwcGluZyBmb3IgdGhlIGdpdmVuIHBvc2l0aW9uIGFuZCB0aGVuIHJldHVybiB0aGUgb3Bwb3NpdGUgcG9zaXRpb24gaXRcbiAgICAvLyBwb2ludHMgdG8uIEJlY2F1c2UgdGhlIG1hcHBpbmdzIGFyZSBzb3J0ZWQsIHdlIGNhbiB1c2UgYmluYXJ5IHNlYXJjaCB0b1xuICAgIC8vIGZpbmQgdGhlIGJlc3QgbWFwcGluZy5cblxuICAgIGlmIChhTmVlZGxlW2FMaW5lTmFtZV0gPD0gMCkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignTGluZSBtdXN0IGJlIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byAxLCBnb3QgJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICArIGFOZWVkbGVbYUxpbmVOYW1lXSk7XG4gICAgfVxuICAgIGlmIChhTmVlZGxlW2FDb2x1bW5OYW1lXSA8IDApIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0NvbHVtbiBtdXN0IGJlIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byAwLCBnb3QgJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICArIGFOZWVkbGVbYUNvbHVtbk5hbWVdKTtcbiAgICB9XG5cbiAgICByZXR1cm4gYmluYXJ5U2VhcmNoLnNlYXJjaChhTmVlZGxlLCBhTWFwcGluZ3MsIGFDb21wYXJhdG9yLCBhQmlhcyk7XG4gIH07XG5cbi8qKlxuICogQ29tcHV0ZSB0aGUgbGFzdCBjb2x1bW4gZm9yIGVhY2ggZ2VuZXJhdGVkIG1hcHBpbmcuIFRoZSBsYXN0IGNvbHVtbiBpc1xuICogaW5jbHVzaXZlLlxuICovXG5CYXNpY1NvdXJjZU1hcENvbnN1bWVyLnByb3RvdHlwZS5jb21wdXRlQ29sdW1uU3BhbnMgPVxuICBmdW5jdGlvbiBTb3VyY2VNYXBDb25zdW1lcl9jb21wdXRlQ29sdW1uU3BhbnMoKSB7XG4gICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IHRoaXMuX2dlbmVyYXRlZE1hcHBpbmdzLmxlbmd0aDsgKytpbmRleCkge1xuICAgICAgdmFyIG1hcHBpbmcgPSB0aGlzLl9nZW5lcmF0ZWRNYXBwaW5nc1tpbmRleF07XG5cbiAgICAgIC8vIE1hcHBpbmdzIGRvIG5vdCBjb250YWluIGEgZmllbGQgZm9yIHRoZSBsYXN0IGdlbmVyYXRlZCBjb2x1bW50LiBXZVxuICAgICAgLy8gY2FuIGNvbWUgdXAgd2l0aCBhbiBvcHRpbWlzdGljIGVzdGltYXRlLCBob3dldmVyLCBieSBhc3N1bWluZyB0aGF0XG4gICAgICAvLyBtYXBwaW5ncyBhcmUgY29udGlndW91cyAoaS5lLiBnaXZlbiB0d28gY29uc2VjdXRpdmUgbWFwcGluZ3MsIHRoZVxuICAgICAgLy8gZmlyc3QgbWFwcGluZyBlbmRzIHdoZXJlIHRoZSBzZWNvbmQgb25lIHN0YXJ0cykuXG4gICAgICBpZiAoaW5kZXggKyAxIDwgdGhpcy5fZ2VuZXJhdGVkTWFwcGluZ3MubGVuZ3RoKSB7XG4gICAgICAgIHZhciBuZXh0TWFwcGluZyA9IHRoaXMuX2dlbmVyYXRlZE1hcHBpbmdzW2luZGV4ICsgMV07XG5cbiAgICAgICAgaWYgKG1hcHBpbmcuZ2VuZXJhdGVkTGluZSA9PT0gbmV4dE1hcHBpbmcuZ2VuZXJhdGVkTGluZSkge1xuICAgICAgICAgIG1hcHBpbmcubGFzdEdlbmVyYXRlZENvbHVtbiA9IG5leHRNYXBwaW5nLmdlbmVyYXRlZENvbHVtbiAtIDE7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gVGhlIGxhc3QgbWFwcGluZyBmb3IgZWFjaCBsaW5lIHNwYW5zIHRoZSBlbnRpcmUgbGluZS5cbiAgICAgIG1hcHBpbmcubGFzdEdlbmVyYXRlZENvbHVtbiA9IEluZmluaXR5O1xuICAgIH1cbiAgfTtcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBvcmlnaW5hbCBzb3VyY2UsIGxpbmUsIGFuZCBjb2x1bW4gaW5mb3JtYXRpb24gZm9yIHRoZSBnZW5lcmF0ZWRcbiAqIHNvdXJjZSdzIGxpbmUgYW5kIGNvbHVtbiBwb3NpdGlvbnMgcHJvdmlkZWQuIFRoZSBvbmx5IGFyZ3VtZW50IGlzIGFuIG9iamVjdFxuICogd2l0aCB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gKlxuICogICAtIGxpbmU6IFRoZSBsaW5lIG51bWJlciBpbiB0aGUgZ2VuZXJhdGVkIHNvdXJjZS4gIFRoZSBsaW5lIG51bWJlclxuICogICAgIGlzIDEtYmFzZWQuXG4gKiAgIC0gY29sdW1uOiBUaGUgY29sdW1uIG51bWJlciBpbiB0aGUgZ2VuZXJhdGVkIHNvdXJjZS4gIFRoZSBjb2x1bW5cbiAqICAgICBudW1iZXIgaXMgMC1iYXNlZC5cbiAqICAgLSBiaWFzOiBFaXRoZXIgJ1NvdXJjZU1hcENvbnN1bWVyLkdSRUFURVNUX0xPV0VSX0JPVU5EJyBvclxuICogICAgICdTb3VyY2VNYXBDb25zdW1lci5MRUFTVF9VUFBFUl9CT1VORCcuIFNwZWNpZmllcyB3aGV0aGVyIHRvIHJldHVybiB0aGVcbiAqICAgICBjbG9zZXN0IGVsZW1lbnQgdGhhdCBpcyBzbWFsbGVyIHRoYW4gb3IgZ3JlYXRlciB0aGFuIHRoZSBvbmUgd2UgYXJlXG4gKiAgICAgc2VhcmNoaW5nIGZvciwgcmVzcGVjdGl2ZWx5LCBpZiB0aGUgZXhhY3QgZWxlbWVudCBjYW5ub3QgYmUgZm91bmQuXG4gKiAgICAgRGVmYXVsdHMgdG8gJ1NvdXJjZU1hcENvbnN1bWVyLkdSRUFURVNUX0xPV0VSX0JPVU5EJy5cbiAqXG4gKiBhbmQgYW4gb2JqZWN0IGlzIHJldHVybmVkIHdpdGggdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuICpcbiAqICAgLSBzb3VyY2U6IFRoZSBvcmlnaW5hbCBzb3VyY2UgZmlsZSwgb3IgbnVsbC5cbiAqICAgLSBsaW5lOiBUaGUgbGluZSBudW1iZXIgaW4gdGhlIG9yaWdpbmFsIHNvdXJjZSwgb3IgbnVsbC4gIFRoZVxuICogICAgIGxpbmUgbnVtYmVyIGlzIDEtYmFzZWQuXG4gKiAgIC0gY29sdW1uOiBUaGUgY29sdW1uIG51bWJlciBpbiB0aGUgb3JpZ2luYWwgc291cmNlLCBvciBudWxsLiAgVGhlXG4gKiAgICAgY29sdW1uIG51bWJlciBpcyAwLWJhc2VkLlxuICogICAtIG5hbWU6IFRoZSBvcmlnaW5hbCBpZGVudGlmaWVyLCBvciBudWxsLlxuICovXG5CYXNpY1NvdXJjZU1hcENvbnN1bWVyLnByb3RvdHlwZS5vcmlnaW5hbFBvc2l0aW9uRm9yID1cbiAgZnVuY3Rpb24gU291cmNlTWFwQ29uc3VtZXJfb3JpZ2luYWxQb3NpdGlvbkZvcihhQXJncykge1xuICAgIHZhciBuZWVkbGUgPSB7XG4gICAgICBnZW5lcmF0ZWRMaW5lOiB1dGlsLmdldEFyZyhhQXJncywgJ2xpbmUnKSxcbiAgICAgIGdlbmVyYXRlZENvbHVtbjogdXRpbC5nZXRBcmcoYUFyZ3MsICdjb2x1bW4nKVxuICAgIH07XG5cbiAgICB2YXIgaW5kZXggPSB0aGlzLl9maW5kTWFwcGluZyhcbiAgICAgIG5lZWRsZSxcbiAgICAgIHRoaXMuX2dlbmVyYXRlZE1hcHBpbmdzLFxuICAgICAgXCJnZW5lcmF0ZWRMaW5lXCIsXG4gICAgICBcImdlbmVyYXRlZENvbHVtblwiLFxuICAgICAgdXRpbC5jb21wYXJlQnlHZW5lcmF0ZWRQb3NpdGlvbnNEZWZsYXRlZCxcbiAgICAgIHV0aWwuZ2V0QXJnKGFBcmdzLCAnYmlhcycsIFNvdXJjZU1hcENvbnN1bWVyLkdSRUFURVNUX0xPV0VSX0JPVU5EKVxuICAgICk7XG5cbiAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgdmFyIG1hcHBpbmcgPSB0aGlzLl9nZW5lcmF0ZWRNYXBwaW5nc1tpbmRleF07XG5cbiAgICAgIGlmIChtYXBwaW5nLmdlbmVyYXRlZExpbmUgPT09IG5lZWRsZS5nZW5lcmF0ZWRMaW5lKSB7XG4gICAgICAgIHZhciBzb3VyY2UgPSB1dGlsLmdldEFyZyhtYXBwaW5nLCAnc291cmNlJywgbnVsbCk7XG4gICAgICAgIGlmIChzb3VyY2UgIT09IG51bGwpIHtcbiAgICAgICAgICBzb3VyY2UgPSB0aGlzLl9zb3VyY2VzLmF0KHNvdXJjZSk7XG4gICAgICAgICAgc291cmNlID0gdXRpbC5jb21wdXRlU291cmNlVVJMKHRoaXMuc291cmNlUm9vdCwgc291cmNlLCB0aGlzLl9zb3VyY2VNYXBVUkwpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBuYW1lID0gdXRpbC5nZXRBcmcobWFwcGluZywgJ25hbWUnLCBudWxsKTtcbiAgICAgICAgaWYgKG5hbWUgIT09IG51bGwpIHtcbiAgICAgICAgICBuYW1lID0gdGhpcy5fbmFtZXMuYXQobmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzb3VyY2U6IHNvdXJjZSxcbiAgICAgICAgICBsaW5lOiB1dGlsLmdldEFyZyhtYXBwaW5nLCAnb3JpZ2luYWxMaW5lJywgbnVsbCksXG4gICAgICAgICAgY29sdW1uOiB1dGlsLmdldEFyZyhtYXBwaW5nLCAnb3JpZ2luYWxDb2x1bW4nLCBudWxsKSxcbiAgICAgICAgICBuYW1lOiBuYW1lXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIHNvdXJjZTogbnVsbCxcbiAgICAgIGxpbmU6IG51bGwsXG4gICAgICBjb2x1bW46IG51bGwsXG4gICAgICBuYW1lOiBudWxsXG4gICAgfTtcbiAgfTtcblxuLyoqXG4gKiBSZXR1cm4gdHJ1ZSBpZiB3ZSBoYXZlIHRoZSBzb3VyY2UgY29udGVudCBmb3IgZXZlcnkgc291cmNlIGluIHRoZSBzb3VyY2VcbiAqIG1hcCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICovXG5CYXNpY1NvdXJjZU1hcENvbnN1bWVyLnByb3RvdHlwZS5oYXNDb250ZW50c09mQWxsU291cmNlcyA9XG4gIGZ1bmN0aW9uIEJhc2ljU291cmNlTWFwQ29uc3VtZXJfaGFzQ29udGVudHNPZkFsbFNvdXJjZXMoKSB7XG4gICAgaWYgKCF0aGlzLnNvdXJjZXNDb250ZW50KSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNvdXJjZXNDb250ZW50Lmxlbmd0aCA+PSB0aGlzLl9zb3VyY2VzLnNpemUoKSAmJlxuICAgICAgIXRoaXMuc291cmNlc0NvbnRlbnQuc29tZShmdW5jdGlvbiAoc2MpIHsgcmV0dXJuIHNjID09IG51bGw7IH0pO1xuICB9O1xuXG4vKipcbiAqIFJldHVybnMgdGhlIG9yaWdpbmFsIHNvdXJjZSBjb250ZW50LiBUaGUgb25seSBhcmd1bWVudCBpcyB0aGUgdXJsIG9mIHRoZVxuICogb3JpZ2luYWwgc291cmNlIGZpbGUuIFJldHVybnMgbnVsbCBpZiBubyBvcmlnaW5hbCBzb3VyY2UgY29udGVudCBpc1xuICogYXZhaWxhYmxlLlxuICovXG5CYXNpY1NvdXJjZU1hcENvbnN1bWVyLnByb3RvdHlwZS5zb3VyY2VDb250ZW50Rm9yID1cbiAgZnVuY3Rpb24gU291cmNlTWFwQ29uc3VtZXJfc291cmNlQ29udGVudEZvcihhU291cmNlLCBudWxsT25NaXNzaW5nKSB7XG4gICAgaWYgKCF0aGlzLnNvdXJjZXNDb250ZW50KSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICB2YXIgaW5kZXggPSB0aGlzLl9maW5kU291cmNlSW5kZXgoYVNvdXJjZSk7XG4gICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgIHJldHVybiB0aGlzLnNvdXJjZXNDb250ZW50W2luZGV4XTtcbiAgICB9XG5cbiAgICB2YXIgcmVsYXRpdmVTb3VyY2UgPSBhU291cmNlO1xuICAgIGlmICh0aGlzLnNvdXJjZVJvb3QgIT0gbnVsbCkge1xuICAgICAgcmVsYXRpdmVTb3VyY2UgPSB1dGlsLnJlbGF0aXZlKHRoaXMuc291cmNlUm9vdCwgcmVsYXRpdmVTb3VyY2UpO1xuICAgIH1cblxuICAgIHZhciB1cmw7XG4gICAgaWYgKHRoaXMuc291cmNlUm9vdCAhPSBudWxsXG4gICAgICAgICYmICh1cmwgPSB1dGlsLnVybFBhcnNlKHRoaXMuc291cmNlUm9vdCkpKSB7XG4gICAgICAvLyBYWFg6IGZpbGU6Ly8gVVJJcyBhbmQgYWJzb2x1dGUgcGF0aHMgbGVhZCB0byB1bmV4cGVjdGVkIGJlaGF2aW9yIGZvclxuICAgICAgLy8gbWFueSB1c2Vycy4gV2UgY2FuIGhlbHAgdGhlbSBvdXQgd2hlbiB0aGV5IGV4cGVjdCBmaWxlOi8vIFVSSXMgdG9cbiAgICAgIC8vIGJlaGF2ZSBsaWtlIGl0IHdvdWxkIGlmIHRoZXkgd2VyZSBydW5uaW5nIGEgbG9jYWwgSFRUUCBzZXJ2ZXIuIFNlZVxuICAgICAgLy8gaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9ODg1NTk3LlxuICAgICAgdmFyIGZpbGVVcmlBYnNQYXRoID0gcmVsYXRpdmVTb3VyY2UucmVwbGFjZSgvXmZpbGU6XFwvXFwvLywgXCJcIik7XG4gICAgICBpZiAodXJsLnNjaGVtZSA9PSBcImZpbGVcIlxuICAgICAgICAgICYmIHRoaXMuX3NvdXJjZXMuaGFzKGZpbGVVcmlBYnNQYXRoKSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zb3VyY2VzQ29udGVudFt0aGlzLl9zb3VyY2VzLmluZGV4T2YoZmlsZVVyaUFic1BhdGgpXVxuICAgICAgfVxuXG4gICAgICBpZiAoKCF1cmwucGF0aCB8fCB1cmwucGF0aCA9PSBcIi9cIilcbiAgICAgICAgICAmJiB0aGlzLl9zb3VyY2VzLmhhcyhcIi9cIiArIHJlbGF0aXZlU291cmNlKSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zb3VyY2VzQ29udGVudFt0aGlzLl9zb3VyY2VzLmluZGV4T2YoXCIvXCIgKyByZWxhdGl2ZVNvdXJjZSldO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFRoaXMgZnVuY3Rpb24gaXMgdXNlZCByZWN1cnNpdmVseSBmcm9tXG4gICAgLy8gSW5kZXhlZFNvdXJjZU1hcENvbnN1bWVyLnByb3RvdHlwZS5zb3VyY2VDb250ZW50Rm9yLiBJbiB0aGF0IGNhc2UsIHdlXG4gICAgLy8gZG9uJ3Qgd2FudCB0byB0aHJvdyBpZiB3ZSBjYW4ndCBmaW5kIHRoZSBzb3VyY2UgLSB3ZSBqdXN0IHdhbnQgdG9cbiAgICAvLyByZXR1cm4gbnVsbCwgc28gd2UgcHJvdmlkZSBhIGZsYWcgdG8gZXhpdCBncmFjZWZ1bGx5LlxuICAgIGlmIChudWxsT25NaXNzaW5nKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1wiJyArIHJlbGF0aXZlU291cmNlICsgJ1wiIGlzIG5vdCBpbiB0aGUgU291cmNlTWFwLicpO1xuICAgIH1cbiAgfTtcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBnZW5lcmF0ZWQgbGluZSBhbmQgY29sdW1uIGluZm9ybWF0aW9uIGZvciB0aGUgb3JpZ2luYWwgc291cmNlLFxuICogbGluZSwgYW5kIGNvbHVtbiBwb3NpdGlvbnMgcHJvdmlkZWQuIFRoZSBvbmx5IGFyZ3VtZW50IGlzIGFuIG9iamVjdCB3aXRoXG4gKiB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gKlxuICogICAtIHNvdXJjZTogVGhlIGZpbGVuYW1lIG9mIHRoZSBvcmlnaW5hbCBzb3VyY2UuXG4gKiAgIC0gbGluZTogVGhlIGxpbmUgbnVtYmVyIGluIHRoZSBvcmlnaW5hbCBzb3VyY2UuICBUaGUgbGluZSBudW1iZXJcbiAqICAgICBpcyAxLWJhc2VkLlxuICogICAtIGNvbHVtbjogVGhlIGNvbHVtbiBudW1iZXIgaW4gdGhlIG9yaWdpbmFsIHNvdXJjZS4gIFRoZSBjb2x1bW5cbiAqICAgICBudW1iZXIgaXMgMC1iYXNlZC5cbiAqICAgLSBiaWFzOiBFaXRoZXIgJ1NvdXJjZU1hcENvbnN1bWVyLkdSRUFURVNUX0xPV0VSX0JPVU5EJyBvclxuICogICAgICdTb3VyY2VNYXBDb25zdW1lci5MRUFTVF9VUFBFUl9CT1VORCcuIFNwZWNpZmllcyB3aGV0aGVyIHRvIHJldHVybiB0aGVcbiAqICAgICBjbG9zZXN0IGVsZW1lbnQgdGhhdCBpcyBzbWFsbGVyIHRoYW4gb3IgZ3JlYXRlciB0aGFuIHRoZSBvbmUgd2UgYXJlXG4gKiAgICAgc2VhcmNoaW5nIGZvciwgcmVzcGVjdGl2ZWx5LCBpZiB0aGUgZXhhY3QgZWxlbWVudCBjYW5ub3QgYmUgZm91bmQuXG4gKiAgICAgRGVmYXVsdHMgdG8gJ1NvdXJjZU1hcENvbnN1bWVyLkdSRUFURVNUX0xPV0VSX0JPVU5EJy5cbiAqXG4gKiBhbmQgYW4gb2JqZWN0IGlzIHJldHVybmVkIHdpdGggdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuICpcbiAqICAgLSBsaW5lOiBUaGUgbGluZSBudW1iZXIgaW4gdGhlIGdlbmVyYXRlZCBzb3VyY2UsIG9yIG51bGwuICBUaGVcbiAqICAgICBsaW5lIG51bWJlciBpcyAxLWJhc2VkLlxuICogICAtIGNvbHVtbjogVGhlIGNvbHVtbiBudW1iZXIgaW4gdGhlIGdlbmVyYXRlZCBzb3VyY2UsIG9yIG51bGwuXG4gKiAgICAgVGhlIGNvbHVtbiBudW1iZXIgaXMgMC1iYXNlZC5cbiAqL1xuQmFzaWNTb3VyY2VNYXBDb25zdW1lci5wcm90b3R5cGUuZ2VuZXJhdGVkUG9zaXRpb25Gb3IgPVxuICBmdW5jdGlvbiBTb3VyY2VNYXBDb25zdW1lcl9nZW5lcmF0ZWRQb3NpdGlvbkZvcihhQXJncykge1xuICAgIHZhciBzb3VyY2UgPSB1dGlsLmdldEFyZyhhQXJncywgJ3NvdXJjZScpO1xuICAgIHNvdXJjZSA9IHRoaXMuX2ZpbmRTb3VyY2VJbmRleChzb3VyY2UpO1xuICAgIGlmIChzb3VyY2UgPCAwKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBsaW5lOiBudWxsLFxuICAgICAgICBjb2x1bW46IG51bGwsXG4gICAgICAgIGxhc3RDb2x1bW46IG51bGxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgdmFyIG5lZWRsZSA9IHtcbiAgICAgIHNvdXJjZTogc291cmNlLFxuICAgICAgb3JpZ2luYWxMaW5lOiB1dGlsLmdldEFyZyhhQXJncywgJ2xpbmUnKSxcbiAgICAgIG9yaWdpbmFsQ29sdW1uOiB1dGlsLmdldEFyZyhhQXJncywgJ2NvbHVtbicpXG4gICAgfTtcblxuICAgIHZhciBpbmRleCA9IHRoaXMuX2ZpbmRNYXBwaW5nKFxuICAgICAgbmVlZGxlLFxuICAgICAgdGhpcy5fb3JpZ2luYWxNYXBwaW5ncyxcbiAgICAgIFwib3JpZ2luYWxMaW5lXCIsXG4gICAgICBcIm9yaWdpbmFsQ29sdW1uXCIsXG4gICAgICB1dGlsLmNvbXBhcmVCeU9yaWdpbmFsUG9zaXRpb25zLFxuICAgICAgdXRpbC5nZXRBcmcoYUFyZ3MsICdiaWFzJywgU291cmNlTWFwQ29uc3VtZXIuR1JFQVRFU1RfTE9XRVJfQk9VTkQpXG4gICAgKTtcblxuICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICB2YXIgbWFwcGluZyA9IHRoaXMuX29yaWdpbmFsTWFwcGluZ3NbaW5kZXhdO1xuXG4gICAgICBpZiAobWFwcGluZy5zb3VyY2UgPT09IG5lZWRsZS5zb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBsaW5lOiB1dGlsLmdldEFyZyhtYXBwaW5nLCAnZ2VuZXJhdGVkTGluZScsIG51bGwpLFxuICAgICAgICAgIGNvbHVtbjogdXRpbC5nZXRBcmcobWFwcGluZywgJ2dlbmVyYXRlZENvbHVtbicsIG51bGwpLFxuICAgICAgICAgIGxhc3RDb2x1bW46IHV0aWwuZ2V0QXJnKG1hcHBpbmcsICdsYXN0R2VuZXJhdGVkQ29sdW1uJywgbnVsbClcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgbGluZTogbnVsbCxcbiAgICAgIGNvbHVtbjogbnVsbCxcbiAgICAgIGxhc3RDb2x1bW46IG51bGxcbiAgICB9O1xuICB9O1xuXG5leHBvcnRzLkJhc2ljU291cmNlTWFwQ29uc3VtZXIgPSBCYXNpY1NvdXJjZU1hcENvbnN1bWVyO1xuXG4vKipcbiAqIEFuIEluZGV4ZWRTb3VyY2VNYXBDb25zdW1lciBpbnN0YW5jZSByZXByZXNlbnRzIGEgcGFyc2VkIHNvdXJjZSBtYXAgd2hpY2hcbiAqIHdlIGNhbiBxdWVyeSBmb3IgaW5mb3JtYXRpb24uIEl0IGRpZmZlcnMgZnJvbSBCYXNpY1NvdXJjZU1hcENvbnN1bWVyIGluXG4gKiB0aGF0IGl0IHRha2VzIFwiaW5kZXhlZFwiIHNvdXJjZSBtYXBzIChpLmUuIG9uZXMgd2l0aCBhIFwic2VjdGlvbnNcIiBmaWVsZCkgYXNcbiAqIGlucHV0LlxuICpcbiAqIFRoZSBmaXJzdCBwYXJhbWV0ZXIgaXMgYSByYXcgc291cmNlIG1hcCAoZWl0aGVyIGFzIGEgSlNPTiBzdHJpbmcsIG9yIGFscmVhZHlcbiAqIHBhcnNlZCB0byBhbiBvYmplY3QpLiBBY2NvcmRpbmcgdG8gdGhlIHNwZWMgZm9yIGluZGV4ZWQgc291cmNlIG1hcHMsIHRoZXlcbiAqIGhhdmUgdGhlIGZvbGxvd2luZyBhdHRyaWJ1dGVzOlxuICpcbiAqICAgLSB2ZXJzaW9uOiBXaGljaCB2ZXJzaW9uIG9mIHRoZSBzb3VyY2UgbWFwIHNwZWMgdGhpcyBtYXAgaXMgZm9sbG93aW5nLlxuICogICAtIGZpbGU6IE9wdGlvbmFsLiBUaGUgZ2VuZXJhdGVkIGZpbGUgdGhpcyBzb3VyY2UgbWFwIGlzIGFzc29jaWF0ZWQgd2l0aC5cbiAqICAgLSBzZWN0aW9uczogQSBsaXN0IG9mIHNlY3Rpb24gZGVmaW5pdGlvbnMuXG4gKlxuICogRWFjaCB2YWx1ZSB1bmRlciB0aGUgXCJzZWN0aW9uc1wiIGZpZWxkIGhhcyB0d28gZmllbGRzOlxuICogICAtIG9mZnNldDogVGhlIG9mZnNldCBpbnRvIHRoZSBvcmlnaW5hbCBzcGVjaWZpZWQgYXQgd2hpY2ggdGhpcyBzZWN0aW9uXG4gKiAgICAgICBiZWdpbnMgdG8gYXBwbHksIGRlZmluZWQgYXMgYW4gb2JqZWN0IHdpdGggYSBcImxpbmVcIiBhbmQgXCJjb2x1bW5cIlxuICogICAgICAgZmllbGQuXG4gKiAgIC0gbWFwOiBBIHNvdXJjZSBtYXAgZGVmaW5pdGlvbi4gVGhpcyBzb3VyY2UgbWFwIGNvdWxkIGFsc28gYmUgaW5kZXhlZCxcbiAqICAgICAgIGJ1dCBkb2Vzbid0IGhhdmUgdG8gYmUuXG4gKlxuICogSW5zdGVhZCBvZiB0aGUgXCJtYXBcIiBmaWVsZCwgaXQncyBhbHNvIHBvc3NpYmxlIHRvIGhhdmUgYSBcInVybFwiIGZpZWxkXG4gKiBzcGVjaWZ5aW5nIGEgVVJMIHRvIHJldHJpZXZlIGEgc291cmNlIG1hcCBmcm9tLCBidXQgdGhhdCdzIGN1cnJlbnRseVxuICogdW5zdXBwb3J0ZWQuXG4gKlxuICogSGVyZSdzIGFuIGV4YW1wbGUgc291cmNlIG1hcCwgdGFrZW4gZnJvbSB0aGUgc291cmNlIG1hcCBzcGVjWzBdLCBidXRcbiAqIG1vZGlmaWVkIHRvIG9taXQgYSBzZWN0aW9uIHdoaWNoIHVzZXMgdGhlIFwidXJsXCIgZmllbGQuXG4gKlxuICogIHtcbiAqICAgIHZlcnNpb24gOiAzLFxuICogICAgZmlsZTogXCJhcHAuanNcIixcbiAqICAgIHNlY3Rpb25zOiBbe1xuICogICAgICBvZmZzZXQ6IHtsaW5lOjEwMCwgY29sdW1uOjEwfSxcbiAqICAgICAgbWFwOiB7XG4gKiAgICAgICAgdmVyc2lvbiA6IDMsXG4gKiAgICAgICAgZmlsZTogXCJzZWN0aW9uLmpzXCIsXG4gKiAgICAgICAgc291cmNlczogW1wiZm9vLmpzXCIsIFwiYmFyLmpzXCJdLFxuICogICAgICAgIG5hbWVzOiBbXCJzcmNcIiwgXCJtYXBzXCIsIFwiYXJlXCIsIFwiZnVuXCJdLFxuICogICAgICAgIG1hcHBpbmdzOiBcIkFBQUEsRTs7QUJDREU7XCJcbiAqICAgICAgfVxuICogICAgfV0sXG4gKiAgfVxuICpcbiAqIFRoZSBzZWNvbmQgcGFyYW1ldGVyLCBpZiBnaXZlbiwgaXMgYSBzdHJpbmcgd2hvc2UgdmFsdWUgaXMgdGhlIFVSTFxuICogYXQgd2hpY2ggdGhlIHNvdXJjZSBtYXAgd2FzIGZvdW5kLiAgVGhpcyBVUkwgaXMgdXNlZCB0byBjb21wdXRlIHRoZVxuICogc291cmNlcyBhcnJheS5cbiAqXG4gKiBbMF06IGh0dHBzOi8vZG9jcy5nb29nbGUuY29tL2RvY3VtZW50L2QvMVUxUkdBZWhRd1J5cFVUb3ZGMUtSbHBpT0Z6ZTBiLV8yZ2M2ZkFIMEtZMGsvZWRpdCNoZWFkaW5nPWguNTM1ZXMzeGVwcmd0XG4gKi9cbmZ1bmN0aW9uIEluZGV4ZWRTb3VyY2VNYXBDb25zdW1lcihhU291cmNlTWFwLCBhU291cmNlTWFwVVJMKSB7XG4gIHZhciBzb3VyY2VNYXAgPSBhU291cmNlTWFwO1xuICBpZiAodHlwZW9mIGFTb3VyY2VNYXAgPT09ICdzdHJpbmcnKSB7XG4gICAgc291cmNlTWFwID0gdXRpbC5wYXJzZVNvdXJjZU1hcElucHV0KGFTb3VyY2VNYXApO1xuICB9XG5cbiAgdmFyIHZlcnNpb24gPSB1dGlsLmdldEFyZyhzb3VyY2VNYXAsICd2ZXJzaW9uJyk7XG4gIHZhciBzZWN0aW9ucyA9IHV0aWwuZ2V0QXJnKHNvdXJjZU1hcCwgJ3NlY3Rpb25zJyk7XG5cbiAgaWYgKHZlcnNpb24gIT0gdGhpcy5fdmVyc2lvbikge1xuICAgIHRocm93IG5ldyBFcnJvcignVW5zdXBwb3J0ZWQgdmVyc2lvbjogJyArIHZlcnNpb24pO1xuICB9XG5cbiAgdGhpcy5fc291cmNlcyA9IG5ldyBBcnJheVNldCgpO1xuICB0aGlzLl9uYW1lcyA9IG5ldyBBcnJheVNldCgpO1xuXG4gIHZhciBsYXN0T2Zmc2V0ID0ge1xuICAgIGxpbmU6IC0xLFxuICAgIGNvbHVtbjogMFxuICB9O1xuICB0aGlzLl9zZWN0aW9ucyA9IHNlY3Rpb25zLm1hcChmdW5jdGlvbiAocykge1xuICAgIGlmIChzLnVybCkge1xuICAgICAgLy8gVGhlIHVybCBmaWVsZCB3aWxsIHJlcXVpcmUgc3VwcG9ydCBmb3IgYXN5bmNocm9uaWNpdHkuXG4gICAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL21vemlsbGEvc291cmNlLW1hcC9pc3N1ZXMvMTZcbiAgICAgIHRocm93IG5ldyBFcnJvcignU3VwcG9ydCBmb3IgdXJsIGZpZWxkIGluIHNlY3Rpb25zIG5vdCBpbXBsZW1lbnRlZC4nKTtcbiAgICB9XG4gICAgdmFyIG9mZnNldCA9IHV0aWwuZ2V0QXJnKHMsICdvZmZzZXQnKTtcbiAgICB2YXIgb2Zmc2V0TGluZSA9IHV0aWwuZ2V0QXJnKG9mZnNldCwgJ2xpbmUnKTtcbiAgICB2YXIgb2Zmc2V0Q29sdW1uID0gdXRpbC5nZXRBcmcob2Zmc2V0LCAnY29sdW1uJyk7XG5cbiAgICBpZiAob2Zmc2V0TGluZSA8IGxhc3RPZmZzZXQubGluZSB8fFxuICAgICAgICAob2Zmc2V0TGluZSA9PT0gbGFzdE9mZnNldC5saW5lICYmIG9mZnNldENvbHVtbiA8IGxhc3RPZmZzZXQuY29sdW1uKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdTZWN0aW9uIG9mZnNldHMgbXVzdCBiZSBvcmRlcmVkIGFuZCBub24tb3ZlcmxhcHBpbmcuJyk7XG4gICAgfVxuICAgIGxhc3RPZmZzZXQgPSBvZmZzZXQ7XG5cbiAgICByZXR1cm4ge1xuICAgICAgZ2VuZXJhdGVkT2Zmc2V0OiB7XG4gICAgICAgIC8vIFRoZSBvZmZzZXQgZmllbGRzIGFyZSAwLWJhc2VkLCBidXQgd2UgdXNlIDEtYmFzZWQgaW5kaWNlcyB3aGVuXG4gICAgICAgIC8vIGVuY29kaW5nL2RlY29kaW5nIGZyb20gVkxRLlxuICAgICAgICBnZW5lcmF0ZWRMaW5lOiBvZmZzZXRMaW5lICsgMSxcbiAgICAgICAgZ2VuZXJhdGVkQ29sdW1uOiBvZmZzZXRDb2x1bW4gKyAxXG4gICAgICB9LFxuICAgICAgY29uc3VtZXI6IG5ldyBTb3VyY2VNYXBDb25zdW1lcih1dGlsLmdldEFyZyhzLCAnbWFwJyksIGFTb3VyY2VNYXBVUkwpXG4gICAgfVxuICB9KTtcbn1cblxuSW5kZXhlZFNvdXJjZU1hcENvbnN1bWVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoU291cmNlTWFwQ29uc3VtZXIucHJvdG90eXBlKTtcbkluZGV4ZWRTb3VyY2VNYXBDb25zdW1lci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBTb3VyY2VNYXBDb25zdW1lcjtcblxuLyoqXG4gKiBUaGUgdmVyc2lvbiBvZiB0aGUgc291cmNlIG1hcHBpbmcgc3BlYyB0aGF0IHdlIGFyZSBjb25zdW1pbmcuXG4gKi9cbkluZGV4ZWRTb3VyY2VNYXBDb25zdW1lci5wcm90b3R5cGUuX3ZlcnNpb24gPSAzO1xuXG4vKipcbiAqIFRoZSBsaXN0IG9mIG9yaWdpbmFsIHNvdXJjZXMuXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShJbmRleGVkU291cmNlTWFwQ29uc3VtZXIucHJvdG90eXBlLCAnc291cmNlcycsIHtcbiAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHNvdXJjZXMgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX3NlY3Rpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHRoaXMuX3NlY3Rpb25zW2ldLmNvbnN1bWVyLnNvdXJjZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgc291cmNlcy5wdXNoKHRoaXMuX3NlY3Rpb25zW2ldLmNvbnN1bWVyLnNvdXJjZXNbal0pO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc291cmNlcztcbiAgfVxufSk7XG5cbi8qKlxuICogUmV0dXJucyB0aGUgb3JpZ2luYWwgc291cmNlLCBsaW5lLCBhbmQgY29sdW1uIGluZm9ybWF0aW9uIGZvciB0aGUgZ2VuZXJhdGVkXG4gKiBzb3VyY2UncyBsaW5lIGFuZCBjb2x1bW4gcG9zaXRpb25zIHByb3ZpZGVkLiBUaGUgb25seSBhcmd1bWVudCBpcyBhbiBvYmplY3RcbiAqIHdpdGggdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuICpcbiAqICAgLSBsaW5lOiBUaGUgbGluZSBudW1iZXIgaW4gdGhlIGdlbmVyYXRlZCBzb3VyY2UuICBUaGUgbGluZSBudW1iZXJcbiAqICAgICBpcyAxLWJhc2VkLlxuICogICAtIGNvbHVtbjogVGhlIGNvbHVtbiBudW1iZXIgaW4gdGhlIGdlbmVyYXRlZCBzb3VyY2UuICBUaGUgY29sdW1uXG4gKiAgICAgbnVtYmVyIGlzIDAtYmFzZWQuXG4gKlxuICogYW5kIGFuIG9iamVjdCBpcyByZXR1cm5lZCB3aXRoIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAqXG4gKiAgIC0gc291cmNlOiBUaGUgb3JpZ2luYWwgc291cmNlIGZpbGUsIG9yIG51bGwuXG4gKiAgIC0gbGluZTogVGhlIGxpbmUgbnVtYmVyIGluIHRoZSBvcmlnaW5hbCBzb3VyY2UsIG9yIG51bGwuICBUaGVcbiAqICAgICBsaW5lIG51bWJlciBpcyAxLWJhc2VkLlxuICogICAtIGNvbHVtbjogVGhlIGNvbHVtbiBudW1iZXIgaW4gdGhlIG9yaWdpbmFsIHNvdXJjZSwgb3IgbnVsbC4gIFRoZVxuICogICAgIGNvbHVtbiBudW1iZXIgaXMgMC1iYXNlZC5cbiAqICAgLSBuYW1lOiBUaGUgb3JpZ2luYWwgaWRlbnRpZmllciwgb3IgbnVsbC5cbiAqL1xuSW5kZXhlZFNvdXJjZU1hcENvbnN1bWVyLnByb3RvdHlwZS5vcmlnaW5hbFBvc2l0aW9uRm9yID1cbiAgZnVuY3Rpb24gSW5kZXhlZFNvdXJjZU1hcENvbnN1bWVyX29yaWdpbmFsUG9zaXRpb25Gb3IoYUFyZ3MpIHtcbiAgICB2YXIgbmVlZGxlID0ge1xuICAgICAgZ2VuZXJhdGVkTGluZTogdXRpbC5nZXRBcmcoYUFyZ3MsICdsaW5lJyksXG4gICAgICBnZW5lcmF0ZWRDb2x1bW46IHV0aWwuZ2V0QXJnKGFBcmdzLCAnY29sdW1uJylcbiAgICB9O1xuXG4gICAgLy8gRmluZCB0aGUgc2VjdGlvbiBjb250YWluaW5nIHRoZSBnZW5lcmF0ZWQgcG9zaXRpb24gd2UncmUgdHJ5aW5nIHRvIG1hcFxuICAgIC8vIHRvIGFuIG9yaWdpbmFsIHBvc2l0aW9uLlxuICAgIHZhciBzZWN0aW9uSW5kZXggPSBiaW5hcnlTZWFyY2guc2VhcmNoKG5lZWRsZSwgdGhpcy5fc2VjdGlvbnMsXG4gICAgICBmdW5jdGlvbihuZWVkbGUsIHNlY3Rpb24pIHtcbiAgICAgICAgdmFyIGNtcCA9IG5lZWRsZS5nZW5lcmF0ZWRMaW5lIC0gc2VjdGlvbi5nZW5lcmF0ZWRPZmZzZXQuZ2VuZXJhdGVkTGluZTtcbiAgICAgICAgaWYgKGNtcCkge1xuICAgICAgICAgIHJldHVybiBjbXA7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gKG5lZWRsZS5nZW5lcmF0ZWRDb2x1bW4gLVxuICAgICAgICAgICAgICAgIHNlY3Rpb24uZ2VuZXJhdGVkT2Zmc2V0LmdlbmVyYXRlZENvbHVtbik7XG4gICAgICB9KTtcbiAgICB2YXIgc2VjdGlvbiA9IHRoaXMuX3NlY3Rpb25zW3NlY3Rpb25JbmRleF07XG5cbiAgICBpZiAoIXNlY3Rpb24pIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHNvdXJjZTogbnVsbCxcbiAgICAgICAgbGluZTogbnVsbCxcbiAgICAgICAgY29sdW1uOiBudWxsLFxuICAgICAgICBuYW1lOiBudWxsXG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiBzZWN0aW9uLmNvbnN1bWVyLm9yaWdpbmFsUG9zaXRpb25Gb3Ioe1xuICAgICAgbGluZTogbmVlZGxlLmdlbmVyYXRlZExpbmUgLVxuICAgICAgICAoc2VjdGlvbi5nZW5lcmF0ZWRPZmZzZXQuZ2VuZXJhdGVkTGluZSAtIDEpLFxuICAgICAgY29sdW1uOiBuZWVkbGUuZ2VuZXJhdGVkQ29sdW1uIC1cbiAgICAgICAgKHNlY3Rpb24uZ2VuZXJhdGVkT2Zmc2V0LmdlbmVyYXRlZExpbmUgPT09IG5lZWRsZS5nZW5lcmF0ZWRMaW5lXG4gICAgICAgICA/IHNlY3Rpb24uZ2VuZXJhdGVkT2Zmc2V0LmdlbmVyYXRlZENvbHVtbiAtIDFcbiAgICAgICAgIDogMCksXG4gICAgICBiaWFzOiBhQXJncy5iaWFzXG4gICAgfSk7XG4gIH07XG5cbi8qKlxuICogUmV0dXJuIHRydWUgaWYgd2UgaGF2ZSB0aGUgc291cmNlIGNvbnRlbnQgZm9yIGV2ZXJ5IHNvdXJjZSBpbiB0aGUgc291cmNlXG4gKiBtYXAsIGZhbHNlIG90aGVyd2lzZS5cbiAqL1xuSW5kZXhlZFNvdXJjZU1hcENvbnN1bWVyLnByb3RvdHlwZS5oYXNDb250ZW50c09mQWxsU291cmNlcyA9XG4gIGZ1bmN0aW9uIEluZGV4ZWRTb3VyY2VNYXBDb25zdW1lcl9oYXNDb250ZW50c09mQWxsU291cmNlcygpIHtcbiAgICByZXR1cm4gdGhpcy5fc2VjdGlvbnMuZXZlcnkoZnVuY3Rpb24gKHMpIHtcbiAgICAgIHJldHVybiBzLmNvbnN1bWVyLmhhc0NvbnRlbnRzT2ZBbGxTb3VyY2VzKCk7XG4gICAgfSk7XG4gIH07XG5cbi8qKlxuICogUmV0dXJucyB0aGUgb3JpZ2luYWwgc291cmNlIGNvbnRlbnQuIFRoZSBvbmx5IGFyZ3VtZW50IGlzIHRoZSB1cmwgb2YgdGhlXG4gKiBvcmlnaW5hbCBzb3VyY2UgZmlsZS4gUmV0dXJucyBudWxsIGlmIG5vIG9yaWdpbmFsIHNvdXJjZSBjb250ZW50IGlzXG4gKiBhdmFpbGFibGUuXG4gKi9cbkluZGV4ZWRTb3VyY2VNYXBDb25zdW1lci5wcm90b3R5cGUuc291cmNlQ29udGVudEZvciA9XG4gIGZ1bmN0aW9uIEluZGV4ZWRTb3VyY2VNYXBDb25zdW1lcl9zb3VyY2VDb250ZW50Rm9yKGFTb3VyY2UsIG51bGxPbk1pc3NpbmcpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX3NlY3Rpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgc2VjdGlvbiA9IHRoaXMuX3NlY3Rpb25zW2ldO1xuXG4gICAgICB2YXIgY29udGVudCA9IHNlY3Rpb24uY29uc3VtZXIuc291cmNlQ29udGVudEZvcihhU291cmNlLCB0cnVlKTtcbiAgICAgIGlmIChjb250ZW50KSB7XG4gICAgICAgIHJldHVybiBjb250ZW50O1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAobnVsbE9uTWlzc2luZykge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdcIicgKyBhU291cmNlICsgJ1wiIGlzIG5vdCBpbiB0aGUgU291cmNlTWFwLicpO1xuICAgIH1cbiAgfTtcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBnZW5lcmF0ZWQgbGluZSBhbmQgY29sdW1uIGluZm9ybWF0aW9uIGZvciB0aGUgb3JpZ2luYWwgc291cmNlLFxuICogbGluZSwgYW5kIGNvbHVtbiBwb3NpdGlvbnMgcHJvdmlkZWQuIFRoZSBvbmx5IGFyZ3VtZW50IGlzIGFuIG9iamVjdCB3aXRoXG4gKiB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gKlxuICogICAtIHNvdXJjZTogVGhlIGZpbGVuYW1lIG9mIHRoZSBvcmlnaW5hbCBzb3VyY2UuXG4gKiAgIC0gbGluZTogVGhlIGxpbmUgbnVtYmVyIGluIHRoZSBvcmlnaW5hbCBzb3VyY2UuICBUaGUgbGluZSBudW1iZXJcbiAqICAgICBpcyAxLWJhc2VkLlxuICogICAtIGNvbHVtbjogVGhlIGNvbHVtbiBudW1iZXIgaW4gdGhlIG9yaWdpbmFsIHNvdXJjZS4gIFRoZSBjb2x1bW5cbiAqICAgICBudW1iZXIgaXMgMC1iYXNlZC5cbiAqXG4gKiBhbmQgYW4gb2JqZWN0IGlzIHJldHVybmVkIHdpdGggdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuICpcbiAqICAgLSBsaW5lOiBUaGUgbGluZSBudW1iZXIgaW4gdGhlIGdlbmVyYXRlZCBzb3VyY2UsIG9yIG51bGwuICBUaGVcbiAqICAgICBsaW5lIG51bWJlciBpcyAxLWJhc2VkLiBcbiAqICAgLSBjb2x1bW46IFRoZSBjb2x1bW4gbnVtYmVyIGluIHRoZSBnZW5lcmF0ZWQgc291cmNlLCBvciBudWxsLlxuICogICAgIFRoZSBjb2x1bW4gbnVtYmVyIGlzIDAtYmFzZWQuXG4gKi9cbkluZGV4ZWRTb3VyY2VNYXBDb25zdW1lci5wcm90b3R5cGUuZ2VuZXJhdGVkUG9zaXRpb25Gb3IgPVxuICBmdW5jdGlvbiBJbmRleGVkU291cmNlTWFwQ29uc3VtZXJfZ2VuZXJhdGVkUG9zaXRpb25Gb3IoYUFyZ3MpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX3NlY3Rpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgc2VjdGlvbiA9IHRoaXMuX3NlY3Rpb25zW2ldO1xuXG4gICAgICAvLyBPbmx5IGNvbnNpZGVyIHRoaXMgc2VjdGlvbiBpZiB0aGUgcmVxdWVzdGVkIHNvdXJjZSBpcyBpbiB0aGUgbGlzdCBvZlxuICAgICAgLy8gc291cmNlcyBvZiB0aGUgY29uc3VtZXIuXG4gICAgICBpZiAoc2VjdGlvbi5jb25zdW1lci5fZmluZFNvdXJjZUluZGV4KHV0aWwuZ2V0QXJnKGFBcmdzLCAnc291cmNlJykpID09PSAtMSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIHZhciBnZW5lcmF0ZWRQb3NpdGlvbiA9IHNlY3Rpb24uY29uc3VtZXIuZ2VuZXJhdGVkUG9zaXRpb25Gb3IoYUFyZ3MpO1xuICAgICAgaWYgKGdlbmVyYXRlZFBvc2l0aW9uKSB7XG4gICAgICAgIHZhciByZXQgPSB7XG4gICAgICAgICAgbGluZTogZ2VuZXJhdGVkUG9zaXRpb24ubGluZSArXG4gICAgICAgICAgICAoc2VjdGlvbi5nZW5lcmF0ZWRPZmZzZXQuZ2VuZXJhdGVkTGluZSAtIDEpLFxuICAgICAgICAgIGNvbHVtbjogZ2VuZXJhdGVkUG9zaXRpb24uY29sdW1uICtcbiAgICAgICAgICAgIChzZWN0aW9uLmdlbmVyYXRlZE9mZnNldC5nZW5lcmF0ZWRMaW5lID09PSBnZW5lcmF0ZWRQb3NpdGlvbi5saW5lXG4gICAgICAgICAgICAgPyBzZWN0aW9uLmdlbmVyYXRlZE9mZnNldC5nZW5lcmF0ZWRDb2x1bW4gLSAxXG4gICAgICAgICAgICAgOiAwKVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBsaW5lOiBudWxsLFxuICAgICAgY29sdW1uOiBudWxsXG4gICAgfTtcbiAgfTtcblxuLyoqXG4gKiBQYXJzZSB0aGUgbWFwcGluZ3MgaW4gYSBzdHJpbmcgaW4gdG8gYSBkYXRhIHN0cnVjdHVyZSB3aGljaCB3ZSBjYW4gZWFzaWx5XG4gKiBxdWVyeSAodGhlIG9yZGVyZWQgYXJyYXlzIGluIHRoZSBgdGhpcy5fX2dlbmVyYXRlZE1hcHBpbmdzYCBhbmRcbiAqIGB0aGlzLl9fb3JpZ2luYWxNYXBwaW5nc2AgcHJvcGVydGllcykuXG4gKi9cbkluZGV4ZWRTb3VyY2VNYXBDb25zdW1lci5wcm90b3R5cGUuX3BhcnNlTWFwcGluZ3MgPVxuICBmdW5jdGlvbiBJbmRleGVkU291cmNlTWFwQ29uc3VtZXJfcGFyc2VNYXBwaW5ncyhhU3RyLCBhU291cmNlUm9vdCkge1xuICAgIHRoaXMuX19nZW5lcmF0ZWRNYXBwaW5ncyA9IFtdO1xuICAgIHRoaXMuX19vcmlnaW5hbE1hcHBpbmdzID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9zZWN0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHNlY3Rpb24gPSB0aGlzLl9zZWN0aW9uc1tpXTtcbiAgICAgIHZhciBzZWN0aW9uTWFwcGluZ3MgPSBzZWN0aW9uLmNvbnN1bWVyLl9nZW5lcmF0ZWRNYXBwaW5ncztcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgc2VjdGlvbk1hcHBpbmdzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIHZhciBtYXBwaW5nID0gc2VjdGlvbk1hcHBpbmdzW2pdO1xuXG4gICAgICAgIHZhciBzb3VyY2UgPSBzZWN0aW9uLmNvbnN1bWVyLl9zb3VyY2VzLmF0KG1hcHBpbmcuc291cmNlKTtcbiAgICAgICAgc291cmNlID0gdXRpbC5jb21wdXRlU291cmNlVVJMKHNlY3Rpb24uY29uc3VtZXIuc291cmNlUm9vdCwgc291cmNlLCB0aGlzLl9zb3VyY2VNYXBVUkwpO1xuICAgICAgICB0aGlzLl9zb3VyY2VzLmFkZChzb3VyY2UpO1xuICAgICAgICBzb3VyY2UgPSB0aGlzLl9zb3VyY2VzLmluZGV4T2Yoc291cmNlKTtcblxuICAgICAgICB2YXIgbmFtZSA9IG51bGw7XG4gICAgICAgIGlmIChtYXBwaW5nLm5hbWUpIHtcbiAgICAgICAgICBuYW1lID0gc2VjdGlvbi5jb25zdW1lci5fbmFtZXMuYXQobWFwcGluZy5uYW1lKTtcbiAgICAgICAgICB0aGlzLl9uYW1lcy5hZGQobmFtZSk7XG4gICAgICAgICAgbmFtZSA9IHRoaXMuX25hbWVzLmluZGV4T2YobmFtZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUaGUgbWFwcGluZ3MgY29taW5nIGZyb20gdGhlIGNvbnN1bWVyIGZvciB0aGUgc2VjdGlvbiBoYXZlXG4gICAgICAgIC8vIGdlbmVyYXRlZCBwb3NpdGlvbnMgcmVsYXRpdmUgdG8gdGhlIHN0YXJ0IG9mIHRoZSBzZWN0aW9uLCBzbyB3ZVxuICAgICAgICAvLyBuZWVkIHRvIG9mZnNldCB0aGVtIHRvIGJlIHJlbGF0aXZlIHRvIHRoZSBzdGFydCBvZiB0aGUgY29uY2F0ZW5hdGVkXG4gICAgICAgIC8vIGdlbmVyYXRlZCBmaWxlLlxuICAgICAgICB2YXIgYWRqdXN0ZWRNYXBwaW5nID0ge1xuICAgICAgICAgIHNvdXJjZTogc291cmNlLFxuICAgICAgICAgIGdlbmVyYXRlZExpbmU6IG1hcHBpbmcuZ2VuZXJhdGVkTGluZSArXG4gICAgICAgICAgICAoc2VjdGlvbi5nZW5lcmF0ZWRPZmZzZXQuZ2VuZXJhdGVkTGluZSAtIDEpLFxuICAgICAgICAgIGdlbmVyYXRlZENvbHVtbjogbWFwcGluZy5nZW5lcmF0ZWRDb2x1bW4gK1xuICAgICAgICAgICAgKHNlY3Rpb24uZ2VuZXJhdGVkT2Zmc2V0LmdlbmVyYXRlZExpbmUgPT09IG1hcHBpbmcuZ2VuZXJhdGVkTGluZVxuICAgICAgICAgICAgPyBzZWN0aW9uLmdlbmVyYXRlZE9mZnNldC5nZW5lcmF0ZWRDb2x1bW4gLSAxXG4gICAgICAgICAgICA6IDApLFxuICAgICAgICAgIG9yaWdpbmFsTGluZTogbWFwcGluZy5vcmlnaW5hbExpbmUsXG4gICAgICAgICAgb3JpZ2luYWxDb2x1bW46IG1hcHBpbmcub3JpZ2luYWxDb2x1bW4sXG4gICAgICAgICAgbmFtZTogbmFtZVxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuX19nZW5lcmF0ZWRNYXBwaW5ncy5wdXNoKGFkanVzdGVkTWFwcGluZyk7XG4gICAgICAgIGlmICh0eXBlb2YgYWRqdXN0ZWRNYXBwaW5nLm9yaWdpbmFsTGluZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICB0aGlzLl9fb3JpZ2luYWxNYXBwaW5ncy5wdXNoKGFkanVzdGVkTWFwcGluZyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBxdWlja1NvcnQodGhpcy5fX2dlbmVyYXRlZE1hcHBpbmdzLCB1dGlsLmNvbXBhcmVCeUdlbmVyYXRlZFBvc2l0aW9uc0RlZmxhdGVkKTtcbiAgICBxdWlja1NvcnQodGhpcy5fX29yaWdpbmFsTWFwcGluZ3MsIHV0aWwuY29tcGFyZUJ5T3JpZ2luYWxQb3NpdGlvbnMpO1xuICB9O1xuXG5leHBvcnRzLkluZGV4ZWRTb3VyY2VNYXBDb25zdW1lciA9IEluZGV4ZWRTb3VyY2VNYXBDb25zdW1lcjtcbiIsIi8qIC0qLSBNb2RlOiBqczsganMtaW5kZW50LWxldmVsOiAyOyAtKi0gKi9cbi8qXG4gKiBDb3B5cmlnaHQgMjAxMSBNb3ppbGxhIEZvdW5kYXRpb24gYW5kIGNvbnRyaWJ1dG9yc1xuICogTGljZW5zZWQgdW5kZXIgdGhlIE5ldyBCU0QgbGljZW5zZS4gU2VlIExJQ0VOU0Ugb3I6XG4gKiBodHRwOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvQlNELTMtQ2xhdXNlXG4gKi9cblxudmFyIGJhc2U2NFZMUSA9IHJlcXVpcmUoJy4vYmFzZTY0LXZscScpO1xudmFyIHV0aWwgPSByZXF1aXJlKCcuL3V0aWwnKTtcbnZhciBBcnJheVNldCA9IHJlcXVpcmUoJy4vYXJyYXktc2V0JykuQXJyYXlTZXQ7XG52YXIgTWFwcGluZ0xpc3QgPSByZXF1aXJlKCcuL21hcHBpbmctbGlzdCcpLk1hcHBpbmdMaXN0O1xuXG4vKipcbiAqIEFuIGluc3RhbmNlIG9mIHRoZSBTb3VyY2VNYXBHZW5lcmF0b3IgcmVwcmVzZW50cyBhIHNvdXJjZSBtYXAgd2hpY2ggaXNcbiAqIGJlaW5nIGJ1aWx0IGluY3JlbWVudGFsbHkuIFlvdSBtYXkgcGFzcyBhbiBvYmplY3Qgd2l0aCB0aGUgZm9sbG93aW5nXG4gKiBwcm9wZXJ0aWVzOlxuICpcbiAqICAgLSBmaWxlOiBUaGUgZmlsZW5hbWUgb2YgdGhlIGdlbmVyYXRlZCBzb3VyY2UuXG4gKiAgIC0gc291cmNlUm9vdDogQSByb290IGZvciBhbGwgcmVsYXRpdmUgVVJMcyBpbiB0aGlzIHNvdXJjZSBtYXAuXG4gKi9cbmZ1bmN0aW9uIFNvdXJjZU1hcEdlbmVyYXRvcihhQXJncykge1xuICBpZiAoIWFBcmdzKSB7XG4gICAgYUFyZ3MgPSB7fTtcbiAgfVxuICB0aGlzLl9maWxlID0gdXRpbC5nZXRBcmcoYUFyZ3MsICdmaWxlJywgbnVsbCk7XG4gIHRoaXMuX3NvdXJjZVJvb3QgPSB1dGlsLmdldEFyZyhhQXJncywgJ3NvdXJjZVJvb3QnLCBudWxsKTtcbiAgdGhpcy5fc2tpcFZhbGlkYXRpb24gPSB1dGlsLmdldEFyZyhhQXJncywgJ3NraXBWYWxpZGF0aW9uJywgZmFsc2UpO1xuICB0aGlzLl9zb3VyY2VzID0gbmV3IEFycmF5U2V0KCk7XG4gIHRoaXMuX25hbWVzID0gbmV3IEFycmF5U2V0KCk7XG4gIHRoaXMuX21hcHBpbmdzID0gbmV3IE1hcHBpbmdMaXN0KCk7XG4gIHRoaXMuX3NvdXJjZXNDb250ZW50cyA9IG51bGw7XG59XG5cblNvdXJjZU1hcEdlbmVyYXRvci5wcm90b3R5cGUuX3ZlcnNpb24gPSAzO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgU291cmNlTWFwR2VuZXJhdG9yIGJhc2VkIG9uIGEgU291cmNlTWFwQ29uc3VtZXJcbiAqXG4gKiBAcGFyYW0gYVNvdXJjZU1hcENvbnN1bWVyIFRoZSBTb3VyY2VNYXAuXG4gKi9cblNvdXJjZU1hcEdlbmVyYXRvci5mcm9tU291cmNlTWFwID1cbiAgZnVuY3Rpb24gU291cmNlTWFwR2VuZXJhdG9yX2Zyb21Tb3VyY2VNYXAoYVNvdXJjZU1hcENvbnN1bWVyKSB7XG4gICAgdmFyIHNvdXJjZVJvb3QgPSBhU291cmNlTWFwQ29uc3VtZXIuc291cmNlUm9vdDtcbiAgICB2YXIgZ2VuZXJhdG9yID0gbmV3IFNvdXJjZU1hcEdlbmVyYXRvcih7XG4gICAgICBmaWxlOiBhU291cmNlTWFwQ29uc3VtZXIuZmlsZSxcbiAgICAgIHNvdXJjZVJvb3Q6IHNvdXJjZVJvb3RcbiAgICB9KTtcbiAgICBhU291cmNlTWFwQ29uc3VtZXIuZWFjaE1hcHBpbmcoZnVuY3Rpb24gKG1hcHBpbmcpIHtcbiAgICAgIHZhciBuZXdNYXBwaW5nID0ge1xuICAgICAgICBnZW5lcmF0ZWQ6IHtcbiAgICAgICAgICBsaW5lOiBtYXBwaW5nLmdlbmVyYXRlZExpbmUsXG4gICAgICAgICAgY29sdW1uOiBtYXBwaW5nLmdlbmVyYXRlZENvbHVtblxuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBpZiAobWFwcGluZy5zb3VyY2UgIT0gbnVsbCkge1xuICAgICAgICBuZXdNYXBwaW5nLnNvdXJjZSA9IG1hcHBpbmcuc291cmNlO1xuICAgICAgICBpZiAoc291cmNlUm9vdCAhPSBudWxsKSB7XG4gICAgICAgICAgbmV3TWFwcGluZy5zb3VyY2UgPSB1dGlsLnJlbGF0aXZlKHNvdXJjZVJvb3QsIG5ld01hcHBpbmcuc291cmNlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIG5ld01hcHBpbmcub3JpZ2luYWwgPSB7XG4gICAgICAgICAgbGluZTogbWFwcGluZy5vcmlnaW5hbExpbmUsXG4gICAgICAgICAgY29sdW1uOiBtYXBwaW5nLm9yaWdpbmFsQ29sdW1uXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKG1hcHBpbmcubmFtZSAhPSBudWxsKSB7XG4gICAgICAgICAgbmV3TWFwcGluZy5uYW1lID0gbWFwcGluZy5uYW1lO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGdlbmVyYXRvci5hZGRNYXBwaW5nKG5ld01hcHBpbmcpO1xuICAgIH0pO1xuICAgIGFTb3VyY2VNYXBDb25zdW1lci5zb3VyY2VzLmZvckVhY2goZnVuY3Rpb24gKHNvdXJjZUZpbGUpIHtcbiAgICAgIHZhciBzb3VyY2VSZWxhdGl2ZSA9IHNvdXJjZUZpbGU7XG4gICAgICBpZiAoc291cmNlUm9vdCAhPT0gbnVsbCkge1xuICAgICAgICBzb3VyY2VSZWxhdGl2ZSA9IHV0aWwucmVsYXRpdmUoc291cmNlUm9vdCwgc291cmNlRmlsZSk7XG4gICAgICB9XG5cbiAgICAgIGlmICghZ2VuZXJhdG9yLl9zb3VyY2VzLmhhcyhzb3VyY2VSZWxhdGl2ZSkpIHtcbiAgICAgICAgZ2VuZXJhdG9yLl9zb3VyY2VzLmFkZChzb3VyY2VSZWxhdGl2ZSk7XG4gICAgICB9XG5cbiAgICAgIHZhciBjb250ZW50ID0gYVNvdXJjZU1hcENvbnN1bWVyLnNvdXJjZUNvbnRlbnRGb3Ioc291cmNlRmlsZSk7XG4gICAgICBpZiAoY29udGVudCAhPSBudWxsKSB7XG4gICAgICAgIGdlbmVyYXRvci5zZXRTb3VyY2VDb250ZW50KHNvdXJjZUZpbGUsIGNvbnRlbnQpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBnZW5lcmF0b3I7XG4gIH07XG5cbi8qKlxuICogQWRkIGEgc2luZ2xlIG1hcHBpbmcgZnJvbSBvcmlnaW5hbCBzb3VyY2UgbGluZSBhbmQgY29sdW1uIHRvIHRoZSBnZW5lcmF0ZWRcbiAqIHNvdXJjZSdzIGxpbmUgYW5kIGNvbHVtbiBmb3IgdGhpcyBzb3VyY2UgbWFwIGJlaW5nIGNyZWF0ZWQuIFRoZSBtYXBwaW5nXG4gKiBvYmplY3Qgc2hvdWxkIGhhdmUgdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuICpcbiAqICAgLSBnZW5lcmF0ZWQ6IEFuIG9iamVjdCB3aXRoIHRoZSBnZW5lcmF0ZWQgbGluZSBhbmQgY29sdW1uIHBvc2l0aW9ucy5cbiAqICAgLSBvcmlnaW5hbDogQW4gb2JqZWN0IHdpdGggdGhlIG9yaWdpbmFsIGxpbmUgYW5kIGNvbHVtbiBwb3NpdGlvbnMuXG4gKiAgIC0gc291cmNlOiBUaGUgb3JpZ2luYWwgc291cmNlIGZpbGUgKHJlbGF0aXZlIHRvIHRoZSBzb3VyY2VSb290KS5cbiAqICAgLSBuYW1lOiBBbiBvcHRpb25hbCBvcmlnaW5hbCB0b2tlbiBuYW1lIGZvciB0aGlzIG1hcHBpbmcuXG4gKi9cblNvdXJjZU1hcEdlbmVyYXRvci5wcm90b3R5cGUuYWRkTWFwcGluZyA9XG4gIGZ1bmN0aW9uIFNvdXJjZU1hcEdlbmVyYXRvcl9hZGRNYXBwaW5nKGFBcmdzKSB7XG4gICAgdmFyIGdlbmVyYXRlZCA9IHV0aWwuZ2V0QXJnKGFBcmdzLCAnZ2VuZXJhdGVkJyk7XG4gICAgdmFyIG9yaWdpbmFsID0gdXRpbC5nZXRBcmcoYUFyZ3MsICdvcmlnaW5hbCcsIG51bGwpO1xuICAgIHZhciBzb3VyY2UgPSB1dGlsLmdldEFyZyhhQXJncywgJ3NvdXJjZScsIG51bGwpO1xuICAgIHZhciBuYW1lID0gdXRpbC5nZXRBcmcoYUFyZ3MsICduYW1lJywgbnVsbCk7XG5cbiAgICBpZiAoIXRoaXMuX3NraXBWYWxpZGF0aW9uKSB7XG4gICAgICB0aGlzLl92YWxpZGF0ZU1hcHBpbmcoZ2VuZXJhdGVkLCBvcmlnaW5hbCwgc291cmNlLCBuYW1lKTtcbiAgICB9XG5cbiAgICBpZiAoc291cmNlICE9IG51bGwpIHtcbiAgICAgIHNvdXJjZSA9IFN0cmluZyhzb3VyY2UpO1xuICAgICAgaWYgKCF0aGlzLl9zb3VyY2VzLmhhcyhzb3VyY2UpKSB7XG4gICAgICAgIHRoaXMuX3NvdXJjZXMuYWRkKHNvdXJjZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKG5hbWUgIT0gbnVsbCkge1xuICAgICAgbmFtZSA9IFN0cmluZyhuYW1lKTtcbiAgICAgIGlmICghdGhpcy5fbmFtZXMuaGFzKG5hbWUpKSB7XG4gICAgICAgIHRoaXMuX25hbWVzLmFkZChuYW1lKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLl9tYXBwaW5ncy5hZGQoe1xuICAgICAgZ2VuZXJhdGVkTGluZTogZ2VuZXJhdGVkLmxpbmUsXG4gICAgICBnZW5lcmF0ZWRDb2x1bW46IGdlbmVyYXRlZC5jb2x1bW4sXG4gICAgICBvcmlnaW5hbExpbmU6IG9yaWdpbmFsICE9IG51bGwgJiYgb3JpZ2luYWwubGluZSxcbiAgICAgIG9yaWdpbmFsQ29sdW1uOiBvcmlnaW5hbCAhPSBudWxsICYmIG9yaWdpbmFsLmNvbHVtbixcbiAgICAgIHNvdXJjZTogc291cmNlLFxuICAgICAgbmFtZTogbmFtZVxuICAgIH0pO1xuICB9O1xuXG4vKipcbiAqIFNldCB0aGUgc291cmNlIGNvbnRlbnQgZm9yIGEgc291cmNlIGZpbGUuXG4gKi9cblNvdXJjZU1hcEdlbmVyYXRvci5wcm90b3R5cGUuc2V0U291cmNlQ29udGVudCA9XG4gIGZ1bmN0aW9uIFNvdXJjZU1hcEdlbmVyYXRvcl9zZXRTb3VyY2VDb250ZW50KGFTb3VyY2VGaWxlLCBhU291cmNlQ29udGVudCkge1xuICAgIHZhciBzb3VyY2UgPSBhU291cmNlRmlsZTtcbiAgICBpZiAodGhpcy5fc291cmNlUm9vdCAhPSBudWxsKSB7XG4gICAgICBzb3VyY2UgPSB1dGlsLnJlbGF0aXZlKHRoaXMuX3NvdXJjZVJvb3QsIHNvdXJjZSk7XG4gICAgfVxuXG4gICAgaWYgKGFTb3VyY2VDb250ZW50ICE9IG51bGwpIHtcbiAgICAgIC8vIEFkZCB0aGUgc291cmNlIGNvbnRlbnQgdG8gdGhlIF9zb3VyY2VzQ29udGVudHMgbWFwLlxuICAgICAgLy8gQ3JlYXRlIGEgbmV3IF9zb3VyY2VzQ29udGVudHMgbWFwIGlmIHRoZSBwcm9wZXJ0eSBpcyBudWxsLlxuICAgICAgaWYgKCF0aGlzLl9zb3VyY2VzQ29udGVudHMpIHtcbiAgICAgICAgdGhpcy5fc291cmNlc0NvbnRlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX3NvdXJjZXNDb250ZW50c1t1dGlsLnRvU2V0U3RyaW5nKHNvdXJjZSldID0gYVNvdXJjZUNvbnRlbnQ7XG4gICAgfSBlbHNlIGlmICh0aGlzLl9zb3VyY2VzQ29udGVudHMpIHtcbiAgICAgIC8vIFJlbW92ZSB0aGUgc291cmNlIGZpbGUgZnJvbSB0aGUgX3NvdXJjZXNDb250ZW50cyBtYXAuXG4gICAgICAvLyBJZiB0aGUgX3NvdXJjZXNDb250ZW50cyBtYXAgaXMgZW1wdHksIHNldCB0aGUgcHJvcGVydHkgdG8gbnVsbC5cbiAgICAgIGRlbGV0ZSB0aGlzLl9zb3VyY2VzQ29udGVudHNbdXRpbC50b1NldFN0cmluZyhzb3VyY2UpXTtcbiAgICAgIGlmIChPYmplY3Qua2V5cyh0aGlzLl9zb3VyY2VzQ29udGVudHMpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB0aGlzLl9zb3VyY2VzQ29udGVudHMgPSBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuLyoqXG4gKiBBcHBsaWVzIHRoZSBtYXBwaW5ncyBvZiBhIHN1Yi1zb3VyY2UtbWFwIGZvciBhIHNwZWNpZmljIHNvdXJjZSBmaWxlIHRvIHRoZVxuICogc291cmNlIG1hcCBiZWluZyBnZW5lcmF0ZWQuIEVhY2ggbWFwcGluZyB0byB0aGUgc3VwcGxpZWQgc291cmNlIGZpbGUgaXNcbiAqIHJld3JpdHRlbiB1c2luZyB0aGUgc3VwcGxpZWQgc291cmNlIG1hcC4gTm90ZTogVGhlIHJlc29sdXRpb24gZm9yIHRoZVxuICogcmVzdWx0aW5nIG1hcHBpbmdzIGlzIHRoZSBtaW5pbWl1bSBvZiB0aGlzIG1hcCBhbmQgdGhlIHN1cHBsaWVkIG1hcC5cbiAqXG4gKiBAcGFyYW0gYVNvdXJjZU1hcENvbnN1bWVyIFRoZSBzb3VyY2UgbWFwIHRvIGJlIGFwcGxpZWQuXG4gKiBAcGFyYW0gYVNvdXJjZUZpbGUgT3B0aW9uYWwuIFRoZSBmaWxlbmFtZSBvZiB0aGUgc291cmNlIGZpbGUuXG4gKiAgICAgICAgSWYgb21pdHRlZCwgU291cmNlTWFwQ29uc3VtZXIncyBmaWxlIHByb3BlcnR5IHdpbGwgYmUgdXNlZC5cbiAqIEBwYXJhbSBhU291cmNlTWFwUGF0aCBPcHRpb25hbC4gVGhlIGRpcm5hbWUgb2YgdGhlIHBhdGggdG8gdGhlIHNvdXJjZSBtYXBcbiAqICAgICAgICB0byBiZSBhcHBsaWVkLiBJZiByZWxhdGl2ZSwgaXQgaXMgcmVsYXRpdmUgdG8gdGhlIFNvdXJjZU1hcENvbnN1bWVyLlxuICogICAgICAgIFRoaXMgcGFyYW1ldGVyIGlzIG5lZWRlZCB3aGVuIHRoZSB0d28gc291cmNlIG1hcHMgYXJlbid0IGluIHRoZSBzYW1lXG4gKiAgICAgICAgZGlyZWN0b3J5LCBhbmQgdGhlIHNvdXJjZSBtYXAgdG8gYmUgYXBwbGllZCBjb250YWlucyByZWxhdGl2ZSBzb3VyY2VcbiAqICAgICAgICBwYXRocy4gSWYgc28sIHRob3NlIHJlbGF0aXZlIHNvdXJjZSBwYXRocyBuZWVkIHRvIGJlIHJld3JpdHRlblxuICogICAgICAgIHJlbGF0aXZlIHRvIHRoZSBTb3VyY2VNYXBHZW5lcmF0b3IuXG4gKi9cblNvdXJjZU1hcEdlbmVyYXRvci5wcm90b3R5cGUuYXBwbHlTb3VyY2VNYXAgPVxuICBmdW5jdGlvbiBTb3VyY2VNYXBHZW5lcmF0b3JfYXBwbHlTb3VyY2VNYXAoYVNvdXJjZU1hcENvbnN1bWVyLCBhU291cmNlRmlsZSwgYVNvdXJjZU1hcFBhdGgpIHtcbiAgICB2YXIgc291cmNlRmlsZSA9IGFTb3VyY2VGaWxlO1xuICAgIC8vIElmIGFTb3VyY2VGaWxlIGlzIG9taXR0ZWQsIHdlIHdpbGwgdXNlIHRoZSBmaWxlIHByb3BlcnR5IG9mIHRoZSBTb3VyY2VNYXBcbiAgICBpZiAoYVNvdXJjZUZpbGUgPT0gbnVsbCkge1xuICAgICAgaWYgKGFTb3VyY2VNYXBDb25zdW1lci5maWxlID09IG51bGwpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICdTb3VyY2VNYXBHZW5lcmF0b3IucHJvdG90eXBlLmFwcGx5U291cmNlTWFwIHJlcXVpcmVzIGVpdGhlciBhbiBleHBsaWNpdCBzb3VyY2UgZmlsZSwgJyArXG4gICAgICAgICAgJ29yIHRoZSBzb3VyY2UgbWFwXFwncyBcImZpbGVcIiBwcm9wZXJ0eS4gQm90aCB3ZXJlIG9taXR0ZWQuJ1xuICAgICAgICApO1xuICAgICAgfVxuICAgICAgc291cmNlRmlsZSA9IGFTb3VyY2VNYXBDb25zdW1lci5maWxlO1xuICAgIH1cbiAgICB2YXIgc291cmNlUm9vdCA9IHRoaXMuX3NvdXJjZVJvb3Q7XG4gICAgLy8gTWFrZSBcInNvdXJjZUZpbGVcIiByZWxhdGl2ZSBpZiBhbiBhYnNvbHV0ZSBVcmwgaXMgcGFzc2VkLlxuICAgIGlmIChzb3VyY2VSb290ICE9IG51bGwpIHtcbiAgICAgIHNvdXJjZUZpbGUgPSB1dGlsLnJlbGF0aXZlKHNvdXJjZVJvb3QsIHNvdXJjZUZpbGUpO1xuICAgIH1cbiAgICAvLyBBcHBseWluZyB0aGUgU291cmNlTWFwIGNhbiBhZGQgYW5kIHJlbW92ZSBpdGVtcyBmcm9tIHRoZSBzb3VyY2VzIGFuZFxuICAgIC8vIHRoZSBuYW1lcyBhcnJheS5cbiAgICB2YXIgbmV3U291cmNlcyA9IG5ldyBBcnJheVNldCgpO1xuICAgIHZhciBuZXdOYW1lcyA9IG5ldyBBcnJheVNldCgpO1xuXG4gICAgLy8gRmluZCBtYXBwaW5ncyBmb3IgdGhlIFwic291cmNlRmlsZVwiXG4gICAgdGhpcy5fbWFwcGluZ3MudW5zb3J0ZWRGb3JFYWNoKGZ1bmN0aW9uIChtYXBwaW5nKSB7XG4gICAgICBpZiAobWFwcGluZy5zb3VyY2UgPT09IHNvdXJjZUZpbGUgJiYgbWFwcGluZy5vcmlnaW5hbExpbmUgIT0gbnVsbCkge1xuICAgICAgICAvLyBDaGVjayBpZiBpdCBjYW4gYmUgbWFwcGVkIGJ5IHRoZSBzb3VyY2UgbWFwLCB0aGVuIHVwZGF0ZSB0aGUgbWFwcGluZy5cbiAgICAgICAgdmFyIG9yaWdpbmFsID0gYVNvdXJjZU1hcENvbnN1bWVyLm9yaWdpbmFsUG9zaXRpb25Gb3Ioe1xuICAgICAgICAgIGxpbmU6IG1hcHBpbmcub3JpZ2luYWxMaW5lLFxuICAgICAgICAgIGNvbHVtbjogbWFwcGluZy5vcmlnaW5hbENvbHVtblxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKG9yaWdpbmFsLnNvdXJjZSAhPSBudWxsKSB7XG4gICAgICAgICAgLy8gQ29weSBtYXBwaW5nXG4gICAgICAgICAgbWFwcGluZy5zb3VyY2UgPSBvcmlnaW5hbC5zb3VyY2U7XG4gICAgICAgICAgaWYgKGFTb3VyY2VNYXBQYXRoICE9IG51bGwpIHtcbiAgICAgICAgICAgIG1hcHBpbmcuc291cmNlID0gdXRpbC5qb2luKGFTb3VyY2VNYXBQYXRoLCBtYXBwaW5nLnNvdXJjZSlcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHNvdXJjZVJvb3QgIT0gbnVsbCkge1xuICAgICAgICAgICAgbWFwcGluZy5zb3VyY2UgPSB1dGlsLnJlbGF0aXZlKHNvdXJjZVJvb3QsIG1hcHBpbmcuc291cmNlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbWFwcGluZy5vcmlnaW5hbExpbmUgPSBvcmlnaW5hbC5saW5lO1xuICAgICAgICAgIG1hcHBpbmcub3JpZ2luYWxDb2x1bW4gPSBvcmlnaW5hbC5jb2x1bW47XG4gICAgICAgICAgaWYgKG9yaWdpbmFsLm5hbWUgIT0gbnVsbCkge1xuICAgICAgICAgICAgbWFwcGluZy5uYW1lID0gb3JpZ2luYWwubmFtZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdmFyIHNvdXJjZSA9IG1hcHBpbmcuc291cmNlO1xuICAgICAgaWYgKHNvdXJjZSAhPSBudWxsICYmICFuZXdTb3VyY2VzLmhhcyhzb3VyY2UpKSB7XG4gICAgICAgIG5ld1NvdXJjZXMuYWRkKHNvdXJjZSk7XG4gICAgICB9XG5cbiAgICAgIHZhciBuYW1lID0gbWFwcGluZy5uYW1lO1xuICAgICAgaWYgKG5hbWUgIT0gbnVsbCAmJiAhbmV3TmFtZXMuaGFzKG5hbWUpKSB7XG4gICAgICAgIG5ld05hbWVzLmFkZChuYW1lKTtcbiAgICAgIH1cblxuICAgIH0sIHRoaXMpO1xuICAgIHRoaXMuX3NvdXJjZXMgPSBuZXdTb3VyY2VzO1xuICAgIHRoaXMuX25hbWVzID0gbmV3TmFtZXM7XG5cbiAgICAvLyBDb3B5IHNvdXJjZXNDb250ZW50cyBvZiBhcHBsaWVkIG1hcC5cbiAgICBhU291cmNlTWFwQ29uc3VtZXIuc291cmNlcy5mb3JFYWNoKGZ1bmN0aW9uIChzb3VyY2VGaWxlKSB7XG4gICAgICB2YXIgY29udGVudCA9IGFTb3VyY2VNYXBDb25zdW1lci5zb3VyY2VDb250ZW50Rm9yKHNvdXJjZUZpbGUpO1xuICAgICAgaWYgKGNvbnRlbnQgIT0gbnVsbCkge1xuICAgICAgICBpZiAoYVNvdXJjZU1hcFBhdGggIT0gbnVsbCkge1xuICAgICAgICAgIHNvdXJjZUZpbGUgPSB1dGlsLmpvaW4oYVNvdXJjZU1hcFBhdGgsIHNvdXJjZUZpbGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzb3VyY2VSb290ICE9IG51bGwpIHtcbiAgICAgICAgICBzb3VyY2VGaWxlID0gdXRpbC5yZWxhdGl2ZShzb3VyY2VSb290LCBzb3VyY2VGaWxlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNldFNvdXJjZUNvbnRlbnQoc291cmNlRmlsZSwgY29udGVudCk7XG4gICAgICB9XG4gICAgfSwgdGhpcyk7XG4gIH07XG5cbi8qKlxuICogQSBtYXBwaW5nIGNhbiBoYXZlIG9uZSBvZiB0aGUgdGhyZWUgbGV2ZWxzIG9mIGRhdGE6XG4gKlxuICogICAxLiBKdXN0IHRoZSBnZW5lcmF0ZWQgcG9zaXRpb24uXG4gKiAgIDIuIFRoZSBHZW5lcmF0ZWQgcG9zaXRpb24sIG9yaWdpbmFsIHBvc2l0aW9uLCBhbmQgb3JpZ2luYWwgc291cmNlLlxuICogICAzLiBHZW5lcmF0ZWQgYW5kIG9yaWdpbmFsIHBvc2l0aW9uLCBvcmlnaW5hbCBzb3VyY2UsIGFzIHdlbGwgYXMgYSBuYW1lXG4gKiAgICAgIHRva2VuLlxuICpcbiAqIFRvIG1haW50YWluIGNvbnNpc3RlbmN5LCB3ZSB2YWxpZGF0ZSB0aGF0IGFueSBuZXcgbWFwcGluZyBiZWluZyBhZGRlZCBmYWxsc1xuICogaW4gdG8gb25lIG9mIHRoZXNlIGNhdGVnb3JpZXMuXG4gKi9cblNvdXJjZU1hcEdlbmVyYXRvci5wcm90b3R5cGUuX3ZhbGlkYXRlTWFwcGluZyA9XG4gIGZ1bmN0aW9uIFNvdXJjZU1hcEdlbmVyYXRvcl92YWxpZGF0ZU1hcHBpbmcoYUdlbmVyYXRlZCwgYU9yaWdpbmFsLCBhU291cmNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFOYW1lKSB7XG4gICAgLy8gV2hlbiBhT3JpZ2luYWwgaXMgdHJ1dGh5IGJ1dCBoYXMgZW1wdHkgdmFsdWVzIGZvciAubGluZSBhbmQgLmNvbHVtbixcbiAgICAvLyBpdCBpcyBtb3N0IGxpa2VseSBhIHByb2dyYW1tZXIgZXJyb3IuIEluIHRoaXMgY2FzZSB3ZSB0aHJvdyBhIHZlcnlcbiAgICAvLyBzcGVjaWZpYyBlcnJvciBtZXNzYWdlIHRvIHRyeSB0byBndWlkZSB0aGVtIHRoZSByaWdodCB3YXkuXG4gICAgLy8gRm9yIGV4YW1wbGU6IGh0dHBzOi8vZ2l0aHViLmNvbS9Qb2x5bWVyL3BvbHltZXItYnVuZGxlci9wdWxsLzUxOVxuICAgIGlmIChhT3JpZ2luYWwgJiYgdHlwZW9mIGFPcmlnaW5hbC5saW5lICE9PSAnbnVtYmVyJyAmJiB0eXBlb2YgYU9yaWdpbmFsLmNvbHVtbiAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgJ29yaWdpbmFsLmxpbmUgYW5kIG9yaWdpbmFsLmNvbHVtbiBhcmUgbm90IG51bWJlcnMgLS0geW91IHByb2JhYmx5IG1lYW50IHRvIG9taXQgJyArXG4gICAgICAgICAgICAndGhlIG9yaWdpbmFsIG1hcHBpbmcgZW50aXJlbHkgYW5kIG9ubHkgbWFwIHRoZSBnZW5lcmF0ZWQgcG9zaXRpb24uIElmIHNvLCBwYXNzICcgK1xuICAgICAgICAgICAgJ251bGwgZm9yIHRoZSBvcmlnaW5hbCBtYXBwaW5nIGluc3RlYWQgb2YgYW4gb2JqZWN0IHdpdGggZW1wdHkgb3IgbnVsbCB2YWx1ZXMuJ1xuICAgICAgICApO1xuICAgIH1cblxuICAgIGlmIChhR2VuZXJhdGVkICYmICdsaW5lJyBpbiBhR2VuZXJhdGVkICYmICdjb2x1bW4nIGluIGFHZW5lcmF0ZWRcbiAgICAgICAgJiYgYUdlbmVyYXRlZC5saW5lID4gMCAmJiBhR2VuZXJhdGVkLmNvbHVtbiA+PSAwXG4gICAgICAgICYmICFhT3JpZ2luYWwgJiYgIWFTb3VyY2UgJiYgIWFOYW1lKSB7XG4gICAgICAvLyBDYXNlIDEuXG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGVsc2UgaWYgKGFHZW5lcmF0ZWQgJiYgJ2xpbmUnIGluIGFHZW5lcmF0ZWQgJiYgJ2NvbHVtbicgaW4gYUdlbmVyYXRlZFxuICAgICAgICAgICAgICYmIGFPcmlnaW5hbCAmJiAnbGluZScgaW4gYU9yaWdpbmFsICYmICdjb2x1bW4nIGluIGFPcmlnaW5hbFxuICAgICAgICAgICAgICYmIGFHZW5lcmF0ZWQubGluZSA+IDAgJiYgYUdlbmVyYXRlZC5jb2x1bW4gPj0gMFxuICAgICAgICAgICAgICYmIGFPcmlnaW5hbC5saW5lID4gMCAmJiBhT3JpZ2luYWwuY29sdW1uID49IDBcbiAgICAgICAgICAgICAmJiBhU291cmNlKSB7XG4gICAgICAvLyBDYXNlcyAyIGFuZCAzLlxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBtYXBwaW5nOiAnICsgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBnZW5lcmF0ZWQ6IGFHZW5lcmF0ZWQsXG4gICAgICAgIHNvdXJjZTogYVNvdXJjZSxcbiAgICAgICAgb3JpZ2luYWw6IGFPcmlnaW5hbCxcbiAgICAgICAgbmFtZTogYU5hbWVcbiAgICAgIH0pKTtcbiAgICB9XG4gIH07XG5cbi8qKlxuICogU2VyaWFsaXplIHRoZSBhY2N1bXVsYXRlZCBtYXBwaW5ncyBpbiB0byB0aGUgc3RyZWFtIG9mIGJhc2UgNjQgVkxRc1xuICogc3BlY2lmaWVkIGJ5IHRoZSBzb3VyY2UgbWFwIGZvcm1hdC5cbiAqL1xuU291cmNlTWFwR2VuZXJhdG9yLnByb3RvdHlwZS5fc2VyaWFsaXplTWFwcGluZ3MgPVxuICBmdW5jdGlvbiBTb3VyY2VNYXBHZW5lcmF0b3Jfc2VyaWFsaXplTWFwcGluZ3MoKSB7XG4gICAgdmFyIHByZXZpb3VzR2VuZXJhdGVkQ29sdW1uID0gMDtcbiAgICB2YXIgcHJldmlvdXNHZW5lcmF0ZWRMaW5lID0gMTtcbiAgICB2YXIgcHJldmlvdXNPcmlnaW5hbENvbHVtbiA9IDA7XG4gICAgdmFyIHByZXZpb3VzT3JpZ2luYWxMaW5lID0gMDtcbiAgICB2YXIgcHJldmlvdXNOYW1lID0gMDtcbiAgICB2YXIgcHJldmlvdXNTb3VyY2UgPSAwO1xuICAgIHZhciByZXN1bHQgPSAnJztcbiAgICB2YXIgbmV4dDtcbiAgICB2YXIgbWFwcGluZztcbiAgICB2YXIgbmFtZUlkeDtcbiAgICB2YXIgc291cmNlSWR4O1xuXG4gICAgdmFyIG1hcHBpbmdzID0gdGhpcy5fbWFwcGluZ3MudG9BcnJheSgpO1xuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBtYXBwaW5ncy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgbWFwcGluZyA9IG1hcHBpbmdzW2ldO1xuICAgICAgbmV4dCA9ICcnXG5cbiAgICAgIGlmIChtYXBwaW5nLmdlbmVyYXRlZExpbmUgIT09IHByZXZpb3VzR2VuZXJhdGVkTGluZSkge1xuICAgICAgICBwcmV2aW91c0dlbmVyYXRlZENvbHVtbiA9IDA7XG4gICAgICAgIHdoaWxlIChtYXBwaW5nLmdlbmVyYXRlZExpbmUgIT09IHByZXZpb3VzR2VuZXJhdGVkTGluZSkge1xuICAgICAgICAgIG5leHQgKz0gJzsnO1xuICAgICAgICAgIHByZXZpb3VzR2VuZXJhdGVkTGluZSsrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgaWYgKGkgPiAwKSB7XG4gICAgICAgICAgaWYgKCF1dGlsLmNvbXBhcmVCeUdlbmVyYXRlZFBvc2l0aW9uc0luZmxhdGVkKG1hcHBpbmcsIG1hcHBpbmdzW2kgLSAxXSkpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBuZXh0ICs9ICcsJztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBuZXh0ICs9IGJhc2U2NFZMUS5lbmNvZGUobWFwcGluZy5nZW5lcmF0ZWRDb2x1bW5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC0gcHJldmlvdXNHZW5lcmF0ZWRDb2x1bW4pO1xuICAgICAgcHJldmlvdXNHZW5lcmF0ZWRDb2x1bW4gPSBtYXBwaW5nLmdlbmVyYXRlZENvbHVtbjtcblxuICAgICAgaWYgKG1hcHBpbmcuc291cmNlICE9IG51bGwpIHtcbiAgICAgICAgc291cmNlSWR4ID0gdGhpcy5fc291cmNlcy5pbmRleE9mKG1hcHBpbmcuc291cmNlKTtcbiAgICAgICAgbmV4dCArPSBiYXNlNjRWTFEuZW5jb2RlKHNvdXJjZUlkeCAtIHByZXZpb3VzU291cmNlKTtcbiAgICAgICAgcHJldmlvdXNTb3VyY2UgPSBzb3VyY2VJZHg7XG5cbiAgICAgICAgLy8gbGluZXMgYXJlIHN0b3JlZCAwLWJhc2VkIGluIFNvdXJjZU1hcCBzcGVjIHZlcnNpb24gM1xuICAgICAgICBuZXh0ICs9IGJhc2U2NFZMUS5lbmNvZGUobWFwcGluZy5vcmlnaW5hbExpbmUgLSAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC0gcHJldmlvdXNPcmlnaW5hbExpbmUpO1xuICAgICAgICBwcmV2aW91c09yaWdpbmFsTGluZSA9IG1hcHBpbmcub3JpZ2luYWxMaW5lIC0gMTtcblxuICAgICAgICBuZXh0ICs9IGJhc2U2NFZMUS5lbmNvZGUobWFwcGluZy5vcmlnaW5hbENvbHVtblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAtIHByZXZpb3VzT3JpZ2luYWxDb2x1bW4pO1xuICAgICAgICBwcmV2aW91c09yaWdpbmFsQ29sdW1uID0gbWFwcGluZy5vcmlnaW5hbENvbHVtbjtcblxuICAgICAgICBpZiAobWFwcGluZy5uYW1lICE9IG51bGwpIHtcbiAgICAgICAgICBuYW1lSWR4ID0gdGhpcy5fbmFtZXMuaW5kZXhPZihtYXBwaW5nLm5hbWUpO1xuICAgICAgICAgIG5leHQgKz0gYmFzZTY0VkxRLmVuY29kZShuYW1lSWR4IC0gcHJldmlvdXNOYW1lKTtcbiAgICAgICAgICBwcmV2aW91c05hbWUgPSBuYW1lSWR4O1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJlc3VsdCArPSBuZXh0O1xuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cblNvdXJjZU1hcEdlbmVyYXRvci5wcm90b3R5cGUuX2dlbmVyYXRlU291cmNlc0NvbnRlbnQgPVxuICBmdW5jdGlvbiBTb3VyY2VNYXBHZW5lcmF0b3JfZ2VuZXJhdGVTb3VyY2VzQ29udGVudChhU291cmNlcywgYVNvdXJjZVJvb3QpIHtcbiAgICByZXR1cm4gYVNvdXJjZXMubWFwKGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgIGlmICghdGhpcy5fc291cmNlc0NvbnRlbnRzKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgaWYgKGFTb3VyY2VSb290ICE9IG51bGwpIHtcbiAgICAgICAgc291cmNlID0gdXRpbC5yZWxhdGl2ZShhU291cmNlUm9vdCwgc291cmNlKTtcbiAgICAgIH1cbiAgICAgIHZhciBrZXkgPSB1dGlsLnRvU2V0U3RyaW5nKHNvdXJjZSk7XG4gICAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMuX3NvdXJjZXNDb250ZW50cywga2V5KVxuICAgICAgICA/IHRoaXMuX3NvdXJjZXNDb250ZW50c1trZXldXG4gICAgICAgIDogbnVsbDtcbiAgICB9LCB0aGlzKTtcbiAgfTtcblxuLyoqXG4gKiBFeHRlcm5hbGl6ZSB0aGUgc291cmNlIG1hcC5cbiAqL1xuU291cmNlTWFwR2VuZXJhdG9yLnByb3RvdHlwZS50b0pTT04gPVxuICBmdW5jdGlvbiBTb3VyY2VNYXBHZW5lcmF0b3JfdG9KU09OKCkge1xuICAgIHZhciBtYXAgPSB7XG4gICAgICB2ZXJzaW9uOiB0aGlzLl92ZXJzaW9uLFxuICAgICAgc291cmNlczogdGhpcy5fc291cmNlcy50b0FycmF5KCksXG4gICAgICBuYW1lczogdGhpcy5fbmFtZXMudG9BcnJheSgpLFxuICAgICAgbWFwcGluZ3M6IHRoaXMuX3NlcmlhbGl6ZU1hcHBpbmdzKClcbiAgICB9O1xuICAgIGlmICh0aGlzLl9maWxlICE9IG51bGwpIHtcbiAgICAgIG1hcC5maWxlID0gdGhpcy5fZmlsZTtcbiAgICB9XG4gICAgaWYgKHRoaXMuX3NvdXJjZVJvb3QgIT0gbnVsbCkge1xuICAgICAgbWFwLnNvdXJjZVJvb3QgPSB0aGlzLl9zb3VyY2VSb290O1xuICAgIH1cbiAgICBpZiAodGhpcy5fc291cmNlc0NvbnRlbnRzKSB7XG4gICAgICBtYXAuc291cmNlc0NvbnRlbnQgPSB0aGlzLl9nZW5lcmF0ZVNvdXJjZXNDb250ZW50KG1hcC5zb3VyY2VzLCBtYXAuc291cmNlUm9vdCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1hcDtcbiAgfTtcblxuLyoqXG4gKiBSZW5kZXIgdGhlIHNvdXJjZSBtYXAgYmVpbmcgZ2VuZXJhdGVkIHRvIGEgc3RyaW5nLlxuICovXG5Tb3VyY2VNYXBHZW5lcmF0b3IucHJvdG90eXBlLnRvU3RyaW5nID1cbiAgZnVuY3Rpb24gU291cmNlTWFwR2VuZXJhdG9yX3RvU3RyaW5nKCkge1xuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh0aGlzLnRvSlNPTigpKTtcbiAgfTtcblxuZXhwb3J0cy5Tb3VyY2VNYXBHZW5lcmF0b3IgPSBTb3VyY2VNYXBHZW5lcmF0b3I7XG4iLCIvKiAtKi0gTW9kZToganM7IGpzLWluZGVudC1sZXZlbDogMjsgLSotICovXG4vKlxuICogQ29weXJpZ2h0IDIwMTEgTW96aWxsYSBGb3VuZGF0aW9uIGFuZCBjb250cmlidXRvcnNcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBOZXcgQlNEIGxpY2Vuc2UuIFNlZSBMSUNFTlNFIG9yOlxuICogaHR0cDovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL0JTRC0zLUNsYXVzZVxuICovXG5cbnZhciBTb3VyY2VNYXBHZW5lcmF0b3IgPSByZXF1aXJlKCcuL3NvdXJjZS1tYXAtZ2VuZXJhdG9yJykuU291cmNlTWFwR2VuZXJhdG9yO1xudmFyIHV0aWwgPSByZXF1aXJlKCcuL3V0aWwnKTtcblxuLy8gTWF0Y2hlcyBhIFdpbmRvd3Mtc3R5bGUgYFxcclxcbmAgbmV3bGluZSBvciBhIGBcXG5gIG5ld2xpbmUgdXNlZCBieSBhbGwgb3RoZXJcbi8vIG9wZXJhdGluZyBzeXN0ZW1zIHRoZXNlIGRheXMgKGNhcHR1cmluZyB0aGUgcmVzdWx0KS5cbnZhciBSRUdFWF9ORVdMSU5FID0gLyhcXHI/XFxuKS87XG5cbi8vIE5ld2xpbmUgY2hhcmFjdGVyIGNvZGUgZm9yIGNoYXJDb2RlQXQoKSBjb21wYXJpc29uc1xudmFyIE5FV0xJTkVfQ09ERSA9IDEwO1xuXG4vLyBQcml2YXRlIHN5bWJvbCBmb3IgaWRlbnRpZnlpbmcgYFNvdXJjZU5vZGVgcyB3aGVuIG11bHRpcGxlIHZlcnNpb25zIG9mXG4vLyB0aGUgc291cmNlLW1hcCBsaWJyYXJ5IGFyZSBsb2FkZWQuIFRoaXMgTVVTVCBOT1QgQ0hBTkdFIGFjcm9zc1xuLy8gdmVyc2lvbnMhXG52YXIgaXNTb3VyY2VOb2RlID0gXCIkJCRpc1NvdXJjZU5vZGUkJCRcIjtcblxuLyoqXG4gKiBTb3VyY2VOb2RlcyBwcm92aWRlIGEgd2F5IHRvIGFic3RyYWN0IG92ZXIgaW50ZXJwb2xhdGluZy9jb25jYXRlbmF0aW5nXG4gKiBzbmlwcGV0cyBvZiBnZW5lcmF0ZWQgSmF2YVNjcmlwdCBzb3VyY2UgY29kZSB3aGlsZSBtYWludGFpbmluZyB0aGUgbGluZSBhbmRcbiAqIGNvbHVtbiBpbmZvcm1hdGlvbiBhc3NvY2lhdGVkIHdpdGggdGhlIG9yaWdpbmFsIHNvdXJjZSBjb2RlLlxuICpcbiAqIEBwYXJhbSBhTGluZSBUaGUgb3JpZ2luYWwgbGluZSBudW1iZXIuXG4gKiBAcGFyYW0gYUNvbHVtbiBUaGUgb3JpZ2luYWwgY29sdW1uIG51bWJlci5cbiAqIEBwYXJhbSBhU291cmNlIFRoZSBvcmlnaW5hbCBzb3VyY2UncyBmaWxlbmFtZS5cbiAqIEBwYXJhbSBhQ2h1bmtzIE9wdGlvbmFsLiBBbiBhcnJheSBvZiBzdHJpbmdzIHdoaWNoIGFyZSBzbmlwcGV0cyBvZlxuICogICAgICAgIGdlbmVyYXRlZCBKUywgb3Igb3RoZXIgU291cmNlTm9kZXMuXG4gKiBAcGFyYW0gYU5hbWUgVGhlIG9yaWdpbmFsIGlkZW50aWZpZXIuXG4gKi9cbmZ1bmN0aW9uIFNvdXJjZU5vZGUoYUxpbmUsIGFDb2x1bW4sIGFTb3VyY2UsIGFDaHVua3MsIGFOYW1lKSB7XG4gIHRoaXMuY2hpbGRyZW4gPSBbXTtcbiAgdGhpcy5zb3VyY2VDb250ZW50cyA9IHt9O1xuICB0aGlzLmxpbmUgPSBhTGluZSA9PSBudWxsID8gbnVsbCA6IGFMaW5lO1xuICB0aGlzLmNvbHVtbiA9IGFDb2x1bW4gPT0gbnVsbCA/IG51bGwgOiBhQ29sdW1uO1xuICB0aGlzLnNvdXJjZSA9IGFTb3VyY2UgPT0gbnVsbCA/IG51bGwgOiBhU291cmNlO1xuICB0aGlzLm5hbWUgPSBhTmFtZSA9PSBudWxsID8gbnVsbCA6IGFOYW1lO1xuICB0aGlzW2lzU291cmNlTm9kZV0gPSB0cnVlO1xuICBpZiAoYUNodW5rcyAhPSBudWxsKSB0aGlzLmFkZChhQ2h1bmtzKTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgU291cmNlTm9kZSBmcm9tIGdlbmVyYXRlZCBjb2RlIGFuZCBhIFNvdXJjZU1hcENvbnN1bWVyLlxuICpcbiAqIEBwYXJhbSBhR2VuZXJhdGVkQ29kZSBUaGUgZ2VuZXJhdGVkIGNvZGVcbiAqIEBwYXJhbSBhU291cmNlTWFwQ29uc3VtZXIgVGhlIFNvdXJjZU1hcCBmb3IgdGhlIGdlbmVyYXRlZCBjb2RlXG4gKiBAcGFyYW0gYVJlbGF0aXZlUGF0aCBPcHRpb25hbC4gVGhlIHBhdGggdGhhdCByZWxhdGl2ZSBzb3VyY2VzIGluIHRoZVxuICogICAgICAgIFNvdXJjZU1hcENvbnN1bWVyIHNob3VsZCBiZSByZWxhdGl2ZSB0by5cbiAqL1xuU291cmNlTm9kZS5mcm9tU3RyaW5nV2l0aFNvdXJjZU1hcCA9XG4gIGZ1bmN0aW9uIFNvdXJjZU5vZGVfZnJvbVN0cmluZ1dpdGhTb3VyY2VNYXAoYUdlbmVyYXRlZENvZGUsIGFTb3VyY2VNYXBDb25zdW1lciwgYVJlbGF0aXZlUGF0aCkge1xuICAgIC8vIFRoZSBTb3VyY2VOb2RlIHdlIHdhbnQgdG8gZmlsbCB3aXRoIHRoZSBnZW5lcmF0ZWQgY29kZVxuICAgIC8vIGFuZCB0aGUgU291cmNlTWFwXG4gICAgdmFyIG5vZGUgPSBuZXcgU291cmNlTm9kZSgpO1xuXG4gICAgLy8gQWxsIGV2ZW4gaW5kaWNlcyBvZiB0aGlzIGFycmF5IGFyZSBvbmUgbGluZSBvZiB0aGUgZ2VuZXJhdGVkIGNvZGUsXG4gICAgLy8gd2hpbGUgYWxsIG9kZCBpbmRpY2VzIGFyZSB0aGUgbmV3bGluZXMgYmV0d2VlbiB0d28gYWRqYWNlbnQgbGluZXNcbiAgICAvLyAoc2luY2UgYFJFR0VYX05FV0xJTkVgIGNhcHR1cmVzIGl0cyBtYXRjaCkuXG4gICAgLy8gUHJvY2Vzc2VkIGZyYWdtZW50cyBhcmUgYWNjZXNzZWQgYnkgY2FsbGluZyBgc2hpZnROZXh0TGluZWAuXG4gICAgdmFyIHJlbWFpbmluZ0xpbmVzID0gYUdlbmVyYXRlZENvZGUuc3BsaXQoUkVHRVhfTkVXTElORSk7XG4gICAgdmFyIHJlbWFpbmluZ0xpbmVzSW5kZXggPSAwO1xuICAgIHZhciBzaGlmdE5leHRMaW5lID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgbGluZUNvbnRlbnRzID0gZ2V0TmV4dExpbmUoKTtcbiAgICAgIC8vIFRoZSBsYXN0IGxpbmUgb2YgYSBmaWxlIG1pZ2h0IG5vdCBoYXZlIGEgbmV3bGluZS5cbiAgICAgIHZhciBuZXdMaW5lID0gZ2V0TmV4dExpbmUoKSB8fCBcIlwiO1xuICAgICAgcmV0dXJuIGxpbmVDb250ZW50cyArIG5ld0xpbmU7XG5cbiAgICAgIGZ1bmN0aW9uIGdldE5leHRMaW5lKCkge1xuICAgICAgICByZXR1cm4gcmVtYWluaW5nTGluZXNJbmRleCA8IHJlbWFpbmluZ0xpbmVzLmxlbmd0aCA/XG4gICAgICAgICAgICByZW1haW5pbmdMaW5lc1tyZW1haW5pbmdMaW5lc0luZGV4KytdIDogdW5kZWZpbmVkO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBXZSBuZWVkIHRvIHJlbWVtYmVyIHRoZSBwb3NpdGlvbiBvZiBcInJlbWFpbmluZ0xpbmVzXCJcbiAgICB2YXIgbGFzdEdlbmVyYXRlZExpbmUgPSAxLCBsYXN0R2VuZXJhdGVkQ29sdW1uID0gMDtcblxuICAgIC8vIFRoZSBnZW5lcmF0ZSBTb3VyY2VOb2RlcyB3ZSBuZWVkIGEgY29kZSByYW5nZS5cbiAgICAvLyBUbyBleHRyYWN0IGl0IGN1cnJlbnQgYW5kIGxhc3QgbWFwcGluZyBpcyB1c2VkLlxuICAgIC8vIEhlcmUgd2Ugc3RvcmUgdGhlIGxhc3QgbWFwcGluZy5cbiAgICB2YXIgbGFzdE1hcHBpbmcgPSBudWxsO1xuXG4gICAgYVNvdXJjZU1hcENvbnN1bWVyLmVhY2hNYXBwaW5nKGZ1bmN0aW9uIChtYXBwaW5nKSB7XG4gICAgICBpZiAobGFzdE1hcHBpbmcgIT09IG51bGwpIHtcbiAgICAgICAgLy8gV2UgYWRkIHRoZSBjb2RlIGZyb20gXCJsYXN0TWFwcGluZ1wiIHRvIFwibWFwcGluZ1wiOlxuICAgICAgICAvLyBGaXJzdCBjaGVjayBpZiB0aGVyZSBpcyBhIG5ldyBsaW5lIGluIGJldHdlZW4uXG4gICAgICAgIGlmIChsYXN0R2VuZXJhdGVkTGluZSA8IG1hcHBpbmcuZ2VuZXJhdGVkTGluZSkge1xuICAgICAgICAgIC8vIEFzc29jaWF0ZSBmaXJzdCBsaW5lIHdpdGggXCJsYXN0TWFwcGluZ1wiXG4gICAgICAgICAgYWRkTWFwcGluZ1dpdGhDb2RlKGxhc3RNYXBwaW5nLCBzaGlmdE5leHRMaW5lKCkpO1xuICAgICAgICAgIGxhc3RHZW5lcmF0ZWRMaW5lKys7XG4gICAgICAgICAgbGFzdEdlbmVyYXRlZENvbHVtbiA9IDA7XG4gICAgICAgICAgLy8gVGhlIHJlbWFpbmluZyBjb2RlIGlzIGFkZGVkIHdpdGhvdXQgbWFwcGluZ1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIFRoZXJlIGlzIG5vIG5ldyBsaW5lIGluIGJldHdlZW4uXG4gICAgICAgICAgLy8gQXNzb2NpYXRlIHRoZSBjb2RlIGJldHdlZW4gXCJsYXN0R2VuZXJhdGVkQ29sdW1uXCIgYW5kXG4gICAgICAgICAgLy8gXCJtYXBwaW5nLmdlbmVyYXRlZENvbHVtblwiIHdpdGggXCJsYXN0TWFwcGluZ1wiXG4gICAgICAgICAgdmFyIG5leHRMaW5lID0gcmVtYWluaW5nTGluZXNbcmVtYWluaW5nTGluZXNJbmRleF0gfHwgJyc7XG4gICAgICAgICAgdmFyIGNvZGUgPSBuZXh0TGluZS5zdWJzdHIoMCwgbWFwcGluZy5nZW5lcmF0ZWRDb2x1bW4gLVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RHZW5lcmF0ZWRDb2x1bW4pO1xuICAgICAgICAgIHJlbWFpbmluZ0xpbmVzW3JlbWFpbmluZ0xpbmVzSW5kZXhdID0gbmV4dExpbmUuc3Vic3RyKG1hcHBpbmcuZ2VuZXJhdGVkQ29sdW1uIC1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXN0R2VuZXJhdGVkQ29sdW1uKTtcbiAgICAgICAgICBsYXN0R2VuZXJhdGVkQ29sdW1uID0gbWFwcGluZy5nZW5lcmF0ZWRDb2x1bW47XG4gICAgICAgICAgYWRkTWFwcGluZ1dpdGhDb2RlKGxhc3RNYXBwaW5nLCBjb2RlKTtcbiAgICAgICAgICAvLyBObyBtb3JlIHJlbWFpbmluZyBjb2RlLCBjb250aW51ZVxuICAgICAgICAgIGxhc3RNYXBwaW5nID0gbWFwcGluZztcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIFdlIGFkZCB0aGUgZ2VuZXJhdGVkIGNvZGUgdW50aWwgdGhlIGZpcnN0IG1hcHBpbmdcbiAgICAgIC8vIHRvIHRoZSBTb3VyY2VOb2RlIHdpdGhvdXQgYW55IG1hcHBpbmcuXG4gICAgICAvLyBFYWNoIGxpbmUgaXMgYWRkZWQgYXMgc2VwYXJhdGUgc3RyaW5nLlxuICAgICAgd2hpbGUgKGxhc3RHZW5lcmF0ZWRMaW5lIDwgbWFwcGluZy5nZW5lcmF0ZWRMaW5lKSB7XG4gICAgICAgIG5vZGUuYWRkKHNoaWZ0TmV4dExpbmUoKSk7XG4gICAgICAgIGxhc3RHZW5lcmF0ZWRMaW5lKys7XG4gICAgICB9XG4gICAgICBpZiAobGFzdEdlbmVyYXRlZENvbHVtbiA8IG1hcHBpbmcuZ2VuZXJhdGVkQ29sdW1uKSB7XG4gICAgICAgIHZhciBuZXh0TGluZSA9IHJlbWFpbmluZ0xpbmVzW3JlbWFpbmluZ0xpbmVzSW5kZXhdIHx8ICcnO1xuICAgICAgICBub2RlLmFkZChuZXh0TGluZS5zdWJzdHIoMCwgbWFwcGluZy5nZW5lcmF0ZWRDb2x1bW4pKTtcbiAgICAgICAgcmVtYWluaW5nTGluZXNbcmVtYWluaW5nTGluZXNJbmRleF0gPSBuZXh0TGluZS5zdWJzdHIobWFwcGluZy5nZW5lcmF0ZWRDb2x1bW4pO1xuICAgICAgICBsYXN0R2VuZXJhdGVkQ29sdW1uID0gbWFwcGluZy5nZW5lcmF0ZWRDb2x1bW47XG4gICAgICB9XG4gICAgICBsYXN0TWFwcGluZyA9IG1hcHBpbmc7XG4gICAgfSwgdGhpcyk7XG4gICAgLy8gV2UgaGF2ZSBwcm9jZXNzZWQgYWxsIG1hcHBpbmdzLlxuICAgIGlmIChyZW1haW5pbmdMaW5lc0luZGV4IDwgcmVtYWluaW5nTGluZXMubGVuZ3RoKSB7XG4gICAgICBpZiAobGFzdE1hcHBpbmcpIHtcbiAgICAgICAgLy8gQXNzb2NpYXRlIHRoZSByZW1haW5pbmcgY29kZSBpbiB0aGUgY3VycmVudCBsaW5lIHdpdGggXCJsYXN0TWFwcGluZ1wiXG4gICAgICAgIGFkZE1hcHBpbmdXaXRoQ29kZShsYXN0TWFwcGluZywgc2hpZnROZXh0TGluZSgpKTtcbiAgICAgIH1cbiAgICAgIC8vIGFuZCBhZGQgdGhlIHJlbWFpbmluZyBsaW5lcyB3aXRob3V0IGFueSBtYXBwaW5nXG4gICAgICBub2RlLmFkZChyZW1haW5pbmdMaW5lcy5zcGxpY2UocmVtYWluaW5nTGluZXNJbmRleCkuam9pbihcIlwiKSk7XG4gICAgfVxuXG4gICAgLy8gQ29weSBzb3VyY2VzQ29udGVudCBpbnRvIFNvdXJjZU5vZGVcbiAgICBhU291cmNlTWFwQ29uc3VtZXIuc291cmNlcy5mb3JFYWNoKGZ1bmN0aW9uIChzb3VyY2VGaWxlKSB7XG4gICAgICB2YXIgY29udGVudCA9IGFTb3VyY2VNYXBDb25zdW1lci5zb3VyY2VDb250ZW50Rm9yKHNvdXJjZUZpbGUpO1xuICAgICAgaWYgKGNvbnRlbnQgIT0gbnVsbCkge1xuICAgICAgICBpZiAoYVJlbGF0aXZlUGF0aCAhPSBudWxsKSB7XG4gICAgICAgICAgc291cmNlRmlsZSA9IHV0aWwuam9pbihhUmVsYXRpdmVQYXRoLCBzb3VyY2VGaWxlKTtcbiAgICAgICAgfVxuICAgICAgICBub2RlLnNldFNvdXJjZUNvbnRlbnQoc291cmNlRmlsZSwgY29udGVudCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gbm9kZTtcblxuICAgIGZ1bmN0aW9uIGFkZE1hcHBpbmdXaXRoQ29kZShtYXBwaW5nLCBjb2RlKSB7XG4gICAgICBpZiAobWFwcGluZyA9PT0gbnVsbCB8fCBtYXBwaW5nLnNvdXJjZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIG5vZGUuYWRkKGNvZGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHNvdXJjZSA9IGFSZWxhdGl2ZVBhdGhcbiAgICAgICAgICA/IHV0aWwuam9pbihhUmVsYXRpdmVQYXRoLCBtYXBwaW5nLnNvdXJjZSlcbiAgICAgICAgICA6IG1hcHBpbmcuc291cmNlO1xuICAgICAgICBub2RlLmFkZChuZXcgU291cmNlTm9kZShtYXBwaW5nLm9yaWdpbmFsTGluZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFwcGluZy5vcmlnaW5hbENvbHVtbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXBwaW5nLm5hbWUpKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbi8qKlxuICogQWRkIGEgY2h1bmsgb2YgZ2VuZXJhdGVkIEpTIHRvIHRoaXMgc291cmNlIG5vZGUuXG4gKlxuICogQHBhcmFtIGFDaHVuayBBIHN0cmluZyBzbmlwcGV0IG9mIGdlbmVyYXRlZCBKUyBjb2RlLCBhbm90aGVyIGluc3RhbmNlIG9mXG4gKiAgICAgICAgU291cmNlTm9kZSwgb3IgYW4gYXJyYXkgd2hlcmUgZWFjaCBtZW1iZXIgaXMgb25lIG9mIHRob3NlIHRoaW5ncy5cbiAqL1xuU291cmNlTm9kZS5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gU291cmNlTm9kZV9hZGQoYUNodW5rKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KGFDaHVuaykpIHtcbiAgICBhQ2h1bmsuZm9yRWFjaChmdW5jdGlvbiAoY2h1bmspIHtcbiAgICAgIHRoaXMuYWRkKGNodW5rKTtcbiAgICB9LCB0aGlzKTtcbiAgfVxuICBlbHNlIGlmIChhQ2h1bmtbaXNTb3VyY2VOb2RlXSB8fCB0eXBlb2YgYUNodW5rID09PSBcInN0cmluZ1wiKSB7XG4gICAgaWYgKGFDaHVuaykge1xuICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKGFDaHVuayk7XG4gICAgfVxuICB9XG4gIGVsc2Uge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICBcIkV4cGVjdGVkIGEgU291cmNlTm9kZSwgc3RyaW5nLCBvciBhbiBhcnJheSBvZiBTb3VyY2VOb2RlcyBhbmQgc3RyaW5ncy4gR290IFwiICsgYUNodW5rXG4gICAgKTtcbiAgfVxuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogQWRkIGEgY2h1bmsgb2YgZ2VuZXJhdGVkIEpTIHRvIHRoZSBiZWdpbm5pbmcgb2YgdGhpcyBzb3VyY2Ugbm9kZS5cbiAqXG4gKiBAcGFyYW0gYUNodW5rIEEgc3RyaW5nIHNuaXBwZXQgb2YgZ2VuZXJhdGVkIEpTIGNvZGUsIGFub3RoZXIgaW5zdGFuY2Ugb2ZcbiAqICAgICAgICBTb3VyY2VOb2RlLCBvciBhbiBhcnJheSB3aGVyZSBlYWNoIG1lbWJlciBpcyBvbmUgb2YgdGhvc2UgdGhpbmdzLlxuICovXG5Tb3VyY2VOb2RlLnByb3RvdHlwZS5wcmVwZW5kID0gZnVuY3Rpb24gU291cmNlTm9kZV9wcmVwZW5kKGFDaHVuaykge1xuICBpZiAoQXJyYXkuaXNBcnJheShhQ2h1bmspKSB7XG4gICAgZm9yICh2YXIgaSA9IGFDaHVuay5sZW5ndGgtMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIHRoaXMucHJlcGVuZChhQ2h1bmtbaV0pO1xuICAgIH1cbiAgfVxuICBlbHNlIGlmIChhQ2h1bmtbaXNTb3VyY2VOb2RlXSB8fCB0eXBlb2YgYUNodW5rID09PSBcInN0cmluZ1wiKSB7XG4gICAgdGhpcy5jaGlsZHJlbi51bnNoaWZ0KGFDaHVuayk7XG4gIH1cbiAgZWxzZSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAgIFwiRXhwZWN0ZWQgYSBTb3VyY2VOb2RlLCBzdHJpbmcsIG9yIGFuIGFycmF5IG9mIFNvdXJjZU5vZGVzIGFuZCBzdHJpbmdzLiBHb3QgXCIgKyBhQ2h1bmtcbiAgICApO1xuICB9XG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBXYWxrIG92ZXIgdGhlIHRyZWUgb2YgSlMgc25pcHBldHMgaW4gdGhpcyBub2RlIGFuZCBpdHMgY2hpbGRyZW4uIFRoZVxuICogd2Fsa2luZyBmdW5jdGlvbiBpcyBjYWxsZWQgb25jZSBmb3IgZWFjaCBzbmlwcGV0IG9mIEpTIGFuZCBpcyBwYXNzZWQgdGhhdFxuICogc25pcHBldCBhbmQgdGhlIGl0cyBvcmlnaW5hbCBhc3NvY2lhdGVkIHNvdXJjZSdzIGxpbmUvY29sdW1uIGxvY2F0aW9uLlxuICpcbiAqIEBwYXJhbSBhRm4gVGhlIHRyYXZlcnNhbCBmdW5jdGlvbi5cbiAqL1xuU291cmNlTm9kZS5wcm90b3R5cGUud2FsayA9IGZ1bmN0aW9uIFNvdXJjZU5vZGVfd2FsayhhRm4pIHtcbiAgdmFyIGNodW5rO1xuICBmb3IgKHZhciBpID0gMCwgbGVuID0gdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIGNodW5rID0gdGhpcy5jaGlsZHJlbltpXTtcbiAgICBpZiAoY2h1bmtbaXNTb3VyY2VOb2RlXSkge1xuICAgICAgY2h1bmsud2FsayhhRm4pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGlmIChjaHVuayAhPT0gJycpIHtcbiAgICAgICAgYUZuKGNodW5rLCB7IHNvdXJjZTogdGhpcy5zb3VyY2UsXG4gICAgICAgICAgICAgICAgICAgICBsaW5lOiB0aGlzLmxpbmUsXG4gICAgICAgICAgICAgICAgICAgICBjb2x1bW46IHRoaXMuY29sdW1uLFxuICAgICAgICAgICAgICAgICAgICAgbmFtZTogdGhpcy5uYW1lIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxufTtcblxuLyoqXG4gKiBMaWtlIGBTdHJpbmcucHJvdG90eXBlLmpvaW5gIGV4Y2VwdCBmb3IgU291cmNlTm9kZXMuIEluc2VydHMgYGFTdHJgIGJldHdlZW5cbiAqIGVhY2ggb2YgYHRoaXMuY2hpbGRyZW5gLlxuICpcbiAqIEBwYXJhbSBhU2VwIFRoZSBzZXBhcmF0b3IuXG4gKi9cblNvdXJjZU5vZGUucHJvdG90eXBlLmpvaW4gPSBmdW5jdGlvbiBTb3VyY2VOb2RlX2pvaW4oYVNlcCkge1xuICB2YXIgbmV3Q2hpbGRyZW47XG4gIHZhciBpO1xuICB2YXIgbGVuID0gdGhpcy5jaGlsZHJlbi5sZW5ndGg7XG4gIGlmIChsZW4gPiAwKSB7XG4gICAgbmV3Q2hpbGRyZW4gPSBbXTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuLTE7IGkrKykge1xuICAgICAgbmV3Q2hpbGRyZW4ucHVzaCh0aGlzLmNoaWxkcmVuW2ldKTtcbiAgICAgIG5ld0NoaWxkcmVuLnB1c2goYVNlcCk7XG4gICAgfVxuICAgIG5ld0NoaWxkcmVuLnB1c2godGhpcy5jaGlsZHJlbltpXSk7XG4gICAgdGhpcy5jaGlsZHJlbiA9IG5ld0NoaWxkcmVuO1xuICB9XG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBDYWxsIFN0cmluZy5wcm90b3R5cGUucmVwbGFjZSBvbiB0aGUgdmVyeSByaWdodC1tb3N0IHNvdXJjZSBzbmlwcGV0LiBVc2VmdWxcbiAqIGZvciB0cmltbWluZyB3aGl0ZXNwYWNlIGZyb20gdGhlIGVuZCBvZiBhIHNvdXJjZSBub2RlLCBldGMuXG4gKlxuICogQHBhcmFtIGFQYXR0ZXJuIFRoZSBwYXR0ZXJuIHRvIHJlcGxhY2UuXG4gKiBAcGFyYW0gYVJlcGxhY2VtZW50IFRoZSB0aGluZyB0byByZXBsYWNlIHRoZSBwYXR0ZXJuIHdpdGguXG4gKi9cblNvdXJjZU5vZGUucHJvdG90eXBlLnJlcGxhY2VSaWdodCA9IGZ1bmN0aW9uIFNvdXJjZU5vZGVfcmVwbGFjZVJpZ2h0KGFQYXR0ZXJuLCBhUmVwbGFjZW1lbnQpIHtcbiAgdmFyIGxhc3RDaGlsZCA9IHRoaXMuY2hpbGRyZW5bdGhpcy5jaGlsZHJlbi5sZW5ndGggLSAxXTtcbiAgaWYgKGxhc3RDaGlsZFtpc1NvdXJjZU5vZGVdKSB7XG4gICAgbGFzdENoaWxkLnJlcGxhY2VSaWdodChhUGF0dGVybiwgYVJlcGxhY2VtZW50KTtcbiAgfVxuICBlbHNlIGlmICh0eXBlb2YgbGFzdENoaWxkID09PSAnc3RyaW5nJykge1xuICAgIHRoaXMuY2hpbGRyZW5bdGhpcy5jaGlsZHJlbi5sZW5ndGggLSAxXSA9IGxhc3RDaGlsZC5yZXBsYWNlKGFQYXR0ZXJuLCBhUmVwbGFjZW1lbnQpO1xuICB9XG4gIGVsc2Uge1xuICAgIHRoaXMuY2hpbGRyZW4ucHVzaCgnJy5yZXBsYWNlKGFQYXR0ZXJuLCBhUmVwbGFjZW1lbnQpKTtcbiAgfVxuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogU2V0IHRoZSBzb3VyY2UgY29udGVudCBmb3IgYSBzb3VyY2UgZmlsZS4gVGhpcyB3aWxsIGJlIGFkZGVkIHRvIHRoZSBTb3VyY2VNYXBHZW5lcmF0b3JcbiAqIGluIHRoZSBzb3VyY2VzQ29udGVudCBmaWVsZC5cbiAqXG4gKiBAcGFyYW0gYVNvdXJjZUZpbGUgVGhlIGZpbGVuYW1lIG9mIHRoZSBzb3VyY2UgZmlsZVxuICogQHBhcmFtIGFTb3VyY2VDb250ZW50IFRoZSBjb250ZW50IG9mIHRoZSBzb3VyY2UgZmlsZVxuICovXG5Tb3VyY2VOb2RlLnByb3RvdHlwZS5zZXRTb3VyY2VDb250ZW50ID1cbiAgZnVuY3Rpb24gU291cmNlTm9kZV9zZXRTb3VyY2VDb250ZW50KGFTb3VyY2VGaWxlLCBhU291cmNlQ29udGVudCkge1xuICAgIHRoaXMuc291cmNlQ29udGVudHNbdXRpbC50b1NldFN0cmluZyhhU291cmNlRmlsZSldID0gYVNvdXJjZUNvbnRlbnQ7XG4gIH07XG5cbi8qKlxuICogV2FsayBvdmVyIHRoZSB0cmVlIG9mIFNvdXJjZU5vZGVzLiBUaGUgd2Fsa2luZyBmdW5jdGlvbiBpcyBjYWxsZWQgZm9yIGVhY2hcbiAqIHNvdXJjZSBmaWxlIGNvbnRlbnQgYW5kIGlzIHBhc3NlZCB0aGUgZmlsZW5hbWUgYW5kIHNvdXJjZSBjb250ZW50LlxuICpcbiAqIEBwYXJhbSBhRm4gVGhlIHRyYXZlcnNhbCBmdW5jdGlvbi5cbiAqL1xuU291cmNlTm9kZS5wcm90b3R5cGUud2Fsa1NvdXJjZUNvbnRlbnRzID1cbiAgZnVuY3Rpb24gU291cmNlTm9kZV93YWxrU291cmNlQ29udGVudHMoYUZuKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGlmICh0aGlzLmNoaWxkcmVuW2ldW2lzU291cmNlTm9kZV0pIHtcbiAgICAgICAgdGhpcy5jaGlsZHJlbltpXS53YWxrU291cmNlQ29udGVudHMoYUZuKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgc291cmNlcyA9IE9iamVjdC5rZXlzKHRoaXMuc291cmNlQ29udGVudHMpO1xuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBzb3VyY2VzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBhRm4odXRpbC5mcm9tU2V0U3RyaW5nKHNvdXJjZXNbaV0pLCB0aGlzLnNvdXJjZUNvbnRlbnRzW3NvdXJjZXNbaV1dKTtcbiAgICB9XG4gIH07XG5cbi8qKlxuICogUmV0dXJuIHRoZSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhpcyBzb3VyY2Ugbm9kZS4gV2Fsa3Mgb3ZlciB0aGUgdHJlZVxuICogYW5kIGNvbmNhdGVuYXRlcyBhbGwgdGhlIHZhcmlvdXMgc25pcHBldHMgdG9nZXRoZXIgdG8gb25lIHN0cmluZy5cbiAqL1xuU291cmNlTm9kZS5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiBTb3VyY2VOb2RlX3RvU3RyaW5nKCkge1xuICB2YXIgc3RyID0gXCJcIjtcbiAgdGhpcy53YWxrKGZ1bmN0aW9uIChjaHVuaykge1xuICAgIHN0ciArPSBjaHVuaztcbiAgfSk7XG4gIHJldHVybiBzdHI7XG59O1xuXG4vKipcbiAqIFJldHVybnMgdGhlIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGlzIHNvdXJjZSBub2RlIGFsb25nIHdpdGggYSBzb3VyY2VcbiAqIG1hcC5cbiAqL1xuU291cmNlTm9kZS5wcm90b3R5cGUudG9TdHJpbmdXaXRoU291cmNlTWFwID0gZnVuY3Rpb24gU291cmNlTm9kZV90b1N0cmluZ1dpdGhTb3VyY2VNYXAoYUFyZ3MpIHtcbiAgdmFyIGdlbmVyYXRlZCA9IHtcbiAgICBjb2RlOiBcIlwiLFxuICAgIGxpbmU6IDEsXG4gICAgY29sdW1uOiAwXG4gIH07XG4gIHZhciBtYXAgPSBuZXcgU291cmNlTWFwR2VuZXJhdG9yKGFBcmdzKTtcbiAgdmFyIHNvdXJjZU1hcHBpbmdBY3RpdmUgPSBmYWxzZTtcbiAgdmFyIGxhc3RPcmlnaW5hbFNvdXJjZSA9IG51bGw7XG4gIHZhciBsYXN0T3JpZ2luYWxMaW5lID0gbnVsbDtcbiAgdmFyIGxhc3RPcmlnaW5hbENvbHVtbiA9IG51bGw7XG4gIHZhciBsYXN0T3JpZ2luYWxOYW1lID0gbnVsbDtcbiAgdGhpcy53YWxrKGZ1bmN0aW9uIChjaHVuaywgb3JpZ2luYWwpIHtcbiAgICBnZW5lcmF0ZWQuY29kZSArPSBjaHVuaztcbiAgICBpZiAob3JpZ2luYWwuc291cmNlICE9PSBudWxsXG4gICAgICAgICYmIG9yaWdpbmFsLmxpbmUgIT09IG51bGxcbiAgICAgICAgJiYgb3JpZ2luYWwuY29sdW1uICE9PSBudWxsKSB7XG4gICAgICBpZihsYXN0T3JpZ2luYWxTb3VyY2UgIT09IG9yaWdpbmFsLnNvdXJjZVxuICAgICAgICAgfHwgbGFzdE9yaWdpbmFsTGluZSAhPT0gb3JpZ2luYWwubGluZVxuICAgICAgICAgfHwgbGFzdE9yaWdpbmFsQ29sdW1uICE9PSBvcmlnaW5hbC5jb2x1bW5cbiAgICAgICAgIHx8IGxhc3RPcmlnaW5hbE5hbWUgIT09IG9yaWdpbmFsLm5hbWUpIHtcbiAgICAgICAgbWFwLmFkZE1hcHBpbmcoe1xuICAgICAgICAgIHNvdXJjZTogb3JpZ2luYWwuc291cmNlLFxuICAgICAgICAgIG9yaWdpbmFsOiB7XG4gICAgICAgICAgICBsaW5lOiBvcmlnaW5hbC5saW5lLFxuICAgICAgICAgICAgY29sdW1uOiBvcmlnaW5hbC5jb2x1bW5cbiAgICAgICAgICB9LFxuICAgICAgICAgIGdlbmVyYXRlZDoge1xuICAgICAgICAgICAgbGluZTogZ2VuZXJhdGVkLmxpbmUsXG4gICAgICAgICAgICBjb2x1bW46IGdlbmVyYXRlZC5jb2x1bW5cbiAgICAgICAgICB9LFxuICAgICAgICAgIG5hbWU6IG9yaWdpbmFsLm5hbWVcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBsYXN0T3JpZ2luYWxTb3VyY2UgPSBvcmlnaW5hbC5zb3VyY2U7XG4gICAgICBsYXN0T3JpZ2luYWxMaW5lID0gb3JpZ2luYWwubGluZTtcbiAgICAgIGxhc3RPcmlnaW5hbENvbHVtbiA9IG9yaWdpbmFsLmNvbHVtbjtcbiAgICAgIGxhc3RPcmlnaW5hbE5hbWUgPSBvcmlnaW5hbC5uYW1lO1xuICAgICAgc291cmNlTWFwcGluZ0FjdGl2ZSA9IHRydWU7XG4gICAgfSBlbHNlIGlmIChzb3VyY2VNYXBwaW5nQWN0aXZlKSB7XG4gICAgICBtYXAuYWRkTWFwcGluZyh7XG4gICAgICAgIGdlbmVyYXRlZDoge1xuICAgICAgICAgIGxpbmU6IGdlbmVyYXRlZC5saW5lLFxuICAgICAgICAgIGNvbHVtbjogZ2VuZXJhdGVkLmNvbHVtblxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGxhc3RPcmlnaW5hbFNvdXJjZSA9IG51bGw7XG4gICAgICBzb3VyY2VNYXBwaW5nQWN0aXZlID0gZmFsc2U7XG4gICAgfVxuICAgIGZvciAodmFyIGlkeCA9IDAsIGxlbmd0aCA9IGNodW5rLmxlbmd0aDsgaWR4IDwgbGVuZ3RoOyBpZHgrKykge1xuICAgICAgaWYgKGNodW5rLmNoYXJDb2RlQXQoaWR4KSA9PT0gTkVXTElORV9DT0RFKSB7XG4gICAgICAgIGdlbmVyYXRlZC5saW5lKys7XG4gICAgICAgIGdlbmVyYXRlZC5jb2x1bW4gPSAwO1xuICAgICAgICAvLyBNYXBwaW5ncyBlbmQgYXQgZW9sXG4gICAgICAgIGlmIChpZHggKyAxID09PSBsZW5ndGgpIHtcbiAgICAgICAgICBsYXN0T3JpZ2luYWxTb3VyY2UgPSBudWxsO1xuICAgICAgICAgIHNvdXJjZU1hcHBpbmdBY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgfSBlbHNlIGlmIChzb3VyY2VNYXBwaW5nQWN0aXZlKSB7XG4gICAgICAgICAgbWFwLmFkZE1hcHBpbmcoe1xuICAgICAgICAgICAgc291cmNlOiBvcmlnaW5hbC5zb3VyY2UsXG4gICAgICAgICAgICBvcmlnaW5hbDoge1xuICAgICAgICAgICAgICBsaW5lOiBvcmlnaW5hbC5saW5lLFxuICAgICAgICAgICAgICBjb2x1bW46IG9yaWdpbmFsLmNvbHVtblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdlbmVyYXRlZDoge1xuICAgICAgICAgICAgICBsaW5lOiBnZW5lcmF0ZWQubGluZSxcbiAgICAgICAgICAgICAgY29sdW1uOiBnZW5lcmF0ZWQuY29sdW1uXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbmFtZTogb3JpZ2luYWwubmFtZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBnZW5lcmF0ZWQuY29sdW1uKys7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgdGhpcy53YWxrU291cmNlQ29udGVudHMoZnVuY3Rpb24gKHNvdXJjZUZpbGUsIHNvdXJjZUNvbnRlbnQpIHtcbiAgICBtYXAuc2V0U291cmNlQ29udGVudChzb3VyY2VGaWxlLCBzb3VyY2VDb250ZW50KTtcbiAgfSk7XG5cbiAgcmV0dXJuIHsgY29kZTogZ2VuZXJhdGVkLmNvZGUsIG1hcDogbWFwIH07XG59O1xuXG5leHBvcnRzLlNvdXJjZU5vZGUgPSBTb3VyY2VOb2RlO1xuIiwiLyogLSotIE1vZGU6IGpzOyBqcy1pbmRlbnQtbGV2ZWw6IDI7IC0qLSAqL1xuLypcbiAqIENvcHlyaWdodCAyMDExIE1vemlsbGEgRm91bmRhdGlvbiBhbmQgY29udHJpYnV0b3JzXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTmV3IEJTRCBsaWNlbnNlLiBTZWUgTElDRU5TRSBvcjpcbiAqIGh0dHA6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9CU0QtMy1DbGF1c2VcbiAqL1xuXG4vKipcbiAqIFRoaXMgaXMgYSBoZWxwZXIgZnVuY3Rpb24gZm9yIGdldHRpbmcgdmFsdWVzIGZyb20gcGFyYW1ldGVyL29wdGlvbnNcbiAqIG9iamVjdHMuXG4gKlxuICogQHBhcmFtIGFyZ3MgVGhlIG9iamVjdCB3ZSBhcmUgZXh0cmFjdGluZyB2YWx1ZXMgZnJvbVxuICogQHBhcmFtIG5hbWUgVGhlIG5hbWUgb2YgdGhlIHByb3BlcnR5IHdlIGFyZSBnZXR0aW5nLlxuICogQHBhcmFtIGRlZmF1bHRWYWx1ZSBBbiBvcHRpb25hbCB2YWx1ZSB0byByZXR1cm4gaWYgdGhlIHByb3BlcnR5IGlzIG1pc3NpbmdcbiAqIGZyb20gdGhlIG9iamVjdC4gSWYgdGhpcyBpcyBub3Qgc3BlY2lmaWVkIGFuZCB0aGUgcHJvcGVydHkgaXMgbWlzc2luZywgYW5cbiAqIGVycm9yIHdpbGwgYmUgdGhyb3duLlxuICovXG5mdW5jdGlvbiBnZXRBcmcoYUFyZ3MsIGFOYW1lLCBhRGVmYXVsdFZhbHVlKSB7XG4gIGlmIChhTmFtZSBpbiBhQXJncykge1xuICAgIHJldHVybiBhQXJnc1thTmFtZV07XG4gIH0gZWxzZSBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMykge1xuICAgIHJldHVybiBhRGVmYXVsdFZhbHVlO1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcignXCInICsgYU5hbWUgKyAnXCIgaXMgYSByZXF1aXJlZCBhcmd1bWVudC4nKTtcbiAgfVxufVxuZXhwb3J0cy5nZXRBcmcgPSBnZXRBcmc7XG5cbnZhciB1cmxSZWdleHAgPSAvXig/OihbXFx3K1xcLS5dKyk6KT9cXC9cXC8oPzooXFx3KzpcXHcrKUApPyhbXFx3Li1dKikoPzo6KFxcZCspKT8oLiopJC87XG52YXIgZGF0YVVybFJlZ2V4cCA9IC9eZGF0YTouK1xcLC4rJC87XG5cbmZ1bmN0aW9uIHVybFBhcnNlKGFVcmwpIHtcbiAgdmFyIG1hdGNoID0gYVVybC5tYXRjaCh1cmxSZWdleHApO1xuICBpZiAoIW1hdGNoKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBzY2hlbWU6IG1hdGNoWzFdLFxuICAgIGF1dGg6IG1hdGNoWzJdLFxuICAgIGhvc3Q6IG1hdGNoWzNdLFxuICAgIHBvcnQ6IG1hdGNoWzRdLFxuICAgIHBhdGg6IG1hdGNoWzVdXG4gIH07XG59XG5leHBvcnRzLnVybFBhcnNlID0gdXJsUGFyc2U7XG5cbmZ1bmN0aW9uIHVybEdlbmVyYXRlKGFQYXJzZWRVcmwpIHtcbiAgdmFyIHVybCA9ICcnO1xuICBpZiAoYVBhcnNlZFVybC5zY2hlbWUpIHtcbiAgICB1cmwgKz0gYVBhcnNlZFVybC5zY2hlbWUgKyAnOic7XG4gIH1cbiAgdXJsICs9ICcvLyc7XG4gIGlmIChhUGFyc2VkVXJsLmF1dGgpIHtcbiAgICB1cmwgKz0gYVBhcnNlZFVybC5hdXRoICsgJ0AnO1xuICB9XG4gIGlmIChhUGFyc2VkVXJsLmhvc3QpIHtcbiAgICB1cmwgKz0gYVBhcnNlZFVybC5ob3N0O1xuICB9XG4gIGlmIChhUGFyc2VkVXJsLnBvcnQpIHtcbiAgICB1cmwgKz0gXCI6XCIgKyBhUGFyc2VkVXJsLnBvcnRcbiAgfVxuICBpZiAoYVBhcnNlZFVybC5wYXRoKSB7XG4gICAgdXJsICs9IGFQYXJzZWRVcmwucGF0aDtcbiAgfVxuICByZXR1cm4gdXJsO1xufVxuZXhwb3J0cy51cmxHZW5lcmF0ZSA9IHVybEdlbmVyYXRlO1xuXG4vKipcbiAqIE5vcm1hbGl6ZXMgYSBwYXRoLCBvciB0aGUgcGF0aCBwb3J0aW9uIG9mIGEgVVJMOlxuICpcbiAqIC0gUmVwbGFjZXMgY29uc2VjdXRpdmUgc2xhc2hlcyB3aXRoIG9uZSBzbGFzaC5cbiAqIC0gUmVtb3ZlcyB1bm5lY2Vzc2FyeSAnLicgcGFydHMuXG4gKiAtIFJlbW92ZXMgdW5uZWNlc3NhcnkgJzxkaXI+Ly4uJyBwYXJ0cy5cbiAqXG4gKiBCYXNlZCBvbiBjb2RlIGluIHRoZSBOb2RlLmpzICdwYXRoJyBjb3JlIG1vZHVsZS5cbiAqXG4gKiBAcGFyYW0gYVBhdGggVGhlIHBhdGggb3IgdXJsIHRvIG5vcm1hbGl6ZS5cbiAqL1xuZnVuY3Rpb24gbm9ybWFsaXplKGFQYXRoKSB7XG4gIHZhciBwYXRoID0gYVBhdGg7XG4gIHZhciB1cmwgPSB1cmxQYXJzZShhUGF0aCk7XG4gIGlmICh1cmwpIHtcbiAgICBpZiAoIXVybC5wYXRoKSB7XG4gICAgICByZXR1cm4gYVBhdGg7XG4gICAgfVxuICAgIHBhdGggPSB1cmwucGF0aDtcbiAgfVxuICB2YXIgaXNBYnNvbHV0ZSA9IGV4cG9ydHMuaXNBYnNvbHV0ZShwYXRoKTtcblxuICB2YXIgcGFydHMgPSBwYXRoLnNwbGl0KC9cXC8rLyk7XG4gIGZvciAodmFyIHBhcnQsIHVwID0gMCwgaSA9IHBhcnRzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgcGFydCA9IHBhcnRzW2ldO1xuICAgIGlmIChwYXJ0ID09PSAnLicpIHtcbiAgICAgIHBhcnRzLnNwbGljZShpLCAxKTtcbiAgICB9IGVsc2UgaWYgKHBhcnQgPT09ICcuLicpIHtcbiAgICAgIHVwKys7XG4gICAgfSBlbHNlIGlmICh1cCA+IDApIHtcbiAgICAgIGlmIChwYXJ0ID09PSAnJykge1xuICAgICAgICAvLyBUaGUgZmlyc3QgcGFydCBpcyBibGFuayBpZiB0aGUgcGF0aCBpcyBhYnNvbHV0ZS4gVHJ5aW5nIHRvIGdvXG4gICAgICAgIC8vIGFib3ZlIHRoZSByb290IGlzIGEgbm8tb3AuIFRoZXJlZm9yZSB3ZSBjYW4gcmVtb3ZlIGFsbCAnLi4nIHBhcnRzXG4gICAgICAgIC8vIGRpcmVjdGx5IGFmdGVyIHRoZSByb290LlxuICAgICAgICBwYXJ0cy5zcGxpY2UoaSArIDEsIHVwKTtcbiAgICAgICAgdXAgPSAwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFydHMuc3BsaWNlKGksIDIpO1xuICAgICAgICB1cC0tO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBwYXRoID0gcGFydHMuam9pbignLycpO1xuXG4gIGlmIChwYXRoID09PSAnJykge1xuICAgIHBhdGggPSBpc0Fic29sdXRlID8gJy8nIDogJy4nO1xuICB9XG5cbiAgaWYgKHVybCkge1xuICAgIHVybC5wYXRoID0gcGF0aDtcbiAgICByZXR1cm4gdXJsR2VuZXJhdGUodXJsKTtcbiAgfVxuICByZXR1cm4gcGF0aDtcbn1cbmV4cG9ydHMubm9ybWFsaXplID0gbm9ybWFsaXplO1xuXG4vKipcbiAqIEpvaW5zIHR3byBwYXRocy9VUkxzLlxuICpcbiAqIEBwYXJhbSBhUm9vdCBUaGUgcm9vdCBwYXRoIG9yIFVSTC5cbiAqIEBwYXJhbSBhUGF0aCBUaGUgcGF0aCBvciBVUkwgdG8gYmUgam9pbmVkIHdpdGggdGhlIHJvb3QuXG4gKlxuICogLSBJZiBhUGF0aCBpcyBhIFVSTCBvciBhIGRhdGEgVVJJLCBhUGF0aCBpcyByZXR1cm5lZCwgdW5sZXNzIGFQYXRoIGlzIGFcbiAqICAgc2NoZW1lLXJlbGF0aXZlIFVSTDogVGhlbiB0aGUgc2NoZW1lIG9mIGFSb290LCBpZiBhbnksIGlzIHByZXBlbmRlZFxuICogICBmaXJzdC5cbiAqIC0gT3RoZXJ3aXNlIGFQYXRoIGlzIGEgcGF0aC4gSWYgYVJvb3QgaXMgYSBVUkwsIHRoZW4gaXRzIHBhdGggcG9ydGlvblxuICogICBpcyB1cGRhdGVkIHdpdGggdGhlIHJlc3VsdCBhbmQgYVJvb3QgaXMgcmV0dXJuZWQuIE90aGVyd2lzZSB0aGUgcmVzdWx0XG4gKiAgIGlzIHJldHVybmVkLlxuICogICAtIElmIGFQYXRoIGlzIGFic29sdXRlLCB0aGUgcmVzdWx0IGlzIGFQYXRoLlxuICogICAtIE90aGVyd2lzZSB0aGUgdHdvIHBhdGhzIGFyZSBqb2luZWQgd2l0aCBhIHNsYXNoLlxuICogLSBKb2luaW5nIGZvciBleGFtcGxlICdodHRwOi8vJyBhbmQgJ3d3dy5leGFtcGxlLmNvbScgaXMgYWxzbyBzdXBwb3J0ZWQuXG4gKi9cbmZ1bmN0aW9uIGpvaW4oYVJvb3QsIGFQYXRoKSB7XG4gIGlmIChhUm9vdCA9PT0gXCJcIikge1xuICAgIGFSb290ID0gXCIuXCI7XG4gIH1cbiAgaWYgKGFQYXRoID09PSBcIlwiKSB7XG4gICAgYVBhdGggPSBcIi5cIjtcbiAgfVxuICB2YXIgYVBhdGhVcmwgPSB1cmxQYXJzZShhUGF0aCk7XG4gIHZhciBhUm9vdFVybCA9IHVybFBhcnNlKGFSb290KTtcbiAgaWYgKGFSb290VXJsKSB7XG4gICAgYVJvb3QgPSBhUm9vdFVybC5wYXRoIHx8ICcvJztcbiAgfVxuXG4gIC8vIGBqb2luKGZvbywgJy8vd3d3LmV4YW1wbGUub3JnJylgXG4gIGlmIChhUGF0aFVybCAmJiAhYVBhdGhVcmwuc2NoZW1lKSB7XG4gICAgaWYgKGFSb290VXJsKSB7XG4gICAgICBhUGF0aFVybC5zY2hlbWUgPSBhUm9vdFVybC5zY2hlbWU7XG4gICAgfVxuICAgIHJldHVybiB1cmxHZW5lcmF0ZShhUGF0aFVybCk7XG4gIH1cblxuICBpZiAoYVBhdGhVcmwgfHwgYVBhdGgubWF0Y2goZGF0YVVybFJlZ2V4cCkpIHtcbiAgICByZXR1cm4gYVBhdGg7XG4gIH1cblxuICAvLyBgam9pbignaHR0cDovLycsICd3d3cuZXhhbXBsZS5jb20nKWBcbiAgaWYgKGFSb290VXJsICYmICFhUm9vdFVybC5ob3N0ICYmICFhUm9vdFVybC5wYXRoKSB7XG4gICAgYVJvb3RVcmwuaG9zdCA9IGFQYXRoO1xuICAgIHJldHVybiB1cmxHZW5lcmF0ZShhUm9vdFVybCk7XG4gIH1cblxuICB2YXIgam9pbmVkID0gYVBhdGguY2hhckF0KDApID09PSAnLydcbiAgICA/IGFQYXRoXG4gICAgOiBub3JtYWxpemUoYVJvb3QucmVwbGFjZSgvXFwvKyQvLCAnJykgKyAnLycgKyBhUGF0aCk7XG5cbiAgaWYgKGFSb290VXJsKSB7XG4gICAgYVJvb3RVcmwucGF0aCA9IGpvaW5lZDtcbiAgICByZXR1cm4gdXJsR2VuZXJhdGUoYVJvb3RVcmwpO1xuICB9XG4gIHJldHVybiBqb2luZWQ7XG59XG5leHBvcnRzLmpvaW4gPSBqb2luO1xuXG5leHBvcnRzLmlzQWJzb2x1dGUgPSBmdW5jdGlvbiAoYVBhdGgpIHtcbiAgcmV0dXJuIGFQYXRoLmNoYXJBdCgwKSA9PT0gJy8nIHx8IHVybFJlZ2V4cC50ZXN0KGFQYXRoKTtcbn07XG5cbi8qKlxuICogTWFrZSBhIHBhdGggcmVsYXRpdmUgdG8gYSBVUkwgb3IgYW5vdGhlciBwYXRoLlxuICpcbiAqIEBwYXJhbSBhUm9vdCBUaGUgcm9vdCBwYXRoIG9yIFVSTC5cbiAqIEBwYXJhbSBhUGF0aCBUaGUgcGF0aCBvciBVUkwgdG8gYmUgbWFkZSByZWxhdGl2ZSB0byBhUm9vdC5cbiAqL1xuZnVuY3Rpb24gcmVsYXRpdmUoYVJvb3QsIGFQYXRoKSB7XG4gIGlmIChhUm9vdCA9PT0gXCJcIikge1xuICAgIGFSb290ID0gXCIuXCI7XG4gIH1cblxuICBhUm9vdCA9IGFSb290LnJlcGxhY2UoL1xcLyQvLCAnJyk7XG5cbiAgLy8gSXQgaXMgcG9zc2libGUgZm9yIHRoZSBwYXRoIHRvIGJlIGFib3ZlIHRoZSByb290LiBJbiB0aGlzIGNhc2UsIHNpbXBseVxuICAvLyBjaGVja2luZyB3aGV0aGVyIHRoZSByb290IGlzIGEgcHJlZml4IG9mIHRoZSBwYXRoIHdvbid0IHdvcmsuIEluc3RlYWQsIHdlXG4gIC8vIG5lZWQgdG8gcmVtb3ZlIGNvbXBvbmVudHMgZnJvbSB0aGUgcm9vdCBvbmUgYnkgb25lLCB1bnRpbCBlaXRoZXIgd2UgZmluZFxuICAvLyBhIHByZWZpeCB0aGF0IGZpdHMsIG9yIHdlIHJ1biBvdXQgb2YgY29tcG9uZW50cyB0byByZW1vdmUuXG4gIHZhciBsZXZlbCA9IDA7XG4gIHdoaWxlIChhUGF0aC5pbmRleE9mKGFSb290ICsgJy8nKSAhPT0gMCkge1xuICAgIHZhciBpbmRleCA9IGFSb290Lmxhc3RJbmRleE9mKFwiL1wiKTtcbiAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICByZXR1cm4gYVBhdGg7XG4gICAgfVxuXG4gICAgLy8gSWYgdGhlIG9ubHkgcGFydCBvZiB0aGUgcm9vdCB0aGF0IGlzIGxlZnQgaXMgdGhlIHNjaGVtZSAoaS5lLiBodHRwOi8vLFxuICAgIC8vIGZpbGU6Ly8vLCBldGMuKSwgb25lIG9yIG1vcmUgc2xhc2hlcyAoLyksIG9yIHNpbXBseSBub3RoaW5nIGF0IGFsbCwgd2VcbiAgICAvLyBoYXZlIGV4aGF1c3RlZCBhbGwgY29tcG9uZW50cywgc28gdGhlIHBhdGggaXMgbm90IHJlbGF0aXZlIHRvIHRoZSByb290LlxuICAgIGFSb290ID0gYVJvb3Quc2xpY2UoMCwgaW5kZXgpO1xuICAgIGlmIChhUm9vdC5tYXRjaCgvXihbXlxcL10rOlxcLyk/XFwvKiQvKSkge1xuICAgICAgcmV0dXJuIGFQYXRoO1xuICAgIH1cblxuICAgICsrbGV2ZWw7XG4gIH1cblxuICAvLyBNYWtlIHN1cmUgd2UgYWRkIGEgXCIuLi9cIiBmb3IgZWFjaCBjb21wb25lbnQgd2UgcmVtb3ZlZCBmcm9tIHRoZSByb290LlxuICByZXR1cm4gQXJyYXkobGV2ZWwgKyAxKS5qb2luKFwiLi4vXCIpICsgYVBhdGguc3Vic3RyKGFSb290Lmxlbmd0aCArIDEpO1xufVxuZXhwb3J0cy5yZWxhdGl2ZSA9IHJlbGF0aXZlO1xuXG52YXIgc3VwcG9ydHNOdWxsUHJvdG8gPSAoZnVuY3Rpb24gKCkge1xuICB2YXIgb2JqID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgcmV0dXJuICEoJ19fcHJvdG9fXycgaW4gb2JqKTtcbn0oKSk7XG5cbmZ1bmN0aW9uIGlkZW50aXR5IChzKSB7XG4gIHJldHVybiBzO1xufVxuXG4vKipcbiAqIEJlY2F1c2UgYmVoYXZpb3IgZ29lcyB3YWNreSB3aGVuIHlvdSBzZXQgYF9fcHJvdG9fX2Agb24gb2JqZWN0cywgd2VcbiAqIGhhdmUgdG8gcHJlZml4IGFsbCB0aGUgc3RyaW5ncyBpbiBvdXIgc2V0IHdpdGggYW4gYXJiaXRyYXJ5IGNoYXJhY3Rlci5cbiAqXG4gKiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL21vemlsbGEvc291cmNlLW1hcC9wdWxsLzMxIGFuZFxuICogaHR0cHM6Ly9naXRodWIuY29tL21vemlsbGEvc291cmNlLW1hcC9pc3N1ZXMvMzBcbiAqXG4gKiBAcGFyYW0gU3RyaW5nIGFTdHJcbiAqL1xuZnVuY3Rpb24gdG9TZXRTdHJpbmcoYVN0cikge1xuICBpZiAoaXNQcm90b1N0cmluZyhhU3RyKSkge1xuICAgIHJldHVybiAnJCcgKyBhU3RyO1xuICB9XG5cbiAgcmV0dXJuIGFTdHI7XG59XG5leHBvcnRzLnRvU2V0U3RyaW5nID0gc3VwcG9ydHNOdWxsUHJvdG8gPyBpZGVudGl0eSA6IHRvU2V0U3RyaW5nO1xuXG5mdW5jdGlvbiBmcm9tU2V0U3RyaW5nKGFTdHIpIHtcbiAgaWYgKGlzUHJvdG9TdHJpbmcoYVN0cikpIHtcbiAgICByZXR1cm4gYVN0ci5zbGljZSgxKTtcbiAgfVxuXG4gIHJldHVybiBhU3RyO1xufVxuZXhwb3J0cy5mcm9tU2V0U3RyaW5nID0gc3VwcG9ydHNOdWxsUHJvdG8gPyBpZGVudGl0eSA6IGZyb21TZXRTdHJpbmc7XG5cbmZ1bmN0aW9uIGlzUHJvdG9TdHJpbmcocykge1xuICBpZiAoIXMpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICB2YXIgbGVuZ3RoID0gcy5sZW5ndGg7XG5cbiAgaWYgKGxlbmd0aCA8IDkgLyogXCJfX3Byb3RvX19cIi5sZW5ndGggKi8pIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBpZiAocy5jaGFyQ29kZUF0KGxlbmd0aCAtIDEpICE9PSA5NSAgLyogJ18nICovIHx8XG4gICAgICBzLmNoYXJDb2RlQXQobGVuZ3RoIC0gMikgIT09IDk1ICAvKiAnXycgKi8gfHxcbiAgICAgIHMuY2hhckNvZGVBdChsZW5ndGggLSAzKSAhPT0gMTExIC8qICdvJyAqLyB8fFxuICAgICAgcy5jaGFyQ29kZUF0KGxlbmd0aCAtIDQpICE9PSAxMTYgLyogJ3QnICovIHx8XG4gICAgICBzLmNoYXJDb2RlQXQobGVuZ3RoIC0gNSkgIT09IDExMSAvKiAnbycgKi8gfHxcbiAgICAgIHMuY2hhckNvZGVBdChsZW5ndGggLSA2KSAhPT0gMTE0IC8qICdyJyAqLyB8fFxuICAgICAgcy5jaGFyQ29kZUF0KGxlbmd0aCAtIDcpICE9PSAxMTIgLyogJ3AnICovIHx8XG4gICAgICBzLmNoYXJDb2RlQXQobGVuZ3RoIC0gOCkgIT09IDk1ICAvKiAnXycgKi8gfHxcbiAgICAgIHMuY2hhckNvZGVBdChsZW5ndGggLSA5KSAhPT0gOTUgIC8qICdfJyAqLykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGZvciAodmFyIGkgPSBsZW5ndGggLSAxMDsgaSA+PSAwOyBpLS0pIHtcbiAgICBpZiAocy5jaGFyQ29kZUF0KGkpICE9PSAzNiAvKiAnJCcgKi8pIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXG4gKiBDb21wYXJhdG9yIGJldHdlZW4gdHdvIG1hcHBpbmdzIHdoZXJlIHRoZSBvcmlnaW5hbCBwb3NpdGlvbnMgYXJlIGNvbXBhcmVkLlxuICpcbiAqIE9wdGlvbmFsbHkgcGFzcyBpbiBgdHJ1ZWAgYXMgYG9ubHlDb21wYXJlR2VuZXJhdGVkYCB0byBjb25zaWRlciB0d29cbiAqIG1hcHBpbmdzIHdpdGggdGhlIHNhbWUgb3JpZ2luYWwgc291cmNlL2xpbmUvY29sdW1uLCBidXQgZGlmZmVyZW50IGdlbmVyYXRlZFxuICogbGluZSBhbmQgY29sdW1uIHRoZSBzYW1lLiBVc2VmdWwgd2hlbiBzZWFyY2hpbmcgZm9yIGEgbWFwcGluZyB3aXRoIGFcbiAqIHN0dWJiZWQgb3V0IG1hcHBpbmcuXG4gKi9cbmZ1bmN0aW9uIGNvbXBhcmVCeU9yaWdpbmFsUG9zaXRpb25zKG1hcHBpbmdBLCBtYXBwaW5nQiwgb25seUNvbXBhcmVPcmlnaW5hbCkge1xuICB2YXIgY21wID0gc3RyY21wKG1hcHBpbmdBLnNvdXJjZSwgbWFwcGluZ0Iuc291cmNlKTtcbiAgaWYgKGNtcCAhPT0gMCkge1xuICAgIHJldHVybiBjbXA7XG4gIH1cblxuICBjbXAgPSBtYXBwaW5nQS5vcmlnaW5hbExpbmUgLSBtYXBwaW5nQi5vcmlnaW5hbExpbmU7XG4gIGlmIChjbXAgIT09IDApIHtcbiAgICByZXR1cm4gY21wO1xuICB9XG5cbiAgY21wID0gbWFwcGluZ0Eub3JpZ2luYWxDb2x1bW4gLSBtYXBwaW5nQi5vcmlnaW5hbENvbHVtbjtcbiAgaWYgKGNtcCAhPT0gMCB8fCBvbmx5Q29tcGFyZU9yaWdpbmFsKSB7XG4gICAgcmV0dXJuIGNtcDtcbiAgfVxuXG4gIGNtcCA9IG1hcHBpbmdBLmdlbmVyYXRlZENvbHVtbiAtIG1hcHBpbmdCLmdlbmVyYXRlZENvbHVtbjtcbiAgaWYgKGNtcCAhPT0gMCkge1xuICAgIHJldHVybiBjbXA7XG4gIH1cblxuICBjbXAgPSBtYXBwaW5nQS5nZW5lcmF0ZWRMaW5lIC0gbWFwcGluZ0IuZ2VuZXJhdGVkTGluZTtcbiAgaWYgKGNtcCAhPT0gMCkge1xuICAgIHJldHVybiBjbXA7XG4gIH1cblxuICByZXR1cm4gc3RyY21wKG1hcHBpbmdBLm5hbWUsIG1hcHBpbmdCLm5hbWUpO1xufVxuZXhwb3J0cy5jb21wYXJlQnlPcmlnaW5hbFBvc2l0aW9ucyA9IGNvbXBhcmVCeU9yaWdpbmFsUG9zaXRpb25zO1xuXG4vKipcbiAqIENvbXBhcmF0b3IgYmV0d2VlbiB0d28gbWFwcGluZ3Mgd2l0aCBkZWZsYXRlZCBzb3VyY2UgYW5kIG5hbWUgaW5kaWNlcyB3aGVyZVxuICogdGhlIGdlbmVyYXRlZCBwb3NpdGlvbnMgYXJlIGNvbXBhcmVkLlxuICpcbiAqIE9wdGlvbmFsbHkgcGFzcyBpbiBgdHJ1ZWAgYXMgYG9ubHlDb21wYXJlR2VuZXJhdGVkYCB0byBjb25zaWRlciB0d29cbiAqIG1hcHBpbmdzIHdpdGggdGhlIHNhbWUgZ2VuZXJhdGVkIGxpbmUgYW5kIGNvbHVtbiwgYnV0IGRpZmZlcmVudFxuICogc291cmNlL25hbWUvb3JpZ2luYWwgbGluZSBhbmQgY29sdW1uIHRoZSBzYW1lLiBVc2VmdWwgd2hlbiBzZWFyY2hpbmcgZm9yIGFcbiAqIG1hcHBpbmcgd2l0aCBhIHN0dWJiZWQgb3V0IG1hcHBpbmcuXG4gKi9cbmZ1bmN0aW9uIGNvbXBhcmVCeUdlbmVyYXRlZFBvc2l0aW9uc0RlZmxhdGVkKG1hcHBpbmdBLCBtYXBwaW5nQiwgb25seUNvbXBhcmVHZW5lcmF0ZWQpIHtcbiAgdmFyIGNtcCA9IG1hcHBpbmdBLmdlbmVyYXRlZExpbmUgLSBtYXBwaW5nQi5nZW5lcmF0ZWRMaW5lO1xuICBpZiAoY21wICE9PSAwKSB7XG4gICAgcmV0dXJuIGNtcDtcbiAgfVxuXG4gIGNtcCA9IG1hcHBpbmdBLmdlbmVyYXRlZENvbHVtbiAtIG1hcHBpbmdCLmdlbmVyYXRlZENvbHVtbjtcbiAgaWYgKGNtcCAhPT0gMCB8fCBvbmx5Q29tcGFyZUdlbmVyYXRlZCkge1xuICAgIHJldHVybiBjbXA7XG4gIH1cblxuICBjbXAgPSBzdHJjbXAobWFwcGluZ0Euc291cmNlLCBtYXBwaW5nQi5zb3VyY2UpO1xuICBpZiAoY21wICE9PSAwKSB7XG4gICAgcmV0dXJuIGNtcDtcbiAgfVxuXG4gIGNtcCA9IG1hcHBpbmdBLm9yaWdpbmFsTGluZSAtIG1hcHBpbmdCLm9yaWdpbmFsTGluZTtcbiAgaWYgKGNtcCAhPT0gMCkge1xuICAgIHJldHVybiBjbXA7XG4gIH1cblxuICBjbXAgPSBtYXBwaW5nQS5vcmlnaW5hbENvbHVtbiAtIG1hcHBpbmdCLm9yaWdpbmFsQ29sdW1uO1xuICBpZiAoY21wICE9PSAwKSB7XG4gICAgcmV0dXJuIGNtcDtcbiAgfVxuXG4gIHJldHVybiBzdHJjbXAobWFwcGluZ0EubmFtZSwgbWFwcGluZ0IubmFtZSk7XG59XG5leHBvcnRzLmNvbXBhcmVCeUdlbmVyYXRlZFBvc2l0aW9uc0RlZmxhdGVkID0gY29tcGFyZUJ5R2VuZXJhdGVkUG9zaXRpb25zRGVmbGF0ZWQ7XG5cbmZ1bmN0aW9uIHN0cmNtcChhU3RyMSwgYVN0cjIpIHtcbiAgaWYgKGFTdHIxID09PSBhU3RyMikge1xuICAgIHJldHVybiAwO1xuICB9XG5cbiAgaWYgKGFTdHIxID09PSBudWxsKSB7XG4gICAgcmV0dXJuIDE7IC8vIGFTdHIyICE9PSBudWxsXG4gIH1cblxuICBpZiAoYVN0cjIgPT09IG51bGwpIHtcbiAgICByZXR1cm4gLTE7IC8vIGFTdHIxICE9PSBudWxsXG4gIH1cblxuICBpZiAoYVN0cjEgPiBhU3RyMikge1xuICAgIHJldHVybiAxO1xuICB9XG5cbiAgcmV0dXJuIC0xO1xufVxuXG4vKipcbiAqIENvbXBhcmF0b3IgYmV0d2VlbiB0d28gbWFwcGluZ3Mgd2l0aCBpbmZsYXRlZCBzb3VyY2UgYW5kIG5hbWUgc3RyaW5ncyB3aGVyZVxuICogdGhlIGdlbmVyYXRlZCBwb3NpdGlvbnMgYXJlIGNvbXBhcmVkLlxuICovXG5mdW5jdGlvbiBjb21wYXJlQnlHZW5lcmF0ZWRQb3NpdGlvbnNJbmZsYXRlZChtYXBwaW5nQSwgbWFwcGluZ0IpIHtcbiAgdmFyIGNtcCA9IG1hcHBpbmdBLmdlbmVyYXRlZExpbmUgLSBtYXBwaW5nQi5nZW5lcmF0ZWRMaW5lO1xuICBpZiAoY21wICE9PSAwKSB7XG4gICAgcmV0dXJuIGNtcDtcbiAgfVxuXG4gIGNtcCA9IG1hcHBpbmdBLmdlbmVyYXRlZENvbHVtbiAtIG1hcHBpbmdCLmdlbmVyYXRlZENvbHVtbjtcbiAgaWYgKGNtcCAhPT0gMCkge1xuICAgIHJldHVybiBjbXA7XG4gIH1cblxuICBjbXAgPSBzdHJjbXAobWFwcGluZ0Euc291cmNlLCBtYXBwaW5nQi5zb3VyY2UpO1xuICBpZiAoY21wICE9PSAwKSB7XG4gICAgcmV0dXJuIGNtcDtcbiAgfVxuXG4gIGNtcCA9IG1hcHBpbmdBLm9yaWdpbmFsTGluZSAtIG1hcHBpbmdCLm9yaWdpbmFsTGluZTtcbiAgaWYgKGNtcCAhPT0gMCkge1xuICAgIHJldHVybiBjbXA7XG4gIH1cblxuICBjbXAgPSBtYXBwaW5nQS5vcmlnaW5hbENvbHVtbiAtIG1hcHBpbmdCLm9yaWdpbmFsQ29sdW1uO1xuICBpZiAoY21wICE9PSAwKSB7XG4gICAgcmV0dXJuIGNtcDtcbiAgfVxuXG4gIHJldHVybiBzdHJjbXAobWFwcGluZ0EubmFtZSwgbWFwcGluZ0IubmFtZSk7XG59XG5leHBvcnRzLmNvbXBhcmVCeUdlbmVyYXRlZFBvc2l0aW9uc0luZmxhdGVkID0gY29tcGFyZUJ5R2VuZXJhdGVkUG9zaXRpb25zSW5mbGF0ZWQ7XG5cbi8qKlxuICogU3RyaXAgYW55IEpTT04gWFNTSSBhdm9pZGFuY2UgcHJlZml4IGZyb20gdGhlIHN0cmluZyAoYXMgZG9jdW1lbnRlZFxuICogaW4gdGhlIHNvdXJjZSBtYXBzIHNwZWNpZmljYXRpb24pLCBhbmQgdGhlbiBwYXJzZSB0aGUgc3RyaW5nIGFzXG4gKiBKU09OLlxuICovXG5mdW5jdGlvbiBwYXJzZVNvdXJjZU1hcElucHV0KHN0cikge1xuICByZXR1cm4gSlNPTi5wYXJzZShzdHIucmVwbGFjZSgvXlxcKV19J1teXFxuXSpcXG4vLCAnJykpO1xufVxuZXhwb3J0cy5wYXJzZVNvdXJjZU1hcElucHV0ID0gcGFyc2VTb3VyY2VNYXBJbnB1dDtcblxuLyoqXG4gKiBDb21wdXRlIHRoZSBVUkwgb2YgYSBzb3VyY2UgZ2l2ZW4gdGhlIHRoZSBzb3VyY2Ugcm9vdCwgdGhlIHNvdXJjZSdzXG4gKiBVUkwsIGFuZCB0aGUgc291cmNlIG1hcCdzIFVSTC5cbiAqL1xuZnVuY3Rpb24gY29tcHV0ZVNvdXJjZVVSTChzb3VyY2VSb290LCBzb3VyY2VVUkwsIHNvdXJjZU1hcFVSTCkge1xuICBzb3VyY2VVUkwgPSBzb3VyY2VVUkwgfHwgJyc7XG5cbiAgaWYgKHNvdXJjZVJvb3QpIHtcbiAgICAvLyBUaGlzIGZvbGxvd3Mgd2hhdCBDaHJvbWUgZG9lcy5cbiAgICBpZiAoc291cmNlUm9vdFtzb3VyY2VSb290Lmxlbmd0aCAtIDFdICE9PSAnLycgJiYgc291cmNlVVJMWzBdICE9PSAnLycpIHtcbiAgICAgIHNvdXJjZVJvb3QgKz0gJy8nO1xuICAgIH1cbiAgICAvLyBUaGUgc3BlYyBzYXlzOlxuICAgIC8vICAgTGluZSA0OiBBbiBvcHRpb25hbCBzb3VyY2Ugcm9vdCwgdXNlZnVsIGZvciByZWxvY2F0aW5nIHNvdXJjZVxuICAgIC8vICAgZmlsZXMgb24gYSBzZXJ2ZXIgb3IgcmVtb3ZpbmcgcmVwZWF0ZWQgdmFsdWVzIGluIHRoZVxuICAgIC8vICAg4oCcc291cmNlc+KAnSBlbnRyeS4gIFRoaXMgdmFsdWUgaXMgcHJlcGVuZGVkIHRvIHRoZSBpbmRpdmlkdWFsXG4gICAgLy8gICBlbnRyaWVzIGluIHRoZSDigJxzb3VyY2XigJ0gZmllbGQuXG4gICAgc291cmNlVVJMID0gc291cmNlUm9vdCArIHNvdXJjZVVSTDtcbiAgfVxuXG4gIC8vIEhpc3RvcmljYWxseSwgU291cmNlTWFwQ29uc3VtZXIgZGlkIG5vdCB0YWtlIHRoZSBzb3VyY2VNYXBVUkwgYXNcbiAgLy8gYSBwYXJhbWV0ZXIuICBUaGlzIG1vZGUgaXMgc3RpbGwgc29tZXdoYXQgc3VwcG9ydGVkLCB3aGljaCBpcyB3aHlcbiAgLy8gdGhpcyBjb2RlIGJsb2NrIGlzIGNvbmRpdGlvbmFsLiAgSG93ZXZlciwgaXQncyBwcmVmZXJhYmxlIHRvIHBhc3NcbiAgLy8gdGhlIHNvdXJjZSBtYXAgVVJMIHRvIFNvdXJjZU1hcENvbnN1bWVyLCBzbyB0aGF0IHRoaXMgZnVuY3Rpb25cbiAgLy8gY2FuIGltcGxlbWVudCB0aGUgc291cmNlIFVSTCByZXNvbHV0aW9uIGFsZ29yaXRobSBhcyBvdXRsaW5lZCBpblxuICAvLyB0aGUgc3BlYy4gIFRoaXMgYmxvY2sgaXMgYmFzaWNhbGx5IHRoZSBlcXVpdmFsZW50IG9mOlxuICAvLyAgICBuZXcgVVJMKHNvdXJjZVVSTCwgc291cmNlTWFwVVJMKS50b1N0cmluZygpXG4gIC8vIC4uLiBleGNlcHQgaXQgYXZvaWRzIHVzaW5nIFVSTCwgd2hpY2ggd2Fzbid0IGF2YWlsYWJsZSBpbiB0aGVcbiAgLy8gb2xkZXIgcmVsZWFzZXMgb2Ygbm9kZSBzdGlsbCBzdXBwb3J0ZWQgYnkgdGhpcyBsaWJyYXJ5LlxuICAvL1xuICAvLyBUaGUgc3BlYyBzYXlzOlxuICAvLyAgIElmIHRoZSBzb3VyY2VzIGFyZSBub3QgYWJzb2x1dGUgVVJMcyBhZnRlciBwcmVwZW5kaW5nIG9mIHRoZVxuICAvLyAgIOKAnHNvdXJjZVJvb3TigJ0sIHRoZSBzb3VyY2VzIGFyZSByZXNvbHZlZCByZWxhdGl2ZSB0byB0aGVcbiAgLy8gICBTb3VyY2VNYXAgKGxpa2UgcmVzb2x2aW5nIHNjcmlwdCBzcmMgaW4gYSBodG1sIGRvY3VtZW50KS5cbiAgaWYgKHNvdXJjZU1hcFVSTCkge1xuICAgIHZhciBwYXJzZWQgPSB1cmxQYXJzZShzb3VyY2VNYXBVUkwpO1xuICAgIGlmICghcGFyc2VkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJzb3VyY2VNYXBVUkwgY291bGQgbm90IGJlIHBhcnNlZFwiKTtcbiAgICB9XG4gICAgaWYgKHBhcnNlZC5wYXRoKSB7XG4gICAgICAvLyBTdHJpcCB0aGUgbGFzdCBwYXRoIGNvbXBvbmVudCwgYnV0IGtlZXAgdGhlIFwiL1wiLlxuICAgICAgdmFyIGluZGV4ID0gcGFyc2VkLnBhdGgubGFzdEluZGV4T2YoJy8nKTtcbiAgICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICAgIHBhcnNlZC5wYXRoID0gcGFyc2VkLnBhdGguc3Vic3RyaW5nKDAsIGluZGV4ICsgMSk7XG4gICAgICB9XG4gICAgfVxuICAgIHNvdXJjZVVSTCA9IGpvaW4odXJsR2VuZXJhdGUocGFyc2VkKSwgc291cmNlVVJMKTtcbiAgfVxuXG4gIHJldHVybiBub3JtYWxpemUoc291cmNlVVJMKTtcbn1cbmV4cG9ydHMuY29tcHV0ZVNvdXJjZVVSTCA9IGNvbXB1dGVTb3VyY2VVUkw7XG4iLCIvKlxuICogQ29weXJpZ2h0IDIwMDktMjAxMSBNb3ppbGxhIEZvdW5kYXRpb24gYW5kIGNvbnRyaWJ1dG9yc1xuICogTGljZW5zZWQgdW5kZXIgdGhlIE5ldyBCU0QgbGljZW5zZS4gU2VlIExJQ0VOU0UudHh0IG9yOlxuICogaHR0cDovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL0JTRC0zLUNsYXVzZVxuICovXG5leHBvcnRzLlNvdXJjZU1hcEdlbmVyYXRvciA9IHJlcXVpcmUoJy4vbGliL3NvdXJjZS1tYXAtZ2VuZXJhdG9yJykuU291cmNlTWFwR2VuZXJhdG9yO1xuZXhwb3J0cy5Tb3VyY2VNYXBDb25zdW1lciA9IHJlcXVpcmUoJy4vbGliL3NvdXJjZS1tYXAtY29uc3VtZXInKS5Tb3VyY2VNYXBDb25zdW1lcjtcbmV4cG9ydHMuU291cmNlTm9kZSA9IHJlcXVpcmUoJy4vbGliL3NvdXJjZS1ub2RlJykuU291cmNlTm9kZTtcbiIsIm1vZHVsZS5leHBvcnRzPXtcbiAgXCJfYXJnc1wiOiBbXG4gICAgW1xuICAgICAgXCJlc2NvZGVnZW5AMS4xNC4xXCIsXG4gICAgICBcIi9tbnQvYy9Vc2Vycy9kaG4wMy9zb3VyY2UvcHJvamVjdHMvanNmbG93L2pzZmxvdy1tYXN0ZXJcIlxuICAgIF1cbiAgXSxcbiAgXCJfZnJvbVwiOiBcImVzY29kZWdlbkAxLjE0LjFcIixcbiAgXCJfaWRcIjogXCJlc2NvZGVnZW5AMS4xNC4xXCIsXG4gIFwiX2luQnVuZGxlXCI6IGZhbHNlLFxuICBcIl9pbnRlZ3JpdHlcIjogXCJzaGE1MTItQm10N05jUnlTZElmTlBmVTJab1hEcnJYc0c5Wmp2RHhjQWxNZkRVZ1JCakxPV1R1SUFDWFBCRkpIN1orY0xiNDBKZVFjbzV0b2lreWM5dDlQOEU5U1E9PVwiLFxuICBcIl9sb2NhdGlvblwiOiBcIi9lc2NvZGVnZW5cIixcbiAgXCJfcGhhbnRvbUNoaWxkcmVuXCI6IHt9LFxuICBcIl9yZXF1ZXN0ZWRcIjoge1xuICAgIFwidHlwZVwiOiBcInZlcnNpb25cIixcbiAgICBcInJlZ2lzdHJ5XCI6IHRydWUsXG4gICAgXCJyYXdcIjogXCJlc2NvZGVnZW5AMS4xNC4xXCIsXG4gICAgXCJuYW1lXCI6IFwiZXNjb2RlZ2VuXCIsXG4gICAgXCJlc2NhcGVkTmFtZVwiOiBcImVzY29kZWdlblwiLFxuICAgIFwicmF3U3BlY1wiOiBcIjEuMTQuMVwiLFxuICAgIFwic2F2ZVNwZWNcIjogbnVsbCxcbiAgICBcImZldGNoU3BlY1wiOiBcIjEuMTQuMVwiXG4gIH0sXG4gIFwiX3JlcXVpcmVkQnlcIjogW1xuICAgIFwiL1wiXG4gIF0sXG4gIFwiX3Jlc29sdmVkXCI6IFwiaHR0cHM6Ly9yZWdpc3RyeS5ucG1qcy5vcmcvZXNjb2RlZ2VuLy0vZXNjb2RlZ2VuLTEuMTQuMS50Z3pcIixcbiAgXCJfc3BlY1wiOiBcIjEuMTQuMVwiLFxuICBcIl93aGVyZVwiOiBcIi9tbnQvYy9Vc2Vycy9kaG4wMy9zb3VyY2UvcHJvamVjdHMvanNmbG93L2pzZmxvdy1tYXN0ZXJcIixcbiAgXCJiaW5cIjoge1xuICAgIFwiZXNnZW5lcmF0ZVwiOiBcImJpbi9lc2dlbmVyYXRlLmpzXCIsXG4gICAgXCJlc2NvZGVnZW5cIjogXCJiaW4vZXNjb2RlZ2VuLmpzXCJcbiAgfSxcbiAgXCJidWdzXCI6IHtcbiAgICBcInVybFwiOiBcImh0dHBzOi8vZ2l0aHViLmNvbS9lc3Rvb2xzL2VzY29kZWdlbi9pc3N1ZXNcIlxuICB9LFxuICBcImRlcGVuZGVuY2llc1wiOiB7XG4gICAgXCJlc3ByaW1hXCI6IFwiXjQuMC4xXCIsXG4gICAgXCJlc3RyYXZlcnNlXCI6IFwiXjQuMi4wXCIsXG4gICAgXCJlc3V0aWxzXCI6IFwiXjIuMC4yXCIsXG4gICAgXCJvcHRpb25hdG9yXCI6IFwiXjAuOC4xXCIsXG4gICAgXCJzb3VyY2UtbWFwXCI6IFwifjAuNi4xXCJcbiAgfSxcbiAgXCJkZXNjcmlwdGlvblwiOiBcIkVDTUFTY3JpcHQgY29kZSBnZW5lcmF0b3JcIixcbiAgXCJkZXZEZXBlbmRlbmNpZXNcIjoge1xuICAgIFwiYWNvcm5cIjogXCJeNy4xLjBcIixcbiAgICBcImJsdWViaXJkXCI6IFwiXjMuNC43XCIsXG4gICAgXCJib3dlci1yZWdpc3RyeS1jbGllbnRcIjogXCJeMS4wLjBcIixcbiAgICBcImNoYWlcIjogXCJeMy41LjBcIixcbiAgICBcImNvbW1vbmpzLWV2ZXJ5d2hlcmVcIjogXCJeMC45LjdcIixcbiAgICBcImd1bHBcIjogXCJeMy44LjEwXCIsXG4gICAgXCJndWxwLWVzbGludFwiOiBcIl4zLjAuMVwiLFxuICAgIFwiZ3VscC1tb2NoYVwiOiBcIl4zLjAuMVwiLFxuICAgIFwic2VtdmVyXCI6IFwiXjUuMS4wXCJcbiAgfSxcbiAgXCJlbmdpbmVzXCI6IHtcbiAgICBcIm5vZGVcIjogXCI+PTQuMFwiXG4gIH0sXG4gIFwiZmlsZXNcIjogW1xuICAgIFwiTElDRU5TRS5CU0RcIixcbiAgICBcIlJFQURNRS5tZFwiLFxuICAgIFwiYmluXCIsXG4gICAgXCJlc2NvZGVnZW4uanNcIixcbiAgICBcInBhY2thZ2UuanNvblwiXG4gIF0sXG4gIFwiaG9tZXBhZ2VcIjogXCJodHRwOi8vZ2l0aHViLmNvbS9lc3Rvb2xzL2VzY29kZWdlblwiLFxuICBcImxpY2Vuc2VcIjogXCJCU0QtMi1DbGF1c2VcIixcbiAgXCJtYWluXCI6IFwiZXNjb2RlZ2VuLmpzXCIsXG4gIFwibWFpbnRhaW5lcnNcIjogW1xuICAgIHtcbiAgICAgIFwibmFtZVwiOiBcIll1c3VrZSBTdXp1a2lcIixcbiAgICAgIFwiZW1haWxcIjogXCJ1dGF0YW5lLnRlYUBnbWFpbC5jb21cIixcbiAgICAgIFwidXJsXCI6IFwiaHR0cDovL2dpdGh1Yi5jb20vQ29uc3RlbGxhdGlvblwiXG4gICAgfVxuICBdLFxuICBcIm5hbWVcIjogXCJlc2NvZGVnZW5cIixcbiAgXCJvcHRpb25hbERlcGVuZGVuY2llc1wiOiB7XG4gICAgXCJzb3VyY2UtbWFwXCI6IFwifjAuNi4xXCJcbiAgfSxcbiAgXCJyZXBvc2l0b3J5XCI6IHtcbiAgICBcInR5cGVcIjogXCJnaXRcIixcbiAgICBcInVybFwiOiBcImdpdCtzc2g6Ly9naXRAZ2l0aHViLmNvbS9lc3Rvb2xzL2VzY29kZWdlbi5naXRcIlxuICB9LFxuICBcInNjcmlwdHNcIjoge1xuICAgIFwiYnVpbGRcIjogXCJjanNpZnkgLWEgcGF0aDogdG9vbHMvZW50cnktcG9pbnQuanMgPiBlc2NvZGVnZW4uYnJvd3Nlci5qc1wiLFxuICAgIFwiYnVpbGQtbWluXCI6IFwiY2pzaWZ5IC1tYSBwYXRoOiB0b29scy9lbnRyeS1wb2ludC5qcyA+IGVzY29kZWdlbi5icm93c2VyLm1pbi5qc1wiLFxuICAgIFwibGludFwiOiBcImd1bHAgbGludFwiLFxuICAgIFwicmVsZWFzZVwiOiBcIm5vZGUgdG9vbHMvcmVsZWFzZS5qc1wiLFxuICAgIFwidGVzdFwiOiBcImd1bHAgdHJhdmlzXCIsXG4gICAgXCJ1bml0LXRlc3RcIjogXCJndWxwIHRlc3RcIlxuICB9LFxuICBcInZlcnNpb25cIjogXCIxLjE0LjFcIlxufVxuIiwiLypcbiAgQ29weXJpZ2h0IChjKSBqUXVlcnkgRm91bmRhdGlvbiwgSW5jLiBhbmQgQ29udHJpYnV0b3JzLCBBbGwgUmlnaHRzIFJlc2VydmVkLlxuXG4gIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dFxuICBtb2RpZmljYXRpb24sIGFyZSBwZXJtaXR0ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlIG1ldDpcblxuICAgICogUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHRcbiAgICAgIG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lci5cbiAgICAqIFJlZGlzdHJpYnV0aW9ucyBpbiBiaW5hcnkgZm9ybSBtdXN0IHJlcHJvZHVjZSB0aGUgYWJvdmUgY29weXJpZ2h0XG4gICAgICBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIgaW4gdGhlXG4gICAgICBkb2N1bWVudGF0aW9uIGFuZC9vciBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWQgd2l0aCB0aGUgZGlzdHJpYnV0aW9uLlxuXG4gIFRISVMgU09GVFdBUkUgSVMgUFJPVklERUQgQlkgVEhFIENPUFlSSUdIVCBIT0xERVJTIEFORCBDT05UUklCVVRPUlMgXCJBUyBJU1wiXG4gIEFORCBBTlkgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBUSEVcbiAgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSBBTkQgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0VcbiAgQVJFIERJU0NMQUlNRUQuIElOIE5PIEVWRU5UIFNIQUxMIDxDT1BZUklHSFQgSE9MREVSPiBCRSBMSUFCTEUgRk9SIEFOWVxuICBESVJFQ1QsIElORElSRUNULCBJTkNJREVOVEFMLCBTUEVDSUFMLCBFWEVNUExBUlksIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFU1xuICAoSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sIFBST0NVUkVNRU5UIE9GIFNVQlNUSVRVVEUgR09PRFMgT1IgU0VSVklDRVM7XG4gIExPU1MgT0YgVVNFLCBEQVRBLCBPUiBQUk9GSVRTOyBPUiBCVVNJTkVTUyBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORFxuICBPTiBBTlkgVEhFT1JZIE9GIExJQUJJTElUWSwgV0hFVEhFUiBJTiBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSwgT1IgVE9SVFxuICAoSU5DTFVESU5HIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKSBBUklTSU5HIElOIEFOWSBXQVkgT1VUIE9GIFRIRSBVU0UgT0ZcbiAgVEhJUyBTT0ZUV0FSRSwgRVZFTiBJRiBBRFZJU0VEIE9GIFRIRSBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS5cbiovXG5cbihmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIC8vIFVuaXZlcnNhbCBNb2R1bGUgRGVmaW5pdGlvbiAoVU1EKSB0byBzdXBwb3J0IEFNRCwgQ29tbW9uSlMvTm9kZS5qcyxcbiAgICAvLyBSaGlubywgYW5kIHBsYWluIGJyb3dzZXIgbG9hZGluZy5cblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgICAgICBkZWZpbmUoWydleHBvcnRzJ10sIGZhY3RvcnkpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGZhY3RvcnkoZXhwb3J0cyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZmFjdG9yeSgocm9vdC5lc3ByaW1hID0ge30pKTtcbiAgICB9XG59KHRoaXMsIGZ1bmN0aW9uIChleHBvcnRzKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIFRva2VuLFxuICAgICAgICBUb2tlbk5hbWUsXG4gICAgICAgIEZuRXhwclRva2VucyxcbiAgICAgICAgU3ludGF4LFxuICAgICAgICBQbGFjZUhvbGRlcnMsXG4gICAgICAgIE1lc3NhZ2VzLFxuICAgICAgICBSZWdleCxcbiAgICAgICAgc291cmNlLFxuICAgICAgICBzdHJpY3QsXG4gICAgICAgIGluZGV4LFxuICAgICAgICBsaW5lTnVtYmVyLFxuICAgICAgICBsaW5lU3RhcnQsXG4gICAgICAgIGhhc0xpbmVUZXJtaW5hdG9yLFxuICAgICAgICBsYXN0SW5kZXgsXG4gICAgICAgIGxhc3RMaW5lTnVtYmVyLFxuICAgICAgICBsYXN0TGluZVN0YXJ0LFxuICAgICAgICBzdGFydEluZGV4LFxuICAgICAgICBzdGFydExpbmVOdW1iZXIsXG4gICAgICAgIHN0YXJ0TGluZVN0YXJ0LFxuICAgICAgICBzY2FubmluZyxcbiAgICAgICAgbGVuZ3RoLFxuICAgICAgICBsb29rYWhlYWQsXG4gICAgICAgIHN0YXRlLFxuICAgICAgICBleHRyYSxcbiAgICAgICAgaXNCaW5kaW5nRWxlbWVudCxcbiAgICAgICAgaXNBc3NpZ25tZW50VGFyZ2V0LFxuICAgICAgICBmaXJzdENvdmVySW5pdGlhbGl6ZWROYW1lRXJyb3I7XG5cbiAgICBUb2tlbiA9IHtcbiAgICAgICAgQm9vbGVhbkxpdGVyYWw6IDEsXG4gICAgICAgIEVPRjogMixcbiAgICAgICAgSWRlbnRpZmllcjogMyxcbiAgICAgICAgS2V5d29yZDogNCxcbiAgICAgICAgTnVsbExpdGVyYWw6IDUsXG4gICAgICAgIE51bWVyaWNMaXRlcmFsOiA2LFxuICAgICAgICBQdW5jdHVhdG9yOiA3LFxuICAgICAgICBTdHJpbmdMaXRlcmFsOiA4LFxuICAgICAgICBSZWd1bGFyRXhwcmVzc2lvbjogOSxcbiAgICAgICAgVGVtcGxhdGU6IDEwXG4gICAgfTtcblxuICAgIFRva2VuTmFtZSA9IHt9O1xuICAgIFRva2VuTmFtZVtUb2tlbi5Cb29sZWFuTGl0ZXJhbF0gPSAnQm9vbGVhbic7XG4gICAgVG9rZW5OYW1lW1Rva2VuLkVPRl0gPSAnPGVuZD4nO1xuICAgIFRva2VuTmFtZVtUb2tlbi5JZGVudGlmaWVyXSA9ICdJZGVudGlmaWVyJztcbiAgICBUb2tlbk5hbWVbVG9rZW4uS2V5d29yZF0gPSAnS2V5d29yZCc7XG4gICAgVG9rZW5OYW1lW1Rva2VuLk51bGxMaXRlcmFsXSA9ICdOdWxsJztcbiAgICBUb2tlbk5hbWVbVG9rZW4uTnVtZXJpY0xpdGVyYWxdID0gJ051bWVyaWMnO1xuICAgIFRva2VuTmFtZVtUb2tlbi5QdW5jdHVhdG9yXSA9ICdQdW5jdHVhdG9yJztcbiAgICBUb2tlbk5hbWVbVG9rZW4uU3RyaW5nTGl0ZXJhbF0gPSAnU3RyaW5nJztcbiAgICBUb2tlbk5hbWVbVG9rZW4uUmVndWxhckV4cHJlc3Npb25dID0gJ1JlZ3VsYXJFeHByZXNzaW9uJztcbiAgICBUb2tlbk5hbWVbVG9rZW4uVGVtcGxhdGVdID0gJ1RlbXBsYXRlJztcblxuICAgIC8vIEEgZnVuY3Rpb24gZm9sbG93aW5nIG9uZSBvZiB0aG9zZSB0b2tlbnMgaXMgYW4gZXhwcmVzc2lvbi5cbiAgICBGbkV4cHJUb2tlbnMgPSBbJygnLCAneycsICdbJywgJ2luJywgJ3R5cGVvZicsICdpbnN0YW5jZW9mJywgJ25ldycsXG4gICAgICAgICAgICAgICAgICAgICdyZXR1cm4nLCAnY2FzZScsICdkZWxldGUnLCAndGhyb3cnLCAndm9pZCcsXG4gICAgICAgICAgICAgICAgICAgIC8vIGFzc2lnbm1lbnQgb3BlcmF0b3JzXG4gICAgICAgICAgICAgICAgICAgICc9JywgJys9JywgJy09JywgJyo9JywgJy89JywgJyU9JywgJzw8PScsICc+Pj0nLCAnPj4+PScsXG4gICAgICAgICAgICAgICAgICAgICcmPScsICd8PScsICdePScsICcsJyxcbiAgICAgICAgICAgICAgICAgICAgLy8gYmluYXJ5L3VuYXJ5IG9wZXJhdG9yc1xuICAgICAgICAgICAgICAgICAgICAnKycsICctJywgJyonLCAnLycsICclJywgJysrJywgJy0tJywgJzw8JywgJz4+JywgJz4+PicsICcmJyxcbiAgICAgICAgICAgICAgICAgICAgJ3wnLCAnXicsICchJywgJ34nLCAnJiYnLCAnfHwnLCAnPycsICc6JywgJz09PScsICc9PScsICc+PScsXG4gICAgICAgICAgICAgICAgICAgICc8PScsICc8JywgJz4nLCAnIT0nLCAnIT09J107XG5cbiAgICBTeW50YXggPSB7XG4gICAgICAgIEFzc2lnbm1lbnRFeHByZXNzaW9uOiAnQXNzaWdubWVudEV4cHJlc3Npb24nLFxuICAgICAgICBBc3NpZ25tZW50UGF0dGVybjogJ0Fzc2lnbm1lbnRQYXR0ZXJuJyxcbiAgICAgICAgQXJyYXlFeHByZXNzaW9uOiAnQXJyYXlFeHByZXNzaW9uJyxcbiAgICAgICAgQXJyYXlQYXR0ZXJuOiAnQXJyYXlQYXR0ZXJuJyxcbiAgICAgICAgQXJyb3dGdW5jdGlvbkV4cHJlc3Npb246ICdBcnJvd0Z1bmN0aW9uRXhwcmVzc2lvbicsXG4gICAgICAgIEJsb2NrU3RhdGVtZW50OiAnQmxvY2tTdGF0ZW1lbnQnLFxuICAgICAgICBCaW5hcnlFeHByZXNzaW9uOiAnQmluYXJ5RXhwcmVzc2lvbicsXG4gICAgICAgIEJyZWFrU3RhdGVtZW50OiAnQnJlYWtTdGF0ZW1lbnQnLFxuICAgICAgICBDYWxsRXhwcmVzc2lvbjogJ0NhbGxFeHByZXNzaW9uJyxcbiAgICAgICAgQ2F0Y2hDbGF1c2U6ICdDYXRjaENsYXVzZScsXG4gICAgICAgIENsYXNzQm9keTogJ0NsYXNzQm9keScsXG4gICAgICAgIENsYXNzRGVjbGFyYXRpb246ICdDbGFzc0RlY2xhcmF0aW9uJyxcbiAgICAgICAgQ2xhc3NFeHByZXNzaW9uOiAnQ2xhc3NFeHByZXNzaW9uJyxcbiAgICAgICAgQ29uZGl0aW9uYWxFeHByZXNzaW9uOiAnQ29uZGl0aW9uYWxFeHByZXNzaW9uJyxcbiAgICAgICAgQ29udGludWVTdGF0ZW1lbnQ6ICdDb250aW51ZVN0YXRlbWVudCcsXG4gICAgICAgIERvV2hpbGVTdGF0ZW1lbnQ6ICdEb1doaWxlU3RhdGVtZW50JyxcbiAgICAgICAgRGVidWdnZXJTdGF0ZW1lbnQ6ICdEZWJ1Z2dlclN0YXRlbWVudCcsXG4gICAgICAgIEVtcHR5U3RhdGVtZW50OiAnRW1wdHlTdGF0ZW1lbnQnLFxuICAgICAgICBFeHBvcnRBbGxEZWNsYXJhdGlvbjogJ0V4cG9ydEFsbERlY2xhcmF0aW9uJyxcbiAgICAgICAgRXhwb3J0RGVmYXVsdERlY2xhcmF0aW9uOiAnRXhwb3J0RGVmYXVsdERlY2xhcmF0aW9uJyxcbiAgICAgICAgRXhwb3J0TmFtZWREZWNsYXJhdGlvbjogJ0V4cG9ydE5hbWVkRGVjbGFyYXRpb24nLFxuICAgICAgICBFeHBvcnRTcGVjaWZpZXI6ICdFeHBvcnRTcGVjaWZpZXInLFxuICAgICAgICBFeHByZXNzaW9uU3RhdGVtZW50OiAnRXhwcmVzc2lvblN0YXRlbWVudCcsXG4gICAgICAgIEZvclN0YXRlbWVudDogJ0ZvclN0YXRlbWVudCcsXG4gICAgICAgIEZvck9mU3RhdGVtZW50OiAnRm9yT2ZTdGF0ZW1lbnQnLFxuICAgICAgICBGb3JJblN0YXRlbWVudDogJ0ZvckluU3RhdGVtZW50JyxcbiAgICAgICAgRnVuY3Rpb25EZWNsYXJhdGlvbjogJ0Z1bmN0aW9uRGVjbGFyYXRpb24nLFxuICAgICAgICBGdW5jdGlvbkV4cHJlc3Npb246ICdGdW5jdGlvbkV4cHJlc3Npb24nLFxuICAgICAgICBJZGVudGlmaWVyOiAnSWRlbnRpZmllcicsXG4gICAgICAgIElmU3RhdGVtZW50OiAnSWZTdGF0ZW1lbnQnLFxuICAgICAgICBJbXBvcnREZWNsYXJhdGlvbjogJ0ltcG9ydERlY2xhcmF0aW9uJyxcbiAgICAgICAgSW1wb3J0RGVmYXVsdFNwZWNpZmllcjogJ0ltcG9ydERlZmF1bHRTcGVjaWZpZXInLFxuICAgICAgICBJbXBvcnROYW1lc3BhY2VTcGVjaWZpZXI6ICdJbXBvcnROYW1lc3BhY2VTcGVjaWZpZXInLFxuICAgICAgICBJbXBvcnRTcGVjaWZpZXI6ICdJbXBvcnRTcGVjaWZpZXInLFxuICAgICAgICBMaXRlcmFsOiAnTGl0ZXJhbCcsXG4gICAgICAgIExhYmVsZWRTdGF0ZW1lbnQ6ICdMYWJlbGVkU3RhdGVtZW50JyxcbiAgICAgICAgTG9naWNhbEV4cHJlc3Npb246ICdMb2dpY2FsRXhwcmVzc2lvbicsXG4gICAgICAgIE1lbWJlckV4cHJlc3Npb246ICdNZW1iZXJFeHByZXNzaW9uJyxcbiAgICAgICAgTWV0YVByb3BlcnR5OiAnTWV0YVByb3BlcnR5JyxcbiAgICAgICAgTWV0aG9kRGVmaW5pdGlvbjogJ01ldGhvZERlZmluaXRpb24nLFxuICAgICAgICBOZXdFeHByZXNzaW9uOiAnTmV3RXhwcmVzc2lvbicsXG4gICAgICAgIE9iamVjdEV4cHJlc3Npb246ICdPYmplY3RFeHByZXNzaW9uJyxcbiAgICAgICAgT2JqZWN0UGF0dGVybjogJ09iamVjdFBhdHRlcm4nLFxuICAgICAgICBQcm9ncmFtOiAnUHJvZ3JhbScsXG4gICAgICAgIFByb3BlcnR5OiAnUHJvcGVydHknLFxuICAgICAgICBSZXN0RWxlbWVudDogJ1Jlc3RFbGVtZW50JyxcbiAgICAgICAgUmV0dXJuU3RhdGVtZW50OiAnUmV0dXJuU3RhdGVtZW50JyxcbiAgICAgICAgU2VxdWVuY2VFeHByZXNzaW9uOiAnU2VxdWVuY2VFeHByZXNzaW9uJyxcbiAgICAgICAgU3ByZWFkRWxlbWVudDogJ1NwcmVhZEVsZW1lbnQnLFxuICAgICAgICBTdXBlcjogJ1N1cGVyJyxcbiAgICAgICAgU3dpdGNoQ2FzZTogJ1N3aXRjaENhc2UnLFxuICAgICAgICBTd2l0Y2hTdGF0ZW1lbnQ6ICdTd2l0Y2hTdGF0ZW1lbnQnLFxuICAgICAgICBUYWdnZWRUZW1wbGF0ZUV4cHJlc3Npb246ICdUYWdnZWRUZW1wbGF0ZUV4cHJlc3Npb24nLFxuICAgICAgICBUZW1wbGF0ZUVsZW1lbnQ6ICdUZW1wbGF0ZUVsZW1lbnQnLFxuICAgICAgICBUZW1wbGF0ZUxpdGVyYWw6ICdUZW1wbGF0ZUxpdGVyYWwnLFxuICAgICAgICBUaGlzRXhwcmVzc2lvbjogJ1RoaXNFeHByZXNzaW9uJyxcbiAgICAgICAgVGhyb3dTdGF0ZW1lbnQ6ICdUaHJvd1N0YXRlbWVudCcsXG4gICAgICAgIFRyeVN0YXRlbWVudDogJ1RyeVN0YXRlbWVudCcsXG4gICAgICAgIFVuYXJ5RXhwcmVzc2lvbjogJ1VuYXJ5RXhwcmVzc2lvbicsXG4gICAgICAgIFVwZGF0ZUV4cHJlc3Npb246ICdVcGRhdGVFeHByZXNzaW9uJyxcbiAgICAgICAgVmFyaWFibGVEZWNsYXJhdGlvbjogJ1ZhcmlhYmxlRGVjbGFyYXRpb24nLFxuICAgICAgICBWYXJpYWJsZURlY2xhcmF0b3I6ICdWYXJpYWJsZURlY2xhcmF0b3InLFxuICAgICAgICBXaGlsZVN0YXRlbWVudDogJ1doaWxlU3RhdGVtZW50JyxcbiAgICAgICAgV2l0aFN0YXRlbWVudDogJ1dpdGhTdGF0ZW1lbnQnLFxuICAgICAgICBZaWVsZEV4cHJlc3Npb246ICdZaWVsZEV4cHJlc3Npb24nXG4gICAgfTtcblxuICAgIFBsYWNlSG9sZGVycyA9IHtcbiAgICAgICAgQXJyb3dQYXJhbWV0ZXJQbGFjZUhvbGRlcjogJ0Fycm93UGFyYW1ldGVyUGxhY2VIb2xkZXInXG4gICAgfTtcblxuICAgIC8vIEVycm9yIG1lc3NhZ2VzIHNob3VsZCBiZSBpZGVudGljYWwgdG8gVjguXG4gICAgTWVzc2FnZXMgPSB7XG4gICAgICAgIFVuZXhwZWN0ZWRUb2tlbjogJ1VuZXhwZWN0ZWQgdG9rZW4gJTAnLFxuICAgICAgICBVbmV4cGVjdGVkTnVtYmVyOiAnVW5leHBlY3RlZCBudW1iZXInLFxuICAgICAgICBVbmV4cGVjdGVkU3RyaW5nOiAnVW5leHBlY3RlZCBzdHJpbmcnLFxuICAgICAgICBVbmV4cGVjdGVkSWRlbnRpZmllcjogJ1VuZXhwZWN0ZWQgaWRlbnRpZmllcicsXG4gICAgICAgIFVuZXhwZWN0ZWRSZXNlcnZlZDogJ1VuZXhwZWN0ZWQgcmVzZXJ2ZWQgd29yZCcsXG4gICAgICAgIFVuZXhwZWN0ZWRUZW1wbGF0ZTogJ1VuZXhwZWN0ZWQgcXVhc2kgJTAnLFxuICAgICAgICBVbmV4cGVjdGVkRU9TOiAnVW5leHBlY3RlZCBlbmQgb2YgaW5wdXQnLFxuICAgICAgICBOZXdsaW5lQWZ0ZXJUaHJvdzogJ0lsbGVnYWwgbmV3bGluZSBhZnRlciB0aHJvdycsXG4gICAgICAgIEludmFsaWRSZWdFeHA6ICdJbnZhbGlkIHJlZ3VsYXIgZXhwcmVzc2lvbicsXG4gICAgICAgIFVudGVybWluYXRlZFJlZ0V4cDogJ0ludmFsaWQgcmVndWxhciBleHByZXNzaW9uOiBtaXNzaW5nIC8nLFxuICAgICAgICBJbnZhbGlkTEhTSW5Bc3NpZ25tZW50OiAnSW52YWxpZCBsZWZ0LWhhbmQgc2lkZSBpbiBhc3NpZ25tZW50JyxcbiAgICAgICAgSW52YWxpZExIU0luRm9ySW46ICdJbnZhbGlkIGxlZnQtaGFuZCBzaWRlIGluIGZvci1pbicsXG4gICAgICAgIEludmFsaWRMSFNJbkZvckxvb3A6ICdJbnZhbGlkIGxlZnQtaGFuZCBzaWRlIGluIGZvci1sb29wJyxcbiAgICAgICAgTXVsdGlwbGVEZWZhdWx0c0luU3dpdGNoOiAnTW9yZSB0aGFuIG9uZSBkZWZhdWx0IGNsYXVzZSBpbiBzd2l0Y2ggc3RhdGVtZW50JyxcbiAgICAgICAgTm9DYXRjaE9yRmluYWxseTogJ01pc3NpbmcgY2F0Y2ggb3IgZmluYWxseSBhZnRlciB0cnknLFxuICAgICAgICBVbmtub3duTGFiZWw6ICdVbmRlZmluZWQgbGFiZWwgXFwnJTBcXCcnLFxuICAgICAgICBSZWRlY2xhcmF0aW9uOiAnJTAgXFwnJTFcXCcgaGFzIGFscmVhZHkgYmVlbiBkZWNsYXJlZCcsXG4gICAgICAgIElsbGVnYWxDb250aW51ZTogJ0lsbGVnYWwgY29udGludWUgc3RhdGVtZW50JyxcbiAgICAgICAgSWxsZWdhbEJyZWFrOiAnSWxsZWdhbCBicmVhayBzdGF0ZW1lbnQnLFxuICAgICAgICBJbGxlZ2FsUmV0dXJuOiAnSWxsZWdhbCByZXR1cm4gc3RhdGVtZW50JyxcbiAgICAgICAgU3RyaWN0TW9kZVdpdGg6ICdTdHJpY3QgbW9kZSBjb2RlIG1heSBub3QgaW5jbHVkZSBhIHdpdGggc3RhdGVtZW50JyxcbiAgICAgICAgU3RyaWN0Q2F0Y2hWYXJpYWJsZTogJ0NhdGNoIHZhcmlhYmxlIG1heSBub3QgYmUgZXZhbCBvciBhcmd1bWVudHMgaW4gc3RyaWN0IG1vZGUnLFxuICAgICAgICBTdHJpY3RWYXJOYW1lOiAnVmFyaWFibGUgbmFtZSBtYXkgbm90IGJlIGV2YWwgb3IgYXJndW1lbnRzIGluIHN0cmljdCBtb2RlJyxcbiAgICAgICAgU3RyaWN0UGFyYW1OYW1lOiAnUGFyYW1ldGVyIG5hbWUgZXZhbCBvciBhcmd1bWVudHMgaXMgbm90IGFsbG93ZWQgaW4gc3RyaWN0IG1vZGUnLFxuICAgICAgICBTdHJpY3RQYXJhbUR1cGU6ICdTdHJpY3QgbW9kZSBmdW5jdGlvbiBtYXkgbm90IGhhdmUgZHVwbGljYXRlIHBhcmFtZXRlciBuYW1lcycsXG4gICAgICAgIFN0cmljdEZ1bmN0aW9uTmFtZTogJ0Z1bmN0aW9uIG5hbWUgbWF5IG5vdCBiZSBldmFsIG9yIGFyZ3VtZW50cyBpbiBzdHJpY3QgbW9kZScsXG4gICAgICAgIFN0cmljdE9jdGFsTGl0ZXJhbDogJ09jdGFsIGxpdGVyYWxzIGFyZSBub3QgYWxsb3dlZCBpbiBzdHJpY3QgbW9kZS4nLFxuICAgICAgICBTdHJpY3REZWxldGU6ICdEZWxldGUgb2YgYW4gdW5xdWFsaWZpZWQgaWRlbnRpZmllciBpbiBzdHJpY3QgbW9kZS4nLFxuICAgICAgICBTdHJpY3RMSFNBc3NpZ25tZW50OiAnQXNzaWdubWVudCB0byBldmFsIG9yIGFyZ3VtZW50cyBpcyBub3QgYWxsb3dlZCBpbiBzdHJpY3QgbW9kZScsXG4gICAgICAgIFN0cmljdExIU1Bvc3RmaXg6ICdQb3N0Zml4IGluY3JlbWVudC9kZWNyZW1lbnQgbWF5IG5vdCBoYXZlIGV2YWwgb3IgYXJndW1lbnRzIG9wZXJhbmQgaW4gc3RyaWN0IG1vZGUnLFxuICAgICAgICBTdHJpY3RMSFNQcmVmaXg6ICdQcmVmaXggaW5jcmVtZW50L2RlY3JlbWVudCBtYXkgbm90IGhhdmUgZXZhbCBvciBhcmd1bWVudHMgb3BlcmFuZCBpbiBzdHJpY3QgbW9kZScsXG4gICAgICAgIFN0cmljdFJlc2VydmVkV29yZDogJ1VzZSBvZiBmdXR1cmUgcmVzZXJ2ZWQgd29yZCBpbiBzdHJpY3QgbW9kZScsXG4gICAgICAgIFRlbXBsYXRlT2N0YWxMaXRlcmFsOiAnT2N0YWwgbGl0ZXJhbHMgYXJlIG5vdCBhbGxvd2VkIGluIHRlbXBsYXRlIHN0cmluZ3MuJyxcbiAgICAgICAgUGFyYW1ldGVyQWZ0ZXJSZXN0UGFyYW1ldGVyOiAnUmVzdCBwYXJhbWV0ZXIgbXVzdCBiZSBsYXN0IGZvcm1hbCBwYXJhbWV0ZXInLFxuICAgICAgICBEZWZhdWx0UmVzdFBhcmFtZXRlcjogJ1VuZXhwZWN0ZWQgdG9rZW4gPScsXG4gICAgICAgIE9iamVjdFBhdHRlcm5Bc1Jlc3RQYXJhbWV0ZXI6ICdVbmV4cGVjdGVkIHRva2VuIHsnLFxuICAgICAgICBEdXBsaWNhdGVQcm90b1Byb3BlcnR5OiAnRHVwbGljYXRlIF9fcHJvdG9fXyBmaWVsZHMgYXJlIG5vdCBhbGxvd2VkIGluIG9iamVjdCBsaXRlcmFscycsXG4gICAgICAgIENvbnN0cnVjdG9yU3BlY2lhbE1ldGhvZDogJ0NsYXNzIGNvbnN0cnVjdG9yIG1heSBub3QgYmUgYW4gYWNjZXNzb3InLFxuICAgICAgICBEdXBsaWNhdGVDb25zdHJ1Y3RvcjogJ0EgY2xhc3MgbWF5IG9ubHkgaGF2ZSBvbmUgY29uc3RydWN0b3InLFxuICAgICAgICBTdGF0aWNQcm90b3R5cGU6ICdDbGFzc2VzIG1heSBub3QgaGF2ZSBzdGF0aWMgcHJvcGVydHkgbmFtZWQgcHJvdG90eXBlJyxcbiAgICAgICAgTWlzc2luZ0Zyb21DbGF1c2U6ICdVbmV4cGVjdGVkIHRva2VuJyxcbiAgICAgICAgTm9Bc0FmdGVySW1wb3J0TmFtZXNwYWNlOiAnVW5leHBlY3RlZCB0b2tlbicsXG4gICAgICAgIEludmFsaWRNb2R1bGVTcGVjaWZpZXI6ICdVbmV4cGVjdGVkIHRva2VuJyxcbiAgICAgICAgSWxsZWdhbEltcG9ydERlY2xhcmF0aW9uOiAnVW5leHBlY3RlZCB0b2tlbicsXG4gICAgICAgIElsbGVnYWxFeHBvcnREZWNsYXJhdGlvbjogJ1VuZXhwZWN0ZWQgdG9rZW4nLFxuICAgICAgICBEdXBsaWNhdGVCaW5kaW5nOiAnRHVwbGljYXRlIGJpbmRpbmcgJTAnXG4gICAgfTtcblxuICAgIC8vIFNlZSBhbHNvIHRvb2xzL2dlbmVyYXRlLXVuaWNvZGUtcmVnZXguanMuXG4gICAgUmVnZXggPSB7XG4gICAgICAgIC8vIEVDTUFTY3JpcHQgNi9Vbmljb2RlIHY3LjAuMCBOb25Bc2NpaUlkZW50aWZpZXJTdGFydDpcbiAgICAgICAgTm9uQXNjaWlJZGVudGlmaWVyU3RhcnQ6IC9bXFx4QUFcXHhCNVxceEJBXFx4QzAtXFx4RDZcXHhEOC1cXHhGNlxceEY4LVxcdTAyQzFcXHUwMkM2LVxcdTAyRDFcXHUwMkUwLVxcdTAyRTRcXHUwMkVDXFx1MDJFRVxcdTAzNzAtXFx1MDM3NFxcdTAzNzZcXHUwMzc3XFx1MDM3QS1cXHUwMzdEXFx1MDM3RlxcdTAzODZcXHUwMzg4LVxcdTAzOEFcXHUwMzhDXFx1MDM4RS1cXHUwM0ExXFx1MDNBMy1cXHUwM0Y1XFx1MDNGNy1cXHUwNDgxXFx1MDQ4QS1cXHUwNTJGXFx1MDUzMS1cXHUwNTU2XFx1MDU1OVxcdTA1NjEtXFx1MDU4N1xcdTA1RDAtXFx1MDVFQVxcdTA1RjAtXFx1MDVGMlxcdTA2MjAtXFx1MDY0QVxcdTA2NkVcXHUwNjZGXFx1MDY3MS1cXHUwNkQzXFx1MDZENVxcdTA2RTVcXHUwNkU2XFx1MDZFRVxcdTA2RUZcXHUwNkZBLVxcdTA2RkNcXHUwNkZGXFx1MDcxMFxcdTA3MTItXFx1MDcyRlxcdTA3NEQtXFx1MDdBNVxcdTA3QjFcXHUwN0NBLVxcdTA3RUFcXHUwN0Y0XFx1MDdGNVxcdTA3RkFcXHUwODAwLVxcdTA4MTVcXHUwODFBXFx1MDgyNFxcdTA4MjhcXHUwODQwLVxcdTA4NThcXHUwOEEwLVxcdTA4QjJcXHUwOTA0LVxcdTA5MzlcXHUwOTNEXFx1MDk1MFxcdTA5NTgtXFx1MDk2MVxcdTA5NzEtXFx1MDk4MFxcdTA5ODUtXFx1MDk4Q1xcdTA5OEZcXHUwOTkwXFx1MDk5My1cXHUwOUE4XFx1MDlBQS1cXHUwOUIwXFx1MDlCMlxcdTA5QjYtXFx1MDlCOVxcdTA5QkRcXHUwOUNFXFx1MDlEQ1xcdTA5RERcXHUwOURGLVxcdTA5RTFcXHUwOUYwXFx1MDlGMVxcdTBBMDUtXFx1MEEwQVxcdTBBMEZcXHUwQTEwXFx1MEExMy1cXHUwQTI4XFx1MEEyQS1cXHUwQTMwXFx1MEEzMlxcdTBBMzNcXHUwQTM1XFx1MEEzNlxcdTBBMzhcXHUwQTM5XFx1MEE1OS1cXHUwQTVDXFx1MEE1RVxcdTBBNzItXFx1MEE3NFxcdTBBODUtXFx1MEE4RFxcdTBBOEYtXFx1MEE5MVxcdTBBOTMtXFx1MEFBOFxcdTBBQUEtXFx1MEFCMFxcdTBBQjJcXHUwQUIzXFx1MEFCNS1cXHUwQUI5XFx1MEFCRFxcdTBBRDBcXHUwQUUwXFx1MEFFMVxcdTBCMDUtXFx1MEIwQ1xcdTBCMEZcXHUwQjEwXFx1MEIxMy1cXHUwQjI4XFx1MEIyQS1cXHUwQjMwXFx1MEIzMlxcdTBCMzNcXHUwQjM1LVxcdTBCMzlcXHUwQjNEXFx1MEI1Q1xcdTBCNURcXHUwQjVGLVxcdTBCNjFcXHUwQjcxXFx1MEI4M1xcdTBCODUtXFx1MEI4QVxcdTBCOEUtXFx1MEI5MFxcdTBCOTItXFx1MEI5NVxcdTBCOTlcXHUwQjlBXFx1MEI5Q1xcdTBCOUVcXHUwQjlGXFx1MEJBM1xcdTBCQTRcXHUwQkE4LVxcdTBCQUFcXHUwQkFFLVxcdTBCQjlcXHUwQkQwXFx1MEMwNS1cXHUwQzBDXFx1MEMwRS1cXHUwQzEwXFx1MEMxMi1cXHUwQzI4XFx1MEMyQS1cXHUwQzM5XFx1MEMzRFxcdTBDNThcXHUwQzU5XFx1MEM2MFxcdTBDNjFcXHUwQzg1LVxcdTBDOENcXHUwQzhFLVxcdTBDOTBcXHUwQzkyLVxcdTBDQThcXHUwQ0FBLVxcdTBDQjNcXHUwQ0I1LVxcdTBDQjlcXHUwQ0JEXFx1MENERVxcdTBDRTBcXHUwQ0UxXFx1MENGMVxcdTBDRjJcXHUwRDA1LVxcdTBEMENcXHUwRDBFLVxcdTBEMTBcXHUwRDEyLVxcdTBEM0FcXHUwRDNEXFx1MEQ0RVxcdTBENjBcXHUwRDYxXFx1MEQ3QS1cXHUwRDdGXFx1MEQ4NS1cXHUwRDk2XFx1MEQ5QS1cXHUwREIxXFx1MERCMy1cXHUwREJCXFx1MERCRFxcdTBEQzAtXFx1MERDNlxcdTBFMDEtXFx1MEUzMFxcdTBFMzJcXHUwRTMzXFx1MEU0MC1cXHUwRTQ2XFx1MEU4MVxcdTBFODJcXHUwRTg0XFx1MEU4N1xcdTBFODhcXHUwRThBXFx1MEU4RFxcdTBFOTQtXFx1MEU5N1xcdTBFOTktXFx1MEU5RlxcdTBFQTEtXFx1MEVBM1xcdTBFQTVcXHUwRUE3XFx1MEVBQVxcdTBFQUJcXHUwRUFELVxcdTBFQjBcXHUwRUIyXFx1MEVCM1xcdTBFQkRcXHUwRUMwLVxcdTBFQzRcXHUwRUM2XFx1MEVEQy1cXHUwRURGXFx1MEYwMFxcdTBGNDAtXFx1MEY0N1xcdTBGNDktXFx1MEY2Q1xcdTBGODgtXFx1MEY4Q1xcdTEwMDAtXFx1MTAyQVxcdTEwM0ZcXHUxMDUwLVxcdTEwNTVcXHUxMDVBLVxcdTEwNURcXHUxMDYxXFx1MTA2NVxcdTEwNjZcXHUxMDZFLVxcdTEwNzBcXHUxMDc1LVxcdTEwODFcXHUxMDhFXFx1MTBBMC1cXHUxMEM1XFx1MTBDN1xcdTEwQ0RcXHUxMEQwLVxcdTEwRkFcXHUxMEZDLVxcdTEyNDhcXHUxMjRBLVxcdTEyNERcXHUxMjUwLVxcdTEyNTZcXHUxMjU4XFx1MTI1QS1cXHUxMjVEXFx1MTI2MC1cXHUxMjg4XFx1MTI4QS1cXHUxMjhEXFx1MTI5MC1cXHUxMkIwXFx1MTJCMi1cXHUxMkI1XFx1MTJCOC1cXHUxMkJFXFx1MTJDMFxcdTEyQzItXFx1MTJDNVxcdTEyQzgtXFx1MTJENlxcdTEyRDgtXFx1MTMxMFxcdTEzMTItXFx1MTMxNVxcdTEzMTgtXFx1MTM1QVxcdTEzODAtXFx1MTM4RlxcdTEzQTAtXFx1MTNGNFxcdTE0MDEtXFx1MTY2Q1xcdTE2NkYtXFx1MTY3RlxcdTE2ODEtXFx1MTY5QVxcdTE2QTAtXFx1MTZFQVxcdTE2RUUtXFx1MTZGOFxcdTE3MDAtXFx1MTcwQ1xcdTE3MEUtXFx1MTcxMVxcdTE3MjAtXFx1MTczMVxcdTE3NDAtXFx1MTc1MVxcdTE3NjAtXFx1MTc2Q1xcdTE3NkUtXFx1MTc3MFxcdTE3ODAtXFx1MTdCM1xcdTE3RDdcXHUxN0RDXFx1MTgyMC1cXHUxODc3XFx1MTg4MC1cXHUxOEE4XFx1MThBQVxcdTE4QjAtXFx1MThGNVxcdTE5MDAtXFx1MTkxRVxcdTE5NTAtXFx1MTk2RFxcdTE5NzAtXFx1MTk3NFxcdTE5ODAtXFx1MTlBQlxcdTE5QzEtXFx1MTlDN1xcdTFBMDAtXFx1MUExNlxcdTFBMjAtXFx1MUE1NFxcdTFBQTdcXHUxQjA1LVxcdTFCMzNcXHUxQjQ1LVxcdTFCNEJcXHUxQjgzLVxcdTFCQTBcXHUxQkFFXFx1MUJBRlxcdTFCQkEtXFx1MUJFNVxcdTFDMDAtXFx1MUMyM1xcdTFDNEQtXFx1MUM0RlxcdTFDNUEtXFx1MUM3RFxcdTFDRTktXFx1MUNFQ1xcdTFDRUUtXFx1MUNGMVxcdTFDRjVcXHUxQ0Y2XFx1MUQwMC1cXHUxREJGXFx1MUUwMC1cXHUxRjE1XFx1MUYxOC1cXHUxRjFEXFx1MUYyMC1cXHUxRjQ1XFx1MUY0OC1cXHUxRjREXFx1MUY1MC1cXHUxRjU3XFx1MUY1OVxcdTFGNUJcXHUxRjVEXFx1MUY1Ri1cXHUxRjdEXFx1MUY4MC1cXHUxRkI0XFx1MUZCNi1cXHUxRkJDXFx1MUZCRVxcdTFGQzItXFx1MUZDNFxcdTFGQzYtXFx1MUZDQ1xcdTFGRDAtXFx1MUZEM1xcdTFGRDYtXFx1MUZEQlxcdTFGRTAtXFx1MUZFQ1xcdTFGRjItXFx1MUZGNFxcdTFGRjYtXFx1MUZGQ1xcdTIwNzFcXHUyMDdGXFx1MjA5MC1cXHUyMDlDXFx1MjEwMlxcdTIxMDdcXHUyMTBBLVxcdTIxMTNcXHUyMTE1XFx1MjExOC1cXHUyMTFEXFx1MjEyNFxcdTIxMjZcXHUyMTI4XFx1MjEyQS1cXHUyMTM5XFx1MjEzQy1cXHUyMTNGXFx1MjE0NS1cXHUyMTQ5XFx1MjE0RVxcdTIxNjAtXFx1MjE4OFxcdTJDMDAtXFx1MkMyRVxcdTJDMzAtXFx1MkM1RVxcdTJDNjAtXFx1MkNFNFxcdTJDRUItXFx1MkNFRVxcdTJDRjJcXHUyQ0YzXFx1MkQwMC1cXHUyRDI1XFx1MkQyN1xcdTJEMkRcXHUyRDMwLVxcdTJENjdcXHUyRDZGXFx1MkQ4MC1cXHUyRDk2XFx1MkRBMC1cXHUyREE2XFx1MkRBOC1cXHUyREFFXFx1MkRCMC1cXHUyREI2XFx1MkRCOC1cXHUyREJFXFx1MkRDMC1cXHUyREM2XFx1MkRDOC1cXHUyRENFXFx1MkREMC1cXHUyREQ2XFx1MkREOC1cXHUyRERFXFx1MzAwNS1cXHUzMDA3XFx1MzAyMS1cXHUzMDI5XFx1MzAzMS1cXHUzMDM1XFx1MzAzOC1cXHUzMDNDXFx1MzA0MS1cXHUzMDk2XFx1MzA5Qi1cXHUzMDlGXFx1MzBBMS1cXHUzMEZBXFx1MzBGQy1cXHUzMEZGXFx1MzEwNS1cXHUzMTJEXFx1MzEzMS1cXHUzMThFXFx1MzFBMC1cXHUzMUJBXFx1MzFGMC1cXHUzMUZGXFx1MzQwMC1cXHU0REI1XFx1NEUwMC1cXHU5RkNDXFx1QTAwMC1cXHVBNDhDXFx1QTREMC1cXHVBNEZEXFx1QTUwMC1cXHVBNjBDXFx1QTYxMC1cXHVBNjFGXFx1QTYyQVxcdUE2MkJcXHVBNjQwLVxcdUE2NkVcXHVBNjdGLVxcdUE2OURcXHVBNkEwLVxcdUE2RUZcXHVBNzE3LVxcdUE3MUZcXHVBNzIyLVxcdUE3ODhcXHVBNzhCLVxcdUE3OEVcXHVBNzkwLVxcdUE3QURcXHVBN0IwXFx1QTdCMVxcdUE3RjctXFx1QTgwMVxcdUE4MDMtXFx1QTgwNVxcdUE4MDctXFx1QTgwQVxcdUE4MEMtXFx1QTgyMlxcdUE4NDAtXFx1QTg3M1xcdUE4ODItXFx1QThCM1xcdUE4RjItXFx1QThGN1xcdUE4RkJcXHVBOTBBLVxcdUE5MjVcXHVBOTMwLVxcdUE5NDZcXHVBOTYwLVxcdUE5N0NcXHVBOTg0LVxcdUE5QjJcXHVBOUNGXFx1QTlFMC1cXHVBOUU0XFx1QTlFNi1cXHVBOUVGXFx1QTlGQS1cXHVBOUZFXFx1QUEwMC1cXHVBQTI4XFx1QUE0MC1cXHVBQTQyXFx1QUE0NC1cXHVBQTRCXFx1QUE2MC1cXHVBQTc2XFx1QUE3QVxcdUFBN0UtXFx1QUFBRlxcdUFBQjFcXHVBQUI1XFx1QUFCNlxcdUFBQjktXFx1QUFCRFxcdUFBQzBcXHVBQUMyXFx1QUFEQi1cXHVBQUREXFx1QUFFMC1cXHVBQUVBXFx1QUFGMi1cXHVBQUY0XFx1QUIwMS1cXHVBQjA2XFx1QUIwOS1cXHVBQjBFXFx1QUIxMS1cXHVBQjE2XFx1QUIyMC1cXHVBQjI2XFx1QUIyOC1cXHVBQjJFXFx1QUIzMC1cXHVBQjVBXFx1QUI1Qy1cXHVBQjVGXFx1QUI2NFxcdUFCNjVcXHVBQkMwLVxcdUFCRTJcXHVBQzAwLVxcdUQ3QTNcXHVEN0IwLVxcdUQ3QzZcXHVEN0NCLVxcdUQ3RkJcXHVGOTAwLVxcdUZBNkRcXHVGQTcwLVxcdUZBRDlcXHVGQjAwLVxcdUZCMDZcXHVGQjEzLVxcdUZCMTdcXHVGQjFEXFx1RkIxRi1cXHVGQjI4XFx1RkIyQS1cXHVGQjM2XFx1RkIzOC1cXHVGQjNDXFx1RkIzRVxcdUZCNDBcXHVGQjQxXFx1RkI0M1xcdUZCNDRcXHVGQjQ2LVxcdUZCQjFcXHVGQkQzLVxcdUZEM0RcXHVGRDUwLVxcdUZEOEZcXHVGRDkyLVxcdUZEQzdcXHVGREYwLVxcdUZERkJcXHVGRTcwLVxcdUZFNzRcXHVGRTc2LVxcdUZFRkNcXHVGRjIxLVxcdUZGM0FcXHVGRjQxLVxcdUZGNUFcXHVGRjY2LVxcdUZGQkVcXHVGRkMyLVxcdUZGQzdcXHVGRkNBLVxcdUZGQ0ZcXHVGRkQyLVxcdUZGRDdcXHVGRkRBLVxcdUZGRENdfFxcdUQ4MDBbXFx1REMwMC1cXHVEQzBCXFx1REMwRC1cXHVEQzI2XFx1REMyOC1cXHVEQzNBXFx1REMzQ1xcdURDM0RcXHVEQzNGLVxcdURDNERcXHVEQzUwLVxcdURDNURcXHVEQzgwLVxcdURDRkFcXHVERDQwLVxcdURENzRcXHVERTgwLVxcdURFOUNcXHVERUEwLVxcdURFRDBcXHVERjAwLVxcdURGMUZcXHVERjMwLVxcdURGNEFcXHVERjUwLVxcdURGNzVcXHVERjgwLVxcdURGOURcXHVERkEwLVxcdURGQzNcXHVERkM4LVxcdURGQ0ZcXHVERkQxLVxcdURGRDVdfFxcdUQ4MDFbXFx1REMwMC1cXHVEQzlEXFx1REQwMC1cXHVERDI3XFx1REQzMC1cXHVERDYzXFx1REUwMC1cXHVERjM2XFx1REY0MC1cXHVERjU1XFx1REY2MC1cXHVERjY3XXxcXHVEODAyW1xcdURDMDAtXFx1REMwNVxcdURDMDhcXHVEQzBBLVxcdURDMzVcXHVEQzM3XFx1REMzOFxcdURDM0NcXHVEQzNGLVxcdURDNTVcXHVEQzYwLVxcdURDNzZcXHVEQzgwLVxcdURDOUVcXHVERDAwLVxcdUREMTVcXHVERDIwLVxcdUREMzlcXHVERDgwLVxcdUREQjdcXHVEREJFXFx1RERCRlxcdURFMDBcXHVERTEwLVxcdURFMTNcXHVERTE1LVxcdURFMTdcXHVERTE5LVxcdURFMzNcXHVERTYwLVxcdURFN0NcXHVERTgwLVxcdURFOUNcXHVERUMwLVxcdURFQzdcXHVERUM5LVxcdURFRTRcXHVERjAwLVxcdURGMzVcXHVERjQwLVxcdURGNTVcXHVERjYwLVxcdURGNzJcXHVERjgwLVxcdURGOTFdfFxcdUQ4MDNbXFx1REMwMC1cXHVEQzQ4XXxcXHVEODA0W1xcdURDMDMtXFx1REMzN1xcdURDODMtXFx1RENBRlxcdURDRDAtXFx1RENFOFxcdUREMDMtXFx1REQyNlxcdURENTAtXFx1REQ3MlxcdURENzZcXHVERDgzLVxcdUREQjJcXHVEREMxLVxcdUREQzRcXHVERERBXFx1REUwMC1cXHVERTExXFx1REUxMy1cXHVERTJCXFx1REVCMC1cXHVERURFXFx1REYwNS1cXHVERjBDXFx1REYwRlxcdURGMTBcXHVERjEzLVxcdURGMjhcXHVERjJBLVxcdURGMzBcXHVERjMyXFx1REYzM1xcdURGMzUtXFx1REYzOVxcdURGM0RcXHVERjVELVxcdURGNjFdfFxcdUQ4MDVbXFx1REM4MC1cXHVEQ0FGXFx1RENDNFxcdURDQzVcXHVEQ0M3XFx1REQ4MC1cXHVEREFFXFx1REUwMC1cXHVERTJGXFx1REU0NFxcdURFODAtXFx1REVBQV18XFx1RDgwNltcXHVEQ0EwLVxcdURDREZcXHVEQ0ZGXFx1REVDMC1cXHVERUY4XXxcXHVEODA4W1xcdURDMDAtXFx1REY5OF18XFx1RDgwOVtcXHVEQzAwLVxcdURDNkVdfFtcXHVEODBDXFx1RDg0MC1cXHVEODY4XFx1RDg2QS1cXHVEODZDXVtcXHVEQzAwLVxcdURGRkZdfFxcdUQ4MERbXFx1REMwMC1cXHVEQzJFXXxcXHVEODFBW1xcdURDMDAtXFx1REUzOFxcdURFNDAtXFx1REU1RVxcdURFRDAtXFx1REVFRFxcdURGMDAtXFx1REYyRlxcdURGNDAtXFx1REY0M1xcdURGNjMtXFx1REY3N1xcdURGN0QtXFx1REY4Rl18XFx1RDgxQltcXHVERjAwLVxcdURGNDRcXHVERjUwXFx1REY5My1cXHVERjlGXXxcXHVEODJDW1xcdURDMDBcXHVEQzAxXXxcXHVEODJGW1xcdURDMDAtXFx1REM2QVxcdURDNzAtXFx1REM3Q1xcdURDODAtXFx1REM4OFxcdURDOTAtXFx1REM5OV18XFx1RDgzNVtcXHVEQzAwLVxcdURDNTRcXHVEQzU2LVxcdURDOUNcXHVEQzlFXFx1REM5RlxcdURDQTJcXHVEQ0E1XFx1RENBNlxcdURDQTktXFx1RENBQ1xcdURDQUUtXFx1RENCOVxcdURDQkJcXHVEQ0JELVxcdURDQzNcXHVEQ0M1LVxcdUREMDVcXHVERDA3LVxcdUREMEFcXHVERDBELVxcdUREMTRcXHVERDE2LVxcdUREMUNcXHVERDFFLVxcdUREMzlcXHVERDNCLVxcdUREM0VcXHVERDQwLVxcdURENDRcXHVERDQ2XFx1REQ0QS1cXHVERDUwXFx1REQ1Mi1cXHVERUE1XFx1REVBOC1cXHVERUMwXFx1REVDMi1cXHVERURBXFx1REVEQy1cXHVERUZBXFx1REVGQy1cXHVERjE0XFx1REYxNi1cXHVERjM0XFx1REYzNi1cXHVERjRFXFx1REY1MC1cXHVERjZFXFx1REY3MC1cXHVERjg4XFx1REY4QS1cXHVERkE4XFx1REZBQS1cXHVERkMyXFx1REZDNC1cXHVERkNCXXxcXHVEODNBW1xcdURDMDAtXFx1RENDNF18XFx1RDgzQltcXHVERTAwLVxcdURFMDNcXHVERTA1LVxcdURFMUZcXHVERTIxXFx1REUyMlxcdURFMjRcXHVERTI3XFx1REUyOS1cXHVERTMyXFx1REUzNC1cXHVERTM3XFx1REUzOVxcdURFM0JcXHVERTQyXFx1REU0N1xcdURFNDlcXHVERTRCXFx1REU0RC1cXHVERTRGXFx1REU1MVxcdURFNTJcXHVERTU0XFx1REU1N1xcdURFNTlcXHVERTVCXFx1REU1RFxcdURFNUZcXHVERTYxXFx1REU2MlxcdURFNjRcXHVERTY3LVxcdURFNkFcXHVERTZDLVxcdURFNzJcXHVERTc0LVxcdURFNzdcXHVERTc5LVxcdURFN0NcXHVERTdFXFx1REU4MC1cXHVERTg5XFx1REU4Qi1cXHVERTlCXFx1REVBMS1cXHVERUEzXFx1REVBNS1cXHVERUE5XFx1REVBQi1cXHVERUJCXXxcXHVEODY5W1xcdURDMDAtXFx1REVENlxcdURGMDAtXFx1REZGRl18XFx1RDg2RFtcXHVEQzAwLVxcdURGMzRcXHVERjQwLVxcdURGRkZdfFxcdUQ4NkVbXFx1REMwMC1cXHVEQzFEXXxcXHVEODdFW1xcdURDMDAtXFx1REUxRF0vLFxuXG4gICAgICAgIC8vIEVDTUFTY3JpcHQgNi9Vbmljb2RlIHY3LjAuMCBOb25Bc2NpaUlkZW50aWZpZXJQYXJ0OlxuICAgICAgICBOb25Bc2NpaUlkZW50aWZpZXJQYXJ0OiAvW1xceEFBXFx4QjVcXHhCN1xceEJBXFx4QzAtXFx4RDZcXHhEOC1cXHhGNlxceEY4LVxcdTAyQzFcXHUwMkM2LVxcdTAyRDFcXHUwMkUwLVxcdTAyRTRcXHUwMkVDXFx1MDJFRVxcdTAzMDAtXFx1MDM3NFxcdTAzNzZcXHUwMzc3XFx1MDM3QS1cXHUwMzdEXFx1MDM3RlxcdTAzODYtXFx1MDM4QVxcdTAzOENcXHUwMzhFLVxcdTAzQTFcXHUwM0EzLVxcdTAzRjVcXHUwM0Y3LVxcdTA0ODFcXHUwNDgzLVxcdTA0ODdcXHUwNDhBLVxcdTA1MkZcXHUwNTMxLVxcdTA1NTZcXHUwNTU5XFx1MDU2MS1cXHUwNTg3XFx1MDU5MS1cXHUwNUJEXFx1MDVCRlxcdTA1QzFcXHUwNUMyXFx1MDVDNFxcdTA1QzVcXHUwNUM3XFx1MDVEMC1cXHUwNUVBXFx1MDVGMC1cXHUwNUYyXFx1MDYxMC1cXHUwNjFBXFx1MDYyMC1cXHUwNjY5XFx1MDY2RS1cXHUwNkQzXFx1MDZENS1cXHUwNkRDXFx1MDZERi1cXHUwNkU4XFx1MDZFQS1cXHUwNkZDXFx1MDZGRlxcdTA3MTAtXFx1MDc0QVxcdTA3NEQtXFx1MDdCMVxcdTA3QzAtXFx1MDdGNVxcdTA3RkFcXHUwODAwLVxcdTA4MkRcXHUwODQwLVxcdTA4NUJcXHUwOEEwLVxcdTA4QjJcXHUwOEU0LVxcdTA5NjNcXHUwOTY2LVxcdTA5NkZcXHUwOTcxLVxcdTA5ODNcXHUwOTg1LVxcdTA5OENcXHUwOThGXFx1MDk5MFxcdTA5OTMtXFx1MDlBOFxcdTA5QUEtXFx1MDlCMFxcdTA5QjJcXHUwOUI2LVxcdTA5QjlcXHUwOUJDLVxcdTA5QzRcXHUwOUM3XFx1MDlDOFxcdTA5Q0ItXFx1MDlDRVxcdTA5RDdcXHUwOURDXFx1MDlERFxcdTA5REYtXFx1MDlFM1xcdTA5RTYtXFx1MDlGMVxcdTBBMDEtXFx1MEEwM1xcdTBBMDUtXFx1MEEwQVxcdTBBMEZcXHUwQTEwXFx1MEExMy1cXHUwQTI4XFx1MEEyQS1cXHUwQTMwXFx1MEEzMlxcdTBBMzNcXHUwQTM1XFx1MEEzNlxcdTBBMzhcXHUwQTM5XFx1MEEzQ1xcdTBBM0UtXFx1MEE0MlxcdTBBNDdcXHUwQTQ4XFx1MEE0Qi1cXHUwQTREXFx1MEE1MVxcdTBBNTktXFx1MEE1Q1xcdTBBNUVcXHUwQTY2LVxcdTBBNzVcXHUwQTgxLVxcdTBBODNcXHUwQTg1LVxcdTBBOERcXHUwQThGLVxcdTBBOTFcXHUwQTkzLVxcdTBBQThcXHUwQUFBLVxcdTBBQjBcXHUwQUIyXFx1MEFCM1xcdTBBQjUtXFx1MEFCOVxcdTBBQkMtXFx1MEFDNVxcdTBBQzctXFx1MEFDOVxcdTBBQ0ItXFx1MEFDRFxcdTBBRDBcXHUwQUUwLVxcdTBBRTNcXHUwQUU2LVxcdTBBRUZcXHUwQjAxLVxcdTBCMDNcXHUwQjA1LVxcdTBCMENcXHUwQjBGXFx1MEIxMFxcdTBCMTMtXFx1MEIyOFxcdTBCMkEtXFx1MEIzMFxcdTBCMzJcXHUwQjMzXFx1MEIzNS1cXHUwQjM5XFx1MEIzQy1cXHUwQjQ0XFx1MEI0N1xcdTBCNDhcXHUwQjRCLVxcdTBCNERcXHUwQjU2XFx1MEI1N1xcdTBCNUNcXHUwQjVEXFx1MEI1Ri1cXHUwQjYzXFx1MEI2Ni1cXHUwQjZGXFx1MEI3MVxcdTBCODJcXHUwQjgzXFx1MEI4NS1cXHUwQjhBXFx1MEI4RS1cXHUwQjkwXFx1MEI5Mi1cXHUwQjk1XFx1MEI5OVxcdTBCOUFcXHUwQjlDXFx1MEI5RVxcdTBCOUZcXHUwQkEzXFx1MEJBNFxcdTBCQTgtXFx1MEJBQVxcdTBCQUUtXFx1MEJCOVxcdTBCQkUtXFx1MEJDMlxcdTBCQzYtXFx1MEJDOFxcdTBCQ0EtXFx1MEJDRFxcdTBCRDBcXHUwQkQ3XFx1MEJFNi1cXHUwQkVGXFx1MEMwMC1cXHUwQzAzXFx1MEMwNS1cXHUwQzBDXFx1MEMwRS1cXHUwQzEwXFx1MEMxMi1cXHUwQzI4XFx1MEMyQS1cXHUwQzM5XFx1MEMzRC1cXHUwQzQ0XFx1MEM0Ni1cXHUwQzQ4XFx1MEM0QS1cXHUwQzREXFx1MEM1NVxcdTBDNTZcXHUwQzU4XFx1MEM1OVxcdTBDNjAtXFx1MEM2M1xcdTBDNjYtXFx1MEM2RlxcdTBDODEtXFx1MEM4M1xcdTBDODUtXFx1MEM4Q1xcdTBDOEUtXFx1MEM5MFxcdTBDOTItXFx1MENBOFxcdTBDQUEtXFx1MENCM1xcdTBDQjUtXFx1MENCOVxcdTBDQkMtXFx1MENDNFxcdTBDQzYtXFx1MENDOFxcdTBDQ0EtXFx1MENDRFxcdTBDRDVcXHUwQ0Q2XFx1MENERVxcdTBDRTAtXFx1MENFM1xcdTBDRTYtXFx1MENFRlxcdTBDRjFcXHUwQ0YyXFx1MEQwMS1cXHUwRDAzXFx1MEQwNS1cXHUwRDBDXFx1MEQwRS1cXHUwRDEwXFx1MEQxMi1cXHUwRDNBXFx1MEQzRC1cXHUwRDQ0XFx1MEQ0Ni1cXHUwRDQ4XFx1MEQ0QS1cXHUwRDRFXFx1MEQ1N1xcdTBENjAtXFx1MEQ2M1xcdTBENjYtXFx1MEQ2RlxcdTBEN0EtXFx1MEQ3RlxcdTBEODJcXHUwRDgzXFx1MEQ4NS1cXHUwRDk2XFx1MEQ5QS1cXHUwREIxXFx1MERCMy1cXHUwREJCXFx1MERCRFxcdTBEQzAtXFx1MERDNlxcdTBEQ0FcXHUwRENGLVxcdTBERDRcXHUwREQ2XFx1MEREOC1cXHUwRERGXFx1MERFNi1cXHUwREVGXFx1MERGMlxcdTBERjNcXHUwRTAxLVxcdTBFM0FcXHUwRTQwLVxcdTBFNEVcXHUwRTUwLVxcdTBFNTlcXHUwRTgxXFx1MEU4MlxcdTBFODRcXHUwRTg3XFx1MEU4OFxcdTBFOEFcXHUwRThEXFx1MEU5NC1cXHUwRTk3XFx1MEU5OS1cXHUwRTlGXFx1MEVBMS1cXHUwRUEzXFx1MEVBNVxcdTBFQTdcXHUwRUFBXFx1MEVBQlxcdTBFQUQtXFx1MEVCOVxcdTBFQkItXFx1MEVCRFxcdTBFQzAtXFx1MEVDNFxcdTBFQzZcXHUwRUM4LVxcdTBFQ0RcXHUwRUQwLVxcdTBFRDlcXHUwRURDLVxcdTBFREZcXHUwRjAwXFx1MEYxOFxcdTBGMTlcXHUwRjIwLVxcdTBGMjlcXHUwRjM1XFx1MEYzN1xcdTBGMzlcXHUwRjNFLVxcdTBGNDdcXHUwRjQ5LVxcdTBGNkNcXHUwRjcxLVxcdTBGODRcXHUwRjg2LVxcdTBGOTdcXHUwRjk5LVxcdTBGQkNcXHUwRkM2XFx1MTAwMC1cXHUxMDQ5XFx1MTA1MC1cXHUxMDlEXFx1MTBBMC1cXHUxMEM1XFx1MTBDN1xcdTEwQ0RcXHUxMEQwLVxcdTEwRkFcXHUxMEZDLVxcdTEyNDhcXHUxMjRBLVxcdTEyNERcXHUxMjUwLVxcdTEyNTZcXHUxMjU4XFx1MTI1QS1cXHUxMjVEXFx1MTI2MC1cXHUxMjg4XFx1MTI4QS1cXHUxMjhEXFx1MTI5MC1cXHUxMkIwXFx1MTJCMi1cXHUxMkI1XFx1MTJCOC1cXHUxMkJFXFx1MTJDMFxcdTEyQzItXFx1MTJDNVxcdTEyQzgtXFx1MTJENlxcdTEyRDgtXFx1MTMxMFxcdTEzMTItXFx1MTMxNVxcdTEzMTgtXFx1MTM1QVxcdTEzNUQtXFx1MTM1RlxcdTEzNjktXFx1MTM3MVxcdTEzODAtXFx1MTM4RlxcdTEzQTAtXFx1MTNGNFxcdTE0MDEtXFx1MTY2Q1xcdTE2NkYtXFx1MTY3RlxcdTE2ODEtXFx1MTY5QVxcdTE2QTAtXFx1MTZFQVxcdTE2RUUtXFx1MTZGOFxcdTE3MDAtXFx1MTcwQ1xcdTE3MEUtXFx1MTcxNFxcdTE3MjAtXFx1MTczNFxcdTE3NDAtXFx1MTc1M1xcdTE3NjAtXFx1MTc2Q1xcdTE3NkUtXFx1MTc3MFxcdTE3NzJcXHUxNzczXFx1MTc4MC1cXHUxN0QzXFx1MTdEN1xcdTE3RENcXHUxN0REXFx1MTdFMC1cXHUxN0U5XFx1MTgwQi1cXHUxODBEXFx1MTgxMC1cXHUxODE5XFx1MTgyMC1cXHUxODc3XFx1MTg4MC1cXHUxOEFBXFx1MThCMC1cXHUxOEY1XFx1MTkwMC1cXHUxOTFFXFx1MTkyMC1cXHUxOTJCXFx1MTkzMC1cXHUxOTNCXFx1MTk0Ni1cXHUxOTZEXFx1MTk3MC1cXHUxOTc0XFx1MTk4MC1cXHUxOUFCXFx1MTlCMC1cXHUxOUM5XFx1MTlEMC1cXHUxOURBXFx1MUEwMC1cXHUxQTFCXFx1MUEyMC1cXHUxQTVFXFx1MUE2MC1cXHUxQTdDXFx1MUE3Ri1cXHUxQTg5XFx1MUE5MC1cXHUxQTk5XFx1MUFBN1xcdTFBQjAtXFx1MUFCRFxcdTFCMDAtXFx1MUI0QlxcdTFCNTAtXFx1MUI1OVxcdTFCNkItXFx1MUI3M1xcdTFCODAtXFx1MUJGM1xcdTFDMDAtXFx1MUMzN1xcdTFDNDAtXFx1MUM0OVxcdTFDNEQtXFx1MUM3RFxcdTFDRDAtXFx1MUNEMlxcdTFDRDQtXFx1MUNGNlxcdTFDRjhcXHUxQ0Y5XFx1MUQwMC1cXHUxREY1XFx1MURGQy1cXHUxRjE1XFx1MUYxOC1cXHUxRjFEXFx1MUYyMC1cXHUxRjQ1XFx1MUY0OC1cXHUxRjREXFx1MUY1MC1cXHUxRjU3XFx1MUY1OVxcdTFGNUJcXHUxRjVEXFx1MUY1Ri1cXHUxRjdEXFx1MUY4MC1cXHUxRkI0XFx1MUZCNi1cXHUxRkJDXFx1MUZCRVxcdTFGQzItXFx1MUZDNFxcdTFGQzYtXFx1MUZDQ1xcdTFGRDAtXFx1MUZEM1xcdTFGRDYtXFx1MUZEQlxcdTFGRTAtXFx1MUZFQ1xcdTFGRjItXFx1MUZGNFxcdTFGRjYtXFx1MUZGQ1xcdTIwMENcXHUyMDBEXFx1MjAzRlxcdTIwNDBcXHUyMDU0XFx1MjA3MVxcdTIwN0ZcXHUyMDkwLVxcdTIwOUNcXHUyMEQwLVxcdTIwRENcXHUyMEUxXFx1MjBFNS1cXHUyMEYwXFx1MjEwMlxcdTIxMDdcXHUyMTBBLVxcdTIxMTNcXHUyMTE1XFx1MjExOC1cXHUyMTFEXFx1MjEyNFxcdTIxMjZcXHUyMTI4XFx1MjEyQS1cXHUyMTM5XFx1MjEzQy1cXHUyMTNGXFx1MjE0NS1cXHUyMTQ5XFx1MjE0RVxcdTIxNjAtXFx1MjE4OFxcdTJDMDAtXFx1MkMyRVxcdTJDMzAtXFx1MkM1RVxcdTJDNjAtXFx1MkNFNFxcdTJDRUItXFx1MkNGM1xcdTJEMDAtXFx1MkQyNVxcdTJEMjdcXHUyRDJEXFx1MkQzMC1cXHUyRDY3XFx1MkQ2RlxcdTJEN0YtXFx1MkQ5NlxcdTJEQTAtXFx1MkRBNlxcdTJEQTgtXFx1MkRBRVxcdTJEQjAtXFx1MkRCNlxcdTJEQjgtXFx1MkRCRVxcdTJEQzAtXFx1MkRDNlxcdTJEQzgtXFx1MkRDRVxcdTJERDAtXFx1MkRENlxcdTJERDgtXFx1MkRERVxcdTJERTAtXFx1MkRGRlxcdTMwMDUtXFx1MzAwN1xcdTMwMjEtXFx1MzAyRlxcdTMwMzEtXFx1MzAzNVxcdTMwMzgtXFx1MzAzQ1xcdTMwNDEtXFx1MzA5NlxcdTMwOTktXFx1MzA5RlxcdTMwQTEtXFx1MzBGQVxcdTMwRkMtXFx1MzBGRlxcdTMxMDUtXFx1MzEyRFxcdTMxMzEtXFx1MzE4RVxcdTMxQTAtXFx1MzFCQVxcdTMxRjAtXFx1MzFGRlxcdTM0MDAtXFx1NERCNVxcdTRFMDAtXFx1OUZDQ1xcdUEwMDAtXFx1QTQ4Q1xcdUE0RDAtXFx1QTRGRFxcdUE1MDAtXFx1QTYwQ1xcdUE2MTAtXFx1QTYyQlxcdUE2NDAtXFx1QTY2RlxcdUE2NzQtXFx1QTY3RFxcdUE2N0YtXFx1QTY5RFxcdUE2OUYtXFx1QTZGMVxcdUE3MTctXFx1QTcxRlxcdUE3MjItXFx1QTc4OFxcdUE3OEItXFx1QTc4RVxcdUE3OTAtXFx1QTdBRFxcdUE3QjBcXHVBN0IxXFx1QTdGNy1cXHVBODI3XFx1QTg0MC1cXHVBODczXFx1QTg4MC1cXHVBOEM0XFx1QThEMC1cXHVBOEQ5XFx1QThFMC1cXHVBOEY3XFx1QThGQlxcdUE5MDAtXFx1QTkyRFxcdUE5MzAtXFx1QTk1M1xcdUE5NjAtXFx1QTk3Q1xcdUE5ODAtXFx1QTlDMFxcdUE5Q0YtXFx1QTlEOVxcdUE5RTAtXFx1QTlGRVxcdUFBMDAtXFx1QUEzNlxcdUFBNDAtXFx1QUE0RFxcdUFBNTAtXFx1QUE1OVxcdUFBNjAtXFx1QUE3NlxcdUFBN0EtXFx1QUFDMlxcdUFBREItXFx1QUFERFxcdUFBRTAtXFx1QUFFRlxcdUFBRjItXFx1QUFGNlxcdUFCMDEtXFx1QUIwNlxcdUFCMDktXFx1QUIwRVxcdUFCMTEtXFx1QUIxNlxcdUFCMjAtXFx1QUIyNlxcdUFCMjgtXFx1QUIyRVxcdUFCMzAtXFx1QUI1QVxcdUFCNUMtXFx1QUI1RlxcdUFCNjRcXHVBQjY1XFx1QUJDMC1cXHVBQkVBXFx1QUJFQ1xcdUFCRURcXHVBQkYwLVxcdUFCRjlcXHVBQzAwLVxcdUQ3QTNcXHVEN0IwLVxcdUQ3QzZcXHVEN0NCLVxcdUQ3RkJcXHVGOTAwLVxcdUZBNkRcXHVGQTcwLVxcdUZBRDlcXHVGQjAwLVxcdUZCMDZcXHVGQjEzLVxcdUZCMTdcXHVGQjFELVxcdUZCMjhcXHVGQjJBLVxcdUZCMzZcXHVGQjM4LVxcdUZCM0NcXHVGQjNFXFx1RkI0MFxcdUZCNDFcXHVGQjQzXFx1RkI0NFxcdUZCNDYtXFx1RkJCMVxcdUZCRDMtXFx1RkQzRFxcdUZENTAtXFx1RkQ4RlxcdUZEOTItXFx1RkRDN1xcdUZERjAtXFx1RkRGQlxcdUZFMDAtXFx1RkUwRlxcdUZFMjAtXFx1RkUyRFxcdUZFMzNcXHVGRTM0XFx1RkU0RC1cXHVGRTRGXFx1RkU3MC1cXHVGRTc0XFx1RkU3Ni1cXHVGRUZDXFx1RkYxMC1cXHVGRjE5XFx1RkYyMS1cXHVGRjNBXFx1RkYzRlxcdUZGNDEtXFx1RkY1QVxcdUZGNjYtXFx1RkZCRVxcdUZGQzItXFx1RkZDN1xcdUZGQ0EtXFx1RkZDRlxcdUZGRDItXFx1RkZEN1xcdUZGREEtXFx1RkZEQ118XFx1RDgwMFtcXHVEQzAwLVxcdURDMEJcXHVEQzBELVxcdURDMjZcXHVEQzI4LVxcdURDM0FcXHVEQzNDXFx1REMzRFxcdURDM0YtXFx1REM0RFxcdURDNTAtXFx1REM1RFxcdURDODAtXFx1RENGQVxcdURENDAtXFx1REQ3NFxcdURERkRcXHVERTgwLVxcdURFOUNcXHVERUEwLVxcdURFRDBcXHVERUUwXFx1REYwMC1cXHVERjFGXFx1REYzMC1cXHVERjRBXFx1REY1MC1cXHVERjdBXFx1REY4MC1cXHVERjlEXFx1REZBMC1cXHVERkMzXFx1REZDOC1cXHVERkNGXFx1REZEMS1cXHVERkQ1XXxcXHVEODAxW1xcdURDMDAtXFx1REM5RFxcdURDQTAtXFx1RENBOVxcdUREMDAtXFx1REQyN1xcdUREMzAtXFx1REQ2M1xcdURFMDAtXFx1REYzNlxcdURGNDAtXFx1REY1NVxcdURGNjAtXFx1REY2N118XFx1RDgwMltcXHVEQzAwLVxcdURDMDVcXHVEQzA4XFx1REMwQS1cXHVEQzM1XFx1REMzN1xcdURDMzhcXHVEQzNDXFx1REMzRi1cXHVEQzU1XFx1REM2MC1cXHVEQzc2XFx1REM4MC1cXHVEQzlFXFx1REQwMC1cXHVERDE1XFx1REQyMC1cXHVERDM5XFx1REQ4MC1cXHVEREI3XFx1RERCRVxcdUREQkZcXHVERTAwLVxcdURFMDNcXHVERTA1XFx1REUwNlxcdURFMEMtXFx1REUxM1xcdURFMTUtXFx1REUxN1xcdURFMTktXFx1REUzM1xcdURFMzgtXFx1REUzQVxcdURFM0ZcXHVERTYwLVxcdURFN0NcXHVERTgwLVxcdURFOUNcXHVERUMwLVxcdURFQzdcXHVERUM5LVxcdURFRTZcXHVERjAwLVxcdURGMzVcXHVERjQwLVxcdURGNTVcXHVERjYwLVxcdURGNzJcXHVERjgwLVxcdURGOTFdfFxcdUQ4MDNbXFx1REMwMC1cXHVEQzQ4XXxcXHVEODA0W1xcdURDMDAtXFx1REM0NlxcdURDNjYtXFx1REM2RlxcdURDN0YtXFx1RENCQVxcdURDRDAtXFx1RENFOFxcdURDRjAtXFx1RENGOVxcdUREMDAtXFx1REQzNFxcdUREMzYtXFx1REQzRlxcdURENTAtXFx1REQ3M1xcdURENzZcXHVERDgwLVxcdUREQzRcXHVEREQwLVxcdUREREFcXHVERTAwLVxcdURFMTFcXHVERTEzLVxcdURFMzdcXHVERUIwLVxcdURFRUFcXHVERUYwLVxcdURFRjlcXHVERjAxLVxcdURGMDNcXHVERjA1LVxcdURGMENcXHVERjBGXFx1REYxMFxcdURGMTMtXFx1REYyOFxcdURGMkEtXFx1REYzMFxcdURGMzJcXHVERjMzXFx1REYzNS1cXHVERjM5XFx1REYzQy1cXHVERjQ0XFx1REY0N1xcdURGNDhcXHVERjRCLVxcdURGNERcXHVERjU3XFx1REY1RC1cXHVERjYzXFx1REY2Ni1cXHVERjZDXFx1REY3MC1cXHVERjc0XXxcXHVEODA1W1xcdURDODAtXFx1RENDNVxcdURDQzdcXHVEQ0QwLVxcdURDRDlcXHVERDgwLVxcdUREQjVcXHVEREI4LVxcdUREQzBcXHVERTAwLVxcdURFNDBcXHVERTQ0XFx1REU1MC1cXHVERTU5XFx1REU4MC1cXHVERUI3XFx1REVDMC1cXHVERUM5XXxcXHVEODA2W1xcdURDQTAtXFx1RENFOVxcdURDRkZcXHVERUMwLVxcdURFRjhdfFxcdUQ4MDhbXFx1REMwMC1cXHVERjk4XXxcXHVEODA5W1xcdURDMDAtXFx1REM2RV18W1xcdUQ4MENcXHVEODQwLVxcdUQ4NjhcXHVEODZBLVxcdUQ4NkNdW1xcdURDMDAtXFx1REZGRl18XFx1RDgwRFtcXHVEQzAwLVxcdURDMkVdfFxcdUQ4MUFbXFx1REMwMC1cXHVERTM4XFx1REU0MC1cXHVERTVFXFx1REU2MC1cXHVERTY5XFx1REVEMC1cXHVERUVEXFx1REVGMC1cXHVERUY0XFx1REYwMC1cXHVERjM2XFx1REY0MC1cXHVERjQzXFx1REY1MC1cXHVERjU5XFx1REY2My1cXHVERjc3XFx1REY3RC1cXHVERjhGXXxcXHVEODFCW1xcdURGMDAtXFx1REY0NFxcdURGNTAtXFx1REY3RVxcdURGOEYtXFx1REY5Rl18XFx1RDgyQ1tcXHVEQzAwXFx1REMwMV18XFx1RDgyRltcXHVEQzAwLVxcdURDNkFcXHVEQzcwLVxcdURDN0NcXHVEQzgwLVxcdURDODhcXHVEQzkwLVxcdURDOTlcXHVEQzlEXFx1REM5RV18XFx1RDgzNFtcXHVERDY1LVxcdURENjlcXHVERDZELVxcdURENzJcXHVERDdCLVxcdUREODJcXHVERDg1LVxcdUREOEJcXHVEREFBLVxcdUREQURcXHVERTQyLVxcdURFNDRdfFxcdUQ4MzVbXFx1REMwMC1cXHVEQzU0XFx1REM1Ni1cXHVEQzlDXFx1REM5RVxcdURDOUZcXHVEQ0EyXFx1RENBNVxcdURDQTZcXHVEQ0E5LVxcdURDQUNcXHVEQ0FFLVxcdURDQjlcXHVEQ0JCXFx1RENCRC1cXHVEQ0MzXFx1RENDNS1cXHVERDA1XFx1REQwNy1cXHVERDBBXFx1REQwRC1cXHVERDE0XFx1REQxNi1cXHVERDFDXFx1REQxRS1cXHVERDM5XFx1REQzQi1cXHVERDNFXFx1REQ0MC1cXHVERDQ0XFx1REQ0NlxcdURENEEtXFx1REQ1MFxcdURENTItXFx1REVBNVxcdURFQTgtXFx1REVDMFxcdURFQzItXFx1REVEQVxcdURFREMtXFx1REVGQVxcdURFRkMtXFx1REYxNFxcdURGMTYtXFx1REYzNFxcdURGMzYtXFx1REY0RVxcdURGNTAtXFx1REY2RVxcdURGNzAtXFx1REY4OFxcdURGOEEtXFx1REZBOFxcdURGQUEtXFx1REZDMlxcdURGQzQtXFx1REZDQlxcdURGQ0UtXFx1REZGRl18XFx1RDgzQVtcXHVEQzAwLVxcdURDQzRcXHVEQ0QwLVxcdURDRDZdfFxcdUQ4M0JbXFx1REUwMC1cXHVERTAzXFx1REUwNS1cXHVERTFGXFx1REUyMVxcdURFMjJcXHVERTI0XFx1REUyN1xcdURFMjktXFx1REUzMlxcdURFMzQtXFx1REUzN1xcdURFMzlcXHVERTNCXFx1REU0MlxcdURFNDdcXHVERTQ5XFx1REU0QlxcdURFNEQtXFx1REU0RlxcdURFNTFcXHVERTUyXFx1REU1NFxcdURFNTdcXHVERTU5XFx1REU1QlxcdURFNURcXHVERTVGXFx1REU2MVxcdURFNjJcXHVERTY0XFx1REU2Ny1cXHVERTZBXFx1REU2Qy1cXHVERTcyXFx1REU3NC1cXHVERTc3XFx1REU3OS1cXHVERTdDXFx1REU3RVxcdURFODAtXFx1REU4OVxcdURFOEItXFx1REU5QlxcdURFQTEtXFx1REVBM1xcdURFQTUtXFx1REVBOVxcdURFQUItXFx1REVCQl18XFx1RDg2OVtcXHVEQzAwLVxcdURFRDZcXHVERjAwLVxcdURGRkZdfFxcdUQ4NkRbXFx1REMwMC1cXHVERjM0XFx1REY0MC1cXHVERkZGXXxcXHVEODZFW1xcdURDMDAtXFx1REMxRF18XFx1RDg3RVtcXHVEQzAwLVxcdURFMURdfFxcdURCNDBbXFx1REQwMC1cXHVEREVGXS9cbiAgICB9O1xuXG4gICAgLy8gRW5zdXJlIHRoZSBjb25kaXRpb24gaXMgdHJ1ZSwgb3RoZXJ3aXNlIHRocm93IGFuIGVycm9yLlxuICAgIC8vIFRoaXMgaXMgb25seSB0byBoYXZlIGEgYmV0dGVyIGNvbnRyYWN0IHNlbWFudGljLCBpLmUuIGFub3RoZXIgc2FmZXR5IG5ldFxuICAgIC8vIHRvIGNhdGNoIGEgbG9naWMgZXJyb3IuIFRoZSBjb25kaXRpb24gc2hhbGwgYmUgZnVsZmlsbGVkIGluIG5vcm1hbCBjYXNlLlxuICAgIC8vIERvIE5PVCB1c2UgdGhpcyB0byBlbmZvcmNlIGEgY2VydGFpbiBjb25kaXRpb24gb24gYW55IHVzZXIgaW5wdXQuXG5cbiAgICBmdW5jdGlvbiBhc3NlcnQoY29uZGl0aW9uLCBtZXNzYWdlKSB7XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICBpZiAoIWNvbmRpdGlvbikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBU1NFUlQ6ICcgKyBtZXNzYWdlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzRGVjaW1hbERpZ2l0KGNoKSB7XG4gICAgICAgIHJldHVybiAoY2ggPj0gMHgzMCAmJiBjaCA8PSAweDM5KTsgICAvLyAwLi45XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNIZXhEaWdpdChjaCkge1xuICAgICAgICByZXR1cm4gJzAxMjM0NTY3ODlhYmNkZWZBQkNERUYnLmluZGV4T2YoY2gpID49IDA7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNPY3RhbERpZ2l0KGNoKSB7XG4gICAgICAgIHJldHVybiAnMDEyMzQ1NjcnLmluZGV4T2YoY2gpID49IDA7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb2N0YWxUb0RlY2ltYWwoY2gpIHtcbiAgICAgICAgLy8gXFwwIGlzIG5vdCBvY3RhbCBlc2NhcGUgc2VxdWVuY2VcbiAgICAgICAgdmFyIG9jdGFsID0gKGNoICE9PSAnMCcpLCBjb2RlID0gJzAxMjM0NTY3Jy5pbmRleE9mKGNoKTtcblxuICAgICAgICBpZiAoaW5kZXggPCBsZW5ndGggJiYgaXNPY3RhbERpZ2l0KHNvdXJjZVtpbmRleF0pKSB7XG4gICAgICAgICAgICBvY3RhbCA9IHRydWU7XG4gICAgICAgICAgICBjb2RlID0gY29kZSAqIDggKyAnMDEyMzQ1NjcnLmluZGV4T2Yoc291cmNlW2luZGV4KytdKTtcblxuICAgICAgICAgICAgLy8gMyBkaWdpdHMgYXJlIG9ubHkgYWxsb3dlZCB3aGVuIHN0cmluZyBzdGFydHNcbiAgICAgICAgICAgIC8vIHdpdGggMCwgMSwgMiwgM1xuICAgICAgICAgICAgaWYgKCcwMTIzJy5pbmRleE9mKGNoKSA+PSAwICYmXG4gICAgICAgICAgICAgICAgICAgIGluZGV4IDwgbGVuZ3RoICYmXG4gICAgICAgICAgICAgICAgICAgIGlzT2N0YWxEaWdpdChzb3VyY2VbaW5kZXhdKSkge1xuICAgICAgICAgICAgICAgIGNvZGUgPSBjb2RlICogOCArICcwMTIzNDU2NycuaW5kZXhPZihzb3VyY2VbaW5kZXgrK10pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGNvZGU6IGNvZGUsXG4gICAgICAgICAgICBvY3RhbDogb2N0YWxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBFQ01BLTI2MiAxMS4yIFdoaXRlIFNwYWNlXG5cbiAgICBmdW5jdGlvbiBpc1doaXRlU3BhY2UoY2gpIHtcbiAgICAgICAgcmV0dXJuIChjaCA9PT0gMHgyMCkgfHwgKGNoID09PSAweDA5KSB8fCAoY2ggPT09IDB4MEIpIHx8IChjaCA9PT0gMHgwQykgfHwgKGNoID09PSAweEEwKSB8fFxuICAgICAgICAgICAgKGNoID49IDB4MTY4MCAmJiBbMHgxNjgwLCAweDE4MEUsIDB4MjAwMCwgMHgyMDAxLCAweDIwMDIsIDB4MjAwMywgMHgyMDA0LCAweDIwMDUsIDB4MjAwNiwgMHgyMDA3LCAweDIwMDgsIDB4MjAwOSwgMHgyMDBBLCAweDIwMkYsIDB4MjA1RiwgMHgzMDAwLCAweEZFRkZdLmluZGV4T2YoY2gpID49IDApO1xuICAgIH1cblxuICAgIC8vIEVDTUEtMjYyIDExLjMgTGluZSBUZXJtaW5hdG9yc1xuXG4gICAgZnVuY3Rpb24gaXNMaW5lVGVybWluYXRvcihjaCkge1xuICAgICAgICByZXR1cm4gKGNoID09PSAweDBBKSB8fCAoY2ggPT09IDB4MEQpIHx8IChjaCA9PT0gMHgyMDI4KSB8fCAoY2ggPT09IDB4MjAyOSk7XG4gICAgfVxuXG4gICAgLy8gRUNNQS0yNjIgMTEuNiBJZGVudGlmaWVyIE5hbWVzIGFuZCBJZGVudGlmaWVyc1xuXG4gICAgZnVuY3Rpb24gZnJvbUNvZGVQb2ludChjcCkge1xuICAgICAgICByZXR1cm4gKGNwIDwgMHgxMDAwMCkgPyBTdHJpbmcuZnJvbUNoYXJDb2RlKGNwKSA6XG4gICAgICAgICAgICBTdHJpbmcuZnJvbUNoYXJDb2RlKDB4RDgwMCArICgoY3AgLSAweDEwMDAwKSA+PiAxMCkpICtcbiAgICAgICAgICAgIFN0cmluZy5mcm9tQ2hhckNvZGUoMHhEQzAwICsgKChjcCAtIDB4MTAwMDApICYgMTAyMykpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzSWRlbnRpZmllclN0YXJ0KGNoKSB7XG4gICAgICAgIHJldHVybiAoY2ggPT09IDB4MjQpIHx8IChjaCA9PT0gMHg1RikgfHwgIC8vICQgKGRvbGxhcikgYW5kIF8gKHVuZGVyc2NvcmUpXG4gICAgICAgICAgICAoY2ggPj0gMHg0MSAmJiBjaCA8PSAweDVBKSB8fCAgICAgICAgIC8vIEEuLlpcbiAgICAgICAgICAgIChjaCA+PSAweDYxICYmIGNoIDw9IDB4N0EpIHx8ICAgICAgICAgLy8gYS4uelxuICAgICAgICAgICAgKGNoID09PSAweDVDKSB8fCAgICAgICAgICAgICAgICAgICAgICAvLyBcXCAoYmFja3NsYXNoKVxuICAgICAgICAgICAgKChjaCA+PSAweDgwKSAmJiBSZWdleC5Ob25Bc2NpaUlkZW50aWZpZXJTdGFydC50ZXN0KGZyb21Db2RlUG9pbnQoY2gpKSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNJZGVudGlmaWVyUGFydChjaCkge1xuICAgICAgICByZXR1cm4gKGNoID09PSAweDI0KSB8fCAoY2ggPT09IDB4NUYpIHx8ICAvLyAkIChkb2xsYXIpIGFuZCBfICh1bmRlcnNjb3JlKVxuICAgICAgICAgICAgKGNoID49IDB4NDEgJiYgY2ggPD0gMHg1QSkgfHwgICAgICAgICAvLyBBLi5aXG4gICAgICAgICAgICAoY2ggPj0gMHg2MSAmJiBjaCA8PSAweDdBKSB8fCAgICAgICAgIC8vIGEuLnpcbiAgICAgICAgICAgIChjaCA+PSAweDMwICYmIGNoIDw9IDB4MzkpIHx8ICAgICAgICAgLy8gMC4uOVxuICAgICAgICAgICAgKGNoID09PSAweDVDKSB8fCAgICAgICAgICAgICAgICAgICAgICAvLyBcXCAoYmFja3NsYXNoKVxuICAgICAgICAgICAgKChjaCA+PSAweDgwKSAmJiBSZWdleC5Ob25Bc2NpaUlkZW50aWZpZXJQYXJ0LnRlc3QoZnJvbUNvZGVQb2ludChjaCkpKTtcbiAgICB9XG5cbiAgICAvLyBFQ01BLTI2MiAxMS42LjIuMiBGdXR1cmUgUmVzZXJ2ZWQgV29yZHNcblxuICAgIGZ1bmN0aW9uIGlzRnV0dXJlUmVzZXJ2ZWRXb3JkKGlkKSB7XG4gICAgICAgIHN3aXRjaCAoaWQpIHtcbiAgICAgICAgY2FzZSAnZW51bSc6XG4gICAgICAgIGNhc2UgJ2V4cG9ydCc6XG4gICAgICAgIGNhc2UgJ2ltcG9ydCc6XG4gICAgICAgIGNhc2UgJ3N1cGVyJzpcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNTdHJpY3RNb2RlUmVzZXJ2ZWRXb3JkKGlkKSB7XG4gICAgICAgIHN3aXRjaCAoaWQpIHtcbiAgICAgICAgY2FzZSAnaW1wbGVtZW50cyc6XG4gICAgICAgIGNhc2UgJ2ludGVyZmFjZSc6XG4gICAgICAgIGNhc2UgJ3BhY2thZ2UnOlxuICAgICAgICBjYXNlICdwcml2YXRlJzpcbiAgICAgICAgY2FzZSAncHJvdGVjdGVkJzpcbiAgICAgICAgY2FzZSAncHVibGljJzpcbiAgICAgICAgY2FzZSAnc3RhdGljJzpcbiAgICAgICAgY2FzZSAneWllbGQnOlxuICAgICAgICBjYXNlICdsZXQnOlxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc1Jlc3RyaWN0ZWRXb3JkKGlkKSB7XG4gICAgICAgIHJldHVybiBpZCA9PT0gJ2V2YWwnIHx8IGlkID09PSAnYXJndW1lbnRzJztcbiAgICB9XG5cbiAgICAvLyBFQ01BLTI2MiAxMS42LjIuMSBLZXl3b3Jkc1xuXG4gICAgZnVuY3Rpb24gaXNLZXl3b3JkKGlkKSB7XG4gICAgICAgIHN3aXRjaCAoaWQubGVuZ3RoKSB7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgIHJldHVybiAoaWQgPT09ICdpZicpIHx8IChpZCA9PT0gJ2luJykgfHwgKGlkID09PSAnZG8nKTtcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgcmV0dXJuIChpZCA9PT0gJ3ZhcicpIHx8IChpZCA9PT0gJ2ZvcicpIHx8IChpZCA9PT0gJ25ldycpIHx8XG4gICAgICAgICAgICAgICAgKGlkID09PSAndHJ5JykgfHwgKGlkID09PSAnbGV0Jyk7XG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgIHJldHVybiAoaWQgPT09ICd0aGlzJykgfHwgKGlkID09PSAnZWxzZScpIHx8IChpZCA9PT0gJ2Nhc2UnKSB8fFxuICAgICAgICAgICAgICAgIChpZCA9PT0gJ3ZvaWQnKSB8fCAoaWQgPT09ICd3aXRoJykgfHwgKGlkID09PSAnZW51bScpO1xuICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICByZXR1cm4gKGlkID09PSAnd2hpbGUnKSB8fCAoaWQgPT09ICdicmVhaycpIHx8IChpZCA9PT0gJ2NhdGNoJykgfHxcbiAgICAgICAgICAgICAgICAoaWQgPT09ICd0aHJvdycpIHx8IChpZCA9PT0gJ2NvbnN0JykgfHwgKGlkID09PSAneWllbGQnKSB8fFxuICAgICAgICAgICAgICAgIChpZCA9PT0gJ2NsYXNzJykgfHwgKGlkID09PSAnc3VwZXInKTtcbiAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgcmV0dXJuIChpZCA9PT0gJ3JldHVybicpIHx8IChpZCA9PT0gJ3R5cGVvZicpIHx8IChpZCA9PT0gJ2RlbGV0ZScpIHx8XG4gICAgICAgICAgICAgICAgKGlkID09PSAnc3dpdGNoJykgfHwgKGlkID09PSAnZXhwb3J0JykgfHwgKGlkID09PSAnaW1wb3J0Jyk7XG4gICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgIHJldHVybiAoaWQgPT09ICdkZWZhdWx0JykgfHwgKGlkID09PSAnZmluYWxseScpIHx8IChpZCA9PT0gJ2V4dGVuZHMnKTtcbiAgICAgICAgY2FzZSA4OlxuICAgICAgICAgICAgcmV0dXJuIChpZCA9PT0gJ2Z1bmN0aW9uJykgfHwgKGlkID09PSAnY29udGludWUnKSB8fCAoaWQgPT09ICdkZWJ1Z2dlcicpO1xuICAgICAgICBjYXNlIDEwOlxuICAgICAgICAgICAgcmV0dXJuIChpZCA9PT0gJ2luc3RhbmNlb2YnKTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIEVDTUEtMjYyIDExLjQgQ29tbWVudHNcblxuICAgIGZ1bmN0aW9uIGFkZENvbW1lbnQodHlwZSwgdmFsdWUsIHN0YXJ0LCBlbmQsIGxvYykge1xuICAgICAgICB2YXIgY29tbWVudDtcblxuICAgICAgICBhc3NlcnQodHlwZW9mIHN0YXJ0ID09PSAnbnVtYmVyJywgJ0NvbW1lbnQgbXVzdCBoYXZlIHZhbGlkIHBvc2l0aW9uJyk7XG5cbiAgICAgICAgc3RhdGUubGFzdENvbW1lbnRTdGFydCA9IHN0YXJ0O1xuXG4gICAgICAgIGNvbW1lbnQgPSB7XG4gICAgICAgICAgICB0eXBlOiB0eXBlLFxuICAgICAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgICAgIH07XG4gICAgICAgIGlmIChleHRyYS5yYW5nZSkge1xuICAgICAgICAgICAgY29tbWVudC5yYW5nZSA9IFtzdGFydCwgZW5kXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXh0cmEubG9jKSB7XG4gICAgICAgICAgICBjb21tZW50LmxvYyA9IGxvYztcbiAgICAgICAgfVxuICAgICAgICBleHRyYS5jb21tZW50cy5wdXNoKGNvbW1lbnQpO1xuICAgICAgICBpZiAoZXh0cmEuYXR0YWNoQ29tbWVudCkge1xuICAgICAgICAgICAgZXh0cmEubGVhZGluZ0NvbW1lbnRzLnB1c2goY29tbWVudCk7XG4gICAgICAgICAgICBleHRyYS50cmFpbGluZ0NvbW1lbnRzLnB1c2goY29tbWVudCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV4dHJhLnRva2VuaXplKSB7XG4gICAgICAgICAgICBjb21tZW50LnR5cGUgPSBjb21tZW50LnR5cGUgKyAnQ29tbWVudCc7XG4gICAgICAgICAgICBpZiAoZXh0cmEuZGVsZWdhdGUpIHtcbiAgICAgICAgICAgICAgICBjb21tZW50ID0gZXh0cmEuZGVsZWdhdGUoY29tbWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBleHRyYS50b2tlbnMucHVzaChjb21tZW50KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNraXBTaW5nbGVMaW5lQ29tbWVudChvZmZzZXQpIHtcbiAgICAgICAgdmFyIHN0YXJ0LCBsb2MsIGNoLCBjb21tZW50O1xuXG4gICAgICAgIHN0YXJ0ID0gaW5kZXggLSBvZmZzZXQ7XG4gICAgICAgIGxvYyA9IHtcbiAgICAgICAgICAgIHN0YXJ0OiB7XG4gICAgICAgICAgICAgICAgbGluZTogbGluZU51bWJlcixcbiAgICAgICAgICAgICAgICBjb2x1bW46IGluZGV4IC0gbGluZVN0YXJ0IC0gb2Zmc2V0XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgd2hpbGUgKGluZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgICBjaCA9IHNvdXJjZS5jaGFyQ29kZUF0KGluZGV4KTtcbiAgICAgICAgICAgICsraW5kZXg7XG4gICAgICAgICAgICBpZiAoaXNMaW5lVGVybWluYXRvcihjaCkpIHtcbiAgICAgICAgICAgICAgICBoYXNMaW5lVGVybWluYXRvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgaWYgKGV4dHJhLmNvbW1lbnRzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbW1lbnQgPSBzb3VyY2Uuc2xpY2Uoc3RhcnQgKyBvZmZzZXQsIGluZGV4IC0gMSk7XG4gICAgICAgICAgICAgICAgICAgIGxvYy5lbmQgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lOiBsaW5lTnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sdW1uOiBpbmRleCAtIGxpbmVTdGFydCAtIDFcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgYWRkQ29tbWVudCgnTGluZScsIGNvbW1lbnQsIHN0YXJ0LCBpbmRleCAtIDEsIGxvYyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChjaCA9PT0gMTMgJiYgc291cmNlLmNoYXJDb2RlQXQoaW5kZXgpID09PSAxMCkge1xuICAgICAgICAgICAgICAgICAgICArK2luZGV4O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICArK2xpbmVOdW1iZXI7XG4gICAgICAgICAgICAgICAgbGluZVN0YXJ0ID0gaW5kZXg7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGV4dHJhLmNvbW1lbnRzKSB7XG4gICAgICAgICAgICBjb21tZW50ID0gc291cmNlLnNsaWNlKHN0YXJ0ICsgb2Zmc2V0LCBpbmRleCk7XG4gICAgICAgICAgICBsb2MuZW5kID0ge1xuICAgICAgICAgICAgICAgIGxpbmU6IGxpbmVOdW1iZXIsXG4gICAgICAgICAgICAgICAgY29sdW1uOiBpbmRleCAtIGxpbmVTdGFydFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGFkZENvbW1lbnQoJ0xpbmUnLCBjb21tZW50LCBzdGFydCwgaW5kZXgsIGxvYyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBza2lwTXVsdGlMaW5lQ29tbWVudCgpIHtcbiAgICAgICAgdmFyIHN0YXJ0LCBsb2MsIGNoLCBjb21tZW50O1xuXG4gICAgICAgIGlmIChleHRyYS5jb21tZW50cykge1xuICAgICAgICAgICAgc3RhcnQgPSBpbmRleCAtIDI7XG4gICAgICAgICAgICBsb2MgPSB7XG4gICAgICAgICAgICAgICAgc3RhcnQ6IHtcbiAgICAgICAgICAgICAgICAgICAgbGluZTogbGluZU51bWJlcixcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uOiBpbmRleCAtIGxpbmVTdGFydCAtIDJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgd2hpbGUgKGluZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgICBjaCA9IHNvdXJjZS5jaGFyQ29kZUF0KGluZGV4KTtcbiAgICAgICAgICAgIGlmIChpc0xpbmVUZXJtaW5hdG9yKGNoKSkge1xuICAgICAgICAgICAgICAgIGlmIChjaCA9PT0gMHgwRCAmJiBzb3VyY2UuY2hhckNvZGVBdChpbmRleCArIDEpID09PSAweDBBKSB7XG4gICAgICAgICAgICAgICAgICAgICsraW5kZXg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGhhc0xpbmVUZXJtaW5hdG9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICArK2xpbmVOdW1iZXI7XG4gICAgICAgICAgICAgICAgKytpbmRleDtcbiAgICAgICAgICAgICAgICBsaW5lU3RhcnQgPSBpbmRleDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY2ggPT09IDB4MkEpIHtcbiAgICAgICAgICAgICAgICAvLyBCbG9jayBjb21tZW50IGVuZHMgd2l0aCAnKi8nLlxuICAgICAgICAgICAgICAgIGlmIChzb3VyY2UuY2hhckNvZGVBdChpbmRleCArIDEpID09PSAweDJGKSB7XG4gICAgICAgICAgICAgICAgICAgICsraW5kZXg7XG4gICAgICAgICAgICAgICAgICAgICsraW5kZXg7XG4gICAgICAgICAgICAgICAgICAgIGlmIChleHRyYS5jb21tZW50cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29tbWVudCA9IHNvdXJjZS5zbGljZShzdGFydCArIDIsIGluZGV4IC0gMik7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2MuZW5kID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmU6IGxpbmVOdW1iZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sdW1uOiBpbmRleCAtIGxpbmVTdGFydFxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZENvbW1lbnQoJ0Jsb2NrJywgY29tbWVudCwgc3RhcnQsIGluZGV4LCBsb2MpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKytpbmRleDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgKytpbmRleDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJhbiBvZmYgdGhlIGVuZCBvZiB0aGUgZmlsZSAtIHRoZSB3aG9sZSB0aGluZyBpcyBhIGNvbW1lbnRcbiAgICAgICAgaWYgKGV4dHJhLmNvbW1lbnRzKSB7XG4gICAgICAgICAgICBsb2MuZW5kID0ge1xuICAgICAgICAgICAgICAgIGxpbmU6IGxpbmVOdW1iZXIsXG4gICAgICAgICAgICAgICAgY29sdW1uOiBpbmRleCAtIGxpbmVTdGFydFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbW1lbnQgPSBzb3VyY2Uuc2xpY2Uoc3RhcnQgKyAyLCBpbmRleCk7XG4gICAgICAgICAgICBhZGRDb21tZW50KCdCbG9jaycsIGNvbW1lbnQsIHN0YXJ0LCBpbmRleCwgbG9jKTtcbiAgICAgICAgfVxuICAgICAgICB0b2xlcmF0ZVVuZXhwZWN0ZWRUb2tlbigpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNraXBDb21tZW50KCkge1xuICAgICAgICB2YXIgY2gsIHN0YXJ0O1xuICAgICAgICBoYXNMaW5lVGVybWluYXRvciA9IGZhbHNlO1xuXG4gICAgICAgIHN0YXJ0ID0gKGluZGV4ID09PSAwKTtcbiAgICAgICAgd2hpbGUgKGluZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgICBjaCA9IHNvdXJjZS5jaGFyQ29kZUF0KGluZGV4KTtcblxuICAgICAgICAgICAgaWYgKGlzV2hpdGVTcGFjZShjaCkpIHtcbiAgICAgICAgICAgICAgICArK2luZGV4O1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpc0xpbmVUZXJtaW5hdG9yKGNoKSkge1xuICAgICAgICAgICAgICAgIGhhc0xpbmVUZXJtaW5hdG9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICArK2luZGV4O1xuICAgICAgICAgICAgICAgIGlmIChjaCA9PT0gMHgwRCAmJiBzb3VyY2UuY2hhckNvZGVBdChpbmRleCkgPT09IDB4MEEpIHtcbiAgICAgICAgICAgICAgICAgICAgKytpbmRleDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKytsaW5lTnVtYmVyO1xuICAgICAgICAgICAgICAgIGxpbmVTdGFydCA9IGluZGV4O1xuICAgICAgICAgICAgICAgIHN0YXJ0ID0gdHJ1ZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY2ggPT09IDB4MkYpIHsgLy8gVSswMDJGIGlzICcvJ1xuICAgICAgICAgICAgICAgIGNoID0gc291cmNlLmNoYXJDb2RlQXQoaW5kZXggKyAxKTtcbiAgICAgICAgICAgICAgICBpZiAoY2ggPT09IDB4MkYpIHtcbiAgICAgICAgICAgICAgICAgICAgKytpbmRleDtcbiAgICAgICAgICAgICAgICAgICAgKytpbmRleDtcbiAgICAgICAgICAgICAgICAgICAgc2tpcFNpbmdsZUxpbmVDb21tZW50KDIpO1xuICAgICAgICAgICAgICAgICAgICBzdGFydCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjaCA9PT0gMHgyQSkgeyAgLy8gVSswMDJBIGlzICcqJ1xuICAgICAgICAgICAgICAgICAgICArK2luZGV4O1xuICAgICAgICAgICAgICAgICAgICArK2luZGV4O1xuICAgICAgICAgICAgICAgICAgICBza2lwTXVsdGlMaW5lQ29tbWVudCgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc3RhcnQgJiYgY2ggPT09IDB4MkQpIHsgLy8gVSswMDJEIGlzICctJ1xuICAgICAgICAgICAgICAgIC8vIFUrMDAzRSBpcyAnPidcbiAgICAgICAgICAgICAgICBpZiAoKHNvdXJjZS5jaGFyQ29kZUF0KGluZGV4ICsgMSkgPT09IDB4MkQpICYmIChzb3VyY2UuY2hhckNvZGVBdChpbmRleCArIDIpID09PSAweDNFKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyAnLS0+JyBpcyBhIHNpbmdsZS1saW5lIGNvbW1lbnRcbiAgICAgICAgICAgICAgICAgICAgaW5kZXggKz0gMztcbiAgICAgICAgICAgICAgICAgICAgc2tpcFNpbmdsZUxpbmVDb21tZW50KDMpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY2ggPT09IDB4M0MpIHsgLy8gVSswMDNDIGlzICc8J1xuICAgICAgICAgICAgICAgIGlmIChzb3VyY2Uuc2xpY2UoaW5kZXggKyAxLCBpbmRleCArIDQpID09PSAnIS0tJykge1xuICAgICAgICAgICAgICAgICAgICArK2luZGV4OyAvLyBgPGBcbiAgICAgICAgICAgICAgICAgICAgKytpbmRleDsgLy8gYCFgXG4gICAgICAgICAgICAgICAgICAgICsraW5kZXg7IC8vIGAtYFxuICAgICAgICAgICAgICAgICAgICArK2luZGV4OyAvLyBgLWBcbiAgICAgICAgICAgICAgICAgICAgc2tpcFNpbmdsZUxpbmVDb21tZW50KDQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzY2FuSGV4RXNjYXBlKHByZWZpeCkge1xuICAgICAgICB2YXIgaSwgbGVuLCBjaCwgY29kZSA9IDA7XG5cbiAgICAgICAgbGVuID0gKHByZWZpeCA9PT0gJ3UnKSA/IDQgOiAyO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgICAgICAgIGlmIChpbmRleCA8IGxlbmd0aCAmJiBpc0hleERpZ2l0KHNvdXJjZVtpbmRleF0pKSB7XG4gICAgICAgICAgICAgICAgY2ggPSBzb3VyY2VbaW5kZXgrK107XG4gICAgICAgICAgICAgICAgY29kZSA9IGNvZGUgKiAxNiArICcwMTIzNDU2Nzg5YWJjZGVmJy5pbmRleE9mKGNoLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoY29kZSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2NhblVuaWNvZGVDb2RlUG9pbnRFc2NhcGUoKSB7XG4gICAgICAgIHZhciBjaCwgY29kZTtcblxuICAgICAgICBjaCA9IHNvdXJjZVtpbmRleF07XG4gICAgICAgIGNvZGUgPSAwO1xuXG4gICAgICAgIC8vIEF0IGxlYXN0LCBvbmUgaGV4IGRpZ2l0IGlzIHJlcXVpcmVkLlxuICAgICAgICBpZiAoY2ggPT09ICd9Jykge1xuICAgICAgICAgICAgdGhyb3dVbmV4cGVjdGVkVG9rZW4oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHdoaWxlIChpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgICAgY2ggPSBzb3VyY2VbaW5kZXgrK107XG4gICAgICAgICAgICBpZiAoIWlzSGV4RGlnaXQoY2gpKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb2RlID0gY29kZSAqIDE2ICsgJzAxMjM0NTY3ODlhYmNkZWYnLmluZGV4T2YoY2gudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY29kZSA+IDB4MTBGRkZGIHx8IGNoICE9PSAnfScpIHtcbiAgICAgICAgICAgIHRocm93VW5leHBlY3RlZFRva2VuKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZnJvbUNvZGVQb2ludChjb2RlKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjb2RlUG9pbnRBdChpKSB7XG4gICAgICAgIHZhciBjcCwgZmlyc3QsIHNlY29uZDtcblxuICAgICAgICBjcCA9IHNvdXJjZS5jaGFyQ29kZUF0KGkpO1xuICAgICAgICBpZiAoY3AgPj0gMHhEODAwICYmIGNwIDw9IDB4REJGRikge1xuICAgICAgICAgICAgc2Vjb25kID0gc291cmNlLmNoYXJDb2RlQXQoaSArIDEpO1xuICAgICAgICAgICAgaWYgKHNlY29uZCA+PSAweERDMDAgJiYgc2Vjb25kIDw9IDB4REZGRikge1xuICAgICAgICAgICAgICAgIGZpcnN0ID0gY3A7XG4gICAgICAgICAgICAgICAgY3AgPSAoZmlyc3QgLSAweEQ4MDApICogMHg0MDAgKyBzZWNvbmQgLSAweERDMDAgKyAweDEwMDAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNwO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldENvbXBsZXhJZGVudGlmaWVyKCkge1xuICAgICAgICB2YXIgY3AsIGNoLCBpZDtcblxuICAgICAgICBjcCA9IGNvZGVQb2ludEF0KGluZGV4KTtcbiAgICAgICAgaWQgPSBmcm9tQ29kZVBvaW50KGNwKTtcbiAgICAgICAgaW5kZXggKz0gaWQubGVuZ3RoO1xuXG4gICAgICAgIC8vICdcXHUnIChVKzAwNUMsIFUrMDA3NSkgZGVub3RlcyBhbiBlc2NhcGVkIGNoYXJhY3Rlci5cbiAgICAgICAgaWYgKGNwID09PSAweDVDKSB7XG4gICAgICAgICAgICBpZiAoc291cmNlLmNoYXJDb2RlQXQoaW5kZXgpICE9PSAweDc1KSB7XG4gICAgICAgICAgICAgICAgdGhyb3dVbmV4cGVjdGVkVG9rZW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICsraW5kZXg7XG4gICAgICAgICAgICBpZiAoc291cmNlW2luZGV4XSA9PT0gJ3snKSB7XG4gICAgICAgICAgICAgICAgKytpbmRleDtcbiAgICAgICAgICAgICAgICBjaCA9IHNjYW5Vbmljb2RlQ29kZVBvaW50RXNjYXBlKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNoID0gc2NhbkhleEVzY2FwZSgndScpO1xuICAgICAgICAgICAgICAgIGNwID0gY2guY2hhckNvZGVBdCgwKTtcbiAgICAgICAgICAgICAgICBpZiAoIWNoIHx8IGNoID09PSAnXFxcXCcgfHwgIWlzSWRlbnRpZmllclN0YXJ0KGNwKSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvd1VuZXhwZWN0ZWRUb2tlbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlkID0gY2g7XG4gICAgICAgIH1cblxuICAgICAgICB3aGlsZSAoaW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICAgIGNwID0gY29kZVBvaW50QXQoaW5kZXgpO1xuICAgICAgICAgICAgaWYgKCFpc0lkZW50aWZpZXJQYXJ0KGNwKSkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2ggPSBmcm9tQ29kZVBvaW50KGNwKTtcbiAgICAgICAgICAgIGlkICs9IGNoO1xuICAgICAgICAgICAgaW5kZXggKz0gY2gubGVuZ3RoO1xuXG4gICAgICAgICAgICAvLyAnXFx1JyAoVSswMDVDLCBVKzAwNzUpIGRlbm90ZXMgYW4gZXNjYXBlZCBjaGFyYWN0ZXIuXG4gICAgICAgICAgICBpZiAoY3AgPT09IDB4NUMpIHtcbiAgICAgICAgICAgICAgICBpZCA9IGlkLnN1YnN0cigwLCBpZC5sZW5ndGggLSAxKTtcbiAgICAgICAgICAgICAgICBpZiAoc291cmNlLmNoYXJDb2RlQXQoaW5kZXgpICE9PSAweDc1KSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93VW5leHBlY3RlZFRva2VuKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICsraW5kZXg7XG4gICAgICAgICAgICAgICAgaWYgKHNvdXJjZVtpbmRleF0gPT09ICd7Jykge1xuICAgICAgICAgICAgICAgICAgICArK2luZGV4O1xuICAgICAgICAgICAgICAgICAgICBjaCA9IHNjYW5Vbmljb2RlQ29kZVBvaW50RXNjYXBlKCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY2ggPSBzY2FuSGV4RXNjYXBlKCd1Jyk7XG4gICAgICAgICAgICAgICAgICAgIGNwID0gY2guY2hhckNvZGVBdCgwKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjaCB8fCBjaCA9PT0gJ1xcXFwnIHx8ICFpc0lkZW50aWZpZXJQYXJ0KGNwKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3dVbmV4cGVjdGVkVG9rZW4oKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZCArPSBjaDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBpZDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRJZGVudGlmaWVyKCkge1xuICAgICAgICB2YXIgc3RhcnQsIGNoO1xuXG4gICAgICAgIHN0YXJ0ID0gaW5kZXgrKztcbiAgICAgICAgd2hpbGUgKGluZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgICBjaCA9IHNvdXJjZS5jaGFyQ29kZUF0KGluZGV4KTtcbiAgICAgICAgICAgIGlmIChjaCA9PT0gMHg1Qykge1xuICAgICAgICAgICAgICAgIC8vIEJsYWNrc2xhc2ggKFUrMDA1QykgbWFya3MgVW5pY29kZSBlc2NhcGUgc2VxdWVuY2UuXG4gICAgICAgICAgICAgICAgaW5kZXggPSBzdGFydDtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0Q29tcGxleElkZW50aWZpZXIoKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY2ggPj0gMHhEODAwICYmIGNoIDwgMHhERkZGKSB7XG4gICAgICAgICAgICAgICAgLy8gTmVlZCB0byBoYW5kbGUgc3Vycm9nYXRlIHBhaXJzLlxuICAgICAgICAgICAgICAgIGluZGV4ID0gc3RhcnQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldENvbXBsZXhJZGVudGlmaWVyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXNJZGVudGlmaWVyUGFydChjaCkpIHtcbiAgICAgICAgICAgICAgICArK2luZGV4O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzb3VyY2Uuc2xpY2Uoc3RhcnQsIGluZGV4KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzY2FuSWRlbnRpZmllcigpIHtcbiAgICAgICAgdmFyIHN0YXJ0LCBpZCwgdHlwZTtcblxuICAgICAgICBzdGFydCA9IGluZGV4O1xuXG4gICAgICAgIC8vIEJhY2tzbGFzaCAoVSswMDVDKSBzdGFydHMgYW4gZXNjYXBlZCBjaGFyYWN0ZXIuXG4gICAgICAgIGlkID0gKHNvdXJjZS5jaGFyQ29kZUF0KGluZGV4KSA9PT0gMHg1QykgPyBnZXRDb21wbGV4SWRlbnRpZmllcigpIDogZ2V0SWRlbnRpZmllcigpO1xuXG4gICAgICAgIC8vIFRoZXJlIGlzIG5vIGtleXdvcmQgb3IgbGl0ZXJhbCB3aXRoIG9ubHkgb25lIGNoYXJhY3Rlci5cbiAgICAgICAgLy8gVGh1cywgaXQgbXVzdCBiZSBhbiBpZGVudGlmaWVyLlxuICAgICAgICBpZiAoaWQubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICB0eXBlID0gVG9rZW4uSWRlbnRpZmllcjtcbiAgICAgICAgfSBlbHNlIGlmIChpc0tleXdvcmQoaWQpKSB7XG4gICAgICAgICAgICB0eXBlID0gVG9rZW4uS2V5d29yZDtcbiAgICAgICAgfSBlbHNlIGlmIChpZCA9PT0gJ251bGwnKSB7XG4gICAgICAgICAgICB0eXBlID0gVG9rZW4uTnVsbExpdGVyYWw7XG4gICAgICAgIH0gZWxzZSBpZiAoaWQgPT09ICd0cnVlJyB8fCBpZCA9PT0gJ2ZhbHNlJykge1xuICAgICAgICAgICAgdHlwZSA9IFRva2VuLkJvb2xlYW5MaXRlcmFsO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdHlwZSA9IFRva2VuLklkZW50aWZpZXI7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgICAgIHZhbHVlOiBpZCxcbiAgICAgICAgICAgIGxpbmVOdW1iZXI6IGxpbmVOdW1iZXIsXG4gICAgICAgICAgICBsaW5lU3RhcnQ6IGxpbmVTdGFydCxcbiAgICAgICAgICAgIHN0YXJ0OiBzdGFydCxcbiAgICAgICAgICAgIGVuZDogaW5kZXhcbiAgICAgICAgfTtcbiAgICB9XG5cblxuICAgIC8vIEVDTUEtMjYyIDExLjcgUHVuY3R1YXRvcnNcblxuICAgIGZ1bmN0aW9uIHNjYW5QdW5jdHVhdG9yKCkge1xuICAgICAgICB2YXIgdG9rZW4sIHN0cjtcblxuICAgICAgICB0b2tlbiA9IHtcbiAgICAgICAgICAgIHR5cGU6IFRva2VuLlB1bmN0dWF0b3IsXG4gICAgICAgICAgICB2YWx1ZTogJycsXG4gICAgICAgICAgICBsaW5lTnVtYmVyOiBsaW5lTnVtYmVyLFxuICAgICAgICAgICAgbGluZVN0YXJ0OiBsaW5lU3RhcnQsXG4gICAgICAgICAgICBzdGFydDogaW5kZXgsXG4gICAgICAgICAgICBlbmQ6IGluZGV4XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gQ2hlY2sgZm9yIG1vc3QgY29tbW9uIHNpbmdsZS1jaGFyYWN0ZXIgcHVuY3R1YXRvcnMuXG4gICAgICAgIHN0ciA9IHNvdXJjZVtpbmRleF07XG4gICAgICAgIHN3aXRjaCAoc3RyKSB7XG5cbiAgICAgICAgY2FzZSAnKCc6XG4gICAgICAgICAgICBpZiAoZXh0cmEudG9rZW5pemUpIHtcbiAgICAgICAgICAgICAgICBleHRyYS5vcGVuUGFyZW5Ub2tlbiA9IGV4dHJhLnRva2VuVmFsdWVzLmxlbmd0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICsraW5kZXg7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICd7JzpcbiAgICAgICAgICAgIGlmIChleHRyYS50b2tlbml6ZSkge1xuICAgICAgICAgICAgICAgIGV4dHJhLm9wZW5DdXJseVRva2VuID0gZXh0cmEudG9rZW5WYWx1ZXMubGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RhdGUuY3VybHlTdGFjay5wdXNoKCd7Jyk7XG4gICAgICAgICAgICArK2luZGV4O1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAnLic6XG4gICAgICAgICAgICArK2luZGV4O1xuICAgICAgICAgICAgaWYgKHNvdXJjZVtpbmRleF0gPT09ICcuJyAmJiBzb3VyY2VbaW5kZXggKyAxXSA9PT0gJy4nKSB7XG4gICAgICAgICAgICAgICAgLy8gU3ByZWFkIG9wZXJhdG9yOiAuLi5cbiAgICAgICAgICAgICAgICBpbmRleCArPSAyO1xuICAgICAgICAgICAgICAgIHN0ciA9ICcuLi4nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAnfSc6XG4gICAgICAgICAgICArK2luZGV4O1xuICAgICAgICAgICAgc3RhdGUuY3VybHlTdGFjay5wb3AoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICcpJzpcbiAgICAgICAgY2FzZSAnOyc6XG4gICAgICAgIGNhc2UgJywnOlxuICAgICAgICBjYXNlICdbJzpcbiAgICAgICAgY2FzZSAnXSc6XG4gICAgICAgIGNhc2UgJzonOlxuICAgICAgICBjYXNlICc/JzpcbiAgICAgICAgY2FzZSAnfic6XG4gICAgICAgICAgICArK2luZGV4O1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIC8vIDQtY2hhcmFjdGVyIHB1bmN0dWF0b3IuXG4gICAgICAgICAgICBzdHIgPSBzb3VyY2Uuc3Vic3RyKGluZGV4LCA0KTtcbiAgICAgICAgICAgIGlmIChzdHIgPT09ICc+Pj49Jykge1xuICAgICAgICAgICAgICAgIGluZGV4ICs9IDQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgLy8gMy1jaGFyYWN0ZXIgcHVuY3R1YXRvcnMuXG4gICAgICAgICAgICAgICAgc3RyID0gc3RyLnN1YnN0cigwLCAzKTtcbiAgICAgICAgICAgICAgICBpZiAoc3RyID09PSAnPT09JyB8fCBzdHIgPT09ICchPT0nIHx8IHN0ciA9PT0gJz4+PicgfHxcbiAgICAgICAgICAgICAgICAgICAgc3RyID09PSAnPDw9JyB8fCBzdHIgPT09ICc+Pj0nKSB7XG4gICAgICAgICAgICAgICAgICAgIGluZGV4ICs9IDM7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAvLyAyLWNoYXJhY3RlciBwdW5jdHVhdG9ycy5cbiAgICAgICAgICAgICAgICAgICAgc3RyID0gc3RyLnN1YnN0cigwLCAyKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0ciA9PT0gJyYmJyB8fCBzdHIgPT09ICd8fCcgfHwgc3RyID09PSAnPT0nIHx8IHN0ciA9PT0gJyE9JyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RyID09PSAnKz0nIHx8IHN0ciA9PT0gJy09JyB8fCBzdHIgPT09ICcqPScgfHwgc3RyID09PSAnLz0nIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHIgPT09ICcrKycgfHwgc3RyID09PSAnLS0nIHx8IHN0ciA9PT0gJzw8JyB8fCBzdHIgPT09ICc+PicgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0ciA9PT0gJyY9JyB8fCBzdHIgPT09ICd8PScgfHwgc3RyID09PSAnXj0nIHx8IHN0ciA9PT0gJyU9JyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RyID09PSAnPD0nIHx8IHN0ciA9PT0gJz49JyB8fCBzdHIgPT09ICc9PicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4ICs9IDI7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIDEtY2hhcmFjdGVyIHB1bmN0dWF0b3JzLlxuICAgICAgICAgICAgICAgICAgICAgICAgc3RyID0gc291cmNlW2luZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgnPD49ISstKiUmfF4vJy5pbmRleE9mKHN0cikgPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICsraW5kZXg7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaW5kZXggPT09IHRva2VuLnN0YXJ0KSB7XG4gICAgICAgICAgICB0aHJvd1VuZXhwZWN0ZWRUb2tlbigpO1xuICAgICAgICB9XG5cbiAgICAgICAgdG9rZW4uZW5kID0gaW5kZXg7XG4gICAgICAgIHRva2VuLnZhbHVlID0gc3RyO1xuICAgICAgICByZXR1cm4gdG9rZW47XG4gICAgfVxuXG4gICAgLy8gRUNNQS0yNjIgMTEuOC4zIE51bWVyaWMgTGl0ZXJhbHNcblxuICAgIGZ1bmN0aW9uIHNjYW5IZXhMaXRlcmFsKHN0YXJ0KSB7XG4gICAgICAgIHZhciBudW1iZXIgPSAnJztcblxuICAgICAgICB3aGlsZSAoaW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICAgIGlmICghaXNIZXhEaWdpdChzb3VyY2VbaW5kZXhdKSkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbnVtYmVyICs9IHNvdXJjZVtpbmRleCsrXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChudW1iZXIubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aHJvd1VuZXhwZWN0ZWRUb2tlbigpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzSWRlbnRpZmllclN0YXJ0KHNvdXJjZS5jaGFyQ29kZUF0KGluZGV4KSkpIHtcbiAgICAgICAgICAgIHRocm93VW5leHBlY3RlZFRva2VuKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogVG9rZW4uTnVtZXJpY0xpdGVyYWwsXG4gICAgICAgICAgICB2YWx1ZTogcGFyc2VJbnQoJzB4JyArIG51bWJlciwgMTYpLFxuICAgICAgICAgICAgbGluZU51bWJlcjogbGluZU51bWJlcixcbiAgICAgICAgICAgIGxpbmVTdGFydDogbGluZVN0YXJ0LFxuICAgICAgICAgICAgc3RhcnQ6IHN0YXJ0LFxuICAgICAgICAgICAgZW5kOiBpbmRleFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNjYW5CaW5hcnlMaXRlcmFsKHN0YXJ0KSB7XG4gICAgICAgIHZhciBjaCwgbnVtYmVyO1xuXG4gICAgICAgIG51bWJlciA9ICcnO1xuXG4gICAgICAgIHdoaWxlIChpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgICAgY2ggPSBzb3VyY2VbaW5kZXhdO1xuICAgICAgICAgICAgaWYgKGNoICE9PSAnMCcgJiYgY2ggIT09ICcxJykge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbnVtYmVyICs9IHNvdXJjZVtpbmRleCsrXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChudW1iZXIubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAvLyBvbmx5IDBiIG9yIDBCXG4gICAgICAgICAgICB0aHJvd1VuZXhwZWN0ZWRUb2tlbigpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGluZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgICBjaCA9IHNvdXJjZS5jaGFyQ29kZUF0KGluZGV4KTtcbiAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICAgICAgICBpZiAoaXNJZGVudGlmaWVyU3RhcnQoY2gpIHx8IGlzRGVjaW1hbERpZ2l0KGNoKSkge1xuICAgICAgICAgICAgICAgIHRocm93VW5leHBlY3RlZFRva2VuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogVG9rZW4uTnVtZXJpY0xpdGVyYWwsXG4gICAgICAgICAgICB2YWx1ZTogcGFyc2VJbnQobnVtYmVyLCAyKSxcbiAgICAgICAgICAgIGxpbmVOdW1iZXI6IGxpbmVOdW1iZXIsXG4gICAgICAgICAgICBsaW5lU3RhcnQ6IGxpbmVTdGFydCxcbiAgICAgICAgICAgIHN0YXJ0OiBzdGFydCxcbiAgICAgICAgICAgIGVuZDogaW5kZXhcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzY2FuT2N0YWxMaXRlcmFsKHByZWZpeCwgc3RhcnQpIHtcbiAgICAgICAgdmFyIG51bWJlciwgb2N0YWw7XG5cbiAgICAgICAgaWYgKGlzT2N0YWxEaWdpdChwcmVmaXgpKSB7XG4gICAgICAgICAgICBvY3RhbCA9IHRydWU7XG4gICAgICAgICAgICBudW1iZXIgPSAnMCcgKyBzb3VyY2VbaW5kZXgrK107XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvY3RhbCA9IGZhbHNlO1xuICAgICAgICAgICAgKytpbmRleDtcbiAgICAgICAgICAgIG51bWJlciA9ICcnO1xuICAgICAgICB9XG5cbiAgICAgICAgd2hpbGUgKGluZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgICBpZiAoIWlzT2N0YWxEaWdpdChzb3VyY2VbaW5kZXhdKSkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbnVtYmVyICs9IHNvdXJjZVtpbmRleCsrXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghb2N0YWwgJiYgbnVtYmVyLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgLy8gb25seSAwbyBvciAwT1xuICAgICAgICAgICAgdGhyb3dVbmV4cGVjdGVkVG9rZW4oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc0lkZW50aWZpZXJTdGFydChzb3VyY2UuY2hhckNvZGVBdChpbmRleCkpIHx8IGlzRGVjaW1hbERpZ2l0KHNvdXJjZS5jaGFyQ29kZUF0KGluZGV4KSkpIHtcbiAgICAgICAgICAgIHRocm93VW5leHBlY3RlZFRva2VuKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogVG9rZW4uTnVtZXJpY0xpdGVyYWwsXG4gICAgICAgICAgICB2YWx1ZTogcGFyc2VJbnQobnVtYmVyLCA4KSxcbiAgICAgICAgICAgIG9jdGFsOiBvY3RhbCxcbiAgICAgICAgICAgIGxpbmVOdW1iZXI6IGxpbmVOdW1iZXIsXG4gICAgICAgICAgICBsaW5lU3RhcnQ6IGxpbmVTdGFydCxcbiAgICAgICAgICAgIHN0YXJ0OiBzdGFydCxcbiAgICAgICAgICAgIGVuZDogaW5kZXhcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc0ltcGxpY2l0T2N0YWxMaXRlcmFsKCkge1xuICAgICAgICB2YXIgaSwgY2g7XG5cbiAgICAgICAgLy8gSW1wbGljaXQgb2N0YWwsIHVubGVzcyB0aGVyZSBpcyBhIG5vbi1vY3RhbCBkaWdpdC5cbiAgICAgICAgLy8gKEFubmV4IEIuMS4xIG9uIE51bWVyaWMgTGl0ZXJhbHMpXG4gICAgICAgIGZvciAoaSA9IGluZGV4ICsgMTsgaSA8IGxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBjaCA9IHNvdXJjZVtpXTtcbiAgICAgICAgICAgIGlmIChjaCA9PT0gJzgnIHx8IGNoID09PSAnOScpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWlzT2N0YWxEaWdpdChjaCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNjYW5OdW1lcmljTGl0ZXJhbCgpIHtcbiAgICAgICAgdmFyIG51bWJlciwgc3RhcnQsIGNoO1xuXG4gICAgICAgIGNoID0gc291cmNlW2luZGV4XTtcbiAgICAgICAgYXNzZXJ0KGlzRGVjaW1hbERpZ2l0KGNoLmNoYXJDb2RlQXQoMCkpIHx8IChjaCA9PT0gJy4nKSxcbiAgICAgICAgICAgICdOdW1lcmljIGxpdGVyYWwgbXVzdCBzdGFydCB3aXRoIGEgZGVjaW1hbCBkaWdpdCBvciBhIGRlY2ltYWwgcG9pbnQnKTtcblxuICAgICAgICBzdGFydCA9IGluZGV4O1xuICAgICAgICBudW1iZXIgPSAnJztcbiAgICAgICAgaWYgKGNoICE9PSAnLicpIHtcbiAgICAgICAgICAgIG51bWJlciA9IHNvdXJjZVtpbmRleCsrXTtcbiAgICAgICAgICAgIGNoID0gc291cmNlW2luZGV4XTtcblxuICAgICAgICAgICAgLy8gSGV4IG51bWJlciBzdGFydHMgd2l0aCAnMHgnLlxuICAgICAgICAgICAgLy8gT2N0YWwgbnVtYmVyIHN0YXJ0cyB3aXRoICcwJy5cbiAgICAgICAgICAgIC8vIE9jdGFsIG51bWJlciBpbiBFUzYgc3RhcnRzIHdpdGggJzBvJy5cbiAgICAgICAgICAgIC8vIEJpbmFyeSBudW1iZXIgaW4gRVM2IHN0YXJ0cyB3aXRoICcwYicuXG4gICAgICAgICAgICBpZiAobnVtYmVyID09PSAnMCcpIHtcbiAgICAgICAgICAgICAgICBpZiAoY2ggPT09ICd4JyB8fCBjaCA9PT0gJ1gnKSB7XG4gICAgICAgICAgICAgICAgICAgICsraW5kZXg7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzY2FuSGV4TGl0ZXJhbChzdGFydCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChjaCA9PT0gJ2InIHx8IGNoID09PSAnQicpIHtcbiAgICAgICAgICAgICAgICAgICAgKytpbmRleDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNjYW5CaW5hcnlMaXRlcmFsKHN0YXJ0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGNoID09PSAnbycgfHwgY2ggPT09ICdPJykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2Nhbk9jdGFsTGl0ZXJhbChjaCwgc3RhcnQpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChpc09jdGFsRGlnaXQoY2gpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0ltcGxpY2l0T2N0YWxMaXRlcmFsKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzY2FuT2N0YWxMaXRlcmFsKGNoLCBzdGFydCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHdoaWxlIChpc0RlY2ltYWxEaWdpdChzb3VyY2UuY2hhckNvZGVBdChpbmRleCkpKSB7XG4gICAgICAgICAgICAgICAgbnVtYmVyICs9IHNvdXJjZVtpbmRleCsrXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNoID0gc291cmNlW2luZGV4XTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjaCA9PT0gJy4nKSB7XG4gICAgICAgICAgICBudW1iZXIgKz0gc291cmNlW2luZGV4KytdO1xuICAgICAgICAgICAgd2hpbGUgKGlzRGVjaW1hbERpZ2l0KHNvdXJjZS5jaGFyQ29kZUF0KGluZGV4KSkpIHtcbiAgICAgICAgICAgICAgICBudW1iZXIgKz0gc291cmNlW2luZGV4KytdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2ggPSBzb3VyY2VbaW5kZXhdO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNoID09PSAnZScgfHwgY2ggPT09ICdFJykge1xuICAgICAgICAgICAgbnVtYmVyICs9IHNvdXJjZVtpbmRleCsrXTtcblxuICAgICAgICAgICAgY2ggPSBzb3VyY2VbaW5kZXhdO1xuICAgICAgICAgICAgaWYgKGNoID09PSAnKycgfHwgY2ggPT09ICctJykge1xuICAgICAgICAgICAgICAgIG51bWJlciArPSBzb3VyY2VbaW5kZXgrK107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXNEZWNpbWFsRGlnaXQoc291cmNlLmNoYXJDb2RlQXQoaW5kZXgpKSkge1xuICAgICAgICAgICAgICAgIHdoaWxlIChpc0RlY2ltYWxEaWdpdChzb3VyY2UuY2hhckNvZGVBdChpbmRleCkpKSB7XG4gICAgICAgICAgICAgICAgICAgIG51bWJlciArPSBzb3VyY2VbaW5kZXgrK107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvd1VuZXhwZWN0ZWRUb2tlbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzSWRlbnRpZmllclN0YXJ0KHNvdXJjZS5jaGFyQ29kZUF0KGluZGV4KSkpIHtcbiAgICAgICAgICAgIHRocm93VW5leHBlY3RlZFRva2VuKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogVG9rZW4uTnVtZXJpY0xpdGVyYWwsXG4gICAgICAgICAgICB2YWx1ZTogcGFyc2VGbG9hdChudW1iZXIpLFxuICAgICAgICAgICAgbGluZU51bWJlcjogbGluZU51bWJlcixcbiAgICAgICAgICAgIGxpbmVTdGFydDogbGluZVN0YXJ0LFxuICAgICAgICAgICAgc3RhcnQ6IHN0YXJ0LFxuICAgICAgICAgICAgZW5kOiBpbmRleFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8vIEVDTUEtMjYyIDExLjguNCBTdHJpbmcgTGl0ZXJhbHNcblxuICAgIGZ1bmN0aW9uIHNjYW5TdHJpbmdMaXRlcmFsKCkge1xuICAgICAgICB2YXIgc3RyID0gJycsIHF1b3RlLCBzdGFydCwgY2gsIHVuZXNjYXBlZCwgb2N0VG9EZWMsIG9jdGFsID0gZmFsc2U7XG5cbiAgICAgICAgcXVvdGUgPSBzb3VyY2VbaW5kZXhdO1xuICAgICAgICBhc3NlcnQoKHF1b3RlID09PSAnXFwnJyB8fCBxdW90ZSA9PT0gJ1wiJyksXG4gICAgICAgICAgICAnU3RyaW5nIGxpdGVyYWwgbXVzdCBzdGFydHMgd2l0aCBhIHF1b3RlJyk7XG5cbiAgICAgICAgc3RhcnQgPSBpbmRleDtcbiAgICAgICAgKytpbmRleDtcblxuICAgICAgICB3aGlsZSAoaW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICAgIGNoID0gc291cmNlW2luZGV4KytdO1xuXG4gICAgICAgICAgICBpZiAoY2ggPT09IHF1b3RlKSB7XG4gICAgICAgICAgICAgICAgcXVvdGUgPSAnJztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY2ggPT09ICdcXFxcJykge1xuICAgICAgICAgICAgICAgIGNoID0gc291cmNlW2luZGV4KytdO1xuICAgICAgICAgICAgICAgIGlmICghY2ggfHwgIWlzTGluZVRlcm1pbmF0b3IoY2guY2hhckNvZGVBdCgwKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChjaCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlICd1JzpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAneCc6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc291cmNlW2luZGV4XSA9PT0gJ3snKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKytpbmRleDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHIgKz0gc2NhblVuaWNvZGVDb2RlUG9pbnRFc2NhcGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5lc2NhcGVkID0gc2NhbkhleEVzY2FwZShjaCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF1bmVzY2FwZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgdGhyb3dVbmV4cGVjdGVkVG9rZW4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RyICs9IHVuZXNjYXBlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICduJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0ciArPSAnXFxuJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdyJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0ciArPSAnXFxyJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICd0JzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0ciArPSAnXFx0JztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdiJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0ciArPSAnXFxiJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdmJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0ciArPSAnXFxmJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICd2JzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0ciArPSAnXFx4MEInO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJzgnOlxuICAgICAgICAgICAgICAgICAgICBjYXNlICc5JzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0ciArPSBjaDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvbGVyYXRlVW5leHBlY3RlZFRva2VuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzT2N0YWxEaWdpdChjaCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvY3RUb0RlYyA9IG9jdGFsVG9EZWNpbWFsKGNoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9jdGFsID0gb2N0VG9EZWMub2N0YWwgfHwgb2N0YWw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RyICs9IFN0cmluZy5mcm9tQ2hhckNvZGUob2N0VG9EZWMuY29kZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ciArPSBjaDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgKytsaW5lTnVtYmVyO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2ggPT09ICdcXHInICYmIHNvdXJjZVtpbmRleF0gPT09ICdcXG4nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICArK2luZGV4O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGxpbmVTdGFydCA9IGluZGV4O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNMaW5lVGVybWluYXRvcihjaC5jaGFyQ29kZUF0KDApKSkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzdHIgKz0gY2g7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocXVvdGUgIT09ICcnKSB7XG4gICAgICAgICAgICBpbmRleCA9IHN0YXJ0O1xuICAgICAgICAgICAgdGhyb3dVbmV4cGVjdGVkVG9rZW4oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiBUb2tlbi5TdHJpbmdMaXRlcmFsLFxuICAgICAgICAgICAgdmFsdWU6IHN0cixcbiAgICAgICAgICAgIG9jdGFsOiBvY3RhbCxcbiAgICAgICAgICAgIGxpbmVOdW1iZXI6IHN0YXJ0TGluZU51bWJlcixcbiAgICAgICAgICAgIGxpbmVTdGFydDogc3RhcnRMaW5lU3RhcnQsXG4gICAgICAgICAgICBzdGFydDogc3RhcnQsXG4gICAgICAgICAgICBlbmQ6IGluZGV4XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gRUNNQS0yNjIgMTEuOC42IFRlbXBsYXRlIExpdGVyYWwgTGV4aWNhbCBDb21wb25lbnRzXG5cbiAgICBmdW5jdGlvbiBzY2FuVGVtcGxhdGUoKSB7XG4gICAgICAgIHZhciBjb29rZWQgPSAnJywgY2gsIHN0YXJ0LCByYXdPZmZzZXQsIHRlcm1pbmF0ZWQsIGhlYWQsIHRhaWwsIHJlc3RvcmUsIHVuZXNjYXBlZDtcblxuICAgICAgICB0ZXJtaW5hdGVkID0gZmFsc2U7XG4gICAgICAgIHRhaWwgPSBmYWxzZTtcbiAgICAgICAgc3RhcnQgPSBpbmRleDtcbiAgICAgICAgaGVhZCA9IChzb3VyY2VbaW5kZXhdID09PSAnYCcpO1xuICAgICAgICByYXdPZmZzZXQgPSAyO1xuXG4gICAgICAgICsraW5kZXg7XG5cbiAgICAgICAgd2hpbGUgKGluZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgICBjaCA9IHNvdXJjZVtpbmRleCsrXTtcbiAgICAgICAgICAgIGlmIChjaCA9PT0gJ2AnKSB7XG4gICAgICAgICAgICAgICAgcmF3T2Zmc2V0ID0gMTtcbiAgICAgICAgICAgICAgICB0YWlsID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0ZXJtaW5hdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY2ggPT09ICckJykge1xuICAgICAgICAgICAgICAgIGlmIChzb3VyY2VbaW5kZXhdID09PSAneycpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuY3VybHlTdGFjay5wdXNoKCckeycpO1xuICAgICAgICAgICAgICAgICAgICArK2luZGV4O1xuICAgICAgICAgICAgICAgICAgICB0ZXJtaW5hdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvb2tlZCArPSBjaDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY2ggPT09ICdcXFxcJykge1xuICAgICAgICAgICAgICAgIGNoID0gc291cmNlW2luZGV4KytdO1xuICAgICAgICAgICAgICAgIGlmICghaXNMaW5lVGVybWluYXRvcihjaC5jaGFyQ29kZUF0KDApKSkge1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGNoKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ24nOlxuICAgICAgICAgICAgICAgICAgICAgICAgY29va2VkICs9ICdcXG4nO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3InOlxuICAgICAgICAgICAgICAgICAgICAgICAgY29va2VkICs9ICdcXHInO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3QnOlxuICAgICAgICAgICAgICAgICAgICAgICAgY29va2VkICs9ICdcXHQnO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3UnOlxuICAgICAgICAgICAgICAgICAgICBjYXNlICd4JzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzb3VyY2VbaW5kZXhdID09PSAneycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICArK2luZGV4O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvb2tlZCArPSBzY2FuVW5pY29kZUNvZGVQb2ludEVzY2FwZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN0b3JlID0gaW5kZXg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5lc2NhcGVkID0gc2NhbkhleEVzY2FwZShjaCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHVuZXNjYXBlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb29rZWQgKz0gdW5lc2NhcGVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4ID0gcmVzdG9yZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29va2VkICs9IGNoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdiJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvb2tlZCArPSAnXFxiJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdmJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvb2tlZCArPSAnXFxmJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICd2JzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvb2tlZCArPSAnXFx2JztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2ggPT09ICcwJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0RlY2ltYWxEaWdpdChzb3VyY2UuY2hhckNvZGVBdChpbmRleCkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIElsbGVnYWw6IFxcMDEgXFwwMiBhbmQgc28gb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3dFcnJvcihNZXNzYWdlcy5UZW1wbGF0ZU9jdGFsTGl0ZXJhbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvb2tlZCArPSAnXFwwJztcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNPY3RhbERpZ2l0KGNoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIElsbGVnYWw6IFxcMSBcXDJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvd0Vycm9yKE1lc3NhZ2VzLlRlbXBsYXRlT2N0YWxMaXRlcmFsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29va2VkICs9IGNoO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICArK2xpbmVOdW1iZXI7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjaCA9PT0gJ1xccicgJiYgc291cmNlW2luZGV4XSA9PT0gJ1xcbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICsraW5kZXg7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbGluZVN0YXJ0ID0gaW5kZXg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChpc0xpbmVUZXJtaW5hdG9yKGNoLmNoYXJDb2RlQXQoMCkpKSB7XG4gICAgICAgICAgICAgICAgKytsaW5lTnVtYmVyO1xuICAgICAgICAgICAgICAgIGlmIChjaCA9PT0gJ1xccicgJiYgc291cmNlW2luZGV4XSA9PT0gJ1xcbicpIHtcbiAgICAgICAgICAgICAgICAgICAgKytpbmRleDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGluZVN0YXJ0ID0gaW5kZXg7XG4gICAgICAgICAgICAgICAgY29va2VkICs9ICdcXG4nO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb29rZWQgKz0gY2g7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRlcm1pbmF0ZWQpIHtcbiAgICAgICAgICAgIHRocm93VW5leHBlY3RlZFRva2VuKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWhlYWQpIHtcbiAgICAgICAgICAgIHN0YXRlLmN1cmx5U3RhY2sucG9wKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogVG9rZW4uVGVtcGxhdGUsXG4gICAgICAgICAgICB2YWx1ZToge1xuICAgICAgICAgICAgICAgIGNvb2tlZDogY29va2VkLFxuICAgICAgICAgICAgICAgIHJhdzogc291cmNlLnNsaWNlKHN0YXJ0ICsgMSwgaW5kZXggLSByYXdPZmZzZXQpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaGVhZDogaGVhZCxcbiAgICAgICAgICAgIHRhaWw6IHRhaWwsXG4gICAgICAgICAgICBsaW5lTnVtYmVyOiBsaW5lTnVtYmVyLFxuICAgICAgICAgICAgbGluZVN0YXJ0OiBsaW5lU3RhcnQsXG4gICAgICAgICAgICBzdGFydDogc3RhcnQsXG4gICAgICAgICAgICBlbmQ6IGluZGV4XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gRUNNQS0yNjIgMTEuOC41IFJlZ3VsYXIgRXhwcmVzc2lvbiBMaXRlcmFsc1xuXG4gICAgZnVuY3Rpb24gdGVzdFJlZ0V4cChwYXR0ZXJuLCBmbGFncykge1xuICAgICAgICAvLyBUaGUgQk1QIGNoYXJhY3RlciB0byB1c2UgYXMgYSByZXBsYWNlbWVudCBmb3IgYXN0cmFsIHN5bWJvbHMgd2hlblxuICAgICAgICAvLyB0cmFuc2xhdGluZyBhbiBFUzYgXCJ1XCItZmxhZ2dlZCBwYXR0ZXJuIHRvIGFuIEVTNS1jb21wYXRpYmxlXG4gICAgICAgIC8vIGFwcHJveGltYXRpb24uXG4gICAgICAgIC8vIE5vdGU6IHJlcGxhY2luZyB3aXRoICdcXHVGRkZGJyBlbmFibGVzIGZhbHNlIHBvc2l0aXZlcyBpbiB1bmxpa2VseVxuICAgICAgICAvLyBzY2VuYXJpb3MuIEZvciBleGFtcGxlLCBgW1xcdXsxMDQ0Zn0tXFx1ezEwNDQwfV1gIGlzIGFuIGludmFsaWRcbiAgICAgICAgLy8gcGF0dGVybiB0aGF0IHdvdWxkIG5vdCBiZSBkZXRlY3RlZCBieSB0aGlzIHN1YnN0aXR1dGlvbi5cbiAgICAgICAgdmFyIGFzdHJhbFN1YnN0aXR1dGUgPSAnXFx1RkZGRicsXG4gICAgICAgICAgICB0bXAgPSBwYXR0ZXJuO1xuXG4gICAgICAgIGlmIChmbGFncy5pbmRleE9mKCd1JykgPj0gMCkge1xuICAgICAgICAgICAgdG1wID0gdG1wXG4gICAgICAgICAgICAgICAgLy8gUmVwbGFjZSBldmVyeSBVbmljb2RlIGVzY2FwZSBzZXF1ZW5jZSB3aXRoIHRoZSBlcXVpdmFsZW50XG4gICAgICAgICAgICAgICAgLy8gQk1QIGNoYXJhY3RlciBvciBhIGNvbnN0YW50IEFTQ0lJIGNvZGUgcG9pbnQgaW4gdGhlIGNhc2Ugb2ZcbiAgICAgICAgICAgICAgICAvLyBhc3RyYWwgc3ltYm9scy4gKFNlZSB0aGUgYWJvdmUgbm90ZSBvbiBgYXN0cmFsU3Vic3RpdHV0ZWBcbiAgICAgICAgICAgICAgICAvLyBmb3IgbW9yZSBpbmZvcm1hdGlvbi4pXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcXFx1XFx7KFswLTlhLWZBLUZdKylcXH18XFxcXHUoW2EtZkEtRjAtOV17NH0pL2csIGZ1bmN0aW9uICgkMCwgJDEsICQyKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjb2RlUG9pbnQgPSBwYXJzZUludCgkMSB8fCAkMiwgMTYpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29kZVBvaW50ID4gMHgxMEZGRkYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93VW5leHBlY3RlZFRva2VuKG51bGwsIE1lc3NhZ2VzLkludmFsaWRSZWdFeHApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb2RlUG9pbnQgPD0gMHhGRkZGKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShjb2RlUG9pbnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhc3RyYWxTdWJzdGl0dXRlO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLy8gUmVwbGFjZSBlYWNoIHBhaXJlZCBzdXJyb2dhdGUgd2l0aCBhIHNpbmdsZSBBU0NJSSBzeW1ib2wgdG9cbiAgICAgICAgICAgICAgICAvLyBhdm9pZCB0aHJvd2luZyBvbiByZWd1bGFyIGV4cHJlc3Npb25zIHRoYXQgYXJlIG9ubHkgdmFsaWQgaW5cbiAgICAgICAgICAgICAgICAvLyBjb21iaW5hdGlvbiB3aXRoIHRoZSBcInVcIiBmbGFnLlxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKFxuICAgICAgICAgICAgICAgICAgICAvW1xcdUQ4MDAtXFx1REJGRl1bXFx1REMwMC1cXHVERkZGXS9nLFxuICAgICAgICAgICAgICAgICAgICBhc3RyYWxTdWJzdGl0dXRlXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEZpcnN0LCBkZXRlY3QgaW52YWxpZCByZWd1bGFyIGV4cHJlc3Npb25zLlxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgUmVnRXhwKHRtcCk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHRocm93VW5leHBlY3RlZFRva2VuKG51bGwsIE1lc3NhZ2VzLkludmFsaWRSZWdFeHApO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUmV0dXJuIGEgcmVndWxhciBleHByZXNzaW9uIG9iamVjdCBmb3IgdGhpcyBwYXR0ZXJuLWZsYWcgcGFpciwgb3JcbiAgICAgICAgLy8gYG51bGxgIGluIGNhc2UgdGhlIGN1cnJlbnQgZW52aXJvbm1lbnQgZG9lc24ndCBzdXBwb3J0IHRoZSBmbGFncyBpdFxuICAgICAgICAvLyB1c2VzLlxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAocGF0dGVybiwgZmxhZ3MpO1xuICAgICAgICB9IGNhdGNoIChleGNlcHRpb24pIHtcbiAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNjYW5SZWdFeHBCb2R5KCkge1xuICAgICAgICB2YXIgY2gsIHN0ciwgY2xhc3NNYXJrZXIsIHRlcm1pbmF0ZWQsIGJvZHk7XG5cbiAgICAgICAgY2ggPSBzb3VyY2VbaW5kZXhdO1xuICAgICAgICBhc3NlcnQoY2ggPT09ICcvJywgJ1JlZ3VsYXIgZXhwcmVzc2lvbiBsaXRlcmFsIG11c3Qgc3RhcnQgd2l0aCBhIHNsYXNoJyk7XG4gICAgICAgIHN0ciA9IHNvdXJjZVtpbmRleCsrXTtcblxuICAgICAgICBjbGFzc01hcmtlciA9IGZhbHNlO1xuICAgICAgICB0ZXJtaW5hdGVkID0gZmFsc2U7XG4gICAgICAgIHdoaWxlIChpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgICAgY2ggPSBzb3VyY2VbaW5kZXgrK107XG4gICAgICAgICAgICBzdHIgKz0gY2g7XG4gICAgICAgICAgICBpZiAoY2ggPT09ICdcXFxcJykge1xuICAgICAgICAgICAgICAgIGNoID0gc291cmNlW2luZGV4KytdO1xuICAgICAgICAgICAgICAgIC8vIEVDTUEtMjYyIDcuOC41XG4gICAgICAgICAgICAgICAgaWYgKGlzTGluZVRlcm1pbmF0b3IoY2guY2hhckNvZGVBdCgwKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3dVbmV4cGVjdGVkVG9rZW4obnVsbCwgTWVzc2FnZXMuVW50ZXJtaW5hdGVkUmVnRXhwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc3RyICs9IGNoO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpc0xpbmVUZXJtaW5hdG9yKGNoLmNoYXJDb2RlQXQoMCkpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3dVbmV4cGVjdGVkVG9rZW4obnVsbCwgTWVzc2FnZXMuVW50ZXJtaW5hdGVkUmVnRXhwKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY2xhc3NNYXJrZXIpIHtcbiAgICAgICAgICAgICAgICBpZiAoY2ggPT09ICddJykge1xuICAgICAgICAgICAgICAgICAgICBjbGFzc01hcmtlciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKGNoID09PSAnLycpIHtcbiAgICAgICAgICAgICAgICAgICAgdGVybWluYXRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2ggPT09ICdbJykge1xuICAgICAgICAgICAgICAgICAgICBjbGFzc01hcmtlciA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0ZXJtaW5hdGVkKSB7XG4gICAgICAgICAgICB0aHJvd1VuZXhwZWN0ZWRUb2tlbihudWxsLCBNZXNzYWdlcy5VbnRlcm1pbmF0ZWRSZWdFeHApO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRXhjbHVkZSBsZWFkaW5nIGFuZCB0cmFpbGluZyBzbGFzaC5cbiAgICAgICAgYm9keSA9IHN0ci5zdWJzdHIoMSwgc3RyLmxlbmd0aCAtIDIpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdmFsdWU6IGJvZHksXG4gICAgICAgICAgICBsaXRlcmFsOiBzdHJcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzY2FuUmVnRXhwRmxhZ3MoKSB7XG4gICAgICAgIHZhciBjaCwgc3RyLCBmbGFncywgcmVzdG9yZTtcblxuICAgICAgICBzdHIgPSAnJztcbiAgICAgICAgZmxhZ3MgPSAnJztcbiAgICAgICAgd2hpbGUgKGluZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgICBjaCA9IHNvdXJjZVtpbmRleF07XG4gICAgICAgICAgICBpZiAoIWlzSWRlbnRpZmllclBhcnQoY2guY2hhckNvZGVBdCgwKSkpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgKytpbmRleDtcbiAgICAgICAgICAgIGlmIChjaCA9PT0gJ1xcXFwnICYmIGluZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgY2ggPSBzb3VyY2VbaW5kZXhdO1xuICAgICAgICAgICAgICAgIGlmIChjaCA9PT0gJ3UnKSB7XG4gICAgICAgICAgICAgICAgICAgICsraW5kZXg7XG4gICAgICAgICAgICAgICAgICAgIHJlc3RvcmUgPSBpbmRleDtcbiAgICAgICAgICAgICAgICAgICAgY2ggPSBzY2FuSGV4RXNjYXBlKCd1Jyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjaCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmxhZ3MgKz0gY2g7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHN0ciArPSAnXFxcXHUnOyByZXN0b3JlIDwgaW5kZXg7ICsrcmVzdG9yZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ciArPSBzb3VyY2VbcmVzdG9yZV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleCA9IHJlc3RvcmU7XG4gICAgICAgICAgICAgICAgICAgICAgICBmbGFncyArPSAndSc7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHIgKz0gJ1xcXFx1JztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0b2xlcmF0ZVVuZXhwZWN0ZWRUb2tlbigpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHN0ciArPSAnXFxcXCc7XG4gICAgICAgICAgICAgICAgICAgIHRvbGVyYXRlVW5leHBlY3RlZFRva2VuKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBmbGFncyArPSBjaDtcbiAgICAgICAgICAgICAgICBzdHIgKz0gY2g7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdmFsdWU6IGZsYWdzLFxuICAgICAgICAgICAgbGl0ZXJhbDogc3RyXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2NhblJlZ0V4cCgpIHtcbiAgICAgICAgdmFyIHN0YXJ0LCBib2R5LCBmbGFncywgdmFsdWU7XG4gICAgICAgIHNjYW5uaW5nID0gdHJ1ZTtcblxuICAgICAgICBsb29rYWhlYWQgPSBudWxsO1xuICAgICAgICBza2lwQ29tbWVudCgpO1xuICAgICAgICBzdGFydCA9IGluZGV4O1xuXG4gICAgICAgIGJvZHkgPSBzY2FuUmVnRXhwQm9keSgpO1xuICAgICAgICBmbGFncyA9IHNjYW5SZWdFeHBGbGFncygpO1xuICAgICAgICB2YWx1ZSA9IHRlc3RSZWdFeHAoYm9keS52YWx1ZSwgZmxhZ3MudmFsdWUpO1xuICAgICAgICBzY2FubmluZyA9IGZhbHNlO1xuICAgICAgICBpZiAoZXh0cmEudG9rZW5pemUpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdHlwZTogVG9rZW4uUmVndWxhckV4cHJlc3Npb24sXG4gICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgICAgIHJlZ2V4OiB7XG4gICAgICAgICAgICAgICAgICAgIHBhdHRlcm46IGJvZHkudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIGZsYWdzOiBmbGFncy52YWx1ZVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgbGluZU51bWJlcjogbGluZU51bWJlcixcbiAgICAgICAgICAgICAgICBsaW5lU3RhcnQ6IGxpbmVTdGFydCxcbiAgICAgICAgICAgICAgICBzdGFydDogc3RhcnQsXG4gICAgICAgICAgICAgICAgZW5kOiBpbmRleFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBsaXRlcmFsOiBib2R5LmxpdGVyYWwgKyBmbGFncy5saXRlcmFsLFxuICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgcmVnZXg6IHtcbiAgICAgICAgICAgICAgICBwYXR0ZXJuOiBib2R5LnZhbHVlLFxuICAgICAgICAgICAgICAgIGZsYWdzOiBmbGFncy52YWx1ZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN0YXJ0OiBzdGFydCxcbiAgICAgICAgICAgIGVuZDogaW5kZXhcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjb2xsZWN0UmVnZXgoKSB7XG4gICAgICAgIHZhciBwb3MsIGxvYywgcmVnZXgsIHRva2VuO1xuXG4gICAgICAgIHNraXBDb21tZW50KCk7XG5cbiAgICAgICAgcG9zID0gaW5kZXg7XG4gICAgICAgIGxvYyA9IHtcbiAgICAgICAgICAgIHN0YXJ0OiB7XG4gICAgICAgICAgICAgICAgbGluZTogbGluZU51bWJlcixcbiAgICAgICAgICAgICAgICBjb2x1bW46IGluZGV4IC0gbGluZVN0YXJ0XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgcmVnZXggPSBzY2FuUmVnRXhwKCk7XG5cbiAgICAgICAgbG9jLmVuZCA9IHtcbiAgICAgICAgICAgIGxpbmU6IGxpbmVOdW1iZXIsXG4gICAgICAgICAgICBjb2x1bW46IGluZGV4IC0gbGluZVN0YXJ0XG4gICAgICAgIH07XG5cbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgaWYgKCFleHRyYS50b2tlbml6ZSkge1xuICAgICAgICAgICAgLy8gUG9wIHRoZSBwcmV2aW91cyB0b2tlbiwgd2hpY2ggaXMgbGlrZWx5ICcvJyBvciAnLz0nXG4gICAgICAgICAgICBpZiAoZXh0cmEudG9rZW5zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA9IGV4dHJhLnRva2Vuc1tleHRyYS50b2tlbnMubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICAgICAgaWYgKHRva2VuLnJhbmdlWzBdID09PSBwb3MgJiYgdG9rZW4udHlwZSA9PT0gJ1B1bmN0dWF0b3InKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0b2tlbi52YWx1ZSA9PT0gJy8nIHx8IHRva2VuLnZhbHVlID09PSAnLz0nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBleHRyYS50b2tlbnMucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGV4dHJhLnRva2Vucy5wdXNoKHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnUmVndWxhckV4cHJlc3Npb24nLFxuICAgICAgICAgICAgICAgIHZhbHVlOiByZWdleC5saXRlcmFsLFxuICAgICAgICAgICAgICAgIHJlZ2V4OiByZWdleC5yZWdleCxcbiAgICAgICAgICAgICAgICByYW5nZTogW3BvcywgaW5kZXhdLFxuICAgICAgICAgICAgICAgIGxvYzogbG9jXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZWdleDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc0lkZW50aWZpZXJOYW1lKHRva2VuKSB7XG4gICAgICAgIHJldHVybiB0b2tlbi50eXBlID09PSBUb2tlbi5JZGVudGlmaWVyIHx8XG4gICAgICAgICAgICB0b2tlbi50eXBlID09PSBUb2tlbi5LZXl3b3JkIHx8XG4gICAgICAgICAgICB0b2tlbi50eXBlID09PSBUb2tlbi5Cb29sZWFuTGl0ZXJhbCB8fFxuICAgICAgICAgICAgdG9rZW4udHlwZSA9PT0gVG9rZW4uTnVsbExpdGVyYWw7XG4gICAgfVxuXG4gICAgLy8gVXNpbmcgdGhlIGZvbGxvd2luZyBhbGdvcml0aG06XG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL21vemlsbGEvc3dlZXQuanMvd2lraS9kZXNpZ25cblxuICAgIGZ1bmN0aW9uIGFkdmFuY2VTbGFzaCgpIHtcbiAgICAgICAgdmFyIHJlZ2V4LCBwcmV2aW91cywgY2hlY2s7XG5cbiAgICAgICAgZnVuY3Rpb24gdGVzdEtleXdvcmQodmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZSAmJiAodmFsdWUubGVuZ3RoID4gMSkgJiYgKHZhbHVlWzBdID49ICdhJykgJiYgKHZhbHVlWzBdIDw9ICd6Jyk7XG4gICAgICAgIH1cblxuICAgICAgICBwcmV2aW91cyA9IGV4dHJhLnRva2VuVmFsdWVzW2V4dHJhLnRva2VuVmFsdWVzLmxlbmd0aCAtIDFdO1xuICAgICAgICByZWdleCA9IChwcmV2aW91cyAhPT0gbnVsbCk7XG5cbiAgICAgICAgc3dpdGNoIChwcmV2aW91cykge1xuICAgICAgICBjYXNlICd0aGlzJzpcbiAgICAgICAgY2FzZSAnXSc6XG4gICAgICAgICAgICByZWdleCA9IGZhbHNlO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAnKSc6XG4gICAgICAgICAgICBjaGVjayA9IGV4dHJhLnRva2VuVmFsdWVzW2V4dHJhLm9wZW5QYXJlblRva2VuIC0gMV07XG4gICAgICAgICAgICByZWdleCA9IChjaGVjayA9PT0gJ2lmJyB8fCBjaGVjayA9PT0gJ3doaWxlJyB8fCBjaGVjayA9PT0gJ2ZvcicgfHwgY2hlY2sgPT09ICd3aXRoJyk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICd9JzpcbiAgICAgICAgICAgIC8vIERpdmlkaW5nIGEgZnVuY3Rpb24gYnkgYW55dGhpbmcgbWFrZXMgbGl0dGxlIHNlbnNlLFxuICAgICAgICAgICAgLy8gYnV0IHdlIGhhdmUgdG8gY2hlY2sgZm9yIHRoYXQuXG4gICAgICAgICAgICByZWdleCA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKHRlc3RLZXl3b3JkKGV4dHJhLnRva2VuVmFsdWVzW2V4dHJhLm9wZW5DdXJseVRva2VuIC0gM10pKSB7XG4gICAgICAgICAgICAgICAgLy8gQW5vbnltb3VzIGZ1bmN0aW9uLCBlLmcuIGZ1bmN0aW9uKCl7fSAvNDJcbiAgICAgICAgICAgICAgICBjaGVjayA9IGV4dHJhLnRva2VuVmFsdWVzW2V4dHJhLm9wZW5DdXJseVRva2VuIC0gNF07XG4gICAgICAgICAgICAgICAgcmVnZXggPSBjaGVjayA/IChGbkV4cHJUb2tlbnMuaW5kZXhPZihjaGVjaykgPCAwKSA6IGZhbHNlO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0ZXN0S2V5d29yZChleHRyYS50b2tlblZhbHVlc1tleHRyYS5vcGVuQ3VybHlUb2tlbiAtIDRdKSkge1xuICAgICAgICAgICAgICAgIC8vIE5hbWVkIGZ1bmN0aW9uLCBlLmcuIGZ1bmN0aW9uIGYoKXt9IC80Mi9cbiAgICAgICAgICAgICAgICBjaGVjayA9IGV4dHJhLnRva2VuVmFsdWVzW2V4dHJhLm9wZW5DdXJseVRva2VuIC0gNV07XG4gICAgICAgICAgICAgICAgcmVnZXggPSBjaGVjayA/IChGbkV4cHJUb2tlbnMuaW5kZXhPZihjaGVjaykgPCAwKSA6IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVnZXggPyBjb2xsZWN0UmVnZXgoKSA6IHNjYW5QdW5jdHVhdG9yKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYWR2YW5jZSgpIHtcbiAgICAgICAgdmFyIGNwLCB0b2tlbjtcblxuICAgICAgICBpZiAoaW5kZXggPj0gbGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHR5cGU6IFRva2VuLkVPRixcbiAgICAgICAgICAgICAgICBsaW5lTnVtYmVyOiBsaW5lTnVtYmVyLFxuICAgICAgICAgICAgICAgIGxpbmVTdGFydDogbGluZVN0YXJ0LFxuICAgICAgICAgICAgICAgIHN0YXJ0OiBpbmRleCxcbiAgICAgICAgICAgICAgICBlbmQ6IGluZGV4XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgY3AgPSBzb3VyY2UuY2hhckNvZGVBdChpbmRleCk7XG5cbiAgICAgICAgaWYgKGlzSWRlbnRpZmllclN0YXJ0KGNwKSkge1xuICAgICAgICAgICAgdG9rZW4gPSBzY2FuSWRlbnRpZmllcigpO1xuICAgICAgICAgICAgaWYgKHN0cmljdCAmJiBpc1N0cmljdE1vZGVSZXNlcnZlZFdvcmQodG9rZW4udmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgdG9rZW4udHlwZSA9IFRva2VuLktleXdvcmQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdG9rZW47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBWZXJ5IGNvbW1vbjogKCBhbmQgKSBhbmQgO1xuICAgICAgICBpZiAoY3AgPT09IDB4MjggfHwgY3AgPT09IDB4MjkgfHwgY3AgPT09IDB4M0IpIHtcbiAgICAgICAgICAgIHJldHVybiBzY2FuUHVuY3R1YXRvcigpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU3RyaW5nIGxpdGVyYWwgc3RhcnRzIHdpdGggc2luZ2xlIHF1b3RlIChVKzAwMjcpIG9yIGRvdWJsZSBxdW90ZSAoVSswMDIyKS5cbiAgICAgICAgaWYgKGNwID09PSAweDI3IHx8IGNwID09PSAweDIyKSB7XG4gICAgICAgICAgICByZXR1cm4gc2NhblN0cmluZ0xpdGVyYWwoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIERvdCAoLikgVSswMDJFIGNhbiBhbHNvIHN0YXJ0IGEgZmxvYXRpbmctcG9pbnQgbnVtYmVyLCBoZW5jZSB0aGUgbmVlZFxuICAgICAgICAvLyB0byBjaGVjayB0aGUgbmV4dCBjaGFyYWN0ZXIuXG4gICAgICAgIGlmIChjcCA9PT0gMHgyRSkge1xuICAgICAgICAgICAgaWYgKGlzRGVjaW1hbERpZ2l0KHNvdXJjZS5jaGFyQ29kZUF0KGluZGV4ICsgMSkpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNjYW5OdW1lcmljTGl0ZXJhbCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHNjYW5QdW5jdHVhdG9yKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNEZWNpbWFsRGlnaXQoY3ApKSB7XG4gICAgICAgICAgICByZXR1cm4gc2Nhbk51bWVyaWNMaXRlcmFsKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTbGFzaCAoLykgVSswMDJGIGNhbiBhbHNvIHN0YXJ0IGEgcmVnZXguXG4gICAgICAgIGlmIChleHRyYS50b2tlbml6ZSAmJiBjcCA9PT0gMHgyRikge1xuICAgICAgICAgICAgcmV0dXJuIGFkdmFuY2VTbGFzaCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVGVtcGxhdGUgbGl0ZXJhbHMgc3RhcnQgd2l0aCBgIChVKzAwNjApIGZvciB0ZW1wbGF0ZSBoZWFkXG4gICAgICAgIC8vIG9yIH0gKFUrMDA3RCkgZm9yIHRlbXBsYXRlIG1pZGRsZSBvciB0ZW1wbGF0ZSB0YWlsLlxuICAgICAgICBpZiAoY3AgPT09IDB4NjAgfHwgKGNwID09PSAweDdEICYmIHN0YXRlLmN1cmx5U3RhY2tbc3RhdGUuY3VybHlTdGFjay5sZW5ndGggLSAxXSA9PT0gJyR7JykpIHtcbiAgICAgICAgICAgIHJldHVybiBzY2FuVGVtcGxhdGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFBvc3NpYmxlIGlkZW50aWZpZXIgc3RhcnQgaW4gYSBzdXJyb2dhdGUgcGFpci5cbiAgICAgICAgaWYgKGNwID49IDB4RDgwMCAmJiBjcCA8IDB4REZGRikge1xuICAgICAgICAgICAgY3AgPSBjb2RlUG9pbnRBdChpbmRleCk7XG4gICAgICAgICAgICBpZiAoaXNJZGVudGlmaWVyU3RhcnQoY3ApKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNjYW5JZGVudGlmaWVyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc2NhblB1bmN0dWF0b3IoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjb2xsZWN0VG9rZW4oKSB7XG4gICAgICAgIHZhciBsb2MsIHRva2VuLCB2YWx1ZSwgZW50cnk7XG5cbiAgICAgICAgbG9jID0ge1xuICAgICAgICAgICAgc3RhcnQ6IHtcbiAgICAgICAgICAgICAgICBsaW5lOiBsaW5lTnVtYmVyLFxuICAgICAgICAgICAgICAgIGNvbHVtbjogaW5kZXggLSBsaW5lU3RhcnRcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICB0b2tlbiA9IGFkdmFuY2UoKTtcbiAgICAgICAgbG9jLmVuZCA9IHtcbiAgICAgICAgICAgIGxpbmU6IGxpbmVOdW1iZXIsXG4gICAgICAgICAgICBjb2x1bW46IGluZGV4IC0gbGluZVN0YXJ0XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKHRva2VuLnR5cGUgIT09IFRva2VuLkVPRikge1xuICAgICAgICAgICAgdmFsdWUgPSBzb3VyY2Uuc2xpY2UodG9rZW4uc3RhcnQsIHRva2VuLmVuZCk7XG4gICAgICAgICAgICBlbnRyeSA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiBUb2tlbk5hbWVbdG9rZW4udHlwZV0sXG4gICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgICAgIHJhbmdlOiBbdG9rZW4uc3RhcnQsIHRva2VuLmVuZF0sXG4gICAgICAgICAgICAgICAgbG9jOiBsb2NcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAodG9rZW4ucmVnZXgpIHtcbiAgICAgICAgICAgICAgICBlbnRyeS5yZWdleCA9IHtcbiAgICAgICAgICAgICAgICAgICAgcGF0dGVybjogdG9rZW4ucmVnZXgucGF0dGVybixcbiAgICAgICAgICAgICAgICAgICAgZmxhZ3M6IHRva2VuLnJlZ2V4LmZsYWdzXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChleHRyYS50b2tlblZhbHVlcykge1xuICAgICAgICAgICAgICAgIGV4dHJhLnRva2VuVmFsdWVzLnB1c2goKGVudHJ5LnR5cGUgPT09ICdQdW5jdHVhdG9yJyB8fCBlbnRyeS50eXBlID09PSAnS2V5d29yZCcpID8gZW50cnkudmFsdWUgOiBudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChleHRyYS50b2tlbml6ZSkge1xuICAgICAgICAgICAgICAgIGlmICghZXh0cmEucmFuZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGVudHJ5LnJhbmdlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIWV4dHJhLmxvYykge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgZW50cnkubG9jO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZXh0cmEuZGVsZWdhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgZW50cnkgPSBleHRyYS5kZWxlZ2F0ZShlbnRyeSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZXh0cmEudG9rZW5zLnB1c2goZW50cnkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRva2VuO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxleCgpIHtcbiAgICAgICAgdmFyIHRva2VuO1xuICAgICAgICBzY2FubmluZyA9IHRydWU7XG5cbiAgICAgICAgbGFzdEluZGV4ID0gaW5kZXg7XG4gICAgICAgIGxhc3RMaW5lTnVtYmVyID0gbGluZU51bWJlcjtcbiAgICAgICAgbGFzdExpbmVTdGFydCA9IGxpbmVTdGFydDtcblxuICAgICAgICBza2lwQ29tbWVudCgpO1xuXG4gICAgICAgIHRva2VuID0gbG9va2FoZWFkO1xuXG4gICAgICAgIHN0YXJ0SW5kZXggPSBpbmRleDtcbiAgICAgICAgc3RhcnRMaW5lTnVtYmVyID0gbGluZU51bWJlcjtcbiAgICAgICAgc3RhcnRMaW5lU3RhcnQgPSBsaW5lU3RhcnQ7XG5cbiAgICAgICAgbG9va2FoZWFkID0gKHR5cGVvZiBleHRyYS50b2tlbnMgIT09ICd1bmRlZmluZWQnKSA/IGNvbGxlY3RUb2tlbigpIDogYWR2YW5jZSgpO1xuICAgICAgICBzY2FubmluZyA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gdG9rZW47XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcGVlaygpIHtcbiAgICAgICAgc2Nhbm5pbmcgPSB0cnVlO1xuXG4gICAgICAgIHNraXBDb21tZW50KCk7XG5cbiAgICAgICAgbGFzdEluZGV4ID0gaW5kZXg7XG4gICAgICAgIGxhc3RMaW5lTnVtYmVyID0gbGluZU51bWJlcjtcbiAgICAgICAgbGFzdExpbmVTdGFydCA9IGxpbmVTdGFydDtcblxuICAgICAgICBzdGFydEluZGV4ID0gaW5kZXg7XG4gICAgICAgIHN0YXJ0TGluZU51bWJlciA9IGxpbmVOdW1iZXI7XG4gICAgICAgIHN0YXJ0TGluZVN0YXJ0ID0gbGluZVN0YXJ0O1xuXG4gICAgICAgIGxvb2thaGVhZCA9ICh0eXBlb2YgZXh0cmEudG9rZW5zICE9PSAndW5kZWZpbmVkJykgPyBjb2xsZWN0VG9rZW4oKSA6IGFkdmFuY2UoKTtcbiAgICAgICAgc2Nhbm5pbmcgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBQb3NpdGlvbigpIHtcbiAgICAgICAgdGhpcy5saW5lID0gc3RhcnRMaW5lTnVtYmVyO1xuICAgICAgICB0aGlzLmNvbHVtbiA9IHN0YXJ0SW5kZXggLSBzdGFydExpbmVTdGFydDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBTb3VyY2VMb2NhdGlvbigpIHtcbiAgICAgICAgdGhpcy5zdGFydCA9IG5ldyBQb3NpdGlvbigpO1xuICAgICAgICB0aGlzLmVuZCA9IG51bGw7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gV3JhcHBpbmdTb3VyY2VMb2NhdGlvbihzdGFydFRva2VuKSB7XG4gICAgICAgIHRoaXMuc3RhcnQgPSB7XG4gICAgICAgICAgICBsaW5lOiBzdGFydFRva2VuLmxpbmVOdW1iZXIsXG4gICAgICAgICAgICBjb2x1bW46IHN0YXJ0VG9rZW4uc3RhcnQgLSBzdGFydFRva2VuLmxpbmVTdGFydFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmVuZCA9IG51bGw7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gTm9kZSgpIHtcbiAgICAgICAgaWYgKGV4dHJhLnJhbmdlKSB7XG4gICAgICAgICAgICB0aGlzLnJhbmdlID0gW3N0YXJ0SW5kZXgsIDBdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChleHRyYS5sb2MpIHtcbiAgICAgICAgICAgIHRoaXMubG9jID0gbmV3IFNvdXJjZUxvY2F0aW9uKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBXcmFwcGluZ05vZGUoc3RhcnRUb2tlbikge1xuICAgICAgICBpZiAoZXh0cmEucmFuZ2UpIHtcbiAgICAgICAgICAgIHRoaXMucmFuZ2UgPSBbc3RhcnRUb2tlbi5zdGFydCwgMF07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV4dHJhLmxvYykge1xuICAgICAgICAgICAgdGhpcy5sb2MgPSBuZXcgV3JhcHBpbmdTb3VyY2VMb2NhdGlvbihzdGFydFRva2VuKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIFdyYXBwaW5nTm9kZS5wcm90b3R5cGUgPSBOb2RlLnByb3RvdHlwZSA9IHtcblxuICAgICAgICBwcm9jZXNzQ29tbWVudDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGxhc3RDaGlsZCxcbiAgICAgICAgICAgICAgICBpbm5lckNvbW1lbnRzLFxuICAgICAgICAgICAgICAgIGxlYWRpbmdDb21tZW50cyxcbiAgICAgICAgICAgICAgICB0cmFpbGluZ0NvbW1lbnRzLFxuICAgICAgICAgICAgICAgIGJvdHRvbVJpZ2h0ID0gZXh0cmEuYm90dG9tUmlnaHRTdGFjayxcbiAgICAgICAgICAgICAgICBpLFxuICAgICAgICAgICAgICAgIGNvbW1lbnQsXG4gICAgICAgICAgICAgICAgbGFzdCA9IGJvdHRvbVJpZ2h0W2JvdHRvbVJpZ2h0Lmxlbmd0aCAtIDFdO1xuXG4gICAgICAgICAgICBpZiAodGhpcy50eXBlID09PSBTeW50YXguUHJvZ3JhbSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmJvZHkubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBwYXRjaCBpbm5uZXJDb21tZW50cyBmb3IgcHJvcGVydGllcyBlbXB0eSBibG9ja1xuICAgICAgICAgICAgICogYGZ1bmN0aW9uIGEoKSB7LyoqIGNvbW1lbnRzICoqXFwvfWBcbiAgICAgICAgICAgICAqL1xuXG4gICAgICAgICAgICBpZiAodGhpcy50eXBlID09PSBTeW50YXguQmxvY2tTdGF0ZW1lbnQgJiYgdGhpcy5ib2R5Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGlubmVyQ29tbWVudHMgPSBbXTtcbiAgICAgICAgICAgICAgICBmb3IgKGkgPSBleHRyYS5sZWFkaW5nQ29tbWVudHMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29tbWVudCA9IGV4dHJhLmxlYWRpbmdDb21tZW50c1tpXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucmFuZ2VbMV0gPj0gY29tbWVudC5yYW5nZVsxXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5uZXJDb21tZW50cy51bnNoaWZ0KGNvbW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmEubGVhZGluZ0NvbW1lbnRzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhLnRyYWlsaW5nQ29tbWVudHMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpbm5lckNvbW1lbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmlubmVyQ29tbWVudHMgPSBpbm5lckNvbW1lbnRzO1xuICAgICAgICAgICAgICAgICAgICAvL2JvdHRvbVJpZ2h0LnB1c2godGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChleHRyYS50cmFpbGluZ0NvbW1lbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICB0cmFpbGluZ0NvbW1lbnRzID0gW107XG4gICAgICAgICAgICAgICAgZm9yIChpID0gZXh0cmEudHJhaWxpbmdDb21tZW50cy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICAgICAgICAgICAgICBjb21tZW50ID0gZXh0cmEudHJhaWxpbmdDb21tZW50c1tpXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbW1lbnQucmFuZ2VbMF0gPj0gdGhpcy5yYW5nZVsxXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJhaWxpbmdDb21tZW50cy51bnNoaWZ0KGNvbW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmEudHJhaWxpbmdDb21tZW50cy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZXh0cmEudHJhaWxpbmdDb21tZW50cyA9IFtdO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAobGFzdCAmJiBsYXN0LnRyYWlsaW5nQ29tbWVudHMgJiYgbGFzdC50cmFpbGluZ0NvbW1lbnRzWzBdLnJhbmdlWzBdID49IHRoaXMucmFuZ2VbMV0pIHtcbiAgICAgICAgICAgICAgICAgICAgdHJhaWxpbmdDb21tZW50cyA9IGxhc3QudHJhaWxpbmdDb21tZW50cztcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGxhc3QudHJhaWxpbmdDb21tZW50cztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEVhdGluZyB0aGUgc3RhY2suXG4gICAgICAgICAgICB3aGlsZSAobGFzdCAmJiBsYXN0LnJhbmdlWzBdID49IHRoaXMucmFuZ2VbMF0pIHtcbiAgICAgICAgICAgICAgICBsYXN0Q2hpbGQgPSBib3R0b21SaWdodC5wb3AoKTtcbiAgICAgICAgICAgICAgICBsYXN0ID0gYm90dG9tUmlnaHRbYm90dG9tUmlnaHQubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChsYXN0Q2hpbGQpIHtcbiAgICAgICAgICAgICAgICBpZiAobGFzdENoaWxkLmxlYWRpbmdDb21tZW50cykge1xuICAgICAgICAgICAgICAgICAgICBsZWFkaW5nQ29tbWVudHMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gbGFzdENoaWxkLmxlYWRpbmdDb21tZW50cy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29tbWVudCA9IGxhc3RDaGlsZC5sZWFkaW5nQ29tbWVudHNbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29tbWVudC5yYW5nZVsxXSA8PSB0aGlzLnJhbmdlWzBdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVhZGluZ0NvbW1lbnRzLnVuc2hpZnQoY29tbWVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdENoaWxkLmxlYWRpbmdDb21tZW50cy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoIWxhc3RDaGlsZC5sZWFkaW5nQ29tbWVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsYXN0Q2hpbGQubGVhZGluZ0NvbW1lbnRzID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChleHRyYS5sZWFkaW5nQ29tbWVudHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGxlYWRpbmdDb21tZW50cyA9IFtdO1xuICAgICAgICAgICAgICAgIGZvciAoaSA9IGV4dHJhLmxlYWRpbmdDb21tZW50cy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICAgICAgICAgICAgICBjb21tZW50ID0gZXh0cmEubGVhZGluZ0NvbW1lbnRzW2ldO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29tbWVudC5yYW5nZVsxXSA8PSB0aGlzLnJhbmdlWzBdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZWFkaW5nQ29tbWVudHMudW5zaGlmdChjb21tZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhLmxlYWRpbmdDb21tZW50cy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgaWYgKGxlYWRpbmdDb21tZW50cyAmJiBsZWFkaW5nQ29tbWVudHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMubGVhZGluZ0NvbW1lbnRzID0gbGVhZGluZ0NvbW1lbnRzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRyYWlsaW5nQ29tbWVudHMgJiYgdHJhaWxpbmdDb21tZW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50cmFpbGluZ0NvbW1lbnRzID0gdHJhaWxpbmdDb21tZW50cztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYm90dG9tUmlnaHQucHVzaCh0aGlzKTtcbiAgICAgICAgfSxcblxuICAgICAgICBmaW5pc2g6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChleHRyYS5yYW5nZSkge1xuICAgICAgICAgICAgICAgIHRoaXMucmFuZ2VbMV0gPSBsYXN0SW5kZXg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZXh0cmEubG9jKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2MuZW5kID0ge1xuICAgICAgICAgICAgICAgICAgICBsaW5lOiBsYXN0TGluZU51bWJlcixcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uOiBsYXN0SW5kZXggLSBsYXN0TGluZVN0YXJ0XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBpZiAoZXh0cmEuc291cmNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9jLnNvdXJjZSA9IGV4dHJhLnNvdXJjZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChleHRyYS5hdHRhY2hDb21tZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wcm9jZXNzQ29tbWVudCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIGZpbmlzaEFycmF5RXhwcmVzc2lvbjogZnVuY3Rpb24gKGVsZW1lbnRzKSB7XG4gICAgICAgICAgICB0aGlzLnR5cGUgPSBTeW50YXguQXJyYXlFeHByZXNzaW9uO1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50cyA9IGVsZW1lbnRzO1xuICAgICAgICAgICAgdGhpcy5maW5pc2goKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuXG4gICAgICAgIGZpbmlzaEFycmF5UGF0dGVybjogZnVuY3Rpb24gKGVsZW1lbnRzKSB7XG4gICAgICAgICAgICB0aGlzLnR5cGUgPSBTeW50YXguQXJyYXlQYXR0ZXJuO1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50cyA9IGVsZW1lbnRzO1xuICAgICAgICAgICAgdGhpcy5maW5pc2goKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuXG4gICAgICAgIGZpbmlzaEFycm93RnVuY3Rpb25FeHByZXNzaW9uOiBmdW5jdGlvbiAocGFyYW1zLCBkZWZhdWx0cywgYm9keSwgZXhwcmVzc2lvbikge1xuICAgICAgICAgICAgdGhpcy50eXBlID0gU3ludGF4LkFycm93RnVuY3Rpb25FeHByZXNzaW9uO1xuICAgICAgICAgICAgdGhpcy5pZCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLnBhcmFtcyA9IHBhcmFtcztcbiAgICAgICAgICAgIHRoaXMuZGVmYXVsdHMgPSBkZWZhdWx0cztcbiAgICAgICAgICAgIHRoaXMuYm9keSA9IGJvZHk7XG4gICAgICAgICAgICB0aGlzLmdlbmVyYXRvciA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5leHByZXNzaW9uID0gZXhwcmVzc2lvbjtcbiAgICAgICAgICAgIHRoaXMuZmluaXNoKCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSxcblxuICAgICAgICBmaW5pc2hBc3NpZ25tZW50RXhwcmVzc2lvbjogZnVuY3Rpb24gKG9wZXJhdG9yLCBsZWZ0LCByaWdodCkge1xuICAgICAgICAgICAgdGhpcy50eXBlID0gU3ludGF4LkFzc2lnbm1lbnRFeHByZXNzaW9uO1xuICAgICAgICAgICAgdGhpcy5vcGVyYXRvciA9IG9wZXJhdG9yO1xuICAgICAgICAgICAgdGhpcy5sZWZ0ID0gbGVmdDtcbiAgICAgICAgICAgIHRoaXMucmlnaHQgPSByaWdodDtcbiAgICAgICAgICAgIHRoaXMuZmluaXNoKCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSxcblxuICAgICAgICBmaW5pc2hBc3NpZ25tZW50UGF0dGVybjogZnVuY3Rpb24gKGxlZnQsIHJpZ2h0KSB7XG4gICAgICAgICAgICB0aGlzLnR5cGUgPSBTeW50YXguQXNzaWdubWVudFBhdHRlcm47XG4gICAgICAgICAgICB0aGlzLmxlZnQgPSBsZWZ0O1xuICAgICAgICAgICAgdGhpcy5yaWdodCA9IHJpZ2h0O1xuICAgICAgICAgICAgdGhpcy5maW5pc2goKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuXG4gICAgICAgIGZpbmlzaEJpbmFyeUV4cHJlc3Npb246IGZ1bmN0aW9uIChvcGVyYXRvciwgbGVmdCwgcmlnaHQpIHtcbiAgICAgICAgICAgIHRoaXMudHlwZSA9IChvcGVyYXRvciA9PT0gJ3x8JyB8fCBvcGVyYXRvciA9PT0gJyYmJykgPyBTeW50YXguTG9naWNhbEV4cHJlc3Npb24gOiBTeW50YXguQmluYXJ5RXhwcmVzc2lvbjtcbiAgICAgICAgICAgIHRoaXMub3BlcmF0b3IgPSBvcGVyYXRvcjtcbiAgICAgICAgICAgIHRoaXMubGVmdCA9IGxlZnQ7XG4gICAgICAgICAgICB0aGlzLnJpZ2h0ID0gcmlnaHQ7XG4gICAgICAgICAgICB0aGlzLmZpbmlzaCgpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZmluaXNoQmxvY2tTdGF0ZW1lbnQ6IGZ1bmN0aW9uIChib2R5KSB7XG4gICAgICAgICAgICB0aGlzLnR5cGUgPSBTeW50YXguQmxvY2tTdGF0ZW1lbnQ7XG4gICAgICAgICAgICB0aGlzLmJvZHkgPSBib2R5O1xuICAgICAgICAgICAgdGhpcy5maW5pc2goKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuXG4gICAgICAgIGZpbmlzaEJyZWFrU3RhdGVtZW50OiBmdW5jdGlvbiAobGFiZWwpIHtcbiAgICAgICAgICAgIHRoaXMudHlwZSA9IFN5bnRheC5CcmVha1N0YXRlbWVudDtcbiAgICAgICAgICAgIHRoaXMubGFiZWwgPSBsYWJlbDtcbiAgICAgICAgICAgIHRoaXMuZmluaXNoKCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSxcblxuICAgICAgICBmaW5pc2hDYWxsRXhwcmVzc2lvbjogZnVuY3Rpb24gKGNhbGxlZSwgYXJncykge1xuICAgICAgICAgICAgdGhpcy50eXBlID0gU3ludGF4LkNhbGxFeHByZXNzaW9uO1xuICAgICAgICAgICAgdGhpcy5jYWxsZWUgPSBjYWxsZWU7XG4gICAgICAgICAgICB0aGlzLmFyZ3VtZW50cyA9IGFyZ3M7XG4gICAgICAgICAgICB0aGlzLmZpbmlzaCgpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZmluaXNoQ2F0Y2hDbGF1c2U6IGZ1bmN0aW9uIChwYXJhbSwgYm9keSkge1xuICAgICAgICAgICAgdGhpcy50eXBlID0gU3ludGF4LkNhdGNoQ2xhdXNlO1xuICAgICAgICAgICAgdGhpcy5wYXJhbSA9IHBhcmFtO1xuICAgICAgICAgICAgdGhpcy5ib2R5ID0gYm9keTtcbiAgICAgICAgICAgIHRoaXMuZmluaXNoKCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSxcblxuICAgICAgICBmaW5pc2hDbGFzc0JvZHk6IGZ1bmN0aW9uIChib2R5KSB7XG4gICAgICAgICAgICB0aGlzLnR5cGUgPSBTeW50YXguQ2xhc3NCb2R5O1xuICAgICAgICAgICAgdGhpcy5ib2R5ID0gYm9keTtcbiAgICAgICAgICAgIHRoaXMuZmluaXNoKCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSxcblxuICAgICAgICBmaW5pc2hDbGFzc0RlY2xhcmF0aW9uOiBmdW5jdGlvbiAoaWQsIHN1cGVyQ2xhc3MsIGJvZHkpIHtcbiAgICAgICAgICAgIHRoaXMudHlwZSA9IFN5bnRheC5DbGFzc0RlY2xhcmF0aW9uO1xuICAgICAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgICAgICAgICAgdGhpcy5zdXBlckNsYXNzID0gc3VwZXJDbGFzcztcbiAgICAgICAgICAgIHRoaXMuYm9keSA9IGJvZHk7XG4gICAgICAgICAgICB0aGlzLmZpbmlzaCgpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZmluaXNoQ2xhc3NFeHByZXNzaW9uOiBmdW5jdGlvbiAoaWQsIHN1cGVyQ2xhc3MsIGJvZHkpIHtcbiAgICAgICAgICAgIHRoaXMudHlwZSA9IFN5bnRheC5DbGFzc0V4cHJlc3Npb247XG4gICAgICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgICAgICAgICB0aGlzLnN1cGVyQ2xhc3MgPSBzdXBlckNsYXNzO1xuICAgICAgICAgICAgdGhpcy5ib2R5ID0gYm9keTtcbiAgICAgICAgICAgIHRoaXMuZmluaXNoKCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSxcblxuICAgICAgICBmaW5pc2hDb25kaXRpb25hbEV4cHJlc3Npb246IGZ1bmN0aW9uICh0ZXN0LCBjb25zZXF1ZW50LCBhbHRlcm5hdGUpIHtcbiAgICAgICAgICAgIHRoaXMudHlwZSA9IFN5bnRheC5Db25kaXRpb25hbEV4cHJlc3Npb247XG4gICAgICAgICAgICB0aGlzLnRlc3QgPSB0ZXN0O1xuICAgICAgICAgICAgdGhpcy5jb25zZXF1ZW50ID0gY29uc2VxdWVudDtcbiAgICAgICAgICAgIHRoaXMuYWx0ZXJuYXRlID0gYWx0ZXJuYXRlO1xuICAgICAgICAgICAgdGhpcy5maW5pc2goKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuXG4gICAgICAgIGZpbmlzaENvbnRpbnVlU3RhdGVtZW50OiBmdW5jdGlvbiAobGFiZWwpIHtcbiAgICAgICAgICAgIHRoaXMudHlwZSA9IFN5bnRheC5Db250aW51ZVN0YXRlbWVudDtcbiAgICAgICAgICAgIHRoaXMubGFiZWwgPSBsYWJlbDtcbiAgICAgICAgICAgIHRoaXMuZmluaXNoKCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSxcblxuICAgICAgICBmaW5pc2hEZWJ1Z2dlclN0YXRlbWVudDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy50eXBlID0gU3ludGF4LkRlYnVnZ2VyU3RhdGVtZW50O1xuICAgICAgICAgICAgdGhpcy5maW5pc2goKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuXG4gICAgICAgIGZpbmlzaERvV2hpbGVTdGF0ZW1lbnQ6IGZ1bmN0aW9uIChib2R5LCB0ZXN0KSB7XG4gICAgICAgICAgICB0aGlzLnR5cGUgPSBTeW50YXguRG9XaGlsZVN0YXRlbWVudDtcbiAgICAgICAgICAgIHRoaXMuYm9keSA9IGJvZHk7XG4gICAgICAgICAgICB0aGlzLnRlc3QgPSB0ZXN0O1xuICAgICAgICAgICAgdGhpcy5maW5pc2goKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuXG4gICAgICAgIGZpbmlzaEVtcHR5U3RhdGVtZW50OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGlzLnR5cGUgPSBTeW50YXguRW1wdHlTdGF0ZW1lbnQ7XG4gICAgICAgICAgICB0aGlzLmZpbmlzaCgpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZmluaXNoRXhwcmVzc2lvblN0YXRlbWVudDogZnVuY3Rpb24gKGV4cHJlc3Npb24pIHtcbiAgICAgICAgICAgIHRoaXMudHlwZSA9IFN5bnRheC5FeHByZXNzaW9uU3RhdGVtZW50O1xuICAgICAgICAgICAgdGhpcy5leHByZXNzaW9uID0gZXhwcmVzc2lvbjtcbiAgICAgICAgICAgIHRoaXMuZmluaXNoKCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSxcblxuICAgICAgICBmaW5pc2hGb3JTdGF0ZW1lbnQ6IGZ1bmN0aW9uIChpbml0LCB0ZXN0LCB1cGRhdGUsIGJvZHkpIHtcbiAgICAgICAgICAgIHRoaXMudHlwZSA9IFN5bnRheC5Gb3JTdGF0ZW1lbnQ7XG4gICAgICAgICAgICB0aGlzLmluaXQgPSBpbml0O1xuICAgICAgICAgICAgdGhpcy50ZXN0ID0gdGVzdDtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlID0gdXBkYXRlO1xuICAgICAgICAgICAgdGhpcy5ib2R5ID0gYm9keTtcbiAgICAgICAgICAgIHRoaXMuZmluaXNoKCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSxcblxuICAgICAgICBmaW5pc2hGb3JPZlN0YXRlbWVudDogZnVuY3Rpb24gKGxlZnQsIHJpZ2h0LCBib2R5KSB7XG4gICAgICAgICAgICB0aGlzLnR5cGUgPSBTeW50YXguRm9yT2ZTdGF0ZW1lbnQ7XG4gICAgICAgICAgICB0aGlzLmxlZnQgPSBsZWZ0O1xuICAgICAgICAgICAgdGhpcy5yaWdodCA9IHJpZ2h0O1xuICAgICAgICAgICAgdGhpcy5ib2R5ID0gYm9keTtcbiAgICAgICAgICAgIHRoaXMuZmluaXNoKCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSxcblxuICAgICAgICBmaW5pc2hGb3JJblN0YXRlbWVudDogZnVuY3Rpb24gKGxlZnQsIHJpZ2h0LCBib2R5KSB7XG4gICAgICAgICAgICB0aGlzLnR5cGUgPSBTeW50YXguRm9ySW5TdGF0ZW1lbnQ7XG4gICAgICAgICAgICB0aGlzLmxlZnQgPSBsZWZ0O1xuICAgICAgICAgICAgdGhpcy5yaWdodCA9IHJpZ2h0O1xuICAgICAgICAgICAgdGhpcy5ib2R5ID0gYm9keTtcbiAgICAgICAgICAgIHRoaXMuZWFjaCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5maW5pc2goKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuXG4gICAgICAgIGZpbmlzaEZ1bmN0aW9uRGVjbGFyYXRpb246IGZ1bmN0aW9uIChpZCwgcGFyYW1zLCBkZWZhdWx0cywgYm9keSwgZ2VuZXJhdG9yKSB7XG4gICAgICAgICAgICB0aGlzLnR5cGUgPSBTeW50YXguRnVuY3Rpb25EZWNsYXJhdGlvbjtcbiAgICAgICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgICAgICAgIHRoaXMucGFyYW1zID0gcGFyYW1zO1xuICAgICAgICAgICAgdGhpcy5kZWZhdWx0cyA9IGRlZmF1bHRzO1xuICAgICAgICAgICAgdGhpcy5ib2R5ID0gYm9keTtcbiAgICAgICAgICAgIHRoaXMuZ2VuZXJhdG9yID0gZ2VuZXJhdG9yO1xuICAgICAgICAgICAgdGhpcy5leHByZXNzaW9uID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmZpbmlzaCgpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZmluaXNoRnVuY3Rpb25FeHByZXNzaW9uOiBmdW5jdGlvbiAoaWQsIHBhcmFtcywgZGVmYXVsdHMsIGJvZHksIGdlbmVyYXRvcikge1xuICAgICAgICAgICAgdGhpcy50eXBlID0gU3ludGF4LkZ1bmN0aW9uRXhwcmVzc2lvbjtcbiAgICAgICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgICAgICAgIHRoaXMucGFyYW1zID0gcGFyYW1zO1xuICAgICAgICAgICAgdGhpcy5kZWZhdWx0cyA9IGRlZmF1bHRzO1xuICAgICAgICAgICAgdGhpcy5ib2R5ID0gYm9keTtcbiAgICAgICAgICAgIHRoaXMuZ2VuZXJhdG9yID0gZ2VuZXJhdG9yO1xuICAgICAgICAgICAgdGhpcy5leHByZXNzaW9uID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmZpbmlzaCgpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZmluaXNoSWRlbnRpZmllcjogZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgICAgIHRoaXMudHlwZSA9IFN5bnRheC5JZGVudGlmaWVyO1xuICAgICAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgICAgIHRoaXMuZmluaXNoKCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSxcblxuICAgICAgICBmaW5pc2hJZlN0YXRlbWVudDogZnVuY3Rpb24gKHRlc3QsIGNvbnNlcXVlbnQsIGFsdGVybmF0ZSkge1xuICAgICAgICAgICAgdGhpcy50eXBlID0gU3ludGF4LklmU3RhdGVtZW50O1xuICAgICAgICAgICAgdGhpcy50ZXN0ID0gdGVzdDtcbiAgICAgICAgICAgIHRoaXMuY29uc2VxdWVudCA9IGNvbnNlcXVlbnQ7XG4gICAgICAgICAgICB0aGlzLmFsdGVybmF0ZSA9IGFsdGVybmF0ZTtcbiAgICAgICAgICAgIHRoaXMuZmluaXNoKCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSxcblxuICAgICAgICBmaW5pc2hMYWJlbGVkU3RhdGVtZW50OiBmdW5jdGlvbiAobGFiZWwsIGJvZHkpIHtcbiAgICAgICAgICAgIHRoaXMudHlwZSA9IFN5bnRheC5MYWJlbGVkU3RhdGVtZW50O1xuICAgICAgICAgICAgdGhpcy5sYWJlbCA9IGxhYmVsO1xuICAgICAgICAgICAgdGhpcy5ib2R5ID0gYm9keTtcbiAgICAgICAgICAgIHRoaXMuZmluaXNoKCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSxcblxuICAgICAgICBmaW5pc2hMaXRlcmFsOiBmdW5jdGlvbiAodG9rZW4pIHtcbiAgICAgICAgICAgIHRoaXMudHlwZSA9IFN5bnRheC5MaXRlcmFsO1xuICAgICAgICAgICAgdGhpcy52YWx1ZSA9IHRva2VuLnZhbHVlO1xuICAgICAgICAgICAgdGhpcy5yYXcgPSBzb3VyY2Uuc2xpY2UodG9rZW4uc3RhcnQsIHRva2VuLmVuZCk7XG4gICAgICAgICAgICBpZiAodG9rZW4ucmVnZXgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlZ2V4ID0gdG9rZW4ucmVnZXg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmZpbmlzaCgpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZmluaXNoTWVtYmVyRXhwcmVzc2lvbjogZnVuY3Rpb24gKGFjY2Vzc29yLCBvYmplY3QsIHByb3BlcnR5KSB7XG4gICAgICAgICAgICB0aGlzLnR5cGUgPSBTeW50YXguTWVtYmVyRXhwcmVzc2lvbjtcbiAgICAgICAgICAgIHRoaXMuY29tcHV0ZWQgPSBhY2Nlc3NvciA9PT0gJ1snO1xuICAgICAgICAgICAgdGhpcy5vYmplY3QgPSBvYmplY3Q7XG4gICAgICAgICAgICB0aGlzLnByb3BlcnR5ID0gcHJvcGVydHk7XG4gICAgICAgICAgICB0aGlzLmZpbmlzaCgpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZmluaXNoTWV0YVByb3BlcnR5OiBmdW5jdGlvbiAobWV0YSwgcHJvcGVydHkpIHtcbiAgICAgICAgICAgIHRoaXMudHlwZSA9IFN5bnRheC5NZXRhUHJvcGVydHk7XG4gICAgICAgICAgICB0aGlzLm1ldGEgPSBtZXRhO1xuICAgICAgICAgICAgdGhpcy5wcm9wZXJ0eSA9IHByb3BlcnR5O1xuICAgICAgICAgICAgdGhpcy5maW5pc2goKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuXG4gICAgICAgIGZpbmlzaE5ld0V4cHJlc3Npb246IGZ1bmN0aW9uIChjYWxsZWUsIGFyZ3MpIHtcbiAgICAgICAgICAgIHRoaXMudHlwZSA9IFN5bnRheC5OZXdFeHByZXNzaW9uO1xuICAgICAgICAgICAgdGhpcy5jYWxsZWUgPSBjYWxsZWU7XG4gICAgICAgICAgICB0aGlzLmFyZ3VtZW50cyA9IGFyZ3M7XG4gICAgICAgICAgICB0aGlzLmZpbmlzaCgpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZmluaXNoT2JqZWN0RXhwcmVzc2lvbjogZnVuY3Rpb24gKHByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgIHRoaXMudHlwZSA9IFN5bnRheC5PYmplY3RFeHByZXNzaW9uO1xuICAgICAgICAgICAgdGhpcy5wcm9wZXJ0aWVzID0gcHJvcGVydGllcztcbiAgICAgICAgICAgIHRoaXMuZmluaXNoKCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSxcblxuICAgICAgICBmaW5pc2hPYmplY3RQYXR0ZXJuOiBmdW5jdGlvbiAocHJvcGVydGllcykge1xuICAgICAgICAgICAgdGhpcy50eXBlID0gU3ludGF4Lk9iamVjdFBhdHRlcm47XG4gICAgICAgICAgICB0aGlzLnByb3BlcnRpZXMgPSBwcm9wZXJ0aWVzO1xuICAgICAgICAgICAgdGhpcy5maW5pc2goKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuXG4gICAgICAgIGZpbmlzaFBvc3RmaXhFeHByZXNzaW9uOiBmdW5jdGlvbiAob3BlcmF0b3IsIGFyZ3VtZW50KSB7XG4gICAgICAgICAgICB0aGlzLnR5cGUgPSBTeW50YXguVXBkYXRlRXhwcmVzc2lvbjtcbiAgICAgICAgICAgIHRoaXMub3BlcmF0b3IgPSBvcGVyYXRvcjtcbiAgICAgICAgICAgIHRoaXMuYXJndW1lbnQgPSBhcmd1bWVudDtcbiAgICAgICAgICAgIHRoaXMucHJlZml4ID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmZpbmlzaCgpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZmluaXNoUHJvZ3JhbTogZnVuY3Rpb24gKGJvZHksIHNvdXJjZVR5cGUpIHtcbiAgICAgICAgICAgIHRoaXMudHlwZSA9IFN5bnRheC5Qcm9ncmFtO1xuICAgICAgICAgICAgdGhpcy5ib2R5ID0gYm9keTtcbiAgICAgICAgICAgIHRoaXMuc291cmNlVHlwZSA9IHNvdXJjZVR5cGU7XG4gICAgICAgICAgICB0aGlzLmZpbmlzaCgpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZmluaXNoUHJvcGVydHk6IGZ1bmN0aW9uIChraW5kLCBrZXksIGNvbXB1dGVkLCB2YWx1ZSwgbWV0aG9kLCBzaG9ydGhhbmQpIHtcbiAgICAgICAgICAgIHRoaXMudHlwZSA9IFN5bnRheC5Qcm9wZXJ0eTtcbiAgICAgICAgICAgIHRoaXMua2V5ID0ga2V5O1xuICAgICAgICAgICAgdGhpcy5jb21wdXRlZCA9IGNvbXB1dGVkO1xuICAgICAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5raW5kID0ga2luZDtcbiAgICAgICAgICAgIHRoaXMubWV0aG9kID0gbWV0aG9kO1xuICAgICAgICAgICAgdGhpcy5zaG9ydGhhbmQgPSBzaG9ydGhhbmQ7XG4gICAgICAgICAgICB0aGlzLmZpbmlzaCgpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZmluaXNoUmVzdEVsZW1lbnQ6IGZ1bmN0aW9uIChhcmd1bWVudCkge1xuICAgICAgICAgICAgdGhpcy50eXBlID0gU3ludGF4LlJlc3RFbGVtZW50O1xuICAgICAgICAgICAgdGhpcy5hcmd1bWVudCA9IGFyZ3VtZW50O1xuICAgICAgICAgICAgdGhpcy5maW5pc2goKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuXG4gICAgICAgIGZpbmlzaFJldHVyblN0YXRlbWVudDogZnVuY3Rpb24gKGFyZ3VtZW50KSB7XG4gICAgICAgICAgICB0aGlzLnR5cGUgPSBTeW50YXguUmV0dXJuU3RhdGVtZW50O1xuICAgICAgICAgICAgdGhpcy5hcmd1bWVudCA9IGFyZ3VtZW50O1xuICAgICAgICAgICAgdGhpcy5maW5pc2goKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuXG4gICAgICAgIGZpbmlzaFNlcXVlbmNlRXhwcmVzc2lvbjogZnVuY3Rpb24gKGV4cHJlc3Npb25zKSB7XG4gICAgICAgICAgICB0aGlzLnR5cGUgPSBTeW50YXguU2VxdWVuY2VFeHByZXNzaW9uO1xuICAgICAgICAgICAgdGhpcy5leHByZXNzaW9ucyA9IGV4cHJlc3Npb25zO1xuICAgICAgICAgICAgdGhpcy5maW5pc2goKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuXG4gICAgICAgIGZpbmlzaFNwcmVhZEVsZW1lbnQ6IGZ1bmN0aW9uIChhcmd1bWVudCkge1xuICAgICAgICAgICAgdGhpcy50eXBlID0gU3ludGF4LlNwcmVhZEVsZW1lbnQ7XG4gICAgICAgICAgICB0aGlzLmFyZ3VtZW50ID0gYXJndW1lbnQ7XG4gICAgICAgICAgICB0aGlzLmZpbmlzaCgpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZmluaXNoU3dpdGNoQ2FzZTogZnVuY3Rpb24gKHRlc3QsIGNvbnNlcXVlbnQpIHtcbiAgICAgICAgICAgIHRoaXMudHlwZSA9IFN5bnRheC5Td2l0Y2hDYXNlO1xuICAgICAgICAgICAgdGhpcy50ZXN0ID0gdGVzdDtcbiAgICAgICAgICAgIHRoaXMuY29uc2VxdWVudCA9IGNvbnNlcXVlbnQ7XG4gICAgICAgICAgICB0aGlzLmZpbmlzaCgpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZmluaXNoU3VwZXI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoaXMudHlwZSA9IFN5bnRheC5TdXBlcjtcbiAgICAgICAgICAgIHRoaXMuZmluaXNoKCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSxcblxuICAgICAgICBmaW5pc2hTd2l0Y2hTdGF0ZW1lbnQ6IGZ1bmN0aW9uIChkaXNjcmltaW5hbnQsIGNhc2VzKSB7XG4gICAgICAgICAgICB0aGlzLnR5cGUgPSBTeW50YXguU3dpdGNoU3RhdGVtZW50O1xuICAgICAgICAgICAgdGhpcy5kaXNjcmltaW5hbnQgPSBkaXNjcmltaW5hbnQ7XG4gICAgICAgICAgICB0aGlzLmNhc2VzID0gY2FzZXM7XG4gICAgICAgICAgICB0aGlzLmZpbmlzaCgpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZmluaXNoVGFnZ2VkVGVtcGxhdGVFeHByZXNzaW9uOiBmdW5jdGlvbiAodGFnLCBxdWFzaSkge1xuICAgICAgICAgICAgdGhpcy50eXBlID0gU3ludGF4LlRhZ2dlZFRlbXBsYXRlRXhwcmVzc2lvbjtcbiAgICAgICAgICAgIHRoaXMudGFnID0gdGFnO1xuICAgICAgICAgICAgdGhpcy5xdWFzaSA9IHF1YXNpO1xuICAgICAgICAgICAgdGhpcy5maW5pc2goKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuXG4gICAgICAgIGZpbmlzaFRlbXBsYXRlRWxlbWVudDogZnVuY3Rpb24gKHZhbHVlLCB0YWlsKSB7XG4gICAgICAgICAgICB0aGlzLnR5cGUgPSBTeW50YXguVGVtcGxhdGVFbGVtZW50O1xuICAgICAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy50YWlsID0gdGFpbDtcbiAgICAgICAgICAgIHRoaXMuZmluaXNoKCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSxcblxuICAgICAgICBmaW5pc2hUZW1wbGF0ZUxpdGVyYWw6IGZ1bmN0aW9uIChxdWFzaXMsIGV4cHJlc3Npb25zKSB7XG4gICAgICAgICAgICB0aGlzLnR5cGUgPSBTeW50YXguVGVtcGxhdGVMaXRlcmFsO1xuICAgICAgICAgICAgdGhpcy5xdWFzaXMgPSBxdWFzaXM7XG4gICAgICAgICAgICB0aGlzLmV4cHJlc3Npb25zID0gZXhwcmVzc2lvbnM7XG4gICAgICAgICAgICB0aGlzLmZpbmlzaCgpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZmluaXNoVGhpc0V4cHJlc3Npb246IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoaXMudHlwZSA9IFN5bnRheC5UaGlzRXhwcmVzc2lvbjtcbiAgICAgICAgICAgIHRoaXMuZmluaXNoKCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSxcblxuICAgICAgICBmaW5pc2hUaHJvd1N0YXRlbWVudDogZnVuY3Rpb24gKGFyZ3VtZW50KSB7XG4gICAgICAgICAgICB0aGlzLnR5cGUgPSBTeW50YXguVGhyb3dTdGF0ZW1lbnQ7XG4gICAgICAgICAgICB0aGlzLmFyZ3VtZW50ID0gYXJndW1lbnQ7XG4gICAgICAgICAgICB0aGlzLmZpbmlzaCgpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZmluaXNoVHJ5U3RhdGVtZW50OiBmdW5jdGlvbiAoYmxvY2ssIGhhbmRsZXIsIGZpbmFsaXplcikge1xuICAgICAgICAgICAgdGhpcy50eXBlID0gU3ludGF4LlRyeVN0YXRlbWVudDtcbiAgICAgICAgICAgIHRoaXMuYmxvY2sgPSBibG9jaztcbiAgICAgICAgICAgIHRoaXMuZ3VhcmRlZEhhbmRsZXJzID0gW107XG4gICAgICAgICAgICB0aGlzLmhhbmRsZXJzID0gaGFuZGxlciA/IFtoYW5kbGVyXSA6IFtdO1xuICAgICAgICAgICAgdGhpcy5oYW5kbGVyID0gaGFuZGxlcjtcbiAgICAgICAgICAgIHRoaXMuZmluYWxpemVyID0gZmluYWxpemVyO1xuICAgICAgICAgICAgdGhpcy5maW5pc2goKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuXG4gICAgICAgIGZpbmlzaFVuYXJ5RXhwcmVzc2lvbjogZnVuY3Rpb24gKG9wZXJhdG9yLCBhcmd1bWVudCkge1xuICAgICAgICAgICAgdGhpcy50eXBlID0gKG9wZXJhdG9yID09PSAnKysnIHx8IG9wZXJhdG9yID09PSAnLS0nKSA/IFN5bnRheC5VcGRhdGVFeHByZXNzaW9uIDogU3ludGF4LlVuYXJ5RXhwcmVzc2lvbjtcbiAgICAgICAgICAgIHRoaXMub3BlcmF0b3IgPSBvcGVyYXRvcjtcbiAgICAgICAgICAgIHRoaXMuYXJndW1lbnQgPSBhcmd1bWVudDtcbiAgICAgICAgICAgIHRoaXMucHJlZml4ID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuZmluaXNoKCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSxcblxuICAgICAgICBmaW5pc2hWYXJpYWJsZURlY2xhcmF0aW9uOiBmdW5jdGlvbiAoZGVjbGFyYXRpb25zKSB7XG4gICAgICAgICAgICB0aGlzLnR5cGUgPSBTeW50YXguVmFyaWFibGVEZWNsYXJhdGlvbjtcbiAgICAgICAgICAgIHRoaXMuZGVjbGFyYXRpb25zID0gZGVjbGFyYXRpb25zO1xuICAgICAgICAgICAgdGhpcy5raW5kID0gJ3Zhcic7XG4gICAgICAgICAgICB0aGlzLmZpbmlzaCgpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZmluaXNoTGV4aWNhbERlY2xhcmF0aW9uOiBmdW5jdGlvbiAoZGVjbGFyYXRpb25zLCBraW5kKSB7XG4gICAgICAgICAgICB0aGlzLnR5cGUgPSBTeW50YXguVmFyaWFibGVEZWNsYXJhdGlvbjtcbiAgICAgICAgICAgIHRoaXMuZGVjbGFyYXRpb25zID0gZGVjbGFyYXRpb25zO1xuICAgICAgICAgICAgdGhpcy5raW5kID0ga2luZDtcbiAgICAgICAgICAgIHRoaXMuZmluaXNoKCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSxcblxuICAgICAgICBmaW5pc2hWYXJpYWJsZURlY2xhcmF0b3I6IGZ1bmN0aW9uIChpZCwgaW5pdCkge1xuICAgICAgICAgICAgdGhpcy50eXBlID0gU3ludGF4LlZhcmlhYmxlRGVjbGFyYXRvcjtcbiAgICAgICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgICAgICAgIHRoaXMuaW5pdCA9IGluaXQ7XG4gICAgICAgICAgICB0aGlzLmZpbmlzaCgpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZmluaXNoV2hpbGVTdGF0ZW1lbnQ6IGZ1bmN0aW9uICh0ZXN0LCBib2R5KSB7XG4gICAgICAgICAgICB0aGlzLnR5cGUgPSBTeW50YXguV2hpbGVTdGF0ZW1lbnQ7XG4gICAgICAgICAgICB0aGlzLnRlc3QgPSB0ZXN0O1xuICAgICAgICAgICAgdGhpcy5ib2R5ID0gYm9keTtcbiAgICAgICAgICAgIHRoaXMuZmluaXNoKCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSxcblxuICAgICAgICBmaW5pc2hXaXRoU3RhdGVtZW50OiBmdW5jdGlvbiAob2JqZWN0LCBib2R5KSB7XG4gICAgICAgICAgICB0aGlzLnR5cGUgPSBTeW50YXguV2l0aFN0YXRlbWVudDtcbiAgICAgICAgICAgIHRoaXMub2JqZWN0ID0gb2JqZWN0O1xuICAgICAgICAgICAgdGhpcy5ib2R5ID0gYm9keTtcbiAgICAgICAgICAgIHRoaXMuZmluaXNoKCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSxcblxuICAgICAgICBmaW5pc2hFeHBvcnRTcGVjaWZpZXI6IGZ1bmN0aW9uIChsb2NhbCwgZXhwb3J0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMudHlwZSA9IFN5bnRheC5FeHBvcnRTcGVjaWZpZXI7XG4gICAgICAgICAgICB0aGlzLmV4cG9ydGVkID0gZXhwb3J0ZWQgfHwgbG9jYWw7XG4gICAgICAgICAgICB0aGlzLmxvY2FsID0gbG9jYWw7XG4gICAgICAgICAgICB0aGlzLmZpbmlzaCgpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZmluaXNoSW1wb3J0RGVmYXVsdFNwZWNpZmllcjogZnVuY3Rpb24gKGxvY2FsKSB7XG4gICAgICAgICAgICB0aGlzLnR5cGUgPSBTeW50YXguSW1wb3J0RGVmYXVsdFNwZWNpZmllcjtcbiAgICAgICAgICAgIHRoaXMubG9jYWwgPSBsb2NhbDtcbiAgICAgICAgICAgIHRoaXMuZmluaXNoKCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSxcblxuICAgICAgICBmaW5pc2hJbXBvcnROYW1lc3BhY2VTcGVjaWZpZXI6IGZ1bmN0aW9uIChsb2NhbCkge1xuICAgICAgICAgICAgdGhpcy50eXBlID0gU3ludGF4LkltcG9ydE5hbWVzcGFjZVNwZWNpZmllcjtcbiAgICAgICAgICAgIHRoaXMubG9jYWwgPSBsb2NhbDtcbiAgICAgICAgICAgIHRoaXMuZmluaXNoKCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSxcblxuICAgICAgICBmaW5pc2hFeHBvcnROYW1lZERlY2xhcmF0aW9uOiBmdW5jdGlvbiAoZGVjbGFyYXRpb24sIHNwZWNpZmllcnMsIHNyYykge1xuICAgICAgICAgICAgdGhpcy50eXBlID0gU3ludGF4LkV4cG9ydE5hbWVkRGVjbGFyYXRpb247XG4gICAgICAgICAgICB0aGlzLmRlY2xhcmF0aW9uID0gZGVjbGFyYXRpb247XG4gICAgICAgICAgICB0aGlzLnNwZWNpZmllcnMgPSBzcGVjaWZpZXJzO1xuICAgICAgICAgICAgdGhpcy5zb3VyY2UgPSBzcmM7XG4gICAgICAgICAgICB0aGlzLmZpbmlzaCgpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZmluaXNoRXhwb3J0RGVmYXVsdERlY2xhcmF0aW9uOiBmdW5jdGlvbiAoZGVjbGFyYXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMudHlwZSA9IFN5bnRheC5FeHBvcnREZWZhdWx0RGVjbGFyYXRpb247XG4gICAgICAgICAgICB0aGlzLmRlY2xhcmF0aW9uID0gZGVjbGFyYXRpb247XG4gICAgICAgICAgICB0aGlzLmZpbmlzaCgpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZmluaXNoRXhwb3J0QWxsRGVjbGFyYXRpb246IGZ1bmN0aW9uIChzcmMpIHtcbiAgICAgICAgICAgIHRoaXMudHlwZSA9IFN5bnRheC5FeHBvcnRBbGxEZWNsYXJhdGlvbjtcbiAgICAgICAgICAgIHRoaXMuc291cmNlID0gc3JjO1xuICAgICAgICAgICAgdGhpcy5maW5pc2goKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuXG4gICAgICAgIGZpbmlzaEltcG9ydFNwZWNpZmllcjogZnVuY3Rpb24gKGxvY2FsLCBpbXBvcnRlZCkge1xuICAgICAgICAgICAgdGhpcy50eXBlID0gU3ludGF4LkltcG9ydFNwZWNpZmllcjtcbiAgICAgICAgICAgIHRoaXMubG9jYWwgPSBsb2NhbCB8fCBpbXBvcnRlZDtcbiAgICAgICAgICAgIHRoaXMuaW1wb3J0ZWQgPSBpbXBvcnRlZDtcbiAgICAgICAgICAgIHRoaXMuZmluaXNoKCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSxcblxuICAgICAgICBmaW5pc2hJbXBvcnREZWNsYXJhdGlvbjogZnVuY3Rpb24gKHNwZWNpZmllcnMsIHNyYykge1xuICAgICAgICAgICAgdGhpcy50eXBlID0gU3ludGF4LkltcG9ydERlY2xhcmF0aW9uO1xuICAgICAgICAgICAgdGhpcy5zcGVjaWZpZXJzID0gc3BlY2lmaWVycztcbiAgICAgICAgICAgIHRoaXMuc291cmNlID0gc3JjO1xuICAgICAgICAgICAgdGhpcy5maW5pc2goKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuXG4gICAgICAgIGZpbmlzaFlpZWxkRXhwcmVzc2lvbjogZnVuY3Rpb24gKGFyZ3VtZW50LCBkZWxlZ2F0ZSkge1xuICAgICAgICAgICAgdGhpcy50eXBlID0gU3ludGF4LllpZWxkRXhwcmVzc2lvbjtcbiAgICAgICAgICAgIHRoaXMuYXJndW1lbnQgPSBhcmd1bWVudDtcbiAgICAgICAgICAgIHRoaXMuZGVsZWdhdGUgPSBkZWxlZ2F0ZTtcbiAgICAgICAgICAgIHRoaXMuZmluaXNoKCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgIH07XG5cblxuICAgIGZ1bmN0aW9uIHJlY29yZEVycm9yKGVycm9yKSB7XG4gICAgICAgIHZhciBlLCBleGlzdGluZztcblxuICAgICAgICBmb3IgKGUgPSAwOyBlIDwgZXh0cmEuZXJyb3JzLmxlbmd0aDsgZSsrKSB7XG4gICAgICAgICAgICBleGlzdGluZyA9IGV4dHJhLmVycm9yc1tlXTtcbiAgICAgICAgICAgIC8vIFByZXZlbnQgZHVwbGljYXRlZCBlcnJvci5cbiAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgICAgICBpZiAoZXhpc3RpbmcuaW5kZXggPT09IGVycm9yLmluZGV4ICYmIGV4aXN0aW5nLm1lc3NhZ2UgPT09IGVycm9yLm1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBleHRyYS5lcnJvcnMucHVzaChlcnJvcik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY29uc3RydWN0RXJyb3IobXNnLCBjb2x1bW4pIHtcbiAgICAgICAgdmFyIGVycm9yID0gbmV3IEVycm9yKG1zZyk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfSBjYXRjaCAoYmFzZSkge1xuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgICAgICAgIGlmIChPYmplY3QuY3JlYXRlICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSkge1xuICAgICAgICAgICAgICAgIGVycm9yID0gT2JqZWN0LmNyZWF0ZShiYXNlKTtcbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXJyb3IsICdjb2x1bW4nLCB7IHZhbHVlOiBjb2x1bW4gfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICByZXR1cm4gZXJyb3I7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVFcnJvcihsaW5lLCBwb3MsIGRlc2NyaXB0aW9uKSB7XG4gICAgICAgIHZhciBtc2csIGNvbHVtbiwgZXJyb3I7XG5cbiAgICAgICAgbXNnID0gJ0xpbmUgJyArIGxpbmUgKyAnOiAnICsgZGVzY3JpcHRpb247XG4gICAgICAgIGNvbHVtbiA9IHBvcyAtIChzY2FubmluZyA/IGxpbmVTdGFydCA6IGxhc3RMaW5lU3RhcnQpICsgMTtcbiAgICAgICAgZXJyb3IgPSBjb25zdHJ1Y3RFcnJvcihtc2csIGNvbHVtbik7XG4gICAgICAgIGVycm9yLmxpbmVOdW1iZXIgPSBsaW5lO1xuICAgICAgICBlcnJvci5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xuICAgICAgICBlcnJvci5pbmRleCA9IHBvcztcbiAgICAgICAgcmV0dXJuIGVycm9yO1xuICAgIH1cblxuICAgIC8vIFRocm93IGFuIGV4Y2VwdGlvblxuXG4gICAgZnVuY3Rpb24gdGhyb3dFcnJvcihtZXNzYWdlRm9ybWF0KSB7XG4gICAgICAgIHZhciBhcmdzLCBtc2c7XG5cbiAgICAgICAgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG4gICAgICAgIG1zZyA9IG1lc3NhZ2VGb3JtYXQucmVwbGFjZSgvJShcXGQpL2csXG4gICAgICAgICAgICBmdW5jdGlvbiAod2hvbGUsIGlkeCkge1xuICAgICAgICAgICAgICAgIGFzc2VydChpZHggPCBhcmdzLmxlbmd0aCwgJ01lc3NhZ2UgcmVmZXJlbmNlIG11c3QgYmUgaW4gcmFuZ2UnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXJnc1tpZHhdO1xuICAgICAgICAgICAgfVxuICAgICAgICApO1xuXG4gICAgICAgIHRocm93IGNyZWF0ZUVycm9yKGxhc3RMaW5lTnVtYmVyLCBsYXN0SW5kZXgsIG1zZyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdG9sZXJhdGVFcnJvcihtZXNzYWdlRm9ybWF0KSB7XG4gICAgICAgIHZhciBhcmdzLCBtc2csIGVycm9yO1xuXG4gICAgICAgIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICBtc2cgPSBtZXNzYWdlRm9ybWF0LnJlcGxhY2UoLyUoXFxkKS9nLFxuICAgICAgICAgICAgZnVuY3Rpb24gKHdob2xlLCBpZHgpIHtcbiAgICAgICAgICAgICAgICBhc3NlcnQoaWR4IDwgYXJncy5sZW5ndGgsICdNZXNzYWdlIHJlZmVyZW5jZSBtdXN0IGJlIGluIHJhbmdlJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFyZ3NbaWR4XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcblxuICAgICAgICBlcnJvciA9IGNyZWF0ZUVycm9yKGxpbmVOdW1iZXIsIGxhc3RJbmRleCwgbXNnKTtcbiAgICAgICAgaWYgKGV4dHJhLmVycm9ycykge1xuICAgICAgICAgICAgcmVjb3JkRXJyb3IoZXJyb3IpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBUaHJvdyBhbiBleGNlcHRpb24gYmVjYXVzZSBvZiB0aGUgdG9rZW4uXG5cbiAgICBmdW5jdGlvbiB1bmV4cGVjdGVkVG9rZW5FcnJvcih0b2tlbiwgbWVzc2FnZSkge1xuICAgICAgICB2YXIgdmFsdWUsIG1zZyA9IG1lc3NhZ2UgfHwgTWVzc2FnZXMuVW5leHBlY3RlZFRva2VuO1xuXG4gICAgICAgIGlmICh0b2tlbikge1xuICAgICAgICAgICAgaWYgKCFtZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgbXNnID0gKHRva2VuLnR5cGUgPT09IFRva2VuLkVPRikgPyBNZXNzYWdlcy5VbmV4cGVjdGVkRU9TIDpcbiAgICAgICAgICAgICAgICAgICAgKHRva2VuLnR5cGUgPT09IFRva2VuLklkZW50aWZpZXIpID8gTWVzc2FnZXMuVW5leHBlY3RlZElkZW50aWZpZXIgOlxuICAgICAgICAgICAgICAgICAgICAodG9rZW4udHlwZSA9PT0gVG9rZW4uTnVtZXJpY0xpdGVyYWwpID8gTWVzc2FnZXMuVW5leHBlY3RlZE51bWJlciA6XG4gICAgICAgICAgICAgICAgICAgICh0b2tlbi50eXBlID09PSBUb2tlbi5TdHJpbmdMaXRlcmFsKSA/IE1lc3NhZ2VzLlVuZXhwZWN0ZWRTdHJpbmcgOlxuICAgICAgICAgICAgICAgICAgICAodG9rZW4udHlwZSA9PT0gVG9rZW4uVGVtcGxhdGUpID8gTWVzc2FnZXMuVW5leHBlY3RlZFRlbXBsYXRlIDpcbiAgICAgICAgICAgICAgICAgICAgTWVzc2FnZXMuVW5leHBlY3RlZFRva2VuO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRva2VuLnR5cGUgPT09IFRva2VuLktleXdvcmQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzRnV0dXJlUmVzZXJ2ZWRXb3JkKHRva2VuLnZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbXNnID0gTWVzc2FnZXMuVW5leHBlY3RlZFJlc2VydmVkO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHN0cmljdCAmJiBpc1N0cmljdE1vZGVSZXNlcnZlZFdvcmQodG9rZW4udmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtc2cgPSBNZXNzYWdlcy5TdHJpY3RSZXNlcnZlZFdvcmQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhbHVlID0gKHRva2VuLnR5cGUgPT09IFRva2VuLlRlbXBsYXRlKSA/IHRva2VuLnZhbHVlLnJhdyA6IHRva2VuLnZhbHVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFsdWUgPSAnSUxMRUdBTCc7XG4gICAgICAgIH1cblxuICAgICAgICBtc2cgPSBtc2cucmVwbGFjZSgnJTAnLCB2YWx1ZSk7XG5cbiAgICAgICAgcmV0dXJuICh0b2tlbiAmJiB0eXBlb2YgdG9rZW4ubGluZU51bWJlciA9PT0gJ251bWJlcicpID9cbiAgICAgICAgICAgIGNyZWF0ZUVycm9yKHRva2VuLmxpbmVOdW1iZXIsIHRva2VuLnN0YXJ0LCBtc2cpIDpcbiAgICAgICAgICAgIGNyZWF0ZUVycm9yKHNjYW5uaW5nID8gbGluZU51bWJlciA6IGxhc3RMaW5lTnVtYmVyLCBzY2FubmluZyA/IGluZGV4IDogbGFzdEluZGV4LCBtc2cpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHRocm93VW5leHBlY3RlZFRva2VuKHRva2VuLCBtZXNzYWdlKSB7XG4gICAgICAgIHRocm93IHVuZXhwZWN0ZWRUb2tlbkVycm9yKHRva2VuLCBtZXNzYWdlKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0b2xlcmF0ZVVuZXhwZWN0ZWRUb2tlbih0b2tlbiwgbWVzc2FnZSkge1xuICAgICAgICB2YXIgZXJyb3IgPSB1bmV4cGVjdGVkVG9rZW5FcnJvcih0b2tlbiwgbWVzc2FnZSk7XG4gICAgICAgIGlmIChleHRyYS5lcnJvcnMpIHtcbiAgICAgICAgICAgIHJlY29yZEVycm9yKGVycm9yKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gRXhwZWN0IHRoZSBuZXh0IHRva2VuIHRvIG1hdGNoIHRoZSBzcGVjaWZpZWQgcHVuY3R1YXRvci5cbiAgICAvLyBJZiBub3QsIGFuIGV4Y2VwdGlvbiB3aWxsIGJlIHRocm93bi5cblxuICAgIGZ1bmN0aW9uIGV4cGVjdCh2YWx1ZSkge1xuICAgICAgICB2YXIgdG9rZW4gPSBsZXgoKTtcbiAgICAgICAgaWYgKHRva2VuLnR5cGUgIT09IFRva2VuLlB1bmN0dWF0b3IgfHwgdG9rZW4udmFsdWUgIT09IHZhbHVlKSB7XG4gICAgICAgICAgICB0aHJvd1VuZXhwZWN0ZWRUb2tlbih0b2tlbik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAbmFtZSBleHBlY3RDb21tYVNlcGFyYXRvclxuICAgICAqIEBkZXNjcmlwdGlvbiBRdWlldGx5IGV4cGVjdCBhIGNvbW1hIHdoZW4gaW4gdG9sZXJhbnQgbW9kZSwgb3RoZXJ3aXNlIGRlbGVnYXRlc1xuICAgICAqIHRvIDxjb2RlPmV4cGVjdCh2YWx1ZSk8L2NvZGU+XG4gICAgICogQHNpbmNlIDIuMFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGV4cGVjdENvbW1hU2VwYXJhdG9yKCkge1xuICAgICAgICB2YXIgdG9rZW47XG5cbiAgICAgICAgaWYgKGV4dHJhLmVycm9ycykge1xuICAgICAgICAgICAgdG9rZW4gPSBsb29rYWhlYWQ7XG4gICAgICAgICAgICBpZiAodG9rZW4udHlwZSA9PT0gVG9rZW4uUHVuY3R1YXRvciAmJiB0b2tlbi52YWx1ZSA9PT0gJywnKSB7XG4gICAgICAgICAgICAgICAgbGV4KCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRva2VuLnR5cGUgPT09IFRva2VuLlB1bmN0dWF0b3IgJiYgdG9rZW4udmFsdWUgPT09ICc7Jykge1xuICAgICAgICAgICAgICAgIGxleCgpO1xuICAgICAgICAgICAgICAgIHRvbGVyYXRlVW5leHBlY3RlZFRva2VuKHRva2VuKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdG9sZXJhdGVVbmV4cGVjdGVkVG9rZW4odG9rZW4sIE1lc3NhZ2VzLlVuZXhwZWN0ZWRUb2tlbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBleHBlY3QoJywnKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIEV4cGVjdCB0aGUgbmV4dCB0b2tlbiB0byBtYXRjaCB0aGUgc3BlY2lmaWVkIGtleXdvcmQuXG4gICAgLy8gSWYgbm90LCBhbiBleGNlcHRpb24gd2lsbCBiZSB0aHJvd24uXG5cbiAgICBmdW5jdGlvbiBleHBlY3RLZXl3b3JkKGtleXdvcmQpIHtcbiAgICAgICAgdmFyIHRva2VuID0gbGV4KCk7XG4gICAgICAgIGlmICh0b2tlbi50eXBlICE9PSBUb2tlbi5LZXl3b3JkIHx8IHRva2VuLnZhbHVlICE9PSBrZXl3b3JkKSB7XG4gICAgICAgICAgICB0aHJvd1VuZXhwZWN0ZWRUb2tlbih0b2tlbik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBSZXR1cm4gdHJ1ZSBpZiB0aGUgbmV4dCB0b2tlbiBtYXRjaGVzIHRoZSBzcGVjaWZpZWQgcHVuY3R1YXRvci5cblxuICAgIGZ1bmN0aW9uIG1hdGNoKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBsb29rYWhlYWQudHlwZSA9PT0gVG9rZW4uUHVuY3R1YXRvciAmJiBsb29rYWhlYWQudmFsdWUgPT09IHZhbHVlO1xuICAgIH1cblxuICAgIC8vIFJldHVybiB0cnVlIGlmIHRoZSBuZXh0IHRva2VuIG1hdGNoZXMgdGhlIHNwZWNpZmllZCBrZXl3b3JkXG5cbiAgICBmdW5jdGlvbiBtYXRjaEtleXdvcmQoa2V5d29yZCkge1xuICAgICAgICByZXR1cm4gbG9va2FoZWFkLnR5cGUgPT09IFRva2VuLktleXdvcmQgJiYgbG9va2FoZWFkLnZhbHVlID09PSBrZXl3b3JkO1xuICAgIH1cblxuICAgIC8vIFJldHVybiB0cnVlIGlmIHRoZSBuZXh0IHRva2VuIG1hdGNoZXMgdGhlIHNwZWNpZmllZCBjb250ZXh0dWFsIGtleXdvcmRcbiAgICAvLyAod2hlcmUgYW4gaWRlbnRpZmllciBpcyBzb21ldGltZXMgYSBrZXl3b3JkIGRlcGVuZGluZyBvbiB0aGUgY29udGV4dClcblxuICAgIGZ1bmN0aW9uIG1hdGNoQ29udGV4dHVhbEtleXdvcmQoa2V5d29yZCkge1xuICAgICAgICByZXR1cm4gbG9va2FoZWFkLnR5cGUgPT09IFRva2VuLklkZW50aWZpZXIgJiYgbG9va2FoZWFkLnZhbHVlID09PSBrZXl3b3JkO1xuICAgIH1cblxuICAgIC8vIFJldHVybiB0cnVlIGlmIHRoZSBuZXh0IHRva2VuIGlzIGFuIGFzc2lnbm1lbnQgb3BlcmF0b3JcblxuICAgIGZ1bmN0aW9uIG1hdGNoQXNzaWduKCkge1xuICAgICAgICB2YXIgb3A7XG5cbiAgICAgICAgaWYgKGxvb2thaGVhZC50eXBlICE9PSBUb2tlbi5QdW5jdHVhdG9yKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgb3AgPSBsb29rYWhlYWQudmFsdWU7XG4gICAgICAgIHJldHVybiBvcCA9PT0gJz0nIHx8XG4gICAgICAgICAgICBvcCA9PT0gJyo9JyB8fFxuICAgICAgICAgICAgb3AgPT09ICcvPScgfHxcbiAgICAgICAgICAgIG9wID09PSAnJT0nIHx8XG4gICAgICAgICAgICBvcCA9PT0gJys9JyB8fFxuICAgICAgICAgICAgb3AgPT09ICctPScgfHxcbiAgICAgICAgICAgIG9wID09PSAnPDw9JyB8fFxuICAgICAgICAgICAgb3AgPT09ICc+Pj0nIHx8XG4gICAgICAgICAgICBvcCA9PT0gJz4+Pj0nIHx8XG4gICAgICAgICAgICBvcCA9PT0gJyY9JyB8fFxuICAgICAgICAgICAgb3AgPT09ICdePScgfHxcbiAgICAgICAgICAgIG9wID09PSAnfD0nO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNvbnN1bWVTZW1pY29sb24oKSB7XG4gICAgICAgIC8vIENhdGNoIHRoZSB2ZXJ5IGNvbW1vbiBjYXNlIGZpcnN0OiBpbW1lZGlhdGVseSBhIHNlbWljb2xvbiAoVSswMDNCKS5cbiAgICAgICAgaWYgKHNvdXJjZS5jaGFyQ29kZUF0KHN0YXJ0SW5kZXgpID09PSAweDNCIHx8IG1hdGNoKCc7JykpIHtcbiAgICAgICAgICAgIGxleCgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGhhc0xpbmVUZXJtaW5hdG9yKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBGSVhNRShpa2FyaWVuYXRvcik6IHRoaXMgaXMgc2VlbWluZ2x5IGFuIGlzc3VlIGluIHRoZSBwcmV2aW91cyBsb2NhdGlvbiBpbmZvIGNvbnZlbnRpb24uXG4gICAgICAgIGxhc3RJbmRleCA9IHN0YXJ0SW5kZXg7XG4gICAgICAgIGxhc3RMaW5lTnVtYmVyID0gc3RhcnRMaW5lTnVtYmVyO1xuICAgICAgICBsYXN0TGluZVN0YXJ0ID0gc3RhcnRMaW5lU3RhcnQ7XG5cbiAgICAgICAgaWYgKGxvb2thaGVhZC50eXBlICE9PSBUb2tlbi5FT0YgJiYgIW1hdGNoKCd9JykpIHtcbiAgICAgICAgICAgIHRocm93VW5leHBlY3RlZFRva2VuKGxvb2thaGVhZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBDb3ZlciBncmFtbWFyIHN1cHBvcnQuXG4gICAgLy9cbiAgICAvLyBXaGVuIGFuIGFzc2lnbm1lbnQgZXhwcmVzc2lvbiBwb3NpdGlvbiBzdGFydHMgd2l0aCBhbiBsZWZ0IHBhcmVudGhlc2lzLCB0aGUgZGV0ZXJtaW5hdGlvbiBvZiB0aGUgdHlwZVxuICAgIC8vIG9mIHRoZSBzeW50YXggaXMgdG8gYmUgZGVmZXJyZWQgYXJiaXRyYXJpbHkgbG9uZyB1bnRpbCB0aGUgZW5kIG9mIHRoZSBwYXJlbnRoZXNlcyBwYWlyIChwbHVzIGEgbG9va2FoZWFkKVxuICAgIC8vIG9yIHRoZSBmaXJzdCBjb21tYS4gVGhpcyBzaXR1YXRpb24gYWxzbyBkZWZlcnMgdGhlIGRldGVybWluYXRpb24gb2YgYWxsIHRoZSBleHByZXNzaW9ucyBuZXN0ZWQgaW4gdGhlIHBhaXIuXG4gICAgLy9cbiAgICAvLyBUaGVyZSBhcmUgdGhyZWUgcHJvZHVjdGlvbnMgdGhhdCBjYW4gYmUgcGFyc2VkIGluIGEgcGFyZW50aGVzZXMgcGFpciB0aGF0IG5lZWRzIHRvIGJlIGRldGVybWluZWRcbiAgICAvLyBhZnRlciB0aGUgb3V0ZXJtb3N0IHBhaXIgaXMgY2xvc2VkLiBUaGV5IGFyZTpcbiAgICAvL1xuICAgIC8vICAgMS4gQXNzaWdubWVudEV4cHJlc3Npb25cbiAgICAvLyAgIDIuIEJpbmRpbmdFbGVtZW50c1xuICAgIC8vICAgMy4gQXNzaWdubWVudFRhcmdldHNcbiAgICAvL1xuICAgIC8vIEluIG9yZGVyIHRvIGF2b2lkIGV4cG9uZW50aWFsIGJhY2t0cmFja2luZywgd2UgdXNlIHR3byBmbGFncyB0byBkZW5vdGUgaWYgdGhlIHByb2R1Y3Rpb24gY2FuIGJlXG4gICAgLy8gYmluZGluZyBlbGVtZW50IG9yIGFzc2lnbm1lbnQgdGFyZ2V0LlxuICAgIC8vXG4gICAgLy8gVGhlIHRocmVlIHByb2R1Y3Rpb25zIGhhdmUgdGhlIHJlbGF0aW9uc2hpcDpcbiAgICAvL1xuICAgIC8vICAgQmluZGluZ0VsZW1lbnRzIOKKhiBBc3NpZ25tZW50VGFyZ2V0cyDiioYgQXNzaWdubWVudEV4cHJlc3Npb25cbiAgICAvL1xuICAgIC8vIHdpdGggYSBzaW5nbGUgZXhjZXB0aW9uIHRoYXQgQ292ZXJJbml0aWFsaXplZE5hbWUgd2hlbiB1c2VkIGRpcmVjdGx5IGluIGFuIEV4cHJlc3Npb24sIGdlbmVyYXRlc1xuICAgIC8vIGFuIGVhcmx5IGVycm9yLiBUaGVyZWZvcmUsIHdlIG5lZWQgdGhlIHRoaXJkIHN0YXRlLCBmaXJzdENvdmVySW5pdGlhbGl6ZWROYW1lRXJyb3IsIHRvIHRyYWNrIHRoZVxuICAgIC8vIGZpcnN0IHVzYWdlIG9mIENvdmVySW5pdGlhbGl6ZWROYW1lIGFuZCByZXBvcnQgaXQgd2hlbiB3ZSByZWFjaGVkIHRoZSBlbmQgb2YgdGhlIHBhcmVudGhlc2VzIHBhaXIuXG4gICAgLy9cbiAgICAvLyBpc29sYXRlQ292ZXJHcmFtbWFyIGZ1bmN0aW9uIHJ1bnMgdGhlIGdpdmVuIHBhcnNlciBmdW5jdGlvbiB3aXRoIGEgbmV3IGNvdmVyIGdyYW1tYXIgY29udGV4dCwgYW5kIGl0IGRvZXMgbm90XG4gICAgLy8gZWZmZWN0IHRoZSBjdXJyZW50IGZsYWdzLiBUaGlzIG1lYW5zIHRoZSBwcm9kdWN0aW9uIHRoZSBwYXJzZXIgcGFyc2VzIGlzIG9ubHkgdXNlZCBhcyBhbiBleHByZXNzaW9uLiBUaGVyZWZvcmVcbiAgICAvLyB0aGUgQ292ZXJJbml0aWFsaXplZE5hbWUgY2hlY2sgaXMgY29uZHVjdGVkLlxuICAgIC8vXG4gICAgLy8gaW5oZXJpdENvdmVyR3JhbW1hciBmdW5jdGlvbiBydW5zIHRoZSBnaXZlbiBwYXJzZSBmdW5jdGlvbiB3aXRoIGEgbmV3IGNvdmVyIGdyYW1tYXIgY29udGV4dCwgYW5kIGl0IHByb3BhZ2F0ZXNcbiAgICAvLyB0aGUgZmxhZ3Mgb3V0c2lkZSBvZiB0aGUgcGFyc2VyLiBUaGlzIG1lYW5zIHRoZSBwcm9kdWN0aW9uIHRoZSBwYXJzZXIgcGFyc2VzIGlzIHVzZWQgYXMgYSBwYXJ0IG9mIGEgcG90ZW50aWFsXG4gICAgLy8gcGF0dGVybi4gVGhlIENvdmVySW5pdGlhbGl6ZWROYW1lIGNoZWNrIGlzIGRlZmVycmVkLlxuICAgIGZ1bmN0aW9uIGlzb2xhdGVDb3ZlckdyYW1tYXIocGFyc2VyKSB7XG4gICAgICAgIHZhciBvbGRJc0JpbmRpbmdFbGVtZW50ID0gaXNCaW5kaW5nRWxlbWVudCxcbiAgICAgICAgICAgIG9sZElzQXNzaWdubWVudFRhcmdldCA9IGlzQXNzaWdubWVudFRhcmdldCxcbiAgICAgICAgICAgIG9sZEZpcnN0Q292ZXJJbml0aWFsaXplZE5hbWVFcnJvciA9IGZpcnN0Q292ZXJJbml0aWFsaXplZE5hbWVFcnJvcixcbiAgICAgICAgICAgIHJlc3VsdDtcbiAgICAgICAgaXNCaW5kaW5nRWxlbWVudCA9IHRydWU7XG4gICAgICAgIGlzQXNzaWdubWVudFRhcmdldCA9IHRydWU7XG4gICAgICAgIGZpcnN0Q292ZXJJbml0aWFsaXplZE5hbWVFcnJvciA9IG51bGw7XG4gICAgICAgIHJlc3VsdCA9IHBhcnNlcigpO1xuICAgICAgICBpZiAoZmlyc3RDb3ZlckluaXRpYWxpemVkTmFtZUVycm9yICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvd1VuZXhwZWN0ZWRUb2tlbihmaXJzdENvdmVySW5pdGlhbGl6ZWROYW1lRXJyb3IpO1xuICAgICAgICB9XG4gICAgICAgIGlzQmluZGluZ0VsZW1lbnQgPSBvbGRJc0JpbmRpbmdFbGVtZW50O1xuICAgICAgICBpc0Fzc2lnbm1lbnRUYXJnZXQgPSBvbGRJc0Fzc2lnbm1lbnRUYXJnZXQ7XG4gICAgICAgIGZpcnN0Q292ZXJJbml0aWFsaXplZE5hbWVFcnJvciA9IG9sZEZpcnN0Q292ZXJJbml0aWFsaXplZE5hbWVFcnJvcjtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbmhlcml0Q292ZXJHcmFtbWFyKHBhcnNlcikge1xuICAgICAgICB2YXIgb2xkSXNCaW5kaW5nRWxlbWVudCA9IGlzQmluZGluZ0VsZW1lbnQsXG4gICAgICAgICAgICBvbGRJc0Fzc2lnbm1lbnRUYXJnZXQgPSBpc0Fzc2lnbm1lbnRUYXJnZXQsXG4gICAgICAgICAgICBvbGRGaXJzdENvdmVySW5pdGlhbGl6ZWROYW1lRXJyb3IgPSBmaXJzdENvdmVySW5pdGlhbGl6ZWROYW1lRXJyb3IsXG4gICAgICAgICAgICByZXN1bHQ7XG4gICAgICAgIGlzQmluZGluZ0VsZW1lbnQgPSB0cnVlO1xuICAgICAgICBpc0Fzc2lnbm1lbnRUYXJnZXQgPSB0cnVlO1xuICAgICAgICBmaXJzdENvdmVySW5pdGlhbGl6ZWROYW1lRXJyb3IgPSBudWxsO1xuICAgICAgICByZXN1bHQgPSBwYXJzZXIoKTtcbiAgICAgICAgaXNCaW5kaW5nRWxlbWVudCA9IGlzQmluZGluZ0VsZW1lbnQgJiYgb2xkSXNCaW5kaW5nRWxlbWVudDtcbiAgICAgICAgaXNBc3NpZ25tZW50VGFyZ2V0ID0gaXNBc3NpZ25tZW50VGFyZ2V0ICYmIG9sZElzQXNzaWdubWVudFRhcmdldDtcbiAgICAgICAgZmlyc3RDb3ZlckluaXRpYWxpemVkTmFtZUVycm9yID0gb2xkRmlyc3RDb3ZlckluaXRpYWxpemVkTmFtZUVycm9yIHx8IGZpcnN0Q292ZXJJbml0aWFsaXplZE5hbWVFcnJvcjtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvLyBFQ01BLTI2MiAxMy4zLjMgRGVzdHJ1Y3R1cmluZyBCaW5kaW5nIFBhdHRlcm5zXG5cbiAgICBmdW5jdGlvbiBwYXJzZUFycmF5UGF0dGVybihwYXJhbXMsIGtpbmQpIHtcbiAgICAgICAgdmFyIG5vZGUgPSBuZXcgTm9kZSgpLCBlbGVtZW50cyA9IFtdLCByZXN0LCByZXN0Tm9kZTtcbiAgICAgICAgZXhwZWN0KCdbJyk7XG5cbiAgICAgICAgd2hpbGUgKCFtYXRjaCgnXScpKSB7XG4gICAgICAgICAgICBpZiAobWF0Y2goJywnKSkge1xuICAgICAgICAgICAgICAgIGxleCgpO1xuICAgICAgICAgICAgICAgIGVsZW1lbnRzLnB1c2gobnVsbCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChtYXRjaCgnLi4uJykpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdE5vZGUgPSBuZXcgTm9kZSgpO1xuICAgICAgICAgICAgICAgICAgICBsZXgoKTtcbiAgICAgICAgICAgICAgICAgICAgcGFyYW1zLnB1c2gobG9va2FoZWFkKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzdCA9IHBhcnNlVmFyaWFibGVJZGVudGlmaWVyKGtpbmQpO1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50cy5wdXNoKHJlc3ROb2RlLmZpbmlzaFJlc3RFbGVtZW50KHJlc3QpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudHMucHVzaChwYXJzZVBhdHRlcm5XaXRoRGVmYXVsdChwYXJhbXMsIGtpbmQpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFtYXRjaCgnXScpKSB7XG4gICAgICAgICAgICAgICAgICAgIGV4cGVjdCgnLCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICAgICAgZXhwZWN0KCddJyk7XG5cbiAgICAgICAgcmV0dXJuIG5vZGUuZmluaXNoQXJyYXlQYXR0ZXJuKGVsZW1lbnRzKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwYXJzZVByb3BlcnR5UGF0dGVybihwYXJhbXMsIGtpbmQpIHtcbiAgICAgICAgdmFyIG5vZGUgPSBuZXcgTm9kZSgpLCBrZXksIGtleVRva2VuLCBjb21wdXRlZCA9IG1hdGNoKCdbJyksIGluaXQ7XG4gICAgICAgIGlmIChsb29rYWhlYWQudHlwZSA9PT0gVG9rZW4uSWRlbnRpZmllcikge1xuICAgICAgICAgICAga2V5VG9rZW4gPSBsb29rYWhlYWQ7XG4gICAgICAgICAgICBrZXkgPSBwYXJzZVZhcmlhYmxlSWRlbnRpZmllcigpO1xuICAgICAgICAgICAgaWYgKG1hdGNoKCc9JykpIHtcbiAgICAgICAgICAgICAgICBwYXJhbXMucHVzaChrZXlUb2tlbik7XG4gICAgICAgICAgICAgICAgbGV4KCk7XG4gICAgICAgICAgICAgICAgaW5pdCA9IHBhcnNlQXNzaWdubWVudEV4cHJlc3Npb24oKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBub2RlLmZpbmlzaFByb3BlcnR5KFxuICAgICAgICAgICAgICAgICAgICAnaW5pdCcsIGtleSwgZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIG5ldyBXcmFwcGluZ05vZGUoa2V5VG9rZW4pLmZpbmlzaEFzc2lnbm1lbnRQYXR0ZXJuKGtleSwgaW5pdCksIGZhbHNlLCB0cnVlKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIW1hdGNoKCc6JykpIHtcbiAgICAgICAgICAgICAgICBwYXJhbXMucHVzaChrZXlUb2tlbik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5vZGUuZmluaXNoUHJvcGVydHkoJ2luaXQnLCBrZXksIGZhbHNlLCBrZXksIGZhbHNlLCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGtleSA9IHBhcnNlT2JqZWN0UHJvcGVydHlLZXkoKTtcbiAgICAgICAgfVxuICAgICAgICBleHBlY3QoJzonKTtcbiAgICAgICAgaW5pdCA9IHBhcnNlUGF0dGVybldpdGhEZWZhdWx0KHBhcmFtcywga2luZCk7XG4gICAgICAgIHJldHVybiBub2RlLmZpbmlzaFByb3BlcnR5KCdpbml0Jywga2V5LCBjb21wdXRlZCwgaW5pdCwgZmFsc2UsIGZhbHNlKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwYXJzZU9iamVjdFBhdHRlcm4ocGFyYW1zLCBraW5kKSB7XG4gICAgICAgIHZhciBub2RlID0gbmV3IE5vZGUoKSwgcHJvcGVydGllcyA9IFtdO1xuXG4gICAgICAgIGV4cGVjdCgneycpO1xuXG4gICAgICAgIHdoaWxlICghbWF0Y2goJ30nKSkge1xuICAgICAgICAgICAgcHJvcGVydGllcy5wdXNoKHBhcnNlUHJvcGVydHlQYXR0ZXJuKHBhcmFtcywga2luZCkpO1xuICAgICAgICAgICAgaWYgKCFtYXRjaCgnfScpKSB7XG4gICAgICAgICAgICAgICAgZXhwZWN0KCcsJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZXgoKTtcblxuICAgICAgICByZXR1cm4gbm9kZS5maW5pc2hPYmplY3RQYXR0ZXJuKHByb3BlcnRpZXMpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBhcnNlUGF0dGVybihwYXJhbXMsIGtpbmQpIHtcbiAgICAgICAgaWYgKG1hdGNoKCdbJykpIHtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUFycmF5UGF0dGVybihwYXJhbXMsIGtpbmQpO1xuICAgICAgICB9IGVsc2UgaWYgKG1hdGNoKCd7JykpIHtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZU9iamVjdFBhdHRlcm4ocGFyYW1zLCBraW5kKTtcbiAgICAgICAgfSBlbHNlIGlmIChtYXRjaEtleXdvcmQoJ2xldCcpKSB7XG4gICAgICAgICAgICBpZiAoa2luZCA9PT0gJ2NvbnN0JyB8fCBraW5kID09PSAnbGV0Jykge1xuICAgICAgICAgICAgICAgIHRvbGVyYXRlVW5leHBlY3RlZFRva2VuKGxvb2thaGVhZCwgTWVzc2FnZXMuVW5leHBlY3RlZFRva2VuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHBhcmFtcy5wdXNoKGxvb2thaGVhZCk7XG4gICAgICAgIHJldHVybiBwYXJzZVZhcmlhYmxlSWRlbnRpZmllcihraW5kKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwYXJzZVBhdHRlcm5XaXRoRGVmYXVsdChwYXJhbXMsIGtpbmQpIHtcbiAgICAgICAgdmFyIHN0YXJ0VG9rZW4gPSBsb29rYWhlYWQsIHBhdHRlcm4sIHByZXZpb3VzQWxsb3dZaWVsZCwgcmlnaHQ7XG4gICAgICAgIHBhdHRlcm4gPSBwYXJzZVBhdHRlcm4ocGFyYW1zLCBraW5kKTtcbiAgICAgICAgaWYgKG1hdGNoKCc9JykpIHtcbiAgICAgICAgICAgIGxleCgpO1xuICAgICAgICAgICAgcHJldmlvdXNBbGxvd1lpZWxkID0gc3RhdGUuYWxsb3dZaWVsZDtcbiAgICAgICAgICAgIHN0YXRlLmFsbG93WWllbGQgPSB0cnVlO1xuICAgICAgICAgICAgcmlnaHQgPSBpc29sYXRlQ292ZXJHcmFtbWFyKHBhcnNlQXNzaWdubWVudEV4cHJlc3Npb24pO1xuICAgICAgICAgICAgc3RhdGUuYWxsb3dZaWVsZCA9IHByZXZpb3VzQWxsb3dZaWVsZDtcbiAgICAgICAgICAgIHBhdHRlcm4gPSBuZXcgV3JhcHBpbmdOb2RlKHN0YXJ0VG9rZW4pLmZpbmlzaEFzc2lnbm1lbnRQYXR0ZXJuKHBhdHRlcm4sIHJpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGF0dGVybjtcbiAgICB9XG5cbiAgICAvLyBFQ01BLTI2MiAxMi4yLjUgQXJyYXkgSW5pdGlhbGl6ZXJcblxuICAgIGZ1bmN0aW9uIHBhcnNlQXJyYXlJbml0aWFsaXplcigpIHtcbiAgICAgICAgdmFyIGVsZW1lbnRzID0gW10sIG5vZGUgPSBuZXcgTm9kZSgpLCByZXN0U3ByZWFkO1xuXG4gICAgICAgIGV4cGVjdCgnWycpO1xuXG4gICAgICAgIHdoaWxlICghbWF0Y2goJ10nKSkge1xuICAgICAgICAgICAgaWYgKG1hdGNoKCcsJykpIHtcbiAgICAgICAgICAgICAgICBsZXgoKTtcbiAgICAgICAgICAgICAgICBlbGVtZW50cy5wdXNoKG51bGwpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChtYXRjaCgnLi4uJykpIHtcbiAgICAgICAgICAgICAgICByZXN0U3ByZWFkID0gbmV3IE5vZGUoKTtcbiAgICAgICAgICAgICAgICBsZXgoKTtcbiAgICAgICAgICAgICAgICByZXN0U3ByZWFkLmZpbmlzaFNwcmVhZEVsZW1lbnQoaW5oZXJpdENvdmVyR3JhbW1hcihwYXJzZUFzc2lnbm1lbnRFeHByZXNzaW9uKSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIW1hdGNoKCddJykpIHtcbiAgICAgICAgICAgICAgICAgICAgaXNBc3NpZ25tZW50VGFyZ2V0ID0gaXNCaW5kaW5nRWxlbWVudCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBleHBlY3QoJywnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxlbWVudHMucHVzaChyZXN0U3ByZWFkKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudHMucHVzaChpbmhlcml0Q292ZXJHcmFtbWFyKHBhcnNlQXNzaWdubWVudEV4cHJlc3Npb24pKTtcblxuICAgICAgICAgICAgICAgIGlmICghbWF0Y2goJ10nKSkge1xuICAgICAgICAgICAgICAgICAgICBleHBlY3QoJywnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZXgoKTtcblxuICAgICAgICByZXR1cm4gbm9kZS5maW5pc2hBcnJheUV4cHJlc3Npb24oZWxlbWVudHMpO1xuICAgIH1cblxuICAgIC8vIEVDTUEtMjYyIDEyLjIuNiBPYmplY3QgSW5pdGlhbGl6ZXJcblxuICAgIGZ1bmN0aW9uIHBhcnNlUHJvcGVydHlGdW5jdGlvbihub2RlLCBwYXJhbUluZm8sIGlzR2VuZXJhdG9yKSB7XG4gICAgICAgIHZhciBwcmV2aW91c1N0cmljdCwgYm9keTtcblxuICAgICAgICBpc0Fzc2lnbm1lbnRUYXJnZXQgPSBpc0JpbmRpbmdFbGVtZW50ID0gZmFsc2U7XG5cbiAgICAgICAgcHJldmlvdXNTdHJpY3QgPSBzdHJpY3Q7XG4gICAgICAgIGJvZHkgPSBpc29sYXRlQ292ZXJHcmFtbWFyKHBhcnNlRnVuY3Rpb25Tb3VyY2VFbGVtZW50cyk7XG5cbiAgICAgICAgaWYgKHN0cmljdCAmJiBwYXJhbUluZm8uZmlyc3RSZXN0cmljdGVkKSB7XG4gICAgICAgICAgICB0b2xlcmF0ZVVuZXhwZWN0ZWRUb2tlbihwYXJhbUluZm8uZmlyc3RSZXN0cmljdGVkLCBwYXJhbUluZm8ubWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0cmljdCAmJiBwYXJhbUluZm8uc3RyaWN0ZWQpIHtcbiAgICAgICAgICAgIHRvbGVyYXRlVW5leHBlY3RlZFRva2VuKHBhcmFtSW5mby5zdHJpY3RlZCwgcGFyYW1JbmZvLm1lc3NhZ2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgc3RyaWN0ID0gcHJldmlvdXNTdHJpY3Q7XG4gICAgICAgIHJldHVybiBub2RlLmZpbmlzaEZ1bmN0aW9uRXhwcmVzc2lvbihudWxsLCBwYXJhbUluZm8ucGFyYW1zLCBwYXJhbUluZm8uZGVmYXVsdHMsIGJvZHksIGlzR2VuZXJhdG9yKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwYXJzZVByb3BlcnR5TWV0aG9kRnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBwYXJhbXMsIG1ldGhvZCwgbm9kZSA9IG5ldyBOb2RlKCksXG4gICAgICAgICAgICBwcmV2aW91c0FsbG93WWllbGQgPSBzdGF0ZS5hbGxvd1lpZWxkO1xuXG4gICAgICAgIHN0YXRlLmFsbG93WWllbGQgPSBmYWxzZTtcbiAgICAgICAgcGFyYW1zID0gcGFyc2VQYXJhbXMoKTtcbiAgICAgICAgc3RhdGUuYWxsb3dZaWVsZCA9IHByZXZpb3VzQWxsb3dZaWVsZDtcblxuICAgICAgICBzdGF0ZS5hbGxvd1lpZWxkID0gZmFsc2U7XG4gICAgICAgIG1ldGhvZCA9IHBhcnNlUHJvcGVydHlGdW5jdGlvbihub2RlLCBwYXJhbXMsIGZhbHNlKTtcbiAgICAgICAgc3RhdGUuYWxsb3dZaWVsZCA9IHByZXZpb3VzQWxsb3dZaWVsZDtcblxuICAgICAgICByZXR1cm4gbWV0aG9kO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBhcnNlT2JqZWN0UHJvcGVydHlLZXkoKSB7XG4gICAgICAgIHZhciB0b2tlbiwgbm9kZSA9IG5ldyBOb2RlKCksIGV4cHI7XG5cbiAgICAgICAgdG9rZW4gPSBsZXgoKTtcblxuICAgICAgICAvLyBOb3RlOiBUaGlzIGZ1bmN0aW9uIGlzIGNhbGxlZCBvbmx5IGZyb20gcGFyc2VPYmplY3RQcm9wZXJ0eSgpLCB3aGVyZVxuICAgICAgICAvLyBFT0YgYW5kIFB1bmN0dWF0b3IgdG9rZW5zIGFyZSBhbHJlYWR5IGZpbHRlcmVkIG91dC5cblxuICAgICAgICBzd2l0Y2ggKHRva2VuLnR5cGUpIHtcbiAgICAgICAgY2FzZSBUb2tlbi5TdHJpbmdMaXRlcmFsOlxuICAgICAgICBjYXNlIFRva2VuLk51bWVyaWNMaXRlcmFsOlxuICAgICAgICAgICAgaWYgKHN0cmljdCAmJiB0b2tlbi5vY3RhbCkge1xuICAgICAgICAgICAgICAgIHRvbGVyYXRlVW5leHBlY3RlZFRva2VuKHRva2VuLCBNZXNzYWdlcy5TdHJpY3RPY3RhbExpdGVyYWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5vZGUuZmluaXNoTGl0ZXJhbCh0b2tlbik7XG4gICAgICAgIGNhc2UgVG9rZW4uSWRlbnRpZmllcjpcbiAgICAgICAgY2FzZSBUb2tlbi5Cb29sZWFuTGl0ZXJhbDpcbiAgICAgICAgY2FzZSBUb2tlbi5OdWxsTGl0ZXJhbDpcbiAgICAgICAgY2FzZSBUb2tlbi5LZXl3b3JkOlxuICAgICAgICAgICAgcmV0dXJuIG5vZGUuZmluaXNoSWRlbnRpZmllcih0b2tlbi52YWx1ZSk7XG4gICAgICAgIGNhc2UgVG9rZW4uUHVuY3R1YXRvcjpcbiAgICAgICAgICAgIGlmICh0b2tlbi52YWx1ZSA9PT0gJ1snKSB7XG4gICAgICAgICAgICAgICAgZXhwciA9IGlzb2xhdGVDb3ZlckdyYW1tYXIocGFyc2VBc3NpZ25tZW50RXhwcmVzc2lvbik7XG4gICAgICAgICAgICAgICAgZXhwZWN0KCddJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGV4cHI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICB0aHJvd1VuZXhwZWN0ZWRUb2tlbih0b2tlbik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbG9va2FoZWFkUHJvcGVydHlOYW1lKCkge1xuICAgICAgICBzd2l0Y2ggKGxvb2thaGVhZC50eXBlKSB7XG4gICAgICAgIGNhc2UgVG9rZW4uSWRlbnRpZmllcjpcbiAgICAgICAgY2FzZSBUb2tlbi5TdHJpbmdMaXRlcmFsOlxuICAgICAgICBjYXNlIFRva2VuLkJvb2xlYW5MaXRlcmFsOlxuICAgICAgICBjYXNlIFRva2VuLk51bGxMaXRlcmFsOlxuICAgICAgICBjYXNlIFRva2VuLk51bWVyaWNMaXRlcmFsOlxuICAgICAgICBjYXNlIFRva2VuLktleXdvcmQ6XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgY2FzZSBUb2tlbi5QdW5jdHVhdG9yOlxuICAgICAgICAgICAgcmV0dXJuIGxvb2thaGVhZC52YWx1ZSA9PT0gJ1snO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBUaGlzIGZ1bmN0aW9uIGlzIHRvIHRyeSB0byBwYXJzZSBhIE1ldGhvZERlZmluaXRpb24gYXMgZGVmaW5lZCBpbiAxNC4zLiBCdXQgaW4gdGhlIGNhc2Ugb2Ygb2JqZWN0IGxpdGVyYWxzLFxuICAgIC8vIGl0IG1pZ2h0IGJlIGNhbGxlZCBhdCBhIHBvc2l0aW9uIHdoZXJlIHRoZXJlIGlzIGluIGZhY3QgYSBzaG9ydCBoYW5kIGlkZW50aWZpZXIgcGF0dGVybiBvciBhIGRhdGEgcHJvcGVydHkuXG4gICAgLy8gVGhpcyBjYW4gb25seSBiZSBkZXRlcm1pbmVkIGFmdGVyIHdlIGNvbnN1bWVkIHVwIHRvIHRoZSBsZWZ0IHBhcmVudGhlc2VzLlxuICAgIC8vXG4gICAgLy8gSW4gb3JkZXIgdG8gYXZvaWQgYmFjayB0cmFja2luZywgaXQgcmV0dXJucyBgbnVsbGAgaWYgdGhlIHBvc2l0aW9uIGlzIG5vdCBhIE1ldGhvZERlZmluaXRpb24gYW5kIHRoZSBjYWxsZXJcbiAgICAvLyBpcyByZXNwb25zaWJsZSB0byB2aXNpdCBvdGhlciBvcHRpb25zLlxuICAgIGZ1bmN0aW9uIHRyeVBhcnNlTWV0aG9kRGVmaW5pdGlvbih0b2tlbiwga2V5LCBjb21wdXRlZCwgbm9kZSkge1xuICAgICAgICB2YXIgdmFsdWUsIG9wdGlvbnMsIG1ldGhvZE5vZGUsIHBhcmFtcyxcbiAgICAgICAgICAgIHByZXZpb3VzQWxsb3dZaWVsZCA9IHN0YXRlLmFsbG93WWllbGQ7XG5cbiAgICAgICAgaWYgKHRva2VuLnR5cGUgPT09IFRva2VuLklkZW50aWZpZXIpIHtcbiAgICAgICAgICAgIC8vIGNoZWNrIGZvciBgZ2V0YCBhbmQgYHNldGA7XG5cbiAgICAgICAgICAgIGlmICh0b2tlbi52YWx1ZSA9PT0gJ2dldCcgJiYgbG9va2FoZWFkUHJvcGVydHlOYW1lKCkpIHtcbiAgICAgICAgICAgICAgICBjb21wdXRlZCA9IG1hdGNoKCdbJyk7XG4gICAgICAgICAgICAgICAga2V5ID0gcGFyc2VPYmplY3RQcm9wZXJ0eUtleSgpO1xuICAgICAgICAgICAgICAgIG1ldGhvZE5vZGUgPSBuZXcgTm9kZSgpO1xuICAgICAgICAgICAgICAgIGV4cGVjdCgnKCcpO1xuICAgICAgICAgICAgICAgIGV4cGVjdCgnKScpO1xuXG4gICAgICAgICAgICAgICAgc3RhdGUuYWxsb3dZaWVsZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHZhbHVlID0gcGFyc2VQcm9wZXJ0eUZ1bmN0aW9uKG1ldGhvZE5vZGUsIHtcbiAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdHM6IFtdLFxuICAgICAgICAgICAgICAgICAgICBzdHJpY3RlZDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgZmlyc3RSZXN0cmljdGVkOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBudWxsXG4gICAgICAgICAgICAgICAgfSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIHN0YXRlLmFsbG93WWllbGQgPSBwcmV2aW91c0FsbG93WWllbGQ7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gbm9kZS5maW5pc2hQcm9wZXJ0eSgnZ2V0Jywga2V5LCBjb21wdXRlZCwgdmFsdWUsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRva2VuLnZhbHVlID09PSAnc2V0JyAmJiBsb29rYWhlYWRQcm9wZXJ0eU5hbWUoKSkge1xuICAgICAgICAgICAgICAgIGNvbXB1dGVkID0gbWF0Y2goJ1snKTtcbiAgICAgICAgICAgICAgICBrZXkgPSBwYXJzZU9iamVjdFByb3BlcnR5S2V5KCk7XG4gICAgICAgICAgICAgICAgbWV0aG9kTm9kZSA9IG5ldyBOb2RlKCk7XG4gICAgICAgICAgICAgICAgZXhwZWN0KCcoJyk7XG5cbiAgICAgICAgICAgICAgICBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IFtdLFxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0Q291bnQ6IDAsXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHRzOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgZmlyc3RSZXN0cmljdGVkOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICBwYXJhbVNldDoge31cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGlmIChtYXRjaCgnKScpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRvbGVyYXRlVW5leHBlY3RlZFRva2VuKGxvb2thaGVhZCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuYWxsb3dZaWVsZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBwYXJzZVBhcmFtKG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5hbGxvd1lpZWxkID0gcHJldmlvdXNBbGxvd1lpZWxkO1xuICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5kZWZhdWx0Q291bnQgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZGVmYXVsdHMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBleHBlY3QoJyknKTtcblxuICAgICAgICAgICAgICAgIHN0YXRlLmFsbG93WWllbGQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHBhcnNlUHJvcGVydHlGdW5jdGlvbihtZXRob2ROb2RlLCBvcHRpb25zLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgc3RhdGUuYWxsb3dZaWVsZCA9IHByZXZpb3VzQWxsb3dZaWVsZDtcblxuICAgICAgICAgICAgICAgIHJldHVybiBub2RlLmZpbmlzaFByb3BlcnR5KCdzZXQnLCBrZXksIGNvbXB1dGVkLCB2YWx1ZSwgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICh0b2tlbi50eXBlID09PSBUb2tlbi5QdW5jdHVhdG9yICYmIHRva2VuLnZhbHVlID09PSAnKicgJiYgbG9va2FoZWFkUHJvcGVydHlOYW1lKCkpIHtcbiAgICAgICAgICAgIGNvbXB1dGVkID0gbWF0Y2goJ1snKTtcbiAgICAgICAgICAgIGtleSA9IHBhcnNlT2JqZWN0UHJvcGVydHlLZXkoKTtcbiAgICAgICAgICAgIG1ldGhvZE5vZGUgPSBuZXcgTm9kZSgpO1xuXG4gICAgICAgICAgICBzdGF0ZS5hbGxvd1lpZWxkID0gdHJ1ZTtcbiAgICAgICAgICAgIHBhcmFtcyA9IHBhcnNlUGFyYW1zKCk7XG4gICAgICAgICAgICBzdGF0ZS5hbGxvd1lpZWxkID0gcHJldmlvdXNBbGxvd1lpZWxkO1xuXG4gICAgICAgICAgICBzdGF0ZS5hbGxvd1lpZWxkID0gZmFsc2U7XG4gICAgICAgICAgICB2YWx1ZSA9IHBhcnNlUHJvcGVydHlGdW5jdGlvbihtZXRob2ROb2RlLCBwYXJhbXMsIHRydWUpO1xuICAgICAgICAgICAgc3RhdGUuYWxsb3dZaWVsZCA9IHByZXZpb3VzQWxsb3dZaWVsZDtcblxuICAgICAgICAgICAgcmV0dXJuIG5vZGUuZmluaXNoUHJvcGVydHkoJ2luaXQnLCBrZXksIGNvbXB1dGVkLCB2YWx1ZSwgdHJ1ZSwgZmFsc2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGtleSAmJiBtYXRjaCgnKCcpKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IHBhcnNlUHJvcGVydHlNZXRob2RGdW5jdGlvbigpO1xuICAgICAgICAgICAgcmV0dXJuIG5vZGUuZmluaXNoUHJvcGVydHkoJ2luaXQnLCBrZXksIGNvbXB1dGVkLCB2YWx1ZSwgdHJ1ZSwgZmFsc2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTm90IGEgTWV0aG9kRGVmaW5pdGlvbi5cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcGFyc2VPYmplY3RQcm9wZXJ0eShoYXNQcm90bykge1xuICAgICAgICB2YXIgdG9rZW4gPSBsb29rYWhlYWQsIG5vZGUgPSBuZXcgTm9kZSgpLCBjb21wdXRlZCwga2V5LCBtYXliZU1ldGhvZCwgcHJvdG8sIHZhbHVlO1xuXG4gICAgICAgIGNvbXB1dGVkID0gbWF0Y2goJ1snKTtcbiAgICAgICAgaWYgKG1hdGNoKCcqJykpIHtcbiAgICAgICAgICAgIGxleCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAga2V5ID0gcGFyc2VPYmplY3RQcm9wZXJ0eUtleSgpO1xuICAgICAgICB9XG4gICAgICAgIG1heWJlTWV0aG9kID0gdHJ5UGFyc2VNZXRob2REZWZpbml0aW9uKHRva2VuLCBrZXksIGNvbXB1dGVkLCBub2RlKTtcbiAgICAgICAgaWYgKG1heWJlTWV0aG9kKSB7XG4gICAgICAgICAgICByZXR1cm4gbWF5YmVNZXRob2Q7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWtleSkge1xuICAgICAgICAgICAgdGhyb3dVbmV4cGVjdGVkVG9rZW4obG9va2FoZWFkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENoZWNrIGZvciBkdXBsaWNhdGVkIF9fcHJvdG9fX1xuICAgICAgICBpZiAoIWNvbXB1dGVkKSB7XG4gICAgICAgICAgICBwcm90byA9IChrZXkudHlwZSA9PT0gU3ludGF4LklkZW50aWZpZXIgJiYga2V5Lm5hbWUgPT09ICdfX3Byb3RvX18nKSB8fFxuICAgICAgICAgICAgICAgIChrZXkudHlwZSA9PT0gU3ludGF4LkxpdGVyYWwgJiYga2V5LnZhbHVlID09PSAnX19wcm90b19fJyk7XG4gICAgICAgICAgICBpZiAoaGFzUHJvdG8udmFsdWUgJiYgcHJvdG8pIHtcbiAgICAgICAgICAgICAgICB0b2xlcmF0ZUVycm9yKE1lc3NhZ2VzLkR1cGxpY2F0ZVByb3RvUHJvcGVydHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaGFzUHJvdG8udmFsdWUgfD0gcHJvdG87XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobWF0Y2goJzonKSkge1xuICAgICAgICAgICAgbGV4KCk7XG4gICAgICAgICAgICB2YWx1ZSA9IGluaGVyaXRDb3ZlckdyYW1tYXIocGFyc2VBc3NpZ25tZW50RXhwcmVzc2lvbik7XG4gICAgICAgICAgICByZXR1cm4gbm9kZS5maW5pc2hQcm9wZXJ0eSgnaW5pdCcsIGtleSwgY29tcHV0ZWQsIHZhbHVlLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRva2VuLnR5cGUgPT09IFRva2VuLklkZW50aWZpZXIpIHtcbiAgICAgICAgICAgIGlmIChtYXRjaCgnPScpKSB7XG4gICAgICAgICAgICAgICAgZmlyc3RDb3ZlckluaXRpYWxpemVkTmFtZUVycm9yID0gbG9va2FoZWFkO1xuICAgICAgICAgICAgICAgIGxleCgpO1xuICAgICAgICAgICAgICAgIHZhbHVlID0gaXNvbGF0ZUNvdmVyR3JhbW1hcihwYXJzZUFzc2lnbm1lbnRFeHByZXNzaW9uKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbm9kZS5maW5pc2hQcm9wZXJ0eSgnaW5pdCcsIGtleSwgY29tcHV0ZWQsXG4gICAgICAgICAgICAgICAgICAgIG5ldyBXcmFwcGluZ05vZGUodG9rZW4pLmZpbmlzaEFzc2lnbm1lbnRQYXR0ZXJuKGtleSwgdmFsdWUpLCBmYWxzZSwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbm9kZS5maW5pc2hQcm9wZXJ0eSgnaW5pdCcsIGtleSwgY29tcHV0ZWQsIGtleSwgZmFsc2UsIHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhyb3dVbmV4cGVjdGVkVG9rZW4obG9va2FoZWFkKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwYXJzZU9iamVjdEluaXRpYWxpemVyKCkge1xuICAgICAgICB2YXIgcHJvcGVydGllcyA9IFtdLCBoYXNQcm90byA9IHt2YWx1ZTogZmFsc2V9LCBub2RlID0gbmV3IE5vZGUoKTtcblxuICAgICAgICBleHBlY3QoJ3snKTtcblxuICAgICAgICB3aGlsZSAoIW1hdGNoKCd9JykpIHtcbiAgICAgICAgICAgIHByb3BlcnRpZXMucHVzaChwYXJzZU9iamVjdFByb3BlcnR5KGhhc1Byb3RvKSk7XG5cbiAgICAgICAgICAgIGlmICghbWF0Y2goJ30nKSkge1xuICAgICAgICAgICAgICAgIGV4cGVjdENvbW1hU2VwYXJhdG9yKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBleHBlY3QoJ30nKTtcblxuICAgICAgICByZXR1cm4gbm9kZS5maW5pc2hPYmplY3RFeHByZXNzaW9uKHByb3BlcnRpZXMpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlaW50ZXJwcmV0RXhwcmVzc2lvbkFzUGF0dGVybihleHByKSB7XG4gICAgICAgIHZhciBpO1xuICAgICAgICBzd2l0Y2ggKGV4cHIudHlwZSkge1xuICAgICAgICBjYXNlIFN5bnRheC5JZGVudGlmaWVyOlxuICAgICAgICBjYXNlIFN5bnRheC5NZW1iZXJFeHByZXNzaW9uOlxuICAgICAgICBjYXNlIFN5bnRheC5SZXN0RWxlbWVudDpcbiAgICAgICAgY2FzZSBTeW50YXguQXNzaWdubWVudFBhdHRlcm46XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBTeW50YXguU3ByZWFkRWxlbWVudDpcbiAgICAgICAgICAgIGV4cHIudHlwZSA9IFN5bnRheC5SZXN0RWxlbWVudDtcbiAgICAgICAgICAgIHJlaW50ZXJwcmV0RXhwcmVzc2lvbkFzUGF0dGVybihleHByLmFyZ3VtZW50KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFN5bnRheC5BcnJheUV4cHJlc3Npb246XG4gICAgICAgICAgICBleHByLnR5cGUgPSBTeW50YXguQXJyYXlQYXR0ZXJuO1xuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGV4cHIuZWxlbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoZXhwci5lbGVtZW50c1tpXSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZWludGVycHJldEV4cHJlc3Npb25Bc1BhdHRlcm4oZXhwci5lbGVtZW50c1tpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgU3ludGF4Lk9iamVjdEV4cHJlc3Npb246XG4gICAgICAgICAgICBleHByLnR5cGUgPSBTeW50YXguT2JqZWN0UGF0dGVybjtcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBleHByLnByb3BlcnRpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICByZWludGVycHJldEV4cHJlc3Npb25Bc1BhdHRlcm4oZXhwci5wcm9wZXJ0aWVzW2ldLnZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFN5bnRheC5Bc3NpZ25tZW50RXhwcmVzc2lvbjpcbiAgICAgICAgICAgIGV4cHIudHlwZSA9IFN5bnRheC5Bc3NpZ25tZW50UGF0dGVybjtcbiAgICAgICAgICAgIHJlaW50ZXJwcmV0RXhwcmVzc2lvbkFzUGF0dGVybihleHByLmxlZnQpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAvLyBBbGxvdyBvdGhlciBub2RlIHR5cGUgZm9yIHRvbGVyYW50IHBhcnNpbmcuXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIEVDTUEtMjYyIDEyLjIuOSBUZW1wbGF0ZSBMaXRlcmFsc1xuXG4gICAgZnVuY3Rpb24gcGFyc2VUZW1wbGF0ZUVsZW1lbnQob3B0aW9uKSB7XG4gICAgICAgIHZhciBub2RlLCB0b2tlbjtcblxuICAgICAgICBpZiAobG9va2FoZWFkLnR5cGUgIT09IFRva2VuLlRlbXBsYXRlIHx8IChvcHRpb24uaGVhZCAmJiAhbG9va2FoZWFkLmhlYWQpKSB7XG4gICAgICAgICAgICB0aHJvd1VuZXhwZWN0ZWRUb2tlbigpO1xuICAgICAgICB9XG5cbiAgICAgICAgbm9kZSA9IG5ldyBOb2RlKCk7XG4gICAgICAgIHRva2VuID0gbGV4KCk7XG5cbiAgICAgICAgcmV0dXJuIG5vZGUuZmluaXNoVGVtcGxhdGVFbGVtZW50KHsgcmF3OiB0b2tlbi52YWx1ZS5yYXcsIGNvb2tlZDogdG9rZW4udmFsdWUuY29va2VkIH0sIHRva2VuLnRhaWwpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBhcnNlVGVtcGxhdGVMaXRlcmFsKCkge1xuICAgICAgICB2YXIgcXVhc2ksIHF1YXNpcywgZXhwcmVzc2lvbnMsIG5vZGUgPSBuZXcgTm9kZSgpO1xuXG4gICAgICAgIHF1YXNpID0gcGFyc2VUZW1wbGF0ZUVsZW1lbnQoeyBoZWFkOiB0cnVlIH0pO1xuICAgICAgICBxdWFzaXMgPSBbcXVhc2ldO1xuICAgICAgICBleHByZXNzaW9ucyA9IFtdO1xuXG4gICAgICAgIHdoaWxlICghcXVhc2kudGFpbCkge1xuICAgICAgICAgICAgZXhwcmVzc2lvbnMucHVzaChwYXJzZUV4cHJlc3Npb24oKSk7XG4gICAgICAgICAgICBxdWFzaSA9IHBhcnNlVGVtcGxhdGVFbGVtZW50KHsgaGVhZDogZmFsc2UgfSk7XG4gICAgICAgICAgICBxdWFzaXMucHVzaChxdWFzaSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbm9kZS5maW5pc2hUZW1wbGF0ZUxpdGVyYWwocXVhc2lzLCBleHByZXNzaW9ucyk7XG4gICAgfVxuXG4gICAgLy8gRUNNQS0yNjIgMTIuMi4xMCBUaGUgR3JvdXBpbmcgT3BlcmF0b3JcblxuICAgIGZ1bmN0aW9uIHBhcnNlR3JvdXBFeHByZXNzaW9uKCkge1xuICAgICAgICB2YXIgZXhwciwgZXhwcmVzc2lvbnMsIHN0YXJ0VG9rZW4sIGksIHBhcmFtcyA9IFtdO1xuXG4gICAgICAgIGV4cGVjdCgnKCcpO1xuXG4gICAgICAgIGlmIChtYXRjaCgnKScpKSB7XG4gICAgICAgICAgICBsZXgoKTtcbiAgICAgICAgICAgIGlmICghbWF0Y2goJz0+JykpIHtcbiAgICAgICAgICAgICAgICBleHBlY3QoJz0+Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHR5cGU6IFBsYWNlSG9sZGVycy5BcnJvd1BhcmFtZXRlclBsYWNlSG9sZGVyLFxuICAgICAgICAgICAgICAgIHBhcmFtczogW10sXG4gICAgICAgICAgICAgICAgcmF3UGFyYW1zOiBbXVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN0YXJ0VG9rZW4gPSBsb29rYWhlYWQ7XG4gICAgICAgIGlmIChtYXRjaCgnLi4uJykpIHtcbiAgICAgICAgICAgIGV4cHIgPSBwYXJzZVJlc3RFbGVtZW50KHBhcmFtcyk7XG4gICAgICAgICAgICBleHBlY3QoJyknKTtcbiAgICAgICAgICAgIGlmICghbWF0Y2goJz0+JykpIHtcbiAgICAgICAgICAgICAgICBleHBlY3QoJz0+Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHR5cGU6IFBsYWNlSG9sZGVycy5BcnJvd1BhcmFtZXRlclBsYWNlSG9sZGVyLFxuICAgICAgICAgICAgICAgIHBhcmFtczogW2V4cHJdXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgaXNCaW5kaW5nRWxlbWVudCA9IHRydWU7XG4gICAgICAgIGV4cHIgPSBpbmhlcml0Q292ZXJHcmFtbWFyKHBhcnNlQXNzaWdubWVudEV4cHJlc3Npb24pO1xuXG4gICAgICAgIGlmIChtYXRjaCgnLCcpKSB7XG4gICAgICAgICAgICBpc0Fzc2lnbm1lbnRUYXJnZXQgPSBmYWxzZTtcbiAgICAgICAgICAgIGV4cHJlc3Npb25zID0gW2V4cHJdO1xuXG4gICAgICAgICAgICB3aGlsZSAoc3RhcnRJbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGlmICghbWF0Y2goJywnKSkge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGV4KCk7XG5cbiAgICAgICAgICAgICAgICBpZiAobWF0Y2goJy4uLicpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghaXNCaW5kaW5nRWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3dVbmV4cGVjdGVkVG9rZW4obG9va2FoZWFkKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9ucy5wdXNoKHBhcnNlUmVzdEVsZW1lbnQocGFyYW1zKSk7XG4gICAgICAgICAgICAgICAgICAgIGV4cGVjdCgnKScpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIW1hdGNoKCc9PicpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBleHBlY3QoJz0+Jyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaXNCaW5kaW5nRWxlbWVudCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgZXhwcmVzc2lvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlaW50ZXJwcmV0RXhwcmVzc2lvbkFzUGF0dGVybihleHByZXNzaW9uc1tpXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFBsYWNlSG9sZGVycy5BcnJvd1BhcmFtZXRlclBsYWNlSG9sZGVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiBleHByZXNzaW9uc1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGV4cHJlc3Npb25zLnB1c2goaW5oZXJpdENvdmVyR3JhbW1hcihwYXJzZUFzc2lnbm1lbnRFeHByZXNzaW9uKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGV4cHIgPSBuZXcgV3JhcHBpbmdOb2RlKHN0YXJ0VG9rZW4pLmZpbmlzaFNlcXVlbmNlRXhwcmVzc2lvbihleHByZXNzaW9ucyk7XG4gICAgICAgIH1cblxuXG4gICAgICAgIGV4cGVjdCgnKScpO1xuXG4gICAgICAgIGlmIChtYXRjaCgnPT4nKSkge1xuICAgICAgICAgICAgaWYgKGV4cHIudHlwZSA9PT0gU3ludGF4LklkZW50aWZpZXIgJiYgZXhwci5uYW1lID09PSAneWllbGQnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogUGxhY2VIb2xkZXJzLkFycm93UGFyYW1ldGVyUGxhY2VIb2xkZXIsXG4gICAgICAgICAgICAgICAgICAgIHBhcmFtczogW2V4cHJdXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFpc0JpbmRpbmdFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgdGhyb3dVbmV4cGVjdGVkVG9rZW4obG9va2FoZWFkKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGV4cHIudHlwZSA9PT0gU3ludGF4LlNlcXVlbmNlRXhwcmVzc2lvbikge1xuICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBleHByLmV4cHJlc3Npb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlaW50ZXJwcmV0RXhwcmVzc2lvbkFzUGF0dGVybihleHByLmV4cHJlc3Npb25zW2ldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlaW50ZXJwcmV0RXhwcmVzc2lvbkFzUGF0dGVybihleHByKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZXhwciA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiBQbGFjZUhvbGRlcnMuQXJyb3dQYXJhbWV0ZXJQbGFjZUhvbGRlcixcbiAgICAgICAgICAgICAgICBwYXJhbXM6IGV4cHIudHlwZSA9PT0gU3ludGF4LlNlcXVlbmNlRXhwcmVzc2lvbiA/IGV4cHIuZXhwcmVzc2lvbnMgOiBbZXhwcl1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgaXNCaW5kaW5nRWxlbWVudCA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gZXhwcjtcbiAgICB9XG5cblxuICAgIC8vIEVDTUEtMjYyIDEyLjIgUHJpbWFyeSBFeHByZXNzaW9uc1xuXG4gICAgZnVuY3Rpb24gcGFyc2VQcmltYXJ5RXhwcmVzc2lvbigpIHtcbiAgICAgICAgdmFyIHR5cGUsIHRva2VuLCBleHByLCBub2RlO1xuXG4gICAgICAgIGlmIChtYXRjaCgnKCcpKSB7XG4gICAgICAgICAgICBpc0JpbmRpbmdFbGVtZW50ID0gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm4gaW5oZXJpdENvdmVyR3JhbW1hcihwYXJzZUdyb3VwRXhwcmVzc2lvbik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobWF0Y2goJ1snKSkge1xuICAgICAgICAgICAgcmV0dXJuIGluaGVyaXRDb3ZlckdyYW1tYXIocGFyc2VBcnJheUluaXRpYWxpemVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChtYXRjaCgneycpKSB7XG4gICAgICAgICAgICByZXR1cm4gaW5oZXJpdENvdmVyR3JhbW1hcihwYXJzZU9iamVjdEluaXRpYWxpemVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHR5cGUgPSBsb29rYWhlYWQudHlwZTtcbiAgICAgICAgbm9kZSA9IG5ldyBOb2RlKCk7XG5cbiAgICAgICAgaWYgKHR5cGUgPT09IFRva2VuLklkZW50aWZpZXIpIHtcbiAgICAgICAgICAgIGlmIChzdGF0ZS5zb3VyY2VUeXBlID09PSAnbW9kdWxlJyAmJiBsb29rYWhlYWQudmFsdWUgPT09ICdhd2FpdCcpIHtcbiAgICAgICAgICAgICAgICB0b2xlcmF0ZVVuZXhwZWN0ZWRUb2tlbihsb29rYWhlYWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZXhwciA9IG5vZGUuZmluaXNoSWRlbnRpZmllcihsZXgoKS52YWx1ZSk7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gVG9rZW4uU3RyaW5nTGl0ZXJhbCB8fCB0eXBlID09PSBUb2tlbi5OdW1lcmljTGl0ZXJhbCkge1xuICAgICAgICAgICAgaXNBc3NpZ25tZW50VGFyZ2V0ID0gaXNCaW5kaW5nRWxlbWVudCA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKHN0cmljdCAmJiBsb29rYWhlYWQub2N0YWwpIHtcbiAgICAgICAgICAgICAgICB0b2xlcmF0ZVVuZXhwZWN0ZWRUb2tlbihsb29rYWhlYWQsIE1lc3NhZ2VzLlN0cmljdE9jdGFsTGl0ZXJhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBleHByID0gbm9kZS5maW5pc2hMaXRlcmFsKGxleCgpKTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSBUb2tlbi5LZXl3b3JkKSB7XG4gICAgICAgICAgICBpZiAoIXN0cmljdCAmJiBzdGF0ZS5hbGxvd1lpZWxkICYmIG1hdGNoS2V5d29yZCgneWllbGQnKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZU5vbkNvbXB1dGVkUHJvcGVydHkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghc3RyaWN0ICYmIG1hdGNoS2V5d29yZCgnbGV0JykpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbm9kZS5maW5pc2hJZGVudGlmaWVyKGxleCgpLnZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlzQXNzaWdubWVudFRhcmdldCA9IGlzQmluZGluZ0VsZW1lbnQgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmIChtYXRjaEtleXdvcmQoJ2Z1bmN0aW9uJykpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VGdW5jdGlvbkV4cHJlc3Npb24oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChtYXRjaEtleXdvcmQoJ3RoaXMnKSkge1xuICAgICAgICAgICAgICAgIGxleCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBub2RlLmZpbmlzaFRoaXNFeHByZXNzaW9uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobWF0Y2hLZXl3b3JkKCdjbGFzcycpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlQ2xhc3NFeHByZXNzaW9uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvd1VuZXhwZWN0ZWRUb2tlbihsZXgoKSk7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gVG9rZW4uQm9vbGVhbkxpdGVyYWwpIHtcbiAgICAgICAgICAgIGlzQXNzaWdubWVudFRhcmdldCA9IGlzQmluZGluZ0VsZW1lbnQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRva2VuID0gbGV4KCk7XG4gICAgICAgICAgICB0b2tlbi52YWx1ZSA9ICh0b2tlbi52YWx1ZSA9PT0gJ3RydWUnKTtcbiAgICAgICAgICAgIGV4cHIgPSBub2RlLmZpbmlzaExpdGVyYWwodG9rZW4pO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09IFRva2VuLk51bGxMaXRlcmFsKSB7XG4gICAgICAgICAgICBpc0Fzc2lnbm1lbnRUYXJnZXQgPSBpc0JpbmRpbmdFbGVtZW50ID0gZmFsc2U7XG4gICAgICAgICAgICB0b2tlbiA9IGxleCgpO1xuICAgICAgICAgICAgdG9rZW4udmFsdWUgPSBudWxsO1xuICAgICAgICAgICAgZXhwciA9IG5vZGUuZmluaXNoTGl0ZXJhbCh0b2tlbik7XG4gICAgICAgIH0gZWxzZSBpZiAobWF0Y2goJy8nKSB8fCBtYXRjaCgnLz0nKSkge1xuICAgICAgICAgICAgaXNBc3NpZ25tZW50VGFyZ2V0ID0gaXNCaW5kaW5nRWxlbWVudCA9IGZhbHNlO1xuICAgICAgICAgICAgaW5kZXggPSBzdGFydEluZGV4O1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIGV4dHJhLnRva2VucyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA9IGNvbGxlY3RSZWdleCgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA9IHNjYW5SZWdFeHAoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxleCgpO1xuICAgICAgICAgICAgZXhwciA9IG5vZGUuZmluaXNoTGl0ZXJhbCh0b2tlbik7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gVG9rZW4uVGVtcGxhdGUpIHtcbiAgICAgICAgICAgIGV4cHIgPSBwYXJzZVRlbXBsYXRlTGl0ZXJhbCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3dVbmV4cGVjdGVkVG9rZW4obGV4KCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGV4cHI7XG4gICAgfVxuXG4gICAgLy8gRUNNQS0yNjIgMTIuMyBMZWZ0LUhhbmQtU2lkZSBFeHByZXNzaW9uc1xuXG4gICAgZnVuY3Rpb24gcGFyc2VBcmd1bWVudHMoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW10sIGV4cHI7XG5cbiAgICAgICAgZXhwZWN0KCcoJyk7XG5cbiAgICAgICAgaWYgKCFtYXRjaCgnKScpKSB7XG4gICAgICAgICAgICB3aGlsZSAoc3RhcnRJbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGlmIChtYXRjaCgnLi4uJykpIHtcbiAgICAgICAgICAgICAgICAgICAgZXhwciA9IG5ldyBOb2RlKCk7XG4gICAgICAgICAgICAgICAgICAgIGxleCgpO1xuICAgICAgICAgICAgICAgICAgICBleHByLmZpbmlzaFNwcmVhZEVsZW1lbnQoaXNvbGF0ZUNvdmVyR3JhbW1hcihwYXJzZUFzc2lnbm1lbnRFeHByZXNzaW9uKSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZXhwciA9IGlzb2xhdGVDb3ZlckdyYW1tYXIocGFyc2VBc3NpZ25tZW50RXhwcmVzc2lvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGFyZ3MucHVzaChleHByKTtcbiAgICAgICAgICAgICAgICBpZiAobWF0Y2goJyknKSkge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZXhwZWN0Q29tbWFTZXBhcmF0b3IoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGV4cGVjdCgnKScpO1xuXG4gICAgICAgIHJldHVybiBhcmdzO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBhcnNlTm9uQ29tcHV0ZWRQcm9wZXJ0eSgpIHtcbiAgICAgICAgdmFyIHRva2VuLCBub2RlID0gbmV3IE5vZGUoKTtcblxuICAgICAgICB0b2tlbiA9IGxleCgpO1xuXG4gICAgICAgIGlmICghaXNJZGVudGlmaWVyTmFtZSh0b2tlbikpIHtcbiAgICAgICAgICAgIHRocm93VW5leHBlY3RlZFRva2VuKHRva2VuKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBub2RlLmZpbmlzaElkZW50aWZpZXIodG9rZW4udmFsdWUpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBhcnNlTm9uQ29tcHV0ZWRNZW1iZXIoKSB7XG4gICAgICAgIGV4cGVjdCgnLicpO1xuXG4gICAgICAgIHJldHVybiBwYXJzZU5vbkNvbXB1dGVkUHJvcGVydHkoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwYXJzZUNvbXB1dGVkTWVtYmVyKCkge1xuICAgICAgICB2YXIgZXhwcjtcblxuICAgICAgICBleHBlY3QoJ1snKTtcblxuICAgICAgICBleHByID0gaXNvbGF0ZUNvdmVyR3JhbW1hcihwYXJzZUV4cHJlc3Npb24pO1xuXG4gICAgICAgIGV4cGVjdCgnXScpO1xuXG4gICAgICAgIHJldHVybiBleHByO1xuICAgIH1cblxuICAgIC8vIEVDTUEtMjYyIDEyLjMuMyBUaGUgbmV3IE9wZXJhdG9yXG5cbiAgICBmdW5jdGlvbiBwYXJzZU5ld0V4cHJlc3Npb24oKSB7XG4gICAgICAgIHZhciBjYWxsZWUsIGFyZ3MsIG5vZGUgPSBuZXcgTm9kZSgpO1xuXG4gICAgICAgIGV4cGVjdEtleXdvcmQoJ25ldycpO1xuXG4gICAgICAgIGlmIChtYXRjaCgnLicpKSB7XG4gICAgICAgICAgICBsZXgoKTtcbiAgICAgICAgICAgIGlmIChsb29rYWhlYWQudHlwZSA9PT0gVG9rZW4uSWRlbnRpZmllciAmJiBsb29rYWhlYWQudmFsdWUgPT09ICd0YXJnZXQnKSB7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXRlLmluRnVuY3Rpb25Cb2R5KSB7XG4gICAgICAgICAgICAgICAgICAgIGxleCgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbm9kZS5maW5pc2hNZXRhUHJvcGVydHkoJ25ldycsICd0YXJnZXQnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvd1VuZXhwZWN0ZWRUb2tlbihsb29rYWhlYWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgY2FsbGVlID0gaXNvbGF0ZUNvdmVyR3JhbW1hcihwYXJzZUxlZnRIYW5kU2lkZUV4cHJlc3Npb24pO1xuICAgICAgICBhcmdzID0gbWF0Y2goJygnKSA/IHBhcnNlQXJndW1lbnRzKCkgOiBbXTtcblxuICAgICAgICBpc0Fzc2lnbm1lbnRUYXJnZXQgPSBpc0JpbmRpbmdFbGVtZW50ID0gZmFsc2U7XG5cbiAgICAgICAgcmV0dXJuIG5vZGUuZmluaXNoTmV3RXhwcmVzc2lvbihjYWxsZWUsIGFyZ3MpO1xuICAgIH1cblxuICAgIC8vIEVDTUEtMjYyIDEyLjMuNCBGdW5jdGlvbiBDYWxsc1xuXG4gICAgZnVuY3Rpb24gcGFyc2VMZWZ0SGFuZFNpZGVFeHByZXNzaW9uQWxsb3dDYWxsKCkge1xuICAgICAgICB2YXIgcXVhc2ksIGV4cHIsIGFyZ3MsIHByb3BlcnR5LCBzdGFydFRva2VuLCBwcmV2aW91c0FsbG93SW4gPSBzdGF0ZS5hbGxvd0luO1xuXG4gICAgICAgIHN0YXJ0VG9rZW4gPSBsb29rYWhlYWQ7XG4gICAgICAgIHN0YXRlLmFsbG93SW4gPSB0cnVlO1xuXG4gICAgICAgIGlmIChtYXRjaEtleXdvcmQoJ3N1cGVyJykgJiYgc3RhdGUuaW5GdW5jdGlvbkJvZHkpIHtcbiAgICAgICAgICAgIGV4cHIgPSBuZXcgTm9kZSgpO1xuICAgICAgICAgICAgbGV4KCk7XG4gICAgICAgICAgICBleHByID0gZXhwci5maW5pc2hTdXBlcigpO1xuICAgICAgICAgICAgaWYgKCFtYXRjaCgnKCcpICYmICFtYXRjaCgnLicpICYmICFtYXRjaCgnWycpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3dVbmV4cGVjdGVkVG9rZW4obG9va2FoZWFkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGV4cHIgPSBpbmhlcml0Q292ZXJHcmFtbWFyKG1hdGNoS2V5d29yZCgnbmV3JykgPyBwYXJzZU5ld0V4cHJlc3Npb24gOiBwYXJzZVByaW1hcnlFeHByZXNzaW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoOzspIHtcbiAgICAgICAgICAgIGlmIChtYXRjaCgnLicpKSB7XG4gICAgICAgICAgICAgICAgaXNCaW5kaW5nRWxlbWVudCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGlzQXNzaWdubWVudFRhcmdldCA9IHRydWU7XG4gICAgICAgICAgICAgICAgcHJvcGVydHkgPSBwYXJzZU5vbkNvbXB1dGVkTWVtYmVyKCk7XG4gICAgICAgICAgICAgICAgZXhwciA9IG5ldyBXcmFwcGluZ05vZGUoc3RhcnRUb2tlbikuZmluaXNoTWVtYmVyRXhwcmVzc2lvbignLicsIGV4cHIsIHByb3BlcnR5KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobWF0Y2goJygnKSkge1xuICAgICAgICAgICAgICAgIGlzQmluZGluZ0VsZW1lbnQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBpc0Fzc2lnbm1lbnRUYXJnZXQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBhcmdzID0gcGFyc2VBcmd1bWVudHMoKTtcbiAgICAgICAgICAgICAgICBleHByID0gbmV3IFdyYXBwaW5nTm9kZShzdGFydFRva2VuKS5maW5pc2hDYWxsRXhwcmVzc2lvbihleHByLCBhcmdzKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobWF0Y2goJ1snKSkge1xuICAgICAgICAgICAgICAgIGlzQmluZGluZ0VsZW1lbnQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBpc0Fzc2lnbm1lbnRUYXJnZXQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHByb3BlcnR5ID0gcGFyc2VDb21wdXRlZE1lbWJlcigpO1xuICAgICAgICAgICAgICAgIGV4cHIgPSBuZXcgV3JhcHBpbmdOb2RlKHN0YXJ0VG9rZW4pLmZpbmlzaE1lbWJlckV4cHJlc3Npb24oJ1snLCBleHByLCBwcm9wZXJ0eSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGxvb2thaGVhZC50eXBlID09PSBUb2tlbi5UZW1wbGF0ZSAmJiBsb29rYWhlYWQuaGVhZCkge1xuICAgICAgICAgICAgICAgIHF1YXNpID0gcGFyc2VUZW1wbGF0ZUxpdGVyYWwoKTtcbiAgICAgICAgICAgICAgICBleHByID0gbmV3IFdyYXBwaW5nTm9kZShzdGFydFRva2VuKS5maW5pc2hUYWdnZWRUZW1wbGF0ZUV4cHJlc3Npb24oZXhwciwgcXVhc2kpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzdGF0ZS5hbGxvd0luID0gcHJldmlvdXNBbGxvd0luO1xuXG4gICAgICAgIHJldHVybiBleHByO1xuICAgIH1cblxuICAgIC8vIEVDTUEtMjYyIDEyLjMgTGVmdC1IYW5kLVNpZGUgRXhwcmVzc2lvbnNcblxuICAgIGZ1bmN0aW9uIHBhcnNlTGVmdEhhbmRTaWRlRXhwcmVzc2lvbigpIHtcbiAgICAgICAgdmFyIHF1YXNpLCBleHByLCBwcm9wZXJ0eSwgc3RhcnRUb2tlbjtcbiAgICAgICAgYXNzZXJ0KHN0YXRlLmFsbG93SW4sICdjYWxsZWUgb2YgbmV3IGV4cHJlc3Npb24gYWx3YXlzIGFsbG93IGluIGtleXdvcmQuJyk7XG5cbiAgICAgICAgc3RhcnRUb2tlbiA9IGxvb2thaGVhZDtcblxuICAgICAgICBpZiAobWF0Y2hLZXl3b3JkKCdzdXBlcicpICYmIHN0YXRlLmluRnVuY3Rpb25Cb2R5KSB7XG4gICAgICAgICAgICBleHByID0gbmV3IE5vZGUoKTtcbiAgICAgICAgICAgIGxleCgpO1xuICAgICAgICAgICAgZXhwciA9IGV4cHIuZmluaXNoU3VwZXIoKTtcbiAgICAgICAgICAgIGlmICghbWF0Y2goJ1snKSAmJiAhbWF0Y2goJy4nKSkge1xuICAgICAgICAgICAgICAgIHRocm93VW5leHBlY3RlZFRva2VuKGxvb2thaGVhZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBleHByID0gaW5oZXJpdENvdmVyR3JhbW1hcihtYXRjaEtleXdvcmQoJ25ldycpID8gcGFyc2VOZXdFeHByZXNzaW9uIDogcGFyc2VQcmltYXJ5RXhwcmVzc2lvbik7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKDs7KSB7XG4gICAgICAgICAgICBpZiAobWF0Y2goJ1snKSkge1xuICAgICAgICAgICAgICAgIGlzQmluZGluZ0VsZW1lbnQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBpc0Fzc2lnbm1lbnRUYXJnZXQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHByb3BlcnR5ID0gcGFyc2VDb21wdXRlZE1lbWJlcigpO1xuICAgICAgICAgICAgICAgIGV4cHIgPSBuZXcgV3JhcHBpbmdOb2RlKHN0YXJ0VG9rZW4pLmZpbmlzaE1lbWJlckV4cHJlc3Npb24oJ1snLCBleHByLCBwcm9wZXJ0eSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG1hdGNoKCcuJykpIHtcbiAgICAgICAgICAgICAgICBpc0JpbmRpbmdFbGVtZW50ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgaXNBc3NpZ25tZW50VGFyZ2V0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eSA9IHBhcnNlTm9uQ29tcHV0ZWRNZW1iZXIoKTtcbiAgICAgICAgICAgICAgICBleHByID0gbmV3IFdyYXBwaW5nTm9kZShzdGFydFRva2VuKS5maW5pc2hNZW1iZXJFeHByZXNzaW9uKCcuJywgZXhwciwgcHJvcGVydHkpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChsb29rYWhlYWQudHlwZSA9PT0gVG9rZW4uVGVtcGxhdGUgJiYgbG9va2FoZWFkLmhlYWQpIHtcbiAgICAgICAgICAgICAgICBxdWFzaSA9IHBhcnNlVGVtcGxhdGVMaXRlcmFsKCk7XG4gICAgICAgICAgICAgICAgZXhwciA9IG5ldyBXcmFwcGluZ05vZGUoc3RhcnRUb2tlbikuZmluaXNoVGFnZ2VkVGVtcGxhdGVFeHByZXNzaW9uKGV4cHIsIHF1YXNpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGV4cHI7XG4gICAgfVxuXG4gICAgLy8gRUNNQS0yNjIgMTIuNCBQb3N0Zml4IEV4cHJlc3Npb25zXG5cbiAgICBmdW5jdGlvbiBwYXJzZVBvc3RmaXhFeHByZXNzaW9uKCkge1xuICAgICAgICB2YXIgZXhwciwgdG9rZW4sIHN0YXJ0VG9rZW4gPSBsb29rYWhlYWQ7XG5cbiAgICAgICAgZXhwciA9IGluaGVyaXRDb3ZlckdyYW1tYXIocGFyc2VMZWZ0SGFuZFNpZGVFeHByZXNzaW9uQWxsb3dDYWxsKTtcblxuICAgICAgICBpZiAoIWhhc0xpbmVUZXJtaW5hdG9yICYmIGxvb2thaGVhZC50eXBlID09PSBUb2tlbi5QdW5jdHVhdG9yKSB7XG4gICAgICAgICAgICBpZiAobWF0Y2goJysrJykgfHwgbWF0Y2goJy0tJykpIHtcbiAgICAgICAgICAgICAgICAvLyBFQ01BLTI2MiAxMS4zLjEsIDExLjMuMlxuICAgICAgICAgICAgICAgIGlmIChzdHJpY3QgJiYgZXhwci50eXBlID09PSBTeW50YXguSWRlbnRpZmllciAmJiBpc1Jlc3RyaWN0ZWRXb3JkKGV4cHIubmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdG9sZXJhdGVFcnJvcihNZXNzYWdlcy5TdHJpY3RMSFNQb3N0Zml4KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoIWlzQXNzaWdubWVudFRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICB0b2xlcmF0ZUVycm9yKE1lc3NhZ2VzLkludmFsaWRMSFNJbkFzc2lnbm1lbnQpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlzQXNzaWdubWVudFRhcmdldCA9IGlzQmluZGluZ0VsZW1lbnQgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgIHRva2VuID0gbGV4KCk7XG4gICAgICAgICAgICAgICAgZXhwciA9IG5ldyBXcmFwcGluZ05vZGUoc3RhcnRUb2tlbikuZmluaXNoUG9zdGZpeEV4cHJlc3Npb24odG9rZW4udmFsdWUsIGV4cHIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGV4cHI7XG4gICAgfVxuXG4gICAgLy8gRUNNQS0yNjIgMTIuNSBVbmFyeSBPcGVyYXRvcnNcblxuICAgIGZ1bmN0aW9uIHBhcnNlVW5hcnlFeHByZXNzaW9uKCkge1xuICAgICAgICB2YXIgdG9rZW4sIGV4cHIsIHN0YXJ0VG9rZW47XG5cbiAgICAgICAgaWYgKGxvb2thaGVhZC50eXBlICE9PSBUb2tlbi5QdW5jdHVhdG9yICYmIGxvb2thaGVhZC50eXBlICE9PSBUb2tlbi5LZXl3b3JkKSB7XG4gICAgICAgICAgICBleHByID0gcGFyc2VQb3N0Zml4RXhwcmVzc2lvbigpO1xuICAgICAgICB9IGVsc2UgaWYgKG1hdGNoKCcrKycpIHx8IG1hdGNoKCctLScpKSB7XG4gICAgICAgICAgICBzdGFydFRva2VuID0gbG9va2FoZWFkO1xuICAgICAgICAgICAgdG9rZW4gPSBsZXgoKTtcbiAgICAgICAgICAgIGV4cHIgPSBpbmhlcml0Q292ZXJHcmFtbWFyKHBhcnNlVW5hcnlFeHByZXNzaW9uKTtcbiAgICAgICAgICAgIC8vIEVDTUEtMjYyIDExLjQuNCwgMTEuNC41XG4gICAgICAgICAgICBpZiAoc3RyaWN0ICYmIGV4cHIudHlwZSA9PT0gU3ludGF4LklkZW50aWZpZXIgJiYgaXNSZXN0cmljdGVkV29yZChleHByLm5hbWUpKSB7XG4gICAgICAgICAgICAgICAgdG9sZXJhdGVFcnJvcihNZXNzYWdlcy5TdHJpY3RMSFNQcmVmaXgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIWlzQXNzaWdubWVudFRhcmdldCkge1xuICAgICAgICAgICAgICAgIHRvbGVyYXRlRXJyb3IoTWVzc2FnZXMuSW52YWxpZExIU0luQXNzaWdubWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBleHByID0gbmV3IFdyYXBwaW5nTm9kZShzdGFydFRva2VuKS5maW5pc2hVbmFyeUV4cHJlc3Npb24odG9rZW4udmFsdWUsIGV4cHIpO1xuICAgICAgICAgICAgaXNBc3NpZ25tZW50VGFyZ2V0ID0gaXNCaW5kaW5nRWxlbWVudCA9IGZhbHNlO1xuICAgICAgICB9IGVsc2UgaWYgKG1hdGNoKCcrJykgfHwgbWF0Y2goJy0nKSB8fCBtYXRjaCgnficpIHx8IG1hdGNoKCchJykpIHtcbiAgICAgICAgICAgIHN0YXJ0VG9rZW4gPSBsb29rYWhlYWQ7XG4gICAgICAgICAgICB0b2tlbiA9IGxleCgpO1xuICAgICAgICAgICAgZXhwciA9IGluaGVyaXRDb3ZlckdyYW1tYXIocGFyc2VVbmFyeUV4cHJlc3Npb24pO1xuICAgICAgICAgICAgZXhwciA9IG5ldyBXcmFwcGluZ05vZGUoc3RhcnRUb2tlbikuZmluaXNoVW5hcnlFeHByZXNzaW9uKHRva2VuLnZhbHVlLCBleHByKTtcbiAgICAgICAgICAgIGlzQXNzaWdubWVudFRhcmdldCA9IGlzQmluZGluZ0VsZW1lbnQgPSBmYWxzZTtcbiAgICAgICAgfSBlbHNlIGlmIChtYXRjaEtleXdvcmQoJ2RlbGV0ZScpIHx8IG1hdGNoS2V5d29yZCgndm9pZCcpIHx8IG1hdGNoS2V5d29yZCgndHlwZW9mJykpIHtcbiAgICAgICAgICAgIHN0YXJ0VG9rZW4gPSBsb29rYWhlYWQ7XG4gICAgICAgICAgICB0b2tlbiA9IGxleCgpO1xuICAgICAgICAgICAgZXhwciA9IGluaGVyaXRDb3ZlckdyYW1tYXIocGFyc2VVbmFyeUV4cHJlc3Npb24pO1xuICAgICAgICAgICAgZXhwciA9IG5ldyBXcmFwcGluZ05vZGUoc3RhcnRUb2tlbikuZmluaXNoVW5hcnlFeHByZXNzaW9uKHRva2VuLnZhbHVlLCBleHByKTtcbiAgICAgICAgICAgIGlmIChzdHJpY3QgJiYgZXhwci5vcGVyYXRvciA9PT0gJ2RlbGV0ZScgJiYgZXhwci5hcmd1bWVudC50eXBlID09PSBTeW50YXguSWRlbnRpZmllcikge1xuICAgICAgICAgICAgICAgIHRvbGVyYXRlRXJyb3IoTWVzc2FnZXMuU3RyaWN0RGVsZXRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlzQXNzaWdubWVudFRhcmdldCA9IGlzQmluZGluZ0VsZW1lbnQgPSBmYWxzZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGV4cHIgPSBwYXJzZVBvc3RmaXhFeHByZXNzaW9uKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZXhwcjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBiaW5hcnlQcmVjZWRlbmNlKHRva2VuLCBhbGxvd0luKSB7XG4gICAgICAgIHZhciBwcmVjID0gMDtcblxuICAgICAgICBpZiAodG9rZW4udHlwZSAhPT0gVG9rZW4uUHVuY3R1YXRvciAmJiB0b2tlbi50eXBlICE9PSBUb2tlbi5LZXl3b3JkKSB7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIHN3aXRjaCAodG9rZW4udmFsdWUpIHtcbiAgICAgICAgY2FzZSAnfHwnOlxuICAgICAgICAgICAgcHJlYyA9IDE7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICcmJic6XG4gICAgICAgICAgICBwcmVjID0gMjtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ3wnOlxuICAgICAgICAgICAgcHJlYyA9IDM7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdeJzpcbiAgICAgICAgICAgIHByZWMgPSA0O1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAnJic6XG4gICAgICAgICAgICBwcmVjID0gNTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJz09JzpcbiAgICAgICAgY2FzZSAnIT0nOlxuICAgICAgICBjYXNlICc9PT0nOlxuICAgICAgICBjYXNlICchPT0nOlxuICAgICAgICAgICAgcHJlYyA9IDY7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICc8JzpcbiAgICAgICAgY2FzZSAnPic6XG4gICAgICAgIGNhc2UgJzw9JzpcbiAgICAgICAgY2FzZSAnPj0nOlxuICAgICAgICBjYXNlICdpbnN0YW5jZW9mJzpcbiAgICAgICAgICAgIHByZWMgPSA3O1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAnaW4nOlxuICAgICAgICAgICAgcHJlYyA9IGFsbG93SW4gPyA3IDogMDtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJzw8JzpcbiAgICAgICAgY2FzZSAnPj4nOlxuICAgICAgICBjYXNlICc+Pj4nOlxuICAgICAgICAgICAgcHJlYyA9IDg7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICcrJzpcbiAgICAgICAgY2FzZSAnLSc6XG4gICAgICAgICAgICBwcmVjID0gOTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJyonOlxuICAgICAgICBjYXNlICcvJzpcbiAgICAgICAgY2FzZSAnJSc6XG4gICAgICAgICAgICBwcmVjID0gMTE7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcHJlYztcbiAgICB9XG5cbiAgICAvLyBFQ01BLTI2MiAxMi42IE11bHRpcGxpY2F0aXZlIE9wZXJhdG9yc1xuICAgIC8vIEVDTUEtMjYyIDEyLjcgQWRkaXRpdmUgT3BlcmF0b3JzXG4gICAgLy8gRUNNQS0yNjIgMTIuOCBCaXR3aXNlIFNoaWZ0IE9wZXJhdG9yc1xuICAgIC8vIEVDTUEtMjYyIDEyLjkgUmVsYXRpb25hbCBPcGVyYXRvcnNcbiAgICAvLyBFQ01BLTI2MiAxMi4xMCBFcXVhbGl0eSBPcGVyYXRvcnNcbiAgICAvLyBFQ01BLTI2MiAxMi4xMSBCaW5hcnkgQml0d2lzZSBPcGVyYXRvcnNcbiAgICAvLyBFQ01BLTI2MiAxMi4xMiBCaW5hcnkgTG9naWNhbCBPcGVyYXRvcnNcblxuICAgIGZ1bmN0aW9uIHBhcnNlQmluYXJ5RXhwcmVzc2lvbigpIHtcbiAgICAgICAgdmFyIG1hcmtlciwgbWFya2VycywgZXhwciwgdG9rZW4sIHByZWMsIHN0YWNrLCByaWdodCwgb3BlcmF0b3IsIGxlZnQsIGk7XG5cbiAgICAgICAgbWFya2VyID0gbG9va2FoZWFkO1xuICAgICAgICBsZWZ0ID0gaW5oZXJpdENvdmVyR3JhbW1hcihwYXJzZVVuYXJ5RXhwcmVzc2lvbik7XG5cbiAgICAgICAgdG9rZW4gPSBsb29rYWhlYWQ7XG4gICAgICAgIHByZWMgPSBiaW5hcnlQcmVjZWRlbmNlKHRva2VuLCBzdGF0ZS5hbGxvd0luKTtcbiAgICAgICAgaWYgKHByZWMgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBsZWZ0O1xuICAgICAgICB9XG4gICAgICAgIGlzQXNzaWdubWVudFRhcmdldCA9IGlzQmluZGluZ0VsZW1lbnQgPSBmYWxzZTtcbiAgICAgICAgdG9rZW4ucHJlYyA9IHByZWM7XG4gICAgICAgIGxleCgpO1xuXG4gICAgICAgIG1hcmtlcnMgPSBbbWFya2VyLCBsb29rYWhlYWRdO1xuICAgICAgICByaWdodCA9IGlzb2xhdGVDb3ZlckdyYW1tYXIocGFyc2VVbmFyeUV4cHJlc3Npb24pO1xuXG4gICAgICAgIHN0YWNrID0gW2xlZnQsIHRva2VuLCByaWdodF07XG5cbiAgICAgICAgd2hpbGUgKChwcmVjID0gYmluYXJ5UHJlY2VkZW5jZShsb29rYWhlYWQsIHN0YXRlLmFsbG93SW4pKSA+IDApIHtcblxuICAgICAgICAgICAgLy8gUmVkdWNlOiBtYWtlIGEgYmluYXJ5IGV4cHJlc3Npb24gZnJvbSB0aGUgdGhyZWUgdG9wbW9zdCBlbnRyaWVzLlxuICAgICAgICAgICAgd2hpbGUgKChzdGFjay5sZW5ndGggPiAyKSAmJiAocHJlYyA8PSBzdGFja1tzdGFjay5sZW5ndGggLSAyXS5wcmVjKSkge1xuICAgICAgICAgICAgICAgIHJpZ2h0ID0gc3RhY2sucG9wKCk7XG4gICAgICAgICAgICAgICAgb3BlcmF0b3IgPSBzdGFjay5wb3AoKS52YWx1ZTtcbiAgICAgICAgICAgICAgICBsZWZ0ID0gc3RhY2sucG9wKCk7XG4gICAgICAgICAgICAgICAgbWFya2Vycy5wb3AoKTtcbiAgICAgICAgICAgICAgICBleHByID0gbmV3IFdyYXBwaW5nTm9kZShtYXJrZXJzW21hcmtlcnMubGVuZ3RoIC0gMV0pLmZpbmlzaEJpbmFyeUV4cHJlc3Npb24ob3BlcmF0b3IsIGxlZnQsIHJpZ2h0KTtcbiAgICAgICAgICAgICAgICBzdGFjay5wdXNoKGV4cHIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBTaGlmdC5cbiAgICAgICAgICAgIHRva2VuID0gbGV4KCk7XG4gICAgICAgICAgICB0b2tlbi5wcmVjID0gcHJlYztcbiAgICAgICAgICAgIHN0YWNrLnB1c2godG9rZW4pO1xuICAgICAgICAgICAgbWFya2Vycy5wdXNoKGxvb2thaGVhZCk7XG4gICAgICAgICAgICBleHByID0gaXNvbGF0ZUNvdmVyR3JhbW1hcihwYXJzZVVuYXJ5RXhwcmVzc2lvbik7XG4gICAgICAgICAgICBzdGFjay5wdXNoKGV4cHIpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRmluYWwgcmVkdWNlIHRvIGNsZWFuLXVwIHRoZSBzdGFjay5cbiAgICAgICAgaSA9IHN0YWNrLmxlbmd0aCAtIDE7XG4gICAgICAgIGV4cHIgPSBzdGFja1tpXTtcbiAgICAgICAgbWFya2Vycy5wb3AoKTtcbiAgICAgICAgd2hpbGUgKGkgPiAxKSB7XG4gICAgICAgICAgICBleHByID0gbmV3IFdyYXBwaW5nTm9kZShtYXJrZXJzLnBvcCgpKS5maW5pc2hCaW5hcnlFeHByZXNzaW9uKHN0YWNrW2kgLSAxXS52YWx1ZSwgc3RhY2tbaSAtIDJdLCBleHByKTtcbiAgICAgICAgICAgIGkgLT0gMjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBleHByO1xuICAgIH1cblxuXG4gICAgLy8gRUNNQS0yNjIgMTIuMTMgQ29uZGl0aW9uYWwgT3BlcmF0b3JcblxuICAgIGZ1bmN0aW9uIHBhcnNlQ29uZGl0aW9uYWxFeHByZXNzaW9uKCkge1xuICAgICAgICB2YXIgZXhwciwgcHJldmlvdXNBbGxvd0luLCBjb25zZXF1ZW50LCBhbHRlcm5hdGUsIHN0YXJ0VG9rZW47XG5cbiAgICAgICAgc3RhcnRUb2tlbiA9IGxvb2thaGVhZDtcblxuICAgICAgICBleHByID0gaW5oZXJpdENvdmVyR3JhbW1hcihwYXJzZUJpbmFyeUV4cHJlc3Npb24pO1xuICAgICAgICBpZiAobWF0Y2goJz8nKSkge1xuICAgICAgICAgICAgbGV4KCk7XG4gICAgICAgICAgICBwcmV2aW91c0FsbG93SW4gPSBzdGF0ZS5hbGxvd0luO1xuICAgICAgICAgICAgc3RhdGUuYWxsb3dJbiA9IHRydWU7XG4gICAgICAgICAgICBjb25zZXF1ZW50ID0gaXNvbGF0ZUNvdmVyR3JhbW1hcihwYXJzZUFzc2lnbm1lbnRFeHByZXNzaW9uKTtcbiAgICAgICAgICAgIHN0YXRlLmFsbG93SW4gPSBwcmV2aW91c0FsbG93SW47XG4gICAgICAgICAgICBleHBlY3QoJzonKTtcbiAgICAgICAgICAgIGFsdGVybmF0ZSA9IGlzb2xhdGVDb3ZlckdyYW1tYXIocGFyc2VBc3NpZ25tZW50RXhwcmVzc2lvbik7XG5cbiAgICAgICAgICAgIGV4cHIgPSBuZXcgV3JhcHBpbmdOb2RlKHN0YXJ0VG9rZW4pLmZpbmlzaENvbmRpdGlvbmFsRXhwcmVzc2lvbihleHByLCBjb25zZXF1ZW50LCBhbHRlcm5hdGUpO1xuICAgICAgICAgICAgaXNBc3NpZ25tZW50VGFyZ2V0ID0gaXNCaW5kaW5nRWxlbWVudCA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGV4cHI7XG4gICAgfVxuXG4gICAgLy8gRUNNQS0yNjIgMTQuMiBBcnJvdyBGdW5jdGlvbiBEZWZpbml0aW9uc1xuXG4gICAgZnVuY3Rpb24gcGFyc2VDb25jaXNlQm9keSgpIHtcbiAgICAgICAgaWYgKG1hdGNoKCd7JykpIHtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUZ1bmN0aW9uU291cmNlRWxlbWVudHMoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaXNvbGF0ZUNvdmVyR3JhbW1hcihwYXJzZUFzc2lnbm1lbnRFeHByZXNzaW9uKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjaGVja1BhdHRlcm5QYXJhbShvcHRpb25zLCBwYXJhbSkge1xuICAgICAgICB2YXIgaTtcbiAgICAgICAgc3dpdGNoIChwYXJhbS50eXBlKSB7XG4gICAgICAgIGNhc2UgU3ludGF4LklkZW50aWZpZXI6XG4gICAgICAgICAgICB2YWxpZGF0ZVBhcmFtKG9wdGlvbnMsIHBhcmFtLCBwYXJhbS5uYW1lKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFN5bnRheC5SZXN0RWxlbWVudDpcbiAgICAgICAgICAgIGNoZWNrUGF0dGVyblBhcmFtKG9wdGlvbnMsIHBhcmFtLmFyZ3VtZW50KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFN5bnRheC5Bc3NpZ25tZW50UGF0dGVybjpcbiAgICAgICAgICAgIGNoZWNrUGF0dGVyblBhcmFtKG9wdGlvbnMsIHBhcmFtLmxlZnQpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgU3ludGF4LkFycmF5UGF0dGVybjpcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBwYXJhbS5lbGVtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChwYXJhbS5lbGVtZW50c1tpXSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBjaGVja1BhdHRlcm5QYXJhbShvcHRpb25zLCBwYXJhbS5lbGVtZW50c1tpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgU3ludGF4LllpZWxkRXhwcmVzc2lvbjpcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgYXNzZXJ0KHBhcmFtLnR5cGUgPT09IFN5bnRheC5PYmplY3RQYXR0ZXJuLCAnSW52YWxpZCB0eXBlJyk7XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcGFyYW0ucHJvcGVydGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNoZWNrUGF0dGVyblBhcmFtKG9wdGlvbnMsIHBhcmFtLnByb3BlcnRpZXNbaV0udmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gcmVpbnRlcnByZXRBc0NvdmVyRm9ybWFsc0xpc3QoZXhwcikge1xuICAgICAgICB2YXIgaSwgbGVuLCBwYXJhbSwgcGFyYW1zLCBkZWZhdWx0cywgZGVmYXVsdENvdW50LCBvcHRpb25zLCB0b2tlbjtcblxuICAgICAgICBkZWZhdWx0cyA9IFtdO1xuICAgICAgICBkZWZhdWx0Q291bnQgPSAwO1xuICAgICAgICBwYXJhbXMgPSBbZXhwcl07XG5cbiAgICAgICAgc3dpdGNoIChleHByLnR5cGUpIHtcbiAgICAgICAgY2FzZSBTeW50YXguSWRlbnRpZmllcjpcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFBsYWNlSG9sZGVycy5BcnJvd1BhcmFtZXRlclBsYWNlSG9sZGVyOlxuICAgICAgICAgICAgcGFyYW1zID0gZXhwci5wYXJhbXM7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgIHBhcmFtU2V0OiB7fVxuICAgICAgICB9O1xuXG4gICAgICAgIGZvciAoaSA9IDAsIGxlbiA9IHBhcmFtcy5sZW5ndGg7IGkgPCBsZW47IGkgKz0gMSkge1xuICAgICAgICAgICAgcGFyYW0gPSBwYXJhbXNbaV07XG4gICAgICAgICAgICBzd2l0Y2ggKHBhcmFtLnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgU3ludGF4LkFzc2lnbm1lbnRQYXR0ZXJuOlxuICAgICAgICAgICAgICAgIHBhcmFtc1tpXSA9IHBhcmFtLmxlZnQ7XG4gICAgICAgICAgICAgICAgaWYgKHBhcmFtLnJpZ2h0LnR5cGUgPT09IFN5bnRheC5ZaWVsZEV4cHJlc3Npb24pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhcmFtLnJpZ2h0LmFyZ3VtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvd1VuZXhwZWN0ZWRUb2tlbihsb29rYWhlYWQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHBhcmFtLnJpZ2h0LnR5cGUgPSBTeW50YXguSWRlbnRpZmllcjtcbiAgICAgICAgICAgICAgICAgICAgcGFyYW0ucmlnaHQubmFtZSA9ICd5aWVsZCc7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBwYXJhbS5yaWdodC5hcmd1bWVudDtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHBhcmFtLnJpZ2h0LmRlbGVnYXRlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkZWZhdWx0cy5wdXNoKHBhcmFtLnJpZ2h0KTtcbiAgICAgICAgICAgICAgICArK2RlZmF1bHRDb3VudDtcbiAgICAgICAgICAgICAgICBjaGVja1BhdHRlcm5QYXJhbShvcHRpb25zLCBwYXJhbS5sZWZ0KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgY2hlY2tQYXR0ZXJuUGFyYW0ob3B0aW9ucywgcGFyYW0pO1xuICAgICAgICAgICAgICAgIHBhcmFtc1tpXSA9IHBhcmFtO1xuICAgICAgICAgICAgICAgIGRlZmF1bHRzLnB1c2gobnVsbCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3RyaWN0IHx8ICFzdGF0ZS5hbGxvd1lpZWxkKSB7XG4gICAgICAgICAgICBmb3IgKGkgPSAwLCBsZW4gPSBwYXJhbXMubGVuZ3RoOyBpIDwgbGVuOyBpICs9IDEpIHtcbiAgICAgICAgICAgICAgICBwYXJhbSA9IHBhcmFtc1tpXTtcbiAgICAgICAgICAgICAgICBpZiAocGFyYW0udHlwZSA9PT0gU3ludGF4LllpZWxkRXhwcmVzc2lvbikge1xuICAgICAgICAgICAgICAgICAgICB0aHJvd1VuZXhwZWN0ZWRUb2tlbihsb29rYWhlYWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcHRpb25zLm1lc3NhZ2UgPT09IE1lc3NhZ2VzLlN0cmljdFBhcmFtRHVwZSkge1xuICAgICAgICAgICAgdG9rZW4gPSBzdHJpY3QgPyBvcHRpb25zLnN0cmljdGVkIDogb3B0aW9ucy5maXJzdFJlc3RyaWN0ZWQ7XG4gICAgICAgICAgICB0aHJvd1VuZXhwZWN0ZWRUb2tlbih0b2tlbiwgb3B0aW9ucy5tZXNzYWdlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkZWZhdWx0Q291bnQgPT09IDApIHtcbiAgICAgICAgICAgIGRlZmF1bHRzID0gW107XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcGFyYW1zOiBwYXJhbXMsXG4gICAgICAgICAgICBkZWZhdWx0czogZGVmYXVsdHMsXG4gICAgICAgICAgICBzdHJpY3RlZDogb3B0aW9ucy5zdHJpY3RlZCxcbiAgICAgICAgICAgIGZpcnN0UmVzdHJpY3RlZDogb3B0aW9ucy5maXJzdFJlc3RyaWN0ZWQsXG4gICAgICAgICAgICBtZXNzYWdlOiBvcHRpb25zLm1lc3NhZ2VcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwYXJzZUFycm93RnVuY3Rpb25FeHByZXNzaW9uKG9wdGlvbnMsIG5vZGUpIHtcbiAgICAgICAgdmFyIHByZXZpb3VzU3RyaWN0LCBwcmV2aW91c0FsbG93WWllbGQsIGJvZHk7XG5cbiAgICAgICAgaWYgKGhhc0xpbmVUZXJtaW5hdG9yKSB7XG4gICAgICAgICAgICB0b2xlcmF0ZVVuZXhwZWN0ZWRUb2tlbihsb29rYWhlYWQpO1xuICAgICAgICB9XG4gICAgICAgIGV4cGVjdCgnPT4nKTtcblxuICAgICAgICBwcmV2aW91c1N0cmljdCA9IHN0cmljdDtcbiAgICAgICAgcHJldmlvdXNBbGxvd1lpZWxkID0gc3RhdGUuYWxsb3dZaWVsZDtcbiAgICAgICAgc3RhdGUuYWxsb3dZaWVsZCA9IHRydWU7XG5cbiAgICAgICAgYm9keSA9IHBhcnNlQ29uY2lzZUJvZHkoKTtcblxuICAgICAgICBpZiAoc3RyaWN0ICYmIG9wdGlvbnMuZmlyc3RSZXN0cmljdGVkKSB7XG4gICAgICAgICAgICB0aHJvd1VuZXhwZWN0ZWRUb2tlbihvcHRpb25zLmZpcnN0UmVzdHJpY3RlZCwgb3B0aW9ucy5tZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RyaWN0ICYmIG9wdGlvbnMuc3RyaWN0ZWQpIHtcbiAgICAgICAgICAgIHRvbGVyYXRlVW5leHBlY3RlZFRva2VuKG9wdGlvbnMuc3RyaWN0ZWQsIG9wdGlvbnMubWVzc2FnZSk7XG4gICAgICAgIH1cblxuICAgICAgICBzdHJpY3QgPSBwcmV2aW91c1N0cmljdDtcbiAgICAgICAgc3RhdGUuYWxsb3dZaWVsZCA9IHByZXZpb3VzQWxsb3dZaWVsZDtcblxuICAgICAgICByZXR1cm4gbm9kZS5maW5pc2hBcnJvd0Z1bmN0aW9uRXhwcmVzc2lvbihvcHRpb25zLnBhcmFtcywgb3B0aW9ucy5kZWZhdWx0cywgYm9keSwgYm9keS50eXBlICE9PSBTeW50YXguQmxvY2tTdGF0ZW1lbnQpO1xuICAgIH1cblxuICAgIC8vIEVDTUEtMjYyIDE0LjQgWWllbGQgZXhwcmVzc2lvblxuXG4gICAgZnVuY3Rpb24gcGFyc2VZaWVsZEV4cHJlc3Npb24oKSB7XG4gICAgICAgIHZhciBhcmd1bWVudCwgZXhwciwgZGVsZWdhdGUsIHByZXZpb3VzQWxsb3dZaWVsZDtcblxuICAgICAgICBhcmd1bWVudCA9IG51bGw7XG4gICAgICAgIGV4cHIgPSBuZXcgTm9kZSgpO1xuICAgICAgICBkZWxlZ2F0ZSA9IGZhbHNlO1xuXG4gICAgICAgIGV4cGVjdEtleXdvcmQoJ3lpZWxkJyk7XG5cbiAgICAgICAgaWYgKCFoYXNMaW5lVGVybWluYXRvcikge1xuICAgICAgICAgICAgcHJldmlvdXNBbGxvd1lpZWxkID0gc3RhdGUuYWxsb3dZaWVsZDtcbiAgICAgICAgICAgIHN0YXRlLmFsbG93WWllbGQgPSBmYWxzZTtcbiAgICAgICAgICAgIGRlbGVnYXRlID0gbWF0Y2goJyonKTtcbiAgICAgICAgICAgIGlmIChkZWxlZ2F0ZSkge1xuICAgICAgICAgICAgICAgIGxleCgpO1xuICAgICAgICAgICAgICAgIGFyZ3VtZW50ID0gcGFyc2VBc3NpZ25tZW50RXhwcmVzc2lvbigpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoIW1hdGNoKCc7JykgJiYgIW1hdGNoKCd9JykgJiYgIW1hdGNoKCcpJykgJiYgbG9va2FoZWFkLnR5cGUgIT09IFRva2VuLkVPRikge1xuICAgICAgICAgICAgICAgICAgICBhcmd1bWVudCA9IHBhcnNlQXNzaWdubWVudEV4cHJlc3Npb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdGF0ZS5hbGxvd1lpZWxkID0gcHJldmlvdXNBbGxvd1lpZWxkO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGV4cHIuZmluaXNoWWllbGRFeHByZXNzaW9uKGFyZ3VtZW50LCBkZWxlZ2F0ZSk7XG4gICAgfVxuXG4gICAgLy8gRUNNQS0yNjIgMTIuMTQgQXNzaWdubWVudCBPcGVyYXRvcnNcblxuICAgIGZ1bmN0aW9uIHBhcnNlQXNzaWdubWVudEV4cHJlc3Npb24oKSB7XG4gICAgICAgIHZhciB0b2tlbiwgZXhwciwgcmlnaHQsIGxpc3QsIHN0YXJ0VG9rZW47XG5cbiAgICAgICAgc3RhcnRUb2tlbiA9IGxvb2thaGVhZDtcbiAgICAgICAgdG9rZW4gPSBsb29rYWhlYWQ7XG5cbiAgICAgICAgaWYgKCFzdGF0ZS5hbGxvd1lpZWxkICYmIG1hdGNoS2V5d29yZCgneWllbGQnKSkge1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlWWllbGRFeHByZXNzaW9uKCk7XG4gICAgICAgIH1cblxuICAgICAgICBleHByID0gcGFyc2VDb25kaXRpb25hbEV4cHJlc3Npb24oKTtcblxuICAgICAgICBpZiAoZXhwci50eXBlID09PSBQbGFjZUhvbGRlcnMuQXJyb3dQYXJhbWV0ZXJQbGFjZUhvbGRlciB8fCBtYXRjaCgnPT4nKSkge1xuICAgICAgICAgICAgaXNBc3NpZ25tZW50VGFyZ2V0ID0gaXNCaW5kaW5nRWxlbWVudCA9IGZhbHNlO1xuICAgICAgICAgICAgbGlzdCA9IHJlaW50ZXJwcmV0QXNDb3ZlckZvcm1hbHNMaXN0KGV4cHIpO1xuXG4gICAgICAgICAgICBpZiAobGlzdCkge1xuICAgICAgICAgICAgICAgIGZpcnN0Q292ZXJJbml0aWFsaXplZE5hbWVFcnJvciA9IG51bGw7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlQXJyb3dGdW5jdGlvbkV4cHJlc3Npb24obGlzdCwgbmV3IFdyYXBwaW5nTm9kZShzdGFydFRva2VuKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBleHByO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG1hdGNoQXNzaWduKCkpIHtcbiAgICAgICAgICAgIGlmICghaXNBc3NpZ25tZW50VGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgdG9sZXJhdGVFcnJvcihNZXNzYWdlcy5JbnZhbGlkTEhTSW5Bc3NpZ25tZW50KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gRUNNQS0yNjIgMTIuMS4xXG4gICAgICAgICAgICBpZiAoc3RyaWN0ICYmIGV4cHIudHlwZSA9PT0gU3ludGF4LklkZW50aWZpZXIpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNSZXN0cmljdGVkV29yZChleHByLm5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRvbGVyYXRlVW5leHBlY3RlZFRva2VuKHRva2VuLCBNZXNzYWdlcy5TdHJpY3RMSFNBc3NpZ25tZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGlzU3RyaWN0TW9kZVJlc2VydmVkV29yZChleHByLm5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRvbGVyYXRlVW5leHBlY3RlZFRva2VuKHRva2VuLCBNZXNzYWdlcy5TdHJpY3RSZXNlcnZlZFdvcmQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFtYXRjaCgnPScpKSB7XG4gICAgICAgICAgICAgICAgaXNBc3NpZ25tZW50VGFyZ2V0ID0gaXNCaW5kaW5nRWxlbWVudCA9IGZhbHNlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZWludGVycHJldEV4cHJlc3Npb25Bc1BhdHRlcm4oZXhwcik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRva2VuID0gbGV4KCk7XG4gICAgICAgICAgICByaWdodCA9IGlzb2xhdGVDb3ZlckdyYW1tYXIocGFyc2VBc3NpZ25tZW50RXhwcmVzc2lvbik7XG4gICAgICAgICAgICBleHByID0gbmV3IFdyYXBwaW5nTm9kZShzdGFydFRva2VuKS5maW5pc2hBc3NpZ25tZW50RXhwcmVzc2lvbih0b2tlbi52YWx1ZSwgZXhwciwgcmlnaHQpO1xuICAgICAgICAgICAgZmlyc3RDb3ZlckluaXRpYWxpemVkTmFtZUVycm9yID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBleHByO1xuICAgIH1cblxuICAgIC8vIEVDTUEtMjYyIDEyLjE1IENvbW1hIE9wZXJhdG9yXG5cbiAgICBmdW5jdGlvbiBwYXJzZUV4cHJlc3Npb24oKSB7XG4gICAgICAgIHZhciBleHByLCBzdGFydFRva2VuID0gbG9va2FoZWFkLCBleHByZXNzaW9ucztcblxuICAgICAgICBleHByID0gaXNvbGF0ZUNvdmVyR3JhbW1hcihwYXJzZUFzc2lnbm1lbnRFeHByZXNzaW9uKTtcblxuICAgICAgICBpZiAobWF0Y2goJywnKSkge1xuICAgICAgICAgICAgZXhwcmVzc2lvbnMgPSBbZXhwcl07XG5cbiAgICAgICAgICAgIHdoaWxlIChzdGFydEluZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFtYXRjaCgnLCcpKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsZXgoKTtcbiAgICAgICAgICAgICAgICBleHByZXNzaW9ucy5wdXNoKGlzb2xhdGVDb3ZlckdyYW1tYXIocGFyc2VBc3NpZ25tZW50RXhwcmVzc2lvbikpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBleHByID0gbmV3IFdyYXBwaW5nTm9kZShzdGFydFRva2VuKS5maW5pc2hTZXF1ZW5jZUV4cHJlc3Npb24oZXhwcmVzc2lvbnMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGV4cHI7XG4gICAgfVxuXG4gICAgLy8gRUNNQS0yNjIgMTMuMiBCbG9ja1xuXG4gICAgZnVuY3Rpb24gcGFyc2VTdGF0ZW1lbnRMaXN0SXRlbSgpIHtcbiAgICAgICAgaWYgKGxvb2thaGVhZC50eXBlID09PSBUb2tlbi5LZXl3b3JkKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKGxvb2thaGVhZC52YWx1ZSkge1xuICAgICAgICAgICAgY2FzZSAnZXhwb3J0JzpcbiAgICAgICAgICAgICAgICBpZiAoc3RhdGUuc291cmNlVHlwZSAhPT0gJ21vZHVsZScpIHtcbiAgICAgICAgICAgICAgICAgICAgdG9sZXJhdGVVbmV4cGVjdGVkVG9rZW4obG9va2FoZWFkLCBNZXNzYWdlcy5JbGxlZ2FsRXhwb3J0RGVjbGFyYXRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VFeHBvcnREZWNsYXJhdGlvbigpO1xuICAgICAgICAgICAgY2FzZSAnaW1wb3J0JzpcbiAgICAgICAgICAgICAgICBpZiAoc3RhdGUuc291cmNlVHlwZSAhPT0gJ21vZHVsZScpIHtcbiAgICAgICAgICAgICAgICAgICAgdG9sZXJhdGVVbmV4cGVjdGVkVG9rZW4obG9va2FoZWFkLCBNZXNzYWdlcy5JbGxlZ2FsSW1wb3J0RGVjbGFyYXRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VJbXBvcnREZWNsYXJhdGlvbigpO1xuICAgICAgICAgICAgY2FzZSAnY29uc3QnOlxuICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZUxleGljYWxEZWNsYXJhdGlvbih7aW5Gb3I6IGZhbHNlfSk7XG4gICAgICAgICAgICBjYXNlICdmdW5jdGlvbic6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlRnVuY3Rpb25EZWNsYXJhdGlvbihuZXcgTm9kZSgpKTtcbiAgICAgICAgICAgIGNhc2UgJ2NsYXNzJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VDbGFzc0RlY2xhcmF0aW9uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobWF0Y2hLZXl3b3JkKCdsZXQnKSAmJiBpc0xleGljYWxEZWNsYXJhdGlvbigpKSB7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VMZXhpY2FsRGVjbGFyYXRpb24oe2luRm9yOiBmYWxzZX0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHBhcnNlU3RhdGVtZW50KCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcGFyc2VTdGF0ZW1lbnRMaXN0KCkge1xuICAgICAgICB2YXIgbGlzdCA9IFtdO1xuICAgICAgICB3aGlsZSAoc3RhcnRJbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKG1hdGNoKCd9JykpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxpc3QucHVzaChwYXJzZVN0YXRlbWVudExpc3RJdGVtKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGxpc3Q7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcGFyc2VCbG9jaygpIHtcbiAgICAgICAgdmFyIGJsb2NrLCBub2RlID0gbmV3IE5vZGUoKTtcblxuICAgICAgICBleHBlY3QoJ3snKTtcblxuICAgICAgICBibG9jayA9IHBhcnNlU3RhdGVtZW50TGlzdCgpO1xuXG4gICAgICAgIGV4cGVjdCgnfScpO1xuXG4gICAgICAgIHJldHVybiBub2RlLmZpbmlzaEJsb2NrU3RhdGVtZW50KGJsb2NrKTtcbiAgICB9XG5cbiAgICAvLyBFQ01BLTI2MiAxMy4zLjIgVmFyaWFibGUgU3RhdGVtZW50XG5cbiAgICBmdW5jdGlvbiBwYXJzZVZhcmlhYmxlSWRlbnRpZmllcihraW5kKSB7XG4gICAgICAgIHZhciB0b2tlbiwgbm9kZSA9IG5ldyBOb2RlKCk7XG5cbiAgICAgICAgdG9rZW4gPSBsZXgoKTtcblxuICAgICAgICBpZiAodG9rZW4udHlwZSA9PT0gVG9rZW4uS2V5d29yZCAmJiB0b2tlbi52YWx1ZSA9PT0gJ3lpZWxkJykge1xuICAgICAgICAgICAgaWYgKHN0cmljdCkge1xuICAgICAgICAgICAgICAgIHRvbGVyYXRlVW5leHBlY3RlZFRva2VuKHRva2VuLCBNZXNzYWdlcy5TdHJpY3RSZXNlcnZlZFdvcmQpO1xuICAgICAgICAgICAgfSBpZiAoIXN0YXRlLmFsbG93WWllbGQpIHtcbiAgICAgICAgICAgICAgICB0aHJvd1VuZXhwZWN0ZWRUb2tlbih0b2tlbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAodG9rZW4udHlwZSAhPT0gVG9rZW4uSWRlbnRpZmllcikge1xuICAgICAgICAgICAgaWYgKHN0cmljdCAmJiB0b2tlbi50eXBlID09PSBUb2tlbi5LZXl3b3JkICYmIGlzU3RyaWN0TW9kZVJlc2VydmVkV29yZCh0b2tlbi52YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICB0b2xlcmF0ZVVuZXhwZWN0ZWRUb2tlbih0b2tlbiwgTWVzc2FnZXMuU3RyaWN0UmVzZXJ2ZWRXb3JkKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHN0cmljdCB8fCB0b2tlbi52YWx1ZSAhPT0gJ2xldCcgfHwga2luZCAhPT0gJ3ZhcicpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3dVbmV4cGVjdGVkVG9rZW4odG9rZW4pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChzdGF0ZS5zb3VyY2VUeXBlID09PSAnbW9kdWxlJyAmJiB0b2tlbi50eXBlID09PSBUb2tlbi5JZGVudGlmaWVyICYmIHRva2VuLnZhbHVlID09PSAnYXdhaXQnKSB7XG4gICAgICAgICAgICB0b2xlcmF0ZVVuZXhwZWN0ZWRUb2tlbih0b2tlbik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbm9kZS5maW5pc2hJZGVudGlmaWVyKHRva2VuLnZhbHVlKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwYXJzZVZhcmlhYmxlRGVjbGFyYXRpb24ob3B0aW9ucykge1xuICAgICAgICB2YXIgaW5pdCA9IG51bGwsIGlkLCBub2RlID0gbmV3IE5vZGUoKSwgcGFyYW1zID0gW107XG5cbiAgICAgICAgaWQgPSBwYXJzZVBhdHRlcm4ocGFyYW1zLCAndmFyJyk7XG5cbiAgICAgICAgLy8gRUNNQS0yNjIgMTIuMi4xXG4gICAgICAgIGlmIChzdHJpY3QgJiYgaXNSZXN0cmljdGVkV29yZChpZC5uYW1lKSkge1xuICAgICAgICAgICAgdG9sZXJhdGVFcnJvcihNZXNzYWdlcy5TdHJpY3RWYXJOYW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChtYXRjaCgnPScpKSB7XG4gICAgICAgICAgICBsZXgoKTtcbiAgICAgICAgICAgIGluaXQgPSBpc29sYXRlQ292ZXJHcmFtbWFyKHBhcnNlQXNzaWdubWVudEV4cHJlc3Npb24pO1xuICAgICAgICB9IGVsc2UgaWYgKGlkLnR5cGUgIT09IFN5bnRheC5JZGVudGlmaWVyICYmICFvcHRpb25zLmluRm9yKSB7XG4gICAgICAgICAgICBleHBlY3QoJz0nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBub2RlLmZpbmlzaFZhcmlhYmxlRGVjbGFyYXRvcihpZCwgaW5pdCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcGFyc2VWYXJpYWJsZURlY2xhcmF0aW9uTGlzdChvcHRpb25zKSB7XG4gICAgICAgIHZhciBvcHQsIGxpc3Q7XG5cbiAgICAgICAgb3B0ID0geyBpbkZvcjogb3B0aW9ucy5pbkZvciB9O1xuICAgICAgICBsaXN0ID0gW3BhcnNlVmFyaWFibGVEZWNsYXJhdGlvbihvcHQpXTtcblxuICAgICAgICB3aGlsZSAobWF0Y2goJywnKSkge1xuICAgICAgICAgICAgbGV4KCk7XG4gICAgICAgICAgICBsaXN0LnB1c2gocGFyc2VWYXJpYWJsZURlY2xhcmF0aW9uKG9wdCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGxpc3Q7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcGFyc2VWYXJpYWJsZVN0YXRlbWVudChub2RlKSB7XG4gICAgICAgIHZhciBkZWNsYXJhdGlvbnM7XG5cbiAgICAgICAgZXhwZWN0S2V5d29yZCgndmFyJyk7XG5cbiAgICAgICAgZGVjbGFyYXRpb25zID0gcGFyc2VWYXJpYWJsZURlY2xhcmF0aW9uTGlzdCh7IGluRm9yOiBmYWxzZSB9KTtcblxuICAgICAgICBjb25zdW1lU2VtaWNvbG9uKCk7XG5cbiAgICAgICAgcmV0dXJuIG5vZGUuZmluaXNoVmFyaWFibGVEZWNsYXJhdGlvbihkZWNsYXJhdGlvbnMpO1xuICAgIH1cblxuICAgIC8vIEVDTUEtMjYyIDEzLjMuMSBMZXQgYW5kIENvbnN0IERlY2xhcmF0aW9uc1xuXG4gICAgZnVuY3Rpb24gcGFyc2VMZXhpY2FsQmluZGluZyhraW5kLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBpbml0ID0gbnVsbCwgaWQsIG5vZGUgPSBuZXcgTm9kZSgpLCBwYXJhbXMgPSBbXTtcblxuICAgICAgICBpZCA9IHBhcnNlUGF0dGVybihwYXJhbXMsIGtpbmQpO1xuXG4gICAgICAgIC8vIEVDTUEtMjYyIDEyLjIuMVxuICAgICAgICBpZiAoc3RyaWN0ICYmIGlkLnR5cGUgPT09IFN5bnRheC5JZGVudGlmaWVyICYmIGlzUmVzdHJpY3RlZFdvcmQoaWQubmFtZSkpIHtcbiAgICAgICAgICAgIHRvbGVyYXRlRXJyb3IoTWVzc2FnZXMuU3RyaWN0VmFyTmFtZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoa2luZCA9PT0gJ2NvbnN0Jykge1xuICAgICAgICAgICAgaWYgKCFtYXRjaEtleXdvcmQoJ2luJykgJiYgIW1hdGNoQ29udGV4dHVhbEtleXdvcmQoJ29mJykpIHtcbiAgICAgICAgICAgICAgICBleHBlY3QoJz0nKTtcbiAgICAgICAgICAgICAgICBpbml0ID0gaXNvbGF0ZUNvdmVyR3JhbW1hcihwYXJzZUFzc2lnbm1lbnRFeHByZXNzaW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICgoIW9wdGlvbnMuaW5Gb3IgJiYgaWQudHlwZSAhPT0gU3ludGF4LklkZW50aWZpZXIpIHx8IG1hdGNoKCc9JykpIHtcbiAgICAgICAgICAgIGV4cGVjdCgnPScpO1xuICAgICAgICAgICAgaW5pdCA9IGlzb2xhdGVDb3ZlckdyYW1tYXIocGFyc2VBc3NpZ25tZW50RXhwcmVzc2lvbik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbm9kZS5maW5pc2hWYXJpYWJsZURlY2xhcmF0b3IoaWQsIGluaXQpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBhcnNlQmluZGluZ0xpc3Qoa2luZCwgb3B0aW9ucykge1xuICAgICAgICB2YXIgbGlzdCA9IFtwYXJzZUxleGljYWxCaW5kaW5nKGtpbmQsIG9wdGlvbnMpXTtcblxuICAgICAgICB3aGlsZSAobWF0Y2goJywnKSkge1xuICAgICAgICAgICAgbGV4KCk7XG4gICAgICAgICAgICBsaXN0LnB1c2gocGFyc2VMZXhpY2FsQmluZGluZyhraW5kLCBvcHRpb25zKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbGlzdDtcbiAgICB9XG5cblxuICAgIGZ1bmN0aW9uIHRva2VuaXplclN0YXRlKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaW5kZXg6IGluZGV4LFxuICAgICAgICAgICAgbGluZU51bWJlcjogbGluZU51bWJlcixcbiAgICAgICAgICAgIGxpbmVTdGFydDogbGluZVN0YXJ0LFxuICAgICAgICAgICAgaGFzTGluZVRlcm1pbmF0b3I6IGhhc0xpbmVUZXJtaW5hdG9yLFxuICAgICAgICAgICAgbGFzdEluZGV4OiBsYXN0SW5kZXgsXG4gICAgICAgICAgICBsYXN0TGluZU51bWJlcjogbGFzdExpbmVOdW1iZXIsXG4gICAgICAgICAgICBsYXN0TGluZVN0YXJ0OiBsYXN0TGluZVN0YXJ0LFxuICAgICAgICAgICAgc3RhcnRJbmRleDogc3RhcnRJbmRleCxcbiAgICAgICAgICAgIHN0YXJ0TGluZU51bWJlcjogc3RhcnRMaW5lTnVtYmVyLFxuICAgICAgICAgICAgc3RhcnRMaW5lU3RhcnQ6IHN0YXJ0TGluZVN0YXJ0LFxuICAgICAgICAgICAgbG9va2FoZWFkOiBsb29rYWhlYWQsXG4gICAgICAgICAgICB0b2tlbkNvdW50OiBleHRyYS50b2tlbnMgPyBleHRyYS50b2tlbnMubGVuZ3RoIDogMFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlc2V0VG9rZW5pemVyU3RhdGUodHMpIHtcbiAgICAgICAgaW5kZXggPSB0cy5pbmRleDtcbiAgICAgICAgbGluZU51bWJlciA9IHRzLmxpbmVOdW1iZXI7XG4gICAgICAgIGxpbmVTdGFydCA9IHRzLmxpbmVTdGFydDtcbiAgICAgICAgaGFzTGluZVRlcm1pbmF0b3IgPSB0cy5oYXNMaW5lVGVybWluYXRvcjtcbiAgICAgICAgbGFzdEluZGV4ID0gdHMubGFzdEluZGV4O1xuICAgICAgICBsYXN0TGluZU51bWJlciA9IHRzLmxhc3RMaW5lTnVtYmVyO1xuICAgICAgICBsYXN0TGluZVN0YXJ0ID0gdHMubGFzdExpbmVTdGFydDtcbiAgICAgICAgc3RhcnRJbmRleCA9IHRzLnN0YXJ0SW5kZXg7XG4gICAgICAgIHN0YXJ0TGluZU51bWJlciA9IHRzLnN0YXJ0TGluZU51bWJlcjtcbiAgICAgICAgc3RhcnRMaW5lU3RhcnQgPSB0cy5zdGFydExpbmVTdGFydDtcbiAgICAgICAgbG9va2FoZWFkID0gdHMubG9va2FoZWFkO1xuICAgICAgICBpZiAoZXh0cmEudG9rZW5zKSB7XG4gICAgICAgICAgICBleHRyYS50b2tlbnMuc3BsaWNlKHRzLnRva2VuQ291bnQsIGV4dHJhLnRva2Vucy5sZW5ndGgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNMZXhpY2FsRGVjbGFyYXRpb24oKSB7XG4gICAgICAgIHZhciBsZXhpY2FsLCB0cztcblxuICAgICAgICB0cyA9IHRva2VuaXplclN0YXRlKCk7XG5cbiAgICAgICAgbGV4KCk7XG4gICAgICAgIGxleGljYWwgPSAobG9va2FoZWFkLnR5cGUgPT09IFRva2VuLklkZW50aWZpZXIpIHx8IG1hdGNoKCdbJykgfHwgbWF0Y2goJ3snKSB8fFxuICAgICAgICAgICAgbWF0Y2hLZXl3b3JkKCdsZXQnKSB8fCBtYXRjaEtleXdvcmQoJ3lpZWxkJyk7XG5cbiAgICAgICAgcmVzZXRUb2tlbml6ZXJTdGF0ZSh0cyk7XG5cbiAgICAgICAgcmV0dXJuIGxleGljYWw7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcGFyc2VMZXhpY2FsRGVjbGFyYXRpb24ob3B0aW9ucykge1xuICAgICAgICB2YXIga2luZCwgZGVjbGFyYXRpb25zLCBub2RlID0gbmV3IE5vZGUoKTtcblxuICAgICAgICBraW5kID0gbGV4KCkudmFsdWU7XG4gICAgICAgIGFzc2VydChraW5kID09PSAnbGV0JyB8fCBraW5kID09PSAnY29uc3QnLCAnTGV4aWNhbCBkZWNsYXJhdGlvbiBtdXN0IGJlIGVpdGhlciBsZXQgb3IgY29uc3QnKTtcblxuICAgICAgICBkZWNsYXJhdGlvbnMgPSBwYXJzZUJpbmRpbmdMaXN0KGtpbmQsIG9wdGlvbnMpO1xuXG4gICAgICAgIGNvbnN1bWVTZW1pY29sb24oKTtcblxuICAgICAgICByZXR1cm4gbm9kZS5maW5pc2hMZXhpY2FsRGVjbGFyYXRpb24oZGVjbGFyYXRpb25zLCBraW5kKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwYXJzZVJlc3RFbGVtZW50KHBhcmFtcykge1xuICAgICAgICB2YXIgcGFyYW0sIG5vZGUgPSBuZXcgTm9kZSgpO1xuXG4gICAgICAgIGxleCgpO1xuXG4gICAgICAgIGlmIChtYXRjaCgneycpKSB7XG4gICAgICAgICAgICB0aHJvd0Vycm9yKE1lc3NhZ2VzLk9iamVjdFBhdHRlcm5Bc1Jlc3RQYXJhbWV0ZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcGFyYW1zLnB1c2gobG9va2FoZWFkKTtcblxuICAgICAgICBwYXJhbSA9IHBhcnNlVmFyaWFibGVJZGVudGlmaWVyKCk7XG5cbiAgICAgICAgaWYgKG1hdGNoKCc9JykpIHtcbiAgICAgICAgICAgIHRocm93RXJyb3IoTWVzc2FnZXMuRGVmYXVsdFJlc3RQYXJhbWV0ZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFtYXRjaCgnKScpKSB7XG4gICAgICAgICAgICB0aHJvd0Vycm9yKE1lc3NhZ2VzLlBhcmFtZXRlckFmdGVyUmVzdFBhcmFtZXRlcik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbm9kZS5maW5pc2hSZXN0RWxlbWVudChwYXJhbSk7XG4gICAgfVxuXG4gICAgLy8gRUNNQS0yNjIgMTMuNCBFbXB0eSBTdGF0ZW1lbnRcblxuICAgIGZ1bmN0aW9uIHBhcnNlRW1wdHlTdGF0ZW1lbnQobm9kZSkge1xuICAgICAgICBleHBlY3QoJzsnKTtcbiAgICAgICAgcmV0dXJuIG5vZGUuZmluaXNoRW1wdHlTdGF0ZW1lbnQoKTtcbiAgICB9XG5cbiAgICAvLyBFQ01BLTI2MiAxMi40IEV4cHJlc3Npb24gU3RhdGVtZW50XG5cbiAgICBmdW5jdGlvbiBwYXJzZUV4cHJlc3Npb25TdGF0ZW1lbnQobm9kZSkge1xuICAgICAgICB2YXIgZXhwciA9IHBhcnNlRXhwcmVzc2lvbigpO1xuICAgICAgICBjb25zdW1lU2VtaWNvbG9uKCk7XG4gICAgICAgIHJldHVybiBub2RlLmZpbmlzaEV4cHJlc3Npb25TdGF0ZW1lbnQoZXhwcik7XG4gICAgfVxuXG4gICAgLy8gRUNNQS0yNjIgMTMuNiBJZiBzdGF0ZW1lbnRcblxuICAgIGZ1bmN0aW9uIHBhcnNlSWZTdGF0ZW1lbnQobm9kZSkge1xuICAgICAgICB2YXIgdGVzdCwgY29uc2VxdWVudCwgYWx0ZXJuYXRlO1xuXG4gICAgICAgIGV4cGVjdEtleXdvcmQoJ2lmJyk7XG5cbiAgICAgICAgZXhwZWN0KCcoJyk7XG5cbiAgICAgICAgdGVzdCA9IHBhcnNlRXhwcmVzc2lvbigpO1xuXG4gICAgICAgIGV4cGVjdCgnKScpO1xuXG4gICAgICAgIGNvbnNlcXVlbnQgPSBwYXJzZVN0YXRlbWVudCgpO1xuXG4gICAgICAgIGlmIChtYXRjaEtleXdvcmQoJ2Vsc2UnKSkge1xuICAgICAgICAgICAgbGV4KCk7XG4gICAgICAgICAgICBhbHRlcm5hdGUgPSBwYXJzZVN0YXRlbWVudCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYWx0ZXJuYXRlID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBub2RlLmZpbmlzaElmU3RhdGVtZW50KHRlc3QsIGNvbnNlcXVlbnQsIGFsdGVybmF0ZSk7XG4gICAgfVxuXG4gICAgLy8gRUNNQS0yNjIgMTMuNyBJdGVyYXRpb24gU3RhdGVtZW50c1xuXG4gICAgZnVuY3Rpb24gcGFyc2VEb1doaWxlU3RhdGVtZW50KG5vZGUpIHtcbiAgICAgICAgdmFyIGJvZHksIHRlc3QsIG9sZEluSXRlcmF0aW9uO1xuXG4gICAgICAgIGV4cGVjdEtleXdvcmQoJ2RvJyk7XG5cbiAgICAgICAgb2xkSW5JdGVyYXRpb24gPSBzdGF0ZS5pbkl0ZXJhdGlvbjtcbiAgICAgICAgc3RhdGUuaW5JdGVyYXRpb24gPSB0cnVlO1xuXG4gICAgICAgIGJvZHkgPSBwYXJzZVN0YXRlbWVudCgpO1xuXG4gICAgICAgIHN0YXRlLmluSXRlcmF0aW9uID0gb2xkSW5JdGVyYXRpb247XG5cbiAgICAgICAgZXhwZWN0S2V5d29yZCgnd2hpbGUnKTtcblxuICAgICAgICBleHBlY3QoJygnKTtcblxuICAgICAgICB0ZXN0ID0gcGFyc2VFeHByZXNzaW9uKCk7XG5cbiAgICAgICAgZXhwZWN0KCcpJyk7XG5cbiAgICAgICAgaWYgKG1hdGNoKCc7JykpIHtcbiAgICAgICAgICAgIGxleCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5vZGUuZmluaXNoRG9XaGlsZVN0YXRlbWVudChib2R5LCB0ZXN0KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwYXJzZVdoaWxlU3RhdGVtZW50KG5vZGUpIHtcbiAgICAgICAgdmFyIHRlc3QsIGJvZHksIG9sZEluSXRlcmF0aW9uO1xuXG4gICAgICAgIGV4cGVjdEtleXdvcmQoJ3doaWxlJyk7XG5cbiAgICAgICAgZXhwZWN0KCcoJyk7XG5cbiAgICAgICAgdGVzdCA9IHBhcnNlRXhwcmVzc2lvbigpO1xuXG4gICAgICAgIGV4cGVjdCgnKScpO1xuXG4gICAgICAgIG9sZEluSXRlcmF0aW9uID0gc3RhdGUuaW5JdGVyYXRpb247XG4gICAgICAgIHN0YXRlLmluSXRlcmF0aW9uID0gdHJ1ZTtcblxuICAgICAgICBib2R5ID0gcGFyc2VTdGF0ZW1lbnQoKTtcblxuICAgICAgICBzdGF0ZS5pbkl0ZXJhdGlvbiA9IG9sZEluSXRlcmF0aW9uO1xuXG4gICAgICAgIHJldHVybiBub2RlLmZpbmlzaFdoaWxlU3RhdGVtZW50KHRlc3QsIGJvZHkpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBhcnNlRm9yU3RhdGVtZW50KG5vZGUpIHtcbiAgICAgICAgdmFyIGluaXQsIGZvckluLCBpbml0U2VxLCBpbml0U3RhcnRUb2tlbiwgdGVzdCwgdXBkYXRlLCBsZWZ0LCByaWdodCwga2luZCwgZGVjbGFyYXRpb25zLFxuICAgICAgICAgICAgYm9keSwgb2xkSW5JdGVyYXRpb24sIHByZXZpb3VzQWxsb3dJbiA9IHN0YXRlLmFsbG93SW47XG5cbiAgICAgICAgaW5pdCA9IHRlc3QgPSB1cGRhdGUgPSBudWxsO1xuICAgICAgICBmb3JJbiA9IHRydWU7XG5cbiAgICAgICAgZXhwZWN0S2V5d29yZCgnZm9yJyk7XG5cbiAgICAgICAgZXhwZWN0KCcoJyk7XG5cbiAgICAgICAgaWYgKG1hdGNoKCc7JykpIHtcbiAgICAgICAgICAgIGxleCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKG1hdGNoS2V5d29yZCgndmFyJykpIHtcbiAgICAgICAgICAgICAgICBpbml0ID0gbmV3IE5vZGUoKTtcbiAgICAgICAgICAgICAgICBsZXgoKTtcblxuICAgICAgICAgICAgICAgIHN0YXRlLmFsbG93SW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBkZWNsYXJhdGlvbnMgPSBwYXJzZVZhcmlhYmxlRGVjbGFyYXRpb25MaXN0KHsgaW5Gb3I6IHRydWUgfSk7XG4gICAgICAgICAgICAgICAgc3RhdGUuYWxsb3dJbiA9IHByZXZpb3VzQWxsb3dJbjtcblxuICAgICAgICAgICAgICAgIGlmIChkZWNsYXJhdGlvbnMubGVuZ3RoID09PSAxICYmIG1hdGNoS2V5d29yZCgnaW4nKSkge1xuICAgICAgICAgICAgICAgICAgICBpbml0ID0gaW5pdC5maW5pc2hWYXJpYWJsZURlY2xhcmF0aW9uKGRlY2xhcmF0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgIGxleCgpO1xuICAgICAgICAgICAgICAgICAgICBsZWZ0ID0gaW5pdDtcbiAgICAgICAgICAgICAgICAgICAgcmlnaHQgPSBwYXJzZUV4cHJlc3Npb24oKTtcbiAgICAgICAgICAgICAgICAgICAgaW5pdCA9IG51bGw7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChkZWNsYXJhdGlvbnMubGVuZ3RoID09PSAxICYmIGRlY2xhcmF0aW9uc1swXS5pbml0ID09PSBudWxsICYmIG1hdGNoQ29udGV4dHVhbEtleXdvcmQoJ29mJykpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5pdCA9IGluaXQuZmluaXNoVmFyaWFibGVEZWNsYXJhdGlvbihkZWNsYXJhdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICBsZXgoKTtcbiAgICAgICAgICAgICAgICAgICAgbGVmdCA9IGluaXQ7XG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0ID0gcGFyc2VBc3NpZ25tZW50RXhwcmVzc2lvbigpO1xuICAgICAgICAgICAgICAgICAgICBpbml0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgZm9ySW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpbml0ID0gaW5pdC5maW5pc2hWYXJpYWJsZURlY2xhcmF0aW9uKGRlY2xhcmF0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgIGV4cGVjdCgnOycpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAobWF0Y2hLZXl3b3JkKCdjb25zdCcpIHx8IG1hdGNoS2V5d29yZCgnbGV0JykpIHtcbiAgICAgICAgICAgICAgICBpbml0ID0gbmV3IE5vZGUoKTtcbiAgICAgICAgICAgICAgICBraW5kID0gbGV4KCkudmFsdWU7XG5cbiAgICAgICAgICAgICAgICBpZiAoIXN0cmljdCAmJiBsb29rYWhlYWQudmFsdWUgPT09ICdpbicpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5pdCA9IGluaXQuZmluaXNoSWRlbnRpZmllcihraW5kKTtcbiAgICAgICAgICAgICAgICAgICAgbGV4KCk7XG4gICAgICAgICAgICAgICAgICAgIGxlZnQgPSBpbml0O1xuICAgICAgICAgICAgICAgICAgICByaWdodCA9IHBhcnNlRXhwcmVzc2lvbigpO1xuICAgICAgICAgICAgICAgICAgICBpbml0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5hbGxvd0luID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGRlY2xhcmF0aW9ucyA9IHBhcnNlQmluZGluZ0xpc3Qoa2luZCwge2luRm9yOiB0cnVlfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLmFsbG93SW4gPSBwcmV2aW91c0FsbG93SW47XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlY2xhcmF0aW9ucy5sZW5ndGggPT09IDEgJiYgZGVjbGFyYXRpb25zWzBdLmluaXQgPT09IG51bGwgJiYgbWF0Y2hLZXl3b3JkKCdpbicpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbml0ID0gaW5pdC5maW5pc2hMZXhpY2FsRGVjbGFyYXRpb24oZGVjbGFyYXRpb25zLCBraW5kKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxleCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGVmdCA9IGluaXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICByaWdodCA9IHBhcnNlRXhwcmVzc2lvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5pdCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZGVjbGFyYXRpb25zLmxlbmd0aCA9PT0gMSAmJiBkZWNsYXJhdGlvbnNbMF0uaW5pdCA9PT0gbnVsbCAmJiBtYXRjaENvbnRleHR1YWxLZXl3b3JkKCdvZicpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbml0ID0gaW5pdC5maW5pc2hMZXhpY2FsRGVjbGFyYXRpb24oZGVjbGFyYXRpb25zLCBraW5kKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxleCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGVmdCA9IGluaXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICByaWdodCA9IHBhcnNlQXNzaWdubWVudEV4cHJlc3Npb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluaXQgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9ySW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN1bWVTZW1pY29sb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluaXQgPSBpbml0LmZpbmlzaExleGljYWxEZWNsYXJhdGlvbihkZWNsYXJhdGlvbnMsIGtpbmQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpbml0U3RhcnRUb2tlbiA9IGxvb2thaGVhZDtcbiAgICAgICAgICAgICAgICBzdGF0ZS5hbGxvd0luID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgaW5pdCA9IGluaGVyaXRDb3ZlckdyYW1tYXIocGFyc2VBc3NpZ25tZW50RXhwcmVzc2lvbik7XG4gICAgICAgICAgICAgICAgc3RhdGUuYWxsb3dJbiA9IHByZXZpb3VzQWxsb3dJbjtcblxuICAgICAgICAgICAgICAgIGlmIChtYXRjaEtleXdvcmQoJ2luJykpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpc0Fzc2lnbm1lbnRUYXJnZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvbGVyYXRlRXJyb3IoTWVzc2FnZXMuSW52YWxpZExIU0luRm9ySW4pO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgbGV4KCk7XG4gICAgICAgICAgICAgICAgICAgIHJlaW50ZXJwcmV0RXhwcmVzc2lvbkFzUGF0dGVybihpbml0KTtcbiAgICAgICAgICAgICAgICAgICAgbGVmdCA9IGluaXQ7XG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0ID0gcGFyc2VFeHByZXNzaW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIGluaXQgPSBudWxsO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobWF0Y2hDb250ZXh0dWFsS2V5d29yZCgnb2YnKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWlzQXNzaWdubWVudFRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9sZXJhdGVFcnJvcihNZXNzYWdlcy5JbnZhbGlkTEhTSW5Gb3JMb29wKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGxleCgpO1xuICAgICAgICAgICAgICAgICAgICByZWludGVycHJldEV4cHJlc3Npb25Bc1BhdHRlcm4oaW5pdCk7XG4gICAgICAgICAgICAgICAgICAgIGxlZnQgPSBpbml0O1xuICAgICAgICAgICAgICAgICAgICByaWdodCA9IHBhcnNlQXNzaWdubWVudEV4cHJlc3Npb24oKTtcbiAgICAgICAgICAgICAgICAgICAgaW5pdCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIGZvckluID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoKCcsJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluaXRTZXEgPSBbaW5pdF07XG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAobWF0Y2goJywnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxleCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluaXRTZXEucHVzaChpc29sYXRlQ292ZXJHcmFtbWFyKHBhcnNlQXNzaWdubWVudEV4cHJlc3Npb24pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGluaXQgPSBuZXcgV3JhcHBpbmdOb2RlKGluaXRTdGFydFRva2VuKS5maW5pc2hTZXF1ZW5jZUV4cHJlc3Npb24oaW5pdFNlcSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZXhwZWN0KCc7Jyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGVvZiBsZWZ0ID09PSAndW5kZWZpbmVkJykge1xuXG4gICAgICAgICAgICBpZiAoIW1hdGNoKCc7JykpIHtcbiAgICAgICAgICAgICAgICB0ZXN0ID0gcGFyc2VFeHByZXNzaW9uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBleHBlY3QoJzsnKTtcblxuICAgICAgICAgICAgaWYgKCFtYXRjaCgnKScpKSB7XG4gICAgICAgICAgICAgICAgdXBkYXRlID0gcGFyc2VFeHByZXNzaW9uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBleHBlY3QoJyknKTtcblxuICAgICAgICBvbGRJbkl0ZXJhdGlvbiA9IHN0YXRlLmluSXRlcmF0aW9uO1xuICAgICAgICBzdGF0ZS5pbkl0ZXJhdGlvbiA9IHRydWU7XG5cbiAgICAgICAgYm9keSA9IGlzb2xhdGVDb3ZlckdyYW1tYXIocGFyc2VTdGF0ZW1lbnQpO1xuXG4gICAgICAgIHN0YXRlLmluSXRlcmF0aW9uID0gb2xkSW5JdGVyYXRpb247XG5cbiAgICAgICAgcmV0dXJuICh0eXBlb2YgbGVmdCA9PT0gJ3VuZGVmaW5lZCcpID9cbiAgICAgICAgICAgICAgICBub2RlLmZpbmlzaEZvclN0YXRlbWVudChpbml0LCB0ZXN0LCB1cGRhdGUsIGJvZHkpIDpcbiAgICAgICAgICAgICAgICBmb3JJbiA/IG5vZGUuZmluaXNoRm9ySW5TdGF0ZW1lbnQobGVmdCwgcmlnaHQsIGJvZHkpIDpcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5maW5pc2hGb3JPZlN0YXRlbWVudChsZWZ0LCByaWdodCwgYm9keSk7XG4gICAgfVxuXG4gICAgLy8gRUNNQS0yNjIgMTMuOCBUaGUgY29udGludWUgc3RhdGVtZW50XG5cbiAgICBmdW5jdGlvbiBwYXJzZUNvbnRpbnVlU3RhdGVtZW50KG5vZGUpIHtcbiAgICAgICAgdmFyIGxhYmVsID0gbnVsbCwga2V5O1xuXG4gICAgICAgIGV4cGVjdEtleXdvcmQoJ2NvbnRpbnVlJyk7XG5cbiAgICAgICAgLy8gT3B0aW1pemUgdGhlIG1vc3QgY29tbW9uIGZvcm06ICdjb250aW51ZTsnLlxuICAgICAgICBpZiAoc291cmNlLmNoYXJDb2RlQXQoc3RhcnRJbmRleCkgPT09IDB4M0IpIHtcbiAgICAgICAgICAgIGxleCgpO1xuXG4gICAgICAgICAgICBpZiAoIXN0YXRlLmluSXRlcmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgdGhyb3dFcnJvcihNZXNzYWdlcy5JbGxlZ2FsQ29udGludWUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gbm9kZS5maW5pc2hDb250aW51ZVN0YXRlbWVudChudWxsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChoYXNMaW5lVGVybWluYXRvcikge1xuICAgICAgICAgICAgaWYgKCFzdGF0ZS5pbkl0ZXJhdGlvbikge1xuICAgICAgICAgICAgICAgIHRocm93RXJyb3IoTWVzc2FnZXMuSWxsZWdhbENvbnRpbnVlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIG5vZGUuZmluaXNoQ29udGludWVTdGF0ZW1lbnQobnVsbCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobG9va2FoZWFkLnR5cGUgPT09IFRva2VuLklkZW50aWZpZXIpIHtcbiAgICAgICAgICAgIGxhYmVsID0gcGFyc2VWYXJpYWJsZUlkZW50aWZpZXIoKTtcblxuICAgICAgICAgICAga2V5ID0gJyQnICsgbGFiZWwubmFtZTtcbiAgICAgICAgICAgIGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHN0YXRlLmxhYmVsU2V0LCBrZXkpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3dFcnJvcihNZXNzYWdlcy5Vbmtub3duTGFiZWwsIGxhYmVsLm5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3VtZVNlbWljb2xvbigpO1xuXG4gICAgICAgIGlmIChsYWJlbCA9PT0gbnVsbCAmJiAhc3RhdGUuaW5JdGVyYXRpb24pIHtcbiAgICAgICAgICAgIHRocm93RXJyb3IoTWVzc2FnZXMuSWxsZWdhbENvbnRpbnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBub2RlLmZpbmlzaENvbnRpbnVlU3RhdGVtZW50KGxhYmVsKTtcbiAgICB9XG5cbiAgICAvLyBFQ01BLTI2MiAxMy45IFRoZSBicmVhayBzdGF0ZW1lbnRcblxuICAgIGZ1bmN0aW9uIHBhcnNlQnJlYWtTdGF0ZW1lbnQobm9kZSkge1xuICAgICAgICB2YXIgbGFiZWwgPSBudWxsLCBrZXk7XG5cbiAgICAgICAgZXhwZWN0S2V5d29yZCgnYnJlYWsnKTtcblxuICAgICAgICAvLyBDYXRjaCB0aGUgdmVyeSBjb21tb24gY2FzZSBmaXJzdDogaW1tZWRpYXRlbHkgYSBzZW1pY29sb24gKFUrMDAzQikuXG4gICAgICAgIGlmIChzb3VyY2UuY2hhckNvZGVBdChsYXN0SW5kZXgpID09PSAweDNCKSB7XG4gICAgICAgICAgICBsZXgoKTtcblxuICAgICAgICAgICAgaWYgKCEoc3RhdGUuaW5JdGVyYXRpb24gfHwgc3RhdGUuaW5Td2l0Y2gpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3dFcnJvcihNZXNzYWdlcy5JbGxlZ2FsQnJlYWspO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gbm9kZS5maW5pc2hCcmVha1N0YXRlbWVudChudWxsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChoYXNMaW5lVGVybWluYXRvcikge1xuICAgICAgICAgICAgaWYgKCEoc3RhdGUuaW5JdGVyYXRpb24gfHwgc3RhdGUuaW5Td2l0Y2gpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3dFcnJvcihNZXNzYWdlcy5JbGxlZ2FsQnJlYWspO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGxvb2thaGVhZC50eXBlID09PSBUb2tlbi5JZGVudGlmaWVyKSB7XG4gICAgICAgICAgICBsYWJlbCA9IHBhcnNlVmFyaWFibGVJZGVudGlmaWVyKCk7XG5cbiAgICAgICAgICAgIGtleSA9ICckJyArIGxhYmVsLm5hbWU7XG4gICAgICAgICAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzdGF0ZS5sYWJlbFNldCwga2V5KSkge1xuICAgICAgICAgICAgICAgIHRocm93RXJyb3IoTWVzc2FnZXMuVW5rbm93bkxhYmVsLCBsYWJlbC5uYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN1bWVTZW1pY29sb24oKTtcblxuICAgICAgICBpZiAobGFiZWwgPT09IG51bGwgJiYgIShzdGF0ZS5pbkl0ZXJhdGlvbiB8fCBzdGF0ZS5pblN3aXRjaCkpIHtcbiAgICAgICAgICAgIHRocm93RXJyb3IoTWVzc2FnZXMuSWxsZWdhbEJyZWFrKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBub2RlLmZpbmlzaEJyZWFrU3RhdGVtZW50KGxhYmVsKTtcbiAgICB9XG5cbiAgICAvLyBFQ01BLTI2MiAxMy4xMCBUaGUgcmV0dXJuIHN0YXRlbWVudFxuXG4gICAgZnVuY3Rpb24gcGFyc2VSZXR1cm5TdGF0ZW1lbnQobm9kZSkge1xuICAgICAgICB2YXIgYXJndW1lbnQgPSBudWxsO1xuXG4gICAgICAgIGV4cGVjdEtleXdvcmQoJ3JldHVybicpO1xuXG4gICAgICAgIGlmICghc3RhdGUuaW5GdW5jdGlvbkJvZHkpIHtcbiAgICAgICAgICAgIHRvbGVyYXRlRXJyb3IoTWVzc2FnZXMuSWxsZWdhbFJldHVybik7XG4gICAgICAgIH1cblxuICAgICAgICAvLyAncmV0dXJuJyBmb2xsb3dlZCBieSBhIHNwYWNlIGFuZCBhbiBpZGVudGlmaWVyIGlzIHZlcnkgY29tbW9uLlxuICAgICAgICBpZiAoc291cmNlLmNoYXJDb2RlQXQobGFzdEluZGV4KSA9PT0gMHgyMCkge1xuICAgICAgICAgICAgaWYgKGlzSWRlbnRpZmllclN0YXJ0KHNvdXJjZS5jaGFyQ29kZUF0KGxhc3RJbmRleCArIDEpKSkge1xuICAgICAgICAgICAgICAgIGFyZ3VtZW50ID0gcGFyc2VFeHByZXNzaW9uKCk7XG4gICAgICAgICAgICAgICAgY29uc3VtZVNlbWljb2xvbigpO1xuICAgICAgICAgICAgICAgIHJldHVybiBub2RlLmZpbmlzaFJldHVyblN0YXRlbWVudChhcmd1bWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaGFzTGluZVRlcm1pbmF0b3IpIHtcbiAgICAgICAgICAgIC8vIEhBQ0tcbiAgICAgICAgICAgIHJldHVybiBub2RlLmZpbmlzaFJldHVyblN0YXRlbWVudChudWxsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghbWF0Y2goJzsnKSkge1xuICAgICAgICAgICAgaWYgKCFtYXRjaCgnfScpICYmIGxvb2thaGVhZC50eXBlICE9PSBUb2tlbi5FT0YpIHtcbiAgICAgICAgICAgICAgICBhcmd1bWVudCA9IHBhcnNlRXhwcmVzc2lvbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3VtZVNlbWljb2xvbigpO1xuXG4gICAgICAgIHJldHVybiBub2RlLmZpbmlzaFJldHVyblN0YXRlbWVudChhcmd1bWVudCk7XG4gICAgfVxuXG4gICAgLy8gRUNNQS0yNjIgMTMuMTEgVGhlIHdpdGggc3RhdGVtZW50XG5cbiAgICBmdW5jdGlvbiBwYXJzZVdpdGhTdGF0ZW1lbnQobm9kZSkge1xuICAgICAgICB2YXIgb2JqZWN0LCBib2R5O1xuXG4gICAgICAgIGlmIChzdHJpY3QpIHtcbiAgICAgICAgICAgIHRvbGVyYXRlRXJyb3IoTWVzc2FnZXMuU3RyaWN0TW9kZVdpdGgpO1xuICAgICAgICB9XG5cbiAgICAgICAgZXhwZWN0S2V5d29yZCgnd2l0aCcpO1xuXG4gICAgICAgIGV4cGVjdCgnKCcpO1xuXG4gICAgICAgIG9iamVjdCA9IHBhcnNlRXhwcmVzc2lvbigpO1xuXG4gICAgICAgIGV4cGVjdCgnKScpO1xuXG4gICAgICAgIGJvZHkgPSBwYXJzZVN0YXRlbWVudCgpO1xuXG4gICAgICAgIHJldHVybiBub2RlLmZpbmlzaFdpdGhTdGF0ZW1lbnQob2JqZWN0LCBib2R5KTtcbiAgICB9XG5cbiAgICAvLyBFQ01BLTI2MiAxMy4xMiBUaGUgc3dpdGNoIHN0YXRlbWVudFxuXG4gICAgZnVuY3Rpb24gcGFyc2VTd2l0Y2hDYXNlKCkge1xuICAgICAgICB2YXIgdGVzdCwgY29uc2VxdWVudCA9IFtdLCBzdGF0ZW1lbnQsIG5vZGUgPSBuZXcgTm9kZSgpO1xuXG4gICAgICAgIGlmIChtYXRjaEtleXdvcmQoJ2RlZmF1bHQnKSkge1xuICAgICAgICAgICAgbGV4KCk7XG4gICAgICAgICAgICB0ZXN0ID0gbnVsbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGV4cGVjdEtleXdvcmQoJ2Nhc2UnKTtcbiAgICAgICAgICAgIHRlc3QgPSBwYXJzZUV4cHJlc3Npb24oKTtcbiAgICAgICAgfVxuICAgICAgICBleHBlY3QoJzonKTtcblxuICAgICAgICB3aGlsZSAoc3RhcnRJbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKG1hdGNoKCd9JykgfHwgbWF0Y2hLZXl3b3JkKCdkZWZhdWx0JykgfHwgbWF0Y2hLZXl3b3JkKCdjYXNlJykpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0YXRlbWVudCA9IHBhcnNlU3RhdGVtZW50TGlzdEl0ZW0oKTtcbiAgICAgICAgICAgIGNvbnNlcXVlbnQucHVzaChzdGF0ZW1lbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5vZGUuZmluaXNoU3dpdGNoQ2FzZSh0ZXN0LCBjb25zZXF1ZW50KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwYXJzZVN3aXRjaFN0YXRlbWVudChub2RlKSB7XG4gICAgICAgIHZhciBkaXNjcmltaW5hbnQsIGNhc2VzLCBjbGF1c2UsIG9sZEluU3dpdGNoLCBkZWZhdWx0Rm91bmQ7XG5cbiAgICAgICAgZXhwZWN0S2V5d29yZCgnc3dpdGNoJyk7XG5cbiAgICAgICAgZXhwZWN0KCcoJyk7XG5cbiAgICAgICAgZGlzY3JpbWluYW50ID0gcGFyc2VFeHByZXNzaW9uKCk7XG5cbiAgICAgICAgZXhwZWN0KCcpJyk7XG5cbiAgICAgICAgZXhwZWN0KCd7Jyk7XG5cbiAgICAgICAgY2FzZXMgPSBbXTtcblxuICAgICAgICBpZiAobWF0Y2goJ30nKSkge1xuICAgICAgICAgICAgbGV4KCk7XG4gICAgICAgICAgICByZXR1cm4gbm9kZS5maW5pc2hTd2l0Y2hTdGF0ZW1lbnQoZGlzY3JpbWluYW50LCBjYXNlcyk7XG4gICAgICAgIH1cblxuICAgICAgICBvbGRJblN3aXRjaCA9IHN0YXRlLmluU3dpdGNoO1xuICAgICAgICBzdGF0ZS5pblN3aXRjaCA9IHRydWU7XG4gICAgICAgIGRlZmF1bHRGb3VuZCA9IGZhbHNlO1xuXG4gICAgICAgIHdoaWxlIChzdGFydEluZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgICBpZiAobWF0Y2goJ30nKSkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2xhdXNlID0gcGFyc2VTd2l0Y2hDYXNlKCk7XG4gICAgICAgICAgICBpZiAoY2xhdXNlLnRlc3QgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAoZGVmYXVsdEZvdW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93RXJyb3IoTWVzc2FnZXMuTXVsdGlwbGVEZWZhdWx0c0luU3dpdGNoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGVmYXVsdEZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2VzLnB1c2goY2xhdXNlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN0YXRlLmluU3dpdGNoID0gb2xkSW5Td2l0Y2g7XG5cbiAgICAgICAgZXhwZWN0KCd9Jyk7XG5cbiAgICAgICAgcmV0dXJuIG5vZGUuZmluaXNoU3dpdGNoU3RhdGVtZW50KGRpc2NyaW1pbmFudCwgY2FzZXMpO1xuICAgIH1cblxuICAgIC8vIEVDTUEtMjYyIDEzLjE0IFRoZSB0aHJvdyBzdGF0ZW1lbnRcblxuICAgIGZ1bmN0aW9uIHBhcnNlVGhyb3dTdGF0ZW1lbnQobm9kZSkge1xuICAgICAgICB2YXIgYXJndW1lbnQ7XG5cbiAgICAgICAgZXhwZWN0S2V5d29yZCgndGhyb3cnKTtcblxuICAgICAgICBpZiAoaGFzTGluZVRlcm1pbmF0b3IpIHtcbiAgICAgICAgICAgIHRocm93RXJyb3IoTWVzc2FnZXMuTmV3bGluZUFmdGVyVGhyb3cpO1xuICAgICAgICB9XG5cbiAgICAgICAgYXJndW1lbnQgPSBwYXJzZUV4cHJlc3Npb24oKTtcblxuICAgICAgICBjb25zdW1lU2VtaWNvbG9uKCk7XG5cbiAgICAgICAgcmV0dXJuIG5vZGUuZmluaXNoVGhyb3dTdGF0ZW1lbnQoYXJndW1lbnQpO1xuICAgIH1cblxuICAgIC8vIEVDTUEtMjYyIDEzLjE1IFRoZSB0cnkgc3RhdGVtZW50XG5cbiAgICBmdW5jdGlvbiBwYXJzZUNhdGNoQ2xhdXNlKCkge1xuICAgICAgICB2YXIgcGFyYW0sIHBhcmFtcyA9IFtdLCBwYXJhbU1hcCA9IHt9LCBrZXksIGksIGJvZHksIG5vZGUgPSBuZXcgTm9kZSgpO1xuXG4gICAgICAgIGV4cGVjdEtleXdvcmQoJ2NhdGNoJyk7XG5cbiAgICAgICAgZXhwZWN0KCcoJyk7XG4gICAgICAgIGlmIChtYXRjaCgnKScpKSB7XG4gICAgICAgICAgICB0aHJvd1VuZXhwZWN0ZWRUb2tlbihsb29rYWhlYWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcGFyYW0gPSBwYXJzZVBhdHRlcm4ocGFyYW1zKTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHBhcmFtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAga2V5ID0gJyQnICsgcGFyYW1zW2ldLnZhbHVlO1xuICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChwYXJhbU1hcCwga2V5KSkge1xuICAgICAgICAgICAgICAgIHRvbGVyYXRlRXJyb3IoTWVzc2FnZXMuRHVwbGljYXRlQmluZGluZywgcGFyYW1zW2ldLnZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBhcmFtTWFwW2tleV0gPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRUNNQS0yNjIgMTIuMTQuMVxuICAgICAgICBpZiAoc3RyaWN0ICYmIGlzUmVzdHJpY3RlZFdvcmQocGFyYW0ubmFtZSkpIHtcbiAgICAgICAgICAgIHRvbGVyYXRlRXJyb3IoTWVzc2FnZXMuU3RyaWN0Q2F0Y2hWYXJpYWJsZSk7XG4gICAgICAgIH1cblxuICAgICAgICBleHBlY3QoJyknKTtcbiAgICAgICAgYm9keSA9IHBhcnNlQmxvY2soKTtcbiAgICAgICAgcmV0dXJuIG5vZGUuZmluaXNoQ2F0Y2hDbGF1c2UocGFyYW0sIGJvZHkpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBhcnNlVHJ5U3RhdGVtZW50KG5vZGUpIHtcbiAgICAgICAgdmFyIGJsb2NrLCBoYW5kbGVyID0gbnVsbCwgZmluYWxpemVyID0gbnVsbDtcblxuICAgICAgICBleHBlY3RLZXl3b3JkKCd0cnknKTtcblxuICAgICAgICBibG9jayA9IHBhcnNlQmxvY2soKTtcblxuICAgICAgICBpZiAobWF0Y2hLZXl3b3JkKCdjYXRjaCcpKSB7XG4gICAgICAgICAgICBoYW5kbGVyID0gcGFyc2VDYXRjaENsYXVzZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG1hdGNoS2V5d29yZCgnZmluYWxseScpKSB7XG4gICAgICAgICAgICBsZXgoKTtcbiAgICAgICAgICAgIGZpbmFsaXplciA9IHBhcnNlQmxvY2soKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghaGFuZGxlciAmJiAhZmluYWxpemVyKSB7XG4gICAgICAgICAgICB0aHJvd0Vycm9yKE1lc3NhZ2VzLk5vQ2F0Y2hPckZpbmFsbHkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5vZGUuZmluaXNoVHJ5U3RhdGVtZW50KGJsb2NrLCBoYW5kbGVyLCBmaW5hbGl6ZXIpO1xuICAgIH1cblxuICAgIC8vIEVDTUEtMjYyIDEzLjE2IFRoZSBkZWJ1Z2dlciBzdGF0ZW1lbnRcblxuICAgIGZ1bmN0aW9uIHBhcnNlRGVidWdnZXJTdGF0ZW1lbnQobm9kZSkge1xuICAgICAgICBleHBlY3RLZXl3b3JkKCdkZWJ1Z2dlcicpO1xuXG4gICAgICAgIGNvbnN1bWVTZW1pY29sb24oKTtcblxuICAgICAgICByZXR1cm4gbm9kZS5maW5pc2hEZWJ1Z2dlclN0YXRlbWVudCgpO1xuICAgIH1cblxuICAgIC8vIDEzIFN0YXRlbWVudHNcblxuICAgIGZ1bmN0aW9uIHBhcnNlU3RhdGVtZW50KCkge1xuICAgICAgICB2YXIgdHlwZSA9IGxvb2thaGVhZC50eXBlLFxuICAgICAgICAgICAgZXhwcixcbiAgICAgICAgICAgIGxhYmVsZWRCb2R5LFxuICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgbm9kZTtcblxuICAgICAgICBpZiAodHlwZSA9PT0gVG9rZW4uRU9GKSB7XG4gICAgICAgICAgICB0aHJvd1VuZXhwZWN0ZWRUb2tlbihsb29rYWhlYWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGUgPT09IFRva2VuLlB1bmN0dWF0b3IgJiYgbG9va2FoZWFkLnZhbHVlID09PSAneycpIHtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUJsb2NrKCk7XG4gICAgICAgIH1cbiAgICAgICAgaXNBc3NpZ25tZW50VGFyZ2V0ID0gaXNCaW5kaW5nRWxlbWVudCA9IHRydWU7XG4gICAgICAgIG5vZGUgPSBuZXcgTm9kZSgpO1xuXG4gICAgICAgIGlmICh0eXBlID09PSBUb2tlbi5QdW5jdHVhdG9yKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKGxvb2thaGVhZC52YWx1ZSkge1xuICAgICAgICAgICAgY2FzZSAnOyc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlRW1wdHlTdGF0ZW1lbnQobm9kZSk7XG4gICAgICAgICAgICBjYXNlICcoJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VFeHByZXNzaW9uU3RhdGVtZW50KG5vZGUpO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSBUb2tlbi5LZXl3b3JkKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKGxvb2thaGVhZC52YWx1ZSkge1xuICAgICAgICAgICAgY2FzZSAnYnJlYWsnOlxuICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZUJyZWFrU3RhdGVtZW50KG5vZGUpO1xuICAgICAgICAgICAgY2FzZSAnY29udGludWUnOlxuICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZUNvbnRpbnVlU3RhdGVtZW50KG5vZGUpO1xuICAgICAgICAgICAgY2FzZSAnZGVidWdnZXInOlxuICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZURlYnVnZ2VyU3RhdGVtZW50KG5vZGUpO1xuICAgICAgICAgICAgY2FzZSAnZG8nOlxuICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZURvV2hpbGVTdGF0ZW1lbnQobm9kZSk7XG4gICAgICAgICAgICBjYXNlICdmb3InOlxuICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZUZvclN0YXRlbWVudChub2RlKTtcbiAgICAgICAgICAgIGNhc2UgJ2Z1bmN0aW9uJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VGdW5jdGlvbkRlY2xhcmF0aW9uKG5vZGUpO1xuICAgICAgICAgICAgY2FzZSAnaWYnOlxuICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZUlmU3RhdGVtZW50KG5vZGUpO1xuICAgICAgICAgICAgY2FzZSAncmV0dXJuJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VSZXR1cm5TdGF0ZW1lbnQobm9kZSk7XG4gICAgICAgICAgICBjYXNlICdzd2l0Y2gnOlxuICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZVN3aXRjaFN0YXRlbWVudChub2RlKTtcbiAgICAgICAgICAgIGNhc2UgJ3Rocm93JzpcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VUaHJvd1N0YXRlbWVudChub2RlKTtcbiAgICAgICAgICAgIGNhc2UgJ3RyeSc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlVHJ5U3RhdGVtZW50KG5vZGUpO1xuICAgICAgICAgICAgY2FzZSAndmFyJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VWYXJpYWJsZVN0YXRlbWVudChub2RlKTtcbiAgICAgICAgICAgIGNhc2UgJ3doaWxlJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VXaGlsZVN0YXRlbWVudChub2RlKTtcbiAgICAgICAgICAgIGNhc2UgJ3dpdGgnOlxuICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZVdpdGhTdGF0ZW1lbnQobm9kZSk7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZXhwciA9IHBhcnNlRXhwcmVzc2lvbigpO1xuXG4gICAgICAgIC8vIEVDTUEtMjYyIDEyLjEyIExhYmVsbGVkIFN0YXRlbWVudHNcbiAgICAgICAgaWYgKChleHByLnR5cGUgPT09IFN5bnRheC5JZGVudGlmaWVyKSAmJiBtYXRjaCgnOicpKSB7XG4gICAgICAgICAgICBsZXgoKTtcblxuICAgICAgICAgICAga2V5ID0gJyQnICsgZXhwci5uYW1lO1xuICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzdGF0ZS5sYWJlbFNldCwga2V5KSkge1xuICAgICAgICAgICAgICAgIHRocm93RXJyb3IoTWVzc2FnZXMuUmVkZWNsYXJhdGlvbiwgJ0xhYmVsJywgZXhwci5uYW1lKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc3RhdGUubGFiZWxTZXRba2V5XSA9IHRydWU7XG4gICAgICAgICAgICBsYWJlbGVkQm9keSA9IHBhcnNlU3RhdGVtZW50KCk7XG4gICAgICAgICAgICBkZWxldGUgc3RhdGUubGFiZWxTZXRba2V5XTtcbiAgICAgICAgICAgIHJldHVybiBub2RlLmZpbmlzaExhYmVsZWRTdGF0ZW1lbnQoZXhwciwgbGFiZWxlZEJvZHkpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3VtZVNlbWljb2xvbigpO1xuXG4gICAgICAgIHJldHVybiBub2RlLmZpbmlzaEV4cHJlc3Npb25TdGF0ZW1lbnQoZXhwcik7XG4gICAgfVxuXG4gICAgLy8gRUNNQS0yNjIgMTQuMSBGdW5jdGlvbiBEZWZpbml0aW9uXG5cbiAgICBmdW5jdGlvbiBwYXJzZUZ1bmN0aW9uU291cmNlRWxlbWVudHMoKSB7XG4gICAgICAgIHZhciBzdGF0ZW1lbnQsIGJvZHkgPSBbXSwgdG9rZW4sIGRpcmVjdGl2ZSwgZmlyc3RSZXN0cmljdGVkLFxuICAgICAgICAgICAgb2xkTGFiZWxTZXQsIG9sZEluSXRlcmF0aW9uLCBvbGRJblN3aXRjaCwgb2xkSW5GdW5jdGlvbkJvZHksXG4gICAgICAgICAgICBub2RlID0gbmV3IE5vZGUoKTtcblxuICAgICAgICBleHBlY3QoJ3snKTtcblxuICAgICAgICB3aGlsZSAoc3RhcnRJbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKGxvb2thaGVhZC50eXBlICE9PSBUb2tlbi5TdHJpbmdMaXRlcmFsKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0b2tlbiA9IGxvb2thaGVhZDtcblxuICAgICAgICAgICAgc3RhdGVtZW50ID0gcGFyc2VTdGF0ZW1lbnRMaXN0SXRlbSgpO1xuICAgICAgICAgICAgYm9keS5wdXNoKHN0YXRlbWVudCk7XG4gICAgICAgICAgICBpZiAoc3RhdGVtZW50LmV4cHJlc3Npb24udHlwZSAhPT0gU3ludGF4LkxpdGVyYWwpIHtcbiAgICAgICAgICAgICAgICAvLyB0aGlzIGlzIG5vdCBkaXJlY3RpdmVcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRpcmVjdGl2ZSA9IHNvdXJjZS5zbGljZSh0b2tlbi5zdGFydCArIDEsIHRva2VuLmVuZCAtIDEpO1xuICAgICAgICAgICAgaWYgKGRpcmVjdGl2ZSA9PT0gJ3VzZSBzdHJpY3QnKSB7XG4gICAgICAgICAgICAgICAgc3RyaWN0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBpZiAoZmlyc3RSZXN0cmljdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRvbGVyYXRlVW5leHBlY3RlZFRva2VuKGZpcnN0UmVzdHJpY3RlZCwgTWVzc2FnZXMuU3RyaWN0T2N0YWxMaXRlcmFsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICghZmlyc3RSZXN0cmljdGVkICYmIHRva2VuLm9jdGFsKSB7XG4gICAgICAgICAgICAgICAgICAgIGZpcnN0UmVzdHJpY3RlZCA9IHRva2VuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIG9sZExhYmVsU2V0ID0gc3RhdGUubGFiZWxTZXQ7XG4gICAgICAgIG9sZEluSXRlcmF0aW9uID0gc3RhdGUuaW5JdGVyYXRpb247XG4gICAgICAgIG9sZEluU3dpdGNoID0gc3RhdGUuaW5Td2l0Y2g7XG4gICAgICAgIG9sZEluRnVuY3Rpb25Cb2R5ID0gc3RhdGUuaW5GdW5jdGlvbkJvZHk7XG5cbiAgICAgICAgc3RhdGUubGFiZWxTZXQgPSB7fTtcbiAgICAgICAgc3RhdGUuaW5JdGVyYXRpb24gPSBmYWxzZTtcbiAgICAgICAgc3RhdGUuaW5Td2l0Y2ggPSBmYWxzZTtcbiAgICAgICAgc3RhdGUuaW5GdW5jdGlvbkJvZHkgPSB0cnVlO1xuXG4gICAgICAgIHdoaWxlIChzdGFydEluZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgICBpZiAobWF0Y2goJ30nKSkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYm9keS5wdXNoKHBhcnNlU3RhdGVtZW50TGlzdEl0ZW0oKSk7XG4gICAgICAgIH1cblxuICAgICAgICBleHBlY3QoJ30nKTtcblxuICAgICAgICBzdGF0ZS5sYWJlbFNldCA9IG9sZExhYmVsU2V0O1xuICAgICAgICBzdGF0ZS5pbkl0ZXJhdGlvbiA9IG9sZEluSXRlcmF0aW9uO1xuICAgICAgICBzdGF0ZS5pblN3aXRjaCA9IG9sZEluU3dpdGNoO1xuICAgICAgICBzdGF0ZS5pbkZ1bmN0aW9uQm9keSA9IG9sZEluRnVuY3Rpb25Cb2R5O1xuXG4gICAgICAgIHJldHVybiBub2RlLmZpbmlzaEJsb2NrU3RhdGVtZW50KGJvZHkpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHZhbGlkYXRlUGFyYW0ob3B0aW9ucywgcGFyYW0sIG5hbWUpIHtcbiAgICAgICAgdmFyIGtleSA9ICckJyArIG5hbWU7XG4gICAgICAgIGlmIChzdHJpY3QpIHtcbiAgICAgICAgICAgIGlmIChpc1Jlc3RyaWN0ZWRXb3JkKG5hbWUpKSB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5zdHJpY3RlZCA9IHBhcmFtO1xuICAgICAgICAgICAgICAgIG9wdGlvbnMubWVzc2FnZSA9IE1lc3NhZ2VzLlN0cmljdFBhcmFtTmFtZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob3B0aW9ucy5wYXJhbVNldCwga2V5KSkge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMuc3RyaWN0ZWQgPSBwYXJhbTtcbiAgICAgICAgICAgICAgICBvcHRpb25zLm1lc3NhZ2UgPSBNZXNzYWdlcy5TdHJpY3RQYXJhbUR1cGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoIW9wdGlvbnMuZmlyc3RSZXN0cmljdGVkKSB7XG4gICAgICAgICAgICBpZiAoaXNSZXN0cmljdGVkV29yZChuYW1lKSkge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMuZmlyc3RSZXN0cmljdGVkID0gcGFyYW07XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5tZXNzYWdlID0gTWVzc2FnZXMuU3RyaWN0UGFyYW1OYW1lO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpc1N0cmljdE1vZGVSZXNlcnZlZFdvcmQobmFtZSkpIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zLmZpcnN0UmVzdHJpY3RlZCA9IHBhcmFtO1xuICAgICAgICAgICAgICAgIG9wdGlvbnMubWVzc2FnZSA9IE1lc3NhZ2VzLlN0cmljdFJlc2VydmVkV29yZDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9wdGlvbnMucGFyYW1TZXQsIGtleSkpIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zLnN0cmljdGVkID0gcGFyYW07XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5tZXNzYWdlID0gTWVzc2FnZXMuU3RyaWN0UGFyYW1EdXBlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIG9wdGlvbnMucGFyYW1TZXRba2V5XSA9IHRydWU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcGFyc2VQYXJhbShvcHRpb25zKSB7XG4gICAgICAgIHZhciB0b2tlbiwgcGFyYW0sIHBhcmFtcyA9IFtdLCBpLCBkZWY7XG5cbiAgICAgICAgdG9rZW4gPSBsb29rYWhlYWQ7XG4gICAgICAgIGlmICh0b2tlbi52YWx1ZSA9PT0gJy4uLicpIHtcbiAgICAgICAgICAgIHBhcmFtID0gcGFyc2VSZXN0RWxlbWVudChwYXJhbXMpO1xuICAgICAgICAgICAgdmFsaWRhdGVQYXJhbShvcHRpb25zLCBwYXJhbS5hcmd1bWVudCwgcGFyYW0uYXJndW1lbnQubmFtZSk7XG4gICAgICAgICAgICBvcHRpb25zLnBhcmFtcy5wdXNoKHBhcmFtKTtcbiAgICAgICAgICAgIG9wdGlvbnMuZGVmYXVsdHMucHVzaChudWxsKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHBhcmFtID0gcGFyc2VQYXR0ZXJuV2l0aERlZmF1bHQocGFyYW1zKTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHBhcmFtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFsaWRhdGVQYXJhbShvcHRpb25zLCBwYXJhbXNbaV0sIHBhcmFtc1tpXS52YWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGFyYW0udHlwZSA9PT0gU3ludGF4LkFzc2lnbm1lbnRQYXR0ZXJuKSB7XG4gICAgICAgICAgICBkZWYgPSBwYXJhbS5yaWdodDtcbiAgICAgICAgICAgIHBhcmFtID0gcGFyYW0ubGVmdDtcbiAgICAgICAgICAgICsrb3B0aW9ucy5kZWZhdWx0Q291bnQ7XG4gICAgICAgIH1cblxuICAgICAgICBvcHRpb25zLnBhcmFtcy5wdXNoKHBhcmFtKTtcbiAgICAgICAgb3B0aW9ucy5kZWZhdWx0cy5wdXNoKGRlZik7XG5cbiAgICAgICAgcmV0dXJuICFtYXRjaCgnKScpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBhcnNlUGFyYW1zKGZpcnN0UmVzdHJpY3RlZCkge1xuICAgICAgICB2YXIgb3B0aW9ucztcblxuICAgICAgICBvcHRpb25zID0ge1xuICAgICAgICAgICAgcGFyYW1zOiBbXSxcbiAgICAgICAgICAgIGRlZmF1bHRDb3VudDogMCxcbiAgICAgICAgICAgIGRlZmF1bHRzOiBbXSxcbiAgICAgICAgICAgIGZpcnN0UmVzdHJpY3RlZDogZmlyc3RSZXN0cmljdGVkXG4gICAgICAgIH07XG5cbiAgICAgICAgZXhwZWN0KCcoJyk7XG5cbiAgICAgICAgaWYgKCFtYXRjaCgnKScpKSB7XG4gICAgICAgICAgICBvcHRpb25zLnBhcmFtU2V0ID0ge307XG4gICAgICAgICAgICB3aGlsZSAoc3RhcnRJbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGlmICghcGFyc2VQYXJhbShvcHRpb25zKSkge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZXhwZWN0KCcsJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBleHBlY3QoJyknKTtcblxuICAgICAgICBpZiAob3B0aW9ucy5kZWZhdWx0Q291bnQgPT09IDApIHtcbiAgICAgICAgICAgIG9wdGlvbnMuZGVmYXVsdHMgPSBbXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBwYXJhbXM6IG9wdGlvbnMucGFyYW1zLFxuICAgICAgICAgICAgZGVmYXVsdHM6IG9wdGlvbnMuZGVmYXVsdHMsXG4gICAgICAgICAgICBzdHJpY3RlZDogb3B0aW9ucy5zdHJpY3RlZCxcbiAgICAgICAgICAgIGZpcnN0UmVzdHJpY3RlZDogb3B0aW9ucy5maXJzdFJlc3RyaWN0ZWQsXG4gICAgICAgICAgICBtZXNzYWdlOiBvcHRpb25zLm1lc3NhZ2VcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwYXJzZUZ1bmN0aW9uRGVjbGFyYXRpb24obm9kZSwgaWRlbnRpZmllcklzT3B0aW9uYWwpIHtcbiAgICAgICAgdmFyIGlkID0gbnVsbCwgcGFyYW1zID0gW10sIGRlZmF1bHRzID0gW10sIGJvZHksIHRva2VuLCBzdHJpY3RlZCwgdG1wLCBmaXJzdFJlc3RyaWN0ZWQsIG1lc3NhZ2UsIHByZXZpb3VzU3RyaWN0LFxuICAgICAgICAgICAgaXNHZW5lcmF0b3IsIHByZXZpb3VzQWxsb3dZaWVsZDtcblxuICAgICAgICBwcmV2aW91c0FsbG93WWllbGQgPSBzdGF0ZS5hbGxvd1lpZWxkO1xuXG4gICAgICAgIGV4cGVjdEtleXdvcmQoJ2Z1bmN0aW9uJyk7XG5cbiAgICAgICAgaXNHZW5lcmF0b3IgPSBtYXRjaCgnKicpO1xuICAgICAgICBpZiAoaXNHZW5lcmF0b3IpIHtcbiAgICAgICAgICAgIGxleCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFpZGVudGlmaWVySXNPcHRpb25hbCB8fCAhbWF0Y2goJygnKSkge1xuICAgICAgICAgICAgdG9rZW4gPSBsb29rYWhlYWQ7XG4gICAgICAgICAgICBpZCA9IHBhcnNlVmFyaWFibGVJZGVudGlmaWVyKCk7XG4gICAgICAgICAgICBpZiAoc3RyaWN0KSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzUmVzdHJpY3RlZFdvcmQodG9rZW4udmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRvbGVyYXRlVW5leHBlY3RlZFRva2VuKHRva2VuLCBNZXNzYWdlcy5TdHJpY3RGdW5jdGlvbk5hbWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzUmVzdHJpY3RlZFdvcmQodG9rZW4udmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGZpcnN0UmVzdHJpY3RlZCA9IHRva2VuO1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gTWVzc2FnZXMuU3RyaWN0RnVuY3Rpb25OYW1lO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNTdHJpY3RNb2RlUmVzZXJ2ZWRXb3JkKHRva2VuLnZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICBmaXJzdFJlc3RyaWN0ZWQgPSB0b2tlbjtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IE1lc3NhZ2VzLlN0cmljdFJlc2VydmVkV29yZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBzdGF0ZS5hbGxvd1lpZWxkID0gIWlzR2VuZXJhdG9yO1xuICAgICAgICB0bXAgPSBwYXJzZVBhcmFtcyhmaXJzdFJlc3RyaWN0ZWQpO1xuICAgICAgICBwYXJhbXMgPSB0bXAucGFyYW1zO1xuICAgICAgICBkZWZhdWx0cyA9IHRtcC5kZWZhdWx0cztcbiAgICAgICAgc3RyaWN0ZWQgPSB0bXAuc3RyaWN0ZWQ7XG4gICAgICAgIGZpcnN0UmVzdHJpY3RlZCA9IHRtcC5maXJzdFJlc3RyaWN0ZWQ7XG4gICAgICAgIGlmICh0bXAubWVzc2FnZSkge1xuICAgICAgICAgICAgbWVzc2FnZSA9IHRtcC5tZXNzYWdlO1xuICAgICAgICB9XG5cblxuICAgICAgICBwcmV2aW91c1N0cmljdCA9IHN0cmljdDtcbiAgICAgICAgYm9keSA9IHBhcnNlRnVuY3Rpb25Tb3VyY2VFbGVtZW50cygpO1xuICAgICAgICBpZiAoc3RyaWN0ICYmIGZpcnN0UmVzdHJpY3RlZCkge1xuICAgICAgICAgICAgdGhyb3dVbmV4cGVjdGVkVG9rZW4oZmlyc3RSZXN0cmljdGVkLCBtZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RyaWN0ICYmIHN0cmljdGVkKSB7XG4gICAgICAgICAgICB0b2xlcmF0ZVVuZXhwZWN0ZWRUb2tlbihzdHJpY3RlZCwgbWVzc2FnZSk7XG4gICAgICAgIH1cblxuICAgICAgICBzdHJpY3QgPSBwcmV2aW91c1N0cmljdDtcbiAgICAgICAgc3RhdGUuYWxsb3dZaWVsZCA9IHByZXZpb3VzQWxsb3dZaWVsZDtcblxuICAgICAgICByZXR1cm4gbm9kZS5maW5pc2hGdW5jdGlvbkRlY2xhcmF0aW9uKGlkLCBwYXJhbXMsIGRlZmF1bHRzLCBib2R5LCBpc0dlbmVyYXRvcik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcGFyc2VGdW5jdGlvbkV4cHJlc3Npb24oKSB7XG4gICAgICAgIHZhciB0b2tlbiwgaWQgPSBudWxsLCBzdHJpY3RlZCwgZmlyc3RSZXN0cmljdGVkLCBtZXNzYWdlLCB0bXAsXG4gICAgICAgICAgICBwYXJhbXMgPSBbXSwgZGVmYXVsdHMgPSBbXSwgYm9keSwgcHJldmlvdXNTdHJpY3QsIG5vZGUgPSBuZXcgTm9kZSgpLFxuICAgICAgICAgICAgaXNHZW5lcmF0b3IsIHByZXZpb3VzQWxsb3dZaWVsZDtcblxuICAgICAgICBwcmV2aW91c0FsbG93WWllbGQgPSBzdGF0ZS5hbGxvd1lpZWxkO1xuXG4gICAgICAgIGV4cGVjdEtleXdvcmQoJ2Z1bmN0aW9uJyk7XG5cbiAgICAgICAgaXNHZW5lcmF0b3IgPSBtYXRjaCgnKicpO1xuICAgICAgICBpZiAoaXNHZW5lcmF0b3IpIHtcbiAgICAgICAgICAgIGxleCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgc3RhdGUuYWxsb3dZaWVsZCA9ICFpc0dlbmVyYXRvcjtcbiAgICAgICAgaWYgKCFtYXRjaCgnKCcpKSB7XG4gICAgICAgICAgICB0b2tlbiA9IGxvb2thaGVhZDtcbiAgICAgICAgICAgIGlkID0gKCFzdHJpY3QgJiYgIWlzR2VuZXJhdG9yICYmIG1hdGNoS2V5d29yZCgneWllbGQnKSkgPyBwYXJzZU5vbkNvbXB1dGVkUHJvcGVydHkoKSA6IHBhcnNlVmFyaWFibGVJZGVudGlmaWVyKCk7XG4gICAgICAgICAgICBpZiAoc3RyaWN0KSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzUmVzdHJpY3RlZFdvcmQodG9rZW4udmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRvbGVyYXRlVW5leHBlY3RlZFRva2VuKHRva2VuLCBNZXNzYWdlcy5TdHJpY3RGdW5jdGlvbk5hbWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzUmVzdHJpY3RlZFdvcmQodG9rZW4udmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGZpcnN0UmVzdHJpY3RlZCA9IHRva2VuO1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gTWVzc2FnZXMuU3RyaWN0RnVuY3Rpb25OYW1lO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNTdHJpY3RNb2RlUmVzZXJ2ZWRXb3JkKHRva2VuLnZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICBmaXJzdFJlc3RyaWN0ZWQgPSB0b2tlbjtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IE1lc3NhZ2VzLlN0cmljdFJlc2VydmVkV29yZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0bXAgPSBwYXJzZVBhcmFtcyhmaXJzdFJlc3RyaWN0ZWQpO1xuICAgICAgICBwYXJhbXMgPSB0bXAucGFyYW1zO1xuICAgICAgICBkZWZhdWx0cyA9IHRtcC5kZWZhdWx0cztcbiAgICAgICAgc3RyaWN0ZWQgPSB0bXAuc3RyaWN0ZWQ7XG4gICAgICAgIGZpcnN0UmVzdHJpY3RlZCA9IHRtcC5maXJzdFJlc3RyaWN0ZWQ7XG4gICAgICAgIGlmICh0bXAubWVzc2FnZSkge1xuICAgICAgICAgICAgbWVzc2FnZSA9IHRtcC5tZXNzYWdlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJldmlvdXNTdHJpY3QgPSBzdHJpY3Q7XG4gICAgICAgIGJvZHkgPSBwYXJzZUZ1bmN0aW9uU291cmNlRWxlbWVudHMoKTtcbiAgICAgICAgaWYgKHN0cmljdCAmJiBmaXJzdFJlc3RyaWN0ZWQpIHtcbiAgICAgICAgICAgIHRocm93VW5leHBlY3RlZFRva2VuKGZpcnN0UmVzdHJpY3RlZCwgbWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0cmljdCAmJiBzdHJpY3RlZCkge1xuICAgICAgICAgICAgdG9sZXJhdGVVbmV4cGVjdGVkVG9rZW4oc3RyaWN0ZWQsIG1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIHN0cmljdCA9IHByZXZpb3VzU3RyaWN0O1xuICAgICAgICBzdGF0ZS5hbGxvd1lpZWxkID0gcHJldmlvdXNBbGxvd1lpZWxkO1xuXG4gICAgICAgIHJldHVybiBub2RlLmZpbmlzaEZ1bmN0aW9uRXhwcmVzc2lvbihpZCwgcGFyYW1zLCBkZWZhdWx0cywgYm9keSwgaXNHZW5lcmF0b3IpO1xuICAgIH1cblxuICAgIC8vIEVDTUEtMjYyIDE0LjUgQ2xhc3MgRGVmaW5pdGlvbnNcblxuICAgIGZ1bmN0aW9uIHBhcnNlQ2xhc3NCb2R5KCkge1xuICAgICAgICB2YXIgY2xhc3NCb2R5LCB0b2tlbiwgaXNTdGF0aWMsIGhhc0NvbnN0cnVjdG9yID0gZmFsc2UsIGJvZHksIG1ldGhvZCwgY29tcHV0ZWQsIGtleTtcblxuICAgICAgICBjbGFzc0JvZHkgPSBuZXcgTm9kZSgpO1xuXG4gICAgICAgIGV4cGVjdCgneycpO1xuICAgICAgICBib2R5ID0gW107XG4gICAgICAgIHdoaWxlICghbWF0Y2goJ30nKSkge1xuICAgICAgICAgICAgaWYgKG1hdGNoKCc7JykpIHtcbiAgICAgICAgICAgICAgICBsZXgoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbWV0aG9kID0gbmV3IE5vZGUoKTtcbiAgICAgICAgICAgICAgICB0b2tlbiA9IGxvb2thaGVhZDtcbiAgICAgICAgICAgICAgICBpc1N0YXRpYyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGNvbXB1dGVkID0gbWF0Y2goJ1snKTtcbiAgICAgICAgICAgICAgICBpZiAobWF0Y2goJyonKSkge1xuICAgICAgICAgICAgICAgICAgICBsZXgoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBrZXkgPSBwYXJzZU9iamVjdFByb3BlcnR5S2V5KCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChrZXkubmFtZSA9PT0gJ3N0YXRpYycgJiYgKGxvb2thaGVhZFByb3BlcnR5TmFtZSgpIHx8IG1hdGNoKCcqJykpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b2tlbiA9IGxvb2thaGVhZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzU3RhdGljID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXB1dGVkID0gbWF0Y2goJ1snKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaCgnKicpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV4KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IHBhcnNlT2JqZWN0UHJvcGVydHlLZXkoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBtZXRob2QgPSB0cnlQYXJzZU1ldGhvZERlZmluaXRpb24odG9rZW4sIGtleSwgY29tcHV0ZWQsIG1ldGhvZCk7XG4gICAgICAgICAgICAgICAgaWYgKG1ldGhvZCkge1xuICAgICAgICAgICAgICAgICAgICBtZXRob2RbJ3N0YXRpYyddID0gaXNTdGF0aWM7IC8vIGpzY3M6aWdub3JlIHJlcXVpcmVEb3ROb3RhdGlvblxuICAgICAgICAgICAgICAgICAgICBpZiAobWV0aG9kLmtpbmQgPT09ICdpbml0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kLmtpbmQgPSAnbWV0aG9kJztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoIWlzU3RhdGljKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW1ldGhvZC5jb21wdXRlZCAmJiAobWV0aG9kLmtleS5uYW1lIHx8IG1ldGhvZC5rZXkudmFsdWUudG9TdHJpbmcoKSkgPT09ICdjb25zdHJ1Y3RvcicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWV0aG9kLmtpbmQgIT09ICdtZXRob2QnIHx8ICFtZXRob2QubWV0aG9kIHx8IG1ldGhvZC52YWx1ZS5nZW5lcmF0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3dVbmV4cGVjdGVkVG9rZW4odG9rZW4sIE1lc3NhZ2VzLkNvbnN0cnVjdG9yU3BlY2lhbE1ldGhvZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoYXNDb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvd1VuZXhwZWN0ZWRUb2tlbih0b2tlbiwgTWVzc2FnZXMuRHVwbGljYXRlQ29uc3RydWN0b3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc0NvbnN0cnVjdG9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kLmtpbmQgPSAnY29uc3RydWN0b3InO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFtZXRob2QuY29tcHV0ZWQgJiYgKG1ldGhvZC5rZXkubmFtZSB8fCBtZXRob2Qua2V5LnZhbHVlLnRvU3RyaW5nKCkpID09PSAncHJvdG90eXBlJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93VW5leHBlY3RlZFRva2VuKHRva2VuLCBNZXNzYWdlcy5TdGF0aWNQcm90b3R5cGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZC50eXBlID0gU3ludGF4Lk1ldGhvZERlZmluaXRpb247XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBtZXRob2QubWV0aG9kO1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgbWV0aG9kLnNob3J0aGFuZDtcbiAgICAgICAgICAgICAgICAgICAgYm9keS5wdXNoKG1ldGhvZCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3dVbmV4cGVjdGVkVG9rZW4obG9va2FoZWFkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV4KCk7XG4gICAgICAgIHJldHVybiBjbGFzc0JvZHkuZmluaXNoQ2xhc3NCb2R5KGJvZHkpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBhcnNlQ2xhc3NEZWNsYXJhdGlvbihpZGVudGlmaWVySXNPcHRpb25hbCkge1xuICAgICAgICB2YXIgaWQgPSBudWxsLCBzdXBlckNsYXNzID0gbnVsbCwgY2xhc3NOb2RlID0gbmV3IE5vZGUoKSwgY2xhc3NCb2R5LCBwcmV2aW91c1N0cmljdCA9IHN0cmljdDtcbiAgICAgICAgc3RyaWN0ID0gdHJ1ZTtcblxuICAgICAgICBleHBlY3RLZXl3b3JkKCdjbGFzcycpO1xuXG4gICAgICAgIGlmICghaWRlbnRpZmllcklzT3B0aW9uYWwgfHwgbG9va2FoZWFkLnR5cGUgPT09IFRva2VuLklkZW50aWZpZXIpIHtcbiAgICAgICAgICAgIGlkID0gcGFyc2VWYXJpYWJsZUlkZW50aWZpZXIoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChtYXRjaEtleXdvcmQoJ2V4dGVuZHMnKSkge1xuICAgICAgICAgICAgbGV4KCk7XG4gICAgICAgICAgICBzdXBlckNsYXNzID0gaXNvbGF0ZUNvdmVyR3JhbW1hcihwYXJzZUxlZnRIYW5kU2lkZUV4cHJlc3Npb25BbGxvd0NhbGwpO1xuICAgICAgICB9XG4gICAgICAgIGNsYXNzQm9keSA9IHBhcnNlQ2xhc3NCb2R5KCk7XG4gICAgICAgIHN0cmljdCA9IHByZXZpb3VzU3RyaWN0O1xuXG4gICAgICAgIHJldHVybiBjbGFzc05vZGUuZmluaXNoQ2xhc3NEZWNsYXJhdGlvbihpZCwgc3VwZXJDbGFzcywgY2xhc3NCb2R5KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwYXJzZUNsYXNzRXhwcmVzc2lvbigpIHtcbiAgICAgICAgdmFyIGlkID0gbnVsbCwgc3VwZXJDbGFzcyA9IG51bGwsIGNsYXNzTm9kZSA9IG5ldyBOb2RlKCksIGNsYXNzQm9keSwgcHJldmlvdXNTdHJpY3QgPSBzdHJpY3Q7XG4gICAgICAgIHN0cmljdCA9IHRydWU7XG5cbiAgICAgICAgZXhwZWN0S2V5d29yZCgnY2xhc3MnKTtcblxuICAgICAgICBpZiAobG9va2FoZWFkLnR5cGUgPT09IFRva2VuLklkZW50aWZpZXIpIHtcbiAgICAgICAgICAgIGlkID0gcGFyc2VWYXJpYWJsZUlkZW50aWZpZXIoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChtYXRjaEtleXdvcmQoJ2V4dGVuZHMnKSkge1xuICAgICAgICAgICAgbGV4KCk7XG4gICAgICAgICAgICBzdXBlckNsYXNzID0gaXNvbGF0ZUNvdmVyR3JhbW1hcihwYXJzZUxlZnRIYW5kU2lkZUV4cHJlc3Npb25BbGxvd0NhbGwpO1xuICAgICAgICB9XG4gICAgICAgIGNsYXNzQm9keSA9IHBhcnNlQ2xhc3NCb2R5KCk7XG4gICAgICAgIHN0cmljdCA9IHByZXZpb3VzU3RyaWN0O1xuXG4gICAgICAgIHJldHVybiBjbGFzc05vZGUuZmluaXNoQ2xhc3NFeHByZXNzaW9uKGlkLCBzdXBlckNsYXNzLCBjbGFzc0JvZHkpO1xuICAgIH1cblxuICAgIC8vIEVDTUEtMjYyIDE1LjIgTW9kdWxlc1xuXG4gICAgZnVuY3Rpb24gcGFyc2VNb2R1bGVTcGVjaWZpZXIoKSB7XG4gICAgICAgIHZhciBub2RlID0gbmV3IE5vZGUoKTtcblxuICAgICAgICBpZiAobG9va2FoZWFkLnR5cGUgIT09IFRva2VuLlN0cmluZ0xpdGVyYWwpIHtcbiAgICAgICAgICAgIHRocm93RXJyb3IoTWVzc2FnZXMuSW52YWxpZE1vZHVsZVNwZWNpZmllcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5vZGUuZmluaXNoTGl0ZXJhbChsZXgoKSk7XG4gICAgfVxuXG4gICAgLy8gRUNNQS0yNjIgMTUuMi4zIEV4cG9ydHNcblxuICAgIGZ1bmN0aW9uIHBhcnNlRXhwb3J0U3BlY2lmaWVyKCkge1xuICAgICAgICB2YXIgZXhwb3J0ZWQsIGxvY2FsLCBub2RlID0gbmV3IE5vZGUoKSwgZGVmO1xuICAgICAgICBpZiAobWF0Y2hLZXl3b3JkKCdkZWZhdWx0JykpIHtcbiAgICAgICAgICAgIC8vIGV4cG9ydCB7ZGVmYXVsdH0gZnJvbSAnc29tZXRoaW5nJztcbiAgICAgICAgICAgIGRlZiA9IG5ldyBOb2RlKCk7XG4gICAgICAgICAgICBsZXgoKTtcbiAgICAgICAgICAgIGxvY2FsID0gZGVmLmZpbmlzaElkZW50aWZpZXIoJ2RlZmF1bHQnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxvY2FsID0gcGFyc2VWYXJpYWJsZUlkZW50aWZpZXIoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWF0Y2hDb250ZXh0dWFsS2V5d29yZCgnYXMnKSkge1xuICAgICAgICAgICAgbGV4KCk7XG4gICAgICAgICAgICBleHBvcnRlZCA9IHBhcnNlTm9uQ29tcHV0ZWRQcm9wZXJ0eSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBub2RlLmZpbmlzaEV4cG9ydFNwZWNpZmllcihsb2NhbCwgZXhwb3J0ZWQpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBhcnNlRXhwb3J0TmFtZWREZWNsYXJhdGlvbihub2RlKSB7XG4gICAgICAgIHZhciBkZWNsYXJhdGlvbiA9IG51bGwsXG4gICAgICAgICAgICBpc0V4cG9ydEZyb21JZGVudGlmaWVyLFxuICAgICAgICAgICAgc3JjID0gbnVsbCwgc3BlY2lmaWVycyA9IFtdO1xuXG4gICAgICAgIC8vIG5vbi1kZWZhdWx0IGV4cG9ydFxuICAgICAgICBpZiAobG9va2FoZWFkLnR5cGUgPT09IFRva2VuLktleXdvcmQpIHtcbiAgICAgICAgICAgIC8vIGNvdmVyczpcbiAgICAgICAgICAgIC8vIGV4cG9ydCB2YXIgZiA9IDE7XG4gICAgICAgICAgICBzd2l0Y2ggKGxvb2thaGVhZC52YWx1ZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ2xldCc6XG4gICAgICAgICAgICAgICAgY2FzZSAnY29uc3QnOlxuICAgICAgICAgICAgICAgICAgICBkZWNsYXJhdGlvbiA9IHBhcnNlTGV4aWNhbERlY2xhcmF0aW9uKHtpbkZvcjogZmFsc2V9KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5vZGUuZmluaXNoRXhwb3J0TmFtZWREZWNsYXJhdGlvbihkZWNsYXJhdGlvbiwgc3BlY2lmaWVycywgbnVsbCk7XG4gICAgICAgICAgICAgICAgY2FzZSAndmFyJzpcbiAgICAgICAgICAgICAgICBjYXNlICdjbGFzcyc6XG4gICAgICAgICAgICAgICAgY2FzZSAnZnVuY3Rpb24nOlxuICAgICAgICAgICAgICAgICAgICBkZWNsYXJhdGlvbiA9IHBhcnNlU3RhdGVtZW50TGlzdEl0ZW0oKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5vZGUuZmluaXNoRXhwb3J0TmFtZWREZWNsYXJhdGlvbihkZWNsYXJhdGlvbiwgc3BlY2lmaWVycywgbnVsbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBleHBlY3QoJ3snKTtcbiAgICAgICAgd2hpbGUgKCFtYXRjaCgnfScpKSB7XG4gICAgICAgICAgICBpc0V4cG9ydEZyb21JZGVudGlmaWVyID0gaXNFeHBvcnRGcm9tSWRlbnRpZmllciB8fCBtYXRjaEtleXdvcmQoJ2RlZmF1bHQnKTtcbiAgICAgICAgICAgIHNwZWNpZmllcnMucHVzaChwYXJzZUV4cG9ydFNwZWNpZmllcigpKTtcbiAgICAgICAgICAgIGlmICghbWF0Y2goJ30nKSkge1xuICAgICAgICAgICAgICAgIGV4cGVjdCgnLCcpO1xuICAgICAgICAgICAgICAgIGlmIChtYXRjaCgnfScpKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBleHBlY3QoJ30nKTtcblxuICAgICAgICBpZiAobWF0Y2hDb250ZXh0dWFsS2V5d29yZCgnZnJvbScpKSB7XG4gICAgICAgICAgICAvLyBjb3ZlcmluZzpcbiAgICAgICAgICAgIC8vIGV4cG9ydCB7ZGVmYXVsdH0gZnJvbSAnZm9vJztcbiAgICAgICAgICAgIC8vIGV4cG9ydCB7Zm9vfSBmcm9tICdmb28nO1xuICAgICAgICAgICAgbGV4KCk7XG4gICAgICAgICAgICBzcmMgPSBwYXJzZU1vZHVsZVNwZWNpZmllcigpO1xuICAgICAgICAgICAgY29uc3VtZVNlbWljb2xvbigpO1xuICAgICAgICB9IGVsc2UgaWYgKGlzRXhwb3J0RnJvbUlkZW50aWZpZXIpIHtcbiAgICAgICAgICAgIC8vIGNvdmVyaW5nOlxuICAgICAgICAgICAgLy8gZXhwb3J0IHtkZWZhdWx0fTsgLy8gbWlzc2luZyBmcm9tQ2xhdXNlXG4gICAgICAgICAgICB0aHJvd0Vycm9yKGxvb2thaGVhZC52YWx1ZSA/XG4gICAgICAgICAgICAgICAgICAgIE1lc3NhZ2VzLlVuZXhwZWN0ZWRUb2tlbiA6IE1lc3NhZ2VzLk1pc3NpbmdGcm9tQ2xhdXNlLCBsb29rYWhlYWQudmFsdWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gY292ZXJcbiAgICAgICAgICAgIC8vIGV4cG9ydCB7Zm9vfTtcbiAgICAgICAgICAgIGNvbnN1bWVTZW1pY29sb24oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbm9kZS5maW5pc2hFeHBvcnROYW1lZERlY2xhcmF0aW9uKGRlY2xhcmF0aW9uLCBzcGVjaWZpZXJzLCBzcmMpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBhcnNlRXhwb3J0RGVmYXVsdERlY2xhcmF0aW9uKG5vZGUpIHtcbiAgICAgICAgdmFyIGRlY2xhcmF0aW9uID0gbnVsbCxcbiAgICAgICAgICAgIGV4cHJlc3Npb24gPSBudWxsO1xuXG4gICAgICAgIC8vIGNvdmVyczpcbiAgICAgICAgLy8gZXhwb3J0IGRlZmF1bHQgLi4uXG4gICAgICAgIGV4cGVjdEtleXdvcmQoJ2RlZmF1bHQnKTtcblxuICAgICAgICBpZiAobWF0Y2hLZXl3b3JkKCdmdW5jdGlvbicpKSB7XG4gICAgICAgICAgICAvLyBjb3ZlcnM6XG4gICAgICAgICAgICAvLyBleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBmb28gKCkge31cbiAgICAgICAgICAgIC8vIGV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICgpIHt9XG4gICAgICAgICAgICBkZWNsYXJhdGlvbiA9IHBhcnNlRnVuY3Rpb25EZWNsYXJhdGlvbihuZXcgTm9kZSgpLCB0cnVlKTtcbiAgICAgICAgICAgIHJldHVybiBub2RlLmZpbmlzaEV4cG9ydERlZmF1bHREZWNsYXJhdGlvbihkZWNsYXJhdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1hdGNoS2V5d29yZCgnY2xhc3MnKSkge1xuICAgICAgICAgICAgZGVjbGFyYXRpb24gPSBwYXJzZUNsYXNzRGVjbGFyYXRpb24odHJ1ZSk7XG4gICAgICAgICAgICByZXR1cm4gbm9kZS5maW5pc2hFeHBvcnREZWZhdWx0RGVjbGFyYXRpb24oZGVjbGFyYXRpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG1hdGNoQ29udGV4dHVhbEtleXdvcmQoJ2Zyb20nKSkge1xuICAgICAgICAgICAgdGhyb3dFcnJvcihNZXNzYWdlcy5VbmV4cGVjdGVkVG9rZW4sIGxvb2thaGVhZC52YWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjb3ZlcnM6XG4gICAgICAgIC8vIGV4cG9ydCBkZWZhdWx0IHt9O1xuICAgICAgICAvLyBleHBvcnQgZGVmYXVsdCBbXTtcbiAgICAgICAgLy8gZXhwb3J0IGRlZmF1bHQgKDEgKyAyKTtcbiAgICAgICAgaWYgKG1hdGNoKCd7JykpIHtcbiAgICAgICAgICAgIGV4cHJlc3Npb24gPSBwYXJzZU9iamVjdEluaXRpYWxpemVyKCk7XG4gICAgICAgIH0gZWxzZSBpZiAobWF0Y2goJ1snKSkge1xuICAgICAgICAgICAgZXhwcmVzc2lvbiA9IHBhcnNlQXJyYXlJbml0aWFsaXplcigpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZXhwcmVzc2lvbiA9IHBhcnNlQXNzaWdubWVudEV4cHJlc3Npb24oKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdW1lU2VtaWNvbG9uKCk7XG4gICAgICAgIHJldHVybiBub2RlLmZpbmlzaEV4cG9ydERlZmF1bHREZWNsYXJhdGlvbihleHByZXNzaW9uKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwYXJzZUV4cG9ydEFsbERlY2xhcmF0aW9uKG5vZGUpIHtcbiAgICAgICAgdmFyIHNyYztcblxuICAgICAgICAvLyBjb3ZlcnM6XG4gICAgICAgIC8vIGV4cG9ydCAqIGZyb20gJ2Zvbyc7XG4gICAgICAgIGV4cGVjdCgnKicpO1xuICAgICAgICBpZiAoIW1hdGNoQ29udGV4dHVhbEtleXdvcmQoJ2Zyb20nKSkge1xuICAgICAgICAgICAgdGhyb3dFcnJvcihsb29rYWhlYWQudmFsdWUgP1xuICAgICAgICAgICAgICAgICAgICBNZXNzYWdlcy5VbmV4cGVjdGVkVG9rZW4gOiBNZXNzYWdlcy5NaXNzaW5nRnJvbUNsYXVzZSwgbG9va2FoZWFkLnZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBsZXgoKTtcbiAgICAgICAgc3JjID0gcGFyc2VNb2R1bGVTcGVjaWZpZXIoKTtcbiAgICAgICAgY29uc3VtZVNlbWljb2xvbigpO1xuXG4gICAgICAgIHJldHVybiBub2RlLmZpbmlzaEV4cG9ydEFsbERlY2xhcmF0aW9uKHNyYyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcGFyc2VFeHBvcnREZWNsYXJhdGlvbigpIHtcbiAgICAgICAgdmFyIG5vZGUgPSBuZXcgTm9kZSgpO1xuICAgICAgICBpZiAoc3RhdGUuaW5GdW5jdGlvbkJvZHkpIHtcbiAgICAgICAgICAgIHRocm93RXJyb3IoTWVzc2FnZXMuSWxsZWdhbEV4cG9ydERlY2xhcmF0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGV4cGVjdEtleXdvcmQoJ2V4cG9ydCcpO1xuXG4gICAgICAgIGlmIChtYXRjaEtleXdvcmQoJ2RlZmF1bHQnKSkge1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlRXhwb3J0RGVmYXVsdERlY2xhcmF0aW9uKG5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtYXRjaCgnKicpKSB7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VFeHBvcnRBbGxEZWNsYXJhdGlvbihub2RlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGFyc2VFeHBvcnROYW1lZERlY2xhcmF0aW9uKG5vZGUpO1xuICAgIH1cblxuICAgIC8vIEVDTUEtMjYyIDE1LjIuMiBJbXBvcnRzXG5cbiAgICBmdW5jdGlvbiBwYXJzZUltcG9ydFNwZWNpZmllcigpIHtcbiAgICAgICAgLy8gaW1wb3J0IHs8Zm9vIGFzIGJhcj59IC4uLjtcbiAgICAgICAgdmFyIGxvY2FsLCBpbXBvcnRlZCwgbm9kZSA9IG5ldyBOb2RlKCk7XG5cbiAgICAgICAgaW1wb3J0ZWQgPSBwYXJzZU5vbkNvbXB1dGVkUHJvcGVydHkoKTtcbiAgICAgICAgaWYgKG1hdGNoQ29udGV4dHVhbEtleXdvcmQoJ2FzJykpIHtcbiAgICAgICAgICAgIGxleCgpO1xuICAgICAgICAgICAgbG9jYWwgPSBwYXJzZVZhcmlhYmxlSWRlbnRpZmllcigpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5vZGUuZmluaXNoSW1wb3J0U3BlY2lmaWVyKGxvY2FsLCBpbXBvcnRlZCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcGFyc2VOYW1lZEltcG9ydHMoKSB7XG4gICAgICAgIHZhciBzcGVjaWZpZXJzID0gW107XG4gICAgICAgIC8vIHtmb28sIGJhciBhcyBiYXN9XG4gICAgICAgIGV4cGVjdCgneycpO1xuICAgICAgICB3aGlsZSAoIW1hdGNoKCd9JykpIHtcbiAgICAgICAgICAgIHNwZWNpZmllcnMucHVzaChwYXJzZUltcG9ydFNwZWNpZmllcigpKTtcbiAgICAgICAgICAgIGlmICghbWF0Y2goJ30nKSkge1xuICAgICAgICAgICAgICAgIGV4cGVjdCgnLCcpO1xuICAgICAgICAgICAgICAgIGlmIChtYXRjaCgnfScpKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBleHBlY3QoJ30nKTtcbiAgICAgICAgcmV0dXJuIHNwZWNpZmllcnM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcGFyc2VJbXBvcnREZWZhdWx0U3BlY2lmaWVyKCkge1xuICAgICAgICAvLyBpbXBvcnQgPGZvbz4gLi4uO1xuICAgICAgICB2YXIgbG9jYWwsIG5vZGUgPSBuZXcgTm9kZSgpO1xuXG4gICAgICAgIGxvY2FsID0gcGFyc2VOb25Db21wdXRlZFByb3BlcnR5KCk7XG5cbiAgICAgICAgcmV0dXJuIG5vZGUuZmluaXNoSW1wb3J0RGVmYXVsdFNwZWNpZmllcihsb2NhbCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcGFyc2VJbXBvcnROYW1lc3BhY2VTcGVjaWZpZXIoKSB7XG4gICAgICAgIC8vIGltcG9ydCA8KiBhcyBmb28+IC4uLjtcbiAgICAgICAgdmFyIGxvY2FsLCBub2RlID0gbmV3IE5vZGUoKTtcblxuICAgICAgICBleHBlY3QoJyonKTtcbiAgICAgICAgaWYgKCFtYXRjaENvbnRleHR1YWxLZXl3b3JkKCdhcycpKSB7XG4gICAgICAgICAgICB0aHJvd0Vycm9yKE1lc3NhZ2VzLk5vQXNBZnRlckltcG9ydE5hbWVzcGFjZSk7XG4gICAgICAgIH1cbiAgICAgICAgbGV4KCk7XG4gICAgICAgIGxvY2FsID0gcGFyc2VOb25Db21wdXRlZFByb3BlcnR5KCk7XG5cbiAgICAgICAgcmV0dXJuIG5vZGUuZmluaXNoSW1wb3J0TmFtZXNwYWNlU3BlY2lmaWVyKGxvY2FsKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwYXJzZUltcG9ydERlY2xhcmF0aW9uKCkge1xuICAgICAgICB2YXIgc3BlY2lmaWVycyA9IFtdLCBzcmMsIG5vZGUgPSBuZXcgTm9kZSgpO1xuXG4gICAgICAgIGlmIChzdGF0ZS5pbkZ1bmN0aW9uQm9keSkge1xuICAgICAgICAgICAgdGhyb3dFcnJvcihNZXNzYWdlcy5JbGxlZ2FsSW1wb3J0RGVjbGFyYXRpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgZXhwZWN0S2V5d29yZCgnaW1wb3J0Jyk7XG5cbiAgICAgICAgaWYgKGxvb2thaGVhZC50eXBlID09PSBUb2tlbi5TdHJpbmdMaXRlcmFsKSB7XG4gICAgICAgICAgICAvLyBpbXBvcnQgJ2Zvbyc7XG4gICAgICAgICAgICBzcmMgPSBwYXJzZU1vZHVsZVNwZWNpZmllcigpO1xuICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICBpZiAobWF0Y2goJ3snKSkge1xuICAgICAgICAgICAgICAgIC8vIGltcG9ydCB7YmFyfVxuICAgICAgICAgICAgICAgIHNwZWNpZmllcnMgPSBzcGVjaWZpZXJzLmNvbmNhdChwYXJzZU5hbWVkSW1wb3J0cygpKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobWF0Y2goJyonKSkge1xuICAgICAgICAgICAgICAgIC8vIGltcG9ydCAqIGFzIGZvb1xuICAgICAgICAgICAgICAgIHNwZWNpZmllcnMucHVzaChwYXJzZUltcG9ydE5hbWVzcGFjZVNwZWNpZmllcigpKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNJZGVudGlmaWVyTmFtZShsb29rYWhlYWQpICYmICFtYXRjaEtleXdvcmQoJ2RlZmF1bHQnKSkge1xuICAgICAgICAgICAgICAgIC8vIGltcG9ydCBmb29cbiAgICAgICAgICAgICAgICBzcGVjaWZpZXJzLnB1c2gocGFyc2VJbXBvcnREZWZhdWx0U3BlY2lmaWVyKCkpO1xuICAgICAgICAgICAgICAgIGlmIChtYXRjaCgnLCcpKSB7XG4gICAgICAgICAgICAgICAgICAgIGxleCgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2goJyonKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaW1wb3J0IGZvbywgKiBhcyBmb29cbiAgICAgICAgICAgICAgICAgICAgICAgIHNwZWNpZmllcnMucHVzaChwYXJzZUltcG9ydE5hbWVzcGFjZVNwZWNpZmllcigpKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChtYXRjaCgneycpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpbXBvcnQgZm9vLCB7YmFyfVxuICAgICAgICAgICAgICAgICAgICAgICAgc3BlY2lmaWVycyA9IHNwZWNpZmllcnMuY29uY2F0KHBhcnNlTmFtZWRJbXBvcnRzKCkpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3dVbmV4cGVjdGVkVG9rZW4obG9va2FoZWFkKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3dVbmV4cGVjdGVkVG9rZW4obGV4KCkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIW1hdGNoQ29udGV4dHVhbEtleXdvcmQoJ2Zyb20nKSkge1xuICAgICAgICAgICAgICAgIHRocm93RXJyb3IobG9va2FoZWFkLnZhbHVlID9cbiAgICAgICAgICAgICAgICAgICAgICAgIE1lc3NhZ2VzLlVuZXhwZWN0ZWRUb2tlbiA6IE1lc3NhZ2VzLk1pc3NpbmdGcm9tQ2xhdXNlLCBsb29rYWhlYWQudmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV4KCk7XG4gICAgICAgICAgICBzcmMgPSBwYXJzZU1vZHVsZVNwZWNpZmllcigpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3VtZVNlbWljb2xvbigpO1xuICAgICAgICByZXR1cm4gbm9kZS5maW5pc2hJbXBvcnREZWNsYXJhdGlvbihzcGVjaWZpZXJzLCBzcmMpO1xuICAgIH1cblxuICAgIC8vIEVDTUEtMjYyIDE1LjEgU2NyaXB0c1xuXG4gICAgZnVuY3Rpb24gcGFyc2VTY3JpcHRCb2R5KCkge1xuICAgICAgICB2YXIgc3RhdGVtZW50LCBib2R5ID0gW10sIHRva2VuLCBkaXJlY3RpdmUsIGZpcnN0UmVzdHJpY3RlZDtcblxuICAgICAgICB3aGlsZSAoc3RhcnRJbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgICAgdG9rZW4gPSBsb29rYWhlYWQ7XG4gICAgICAgICAgICBpZiAodG9rZW4udHlwZSAhPT0gVG9rZW4uU3RyaW5nTGl0ZXJhbCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzdGF0ZW1lbnQgPSBwYXJzZVN0YXRlbWVudExpc3RJdGVtKCk7XG4gICAgICAgICAgICBib2R5LnB1c2goc3RhdGVtZW50KTtcbiAgICAgICAgICAgIGlmIChzdGF0ZW1lbnQuZXhwcmVzc2lvbi50eXBlICE9PSBTeW50YXguTGl0ZXJhbCkge1xuICAgICAgICAgICAgICAgIC8vIHRoaXMgaXMgbm90IGRpcmVjdGl2ZVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGlyZWN0aXZlID0gc291cmNlLnNsaWNlKHRva2VuLnN0YXJ0ICsgMSwgdG9rZW4uZW5kIC0gMSk7XG4gICAgICAgICAgICBpZiAoZGlyZWN0aXZlID09PSAndXNlIHN0cmljdCcpIHtcbiAgICAgICAgICAgICAgICBzdHJpY3QgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGlmIChmaXJzdFJlc3RyaWN0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdG9sZXJhdGVVbmV4cGVjdGVkVG9rZW4oZmlyc3RSZXN0cmljdGVkLCBNZXNzYWdlcy5TdHJpY3RPY3RhbExpdGVyYWwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKCFmaXJzdFJlc3RyaWN0ZWQgJiYgdG9rZW4ub2N0YWwpIHtcbiAgICAgICAgICAgICAgICAgICAgZmlyc3RSZXN0cmljdGVkID0gdG9rZW47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgd2hpbGUgKHN0YXJ0SW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICAgIHN0YXRlbWVudCA9IHBhcnNlU3RhdGVtZW50TGlzdEl0ZW0oKTtcbiAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBzdGF0ZW1lbnQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBib2R5LnB1c2goc3RhdGVtZW50KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYm9keTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwYXJzZVByb2dyYW0oKSB7XG4gICAgICAgIHZhciBib2R5LCBub2RlO1xuXG4gICAgICAgIHBlZWsoKTtcbiAgICAgICAgbm9kZSA9IG5ldyBOb2RlKCk7XG5cbiAgICAgICAgYm9keSA9IHBhcnNlU2NyaXB0Qm9keSgpO1xuICAgICAgICByZXR1cm4gbm9kZS5maW5pc2hQcm9ncmFtKGJvZHksIHN0YXRlLnNvdXJjZVR5cGUpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGZpbHRlclRva2VuTG9jYXRpb24oKSB7XG4gICAgICAgIHZhciBpLCBlbnRyeSwgdG9rZW4sIHRva2VucyA9IFtdO1xuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBleHRyYS50b2tlbnMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGVudHJ5ID0gZXh0cmEudG9rZW5zW2ldO1xuICAgICAgICAgICAgdG9rZW4gPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogZW50cnkudHlwZSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZW50cnkudmFsdWVcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoZW50cnkucmVnZXgpIHtcbiAgICAgICAgICAgICAgICB0b2tlbi5yZWdleCA9IHtcbiAgICAgICAgICAgICAgICAgICAgcGF0dGVybjogZW50cnkucmVnZXgucGF0dGVybixcbiAgICAgICAgICAgICAgICAgICAgZmxhZ3M6IGVudHJ5LnJlZ2V4LmZsYWdzXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChleHRyYS5yYW5nZSkge1xuICAgICAgICAgICAgICAgIHRva2VuLnJhbmdlID0gZW50cnkucmFuZ2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZXh0cmEubG9jKSB7XG4gICAgICAgICAgICAgICAgdG9rZW4ubG9jID0gZW50cnkubG9jO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICB9XG5cbiAgICAgICAgZXh0cmEudG9rZW5zID0gdG9rZW5zO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHRva2VuaXplKGNvZGUsIG9wdGlvbnMsIGRlbGVnYXRlKSB7XG4gICAgICAgIHZhciB0b1N0cmluZyxcbiAgICAgICAgICAgIHRva2VucztcblxuICAgICAgICB0b1N0cmluZyA9IFN0cmluZztcbiAgICAgICAgaWYgKHR5cGVvZiBjb2RlICE9PSAnc3RyaW5nJyAmJiAhKGNvZGUgaW5zdGFuY2VvZiBTdHJpbmcpKSB7XG4gICAgICAgICAgICBjb2RlID0gdG9TdHJpbmcoY29kZSk7XG4gICAgICAgIH1cblxuICAgICAgICBzb3VyY2UgPSBjb2RlO1xuICAgICAgICBpbmRleCA9IDA7XG4gICAgICAgIGxpbmVOdW1iZXIgPSAoc291cmNlLmxlbmd0aCA+IDApID8gMSA6IDA7XG4gICAgICAgIGxpbmVTdGFydCA9IDA7XG4gICAgICAgIHN0YXJ0SW5kZXggPSBpbmRleDtcbiAgICAgICAgc3RhcnRMaW5lTnVtYmVyID0gbGluZU51bWJlcjtcbiAgICAgICAgc3RhcnRMaW5lU3RhcnQgPSBsaW5lU3RhcnQ7XG4gICAgICAgIGxlbmd0aCA9IHNvdXJjZS5sZW5ndGg7XG4gICAgICAgIGxvb2thaGVhZCA9IG51bGw7XG4gICAgICAgIHN0YXRlID0ge1xuICAgICAgICAgICAgYWxsb3dJbjogdHJ1ZSxcbiAgICAgICAgICAgIGFsbG93WWllbGQ6IHRydWUsXG4gICAgICAgICAgICBsYWJlbFNldDoge30sXG4gICAgICAgICAgICBpbkZ1bmN0aW9uQm9keTogZmFsc2UsXG4gICAgICAgICAgICBpbkl0ZXJhdGlvbjogZmFsc2UsXG4gICAgICAgICAgICBpblN3aXRjaDogZmFsc2UsXG4gICAgICAgICAgICBsYXN0Q29tbWVudFN0YXJ0OiAtMSxcbiAgICAgICAgICAgIGN1cmx5U3RhY2s6IFtdXG4gICAgICAgIH07XG5cbiAgICAgICAgZXh0cmEgPSB7fTtcblxuICAgICAgICAvLyBPcHRpb25zIG1hdGNoaW5nLlxuICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICAgICAgICAvLyBPZiBjb3Vyc2Ugd2UgY29sbGVjdCB0b2tlbnMgaGVyZS5cbiAgICAgICAgb3B0aW9ucy50b2tlbnMgPSB0cnVlO1xuICAgICAgICBleHRyYS50b2tlbnMgPSBbXTtcbiAgICAgICAgZXh0cmEudG9rZW5WYWx1ZXMgPSBbXTtcbiAgICAgICAgZXh0cmEudG9rZW5pemUgPSB0cnVlO1xuICAgICAgICBleHRyYS5kZWxlZ2F0ZSA9IGRlbGVnYXRlO1xuXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgdHdvIGZpZWxkcyBhcmUgbmVjZXNzYXJ5IHRvIGNvbXB1dGUgdGhlIFJlZ2V4IHRva2Vucy5cbiAgICAgICAgZXh0cmEub3BlblBhcmVuVG9rZW4gPSAtMTtcbiAgICAgICAgZXh0cmEub3BlbkN1cmx5VG9rZW4gPSAtMTtcblxuICAgICAgICBleHRyYS5yYW5nZSA9ICh0eXBlb2Ygb3B0aW9ucy5yYW5nZSA9PT0gJ2Jvb2xlYW4nKSAmJiBvcHRpb25zLnJhbmdlO1xuICAgICAgICBleHRyYS5sb2MgPSAodHlwZW9mIG9wdGlvbnMubG9jID09PSAnYm9vbGVhbicpICYmIG9wdGlvbnMubG9jO1xuXG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5jb21tZW50ID09PSAnYm9vbGVhbicgJiYgb3B0aW9ucy5jb21tZW50KSB7XG4gICAgICAgICAgICBleHRyYS5jb21tZW50cyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy50b2xlcmFudCA9PT0gJ2Jvb2xlYW4nICYmIG9wdGlvbnMudG9sZXJhbnQpIHtcbiAgICAgICAgICAgIGV4dHJhLmVycm9ycyA9IFtdO1xuICAgICAgICB9XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHBlZWsoKTtcbiAgICAgICAgICAgIGlmIChsb29rYWhlYWQudHlwZSA9PT0gVG9rZW4uRU9GKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGV4dHJhLnRva2VucztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV4KCk7XG4gICAgICAgICAgICB3aGlsZSAobG9va2FoZWFkLnR5cGUgIT09IFRva2VuLkVPRikge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGxleCgpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGxleEVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChleHRyYS5lcnJvcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlY29yZEVycm9yKGxleEVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdlIGhhdmUgdG8gYnJlYWsgb24gdGhlIGZpcnN0IGVycm9yXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0byBhdm9pZCBpbmZpbml0ZSBsb29wcy5cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbGV4RXJyb3I7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRva2VucyA9IGV4dHJhLnRva2VucztcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZXh0cmEuZXJyb3JzICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIHRva2Vucy5lcnJvcnMgPSBleHRyYS5lcnJvcnM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICBleHRyYSA9IHt9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0b2tlbnM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcGFyc2UoY29kZSwgb3B0aW9ucykge1xuICAgICAgICB2YXIgcHJvZ3JhbSwgdG9TdHJpbmc7XG5cbiAgICAgICAgdG9TdHJpbmcgPSBTdHJpbmc7XG4gICAgICAgIGlmICh0eXBlb2YgY29kZSAhPT0gJ3N0cmluZycgJiYgIShjb2RlIGluc3RhbmNlb2YgU3RyaW5nKSkge1xuICAgICAgICAgICAgY29kZSA9IHRvU3RyaW5nKGNvZGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgc291cmNlID0gY29kZTtcbiAgICAgICAgaW5kZXggPSAwO1xuICAgICAgICBsaW5lTnVtYmVyID0gKHNvdXJjZS5sZW5ndGggPiAwKSA/IDEgOiAwO1xuICAgICAgICBsaW5lU3RhcnQgPSAwO1xuICAgICAgICBzdGFydEluZGV4ID0gaW5kZXg7XG4gICAgICAgIHN0YXJ0TGluZU51bWJlciA9IGxpbmVOdW1iZXI7XG4gICAgICAgIHN0YXJ0TGluZVN0YXJ0ID0gbGluZVN0YXJ0O1xuICAgICAgICBsZW5ndGggPSBzb3VyY2UubGVuZ3RoO1xuICAgICAgICBsb29rYWhlYWQgPSBudWxsO1xuICAgICAgICBzdGF0ZSA9IHtcbiAgICAgICAgICAgIGFsbG93SW46IHRydWUsXG4gICAgICAgICAgICBhbGxvd1lpZWxkOiB0cnVlLFxuICAgICAgICAgICAgbGFiZWxTZXQ6IHt9LFxuICAgICAgICAgICAgaW5GdW5jdGlvbkJvZHk6IGZhbHNlLFxuICAgICAgICAgICAgaW5JdGVyYXRpb246IGZhbHNlLFxuICAgICAgICAgICAgaW5Td2l0Y2g6IGZhbHNlLFxuICAgICAgICAgICAgbGFzdENvbW1lbnRTdGFydDogLTEsXG4gICAgICAgICAgICBjdXJseVN0YWNrOiBbXSxcbiAgICAgICAgICAgIHNvdXJjZVR5cGU6ICdzY3JpcHQnXG4gICAgICAgIH07XG4gICAgICAgIHN0cmljdCA9IGZhbHNlO1xuXG4gICAgICAgIGV4dHJhID0ge307XG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIGV4dHJhLnJhbmdlID0gKHR5cGVvZiBvcHRpb25zLnJhbmdlID09PSAnYm9vbGVhbicpICYmIG9wdGlvbnMucmFuZ2U7XG4gICAgICAgICAgICBleHRyYS5sb2MgPSAodHlwZW9mIG9wdGlvbnMubG9jID09PSAnYm9vbGVhbicpICYmIG9wdGlvbnMubG9jO1xuICAgICAgICAgICAgZXh0cmEuYXR0YWNoQ29tbWVudCA9ICh0eXBlb2Ygb3B0aW9ucy5hdHRhY2hDb21tZW50ID09PSAnYm9vbGVhbicpICYmIG9wdGlvbnMuYXR0YWNoQ29tbWVudDtcblxuICAgICAgICAgICAgaWYgKGV4dHJhLmxvYyAmJiBvcHRpb25zLnNvdXJjZSAhPT0gbnVsbCAmJiBvcHRpb25zLnNvdXJjZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgZXh0cmEuc291cmNlID0gdG9TdHJpbmcob3B0aW9ucy5zb3VyY2UpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMudG9rZW5zID09PSAnYm9vbGVhbicgJiYgb3B0aW9ucy50b2tlbnMpIHtcbiAgICAgICAgICAgICAgICBleHRyYS50b2tlbnMgPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5jb21tZW50ID09PSAnYm9vbGVhbicgJiYgb3B0aW9ucy5jb21tZW50KSB7XG4gICAgICAgICAgICAgICAgZXh0cmEuY29tbWVudHMgPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy50b2xlcmFudCA9PT0gJ2Jvb2xlYW4nICYmIG9wdGlvbnMudG9sZXJhbnQpIHtcbiAgICAgICAgICAgICAgICBleHRyYS5lcnJvcnMgPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChleHRyYS5hdHRhY2hDb21tZW50KSB7XG4gICAgICAgICAgICAgICAgZXh0cmEucmFuZ2UgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGV4dHJhLmNvbW1lbnRzID0gW107XG4gICAgICAgICAgICAgICAgZXh0cmEuYm90dG9tUmlnaHRTdGFjayA9IFtdO1xuICAgICAgICAgICAgICAgIGV4dHJhLnRyYWlsaW5nQ29tbWVudHMgPSBbXTtcbiAgICAgICAgICAgICAgICBleHRyYS5sZWFkaW5nQ29tbWVudHMgPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvcHRpb25zLnNvdXJjZVR5cGUgPT09ICdtb2R1bGUnKSB7XG4gICAgICAgICAgICAgICAgLy8gdmVyeSByZXN0cmljdGl2ZSBjb25kaXRpb24gZm9yIG5vd1xuICAgICAgICAgICAgICAgIHN0YXRlLnNvdXJjZVR5cGUgPSBvcHRpb25zLnNvdXJjZVR5cGU7XG4gICAgICAgICAgICAgICAgc3RyaWN0ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBwcm9ncmFtID0gcGFyc2VQcm9ncmFtKCk7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGV4dHJhLmNvbW1lbnRzICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIHByb2dyYW0uY29tbWVudHMgPSBleHRyYS5jb21tZW50cztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgZXh0cmEudG9rZW5zICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIGZpbHRlclRva2VuTG9jYXRpb24oKTtcbiAgICAgICAgICAgICAgICBwcm9ncmFtLnRva2VucyA9IGV4dHJhLnRva2VucztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgZXh0cmEuZXJyb3JzICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIHByb2dyYW0uZXJyb3JzID0gZXh0cmEuZXJyb3JzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgZXh0cmEgPSB7fTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBwcm9ncmFtO1xuICAgIH1cblxuICAgIC8vIFN5bmMgd2l0aCAqLmpzb24gbWFuaWZlc3RzLlxuICAgIGV4cG9ydHMudmVyc2lvbiA9ICcyLjcuMyc7XG5cbiAgICBleHBvcnRzLnRva2VuaXplID0gdG9rZW5pemU7XG5cbiAgICBleHBvcnRzLnBhcnNlID0gcGFyc2U7XG5cbiAgICAvLyBEZWVwIGNvcHkuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICBleHBvcnRzLlN5bnRheCA9IChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBuYW1lLCB0eXBlcyA9IHt9O1xuXG4gICAgICAgIGlmICh0eXBlb2YgT2JqZWN0LmNyZWF0ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdHlwZXMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChuYW1lIGluIFN5bnRheCkge1xuICAgICAgICAgICAgaWYgKFN5bnRheC5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgICAgICAgICAgIHR5cGVzW25hbWVdID0gU3ludGF4W25hbWVdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGVvZiBPYmplY3QuZnJlZXplID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBPYmplY3QuZnJlZXplKHR5cGVzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0eXBlcztcbiAgICB9KCkpO1xuXG59KSk7XG4vKiB2aW06IHNldCBzdz00IHRzPTQgZXQgdHc9ODAgOiAqL1xuIiwiLypcbiAgQ29weXJpZ2h0IChDKSAyMDEyLTIwMTMgWXVzdWtlIFN1enVraSA8dXRhdGFuZS50ZWFAZ21haWwuY29tPlxuICBDb3B5cmlnaHQgKEMpIDIwMTIgQXJpeWEgSGlkYXlhdCA8YXJpeWEuaGlkYXlhdEBnbWFpbC5jb20+XG5cbiAgUmVkaXN0cmlidXRpb24gYW5kIHVzZSBpbiBzb3VyY2UgYW5kIGJpbmFyeSBmb3Jtcywgd2l0aCBvciB3aXRob3V0XG4gIG1vZGlmaWNhdGlvbiwgYXJlIHBlcm1pdHRlZCBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBhcmUgbWV0OlxuXG4gICAgKiBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRhaW4gdGhlIGFib3ZlIGNvcHlyaWdodFxuICAgICAgbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyLlxuICAgICogUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZSBjb3B5cmlnaHRcbiAgICAgIG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lciBpbiB0aGVcbiAgICAgIGRvY3VtZW50YXRpb24gYW5kL29yIG90aGVyIG1hdGVyaWFscyBwcm92aWRlZCB3aXRoIHRoZSBkaXN0cmlidXRpb24uXG5cbiAgVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SUyBcIkFTIElTXCJcbiAgQU5EIEFOWSBFWFBSRVNTIE9SIElNUExJRUQgV0FSUkFOVElFUywgSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sIFRIRVxuICBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRVxuICBBUkUgRElTQ0xBSU1FRC4gSU4gTk8gRVZFTlQgU0hBTEwgPENPUFlSSUdIVCBIT0xERVI+IEJFIExJQUJMRSBGT1IgQU5ZXG4gIERJUkVDVCwgSU5ESVJFQ1QsIElOQ0lERU5UQUwsIFNQRUNJQUwsIEVYRU1QTEFSWSwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTXG4gIChJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUztcbiAgTE9TUyBPRiBVU0UsIERBVEEsIE9SIFBST0ZJVFM7IE9SIEJVU0lORVNTIElOVEVSUlVQVElPTikgSE9XRVZFUiBDQVVTRUQgQU5EXG4gIE9OIEFOWSBUSEVPUlkgT0YgTElBQklMSVRZLCBXSEVUSEVSIElOIENPTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLCBPUiBUT1JUXG4gIChJTkNMVURJTkcgTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0YgVEhFIFVTRSBPRlxuICBUSElTIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFIFBPU1NJQklMSVRZIE9GIFNVQ0ggREFNQUdFLlxuKi9cbi8qanNsaW50IHZhcnM6ZmFsc2UsIGJpdHdpc2U6dHJ1ZSovXG4vKmpzaGludCBpbmRlbnQ6NCovXG4vKmdsb2JhbCBleHBvcnRzOnRydWUqL1xuKGZ1bmN0aW9uIGNsb25lKGV4cG9ydHMpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICB2YXIgU3ludGF4LFxuICAgICAgICBWaXNpdG9yT3B0aW9uLFxuICAgICAgICBWaXNpdG9yS2V5cyxcbiAgICAgICAgQlJFQUssXG4gICAgICAgIFNLSVAsXG4gICAgICAgIFJFTU9WRTtcblxuICAgIGZ1bmN0aW9uIGRlZXBDb3B5KG9iaikge1xuICAgICAgICB2YXIgcmV0ID0ge30sIGtleSwgdmFsO1xuICAgICAgICBmb3IgKGtleSBpbiBvYmopIHtcbiAgICAgICAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgICAgIHZhbCA9IG9ialtrZXldO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsID09PSAnb2JqZWN0JyAmJiB2YWwgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0W2tleV0gPSBkZWVwQ29weSh2YWwpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldFtrZXldID0gdmFsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH1cblxuICAgIC8vIGJhc2VkIG9uIExMVk0gbGliYysrIHVwcGVyX2JvdW5kIC8gbG93ZXJfYm91bmRcbiAgICAvLyBNSVQgTGljZW5zZVxuXG4gICAgZnVuY3Rpb24gdXBwZXJCb3VuZChhcnJheSwgZnVuYykge1xuICAgICAgICB2YXIgZGlmZiwgbGVuLCBpLCBjdXJyZW50O1xuXG4gICAgICAgIGxlbiA9IGFycmF5Lmxlbmd0aDtcbiAgICAgICAgaSA9IDA7XG5cbiAgICAgICAgd2hpbGUgKGxlbikge1xuICAgICAgICAgICAgZGlmZiA9IGxlbiA+Pj4gMTtcbiAgICAgICAgICAgIGN1cnJlbnQgPSBpICsgZGlmZjtcbiAgICAgICAgICAgIGlmIChmdW5jKGFycmF5W2N1cnJlbnRdKSkge1xuICAgICAgICAgICAgICAgIGxlbiA9IGRpZmY7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGkgPSBjdXJyZW50ICsgMTtcbiAgICAgICAgICAgICAgICBsZW4gLT0gZGlmZiArIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGk7XG4gICAgfVxuXG4gICAgU3ludGF4ID0ge1xuICAgICAgICBBc3NpZ25tZW50RXhwcmVzc2lvbjogJ0Fzc2lnbm1lbnRFeHByZXNzaW9uJyxcbiAgICAgICAgQXNzaWdubWVudFBhdHRlcm46ICdBc3NpZ25tZW50UGF0dGVybicsXG4gICAgICAgIEFycmF5RXhwcmVzc2lvbjogJ0FycmF5RXhwcmVzc2lvbicsXG4gICAgICAgIEFycmF5UGF0dGVybjogJ0FycmF5UGF0dGVybicsXG4gICAgICAgIEFycm93RnVuY3Rpb25FeHByZXNzaW9uOiAnQXJyb3dGdW5jdGlvbkV4cHJlc3Npb24nLFxuICAgICAgICBBd2FpdEV4cHJlc3Npb246ICdBd2FpdEV4cHJlc3Npb24nLCAvLyBDQVVUSU9OOiBJdCdzIGRlZmVycmVkIHRvIEVTNy5cbiAgICAgICAgQmxvY2tTdGF0ZW1lbnQ6ICdCbG9ja1N0YXRlbWVudCcsXG4gICAgICAgIEJpbmFyeUV4cHJlc3Npb246ICdCaW5hcnlFeHByZXNzaW9uJyxcbiAgICAgICAgQnJlYWtTdGF0ZW1lbnQ6ICdCcmVha1N0YXRlbWVudCcsXG4gICAgICAgIENhbGxFeHByZXNzaW9uOiAnQ2FsbEV4cHJlc3Npb24nLFxuICAgICAgICBDYXRjaENsYXVzZTogJ0NhdGNoQ2xhdXNlJyxcbiAgICAgICAgQ2xhc3NCb2R5OiAnQ2xhc3NCb2R5JyxcbiAgICAgICAgQ2xhc3NEZWNsYXJhdGlvbjogJ0NsYXNzRGVjbGFyYXRpb24nLFxuICAgICAgICBDbGFzc0V4cHJlc3Npb246ICdDbGFzc0V4cHJlc3Npb24nLFxuICAgICAgICBDb21wcmVoZW5zaW9uQmxvY2s6ICdDb21wcmVoZW5zaW9uQmxvY2snLCAgLy8gQ0FVVElPTjogSXQncyBkZWZlcnJlZCB0byBFUzcuXG4gICAgICAgIENvbXByZWhlbnNpb25FeHByZXNzaW9uOiAnQ29tcHJlaGVuc2lvbkV4cHJlc3Npb24nLCAgLy8gQ0FVVElPTjogSXQncyBkZWZlcnJlZCB0byBFUzcuXG4gICAgICAgIENvbmRpdGlvbmFsRXhwcmVzc2lvbjogJ0NvbmRpdGlvbmFsRXhwcmVzc2lvbicsXG4gICAgICAgIENvbnRpbnVlU3RhdGVtZW50OiAnQ29udGludWVTdGF0ZW1lbnQnLFxuICAgICAgICBEZWJ1Z2dlclN0YXRlbWVudDogJ0RlYnVnZ2VyU3RhdGVtZW50JyxcbiAgICAgICAgRGlyZWN0aXZlU3RhdGVtZW50OiAnRGlyZWN0aXZlU3RhdGVtZW50JyxcbiAgICAgICAgRG9XaGlsZVN0YXRlbWVudDogJ0RvV2hpbGVTdGF0ZW1lbnQnLFxuICAgICAgICBFbXB0eVN0YXRlbWVudDogJ0VtcHR5U3RhdGVtZW50JyxcbiAgICAgICAgRXhwb3J0QWxsRGVjbGFyYXRpb246ICdFeHBvcnRBbGxEZWNsYXJhdGlvbicsXG4gICAgICAgIEV4cG9ydERlZmF1bHREZWNsYXJhdGlvbjogJ0V4cG9ydERlZmF1bHREZWNsYXJhdGlvbicsXG4gICAgICAgIEV4cG9ydE5hbWVkRGVjbGFyYXRpb246ICdFeHBvcnROYW1lZERlY2xhcmF0aW9uJyxcbiAgICAgICAgRXhwb3J0U3BlY2lmaWVyOiAnRXhwb3J0U3BlY2lmaWVyJyxcbiAgICAgICAgRXhwcmVzc2lvblN0YXRlbWVudDogJ0V4cHJlc3Npb25TdGF0ZW1lbnQnLFxuICAgICAgICBGb3JTdGF0ZW1lbnQ6ICdGb3JTdGF0ZW1lbnQnLFxuICAgICAgICBGb3JJblN0YXRlbWVudDogJ0ZvckluU3RhdGVtZW50JyxcbiAgICAgICAgRm9yT2ZTdGF0ZW1lbnQ6ICdGb3JPZlN0YXRlbWVudCcsXG4gICAgICAgIEZ1bmN0aW9uRGVjbGFyYXRpb246ICdGdW5jdGlvbkRlY2xhcmF0aW9uJyxcbiAgICAgICAgRnVuY3Rpb25FeHByZXNzaW9uOiAnRnVuY3Rpb25FeHByZXNzaW9uJyxcbiAgICAgICAgR2VuZXJhdG9yRXhwcmVzc2lvbjogJ0dlbmVyYXRvckV4cHJlc3Npb24nLCAgLy8gQ0FVVElPTjogSXQncyBkZWZlcnJlZCB0byBFUzcuXG4gICAgICAgIElkZW50aWZpZXI6ICdJZGVudGlmaWVyJyxcbiAgICAgICAgSWZTdGF0ZW1lbnQ6ICdJZlN0YXRlbWVudCcsXG4gICAgICAgIEltcG9ydEV4cHJlc3Npb246ICdJbXBvcnRFeHByZXNzaW9uJyxcbiAgICAgICAgSW1wb3J0RGVjbGFyYXRpb246ICdJbXBvcnREZWNsYXJhdGlvbicsXG4gICAgICAgIEltcG9ydERlZmF1bHRTcGVjaWZpZXI6ICdJbXBvcnREZWZhdWx0U3BlY2lmaWVyJyxcbiAgICAgICAgSW1wb3J0TmFtZXNwYWNlU3BlY2lmaWVyOiAnSW1wb3J0TmFtZXNwYWNlU3BlY2lmaWVyJyxcbiAgICAgICAgSW1wb3J0U3BlY2lmaWVyOiAnSW1wb3J0U3BlY2lmaWVyJyxcbiAgICAgICAgTGl0ZXJhbDogJ0xpdGVyYWwnLFxuICAgICAgICBMYWJlbGVkU3RhdGVtZW50OiAnTGFiZWxlZFN0YXRlbWVudCcsXG4gICAgICAgIExvZ2ljYWxFeHByZXNzaW9uOiAnTG9naWNhbEV4cHJlc3Npb24nLFxuICAgICAgICBNZW1iZXJFeHByZXNzaW9uOiAnTWVtYmVyRXhwcmVzc2lvbicsXG4gICAgICAgIE1ldGFQcm9wZXJ0eTogJ01ldGFQcm9wZXJ0eScsXG4gICAgICAgIE1ldGhvZERlZmluaXRpb246ICdNZXRob2REZWZpbml0aW9uJyxcbiAgICAgICAgTW9kdWxlU3BlY2lmaWVyOiAnTW9kdWxlU3BlY2lmaWVyJyxcbiAgICAgICAgTmV3RXhwcmVzc2lvbjogJ05ld0V4cHJlc3Npb24nLFxuICAgICAgICBPYmplY3RFeHByZXNzaW9uOiAnT2JqZWN0RXhwcmVzc2lvbicsXG4gICAgICAgIE9iamVjdFBhdHRlcm46ICdPYmplY3RQYXR0ZXJuJyxcbiAgICAgICAgUHJvZ3JhbTogJ1Byb2dyYW0nLFxuICAgICAgICBQcm9wZXJ0eTogJ1Byb3BlcnR5JyxcbiAgICAgICAgUmVzdEVsZW1lbnQ6ICdSZXN0RWxlbWVudCcsXG4gICAgICAgIFJldHVyblN0YXRlbWVudDogJ1JldHVyblN0YXRlbWVudCcsXG4gICAgICAgIFNlcXVlbmNlRXhwcmVzc2lvbjogJ1NlcXVlbmNlRXhwcmVzc2lvbicsXG4gICAgICAgIFNwcmVhZEVsZW1lbnQ6ICdTcHJlYWRFbGVtZW50JyxcbiAgICAgICAgU3VwZXI6ICdTdXBlcicsXG4gICAgICAgIFN3aXRjaFN0YXRlbWVudDogJ1N3aXRjaFN0YXRlbWVudCcsXG4gICAgICAgIFN3aXRjaENhc2U6ICdTd2l0Y2hDYXNlJyxcbiAgICAgICAgVGFnZ2VkVGVtcGxhdGVFeHByZXNzaW9uOiAnVGFnZ2VkVGVtcGxhdGVFeHByZXNzaW9uJyxcbiAgICAgICAgVGVtcGxhdGVFbGVtZW50OiAnVGVtcGxhdGVFbGVtZW50JyxcbiAgICAgICAgVGVtcGxhdGVMaXRlcmFsOiAnVGVtcGxhdGVMaXRlcmFsJyxcbiAgICAgICAgVGhpc0V4cHJlc3Npb246ICdUaGlzRXhwcmVzc2lvbicsXG4gICAgICAgIFRocm93U3RhdGVtZW50OiAnVGhyb3dTdGF0ZW1lbnQnLFxuICAgICAgICBUcnlTdGF0ZW1lbnQ6ICdUcnlTdGF0ZW1lbnQnLFxuICAgICAgICBVbmFyeUV4cHJlc3Npb246ICdVbmFyeUV4cHJlc3Npb24nLFxuICAgICAgICBVcGRhdGVFeHByZXNzaW9uOiAnVXBkYXRlRXhwcmVzc2lvbicsXG4gICAgICAgIFZhcmlhYmxlRGVjbGFyYXRpb246ICdWYXJpYWJsZURlY2xhcmF0aW9uJyxcbiAgICAgICAgVmFyaWFibGVEZWNsYXJhdG9yOiAnVmFyaWFibGVEZWNsYXJhdG9yJyxcbiAgICAgICAgV2hpbGVTdGF0ZW1lbnQ6ICdXaGlsZVN0YXRlbWVudCcsXG4gICAgICAgIFdpdGhTdGF0ZW1lbnQ6ICdXaXRoU3RhdGVtZW50JyxcbiAgICAgICAgWWllbGRFeHByZXNzaW9uOiAnWWllbGRFeHByZXNzaW9uJ1xuICAgIH07XG5cbiAgICBWaXNpdG9yS2V5cyA9IHtcbiAgICAgICAgQXNzaWdubWVudEV4cHJlc3Npb246IFsnbGVmdCcsICdyaWdodCddLFxuICAgICAgICBBc3NpZ25tZW50UGF0dGVybjogWydsZWZ0JywgJ3JpZ2h0J10sXG4gICAgICAgIEFycmF5RXhwcmVzc2lvbjogWydlbGVtZW50cyddLFxuICAgICAgICBBcnJheVBhdHRlcm46IFsnZWxlbWVudHMnXSxcbiAgICAgICAgQXJyb3dGdW5jdGlvbkV4cHJlc3Npb246IFsncGFyYW1zJywgJ2JvZHknXSxcbiAgICAgICAgQXdhaXRFeHByZXNzaW9uOiBbJ2FyZ3VtZW50J10sIC8vIENBVVRJT046IEl0J3MgZGVmZXJyZWQgdG8gRVM3LlxuICAgICAgICBCbG9ja1N0YXRlbWVudDogWydib2R5J10sXG4gICAgICAgIEJpbmFyeUV4cHJlc3Npb246IFsnbGVmdCcsICdyaWdodCddLFxuICAgICAgICBCcmVha1N0YXRlbWVudDogWydsYWJlbCddLFxuICAgICAgICBDYWxsRXhwcmVzc2lvbjogWydjYWxsZWUnLCAnYXJndW1lbnRzJ10sXG4gICAgICAgIENhdGNoQ2xhdXNlOiBbJ3BhcmFtJywgJ2JvZHknXSxcbiAgICAgICAgQ2xhc3NCb2R5OiBbJ2JvZHknXSxcbiAgICAgICAgQ2xhc3NEZWNsYXJhdGlvbjogWydpZCcsICdzdXBlckNsYXNzJywgJ2JvZHknXSxcbiAgICAgICAgQ2xhc3NFeHByZXNzaW9uOiBbJ2lkJywgJ3N1cGVyQ2xhc3MnLCAnYm9keSddLFxuICAgICAgICBDb21wcmVoZW5zaW9uQmxvY2s6IFsnbGVmdCcsICdyaWdodCddLCAgLy8gQ0FVVElPTjogSXQncyBkZWZlcnJlZCB0byBFUzcuXG4gICAgICAgIENvbXByZWhlbnNpb25FeHByZXNzaW9uOiBbJ2Jsb2NrcycsICdmaWx0ZXInLCAnYm9keSddLCAgLy8gQ0FVVElPTjogSXQncyBkZWZlcnJlZCB0byBFUzcuXG4gICAgICAgIENvbmRpdGlvbmFsRXhwcmVzc2lvbjogWyd0ZXN0JywgJ2NvbnNlcXVlbnQnLCAnYWx0ZXJuYXRlJ10sXG4gICAgICAgIENvbnRpbnVlU3RhdGVtZW50OiBbJ2xhYmVsJ10sXG4gICAgICAgIERlYnVnZ2VyU3RhdGVtZW50OiBbXSxcbiAgICAgICAgRGlyZWN0aXZlU3RhdGVtZW50OiBbXSxcbiAgICAgICAgRG9XaGlsZVN0YXRlbWVudDogWydib2R5JywgJ3Rlc3QnXSxcbiAgICAgICAgRW1wdHlTdGF0ZW1lbnQ6IFtdLFxuICAgICAgICBFeHBvcnRBbGxEZWNsYXJhdGlvbjogWydzb3VyY2UnXSxcbiAgICAgICAgRXhwb3J0RGVmYXVsdERlY2xhcmF0aW9uOiBbJ2RlY2xhcmF0aW9uJ10sXG4gICAgICAgIEV4cG9ydE5hbWVkRGVjbGFyYXRpb246IFsnZGVjbGFyYXRpb24nLCAnc3BlY2lmaWVycycsICdzb3VyY2UnXSxcbiAgICAgICAgRXhwb3J0U3BlY2lmaWVyOiBbJ2V4cG9ydGVkJywgJ2xvY2FsJ10sXG4gICAgICAgIEV4cHJlc3Npb25TdGF0ZW1lbnQ6IFsnZXhwcmVzc2lvbiddLFxuICAgICAgICBGb3JTdGF0ZW1lbnQ6IFsnaW5pdCcsICd0ZXN0JywgJ3VwZGF0ZScsICdib2R5J10sXG4gICAgICAgIEZvckluU3RhdGVtZW50OiBbJ2xlZnQnLCAncmlnaHQnLCAnYm9keSddLFxuICAgICAgICBGb3JPZlN0YXRlbWVudDogWydsZWZ0JywgJ3JpZ2h0JywgJ2JvZHknXSxcbiAgICAgICAgRnVuY3Rpb25EZWNsYXJhdGlvbjogWydpZCcsICdwYXJhbXMnLCAnYm9keSddLFxuICAgICAgICBGdW5jdGlvbkV4cHJlc3Npb246IFsnaWQnLCAncGFyYW1zJywgJ2JvZHknXSxcbiAgICAgICAgR2VuZXJhdG9yRXhwcmVzc2lvbjogWydibG9ja3MnLCAnZmlsdGVyJywgJ2JvZHknXSwgIC8vIENBVVRJT046IEl0J3MgZGVmZXJyZWQgdG8gRVM3LlxuICAgICAgICBJZGVudGlmaWVyOiBbXSxcbiAgICAgICAgSWZTdGF0ZW1lbnQ6IFsndGVzdCcsICdjb25zZXF1ZW50JywgJ2FsdGVybmF0ZSddLFxuICAgICAgICBJbXBvcnRFeHByZXNzaW9uOiBbJ3NvdXJjZSddLFxuICAgICAgICBJbXBvcnREZWNsYXJhdGlvbjogWydzcGVjaWZpZXJzJywgJ3NvdXJjZSddLFxuICAgICAgICBJbXBvcnREZWZhdWx0U3BlY2lmaWVyOiBbJ2xvY2FsJ10sXG4gICAgICAgIEltcG9ydE5hbWVzcGFjZVNwZWNpZmllcjogWydsb2NhbCddLFxuICAgICAgICBJbXBvcnRTcGVjaWZpZXI6IFsnaW1wb3J0ZWQnLCAnbG9jYWwnXSxcbiAgICAgICAgTGl0ZXJhbDogW10sXG4gICAgICAgIExhYmVsZWRTdGF0ZW1lbnQ6IFsnbGFiZWwnLCAnYm9keSddLFxuICAgICAgICBMb2dpY2FsRXhwcmVzc2lvbjogWydsZWZ0JywgJ3JpZ2h0J10sXG4gICAgICAgIE1lbWJlckV4cHJlc3Npb246IFsnb2JqZWN0JywgJ3Byb3BlcnR5J10sXG4gICAgICAgIE1ldGFQcm9wZXJ0eTogWydtZXRhJywgJ3Byb3BlcnR5J10sXG4gICAgICAgIE1ldGhvZERlZmluaXRpb246IFsna2V5JywgJ3ZhbHVlJ10sXG4gICAgICAgIE1vZHVsZVNwZWNpZmllcjogW10sXG4gICAgICAgIE5ld0V4cHJlc3Npb246IFsnY2FsbGVlJywgJ2FyZ3VtZW50cyddLFxuICAgICAgICBPYmplY3RFeHByZXNzaW9uOiBbJ3Byb3BlcnRpZXMnXSxcbiAgICAgICAgT2JqZWN0UGF0dGVybjogWydwcm9wZXJ0aWVzJ10sXG4gICAgICAgIFByb2dyYW06IFsnYm9keSddLFxuICAgICAgICBQcm9wZXJ0eTogWydrZXknLCAndmFsdWUnXSxcbiAgICAgICAgUmVzdEVsZW1lbnQ6IFsgJ2FyZ3VtZW50JyBdLFxuICAgICAgICBSZXR1cm5TdGF0ZW1lbnQ6IFsnYXJndW1lbnQnXSxcbiAgICAgICAgU2VxdWVuY2VFeHByZXNzaW9uOiBbJ2V4cHJlc3Npb25zJ10sXG4gICAgICAgIFNwcmVhZEVsZW1lbnQ6IFsnYXJndW1lbnQnXSxcbiAgICAgICAgU3VwZXI6IFtdLFxuICAgICAgICBTd2l0Y2hTdGF0ZW1lbnQ6IFsnZGlzY3JpbWluYW50JywgJ2Nhc2VzJ10sXG4gICAgICAgIFN3aXRjaENhc2U6IFsndGVzdCcsICdjb25zZXF1ZW50J10sXG4gICAgICAgIFRhZ2dlZFRlbXBsYXRlRXhwcmVzc2lvbjogWyd0YWcnLCAncXVhc2knXSxcbiAgICAgICAgVGVtcGxhdGVFbGVtZW50OiBbXSxcbiAgICAgICAgVGVtcGxhdGVMaXRlcmFsOiBbJ3F1YXNpcycsICdleHByZXNzaW9ucyddLFxuICAgICAgICBUaGlzRXhwcmVzc2lvbjogW10sXG4gICAgICAgIFRocm93U3RhdGVtZW50OiBbJ2FyZ3VtZW50J10sXG4gICAgICAgIFRyeVN0YXRlbWVudDogWydibG9jaycsICdoYW5kbGVyJywgJ2ZpbmFsaXplciddLFxuICAgICAgICBVbmFyeUV4cHJlc3Npb246IFsnYXJndW1lbnQnXSxcbiAgICAgICAgVXBkYXRlRXhwcmVzc2lvbjogWydhcmd1bWVudCddLFxuICAgICAgICBWYXJpYWJsZURlY2xhcmF0aW9uOiBbJ2RlY2xhcmF0aW9ucyddLFxuICAgICAgICBWYXJpYWJsZURlY2xhcmF0b3I6IFsnaWQnLCAnaW5pdCddLFxuICAgICAgICBXaGlsZVN0YXRlbWVudDogWyd0ZXN0JywgJ2JvZHknXSxcbiAgICAgICAgV2l0aFN0YXRlbWVudDogWydvYmplY3QnLCAnYm9keSddLFxuICAgICAgICBZaWVsZEV4cHJlc3Npb246IFsnYXJndW1lbnQnXVxuICAgIH07XG5cbiAgICAvLyB1bmlxdWUgaWRcbiAgICBCUkVBSyA9IHt9O1xuICAgIFNLSVAgPSB7fTtcbiAgICBSRU1PVkUgPSB7fTtcblxuICAgIFZpc2l0b3JPcHRpb24gPSB7XG4gICAgICAgIEJyZWFrOiBCUkVBSyxcbiAgICAgICAgU2tpcDogU0tJUCxcbiAgICAgICAgUmVtb3ZlOiBSRU1PVkVcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gUmVmZXJlbmNlKHBhcmVudCwga2V5KSB7XG4gICAgICAgIHRoaXMucGFyZW50ID0gcGFyZW50O1xuICAgICAgICB0aGlzLmtleSA9IGtleTtcbiAgICB9XG5cbiAgICBSZWZlcmVuY2UucHJvdG90eXBlLnJlcGxhY2UgPSBmdW5jdGlvbiByZXBsYWNlKG5vZGUpIHtcbiAgICAgICAgdGhpcy5wYXJlbnRbdGhpcy5rZXldID0gbm9kZTtcbiAgICB9O1xuXG4gICAgUmVmZXJlbmNlLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMucGFyZW50KSkge1xuICAgICAgICAgICAgdGhpcy5wYXJlbnQuc3BsaWNlKHRoaXMua2V5LCAxKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5yZXBsYWNlKG51bGwpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIEVsZW1lbnQobm9kZSwgcGF0aCwgd3JhcCwgcmVmKSB7XG4gICAgICAgIHRoaXMubm9kZSA9IG5vZGU7XG4gICAgICAgIHRoaXMucGF0aCA9IHBhdGg7XG4gICAgICAgIHRoaXMud3JhcCA9IHdyYXA7XG4gICAgICAgIHRoaXMucmVmID0gcmVmO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIENvbnRyb2xsZXIoKSB7IH1cblxuICAgIC8vIEFQSTpcbiAgICAvLyByZXR1cm4gcHJvcGVydHkgcGF0aCBhcnJheSBmcm9tIHJvb3QgdG8gY3VycmVudCBub2RlXG4gICAgQ29udHJvbGxlci5wcm90b3R5cGUucGF0aCA9IGZ1bmN0aW9uIHBhdGgoKSB7XG4gICAgICAgIHZhciBpLCBpeiwgaiwganosIHJlc3VsdCwgZWxlbWVudDtcblxuICAgICAgICBmdW5jdGlvbiBhZGRUb1BhdGgocmVzdWx0LCBwYXRoKSB7XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShwYXRoKSkge1xuICAgICAgICAgICAgICAgIGZvciAoaiA9IDAsIGp6ID0gcGF0aC5sZW5ndGg7IGogPCBqejsgKytqKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHBhdGhbal0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gocGF0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyByb290IG5vZGVcbiAgICAgICAgaWYgKCF0aGlzLl9fY3VycmVudC5wYXRoKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGZpcnN0IG5vZGUgaXMgc2VudGluZWwsIHNlY29uZCBub2RlIGlzIHJvb3QgZWxlbWVudFxuICAgICAgICByZXN1bHQgPSBbXTtcbiAgICAgICAgZm9yIChpID0gMiwgaXogPSB0aGlzLl9fbGVhdmVsaXN0Lmxlbmd0aDsgaSA8IGl6OyArK2kpIHtcbiAgICAgICAgICAgIGVsZW1lbnQgPSB0aGlzLl9fbGVhdmVsaXN0W2ldO1xuICAgICAgICAgICAgYWRkVG9QYXRoKHJlc3VsdCwgZWxlbWVudC5wYXRoKTtcbiAgICAgICAgfVxuICAgICAgICBhZGRUb1BhdGgocmVzdWx0LCB0aGlzLl9fY3VycmVudC5wYXRoKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuXG4gICAgLy8gQVBJOlxuICAgIC8vIHJldHVybiB0eXBlIG9mIGN1cnJlbnQgbm9kZVxuICAgIENvbnRyb2xsZXIucHJvdG90eXBlLnR5cGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBub2RlID0gdGhpcy5jdXJyZW50KCk7XG4gICAgICAgIHJldHVybiBub2RlLnR5cGUgfHwgdGhpcy5fX2N1cnJlbnQud3JhcDtcbiAgICB9O1xuXG4gICAgLy8gQVBJOlxuICAgIC8vIHJldHVybiBhcnJheSBvZiBwYXJlbnQgZWxlbWVudHNcbiAgICBDb250cm9sbGVyLnByb3RvdHlwZS5wYXJlbnRzID0gZnVuY3Rpb24gcGFyZW50cygpIHtcbiAgICAgICAgdmFyIGksIGl6LCByZXN1bHQ7XG5cbiAgICAgICAgLy8gZmlyc3Qgbm9kZSBpcyBzZW50aW5lbFxuICAgICAgICByZXN1bHQgPSBbXTtcbiAgICAgICAgZm9yIChpID0gMSwgaXogPSB0aGlzLl9fbGVhdmVsaXN0Lmxlbmd0aDsgaSA8IGl6OyArK2kpIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKHRoaXMuX19sZWF2ZWxpc3RbaV0ubm9kZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG5cbiAgICAvLyBBUEk6XG4gICAgLy8gcmV0dXJuIGN1cnJlbnQgbm9kZVxuICAgIENvbnRyb2xsZXIucHJvdG90eXBlLmN1cnJlbnQgPSBmdW5jdGlvbiBjdXJyZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fX2N1cnJlbnQubm9kZTtcbiAgICB9O1xuXG4gICAgQ29udHJvbGxlci5wcm90b3R5cGUuX19leGVjdXRlID0gZnVuY3Rpb24gX19leGVjdXRlKGNhbGxiYWNrLCBlbGVtZW50KSB7XG4gICAgICAgIHZhciBwcmV2aW91cywgcmVzdWx0O1xuXG4gICAgICAgIHJlc3VsdCA9IHVuZGVmaW5lZDtcblxuICAgICAgICBwcmV2aW91cyAgPSB0aGlzLl9fY3VycmVudDtcbiAgICAgICAgdGhpcy5fX2N1cnJlbnQgPSBlbGVtZW50O1xuICAgICAgICB0aGlzLl9fc3RhdGUgPSBudWxsO1xuICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IGNhbGxiYWNrLmNhbGwodGhpcywgZWxlbWVudC5ub2RlLCB0aGlzLl9fbGVhdmVsaXN0W3RoaXMuX19sZWF2ZWxpc3QubGVuZ3RoIC0gMV0ubm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fX2N1cnJlbnQgPSBwcmV2aW91cztcblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG5cbiAgICAvLyBBUEk6XG4gICAgLy8gbm90aWZ5IGNvbnRyb2wgc2tpcCAvIGJyZWFrXG4gICAgQ29udHJvbGxlci5wcm90b3R5cGUubm90aWZ5ID0gZnVuY3Rpb24gbm90aWZ5KGZsYWcpIHtcbiAgICAgICAgdGhpcy5fX3N0YXRlID0gZmxhZztcbiAgICB9O1xuXG4gICAgLy8gQVBJOlxuICAgIC8vIHNraXAgY2hpbGQgbm9kZXMgb2YgY3VycmVudCBub2RlXG4gICAgQ29udHJvbGxlci5wcm90b3R5cGUuc2tpcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5ub3RpZnkoU0tJUCk7XG4gICAgfTtcblxuICAgIC8vIEFQSTpcbiAgICAvLyBicmVhayB0cmF2ZXJzYWxzXG4gICAgQ29udHJvbGxlci5wcm90b3R5cGVbJ2JyZWFrJ10gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMubm90aWZ5KEJSRUFLKTtcbiAgICB9O1xuXG4gICAgLy8gQVBJOlxuICAgIC8vIHJlbW92ZSBub2RlXG4gICAgQ29udHJvbGxlci5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLm5vdGlmeShSRU1PVkUpO1xuICAgIH07XG5cbiAgICBDb250cm9sbGVyLnByb3RvdHlwZS5fX2luaXRpYWxpemUgPSBmdW5jdGlvbihyb290LCB2aXNpdG9yKSB7XG4gICAgICAgIHRoaXMudmlzaXRvciA9IHZpc2l0b3I7XG4gICAgICAgIHRoaXMucm9vdCA9IHJvb3Q7XG4gICAgICAgIHRoaXMuX193b3JrbGlzdCA9IFtdO1xuICAgICAgICB0aGlzLl9fbGVhdmVsaXN0ID0gW107XG4gICAgICAgIHRoaXMuX19jdXJyZW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy5fX3N0YXRlID0gbnVsbDtcbiAgICAgICAgdGhpcy5fX2ZhbGxiYWNrID0gbnVsbDtcbiAgICAgICAgaWYgKHZpc2l0b3IuZmFsbGJhY2sgPT09ICdpdGVyYXRpb24nKSB7XG4gICAgICAgICAgICB0aGlzLl9fZmFsbGJhY2sgPSBPYmplY3Qua2V5cztcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdmlzaXRvci5mYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhpcy5fX2ZhbGxiYWNrID0gdmlzaXRvci5mYWxsYmFjaztcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX19rZXlzID0gVmlzaXRvcktleXM7XG4gICAgICAgIGlmICh2aXNpdG9yLmtleXMpIHtcbiAgICAgICAgICAgIHRoaXMuX19rZXlzID0gT2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKHRoaXMuX19rZXlzKSwgdmlzaXRvci5rZXlzKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBmdW5jdGlvbiBpc05vZGUobm9kZSkge1xuICAgICAgICBpZiAobm9kZSA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHR5cGVvZiBub2RlID09PSAnb2JqZWN0JyAmJiB0eXBlb2Ygbm9kZS50eXBlID09PSAnc3RyaW5nJztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc1Byb3BlcnR5KG5vZGVUeXBlLCBrZXkpIHtcbiAgICAgICAgcmV0dXJuIChub2RlVHlwZSA9PT0gU3ludGF4Lk9iamVjdEV4cHJlc3Npb24gfHwgbm9kZVR5cGUgPT09IFN5bnRheC5PYmplY3RQYXR0ZXJuKSAmJiAncHJvcGVydGllcycgPT09IGtleTtcbiAgICB9XG5cbiAgICBDb250cm9sbGVyLnByb3RvdHlwZS50cmF2ZXJzZSA9IGZ1bmN0aW9uIHRyYXZlcnNlKHJvb3QsIHZpc2l0b3IpIHtcbiAgICAgICAgdmFyIHdvcmtsaXN0LFxuICAgICAgICAgICAgbGVhdmVsaXN0LFxuICAgICAgICAgICAgZWxlbWVudCxcbiAgICAgICAgICAgIG5vZGUsXG4gICAgICAgICAgICBub2RlVHlwZSxcbiAgICAgICAgICAgIHJldCxcbiAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICBjdXJyZW50MixcbiAgICAgICAgICAgIGNhbmRpZGF0ZXMsXG4gICAgICAgICAgICBjYW5kaWRhdGUsXG4gICAgICAgICAgICBzZW50aW5lbDtcblxuICAgICAgICB0aGlzLl9faW5pdGlhbGl6ZShyb290LCB2aXNpdG9yKTtcblxuICAgICAgICBzZW50aW5lbCA9IHt9O1xuXG4gICAgICAgIC8vIHJlZmVyZW5jZVxuICAgICAgICB3b3JrbGlzdCA9IHRoaXMuX193b3JrbGlzdDtcbiAgICAgICAgbGVhdmVsaXN0ID0gdGhpcy5fX2xlYXZlbGlzdDtcblxuICAgICAgICAvLyBpbml0aWFsaXplXG4gICAgICAgIHdvcmtsaXN0LnB1c2gobmV3IEVsZW1lbnQocm9vdCwgbnVsbCwgbnVsbCwgbnVsbCkpO1xuICAgICAgICBsZWF2ZWxpc3QucHVzaChuZXcgRWxlbWVudChudWxsLCBudWxsLCBudWxsLCBudWxsKSk7XG5cbiAgICAgICAgd2hpbGUgKHdvcmtsaXN0Lmxlbmd0aCkge1xuICAgICAgICAgICAgZWxlbWVudCA9IHdvcmtsaXN0LnBvcCgpO1xuXG4gICAgICAgICAgICBpZiAoZWxlbWVudCA9PT0gc2VudGluZWwpIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50ID0gbGVhdmVsaXN0LnBvcCgpO1xuXG4gICAgICAgICAgICAgICAgcmV0ID0gdGhpcy5fX2V4ZWN1dGUodmlzaXRvci5sZWF2ZSwgZWxlbWVudCk7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fX3N0YXRlID09PSBCUkVBSyB8fCByZXQgPT09IEJSRUFLKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChlbGVtZW50Lm5vZGUpIHtcblxuICAgICAgICAgICAgICAgIHJldCA9IHRoaXMuX19leGVjdXRlKHZpc2l0b3IuZW50ZXIsIGVsZW1lbnQpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX19zdGF0ZSA9PT0gQlJFQUsgfHwgcmV0ID09PSBCUkVBSykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgd29ya2xpc3QucHVzaChzZW50aW5lbCk7XG4gICAgICAgICAgICAgICAgbGVhdmVsaXN0LnB1c2goZWxlbWVudCk7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fX3N0YXRlID09PSBTS0lQIHx8IHJldCA9PT0gU0tJUCkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBub2RlID0gZWxlbWVudC5ub2RlO1xuICAgICAgICAgICAgICAgIG5vZGVUeXBlID0gbm9kZS50eXBlIHx8IGVsZW1lbnQud3JhcDtcbiAgICAgICAgICAgICAgICBjYW5kaWRhdGVzID0gdGhpcy5fX2tleXNbbm9kZVR5cGVdO1xuICAgICAgICAgICAgICAgIGlmICghY2FuZGlkYXRlcykge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fX2ZhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYW5kaWRhdGVzID0gdGhpcy5fX2ZhbGxiYWNrKG5vZGUpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmtub3duIG5vZGUgdHlwZSAnICsgbm9kZVR5cGUgKyAnLicpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY3VycmVudCA9IGNhbmRpZGF0ZXMubGVuZ3RoO1xuICAgICAgICAgICAgICAgIHdoaWxlICgoY3VycmVudCAtPSAxKSA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGtleSA9IGNhbmRpZGF0ZXNbY3VycmVudF07XG4gICAgICAgICAgICAgICAgICAgIGNhbmRpZGF0ZSA9IG5vZGVba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjYW5kaWRhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY2FuZGlkYXRlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudDIgPSBjYW5kaWRhdGUubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKChjdXJyZW50MiAtPSAxKSA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjYW5kaWRhdGVbY3VycmVudDJdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNQcm9wZXJ0eShub2RlVHlwZSwgY2FuZGlkYXRlc1tjdXJyZW50XSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudCA9IG5ldyBFbGVtZW50KGNhbmRpZGF0ZVtjdXJyZW50Ml0sIFtrZXksIGN1cnJlbnQyXSwgJ1Byb3BlcnR5JywgbnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpc05vZGUoY2FuZGlkYXRlW2N1cnJlbnQyXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudCA9IG5ldyBFbGVtZW50KGNhbmRpZGF0ZVtjdXJyZW50Ml0sIFtrZXksIGN1cnJlbnQyXSwgbnVsbCwgbnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdvcmtsaXN0LnB1c2goZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNOb2RlKGNhbmRpZGF0ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdvcmtsaXN0LnB1c2gobmV3IEVsZW1lbnQoY2FuZGlkYXRlLCBrZXksIG51bGwsIG51bGwpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBDb250cm9sbGVyLnByb3RvdHlwZS5yZXBsYWNlID0gZnVuY3Rpb24gcmVwbGFjZShyb290LCB2aXNpdG9yKSB7XG4gICAgICAgIHZhciB3b3JrbGlzdCxcbiAgICAgICAgICAgIGxlYXZlbGlzdCxcbiAgICAgICAgICAgIG5vZGUsXG4gICAgICAgICAgICBub2RlVHlwZSxcbiAgICAgICAgICAgIHRhcmdldCxcbiAgICAgICAgICAgIGVsZW1lbnQsXG4gICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgY3VycmVudDIsXG4gICAgICAgICAgICBjYW5kaWRhdGVzLFxuICAgICAgICAgICAgY2FuZGlkYXRlLFxuICAgICAgICAgICAgc2VudGluZWwsXG4gICAgICAgICAgICBvdXRlcixcbiAgICAgICAgICAgIGtleTtcblxuICAgICAgICBmdW5jdGlvbiByZW1vdmVFbGVtKGVsZW1lbnQpIHtcbiAgICAgICAgICAgIHZhciBpLFxuICAgICAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgICAgICBuZXh0RWxlbSxcbiAgICAgICAgICAgICAgICBwYXJlbnQ7XG5cbiAgICAgICAgICAgIGlmIChlbGVtZW50LnJlZi5yZW1vdmUoKSkge1xuICAgICAgICAgICAgICAgIC8vIFdoZW4gdGhlIHJlZmVyZW5jZSBpcyBhbiBlbGVtZW50IG9mIGFuIGFycmF5LlxuICAgICAgICAgICAgICAgIGtleSA9IGVsZW1lbnQucmVmLmtleTtcbiAgICAgICAgICAgICAgICBwYXJlbnQgPSBlbGVtZW50LnJlZi5wYXJlbnQ7XG5cbiAgICAgICAgICAgICAgICAvLyBJZiByZW1vdmVkIGZyb20gYXJyYXksIHRoZW4gZGVjcmVhc2UgZm9sbG93aW5nIGl0ZW1zJyBrZXlzLlxuICAgICAgICAgICAgICAgIGkgPSB3b3JrbGlzdC5sZW5ndGg7XG4gICAgICAgICAgICAgICAgd2hpbGUgKGktLSkge1xuICAgICAgICAgICAgICAgICAgICBuZXh0RWxlbSA9IHdvcmtsaXN0W2ldO1xuICAgICAgICAgICAgICAgICAgICBpZiAobmV4dEVsZW0ucmVmICYmIG5leHRFbGVtLnJlZi5wYXJlbnQgPT09IHBhcmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgIChuZXh0RWxlbS5yZWYua2V5IDwga2V5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAtLW5leHRFbGVtLnJlZi5rZXk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9faW5pdGlhbGl6ZShyb290LCB2aXNpdG9yKTtcblxuICAgICAgICBzZW50aW5lbCA9IHt9O1xuXG4gICAgICAgIC8vIHJlZmVyZW5jZVxuICAgICAgICB3b3JrbGlzdCA9IHRoaXMuX193b3JrbGlzdDtcbiAgICAgICAgbGVhdmVsaXN0ID0gdGhpcy5fX2xlYXZlbGlzdDtcblxuICAgICAgICAvLyBpbml0aWFsaXplXG4gICAgICAgIG91dGVyID0ge1xuICAgICAgICAgICAgcm9vdDogcm9vdFxuICAgICAgICB9O1xuICAgICAgICBlbGVtZW50ID0gbmV3IEVsZW1lbnQocm9vdCwgbnVsbCwgbnVsbCwgbmV3IFJlZmVyZW5jZShvdXRlciwgJ3Jvb3QnKSk7XG4gICAgICAgIHdvcmtsaXN0LnB1c2goZWxlbWVudCk7XG4gICAgICAgIGxlYXZlbGlzdC5wdXNoKGVsZW1lbnQpO1xuXG4gICAgICAgIHdoaWxlICh3b3JrbGlzdC5sZW5ndGgpIHtcbiAgICAgICAgICAgIGVsZW1lbnQgPSB3b3JrbGlzdC5wb3AoKTtcblxuICAgICAgICAgICAgaWYgKGVsZW1lbnQgPT09IHNlbnRpbmVsKSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudCA9IGxlYXZlbGlzdC5wb3AoKTtcblxuICAgICAgICAgICAgICAgIHRhcmdldCA9IHRoaXMuX19leGVjdXRlKHZpc2l0b3IubGVhdmUsIGVsZW1lbnQpO1xuXG4gICAgICAgICAgICAgICAgLy8gbm9kZSBtYXkgYmUgcmVwbGFjZWQgd2l0aCBudWxsLFxuICAgICAgICAgICAgICAgIC8vIHNvIGRpc3Rpbmd1aXNoIGJldHdlZW4gdW5kZWZpbmVkIGFuZCBudWxsIGluIHRoaXMgcGxhY2VcbiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0ICE9PSB1bmRlZmluZWQgJiYgdGFyZ2V0ICE9PSBCUkVBSyAmJiB0YXJnZXQgIT09IFNLSVAgJiYgdGFyZ2V0ICE9PSBSRU1PVkUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVwbGFjZVxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnJlZi5yZXBsYWNlKHRhcmdldCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX19zdGF0ZSA9PT0gUkVNT1ZFIHx8IHRhcmdldCA9PT0gUkVNT1ZFKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZUVsZW0oZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX19zdGF0ZSA9PT0gQlJFQUsgfHwgdGFyZ2V0ID09PSBCUkVBSykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3V0ZXIucm9vdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRhcmdldCA9IHRoaXMuX19leGVjdXRlKHZpc2l0b3IuZW50ZXIsIGVsZW1lbnQpO1xuXG4gICAgICAgICAgICAvLyBub2RlIG1heSBiZSByZXBsYWNlZCB3aXRoIG51bGwsXG4gICAgICAgICAgICAvLyBzbyBkaXN0aW5ndWlzaCBiZXR3ZWVuIHVuZGVmaW5lZCBhbmQgbnVsbCBpbiB0aGlzIHBsYWNlXG4gICAgICAgICAgICBpZiAodGFyZ2V0ICE9PSB1bmRlZmluZWQgJiYgdGFyZ2V0ICE9PSBCUkVBSyAmJiB0YXJnZXQgIT09IFNLSVAgJiYgdGFyZ2V0ICE9PSBSRU1PVkUpIHtcbiAgICAgICAgICAgICAgICAvLyByZXBsYWNlXG4gICAgICAgICAgICAgICAgZWxlbWVudC5yZWYucmVwbGFjZSh0YXJnZXQpO1xuICAgICAgICAgICAgICAgIGVsZW1lbnQubm9kZSA9IHRhcmdldDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMuX19zdGF0ZSA9PT0gUkVNT1ZFIHx8IHRhcmdldCA9PT0gUkVNT1ZFKSB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlRWxlbShlbGVtZW50KTtcbiAgICAgICAgICAgICAgICBlbGVtZW50Lm5vZGUgPSBudWxsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy5fX3N0YXRlID09PSBCUkVBSyB8fCB0YXJnZXQgPT09IEJSRUFLKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG91dGVyLnJvb3Q7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIG5vZGUgbWF5IGJlIG51bGxcbiAgICAgICAgICAgIG5vZGUgPSBlbGVtZW50Lm5vZGU7XG4gICAgICAgICAgICBpZiAoIW5vZGUpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgd29ya2xpc3QucHVzaChzZW50aW5lbCk7XG4gICAgICAgICAgICBsZWF2ZWxpc3QucHVzaChlbGVtZW50KTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuX19zdGF0ZSA9PT0gU0tJUCB8fCB0YXJnZXQgPT09IFNLSVApIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbm9kZVR5cGUgPSBub2RlLnR5cGUgfHwgZWxlbWVudC53cmFwO1xuICAgICAgICAgICAgY2FuZGlkYXRlcyA9IHRoaXMuX19rZXlzW25vZGVUeXBlXTtcbiAgICAgICAgICAgIGlmICghY2FuZGlkYXRlcykge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9fZmFsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgY2FuZGlkYXRlcyA9IHRoaXMuX19mYWxsYmFjayhub2RlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Vua25vd24gbm9kZSB0eXBlICcgKyBub2RlVHlwZSArICcuJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjdXJyZW50ID0gY2FuZGlkYXRlcy5sZW5ndGg7XG4gICAgICAgICAgICB3aGlsZSAoKGN1cnJlbnQgLT0gMSkgPj0gMCkge1xuICAgICAgICAgICAgICAgIGtleSA9IGNhbmRpZGF0ZXNbY3VycmVudF07XG4gICAgICAgICAgICAgICAgY2FuZGlkYXRlID0gbm9kZVtrZXldO1xuICAgICAgICAgICAgICAgIGlmICghY2FuZGlkYXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGNhbmRpZGF0ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudDIgPSBjYW5kaWRhdGUubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoKGN1cnJlbnQyIC09IDEpID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY2FuZGlkYXRlW2N1cnJlbnQyXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzUHJvcGVydHkobm9kZVR5cGUsIGNhbmRpZGF0ZXNbY3VycmVudF0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudCA9IG5ldyBFbGVtZW50KGNhbmRpZGF0ZVtjdXJyZW50Ml0sIFtrZXksIGN1cnJlbnQyXSwgJ1Byb3BlcnR5JywgbmV3IFJlZmVyZW5jZShjYW5kaWRhdGUsIGN1cnJlbnQyKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlzTm9kZShjYW5kaWRhdGVbY3VycmVudDJdKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQgPSBuZXcgRWxlbWVudChjYW5kaWRhdGVbY3VycmVudDJdLCBba2V5LCBjdXJyZW50Ml0sIG51bGwsIG5ldyBSZWZlcmVuY2UoY2FuZGlkYXRlLCBjdXJyZW50MikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHdvcmtsaXN0LnB1c2goZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlzTm9kZShjYW5kaWRhdGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHdvcmtsaXN0LnB1c2gobmV3IEVsZW1lbnQoY2FuZGlkYXRlLCBrZXksIG51bGwsIG5ldyBSZWZlcmVuY2Uobm9kZSwga2V5KSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBvdXRlci5yb290O1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiB0cmF2ZXJzZShyb290LCB2aXNpdG9yKSB7XG4gICAgICAgIHZhciBjb250cm9sbGVyID0gbmV3IENvbnRyb2xsZXIoKTtcbiAgICAgICAgcmV0dXJuIGNvbnRyb2xsZXIudHJhdmVyc2Uocm9vdCwgdmlzaXRvcik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVwbGFjZShyb290LCB2aXNpdG9yKSB7XG4gICAgICAgIHZhciBjb250cm9sbGVyID0gbmV3IENvbnRyb2xsZXIoKTtcbiAgICAgICAgcmV0dXJuIGNvbnRyb2xsZXIucmVwbGFjZShyb290LCB2aXNpdG9yKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBleHRlbmRDb21tZW50UmFuZ2UoY29tbWVudCwgdG9rZW5zKSB7XG4gICAgICAgIHZhciB0YXJnZXQ7XG5cbiAgICAgICAgdGFyZ2V0ID0gdXBwZXJCb3VuZCh0b2tlbnMsIGZ1bmN0aW9uIHNlYXJjaCh0b2tlbikge1xuICAgICAgICAgICAgcmV0dXJuIHRva2VuLnJhbmdlWzBdID4gY29tbWVudC5yYW5nZVswXTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29tbWVudC5leHRlbmRlZFJhbmdlID0gW2NvbW1lbnQucmFuZ2VbMF0sIGNvbW1lbnQucmFuZ2VbMV1dO1xuXG4gICAgICAgIGlmICh0YXJnZXQgIT09IHRva2Vucy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbW1lbnQuZXh0ZW5kZWRSYW5nZVsxXSA9IHRva2Vuc1t0YXJnZXRdLnJhbmdlWzBdO1xuICAgICAgICB9XG5cbiAgICAgICAgdGFyZ2V0IC09IDE7XG4gICAgICAgIGlmICh0YXJnZXQgPj0gMCkge1xuICAgICAgICAgICAgY29tbWVudC5leHRlbmRlZFJhbmdlWzBdID0gdG9rZW5zW3RhcmdldF0ucmFuZ2VbMV07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY29tbWVudDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhdHRhY2hDb21tZW50cyh0cmVlLCBwcm92aWRlZENvbW1lbnRzLCB0b2tlbnMpIHtcbiAgICAgICAgLy8gQXQgZmlyc3QsIHdlIHNob3VsZCBjYWxjdWxhdGUgZXh0ZW5kZWQgY29tbWVudCByYW5nZXMuXG4gICAgICAgIHZhciBjb21tZW50cyA9IFtdLCBjb21tZW50LCBsZW4sIGksIGN1cnNvcjtcblxuICAgICAgICBpZiAoIXRyZWUucmFuZ2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignYXR0YWNoQ29tbWVudHMgbmVlZHMgcmFuZ2UgaW5mb3JtYXRpb24nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRva2VucyBhcnJheSBpcyBlbXB0eSwgd2UgYXR0YWNoIGNvbW1lbnRzIHRvIHRyZWUgYXMgJ2xlYWRpbmdDb21tZW50cydcbiAgICAgICAgaWYgKCF0b2tlbnMubGVuZ3RoKSB7XG4gICAgICAgICAgICBpZiAocHJvdmlkZWRDb21tZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwLCBsZW4gPSBwcm92aWRlZENvbW1lbnRzLmxlbmd0aDsgaSA8IGxlbjsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbW1lbnQgPSBkZWVwQ29weShwcm92aWRlZENvbW1lbnRzW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgY29tbWVudC5leHRlbmRlZFJhbmdlID0gWzAsIHRyZWUucmFuZ2VbMF1dO1xuICAgICAgICAgICAgICAgICAgICBjb21tZW50cy5wdXNoKGNvbW1lbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0cmVlLmxlYWRpbmdDb21tZW50cyA9IGNvbW1lbnRzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRyZWU7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGkgPSAwLCBsZW4gPSBwcm92aWRlZENvbW1lbnRzLmxlbmd0aDsgaSA8IGxlbjsgaSArPSAxKSB7XG4gICAgICAgICAgICBjb21tZW50cy5wdXNoKGV4dGVuZENvbW1lbnRSYW5nZShkZWVwQ29weShwcm92aWRlZENvbW1lbnRzW2ldKSwgdG9rZW5zKSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUaGlzIGlzIGJhc2VkIG9uIEpvaG4gRnJlZW1hbidzIGltcGxlbWVudGF0aW9uLlxuICAgICAgICBjdXJzb3IgPSAwO1xuICAgICAgICB0cmF2ZXJzZSh0cmVlLCB7XG4gICAgICAgICAgICBlbnRlcjogZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgY29tbWVudDtcblxuICAgICAgICAgICAgICAgIHdoaWxlIChjdXJzb3IgPCBjb21tZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgY29tbWVudCA9IGNvbW1lbnRzW2N1cnNvcl07XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb21tZW50LmV4dGVuZGVkUmFuZ2VbMV0gPiBub2RlLnJhbmdlWzBdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb21tZW50LmV4dGVuZGVkUmFuZ2VbMV0gPT09IG5vZGUucmFuZ2VbMF0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbm9kZS5sZWFkaW5nQ29tbWVudHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlLmxlYWRpbmdDb21tZW50cyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5sZWFkaW5nQ29tbWVudHMucHVzaChjb21tZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1lbnRzLnNwbGljZShjdXJzb3IsIDEpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yICs9IDE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBhbHJlYWR5IG91dCBvZiBvd25lZCBub2RlXG4gICAgICAgICAgICAgICAgaWYgKGN1cnNvciA9PT0gY29tbWVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBWaXNpdG9yT3B0aW9uLkJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChjb21tZW50c1tjdXJzb3JdLmV4dGVuZGVkUmFuZ2VbMF0gPiBub2RlLnJhbmdlWzFdKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBWaXNpdG9yT3B0aW9uLlNraXA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBjdXJzb3IgPSAwO1xuICAgICAgICB0cmF2ZXJzZSh0cmVlLCB7XG4gICAgICAgICAgICBsZWF2ZTogZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgY29tbWVudDtcblxuICAgICAgICAgICAgICAgIHdoaWxlIChjdXJzb3IgPCBjb21tZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgY29tbWVudCA9IGNvbW1lbnRzW2N1cnNvcl07XG4gICAgICAgICAgICAgICAgICAgIGlmIChub2RlLnJhbmdlWzFdIDwgY29tbWVudC5leHRlbmRlZFJhbmdlWzBdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChub2RlLnJhbmdlWzFdID09PSBjb21tZW50LmV4dGVuZGVkUmFuZ2VbMF0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbm9kZS50cmFpbGluZ0NvbW1lbnRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS50cmFpbGluZ0NvbW1lbnRzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlLnRyYWlsaW5nQ29tbWVudHMucHVzaChjb21tZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1lbnRzLnNwbGljZShjdXJzb3IsIDEpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yICs9IDE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBhbHJlYWR5IG91dCBvZiBvd25lZCBub2RlXG4gICAgICAgICAgICAgICAgaWYgKGN1cnNvciA9PT0gY29tbWVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBWaXNpdG9yT3B0aW9uLkJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChjb21tZW50c1tjdXJzb3JdLmV4dGVuZGVkUmFuZ2VbMF0gPiBub2RlLnJhbmdlWzFdKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBWaXNpdG9yT3B0aW9uLlNraXA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gdHJlZTtcbiAgICB9XG5cbiAgICBleHBvcnRzLnZlcnNpb24gPSByZXF1aXJlKCcuL3BhY2thZ2UuanNvbicpLnZlcnNpb247XG4gICAgZXhwb3J0cy5TeW50YXggPSBTeW50YXg7XG4gICAgZXhwb3J0cy50cmF2ZXJzZSA9IHRyYXZlcnNlO1xuICAgIGV4cG9ydHMucmVwbGFjZSA9IHJlcGxhY2U7XG4gICAgZXhwb3J0cy5hdHRhY2hDb21tZW50cyA9IGF0dGFjaENvbW1lbnRzO1xuICAgIGV4cG9ydHMuVmlzaXRvcktleXMgPSBWaXNpdG9yS2V5cztcbiAgICBleHBvcnRzLlZpc2l0b3JPcHRpb24gPSBWaXNpdG9yT3B0aW9uO1xuICAgIGV4cG9ydHMuQ29udHJvbGxlciA9IENvbnRyb2xsZXI7XG4gICAgZXhwb3J0cy5jbG9uZUVudmlyb25tZW50ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gY2xvbmUoe30pOyB9O1xuXG4gICAgcmV0dXJuIGV4cG9ydHM7XG59KGV4cG9ydHMpKTtcbi8qIHZpbTogc2V0IHN3PTQgdHM9NCBldCB0dz04MCA6ICovXG4iLCJtb2R1bGUuZXhwb3J0cz17XG4gIFwiX2FyZ3NcIjogW1xuICAgIFtcbiAgICAgIFwiZXN0cmF2ZXJzZUA0LjMuMFwiLFxuICAgICAgXCIvbW50L2MvVXNlcnMvZGhuMDMvc291cmNlL3Byb2plY3RzL2pzZmxvdy9qc2Zsb3ctbWFzdGVyXCJcbiAgICBdXG4gIF0sXG4gIFwiX2Zyb21cIjogXCJlc3RyYXZlcnNlQDQuMy4wXCIsXG4gIFwiX2lkXCI6IFwiZXN0cmF2ZXJzZUA0LjMuMFwiLFxuICBcIl9pbkJ1bmRsZVwiOiBmYWxzZSxcbiAgXCJfaW50ZWdyaXR5XCI6IFwic2hhNTEyLTM5bm5LZmZXejh4TjFCVS8yYzc5bjluQjlIRHpvMG5pWVVxeDZ4eXFVbnlvQW5ReXlXcE9UZFpFZWlDY2g4QkJ1NTE1dDR3cDlabWdWZlZobjlFQnB3PT1cIixcbiAgXCJfbG9jYXRpb25cIjogXCIvZXN0cmF2ZXJzZVwiLFxuICBcIl9waGFudG9tQ2hpbGRyZW5cIjoge30sXG4gIFwiX3JlcXVlc3RlZFwiOiB7XG4gICAgXCJ0eXBlXCI6IFwidmVyc2lvblwiLFxuICAgIFwicmVnaXN0cnlcIjogdHJ1ZSxcbiAgICBcInJhd1wiOiBcImVzdHJhdmVyc2VANC4zLjBcIixcbiAgICBcIm5hbWVcIjogXCJlc3RyYXZlcnNlXCIsXG4gICAgXCJlc2NhcGVkTmFtZVwiOiBcImVzdHJhdmVyc2VcIixcbiAgICBcInJhd1NwZWNcIjogXCI0LjMuMFwiLFxuICAgIFwic2F2ZVNwZWNcIjogbnVsbCxcbiAgICBcImZldGNoU3BlY1wiOiBcIjQuMy4wXCJcbiAgfSxcbiAgXCJfcmVxdWlyZWRCeVwiOiBbXG4gICAgXCIvXCIsXG4gICAgXCIvZXNjb2RlZ2VuXCIsXG4gICAgXCIvc3RhdGljLWV2YWwvZXNjb2RlZ2VuXCIsXG4gICAgXCIvc3RhdGljLW1vZHVsZS9lc2NvZGVnZW5cIlxuICBdLFxuICBcIl9yZXNvbHZlZFwiOiBcImh0dHBzOi8vcmVnaXN0cnkubnBtanMub3JnL2VzdHJhdmVyc2UvLS9lc3RyYXZlcnNlLTQuMy4wLnRnelwiLFxuICBcIl9zcGVjXCI6IFwiNC4zLjBcIixcbiAgXCJfd2hlcmVcIjogXCIvbW50L2MvVXNlcnMvZGhuMDMvc291cmNlL3Byb2plY3RzL2pzZmxvdy9qc2Zsb3ctbWFzdGVyXCIsXG4gIFwiYnVnc1wiOiB7XG4gICAgXCJ1cmxcIjogXCJodHRwczovL2dpdGh1Yi5jb20vZXN0b29scy9lc3RyYXZlcnNlL2lzc3Vlc1wiXG4gIH0sXG4gIFwiZGVzY3JpcHRpb25cIjogXCJFQ01BU2NyaXB0IEpTIEFTVCB0cmF2ZXJzYWwgZnVuY3Rpb25zXCIsXG4gIFwiZGV2RGVwZW5kZW5jaWVzXCI6IHtcbiAgICBcImJhYmVsLXByZXNldC1lbnZcIjogXCJeMS42LjFcIixcbiAgICBcImJhYmVsLXJlZ2lzdGVyXCI6IFwiXjYuMy4xM1wiLFxuICAgIFwiY2hhaVwiOiBcIl4yLjEuMVwiLFxuICAgIFwiZXNwcmVlXCI6IFwiXjEuMTEuMFwiLFxuICAgIFwiZ3VscFwiOiBcIl4zLjguMTBcIixcbiAgICBcImd1bHAtYnVtcFwiOiBcIl4wLjIuMlwiLFxuICAgIFwiZ3VscC1maWx0ZXJcIjogXCJeMi4wLjBcIixcbiAgICBcImd1bHAtZ2l0XCI6IFwiXjEuMC4xXCIsXG4gICAgXCJndWxwLXRhZy12ZXJzaW9uXCI6IFwiXjEuMy4wXCIsXG4gICAgXCJqc2hpbnRcIjogXCJeMi41LjZcIixcbiAgICBcIm1vY2hhXCI6IFwiXjIuMS4wXCJcbiAgfSxcbiAgXCJlbmdpbmVzXCI6IHtcbiAgICBcIm5vZGVcIjogXCI+PTQuMFwiXG4gIH0sXG4gIFwiaG9tZXBhZ2VcIjogXCJodHRwczovL2dpdGh1Yi5jb20vZXN0b29scy9lc3RyYXZlcnNlXCIsXG4gIFwibGljZW5zZVwiOiBcIkJTRC0yLUNsYXVzZVwiLFxuICBcIm1haW5cIjogXCJlc3RyYXZlcnNlLmpzXCIsXG4gIFwibWFpbnRhaW5lcnNcIjogW1xuICAgIHtcbiAgICAgIFwibmFtZVwiOiBcIll1c3VrZSBTdXp1a2lcIixcbiAgICAgIFwiZW1haWxcIjogXCJ1dGF0YW5lLnRlYUBnbWFpbC5jb21cIixcbiAgICAgIFwidXJsXCI6IFwiaHR0cDovL2dpdGh1Yi5jb20vQ29uc3RlbGxhdGlvblwiXG4gICAgfVxuICBdLFxuICBcIm5hbWVcIjogXCJlc3RyYXZlcnNlXCIsXG4gIFwicmVwb3NpdG9yeVwiOiB7XG4gICAgXCJ0eXBlXCI6IFwiZ2l0XCIsXG4gICAgXCJ1cmxcIjogXCJnaXQrc3NoOi8vZ2l0QGdpdGh1Yi5jb20vZXN0b29scy9lc3RyYXZlcnNlLmdpdFwiXG4gIH0sXG4gIFwic2NyaXB0c1wiOiB7XG4gICAgXCJsaW50XCI6IFwianNoaW50IGVzdHJhdmVyc2UuanNcIixcbiAgICBcInRlc3RcIjogXCJucG0gcnVuLXNjcmlwdCBsaW50ICYmIG5wbSBydW4tc2NyaXB0IHVuaXQtdGVzdFwiLFxuICAgIFwidW5pdC10ZXN0XCI6IFwibW9jaGEgLS1jb21waWxlcnMganM6YmFiZWwtcmVnaXN0ZXJcIlxuICB9LFxuICBcInZlcnNpb25cIjogXCI0LjMuMFwiXG59XG4iLCIvKlxuICBDb3B5cmlnaHQgKEMpIDIwMTMgWXVzdWtlIFN1enVraSA8dXRhdGFuZS50ZWFAZ21haWwuY29tPlxuXG4gIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dFxuICBtb2RpZmljYXRpb24sIGFyZSBwZXJtaXR0ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlIG1ldDpcblxuICAgICogUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHRcbiAgICAgIG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lci5cbiAgICAqIFJlZGlzdHJpYnV0aW9ucyBpbiBiaW5hcnkgZm9ybSBtdXN0IHJlcHJvZHVjZSB0aGUgYWJvdmUgY29weXJpZ2h0XG4gICAgICBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIgaW4gdGhlXG4gICAgICBkb2N1bWVudGF0aW9uIGFuZC9vciBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWQgd2l0aCB0aGUgZGlzdHJpYnV0aW9uLlxuXG4gIFRISVMgU09GVFdBUkUgSVMgUFJPVklERUQgQlkgVEhFIENPUFlSSUdIVCBIT0xERVJTIEFORCBDT05UUklCVVRPUlMgJ0FTIElTJ1xuICBBTkQgQU5ZIEVYUFJFU1MgT1IgSU1QTElFRCBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgVEhFXG4gIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFXG4gIEFSRSBESVNDTEFJTUVELiBJTiBOTyBFVkVOVCBTSEFMTCA8Q09QWVJJR0hUIEhPTERFUj4gQkUgTElBQkxFIEZPUiBBTllcbiAgRElSRUNULCBJTkRJUkVDVCwgSU5DSURFTlRBTCwgU1BFQ0lBTCwgRVhFTVBMQVJZLCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVNcbiAgKElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBQUk9DVVJFTUVOVCBPRiBTVUJTVElUVVRFIEdPT0RTIE9SIFNFUlZJQ0VTO1xuICBMT1NTIE9GIFVTRSwgREFUQSwgT1IgUFJPRklUUzsgT1IgQlVTSU5FU1MgSU5URVJSVVBUSU9OKSBIT1dFVkVSIENBVVNFRCBBTkRcbiAgT04gQU5ZIFRIRU9SWSBPRiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SIFRPUlRcbiAgKElOQ0xVRElORyBORUdMSUdFTkNFIE9SIE9USEVSV0lTRSkgQVJJU0lORyBJTiBBTlkgV0FZIE9VVCBPRiBUSEUgVVNFIE9GXG4gIFRISVMgU09GVFdBUkUsIEVWRU4gSUYgQURWSVNFRCBPRiBUSEUgUE9TU0lCSUxJVFkgT0YgU1VDSCBEQU1BR0UuXG4qL1xuXG4oZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGZ1bmN0aW9uIGlzRXhwcmVzc2lvbihub2RlKSB7XG4gICAgICAgIGlmIChub2RlID09IG51bGwpIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgICAgIHN3aXRjaCAobm9kZS50eXBlKSB7XG4gICAgICAgICAgICBjYXNlICdBcnJheUV4cHJlc3Npb24nOlxuICAgICAgICAgICAgY2FzZSAnQXNzaWdubWVudEV4cHJlc3Npb24nOlxuICAgICAgICAgICAgY2FzZSAnQmluYXJ5RXhwcmVzc2lvbic6XG4gICAgICAgICAgICBjYXNlICdDYWxsRXhwcmVzc2lvbic6XG4gICAgICAgICAgICBjYXNlICdDb25kaXRpb25hbEV4cHJlc3Npb24nOlxuICAgICAgICAgICAgY2FzZSAnRnVuY3Rpb25FeHByZXNzaW9uJzpcbiAgICAgICAgICAgIGNhc2UgJ0lkZW50aWZpZXInOlxuICAgICAgICAgICAgY2FzZSAnTGl0ZXJhbCc6XG4gICAgICAgICAgICBjYXNlICdMb2dpY2FsRXhwcmVzc2lvbic6XG4gICAgICAgICAgICBjYXNlICdNZW1iZXJFeHByZXNzaW9uJzpcbiAgICAgICAgICAgIGNhc2UgJ05ld0V4cHJlc3Npb24nOlxuICAgICAgICAgICAgY2FzZSAnT2JqZWN0RXhwcmVzc2lvbic6XG4gICAgICAgICAgICBjYXNlICdTZXF1ZW5jZUV4cHJlc3Npb24nOlxuICAgICAgICAgICAgY2FzZSAnVGhpc0V4cHJlc3Npb24nOlxuICAgICAgICAgICAgY2FzZSAnVW5hcnlFeHByZXNzaW9uJzpcbiAgICAgICAgICAgIGNhc2UgJ1VwZGF0ZUV4cHJlc3Npb24nOlxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc0l0ZXJhdGlvblN0YXRlbWVudChub2RlKSB7XG4gICAgICAgIGlmIChub2RlID09IG51bGwpIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgICAgIHN3aXRjaCAobm9kZS50eXBlKSB7XG4gICAgICAgICAgICBjYXNlICdEb1doaWxlU3RhdGVtZW50JzpcbiAgICAgICAgICAgIGNhc2UgJ0ZvckluU3RhdGVtZW50JzpcbiAgICAgICAgICAgIGNhc2UgJ0ZvclN0YXRlbWVudCc6XG4gICAgICAgICAgICBjYXNlICdXaGlsZVN0YXRlbWVudCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzU3RhdGVtZW50KG5vZGUpIHtcbiAgICAgICAgaWYgKG5vZGUgPT0gbnVsbCkgeyByZXR1cm4gZmFsc2U7IH1cbiAgICAgICAgc3dpdGNoIChub2RlLnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ0Jsb2NrU3RhdGVtZW50JzpcbiAgICAgICAgICAgIGNhc2UgJ0JyZWFrU3RhdGVtZW50JzpcbiAgICAgICAgICAgIGNhc2UgJ0NvbnRpbnVlU3RhdGVtZW50JzpcbiAgICAgICAgICAgIGNhc2UgJ0RlYnVnZ2VyU3RhdGVtZW50JzpcbiAgICAgICAgICAgIGNhc2UgJ0RvV2hpbGVTdGF0ZW1lbnQnOlxuICAgICAgICAgICAgY2FzZSAnRW1wdHlTdGF0ZW1lbnQnOlxuICAgICAgICAgICAgY2FzZSAnRXhwcmVzc2lvblN0YXRlbWVudCc6XG4gICAgICAgICAgICBjYXNlICdGb3JJblN0YXRlbWVudCc6XG4gICAgICAgICAgICBjYXNlICdGb3JTdGF0ZW1lbnQnOlxuICAgICAgICAgICAgY2FzZSAnSWZTdGF0ZW1lbnQnOlxuICAgICAgICAgICAgY2FzZSAnTGFiZWxlZFN0YXRlbWVudCc6XG4gICAgICAgICAgICBjYXNlICdSZXR1cm5TdGF0ZW1lbnQnOlxuICAgICAgICAgICAgY2FzZSAnU3dpdGNoU3RhdGVtZW50JzpcbiAgICAgICAgICAgIGNhc2UgJ1Rocm93U3RhdGVtZW50JzpcbiAgICAgICAgICAgIGNhc2UgJ1RyeVN0YXRlbWVudCc6XG4gICAgICAgICAgICBjYXNlICdWYXJpYWJsZURlY2xhcmF0aW9uJzpcbiAgICAgICAgICAgIGNhc2UgJ1doaWxlU3RhdGVtZW50JzpcbiAgICAgICAgICAgIGNhc2UgJ1dpdGhTdGF0ZW1lbnQnOlxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc1NvdXJjZUVsZW1lbnQobm9kZSkge1xuICAgICAgcmV0dXJuIGlzU3RhdGVtZW50KG5vZGUpIHx8IG5vZGUgIT0gbnVsbCAmJiBub2RlLnR5cGUgPT09ICdGdW5jdGlvbkRlY2xhcmF0aW9uJztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0cmFpbGluZ1N0YXRlbWVudChub2RlKSB7XG4gICAgICAgIHN3aXRjaCAobm9kZS50eXBlKSB7XG4gICAgICAgIGNhc2UgJ0lmU3RhdGVtZW50JzpcbiAgICAgICAgICAgIGlmIChub2RlLmFsdGVybmF0ZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5vZGUuYWx0ZXJuYXRlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5vZGUuY29uc2VxdWVudDtcblxuICAgICAgICBjYXNlICdMYWJlbGVkU3RhdGVtZW50JzpcbiAgICAgICAgY2FzZSAnRm9yU3RhdGVtZW50JzpcbiAgICAgICAgY2FzZSAnRm9ySW5TdGF0ZW1lbnQnOlxuICAgICAgICBjYXNlICdXaGlsZVN0YXRlbWVudCc6XG4gICAgICAgIGNhc2UgJ1dpdGhTdGF0ZW1lbnQnOlxuICAgICAgICAgICAgcmV0dXJuIG5vZGUuYm9keTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc1Byb2JsZW1hdGljSWZTdGF0ZW1lbnQobm9kZSkge1xuICAgICAgICB2YXIgY3VycmVudDtcblxuICAgICAgICBpZiAobm9kZS50eXBlICE9PSAnSWZTdGF0ZW1lbnQnKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5vZGUuYWx0ZXJuYXRlID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBjdXJyZW50ID0gbm9kZS5jb25zZXF1ZW50O1xuICAgICAgICBkbyB7XG4gICAgICAgICAgICBpZiAoY3VycmVudC50eXBlID09PSAnSWZTdGF0ZW1lbnQnKSB7XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnQuYWx0ZXJuYXRlID09IG51bGwpICB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN1cnJlbnQgPSB0cmFpbGluZ1N0YXRlbWVudChjdXJyZW50KTtcbiAgICAgICAgfSB3aGlsZSAoY3VycmVudCk7XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIG1vZHVsZS5leHBvcnRzID0ge1xuICAgICAgICBpc0V4cHJlc3Npb246IGlzRXhwcmVzc2lvbixcbiAgICAgICAgaXNTdGF0ZW1lbnQ6IGlzU3RhdGVtZW50LFxuICAgICAgICBpc0l0ZXJhdGlvblN0YXRlbWVudDogaXNJdGVyYXRpb25TdGF0ZW1lbnQsXG4gICAgICAgIGlzU291cmNlRWxlbWVudDogaXNTb3VyY2VFbGVtZW50LFxuICAgICAgICBpc1Byb2JsZW1hdGljSWZTdGF0ZW1lbnQ6IGlzUHJvYmxlbWF0aWNJZlN0YXRlbWVudCxcblxuICAgICAgICB0cmFpbGluZ1N0YXRlbWVudDogdHJhaWxpbmdTdGF0ZW1lbnRcbiAgICB9O1xufSgpKTtcbi8qIHZpbTogc2V0IHN3PTQgdHM9NCBldCB0dz04MCA6ICovXG4iLCIvKlxuICBDb3B5cmlnaHQgKEMpIDIwMTMtMjAxNCBZdXN1a2UgU3V6dWtpIDx1dGF0YW5lLnRlYUBnbWFpbC5jb20+XG4gIENvcHlyaWdodCAoQykgMjAxNCBJdmFuIE5pa3VsaW4gPGlmYWFhbkBnbWFpbC5jb20+XG5cbiAgUmVkaXN0cmlidXRpb24gYW5kIHVzZSBpbiBzb3VyY2UgYW5kIGJpbmFyeSBmb3Jtcywgd2l0aCBvciB3aXRob3V0XG4gIG1vZGlmaWNhdGlvbiwgYXJlIHBlcm1pdHRlZCBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBhcmUgbWV0OlxuXG4gICAgKiBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRhaW4gdGhlIGFib3ZlIGNvcHlyaWdodFxuICAgICAgbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyLlxuICAgICogUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZSBjb3B5cmlnaHRcbiAgICAgIG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lciBpbiB0aGVcbiAgICAgIGRvY3VtZW50YXRpb24gYW5kL29yIG90aGVyIG1hdGVyaWFscyBwcm92aWRlZCB3aXRoIHRoZSBkaXN0cmlidXRpb24uXG5cbiAgVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SUyBcIkFTIElTXCJcbiAgQU5EIEFOWSBFWFBSRVNTIE9SIElNUExJRUQgV0FSUkFOVElFUywgSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sIFRIRVxuICBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRVxuICBBUkUgRElTQ0xBSU1FRC4gSU4gTk8gRVZFTlQgU0hBTEwgPENPUFlSSUdIVCBIT0xERVI+IEJFIExJQUJMRSBGT1IgQU5ZXG4gIERJUkVDVCwgSU5ESVJFQ1QsIElOQ0lERU5UQUwsIFNQRUNJQUwsIEVYRU1QTEFSWSwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTXG4gIChJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUztcbiAgTE9TUyBPRiBVU0UsIERBVEEsIE9SIFBST0ZJVFM7IE9SIEJVU0lORVNTIElOVEVSUlVQVElPTikgSE9XRVZFUiBDQVVTRUQgQU5EXG4gIE9OIEFOWSBUSEVPUlkgT0YgTElBQklMSVRZLCBXSEVUSEVSIElOIENPTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLCBPUiBUT1JUXG4gIChJTkNMVURJTkcgTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0YgVEhFIFVTRSBPRlxuICBUSElTIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFIFBPU1NJQklMSVRZIE9GIFNVQ0ggREFNQUdFLlxuKi9cblxuKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICB2YXIgRVM2UmVnZXgsIEVTNVJlZ2V4LCBOT05fQVNDSUlfV0hJVEVTUEFDRVMsIElERU5USUZJRVJfU1RBUlQsIElERU5USUZJRVJfUEFSVCwgY2g7XG5cbiAgICAvLyBTZWUgYHRvb2xzL2dlbmVyYXRlLWlkZW50aWZpZXItcmVnZXguanNgLlxuICAgIEVTNVJlZ2V4ID0ge1xuICAgICAgICAvLyBFQ01BU2NyaXB0IDUuMS9Vbmljb2RlIHY5LjAuMCBOb25Bc2NpaUlkZW50aWZpZXJTdGFydDpcbiAgICAgICAgTm9uQXNjaWlJZGVudGlmaWVyU3RhcnQ6IC9bXFx4QUFcXHhCNVxceEJBXFx4QzAtXFx4RDZcXHhEOC1cXHhGNlxceEY4LVxcdTAyQzFcXHUwMkM2LVxcdTAyRDFcXHUwMkUwLVxcdTAyRTRcXHUwMkVDXFx1MDJFRVxcdTAzNzAtXFx1MDM3NFxcdTAzNzZcXHUwMzc3XFx1MDM3QS1cXHUwMzdEXFx1MDM3RlxcdTAzODZcXHUwMzg4LVxcdTAzOEFcXHUwMzhDXFx1MDM4RS1cXHUwM0ExXFx1MDNBMy1cXHUwM0Y1XFx1MDNGNy1cXHUwNDgxXFx1MDQ4QS1cXHUwNTJGXFx1MDUzMS1cXHUwNTU2XFx1MDU1OVxcdTA1NjEtXFx1MDU4N1xcdTA1RDAtXFx1MDVFQVxcdTA1RjAtXFx1MDVGMlxcdTA2MjAtXFx1MDY0QVxcdTA2NkVcXHUwNjZGXFx1MDY3MS1cXHUwNkQzXFx1MDZENVxcdTA2RTVcXHUwNkU2XFx1MDZFRVxcdTA2RUZcXHUwNkZBLVxcdTA2RkNcXHUwNkZGXFx1MDcxMFxcdTA3MTItXFx1MDcyRlxcdTA3NEQtXFx1MDdBNVxcdTA3QjFcXHUwN0NBLVxcdTA3RUFcXHUwN0Y0XFx1MDdGNVxcdTA3RkFcXHUwODAwLVxcdTA4MTVcXHUwODFBXFx1MDgyNFxcdTA4MjhcXHUwODQwLVxcdTA4NThcXHUwOEEwLVxcdTA4QjRcXHUwOEI2LVxcdTA4QkRcXHUwOTA0LVxcdTA5MzlcXHUwOTNEXFx1MDk1MFxcdTA5NTgtXFx1MDk2MVxcdTA5NzEtXFx1MDk4MFxcdTA5ODUtXFx1MDk4Q1xcdTA5OEZcXHUwOTkwXFx1MDk5My1cXHUwOUE4XFx1MDlBQS1cXHUwOUIwXFx1MDlCMlxcdTA5QjYtXFx1MDlCOVxcdTA5QkRcXHUwOUNFXFx1MDlEQ1xcdTA5RERcXHUwOURGLVxcdTA5RTFcXHUwOUYwXFx1MDlGMVxcdTBBMDUtXFx1MEEwQVxcdTBBMEZcXHUwQTEwXFx1MEExMy1cXHUwQTI4XFx1MEEyQS1cXHUwQTMwXFx1MEEzMlxcdTBBMzNcXHUwQTM1XFx1MEEzNlxcdTBBMzhcXHUwQTM5XFx1MEE1OS1cXHUwQTVDXFx1MEE1RVxcdTBBNzItXFx1MEE3NFxcdTBBODUtXFx1MEE4RFxcdTBBOEYtXFx1MEE5MVxcdTBBOTMtXFx1MEFBOFxcdTBBQUEtXFx1MEFCMFxcdTBBQjJcXHUwQUIzXFx1MEFCNS1cXHUwQUI5XFx1MEFCRFxcdTBBRDBcXHUwQUUwXFx1MEFFMVxcdTBBRjlcXHUwQjA1LVxcdTBCMENcXHUwQjBGXFx1MEIxMFxcdTBCMTMtXFx1MEIyOFxcdTBCMkEtXFx1MEIzMFxcdTBCMzJcXHUwQjMzXFx1MEIzNS1cXHUwQjM5XFx1MEIzRFxcdTBCNUNcXHUwQjVEXFx1MEI1Ri1cXHUwQjYxXFx1MEI3MVxcdTBCODNcXHUwQjg1LVxcdTBCOEFcXHUwQjhFLVxcdTBCOTBcXHUwQjkyLVxcdTBCOTVcXHUwQjk5XFx1MEI5QVxcdTBCOUNcXHUwQjlFXFx1MEI5RlxcdTBCQTNcXHUwQkE0XFx1MEJBOC1cXHUwQkFBXFx1MEJBRS1cXHUwQkI5XFx1MEJEMFxcdTBDMDUtXFx1MEMwQ1xcdTBDMEUtXFx1MEMxMFxcdTBDMTItXFx1MEMyOFxcdTBDMkEtXFx1MEMzOVxcdTBDM0RcXHUwQzU4LVxcdTBDNUFcXHUwQzYwXFx1MEM2MVxcdTBDODBcXHUwQzg1LVxcdTBDOENcXHUwQzhFLVxcdTBDOTBcXHUwQzkyLVxcdTBDQThcXHUwQ0FBLVxcdTBDQjNcXHUwQ0I1LVxcdTBDQjlcXHUwQ0JEXFx1MENERVxcdTBDRTBcXHUwQ0UxXFx1MENGMVxcdTBDRjJcXHUwRDA1LVxcdTBEMENcXHUwRDBFLVxcdTBEMTBcXHUwRDEyLVxcdTBEM0FcXHUwRDNEXFx1MEQ0RVxcdTBENTQtXFx1MEQ1NlxcdTBENUYtXFx1MEQ2MVxcdTBEN0EtXFx1MEQ3RlxcdTBEODUtXFx1MEQ5NlxcdTBEOUEtXFx1MERCMVxcdTBEQjMtXFx1MERCQlxcdTBEQkRcXHUwREMwLVxcdTBEQzZcXHUwRTAxLVxcdTBFMzBcXHUwRTMyXFx1MEUzM1xcdTBFNDAtXFx1MEU0NlxcdTBFODFcXHUwRTgyXFx1MEU4NFxcdTBFODdcXHUwRTg4XFx1MEU4QVxcdTBFOERcXHUwRTk0LVxcdTBFOTdcXHUwRTk5LVxcdTBFOUZcXHUwRUExLVxcdTBFQTNcXHUwRUE1XFx1MEVBN1xcdTBFQUFcXHUwRUFCXFx1MEVBRC1cXHUwRUIwXFx1MEVCMlxcdTBFQjNcXHUwRUJEXFx1MEVDMC1cXHUwRUM0XFx1MEVDNlxcdTBFREMtXFx1MEVERlxcdTBGMDBcXHUwRjQwLVxcdTBGNDdcXHUwRjQ5LVxcdTBGNkNcXHUwRjg4LVxcdTBGOENcXHUxMDAwLVxcdTEwMkFcXHUxMDNGXFx1MTA1MC1cXHUxMDU1XFx1MTA1QS1cXHUxMDVEXFx1MTA2MVxcdTEwNjVcXHUxMDY2XFx1MTA2RS1cXHUxMDcwXFx1MTA3NS1cXHUxMDgxXFx1MTA4RVxcdTEwQTAtXFx1MTBDNVxcdTEwQzdcXHUxMENEXFx1MTBEMC1cXHUxMEZBXFx1MTBGQy1cXHUxMjQ4XFx1MTI0QS1cXHUxMjREXFx1MTI1MC1cXHUxMjU2XFx1MTI1OFxcdTEyNUEtXFx1MTI1RFxcdTEyNjAtXFx1MTI4OFxcdTEyOEEtXFx1MTI4RFxcdTEyOTAtXFx1MTJCMFxcdTEyQjItXFx1MTJCNVxcdTEyQjgtXFx1MTJCRVxcdTEyQzBcXHUxMkMyLVxcdTEyQzVcXHUxMkM4LVxcdTEyRDZcXHUxMkQ4LVxcdTEzMTBcXHUxMzEyLVxcdTEzMTVcXHUxMzE4LVxcdTEzNUFcXHUxMzgwLVxcdTEzOEZcXHUxM0EwLVxcdTEzRjVcXHUxM0Y4LVxcdTEzRkRcXHUxNDAxLVxcdTE2NkNcXHUxNjZGLVxcdTE2N0ZcXHUxNjgxLVxcdTE2OUFcXHUxNkEwLVxcdTE2RUFcXHUxNkVFLVxcdTE2RjhcXHUxNzAwLVxcdTE3MENcXHUxNzBFLVxcdTE3MTFcXHUxNzIwLVxcdTE3MzFcXHUxNzQwLVxcdTE3NTFcXHUxNzYwLVxcdTE3NkNcXHUxNzZFLVxcdTE3NzBcXHUxNzgwLVxcdTE3QjNcXHUxN0Q3XFx1MTdEQ1xcdTE4MjAtXFx1MTg3N1xcdTE4ODAtXFx1MTg4NFxcdTE4ODctXFx1MThBOFxcdTE4QUFcXHUxOEIwLVxcdTE4RjVcXHUxOTAwLVxcdTE5MUVcXHUxOTUwLVxcdTE5NkRcXHUxOTcwLVxcdTE5NzRcXHUxOTgwLVxcdTE5QUJcXHUxOUIwLVxcdTE5QzlcXHUxQTAwLVxcdTFBMTZcXHUxQTIwLVxcdTFBNTRcXHUxQUE3XFx1MUIwNS1cXHUxQjMzXFx1MUI0NS1cXHUxQjRCXFx1MUI4My1cXHUxQkEwXFx1MUJBRVxcdTFCQUZcXHUxQkJBLVxcdTFCRTVcXHUxQzAwLVxcdTFDMjNcXHUxQzRELVxcdTFDNEZcXHUxQzVBLVxcdTFDN0RcXHUxQzgwLVxcdTFDODhcXHUxQ0U5LVxcdTFDRUNcXHUxQ0VFLVxcdTFDRjFcXHUxQ0Y1XFx1MUNGNlxcdTFEMDAtXFx1MURCRlxcdTFFMDAtXFx1MUYxNVxcdTFGMTgtXFx1MUYxRFxcdTFGMjAtXFx1MUY0NVxcdTFGNDgtXFx1MUY0RFxcdTFGNTAtXFx1MUY1N1xcdTFGNTlcXHUxRjVCXFx1MUY1RFxcdTFGNUYtXFx1MUY3RFxcdTFGODAtXFx1MUZCNFxcdTFGQjYtXFx1MUZCQ1xcdTFGQkVcXHUxRkMyLVxcdTFGQzRcXHUxRkM2LVxcdTFGQ0NcXHUxRkQwLVxcdTFGRDNcXHUxRkQ2LVxcdTFGREJcXHUxRkUwLVxcdTFGRUNcXHUxRkYyLVxcdTFGRjRcXHUxRkY2LVxcdTFGRkNcXHUyMDcxXFx1MjA3RlxcdTIwOTAtXFx1MjA5Q1xcdTIxMDJcXHUyMTA3XFx1MjEwQS1cXHUyMTEzXFx1MjExNVxcdTIxMTktXFx1MjExRFxcdTIxMjRcXHUyMTI2XFx1MjEyOFxcdTIxMkEtXFx1MjEyRFxcdTIxMkYtXFx1MjEzOVxcdTIxM0MtXFx1MjEzRlxcdTIxNDUtXFx1MjE0OVxcdTIxNEVcXHUyMTYwLVxcdTIxODhcXHUyQzAwLVxcdTJDMkVcXHUyQzMwLVxcdTJDNUVcXHUyQzYwLVxcdTJDRTRcXHUyQ0VCLVxcdTJDRUVcXHUyQ0YyXFx1MkNGM1xcdTJEMDAtXFx1MkQyNVxcdTJEMjdcXHUyRDJEXFx1MkQzMC1cXHUyRDY3XFx1MkQ2RlxcdTJEODAtXFx1MkQ5NlxcdTJEQTAtXFx1MkRBNlxcdTJEQTgtXFx1MkRBRVxcdTJEQjAtXFx1MkRCNlxcdTJEQjgtXFx1MkRCRVxcdTJEQzAtXFx1MkRDNlxcdTJEQzgtXFx1MkRDRVxcdTJERDAtXFx1MkRENlxcdTJERDgtXFx1MkRERVxcdTJFMkZcXHUzMDA1LVxcdTMwMDdcXHUzMDIxLVxcdTMwMjlcXHUzMDMxLVxcdTMwMzVcXHUzMDM4LVxcdTMwM0NcXHUzMDQxLVxcdTMwOTZcXHUzMDlELVxcdTMwOUZcXHUzMEExLVxcdTMwRkFcXHUzMEZDLVxcdTMwRkZcXHUzMTA1LVxcdTMxMkRcXHUzMTMxLVxcdTMxOEVcXHUzMUEwLVxcdTMxQkFcXHUzMUYwLVxcdTMxRkZcXHUzNDAwLVxcdTREQjVcXHU0RTAwLVxcdTlGRDVcXHVBMDAwLVxcdUE0OENcXHVBNEQwLVxcdUE0RkRcXHVBNTAwLVxcdUE2MENcXHVBNjEwLVxcdUE2MUZcXHVBNjJBXFx1QTYyQlxcdUE2NDAtXFx1QTY2RVxcdUE2N0YtXFx1QTY5RFxcdUE2QTAtXFx1QTZFRlxcdUE3MTctXFx1QTcxRlxcdUE3MjItXFx1QTc4OFxcdUE3OEItXFx1QTdBRVxcdUE3QjAtXFx1QTdCN1xcdUE3RjctXFx1QTgwMVxcdUE4MDMtXFx1QTgwNVxcdUE4MDctXFx1QTgwQVxcdUE4MEMtXFx1QTgyMlxcdUE4NDAtXFx1QTg3M1xcdUE4ODItXFx1QThCM1xcdUE4RjItXFx1QThGN1xcdUE4RkJcXHVBOEZEXFx1QTkwQS1cXHVBOTI1XFx1QTkzMC1cXHVBOTQ2XFx1QTk2MC1cXHVBOTdDXFx1QTk4NC1cXHVBOUIyXFx1QTlDRlxcdUE5RTAtXFx1QTlFNFxcdUE5RTYtXFx1QTlFRlxcdUE5RkEtXFx1QTlGRVxcdUFBMDAtXFx1QUEyOFxcdUFBNDAtXFx1QUE0MlxcdUFBNDQtXFx1QUE0QlxcdUFBNjAtXFx1QUE3NlxcdUFBN0FcXHVBQTdFLVxcdUFBQUZcXHVBQUIxXFx1QUFCNVxcdUFBQjZcXHVBQUI5LVxcdUFBQkRcXHVBQUMwXFx1QUFDMlxcdUFBREItXFx1QUFERFxcdUFBRTAtXFx1QUFFQVxcdUFBRjItXFx1QUFGNFxcdUFCMDEtXFx1QUIwNlxcdUFCMDktXFx1QUIwRVxcdUFCMTEtXFx1QUIxNlxcdUFCMjAtXFx1QUIyNlxcdUFCMjgtXFx1QUIyRVxcdUFCMzAtXFx1QUI1QVxcdUFCNUMtXFx1QUI2NVxcdUFCNzAtXFx1QUJFMlxcdUFDMDAtXFx1RDdBM1xcdUQ3QjAtXFx1RDdDNlxcdUQ3Q0ItXFx1RDdGQlxcdUY5MDAtXFx1RkE2RFxcdUZBNzAtXFx1RkFEOVxcdUZCMDAtXFx1RkIwNlxcdUZCMTMtXFx1RkIxN1xcdUZCMURcXHVGQjFGLVxcdUZCMjhcXHVGQjJBLVxcdUZCMzZcXHVGQjM4LVxcdUZCM0NcXHVGQjNFXFx1RkI0MFxcdUZCNDFcXHVGQjQzXFx1RkI0NFxcdUZCNDYtXFx1RkJCMVxcdUZCRDMtXFx1RkQzRFxcdUZENTAtXFx1RkQ4RlxcdUZEOTItXFx1RkRDN1xcdUZERjAtXFx1RkRGQlxcdUZFNzAtXFx1RkU3NFxcdUZFNzYtXFx1RkVGQ1xcdUZGMjEtXFx1RkYzQVxcdUZGNDEtXFx1RkY1QVxcdUZGNjYtXFx1RkZCRVxcdUZGQzItXFx1RkZDN1xcdUZGQ0EtXFx1RkZDRlxcdUZGRDItXFx1RkZEN1xcdUZGREEtXFx1RkZEQ10vLFxuICAgICAgICAvLyBFQ01BU2NyaXB0IDUuMS9Vbmljb2RlIHY5LjAuMCBOb25Bc2NpaUlkZW50aWZpZXJQYXJ0OlxuICAgICAgICBOb25Bc2NpaUlkZW50aWZpZXJQYXJ0OiAvW1xceEFBXFx4QjVcXHhCQVxceEMwLVxceEQ2XFx4RDgtXFx4RjZcXHhGOC1cXHUwMkMxXFx1MDJDNi1cXHUwMkQxXFx1MDJFMC1cXHUwMkU0XFx1MDJFQ1xcdTAyRUVcXHUwMzAwLVxcdTAzNzRcXHUwMzc2XFx1MDM3N1xcdTAzN0EtXFx1MDM3RFxcdTAzN0ZcXHUwMzg2XFx1MDM4OC1cXHUwMzhBXFx1MDM4Q1xcdTAzOEUtXFx1MDNBMVxcdTAzQTMtXFx1MDNGNVxcdTAzRjctXFx1MDQ4MVxcdTA0ODMtXFx1MDQ4N1xcdTA0OEEtXFx1MDUyRlxcdTA1MzEtXFx1MDU1NlxcdTA1NTlcXHUwNTYxLVxcdTA1ODdcXHUwNTkxLVxcdTA1QkRcXHUwNUJGXFx1MDVDMVxcdTA1QzJcXHUwNUM0XFx1MDVDNVxcdTA1QzdcXHUwNUQwLVxcdTA1RUFcXHUwNUYwLVxcdTA1RjJcXHUwNjEwLVxcdTA2MUFcXHUwNjIwLVxcdTA2NjlcXHUwNjZFLVxcdTA2RDNcXHUwNkQ1LVxcdTA2RENcXHUwNkRGLVxcdTA2RThcXHUwNkVBLVxcdTA2RkNcXHUwNkZGXFx1MDcxMC1cXHUwNzRBXFx1MDc0RC1cXHUwN0IxXFx1MDdDMC1cXHUwN0Y1XFx1MDdGQVxcdTA4MDAtXFx1MDgyRFxcdTA4NDAtXFx1MDg1QlxcdTA4QTAtXFx1MDhCNFxcdTA4QjYtXFx1MDhCRFxcdTA4RDQtXFx1MDhFMVxcdTA4RTMtXFx1MDk2M1xcdTA5NjYtXFx1MDk2RlxcdTA5NzEtXFx1MDk4M1xcdTA5ODUtXFx1MDk4Q1xcdTA5OEZcXHUwOTkwXFx1MDk5My1cXHUwOUE4XFx1MDlBQS1cXHUwOUIwXFx1MDlCMlxcdTA5QjYtXFx1MDlCOVxcdTA5QkMtXFx1MDlDNFxcdTA5QzdcXHUwOUM4XFx1MDlDQi1cXHUwOUNFXFx1MDlEN1xcdTA5RENcXHUwOUREXFx1MDlERi1cXHUwOUUzXFx1MDlFNi1cXHUwOUYxXFx1MEEwMS1cXHUwQTAzXFx1MEEwNS1cXHUwQTBBXFx1MEEwRlxcdTBBMTBcXHUwQTEzLVxcdTBBMjhcXHUwQTJBLVxcdTBBMzBcXHUwQTMyXFx1MEEzM1xcdTBBMzVcXHUwQTM2XFx1MEEzOFxcdTBBMzlcXHUwQTNDXFx1MEEzRS1cXHUwQTQyXFx1MEE0N1xcdTBBNDhcXHUwQTRCLVxcdTBBNERcXHUwQTUxXFx1MEE1OS1cXHUwQTVDXFx1MEE1RVxcdTBBNjYtXFx1MEE3NVxcdTBBODEtXFx1MEE4M1xcdTBBODUtXFx1MEE4RFxcdTBBOEYtXFx1MEE5MVxcdTBBOTMtXFx1MEFBOFxcdTBBQUEtXFx1MEFCMFxcdTBBQjJcXHUwQUIzXFx1MEFCNS1cXHUwQUI5XFx1MEFCQy1cXHUwQUM1XFx1MEFDNy1cXHUwQUM5XFx1MEFDQi1cXHUwQUNEXFx1MEFEMFxcdTBBRTAtXFx1MEFFM1xcdTBBRTYtXFx1MEFFRlxcdTBBRjlcXHUwQjAxLVxcdTBCMDNcXHUwQjA1LVxcdTBCMENcXHUwQjBGXFx1MEIxMFxcdTBCMTMtXFx1MEIyOFxcdTBCMkEtXFx1MEIzMFxcdTBCMzJcXHUwQjMzXFx1MEIzNS1cXHUwQjM5XFx1MEIzQy1cXHUwQjQ0XFx1MEI0N1xcdTBCNDhcXHUwQjRCLVxcdTBCNERcXHUwQjU2XFx1MEI1N1xcdTBCNUNcXHUwQjVEXFx1MEI1Ri1cXHUwQjYzXFx1MEI2Ni1cXHUwQjZGXFx1MEI3MVxcdTBCODJcXHUwQjgzXFx1MEI4NS1cXHUwQjhBXFx1MEI4RS1cXHUwQjkwXFx1MEI5Mi1cXHUwQjk1XFx1MEI5OVxcdTBCOUFcXHUwQjlDXFx1MEI5RVxcdTBCOUZcXHUwQkEzXFx1MEJBNFxcdTBCQTgtXFx1MEJBQVxcdTBCQUUtXFx1MEJCOVxcdTBCQkUtXFx1MEJDMlxcdTBCQzYtXFx1MEJDOFxcdTBCQ0EtXFx1MEJDRFxcdTBCRDBcXHUwQkQ3XFx1MEJFNi1cXHUwQkVGXFx1MEMwMC1cXHUwQzAzXFx1MEMwNS1cXHUwQzBDXFx1MEMwRS1cXHUwQzEwXFx1MEMxMi1cXHUwQzI4XFx1MEMyQS1cXHUwQzM5XFx1MEMzRC1cXHUwQzQ0XFx1MEM0Ni1cXHUwQzQ4XFx1MEM0QS1cXHUwQzREXFx1MEM1NVxcdTBDNTZcXHUwQzU4LVxcdTBDNUFcXHUwQzYwLVxcdTBDNjNcXHUwQzY2LVxcdTBDNkZcXHUwQzgwLVxcdTBDODNcXHUwQzg1LVxcdTBDOENcXHUwQzhFLVxcdTBDOTBcXHUwQzkyLVxcdTBDQThcXHUwQ0FBLVxcdTBDQjNcXHUwQ0I1LVxcdTBDQjlcXHUwQ0JDLVxcdTBDQzRcXHUwQ0M2LVxcdTBDQzhcXHUwQ0NBLVxcdTBDQ0RcXHUwQ0Q1XFx1MENENlxcdTBDREVcXHUwQ0UwLVxcdTBDRTNcXHUwQ0U2LVxcdTBDRUZcXHUwQ0YxXFx1MENGMlxcdTBEMDEtXFx1MEQwM1xcdTBEMDUtXFx1MEQwQ1xcdTBEMEUtXFx1MEQxMFxcdTBEMTItXFx1MEQzQVxcdTBEM0QtXFx1MEQ0NFxcdTBENDYtXFx1MEQ0OFxcdTBENEEtXFx1MEQ0RVxcdTBENTQtXFx1MEQ1N1xcdTBENUYtXFx1MEQ2M1xcdTBENjYtXFx1MEQ2RlxcdTBEN0EtXFx1MEQ3RlxcdTBEODJcXHUwRDgzXFx1MEQ4NS1cXHUwRDk2XFx1MEQ5QS1cXHUwREIxXFx1MERCMy1cXHUwREJCXFx1MERCRFxcdTBEQzAtXFx1MERDNlxcdTBEQ0FcXHUwRENGLVxcdTBERDRcXHUwREQ2XFx1MEREOC1cXHUwRERGXFx1MERFNi1cXHUwREVGXFx1MERGMlxcdTBERjNcXHUwRTAxLVxcdTBFM0FcXHUwRTQwLVxcdTBFNEVcXHUwRTUwLVxcdTBFNTlcXHUwRTgxXFx1MEU4MlxcdTBFODRcXHUwRTg3XFx1MEU4OFxcdTBFOEFcXHUwRThEXFx1MEU5NC1cXHUwRTk3XFx1MEU5OS1cXHUwRTlGXFx1MEVBMS1cXHUwRUEzXFx1MEVBNVxcdTBFQTdcXHUwRUFBXFx1MEVBQlxcdTBFQUQtXFx1MEVCOVxcdTBFQkItXFx1MEVCRFxcdTBFQzAtXFx1MEVDNFxcdTBFQzZcXHUwRUM4LVxcdTBFQ0RcXHUwRUQwLVxcdTBFRDlcXHUwRURDLVxcdTBFREZcXHUwRjAwXFx1MEYxOFxcdTBGMTlcXHUwRjIwLVxcdTBGMjlcXHUwRjM1XFx1MEYzN1xcdTBGMzlcXHUwRjNFLVxcdTBGNDdcXHUwRjQ5LVxcdTBGNkNcXHUwRjcxLVxcdTBGODRcXHUwRjg2LVxcdTBGOTdcXHUwRjk5LVxcdTBGQkNcXHUwRkM2XFx1MTAwMC1cXHUxMDQ5XFx1MTA1MC1cXHUxMDlEXFx1MTBBMC1cXHUxMEM1XFx1MTBDN1xcdTEwQ0RcXHUxMEQwLVxcdTEwRkFcXHUxMEZDLVxcdTEyNDhcXHUxMjRBLVxcdTEyNERcXHUxMjUwLVxcdTEyNTZcXHUxMjU4XFx1MTI1QS1cXHUxMjVEXFx1MTI2MC1cXHUxMjg4XFx1MTI4QS1cXHUxMjhEXFx1MTI5MC1cXHUxMkIwXFx1MTJCMi1cXHUxMkI1XFx1MTJCOC1cXHUxMkJFXFx1MTJDMFxcdTEyQzItXFx1MTJDNVxcdTEyQzgtXFx1MTJENlxcdTEyRDgtXFx1MTMxMFxcdTEzMTItXFx1MTMxNVxcdTEzMTgtXFx1MTM1QVxcdTEzNUQtXFx1MTM1RlxcdTEzODAtXFx1MTM4RlxcdTEzQTAtXFx1MTNGNVxcdTEzRjgtXFx1MTNGRFxcdTE0MDEtXFx1MTY2Q1xcdTE2NkYtXFx1MTY3RlxcdTE2ODEtXFx1MTY5QVxcdTE2QTAtXFx1MTZFQVxcdTE2RUUtXFx1MTZGOFxcdTE3MDAtXFx1MTcwQ1xcdTE3MEUtXFx1MTcxNFxcdTE3MjAtXFx1MTczNFxcdTE3NDAtXFx1MTc1M1xcdTE3NjAtXFx1MTc2Q1xcdTE3NkUtXFx1MTc3MFxcdTE3NzJcXHUxNzczXFx1MTc4MC1cXHUxN0QzXFx1MTdEN1xcdTE3RENcXHUxN0REXFx1MTdFMC1cXHUxN0U5XFx1MTgwQi1cXHUxODBEXFx1MTgxMC1cXHUxODE5XFx1MTgyMC1cXHUxODc3XFx1MTg4MC1cXHUxOEFBXFx1MThCMC1cXHUxOEY1XFx1MTkwMC1cXHUxOTFFXFx1MTkyMC1cXHUxOTJCXFx1MTkzMC1cXHUxOTNCXFx1MTk0Ni1cXHUxOTZEXFx1MTk3MC1cXHUxOTc0XFx1MTk4MC1cXHUxOUFCXFx1MTlCMC1cXHUxOUM5XFx1MTlEMC1cXHUxOUQ5XFx1MUEwMC1cXHUxQTFCXFx1MUEyMC1cXHUxQTVFXFx1MUE2MC1cXHUxQTdDXFx1MUE3Ri1cXHUxQTg5XFx1MUE5MC1cXHUxQTk5XFx1MUFBN1xcdTFBQjAtXFx1MUFCRFxcdTFCMDAtXFx1MUI0QlxcdTFCNTAtXFx1MUI1OVxcdTFCNkItXFx1MUI3M1xcdTFCODAtXFx1MUJGM1xcdTFDMDAtXFx1MUMzN1xcdTFDNDAtXFx1MUM0OVxcdTFDNEQtXFx1MUM3RFxcdTFDODAtXFx1MUM4OFxcdTFDRDAtXFx1MUNEMlxcdTFDRDQtXFx1MUNGNlxcdTFDRjhcXHUxQ0Y5XFx1MUQwMC1cXHUxREY1XFx1MURGQi1cXHUxRjE1XFx1MUYxOC1cXHUxRjFEXFx1MUYyMC1cXHUxRjQ1XFx1MUY0OC1cXHUxRjREXFx1MUY1MC1cXHUxRjU3XFx1MUY1OVxcdTFGNUJcXHUxRjVEXFx1MUY1Ri1cXHUxRjdEXFx1MUY4MC1cXHUxRkI0XFx1MUZCNi1cXHUxRkJDXFx1MUZCRVxcdTFGQzItXFx1MUZDNFxcdTFGQzYtXFx1MUZDQ1xcdTFGRDAtXFx1MUZEM1xcdTFGRDYtXFx1MUZEQlxcdTFGRTAtXFx1MUZFQ1xcdTFGRjItXFx1MUZGNFxcdTFGRjYtXFx1MUZGQ1xcdTIwMENcXHUyMDBEXFx1MjAzRlxcdTIwNDBcXHUyMDU0XFx1MjA3MVxcdTIwN0ZcXHUyMDkwLVxcdTIwOUNcXHUyMEQwLVxcdTIwRENcXHUyMEUxXFx1MjBFNS1cXHUyMEYwXFx1MjEwMlxcdTIxMDdcXHUyMTBBLVxcdTIxMTNcXHUyMTE1XFx1MjExOS1cXHUyMTFEXFx1MjEyNFxcdTIxMjZcXHUyMTI4XFx1MjEyQS1cXHUyMTJEXFx1MjEyRi1cXHUyMTM5XFx1MjEzQy1cXHUyMTNGXFx1MjE0NS1cXHUyMTQ5XFx1MjE0RVxcdTIxNjAtXFx1MjE4OFxcdTJDMDAtXFx1MkMyRVxcdTJDMzAtXFx1MkM1RVxcdTJDNjAtXFx1MkNFNFxcdTJDRUItXFx1MkNGM1xcdTJEMDAtXFx1MkQyNVxcdTJEMjdcXHUyRDJEXFx1MkQzMC1cXHUyRDY3XFx1MkQ2RlxcdTJEN0YtXFx1MkQ5NlxcdTJEQTAtXFx1MkRBNlxcdTJEQTgtXFx1MkRBRVxcdTJEQjAtXFx1MkRCNlxcdTJEQjgtXFx1MkRCRVxcdTJEQzAtXFx1MkRDNlxcdTJEQzgtXFx1MkRDRVxcdTJERDAtXFx1MkRENlxcdTJERDgtXFx1MkRERVxcdTJERTAtXFx1MkRGRlxcdTJFMkZcXHUzMDA1LVxcdTMwMDdcXHUzMDIxLVxcdTMwMkZcXHUzMDMxLVxcdTMwMzVcXHUzMDM4LVxcdTMwM0NcXHUzMDQxLVxcdTMwOTZcXHUzMDk5XFx1MzA5QVxcdTMwOUQtXFx1MzA5RlxcdTMwQTEtXFx1MzBGQVxcdTMwRkMtXFx1MzBGRlxcdTMxMDUtXFx1MzEyRFxcdTMxMzEtXFx1MzE4RVxcdTMxQTAtXFx1MzFCQVxcdTMxRjAtXFx1MzFGRlxcdTM0MDAtXFx1NERCNVxcdTRFMDAtXFx1OUZENVxcdUEwMDAtXFx1QTQ4Q1xcdUE0RDAtXFx1QTRGRFxcdUE1MDAtXFx1QTYwQ1xcdUE2MTAtXFx1QTYyQlxcdUE2NDAtXFx1QTY2RlxcdUE2NzQtXFx1QTY3RFxcdUE2N0YtXFx1QTZGMVxcdUE3MTctXFx1QTcxRlxcdUE3MjItXFx1QTc4OFxcdUE3OEItXFx1QTdBRVxcdUE3QjAtXFx1QTdCN1xcdUE3RjctXFx1QTgyN1xcdUE4NDAtXFx1QTg3M1xcdUE4ODAtXFx1QThDNVxcdUE4RDAtXFx1QThEOVxcdUE4RTAtXFx1QThGN1xcdUE4RkJcXHVBOEZEXFx1QTkwMC1cXHVBOTJEXFx1QTkzMC1cXHVBOTUzXFx1QTk2MC1cXHVBOTdDXFx1QTk4MC1cXHVBOUMwXFx1QTlDRi1cXHVBOUQ5XFx1QTlFMC1cXHVBOUZFXFx1QUEwMC1cXHVBQTM2XFx1QUE0MC1cXHVBQTREXFx1QUE1MC1cXHVBQTU5XFx1QUE2MC1cXHVBQTc2XFx1QUE3QS1cXHVBQUMyXFx1QUFEQi1cXHVBQUREXFx1QUFFMC1cXHVBQUVGXFx1QUFGMi1cXHVBQUY2XFx1QUIwMS1cXHVBQjA2XFx1QUIwOS1cXHVBQjBFXFx1QUIxMS1cXHVBQjE2XFx1QUIyMC1cXHVBQjI2XFx1QUIyOC1cXHVBQjJFXFx1QUIzMC1cXHVBQjVBXFx1QUI1Qy1cXHVBQjY1XFx1QUI3MC1cXHVBQkVBXFx1QUJFQ1xcdUFCRURcXHVBQkYwLVxcdUFCRjlcXHVBQzAwLVxcdUQ3QTNcXHVEN0IwLVxcdUQ3QzZcXHVEN0NCLVxcdUQ3RkJcXHVGOTAwLVxcdUZBNkRcXHVGQTcwLVxcdUZBRDlcXHVGQjAwLVxcdUZCMDZcXHVGQjEzLVxcdUZCMTdcXHVGQjFELVxcdUZCMjhcXHVGQjJBLVxcdUZCMzZcXHVGQjM4LVxcdUZCM0NcXHVGQjNFXFx1RkI0MFxcdUZCNDFcXHVGQjQzXFx1RkI0NFxcdUZCNDYtXFx1RkJCMVxcdUZCRDMtXFx1RkQzRFxcdUZENTAtXFx1RkQ4RlxcdUZEOTItXFx1RkRDN1xcdUZERjAtXFx1RkRGQlxcdUZFMDAtXFx1RkUwRlxcdUZFMjAtXFx1RkUyRlxcdUZFMzNcXHVGRTM0XFx1RkU0RC1cXHVGRTRGXFx1RkU3MC1cXHVGRTc0XFx1RkU3Ni1cXHVGRUZDXFx1RkYxMC1cXHVGRjE5XFx1RkYyMS1cXHVGRjNBXFx1RkYzRlxcdUZGNDEtXFx1RkY1QVxcdUZGNjYtXFx1RkZCRVxcdUZGQzItXFx1RkZDN1xcdUZGQ0EtXFx1RkZDRlxcdUZGRDItXFx1RkZEN1xcdUZGREEtXFx1RkZEQ10vXG4gICAgfTtcblxuICAgIEVTNlJlZ2V4ID0ge1xuICAgICAgICAvLyBFQ01BU2NyaXB0IDYvVW5pY29kZSB2OS4wLjAgTm9uQXNjaWlJZGVudGlmaWVyU3RhcnQ6XG4gICAgICAgIE5vbkFzY2lpSWRlbnRpZmllclN0YXJ0OiAvW1xceEFBXFx4QjVcXHhCQVxceEMwLVxceEQ2XFx4RDgtXFx4RjZcXHhGOC1cXHUwMkMxXFx1MDJDNi1cXHUwMkQxXFx1MDJFMC1cXHUwMkU0XFx1MDJFQ1xcdTAyRUVcXHUwMzcwLVxcdTAzNzRcXHUwMzc2XFx1MDM3N1xcdTAzN0EtXFx1MDM3RFxcdTAzN0ZcXHUwMzg2XFx1MDM4OC1cXHUwMzhBXFx1MDM4Q1xcdTAzOEUtXFx1MDNBMVxcdTAzQTMtXFx1MDNGNVxcdTAzRjctXFx1MDQ4MVxcdTA0OEEtXFx1MDUyRlxcdTA1MzEtXFx1MDU1NlxcdTA1NTlcXHUwNTYxLVxcdTA1ODdcXHUwNUQwLVxcdTA1RUFcXHUwNUYwLVxcdTA1RjJcXHUwNjIwLVxcdTA2NEFcXHUwNjZFXFx1MDY2RlxcdTA2NzEtXFx1MDZEM1xcdTA2RDVcXHUwNkU1XFx1MDZFNlxcdTA2RUVcXHUwNkVGXFx1MDZGQS1cXHUwNkZDXFx1MDZGRlxcdTA3MTBcXHUwNzEyLVxcdTA3MkZcXHUwNzRELVxcdTA3QTVcXHUwN0IxXFx1MDdDQS1cXHUwN0VBXFx1MDdGNFxcdTA3RjVcXHUwN0ZBXFx1MDgwMC1cXHUwODE1XFx1MDgxQVxcdTA4MjRcXHUwODI4XFx1MDg0MC1cXHUwODU4XFx1MDhBMC1cXHUwOEI0XFx1MDhCNi1cXHUwOEJEXFx1MDkwNC1cXHUwOTM5XFx1MDkzRFxcdTA5NTBcXHUwOTU4LVxcdTA5NjFcXHUwOTcxLVxcdTA5ODBcXHUwOTg1LVxcdTA5OENcXHUwOThGXFx1MDk5MFxcdTA5OTMtXFx1MDlBOFxcdTA5QUEtXFx1MDlCMFxcdTA5QjJcXHUwOUI2LVxcdTA5QjlcXHUwOUJEXFx1MDlDRVxcdTA5RENcXHUwOUREXFx1MDlERi1cXHUwOUUxXFx1MDlGMFxcdTA5RjFcXHUwQTA1LVxcdTBBMEFcXHUwQTBGXFx1MEExMFxcdTBBMTMtXFx1MEEyOFxcdTBBMkEtXFx1MEEzMFxcdTBBMzJcXHUwQTMzXFx1MEEzNVxcdTBBMzZcXHUwQTM4XFx1MEEzOVxcdTBBNTktXFx1MEE1Q1xcdTBBNUVcXHUwQTcyLVxcdTBBNzRcXHUwQTg1LVxcdTBBOERcXHUwQThGLVxcdTBBOTFcXHUwQTkzLVxcdTBBQThcXHUwQUFBLVxcdTBBQjBcXHUwQUIyXFx1MEFCM1xcdTBBQjUtXFx1MEFCOVxcdTBBQkRcXHUwQUQwXFx1MEFFMFxcdTBBRTFcXHUwQUY5XFx1MEIwNS1cXHUwQjBDXFx1MEIwRlxcdTBCMTBcXHUwQjEzLVxcdTBCMjhcXHUwQjJBLVxcdTBCMzBcXHUwQjMyXFx1MEIzM1xcdTBCMzUtXFx1MEIzOVxcdTBCM0RcXHUwQjVDXFx1MEI1RFxcdTBCNUYtXFx1MEI2MVxcdTBCNzFcXHUwQjgzXFx1MEI4NS1cXHUwQjhBXFx1MEI4RS1cXHUwQjkwXFx1MEI5Mi1cXHUwQjk1XFx1MEI5OVxcdTBCOUFcXHUwQjlDXFx1MEI5RVxcdTBCOUZcXHUwQkEzXFx1MEJBNFxcdTBCQTgtXFx1MEJBQVxcdTBCQUUtXFx1MEJCOVxcdTBCRDBcXHUwQzA1LVxcdTBDMENcXHUwQzBFLVxcdTBDMTBcXHUwQzEyLVxcdTBDMjhcXHUwQzJBLVxcdTBDMzlcXHUwQzNEXFx1MEM1OC1cXHUwQzVBXFx1MEM2MFxcdTBDNjFcXHUwQzgwXFx1MEM4NS1cXHUwQzhDXFx1MEM4RS1cXHUwQzkwXFx1MEM5Mi1cXHUwQ0E4XFx1MENBQS1cXHUwQ0IzXFx1MENCNS1cXHUwQ0I5XFx1MENCRFxcdTBDREVcXHUwQ0UwXFx1MENFMVxcdTBDRjFcXHUwQ0YyXFx1MEQwNS1cXHUwRDBDXFx1MEQwRS1cXHUwRDEwXFx1MEQxMi1cXHUwRDNBXFx1MEQzRFxcdTBENEVcXHUwRDU0LVxcdTBENTZcXHUwRDVGLVxcdTBENjFcXHUwRDdBLVxcdTBEN0ZcXHUwRDg1LVxcdTBEOTZcXHUwRDlBLVxcdTBEQjFcXHUwREIzLVxcdTBEQkJcXHUwREJEXFx1MERDMC1cXHUwREM2XFx1MEUwMS1cXHUwRTMwXFx1MEUzMlxcdTBFMzNcXHUwRTQwLVxcdTBFNDZcXHUwRTgxXFx1MEU4MlxcdTBFODRcXHUwRTg3XFx1MEU4OFxcdTBFOEFcXHUwRThEXFx1MEU5NC1cXHUwRTk3XFx1MEU5OS1cXHUwRTlGXFx1MEVBMS1cXHUwRUEzXFx1MEVBNVxcdTBFQTdcXHUwRUFBXFx1MEVBQlxcdTBFQUQtXFx1MEVCMFxcdTBFQjJcXHUwRUIzXFx1MEVCRFxcdTBFQzAtXFx1MEVDNFxcdTBFQzZcXHUwRURDLVxcdTBFREZcXHUwRjAwXFx1MEY0MC1cXHUwRjQ3XFx1MEY0OS1cXHUwRjZDXFx1MEY4OC1cXHUwRjhDXFx1MTAwMC1cXHUxMDJBXFx1MTAzRlxcdTEwNTAtXFx1MTA1NVxcdTEwNUEtXFx1MTA1RFxcdTEwNjFcXHUxMDY1XFx1MTA2NlxcdTEwNkUtXFx1MTA3MFxcdTEwNzUtXFx1MTA4MVxcdTEwOEVcXHUxMEEwLVxcdTEwQzVcXHUxMEM3XFx1MTBDRFxcdTEwRDAtXFx1MTBGQVxcdTEwRkMtXFx1MTI0OFxcdTEyNEEtXFx1MTI0RFxcdTEyNTAtXFx1MTI1NlxcdTEyNThcXHUxMjVBLVxcdTEyNURcXHUxMjYwLVxcdTEyODhcXHUxMjhBLVxcdTEyOERcXHUxMjkwLVxcdTEyQjBcXHUxMkIyLVxcdTEyQjVcXHUxMkI4LVxcdTEyQkVcXHUxMkMwXFx1MTJDMi1cXHUxMkM1XFx1MTJDOC1cXHUxMkQ2XFx1MTJEOC1cXHUxMzEwXFx1MTMxMi1cXHUxMzE1XFx1MTMxOC1cXHUxMzVBXFx1MTM4MC1cXHUxMzhGXFx1MTNBMC1cXHUxM0Y1XFx1MTNGOC1cXHUxM0ZEXFx1MTQwMS1cXHUxNjZDXFx1MTY2Ri1cXHUxNjdGXFx1MTY4MS1cXHUxNjlBXFx1MTZBMC1cXHUxNkVBXFx1MTZFRS1cXHUxNkY4XFx1MTcwMC1cXHUxNzBDXFx1MTcwRS1cXHUxNzExXFx1MTcyMC1cXHUxNzMxXFx1MTc0MC1cXHUxNzUxXFx1MTc2MC1cXHUxNzZDXFx1MTc2RS1cXHUxNzcwXFx1MTc4MC1cXHUxN0IzXFx1MTdEN1xcdTE3RENcXHUxODIwLVxcdTE4NzdcXHUxODgwLVxcdTE4QThcXHUxOEFBXFx1MThCMC1cXHUxOEY1XFx1MTkwMC1cXHUxOTFFXFx1MTk1MC1cXHUxOTZEXFx1MTk3MC1cXHUxOTc0XFx1MTk4MC1cXHUxOUFCXFx1MTlCMC1cXHUxOUM5XFx1MUEwMC1cXHUxQTE2XFx1MUEyMC1cXHUxQTU0XFx1MUFBN1xcdTFCMDUtXFx1MUIzM1xcdTFCNDUtXFx1MUI0QlxcdTFCODMtXFx1MUJBMFxcdTFCQUVcXHUxQkFGXFx1MUJCQS1cXHUxQkU1XFx1MUMwMC1cXHUxQzIzXFx1MUM0RC1cXHUxQzRGXFx1MUM1QS1cXHUxQzdEXFx1MUM4MC1cXHUxQzg4XFx1MUNFOS1cXHUxQ0VDXFx1MUNFRS1cXHUxQ0YxXFx1MUNGNVxcdTFDRjZcXHUxRDAwLVxcdTFEQkZcXHUxRTAwLVxcdTFGMTVcXHUxRjE4LVxcdTFGMURcXHUxRjIwLVxcdTFGNDVcXHUxRjQ4LVxcdTFGNERcXHUxRjUwLVxcdTFGNTdcXHUxRjU5XFx1MUY1QlxcdTFGNURcXHUxRjVGLVxcdTFGN0RcXHUxRjgwLVxcdTFGQjRcXHUxRkI2LVxcdTFGQkNcXHUxRkJFXFx1MUZDMi1cXHUxRkM0XFx1MUZDNi1cXHUxRkNDXFx1MUZEMC1cXHUxRkQzXFx1MUZENi1cXHUxRkRCXFx1MUZFMC1cXHUxRkVDXFx1MUZGMi1cXHUxRkY0XFx1MUZGNi1cXHUxRkZDXFx1MjA3MVxcdTIwN0ZcXHUyMDkwLVxcdTIwOUNcXHUyMTAyXFx1MjEwN1xcdTIxMEEtXFx1MjExM1xcdTIxMTVcXHUyMTE4LVxcdTIxMURcXHUyMTI0XFx1MjEyNlxcdTIxMjhcXHUyMTJBLVxcdTIxMzlcXHUyMTNDLVxcdTIxM0ZcXHUyMTQ1LVxcdTIxNDlcXHUyMTRFXFx1MjE2MC1cXHUyMTg4XFx1MkMwMC1cXHUyQzJFXFx1MkMzMC1cXHUyQzVFXFx1MkM2MC1cXHUyQ0U0XFx1MkNFQi1cXHUyQ0VFXFx1MkNGMlxcdTJDRjNcXHUyRDAwLVxcdTJEMjVcXHUyRDI3XFx1MkQyRFxcdTJEMzAtXFx1MkQ2N1xcdTJENkZcXHUyRDgwLVxcdTJEOTZcXHUyREEwLVxcdTJEQTZcXHUyREE4LVxcdTJEQUVcXHUyREIwLVxcdTJEQjZcXHUyREI4LVxcdTJEQkVcXHUyREMwLVxcdTJEQzZcXHUyREM4LVxcdTJEQ0VcXHUyREQwLVxcdTJERDZcXHUyREQ4LVxcdTJEREVcXHUzMDA1LVxcdTMwMDdcXHUzMDIxLVxcdTMwMjlcXHUzMDMxLVxcdTMwMzVcXHUzMDM4LVxcdTMwM0NcXHUzMDQxLVxcdTMwOTZcXHUzMDlCLVxcdTMwOUZcXHUzMEExLVxcdTMwRkFcXHUzMEZDLVxcdTMwRkZcXHUzMTA1LVxcdTMxMkRcXHUzMTMxLVxcdTMxOEVcXHUzMUEwLVxcdTMxQkFcXHUzMUYwLVxcdTMxRkZcXHUzNDAwLVxcdTREQjVcXHU0RTAwLVxcdTlGRDVcXHVBMDAwLVxcdUE0OENcXHVBNEQwLVxcdUE0RkRcXHVBNTAwLVxcdUE2MENcXHVBNjEwLVxcdUE2MUZcXHVBNjJBXFx1QTYyQlxcdUE2NDAtXFx1QTY2RVxcdUE2N0YtXFx1QTY5RFxcdUE2QTAtXFx1QTZFRlxcdUE3MTctXFx1QTcxRlxcdUE3MjItXFx1QTc4OFxcdUE3OEItXFx1QTdBRVxcdUE3QjAtXFx1QTdCN1xcdUE3RjctXFx1QTgwMVxcdUE4MDMtXFx1QTgwNVxcdUE4MDctXFx1QTgwQVxcdUE4MEMtXFx1QTgyMlxcdUE4NDAtXFx1QTg3M1xcdUE4ODItXFx1QThCM1xcdUE4RjItXFx1QThGN1xcdUE4RkJcXHVBOEZEXFx1QTkwQS1cXHVBOTI1XFx1QTkzMC1cXHVBOTQ2XFx1QTk2MC1cXHVBOTdDXFx1QTk4NC1cXHVBOUIyXFx1QTlDRlxcdUE5RTAtXFx1QTlFNFxcdUE5RTYtXFx1QTlFRlxcdUE5RkEtXFx1QTlGRVxcdUFBMDAtXFx1QUEyOFxcdUFBNDAtXFx1QUE0MlxcdUFBNDQtXFx1QUE0QlxcdUFBNjAtXFx1QUE3NlxcdUFBN0FcXHVBQTdFLVxcdUFBQUZcXHVBQUIxXFx1QUFCNVxcdUFBQjZcXHVBQUI5LVxcdUFBQkRcXHVBQUMwXFx1QUFDMlxcdUFBREItXFx1QUFERFxcdUFBRTAtXFx1QUFFQVxcdUFBRjItXFx1QUFGNFxcdUFCMDEtXFx1QUIwNlxcdUFCMDktXFx1QUIwRVxcdUFCMTEtXFx1QUIxNlxcdUFCMjAtXFx1QUIyNlxcdUFCMjgtXFx1QUIyRVxcdUFCMzAtXFx1QUI1QVxcdUFCNUMtXFx1QUI2NVxcdUFCNzAtXFx1QUJFMlxcdUFDMDAtXFx1RDdBM1xcdUQ3QjAtXFx1RDdDNlxcdUQ3Q0ItXFx1RDdGQlxcdUY5MDAtXFx1RkE2RFxcdUZBNzAtXFx1RkFEOVxcdUZCMDAtXFx1RkIwNlxcdUZCMTMtXFx1RkIxN1xcdUZCMURcXHVGQjFGLVxcdUZCMjhcXHVGQjJBLVxcdUZCMzZcXHVGQjM4LVxcdUZCM0NcXHVGQjNFXFx1RkI0MFxcdUZCNDFcXHVGQjQzXFx1RkI0NFxcdUZCNDYtXFx1RkJCMVxcdUZCRDMtXFx1RkQzRFxcdUZENTAtXFx1RkQ4RlxcdUZEOTItXFx1RkRDN1xcdUZERjAtXFx1RkRGQlxcdUZFNzAtXFx1RkU3NFxcdUZFNzYtXFx1RkVGQ1xcdUZGMjEtXFx1RkYzQVxcdUZGNDEtXFx1RkY1QVxcdUZGNjYtXFx1RkZCRVxcdUZGQzItXFx1RkZDN1xcdUZGQ0EtXFx1RkZDRlxcdUZGRDItXFx1RkZEN1xcdUZGREEtXFx1RkZEQ118XFx1RDgwMFtcXHVEQzAwLVxcdURDMEJcXHVEQzBELVxcdURDMjZcXHVEQzI4LVxcdURDM0FcXHVEQzNDXFx1REMzRFxcdURDM0YtXFx1REM0RFxcdURDNTAtXFx1REM1RFxcdURDODAtXFx1RENGQVxcdURENDAtXFx1REQ3NFxcdURFODAtXFx1REU5Q1xcdURFQTAtXFx1REVEMFxcdURGMDAtXFx1REYxRlxcdURGMzAtXFx1REY0QVxcdURGNTAtXFx1REY3NVxcdURGODAtXFx1REY5RFxcdURGQTAtXFx1REZDM1xcdURGQzgtXFx1REZDRlxcdURGRDEtXFx1REZENV18XFx1RDgwMVtcXHVEQzAwLVxcdURDOURcXHVEQ0IwLVxcdURDRDNcXHVEQ0Q4LVxcdURDRkJcXHVERDAwLVxcdUREMjdcXHVERDMwLVxcdURENjNcXHVERTAwLVxcdURGMzZcXHVERjQwLVxcdURGNTVcXHVERjYwLVxcdURGNjddfFxcdUQ4MDJbXFx1REMwMC1cXHVEQzA1XFx1REMwOFxcdURDMEEtXFx1REMzNVxcdURDMzdcXHVEQzM4XFx1REMzQ1xcdURDM0YtXFx1REM1NVxcdURDNjAtXFx1REM3NlxcdURDODAtXFx1REM5RVxcdURDRTAtXFx1RENGMlxcdURDRjRcXHVEQ0Y1XFx1REQwMC1cXHVERDE1XFx1REQyMC1cXHVERDM5XFx1REQ4MC1cXHVEREI3XFx1RERCRVxcdUREQkZcXHVERTAwXFx1REUxMC1cXHVERTEzXFx1REUxNS1cXHVERTE3XFx1REUxOS1cXHVERTMzXFx1REU2MC1cXHVERTdDXFx1REU4MC1cXHVERTlDXFx1REVDMC1cXHVERUM3XFx1REVDOS1cXHVERUU0XFx1REYwMC1cXHVERjM1XFx1REY0MC1cXHVERjU1XFx1REY2MC1cXHVERjcyXFx1REY4MC1cXHVERjkxXXxcXHVEODAzW1xcdURDMDAtXFx1REM0OFxcdURDODAtXFx1RENCMlxcdURDQzAtXFx1RENGMl18XFx1RDgwNFtcXHVEQzAzLVxcdURDMzdcXHVEQzgzLVxcdURDQUZcXHVEQ0QwLVxcdURDRThcXHVERDAzLVxcdUREMjZcXHVERDUwLVxcdURENzJcXHVERDc2XFx1REQ4My1cXHVEREIyXFx1RERDMS1cXHVEREM0XFx1REREQVxcdURERENcXHVERTAwLVxcdURFMTFcXHVERTEzLVxcdURFMkJcXHVERTgwLVxcdURFODZcXHVERTg4XFx1REU4QS1cXHVERThEXFx1REU4Ri1cXHVERTlEXFx1REU5Ri1cXHVERUE4XFx1REVCMC1cXHVERURFXFx1REYwNS1cXHVERjBDXFx1REYwRlxcdURGMTBcXHVERjEzLVxcdURGMjhcXHVERjJBLVxcdURGMzBcXHVERjMyXFx1REYzM1xcdURGMzUtXFx1REYzOVxcdURGM0RcXHVERjUwXFx1REY1RC1cXHVERjYxXXxcXHVEODA1W1xcdURDMDAtXFx1REMzNFxcdURDNDctXFx1REM0QVxcdURDODAtXFx1RENBRlxcdURDQzRcXHVEQ0M1XFx1RENDN1xcdUREODAtXFx1RERBRVxcdURERDgtXFx1REREQlxcdURFMDAtXFx1REUyRlxcdURFNDRcXHVERTgwLVxcdURFQUFcXHVERjAwLVxcdURGMTldfFxcdUQ4MDZbXFx1RENBMC1cXHVEQ0RGXFx1RENGRlxcdURFQzAtXFx1REVGOF18XFx1RDgwN1tcXHVEQzAwLVxcdURDMDhcXHVEQzBBLVxcdURDMkVcXHVEQzQwXFx1REM3Mi1cXHVEQzhGXXxcXHVEODA4W1xcdURDMDAtXFx1REY5OV18XFx1RDgwOVtcXHVEQzAwLVxcdURDNkVcXHVEQzgwLVxcdURENDNdfFtcXHVEODBDXFx1RDgxQy1cXHVEODIwXFx1RDg0MC1cXHVEODY4XFx1RDg2QS1cXHVEODZDXFx1RDg2Ri1cXHVEODcyXVtcXHVEQzAwLVxcdURGRkZdfFxcdUQ4MERbXFx1REMwMC1cXHVEQzJFXXxcXHVEODExW1xcdURDMDAtXFx1REU0Nl18XFx1RDgxQVtcXHVEQzAwLVxcdURFMzhcXHVERTQwLVxcdURFNUVcXHVERUQwLVxcdURFRURcXHVERjAwLVxcdURGMkZcXHVERjQwLVxcdURGNDNcXHVERjYzLVxcdURGNzdcXHVERjdELVxcdURGOEZdfFxcdUQ4MUJbXFx1REYwMC1cXHVERjQ0XFx1REY1MFxcdURGOTMtXFx1REY5RlxcdURGRTBdfFxcdUQ4MjFbXFx1REMwMC1cXHVERkVDXXxcXHVEODIyW1xcdURDMDAtXFx1REVGMl18XFx1RDgyQ1tcXHVEQzAwXFx1REMwMV18XFx1RDgyRltcXHVEQzAwLVxcdURDNkFcXHVEQzcwLVxcdURDN0NcXHVEQzgwLVxcdURDODhcXHVEQzkwLVxcdURDOTldfFxcdUQ4MzVbXFx1REMwMC1cXHVEQzU0XFx1REM1Ni1cXHVEQzlDXFx1REM5RVxcdURDOUZcXHVEQ0EyXFx1RENBNVxcdURDQTZcXHVEQ0E5LVxcdURDQUNcXHVEQ0FFLVxcdURDQjlcXHVEQ0JCXFx1RENCRC1cXHVEQ0MzXFx1RENDNS1cXHVERDA1XFx1REQwNy1cXHVERDBBXFx1REQwRC1cXHVERDE0XFx1REQxNi1cXHVERDFDXFx1REQxRS1cXHVERDM5XFx1REQzQi1cXHVERDNFXFx1REQ0MC1cXHVERDQ0XFx1REQ0NlxcdURENEEtXFx1REQ1MFxcdURENTItXFx1REVBNVxcdURFQTgtXFx1REVDMFxcdURFQzItXFx1REVEQVxcdURFREMtXFx1REVGQVxcdURFRkMtXFx1REYxNFxcdURGMTYtXFx1REYzNFxcdURGMzYtXFx1REY0RVxcdURGNTAtXFx1REY2RVxcdURGNzAtXFx1REY4OFxcdURGOEEtXFx1REZBOFxcdURGQUEtXFx1REZDMlxcdURGQzQtXFx1REZDQl18XFx1RDgzQVtcXHVEQzAwLVxcdURDQzRcXHVERDAwLVxcdURENDNdfFxcdUQ4M0JbXFx1REUwMC1cXHVERTAzXFx1REUwNS1cXHVERTFGXFx1REUyMVxcdURFMjJcXHVERTI0XFx1REUyN1xcdURFMjktXFx1REUzMlxcdURFMzQtXFx1REUzN1xcdURFMzlcXHVERTNCXFx1REU0MlxcdURFNDdcXHVERTQ5XFx1REU0QlxcdURFNEQtXFx1REU0RlxcdURFNTFcXHVERTUyXFx1REU1NFxcdURFNTdcXHVERTU5XFx1REU1QlxcdURFNURcXHVERTVGXFx1REU2MVxcdURFNjJcXHVERTY0XFx1REU2Ny1cXHVERTZBXFx1REU2Qy1cXHVERTcyXFx1REU3NC1cXHVERTc3XFx1REU3OS1cXHVERTdDXFx1REU3RVxcdURFODAtXFx1REU4OVxcdURFOEItXFx1REU5QlxcdURFQTEtXFx1REVBM1xcdURFQTUtXFx1REVBOVxcdURFQUItXFx1REVCQl18XFx1RDg2OVtcXHVEQzAwLVxcdURFRDZcXHVERjAwLVxcdURGRkZdfFxcdUQ4NkRbXFx1REMwMC1cXHVERjM0XFx1REY0MC1cXHVERkZGXXxcXHVEODZFW1xcdURDMDAtXFx1REMxRFxcdURDMjAtXFx1REZGRl18XFx1RDg3M1tcXHVEQzAwLVxcdURFQTFdfFxcdUQ4N0VbXFx1REMwMC1cXHVERTFEXS8sXG4gICAgICAgIC8vIEVDTUFTY3JpcHQgNi9Vbmljb2RlIHY5LjAuMCBOb25Bc2NpaUlkZW50aWZpZXJQYXJ0OlxuICAgICAgICBOb25Bc2NpaUlkZW50aWZpZXJQYXJ0OiAvW1xceEFBXFx4QjVcXHhCN1xceEJBXFx4QzAtXFx4RDZcXHhEOC1cXHhGNlxceEY4LVxcdTAyQzFcXHUwMkM2LVxcdTAyRDFcXHUwMkUwLVxcdTAyRTRcXHUwMkVDXFx1MDJFRVxcdTAzMDAtXFx1MDM3NFxcdTAzNzZcXHUwMzc3XFx1MDM3QS1cXHUwMzdEXFx1MDM3RlxcdTAzODYtXFx1MDM4QVxcdTAzOENcXHUwMzhFLVxcdTAzQTFcXHUwM0EzLVxcdTAzRjVcXHUwM0Y3LVxcdTA0ODFcXHUwNDgzLVxcdTA0ODdcXHUwNDhBLVxcdTA1MkZcXHUwNTMxLVxcdTA1NTZcXHUwNTU5XFx1MDU2MS1cXHUwNTg3XFx1MDU5MS1cXHUwNUJEXFx1MDVCRlxcdTA1QzFcXHUwNUMyXFx1MDVDNFxcdTA1QzVcXHUwNUM3XFx1MDVEMC1cXHUwNUVBXFx1MDVGMC1cXHUwNUYyXFx1MDYxMC1cXHUwNjFBXFx1MDYyMC1cXHUwNjY5XFx1MDY2RS1cXHUwNkQzXFx1MDZENS1cXHUwNkRDXFx1MDZERi1cXHUwNkU4XFx1MDZFQS1cXHUwNkZDXFx1MDZGRlxcdTA3MTAtXFx1MDc0QVxcdTA3NEQtXFx1MDdCMVxcdTA3QzAtXFx1MDdGNVxcdTA3RkFcXHUwODAwLVxcdTA4MkRcXHUwODQwLVxcdTA4NUJcXHUwOEEwLVxcdTA4QjRcXHUwOEI2LVxcdTA4QkRcXHUwOEQ0LVxcdTA4RTFcXHUwOEUzLVxcdTA5NjNcXHUwOTY2LVxcdTA5NkZcXHUwOTcxLVxcdTA5ODNcXHUwOTg1LVxcdTA5OENcXHUwOThGXFx1MDk5MFxcdTA5OTMtXFx1MDlBOFxcdTA5QUEtXFx1MDlCMFxcdTA5QjJcXHUwOUI2LVxcdTA5QjlcXHUwOUJDLVxcdTA5QzRcXHUwOUM3XFx1MDlDOFxcdTA5Q0ItXFx1MDlDRVxcdTA5RDdcXHUwOURDXFx1MDlERFxcdTA5REYtXFx1MDlFM1xcdTA5RTYtXFx1MDlGMVxcdTBBMDEtXFx1MEEwM1xcdTBBMDUtXFx1MEEwQVxcdTBBMEZcXHUwQTEwXFx1MEExMy1cXHUwQTI4XFx1MEEyQS1cXHUwQTMwXFx1MEEzMlxcdTBBMzNcXHUwQTM1XFx1MEEzNlxcdTBBMzhcXHUwQTM5XFx1MEEzQ1xcdTBBM0UtXFx1MEE0MlxcdTBBNDdcXHUwQTQ4XFx1MEE0Qi1cXHUwQTREXFx1MEE1MVxcdTBBNTktXFx1MEE1Q1xcdTBBNUVcXHUwQTY2LVxcdTBBNzVcXHUwQTgxLVxcdTBBODNcXHUwQTg1LVxcdTBBOERcXHUwQThGLVxcdTBBOTFcXHUwQTkzLVxcdTBBQThcXHUwQUFBLVxcdTBBQjBcXHUwQUIyXFx1MEFCM1xcdTBBQjUtXFx1MEFCOVxcdTBBQkMtXFx1MEFDNVxcdTBBQzctXFx1MEFDOVxcdTBBQ0ItXFx1MEFDRFxcdTBBRDBcXHUwQUUwLVxcdTBBRTNcXHUwQUU2LVxcdTBBRUZcXHUwQUY5XFx1MEIwMS1cXHUwQjAzXFx1MEIwNS1cXHUwQjBDXFx1MEIwRlxcdTBCMTBcXHUwQjEzLVxcdTBCMjhcXHUwQjJBLVxcdTBCMzBcXHUwQjMyXFx1MEIzM1xcdTBCMzUtXFx1MEIzOVxcdTBCM0MtXFx1MEI0NFxcdTBCNDdcXHUwQjQ4XFx1MEI0Qi1cXHUwQjREXFx1MEI1NlxcdTBCNTdcXHUwQjVDXFx1MEI1RFxcdTBCNUYtXFx1MEI2M1xcdTBCNjYtXFx1MEI2RlxcdTBCNzFcXHUwQjgyXFx1MEI4M1xcdTBCODUtXFx1MEI4QVxcdTBCOEUtXFx1MEI5MFxcdTBCOTItXFx1MEI5NVxcdTBCOTlcXHUwQjlBXFx1MEI5Q1xcdTBCOUVcXHUwQjlGXFx1MEJBM1xcdTBCQTRcXHUwQkE4LVxcdTBCQUFcXHUwQkFFLVxcdTBCQjlcXHUwQkJFLVxcdTBCQzJcXHUwQkM2LVxcdTBCQzhcXHUwQkNBLVxcdTBCQ0RcXHUwQkQwXFx1MEJEN1xcdTBCRTYtXFx1MEJFRlxcdTBDMDAtXFx1MEMwM1xcdTBDMDUtXFx1MEMwQ1xcdTBDMEUtXFx1MEMxMFxcdTBDMTItXFx1MEMyOFxcdTBDMkEtXFx1MEMzOVxcdTBDM0QtXFx1MEM0NFxcdTBDNDYtXFx1MEM0OFxcdTBDNEEtXFx1MEM0RFxcdTBDNTVcXHUwQzU2XFx1MEM1OC1cXHUwQzVBXFx1MEM2MC1cXHUwQzYzXFx1MEM2Ni1cXHUwQzZGXFx1MEM4MC1cXHUwQzgzXFx1MEM4NS1cXHUwQzhDXFx1MEM4RS1cXHUwQzkwXFx1MEM5Mi1cXHUwQ0E4XFx1MENBQS1cXHUwQ0IzXFx1MENCNS1cXHUwQ0I5XFx1MENCQy1cXHUwQ0M0XFx1MENDNi1cXHUwQ0M4XFx1MENDQS1cXHUwQ0NEXFx1MENENVxcdTBDRDZcXHUwQ0RFXFx1MENFMC1cXHUwQ0UzXFx1MENFNi1cXHUwQ0VGXFx1MENGMVxcdTBDRjJcXHUwRDAxLVxcdTBEMDNcXHUwRDA1LVxcdTBEMENcXHUwRDBFLVxcdTBEMTBcXHUwRDEyLVxcdTBEM0FcXHUwRDNELVxcdTBENDRcXHUwRDQ2LVxcdTBENDhcXHUwRDRBLVxcdTBENEVcXHUwRDU0LVxcdTBENTdcXHUwRDVGLVxcdTBENjNcXHUwRDY2LVxcdTBENkZcXHUwRDdBLVxcdTBEN0ZcXHUwRDgyXFx1MEQ4M1xcdTBEODUtXFx1MEQ5NlxcdTBEOUEtXFx1MERCMVxcdTBEQjMtXFx1MERCQlxcdTBEQkRcXHUwREMwLVxcdTBEQzZcXHUwRENBXFx1MERDRi1cXHUwREQ0XFx1MERENlxcdTBERDgtXFx1MERERlxcdTBERTYtXFx1MERFRlxcdTBERjJcXHUwREYzXFx1MEUwMS1cXHUwRTNBXFx1MEU0MC1cXHUwRTRFXFx1MEU1MC1cXHUwRTU5XFx1MEU4MVxcdTBFODJcXHUwRTg0XFx1MEU4N1xcdTBFODhcXHUwRThBXFx1MEU4RFxcdTBFOTQtXFx1MEU5N1xcdTBFOTktXFx1MEU5RlxcdTBFQTEtXFx1MEVBM1xcdTBFQTVcXHUwRUE3XFx1MEVBQVxcdTBFQUJcXHUwRUFELVxcdTBFQjlcXHUwRUJCLVxcdTBFQkRcXHUwRUMwLVxcdTBFQzRcXHUwRUM2XFx1MEVDOC1cXHUwRUNEXFx1MEVEMC1cXHUwRUQ5XFx1MEVEQy1cXHUwRURGXFx1MEYwMFxcdTBGMThcXHUwRjE5XFx1MEYyMC1cXHUwRjI5XFx1MEYzNVxcdTBGMzdcXHUwRjM5XFx1MEYzRS1cXHUwRjQ3XFx1MEY0OS1cXHUwRjZDXFx1MEY3MS1cXHUwRjg0XFx1MEY4Ni1cXHUwRjk3XFx1MEY5OS1cXHUwRkJDXFx1MEZDNlxcdTEwMDAtXFx1MTA0OVxcdTEwNTAtXFx1MTA5RFxcdTEwQTAtXFx1MTBDNVxcdTEwQzdcXHUxMENEXFx1MTBEMC1cXHUxMEZBXFx1MTBGQy1cXHUxMjQ4XFx1MTI0QS1cXHUxMjREXFx1MTI1MC1cXHUxMjU2XFx1MTI1OFxcdTEyNUEtXFx1MTI1RFxcdTEyNjAtXFx1MTI4OFxcdTEyOEEtXFx1MTI4RFxcdTEyOTAtXFx1MTJCMFxcdTEyQjItXFx1MTJCNVxcdTEyQjgtXFx1MTJCRVxcdTEyQzBcXHUxMkMyLVxcdTEyQzVcXHUxMkM4LVxcdTEyRDZcXHUxMkQ4LVxcdTEzMTBcXHUxMzEyLVxcdTEzMTVcXHUxMzE4LVxcdTEzNUFcXHUxMzVELVxcdTEzNUZcXHUxMzY5LVxcdTEzNzFcXHUxMzgwLVxcdTEzOEZcXHUxM0EwLVxcdTEzRjVcXHUxM0Y4LVxcdTEzRkRcXHUxNDAxLVxcdTE2NkNcXHUxNjZGLVxcdTE2N0ZcXHUxNjgxLVxcdTE2OUFcXHUxNkEwLVxcdTE2RUFcXHUxNkVFLVxcdTE2RjhcXHUxNzAwLVxcdTE3MENcXHUxNzBFLVxcdTE3MTRcXHUxNzIwLVxcdTE3MzRcXHUxNzQwLVxcdTE3NTNcXHUxNzYwLVxcdTE3NkNcXHUxNzZFLVxcdTE3NzBcXHUxNzcyXFx1MTc3M1xcdTE3ODAtXFx1MTdEM1xcdTE3RDdcXHUxN0RDXFx1MTdERFxcdTE3RTAtXFx1MTdFOVxcdTE4MEItXFx1MTgwRFxcdTE4MTAtXFx1MTgxOVxcdTE4MjAtXFx1MTg3N1xcdTE4ODAtXFx1MThBQVxcdTE4QjAtXFx1MThGNVxcdTE5MDAtXFx1MTkxRVxcdTE5MjAtXFx1MTkyQlxcdTE5MzAtXFx1MTkzQlxcdTE5NDYtXFx1MTk2RFxcdTE5NzAtXFx1MTk3NFxcdTE5ODAtXFx1MTlBQlxcdTE5QjAtXFx1MTlDOVxcdTE5RDAtXFx1MTlEQVxcdTFBMDAtXFx1MUExQlxcdTFBMjAtXFx1MUE1RVxcdTFBNjAtXFx1MUE3Q1xcdTFBN0YtXFx1MUE4OVxcdTFBOTAtXFx1MUE5OVxcdTFBQTdcXHUxQUIwLVxcdTFBQkRcXHUxQjAwLVxcdTFCNEJcXHUxQjUwLVxcdTFCNTlcXHUxQjZCLVxcdTFCNzNcXHUxQjgwLVxcdTFCRjNcXHUxQzAwLVxcdTFDMzdcXHUxQzQwLVxcdTFDNDlcXHUxQzRELVxcdTFDN0RcXHUxQzgwLVxcdTFDODhcXHUxQ0QwLVxcdTFDRDJcXHUxQ0Q0LVxcdTFDRjZcXHUxQ0Y4XFx1MUNGOVxcdTFEMDAtXFx1MURGNVxcdTFERkItXFx1MUYxNVxcdTFGMTgtXFx1MUYxRFxcdTFGMjAtXFx1MUY0NVxcdTFGNDgtXFx1MUY0RFxcdTFGNTAtXFx1MUY1N1xcdTFGNTlcXHUxRjVCXFx1MUY1RFxcdTFGNUYtXFx1MUY3RFxcdTFGODAtXFx1MUZCNFxcdTFGQjYtXFx1MUZCQ1xcdTFGQkVcXHUxRkMyLVxcdTFGQzRcXHUxRkM2LVxcdTFGQ0NcXHUxRkQwLVxcdTFGRDNcXHUxRkQ2LVxcdTFGREJcXHUxRkUwLVxcdTFGRUNcXHUxRkYyLVxcdTFGRjRcXHUxRkY2LVxcdTFGRkNcXHUyMDBDXFx1MjAwRFxcdTIwM0ZcXHUyMDQwXFx1MjA1NFxcdTIwNzFcXHUyMDdGXFx1MjA5MC1cXHUyMDlDXFx1MjBEMC1cXHUyMERDXFx1MjBFMVxcdTIwRTUtXFx1MjBGMFxcdTIxMDJcXHUyMTA3XFx1MjEwQS1cXHUyMTEzXFx1MjExNVxcdTIxMTgtXFx1MjExRFxcdTIxMjRcXHUyMTI2XFx1MjEyOFxcdTIxMkEtXFx1MjEzOVxcdTIxM0MtXFx1MjEzRlxcdTIxNDUtXFx1MjE0OVxcdTIxNEVcXHUyMTYwLVxcdTIxODhcXHUyQzAwLVxcdTJDMkVcXHUyQzMwLVxcdTJDNUVcXHUyQzYwLVxcdTJDRTRcXHUyQ0VCLVxcdTJDRjNcXHUyRDAwLVxcdTJEMjVcXHUyRDI3XFx1MkQyRFxcdTJEMzAtXFx1MkQ2N1xcdTJENkZcXHUyRDdGLVxcdTJEOTZcXHUyREEwLVxcdTJEQTZcXHUyREE4LVxcdTJEQUVcXHUyREIwLVxcdTJEQjZcXHUyREI4LVxcdTJEQkVcXHUyREMwLVxcdTJEQzZcXHUyREM4LVxcdTJEQ0VcXHUyREQwLVxcdTJERDZcXHUyREQ4LVxcdTJEREVcXHUyREUwLVxcdTJERkZcXHUzMDA1LVxcdTMwMDdcXHUzMDIxLVxcdTMwMkZcXHUzMDMxLVxcdTMwMzVcXHUzMDM4LVxcdTMwM0NcXHUzMDQxLVxcdTMwOTZcXHUzMDk5LVxcdTMwOUZcXHUzMEExLVxcdTMwRkFcXHUzMEZDLVxcdTMwRkZcXHUzMTA1LVxcdTMxMkRcXHUzMTMxLVxcdTMxOEVcXHUzMUEwLVxcdTMxQkFcXHUzMUYwLVxcdTMxRkZcXHUzNDAwLVxcdTREQjVcXHU0RTAwLVxcdTlGRDVcXHVBMDAwLVxcdUE0OENcXHVBNEQwLVxcdUE0RkRcXHVBNTAwLVxcdUE2MENcXHVBNjEwLVxcdUE2MkJcXHVBNjQwLVxcdUE2NkZcXHVBNjc0LVxcdUE2N0RcXHVBNjdGLVxcdUE2RjFcXHVBNzE3LVxcdUE3MUZcXHVBNzIyLVxcdUE3ODhcXHVBNzhCLVxcdUE3QUVcXHVBN0IwLVxcdUE3QjdcXHVBN0Y3LVxcdUE4MjdcXHVBODQwLVxcdUE4NzNcXHVBODgwLVxcdUE4QzVcXHVBOEQwLVxcdUE4RDlcXHVBOEUwLVxcdUE4RjdcXHVBOEZCXFx1QThGRFxcdUE5MDAtXFx1QTkyRFxcdUE5MzAtXFx1QTk1M1xcdUE5NjAtXFx1QTk3Q1xcdUE5ODAtXFx1QTlDMFxcdUE5Q0YtXFx1QTlEOVxcdUE5RTAtXFx1QTlGRVxcdUFBMDAtXFx1QUEzNlxcdUFBNDAtXFx1QUE0RFxcdUFBNTAtXFx1QUE1OVxcdUFBNjAtXFx1QUE3NlxcdUFBN0EtXFx1QUFDMlxcdUFBREItXFx1QUFERFxcdUFBRTAtXFx1QUFFRlxcdUFBRjItXFx1QUFGNlxcdUFCMDEtXFx1QUIwNlxcdUFCMDktXFx1QUIwRVxcdUFCMTEtXFx1QUIxNlxcdUFCMjAtXFx1QUIyNlxcdUFCMjgtXFx1QUIyRVxcdUFCMzAtXFx1QUI1QVxcdUFCNUMtXFx1QUI2NVxcdUFCNzAtXFx1QUJFQVxcdUFCRUNcXHVBQkVEXFx1QUJGMC1cXHVBQkY5XFx1QUMwMC1cXHVEN0EzXFx1RDdCMC1cXHVEN0M2XFx1RDdDQi1cXHVEN0ZCXFx1RjkwMC1cXHVGQTZEXFx1RkE3MC1cXHVGQUQ5XFx1RkIwMC1cXHVGQjA2XFx1RkIxMy1cXHVGQjE3XFx1RkIxRC1cXHVGQjI4XFx1RkIyQS1cXHVGQjM2XFx1RkIzOC1cXHVGQjNDXFx1RkIzRVxcdUZCNDBcXHVGQjQxXFx1RkI0M1xcdUZCNDRcXHVGQjQ2LVxcdUZCQjFcXHVGQkQzLVxcdUZEM0RcXHVGRDUwLVxcdUZEOEZcXHVGRDkyLVxcdUZEQzdcXHVGREYwLVxcdUZERkJcXHVGRTAwLVxcdUZFMEZcXHVGRTIwLVxcdUZFMkZcXHVGRTMzXFx1RkUzNFxcdUZFNEQtXFx1RkU0RlxcdUZFNzAtXFx1RkU3NFxcdUZFNzYtXFx1RkVGQ1xcdUZGMTAtXFx1RkYxOVxcdUZGMjEtXFx1RkYzQVxcdUZGM0ZcXHVGRjQxLVxcdUZGNUFcXHVGRjY2LVxcdUZGQkVcXHVGRkMyLVxcdUZGQzdcXHVGRkNBLVxcdUZGQ0ZcXHVGRkQyLVxcdUZGRDdcXHVGRkRBLVxcdUZGRENdfFxcdUQ4MDBbXFx1REMwMC1cXHVEQzBCXFx1REMwRC1cXHVEQzI2XFx1REMyOC1cXHVEQzNBXFx1REMzQ1xcdURDM0RcXHVEQzNGLVxcdURDNERcXHVEQzUwLVxcdURDNURcXHVEQzgwLVxcdURDRkFcXHVERDQwLVxcdURENzRcXHVEREZEXFx1REU4MC1cXHVERTlDXFx1REVBMC1cXHVERUQwXFx1REVFMFxcdURGMDAtXFx1REYxRlxcdURGMzAtXFx1REY0QVxcdURGNTAtXFx1REY3QVxcdURGODAtXFx1REY5RFxcdURGQTAtXFx1REZDM1xcdURGQzgtXFx1REZDRlxcdURGRDEtXFx1REZENV18XFx1RDgwMVtcXHVEQzAwLVxcdURDOURcXHVEQ0EwLVxcdURDQTlcXHVEQ0IwLVxcdURDRDNcXHVEQ0Q4LVxcdURDRkJcXHVERDAwLVxcdUREMjdcXHVERDMwLVxcdURENjNcXHVERTAwLVxcdURGMzZcXHVERjQwLVxcdURGNTVcXHVERjYwLVxcdURGNjddfFxcdUQ4MDJbXFx1REMwMC1cXHVEQzA1XFx1REMwOFxcdURDMEEtXFx1REMzNVxcdURDMzdcXHVEQzM4XFx1REMzQ1xcdURDM0YtXFx1REM1NVxcdURDNjAtXFx1REM3NlxcdURDODAtXFx1REM5RVxcdURDRTAtXFx1RENGMlxcdURDRjRcXHVEQ0Y1XFx1REQwMC1cXHVERDE1XFx1REQyMC1cXHVERDM5XFx1REQ4MC1cXHVEREI3XFx1RERCRVxcdUREQkZcXHVERTAwLVxcdURFMDNcXHVERTA1XFx1REUwNlxcdURFMEMtXFx1REUxM1xcdURFMTUtXFx1REUxN1xcdURFMTktXFx1REUzM1xcdURFMzgtXFx1REUzQVxcdURFM0ZcXHVERTYwLVxcdURFN0NcXHVERTgwLVxcdURFOUNcXHVERUMwLVxcdURFQzdcXHVERUM5LVxcdURFRTZcXHVERjAwLVxcdURGMzVcXHVERjQwLVxcdURGNTVcXHVERjYwLVxcdURGNzJcXHVERjgwLVxcdURGOTFdfFxcdUQ4MDNbXFx1REMwMC1cXHVEQzQ4XFx1REM4MC1cXHVEQ0IyXFx1RENDMC1cXHVEQ0YyXXxcXHVEODA0W1xcdURDMDAtXFx1REM0NlxcdURDNjYtXFx1REM2RlxcdURDN0YtXFx1RENCQVxcdURDRDAtXFx1RENFOFxcdURDRjAtXFx1RENGOVxcdUREMDAtXFx1REQzNFxcdUREMzYtXFx1REQzRlxcdURENTAtXFx1REQ3M1xcdURENzZcXHVERDgwLVxcdUREQzRcXHVERENBLVxcdUREQ0NcXHVEREQwLVxcdUREREFcXHVERERDXFx1REUwMC1cXHVERTExXFx1REUxMy1cXHVERTM3XFx1REUzRVxcdURFODAtXFx1REU4NlxcdURFODhcXHVERThBLVxcdURFOERcXHVERThGLVxcdURFOURcXHVERTlGLVxcdURFQThcXHVERUIwLVxcdURFRUFcXHVERUYwLVxcdURFRjlcXHVERjAwLVxcdURGMDNcXHVERjA1LVxcdURGMENcXHVERjBGXFx1REYxMFxcdURGMTMtXFx1REYyOFxcdURGMkEtXFx1REYzMFxcdURGMzJcXHVERjMzXFx1REYzNS1cXHVERjM5XFx1REYzQy1cXHVERjQ0XFx1REY0N1xcdURGNDhcXHVERjRCLVxcdURGNERcXHVERjUwXFx1REY1N1xcdURGNUQtXFx1REY2M1xcdURGNjYtXFx1REY2Q1xcdURGNzAtXFx1REY3NF18XFx1RDgwNVtcXHVEQzAwLVxcdURDNEFcXHVEQzUwLVxcdURDNTlcXHVEQzgwLVxcdURDQzVcXHVEQ0M3XFx1RENEMC1cXHVEQ0Q5XFx1REQ4MC1cXHVEREI1XFx1RERCOC1cXHVEREMwXFx1REREOC1cXHVEREREXFx1REUwMC1cXHVERTQwXFx1REU0NFxcdURFNTAtXFx1REU1OVxcdURFODAtXFx1REVCN1xcdURFQzAtXFx1REVDOVxcdURGMDAtXFx1REYxOVxcdURGMUQtXFx1REYyQlxcdURGMzAtXFx1REYzOV18XFx1RDgwNltcXHVEQ0EwLVxcdURDRTlcXHVEQ0ZGXFx1REVDMC1cXHVERUY4XXxcXHVEODA3W1xcdURDMDAtXFx1REMwOFxcdURDMEEtXFx1REMzNlxcdURDMzgtXFx1REM0MFxcdURDNTAtXFx1REM1OVxcdURDNzItXFx1REM4RlxcdURDOTItXFx1RENBN1xcdURDQTktXFx1RENCNl18XFx1RDgwOFtcXHVEQzAwLVxcdURGOTldfFxcdUQ4MDlbXFx1REMwMC1cXHVEQzZFXFx1REM4MC1cXHVERDQzXXxbXFx1RDgwQ1xcdUQ4MUMtXFx1RDgyMFxcdUQ4NDAtXFx1RDg2OFxcdUQ4NkEtXFx1RDg2Q1xcdUQ4NkYtXFx1RDg3Ml1bXFx1REMwMC1cXHVERkZGXXxcXHVEODBEW1xcdURDMDAtXFx1REMyRV18XFx1RDgxMVtcXHVEQzAwLVxcdURFNDZdfFxcdUQ4MUFbXFx1REMwMC1cXHVERTM4XFx1REU0MC1cXHVERTVFXFx1REU2MC1cXHVERTY5XFx1REVEMC1cXHVERUVEXFx1REVGMC1cXHVERUY0XFx1REYwMC1cXHVERjM2XFx1REY0MC1cXHVERjQzXFx1REY1MC1cXHVERjU5XFx1REY2My1cXHVERjc3XFx1REY3RC1cXHVERjhGXXxcXHVEODFCW1xcdURGMDAtXFx1REY0NFxcdURGNTAtXFx1REY3RVxcdURGOEYtXFx1REY5RlxcdURGRTBdfFxcdUQ4MjFbXFx1REMwMC1cXHVERkVDXXxcXHVEODIyW1xcdURDMDAtXFx1REVGMl18XFx1RDgyQ1tcXHVEQzAwXFx1REMwMV18XFx1RDgyRltcXHVEQzAwLVxcdURDNkFcXHVEQzcwLVxcdURDN0NcXHVEQzgwLVxcdURDODhcXHVEQzkwLVxcdURDOTlcXHVEQzlEXFx1REM5RV18XFx1RDgzNFtcXHVERDY1LVxcdURENjlcXHVERDZELVxcdURENzJcXHVERDdCLVxcdUREODJcXHVERDg1LVxcdUREOEJcXHVEREFBLVxcdUREQURcXHVERTQyLVxcdURFNDRdfFxcdUQ4MzVbXFx1REMwMC1cXHVEQzU0XFx1REM1Ni1cXHVEQzlDXFx1REM5RVxcdURDOUZcXHVEQ0EyXFx1RENBNVxcdURDQTZcXHVEQ0E5LVxcdURDQUNcXHVEQ0FFLVxcdURDQjlcXHVEQ0JCXFx1RENCRC1cXHVEQ0MzXFx1RENDNS1cXHVERDA1XFx1REQwNy1cXHVERDBBXFx1REQwRC1cXHVERDE0XFx1REQxNi1cXHVERDFDXFx1REQxRS1cXHVERDM5XFx1REQzQi1cXHVERDNFXFx1REQ0MC1cXHVERDQ0XFx1REQ0NlxcdURENEEtXFx1REQ1MFxcdURENTItXFx1REVBNVxcdURFQTgtXFx1REVDMFxcdURFQzItXFx1REVEQVxcdURFREMtXFx1REVGQVxcdURFRkMtXFx1REYxNFxcdURGMTYtXFx1REYzNFxcdURGMzYtXFx1REY0RVxcdURGNTAtXFx1REY2RVxcdURGNzAtXFx1REY4OFxcdURGOEEtXFx1REZBOFxcdURGQUEtXFx1REZDMlxcdURGQzQtXFx1REZDQlxcdURGQ0UtXFx1REZGRl18XFx1RDgzNltcXHVERTAwLVxcdURFMzZcXHVERTNCLVxcdURFNkNcXHVERTc1XFx1REU4NFxcdURFOUItXFx1REU5RlxcdURFQTEtXFx1REVBRl18XFx1RDgzOFtcXHVEQzAwLVxcdURDMDZcXHVEQzA4LVxcdURDMThcXHVEQzFCLVxcdURDMjFcXHVEQzIzXFx1REMyNFxcdURDMjYtXFx1REMyQV18XFx1RDgzQVtcXHVEQzAwLVxcdURDQzRcXHVEQ0QwLVxcdURDRDZcXHVERDAwLVxcdURENEFcXHVERDUwLVxcdURENTldfFxcdUQ4M0JbXFx1REUwMC1cXHVERTAzXFx1REUwNS1cXHVERTFGXFx1REUyMVxcdURFMjJcXHVERTI0XFx1REUyN1xcdURFMjktXFx1REUzMlxcdURFMzQtXFx1REUzN1xcdURFMzlcXHVERTNCXFx1REU0MlxcdURFNDdcXHVERTQ5XFx1REU0QlxcdURFNEQtXFx1REU0RlxcdURFNTFcXHVERTUyXFx1REU1NFxcdURFNTdcXHVERTU5XFx1REU1QlxcdURFNURcXHVERTVGXFx1REU2MVxcdURFNjJcXHVERTY0XFx1REU2Ny1cXHVERTZBXFx1REU2Qy1cXHVERTcyXFx1REU3NC1cXHVERTc3XFx1REU3OS1cXHVERTdDXFx1REU3RVxcdURFODAtXFx1REU4OVxcdURFOEItXFx1REU5QlxcdURFQTEtXFx1REVBM1xcdURFQTUtXFx1REVBOVxcdURFQUItXFx1REVCQl18XFx1RDg2OVtcXHVEQzAwLVxcdURFRDZcXHVERjAwLVxcdURGRkZdfFxcdUQ4NkRbXFx1REMwMC1cXHVERjM0XFx1REY0MC1cXHVERkZGXXxcXHVEODZFW1xcdURDMDAtXFx1REMxRFxcdURDMjAtXFx1REZGRl18XFx1RDg3M1tcXHVEQzAwLVxcdURFQTFdfFxcdUQ4N0VbXFx1REMwMC1cXHVERTFEXXxcXHVEQjQwW1xcdUREMDAtXFx1RERFRl0vXG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGlzRGVjaW1hbERpZ2l0KGNoKSB7XG4gICAgICAgIHJldHVybiAweDMwIDw9IGNoICYmIGNoIDw9IDB4Mzk7ICAvLyAwLi45XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNIZXhEaWdpdChjaCkge1xuICAgICAgICByZXR1cm4gMHgzMCA8PSBjaCAmJiBjaCA8PSAweDM5IHx8ICAvLyAwLi45XG4gICAgICAgICAgICAweDYxIDw9IGNoICYmIGNoIDw9IDB4NjYgfHwgICAgIC8vIGEuLmZcbiAgICAgICAgICAgIDB4NDEgPD0gY2ggJiYgY2ggPD0gMHg0NjsgICAgICAgLy8gQS4uRlxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzT2N0YWxEaWdpdChjaCkge1xuICAgICAgICByZXR1cm4gY2ggPj0gMHgzMCAmJiBjaCA8PSAweDM3OyAgLy8gMC4uN1xuICAgIH1cblxuICAgIC8vIDcuMiBXaGl0ZSBTcGFjZVxuXG4gICAgTk9OX0FTQ0lJX1dISVRFU1BBQ0VTID0gW1xuICAgICAgICAweDE2ODAsXG4gICAgICAgIDB4MjAwMCwgMHgyMDAxLCAweDIwMDIsIDB4MjAwMywgMHgyMDA0LCAweDIwMDUsIDB4MjAwNiwgMHgyMDA3LCAweDIwMDgsIDB4MjAwOSwgMHgyMDBBLFxuICAgICAgICAweDIwMkYsIDB4MjA1RixcbiAgICAgICAgMHgzMDAwLFxuICAgICAgICAweEZFRkZcbiAgICBdO1xuXG4gICAgZnVuY3Rpb24gaXNXaGl0ZVNwYWNlKGNoKSB7XG4gICAgICAgIHJldHVybiBjaCA9PT0gMHgyMCB8fCBjaCA9PT0gMHgwOSB8fCBjaCA9PT0gMHgwQiB8fCBjaCA9PT0gMHgwQyB8fCBjaCA9PT0gMHhBMCB8fFxuICAgICAgICAgICAgY2ggPj0gMHgxNjgwICYmIE5PTl9BU0NJSV9XSElURVNQQUNFUy5pbmRleE9mKGNoKSA+PSAwO1xuICAgIH1cblxuICAgIC8vIDcuMyBMaW5lIFRlcm1pbmF0b3JzXG5cbiAgICBmdW5jdGlvbiBpc0xpbmVUZXJtaW5hdG9yKGNoKSB7XG4gICAgICAgIHJldHVybiBjaCA9PT0gMHgwQSB8fCBjaCA9PT0gMHgwRCB8fCBjaCA9PT0gMHgyMDI4IHx8IGNoID09PSAweDIwMjk7XG4gICAgfVxuXG4gICAgLy8gNy42IElkZW50aWZpZXIgTmFtZXMgYW5kIElkZW50aWZpZXJzXG5cbiAgICBmdW5jdGlvbiBmcm9tQ29kZVBvaW50KGNwKSB7XG4gICAgICAgIGlmIChjcCA8PSAweEZGRkYpIHsgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoY3ApOyB9XG4gICAgICAgIHZhciBjdTEgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKE1hdGguZmxvb3IoKGNwIC0gMHgxMDAwMCkgLyAweDQwMCkgKyAweEQ4MDApO1xuICAgICAgICB2YXIgY3UyID0gU3RyaW5nLmZyb21DaGFyQ29kZSgoKGNwIC0gMHgxMDAwMCkgJSAweDQwMCkgKyAweERDMDApO1xuICAgICAgICByZXR1cm4gY3UxICsgY3UyO1xuICAgIH1cblxuICAgIElERU5USUZJRVJfU1RBUlQgPSBuZXcgQXJyYXkoMHg4MCk7XG4gICAgZm9yKGNoID0gMDsgY2ggPCAweDgwOyArK2NoKSB7XG4gICAgICAgIElERU5USUZJRVJfU1RBUlRbY2hdID1cbiAgICAgICAgICAgIGNoID49IDB4NjEgJiYgY2ggPD0gMHg3QSB8fCAgLy8gYS4uelxuICAgICAgICAgICAgY2ggPj0gMHg0MSAmJiBjaCA8PSAweDVBIHx8ICAvLyBBLi5aXG4gICAgICAgICAgICBjaCA9PT0gMHgyNCB8fCBjaCA9PT0gMHg1RjsgIC8vICQgKGRvbGxhcikgYW5kIF8gKHVuZGVyc2NvcmUpXG4gICAgfVxuXG4gICAgSURFTlRJRklFUl9QQVJUID0gbmV3IEFycmF5KDB4ODApO1xuICAgIGZvcihjaCA9IDA7IGNoIDwgMHg4MDsgKytjaCkge1xuICAgICAgICBJREVOVElGSUVSX1BBUlRbY2hdID1cbiAgICAgICAgICAgIGNoID49IDB4NjEgJiYgY2ggPD0gMHg3QSB8fCAgLy8gYS4uelxuICAgICAgICAgICAgY2ggPj0gMHg0MSAmJiBjaCA8PSAweDVBIHx8ICAvLyBBLi5aXG4gICAgICAgICAgICBjaCA+PSAweDMwICYmIGNoIDw9IDB4MzkgfHwgIC8vIDAuLjlcbiAgICAgICAgICAgIGNoID09PSAweDI0IHx8IGNoID09PSAweDVGOyAgLy8gJCAoZG9sbGFyKSBhbmQgXyAodW5kZXJzY29yZSlcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc0lkZW50aWZpZXJTdGFydEVTNShjaCkge1xuICAgICAgICByZXR1cm4gY2ggPCAweDgwID8gSURFTlRJRklFUl9TVEFSVFtjaF0gOiBFUzVSZWdleC5Ob25Bc2NpaUlkZW50aWZpZXJTdGFydC50ZXN0KGZyb21Db2RlUG9pbnQoY2gpKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc0lkZW50aWZpZXJQYXJ0RVM1KGNoKSB7XG4gICAgICAgIHJldHVybiBjaCA8IDB4ODAgPyBJREVOVElGSUVSX1BBUlRbY2hdIDogRVM1UmVnZXguTm9uQXNjaWlJZGVudGlmaWVyUGFydC50ZXN0KGZyb21Db2RlUG9pbnQoY2gpKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc0lkZW50aWZpZXJTdGFydEVTNihjaCkge1xuICAgICAgICByZXR1cm4gY2ggPCAweDgwID8gSURFTlRJRklFUl9TVEFSVFtjaF0gOiBFUzZSZWdleC5Ob25Bc2NpaUlkZW50aWZpZXJTdGFydC50ZXN0KGZyb21Db2RlUG9pbnQoY2gpKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc0lkZW50aWZpZXJQYXJ0RVM2KGNoKSB7XG4gICAgICAgIHJldHVybiBjaCA8IDB4ODAgPyBJREVOVElGSUVSX1BBUlRbY2hdIDogRVM2UmVnZXguTm9uQXNjaWlJZGVudGlmaWVyUGFydC50ZXN0KGZyb21Db2RlUG9pbnQoY2gpKTtcbiAgICB9XG5cbiAgICBtb2R1bGUuZXhwb3J0cyA9IHtcbiAgICAgICAgaXNEZWNpbWFsRGlnaXQ6IGlzRGVjaW1hbERpZ2l0LFxuICAgICAgICBpc0hleERpZ2l0OiBpc0hleERpZ2l0LFxuICAgICAgICBpc09jdGFsRGlnaXQ6IGlzT2N0YWxEaWdpdCxcbiAgICAgICAgaXNXaGl0ZVNwYWNlOiBpc1doaXRlU3BhY2UsXG4gICAgICAgIGlzTGluZVRlcm1pbmF0b3I6IGlzTGluZVRlcm1pbmF0b3IsXG4gICAgICAgIGlzSWRlbnRpZmllclN0YXJ0RVM1OiBpc0lkZW50aWZpZXJTdGFydEVTNSxcbiAgICAgICAgaXNJZGVudGlmaWVyUGFydEVTNTogaXNJZGVudGlmaWVyUGFydEVTNSxcbiAgICAgICAgaXNJZGVudGlmaWVyU3RhcnRFUzY6IGlzSWRlbnRpZmllclN0YXJ0RVM2LFxuICAgICAgICBpc0lkZW50aWZpZXJQYXJ0RVM2OiBpc0lkZW50aWZpZXJQYXJ0RVM2XG4gICAgfTtcbn0oKSk7XG4vKiB2aW06IHNldCBzdz00IHRzPTQgZXQgdHc9ODAgOiAqL1xuIiwiLypcbiAgQ29weXJpZ2h0IChDKSAyMDEzIFl1c3VrZSBTdXp1a2kgPHV0YXRhbmUudGVhQGdtYWlsLmNvbT5cblxuICBSZWRpc3RyaWJ1dGlvbiBhbmQgdXNlIGluIHNvdXJjZSBhbmQgYmluYXJ5IGZvcm1zLCB3aXRoIG9yIHdpdGhvdXRcbiAgbW9kaWZpY2F0aW9uLCBhcmUgcGVybWl0dGVkIHByb3ZpZGVkIHRoYXQgdGhlIGZvbGxvd2luZyBjb25kaXRpb25zIGFyZSBtZXQ6XG5cbiAgICAqIFJlZGlzdHJpYnV0aW9ucyBvZiBzb3VyY2UgY29kZSBtdXN0IHJldGFpbiB0aGUgYWJvdmUgY29weXJpZ2h0XG4gICAgICBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIuXG4gICAgKiBSZWRpc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgdGhlIGFib3ZlIGNvcHlyaWdodFxuICAgICAgbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyIGluIHRoZVxuICAgICAgZG9jdW1lbnRhdGlvbiBhbmQvb3Igb3RoZXIgbWF0ZXJpYWxzIHByb3ZpZGVkIHdpdGggdGhlIGRpc3RyaWJ1dGlvbi5cblxuICBUSElTIFNPRlRXQVJFIElTIFBST1ZJREVEIEJZIFRIRSBDT1BZUklHSFQgSE9MREVSUyBBTkQgQ09OVFJJQlVUT1JTIFwiQVMgSVNcIlxuICBBTkQgQU5ZIEVYUFJFU1MgT1IgSU1QTElFRCBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgVEhFXG4gIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFXG4gIEFSRSBESVNDTEFJTUVELiBJTiBOTyBFVkVOVCBTSEFMTCA8Q09QWVJJR0hUIEhPTERFUj4gQkUgTElBQkxFIEZPUiBBTllcbiAgRElSRUNULCBJTkRJUkVDVCwgSU5DSURFTlRBTCwgU1BFQ0lBTCwgRVhFTVBMQVJZLCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVNcbiAgKElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBQUk9DVVJFTUVOVCBPRiBTVUJTVElUVVRFIEdPT0RTIE9SIFNFUlZJQ0VTO1xuICBMT1NTIE9GIFVTRSwgREFUQSwgT1IgUFJPRklUUzsgT1IgQlVTSU5FU1MgSU5URVJSVVBUSU9OKSBIT1dFVkVSIENBVVNFRCBBTkRcbiAgT04gQU5ZIFRIRU9SWSBPRiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SIFRPUlRcbiAgKElOQ0xVRElORyBORUdMSUdFTkNFIE9SIE9USEVSV0lTRSkgQVJJU0lORyBJTiBBTlkgV0FZIE9VVCBPRiBUSEUgVVNFIE9GXG4gIFRISVMgU09GVFdBUkUsIEVWRU4gSUYgQURWSVNFRCBPRiBUSEUgUE9TU0lCSUxJVFkgT0YgU1VDSCBEQU1BR0UuXG4qL1xuXG4oZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIHZhciBjb2RlID0gcmVxdWlyZSgnLi9jb2RlJyk7XG5cbiAgICBmdW5jdGlvbiBpc1N0cmljdE1vZGVSZXNlcnZlZFdvcmRFUzYoaWQpIHtcbiAgICAgICAgc3dpdGNoIChpZCkge1xuICAgICAgICBjYXNlICdpbXBsZW1lbnRzJzpcbiAgICAgICAgY2FzZSAnaW50ZXJmYWNlJzpcbiAgICAgICAgY2FzZSAncGFja2FnZSc6XG4gICAgICAgIGNhc2UgJ3ByaXZhdGUnOlxuICAgICAgICBjYXNlICdwcm90ZWN0ZWQnOlxuICAgICAgICBjYXNlICdwdWJsaWMnOlxuICAgICAgICBjYXNlICdzdGF0aWMnOlxuICAgICAgICBjYXNlICdsZXQnOlxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc0tleXdvcmRFUzUoaWQsIHN0cmljdCkge1xuICAgICAgICAvLyB5aWVsZCBzaG91bGQgbm90IGJlIHRyZWF0ZWQgYXMga2V5d29yZCB1bmRlciBub24tc3RyaWN0IG1vZGUuXG4gICAgICAgIGlmICghc3RyaWN0ICYmIGlkID09PSAneWllbGQnKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGlzS2V5d29yZEVTNihpZCwgc3RyaWN0KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc0tleXdvcmRFUzYoaWQsIHN0cmljdCkge1xuICAgICAgICBpZiAoc3RyaWN0ICYmIGlzU3RyaWN0TW9kZVJlc2VydmVkV29yZEVTNihpZCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgc3dpdGNoIChpZC5sZW5ndGgpIHtcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgcmV0dXJuIChpZCA9PT0gJ2lmJykgfHwgKGlkID09PSAnaW4nKSB8fCAoaWQgPT09ICdkbycpO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICByZXR1cm4gKGlkID09PSAndmFyJykgfHwgKGlkID09PSAnZm9yJykgfHwgKGlkID09PSAnbmV3JykgfHwgKGlkID09PSAndHJ5Jyk7XG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgIHJldHVybiAoaWQgPT09ICd0aGlzJykgfHwgKGlkID09PSAnZWxzZScpIHx8IChpZCA9PT0gJ2Nhc2UnKSB8fFxuICAgICAgICAgICAgICAgIChpZCA9PT0gJ3ZvaWQnKSB8fCAoaWQgPT09ICd3aXRoJykgfHwgKGlkID09PSAnZW51bScpO1xuICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICByZXR1cm4gKGlkID09PSAnd2hpbGUnKSB8fCAoaWQgPT09ICdicmVhaycpIHx8IChpZCA9PT0gJ2NhdGNoJykgfHxcbiAgICAgICAgICAgICAgICAoaWQgPT09ICd0aHJvdycpIHx8IChpZCA9PT0gJ2NvbnN0JykgfHwgKGlkID09PSAneWllbGQnKSB8fFxuICAgICAgICAgICAgICAgIChpZCA9PT0gJ2NsYXNzJykgfHwgKGlkID09PSAnc3VwZXInKTtcbiAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgcmV0dXJuIChpZCA9PT0gJ3JldHVybicpIHx8IChpZCA9PT0gJ3R5cGVvZicpIHx8IChpZCA9PT0gJ2RlbGV0ZScpIHx8XG4gICAgICAgICAgICAgICAgKGlkID09PSAnc3dpdGNoJykgfHwgKGlkID09PSAnZXhwb3J0JykgfHwgKGlkID09PSAnaW1wb3J0Jyk7XG4gICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgIHJldHVybiAoaWQgPT09ICdkZWZhdWx0JykgfHwgKGlkID09PSAnZmluYWxseScpIHx8IChpZCA9PT0gJ2V4dGVuZHMnKTtcbiAgICAgICAgY2FzZSA4OlxuICAgICAgICAgICAgcmV0dXJuIChpZCA9PT0gJ2Z1bmN0aW9uJykgfHwgKGlkID09PSAnY29udGludWUnKSB8fCAoaWQgPT09ICdkZWJ1Z2dlcicpO1xuICAgICAgICBjYXNlIDEwOlxuICAgICAgICAgICAgcmV0dXJuIChpZCA9PT0gJ2luc3RhbmNlb2YnKTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzUmVzZXJ2ZWRXb3JkRVM1KGlkLCBzdHJpY3QpIHtcbiAgICAgICAgcmV0dXJuIGlkID09PSAnbnVsbCcgfHwgaWQgPT09ICd0cnVlJyB8fCBpZCA9PT0gJ2ZhbHNlJyB8fCBpc0tleXdvcmRFUzUoaWQsIHN0cmljdCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNSZXNlcnZlZFdvcmRFUzYoaWQsIHN0cmljdCkge1xuICAgICAgICByZXR1cm4gaWQgPT09ICdudWxsJyB8fCBpZCA9PT0gJ3RydWUnIHx8IGlkID09PSAnZmFsc2UnIHx8IGlzS2V5d29yZEVTNihpZCwgc3RyaWN0KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc1Jlc3RyaWN0ZWRXb3JkKGlkKSB7XG4gICAgICAgIHJldHVybiBpZCA9PT0gJ2V2YWwnIHx8IGlkID09PSAnYXJndW1lbnRzJztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc0lkZW50aWZpZXJOYW1lRVM1KGlkKSB7XG4gICAgICAgIHZhciBpLCBpeiwgY2g7XG5cbiAgICAgICAgaWYgKGlkLmxlbmd0aCA9PT0gMCkgeyByZXR1cm4gZmFsc2U7IH1cblxuICAgICAgICBjaCA9IGlkLmNoYXJDb2RlQXQoMCk7XG4gICAgICAgIGlmICghY29kZS5pc0lkZW50aWZpZXJTdGFydEVTNShjaCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoaSA9IDEsIGl6ID0gaWQubGVuZ3RoOyBpIDwgaXo7ICsraSkge1xuICAgICAgICAgICAgY2ggPSBpZC5jaGFyQ29kZUF0KGkpO1xuICAgICAgICAgICAgaWYgKCFjb2RlLmlzSWRlbnRpZmllclBhcnRFUzUoY2gpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRlY29kZVV0ZjE2KGxlYWQsIHRyYWlsKSB7XG4gICAgICAgIHJldHVybiAobGVhZCAtIDB4RDgwMCkgKiAweDQwMCArICh0cmFpbCAtIDB4REMwMCkgKyAweDEwMDAwO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzSWRlbnRpZmllck5hbWVFUzYoaWQpIHtcbiAgICAgICAgdmFyIGksIGl6LCBjaCwgbG93Q2gsIGNoZWNrO1xuXG4gICAgICAgIGlmIChpZC5sZW5ndGggPT09IDApIHsgcmV0dXJuIGZhbHNlOyB9XG5cbiAgICAgICAgY2hlY2sgPSBjb2RlLmlzSWRlbnRpZmllclN0YXJ0RVM2O1xuICAgICAgICBmb3IgKGkgPSAwLCBpeiA9IGlkLmxlbmd0aDsgaSA8IGl6OyArK2kpIHtcbiAgICAgICAgICAgIGNoID0gaWQuY2hhckNvZGVBdChpKTtcbiAgICAgICAgICAgIGlmICgweEQ4MDAgPD0gY2ggJiYgY2ggPD0gMHhEQkZGKSB7XG4gICAgICAgICAgICAgICAgKytpO1xuICAgICAgICAgICAgICAgIGlmIChpID49IGl6KSB7IHJldHVybiBmYWxzZTsgfVxuICAgICAgICAgICAgICAgIGxvd0NoID0gaWQuY2hhckNvZGVBdChpKTtcbiAgICAgICAgICAgICAgICBpZiAoISgweERDMDAgPD0gbG93Q2ggJiYgbG93Q2ggPD0gMHhERkZGKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNoID0gZGVjb2RlVXRmMTYoY2gsIGxvd0NoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghY2hlY2soY2gpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2hlY2sgPSBjb2RlLmlzSWRlbnRpZmllclBhcnRFUzY7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNJZGVudGlmaWVyRVM1KGlkLCBzdHJpY3QpIHtcbiAgICAgICAgcmV0dXJuIGlzSWRlbnRpZmllck5hbWVFUzUoaWQpICYmICFpc1Jlc2VydmVkV29yZEVTNShpZCwgc3RyaWN0KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc0lkZW50aWZpZXJFUzYoaWQsIHN0cmljdCkge1xuICAgICAgICByZXR1cm4gaXNJZGVudGlmaWVyTmFtZUVTNihpZCkgJiYgIWlzUmVzZXJ2ZWRXb3JkRVM2KGlkLCBzdHJpY3QpO1xuICAgIH1cblxuICAgIG1vZHVsZS5leHBvcnRzID0ge1xuICAgICAgICBpc0tleXdvcmRFUzU6IGlzS2V5d29yZEVTNSxcbiAgICAgICAgaXNLZXl3b3JkRVM2OiBpc0tleXdvcmRFUzYsXG4gICAgICAgIGlzUmVzZXJ2ZWRXb3JkRVM1OiBpc1Jlc2VydmVkV29yZEVTNSxcbiAgICAgICAgaXNSZXNlcnZlZFdvcmRFUzY6IGlzUmVzZXJ2ZWRXb3JkRVM2LFxuICAgICAgICBpc1Jlc3RyaWN0ZWRXb3JkOiBpc1Jlc3RyaWN0ZWRXb3JkLFxuICAgICAgICBpc0lkZW50aWZpZXJOYW1lRVM1OiBpc0lkZW50aWZpZXJOYW1lRVM1LFxuICAgICAgICBpc0lkZW50aWZpZXJOYW1lRVM2OiBpc0lkZW50aWZpZXJOYW1lRVM2LFxuICAgICAgICBpc0lkZW50aWZpZXJFUzU6IGlzSWRlbnRpZmllckVTNSxcbiAgICAgICAgaXNJZGVudGlmaWVyRVM2OiBpc0lkZW50aWZpZXJFUzZcbiAgICB9O1xufSgpKTtcbi8qIHZpbTogc2V0IHN3PTQgdHM9NCBldCB0dz04MCA6ICovXG4iLCIvKlxuICBDb3B5cmlnaHQgKEMpIDIwMTMgWXVzdWtlIFN1enVraSA8dXRhdGFuZS50ZWFAZ21haWwuY29tPlxuXG4gIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dFxuICBtb2RpZmljYXRpb24sIGFyZSBwZXJtaXR0ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlIG1ldDpcblxuICAgICogUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHRcbiAgICAgIG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lci5cbiAgICAqIFJlZGlzdHJpYnV0aW9ucyBpbiBiaW5hcnkgZm9ybSBtdXN0IHJlcHJvZHVjZSB0aGUgYWJvdmUgY29weXJpZ2h0XG4gICAgICBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIgaW4gdGhlXG4gICAgICBkb2N1bWVudGF0aW9uIGFuZC9vciBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWQgd2l0aCB0aGUgZGlzdHJpYnV0aW9uLlxuXG4gIFRISVMgU09GVFdBUkUgSVMgUFJPVklERUQgQlkgVEhFIENPUFlSSUdIVCBIT0xERVJTIEFORCBDT05UUklCVVRPUlMgXCJBUyBJU1wiXG4gIEFORCBBTlkgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBUSEVcbiAgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSBBTkQgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0VcbiAgQVJFIERJU0NMQUlNRUQuIElOIE5PIEVWRU5UIFNIQUxMIDxDT1BZUklHSFQgSE9MREVSPiBCRSBMSUFCTEUgRk9SIEFOWVxuICBESVJFQ1QsIElORElSRUNULCBJTkNJREVOVEFMLCBTUEVDSUFMLCBFWEVNUExBUlksIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFU1xuICAoSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sIFBST0NVUkVNRU5UIE9GIFNVQlNUSVRVVEUgR09PRFMgT1IgU0VSVklDRVM7XG4gIExPU1MgT0YgVVNFLCBEQVRBLCBPUiBQUk9GSVRTOyBPUiBCVVNJTkVTUyBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORFxuICBPTiBBTlkgVEhFT1JZIE9GIExJQUJJTElUWSwgV0hFVEhFUiBJTiBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSwgT1IgVE9SVFxuICAoSU5DTFVESU5HIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKSBBUklTSU5HIElOIEFOWSBXQVkgT1VUIE9GIFRIRSBVU0UgT0ZcbiAgVEhJUyBTT0ZUV0FSRSwgRVZFTiBJRiBBRFZJU0VEIE9GIFRIRSBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS5cbiovXG5cblxuKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBleHBvcnRzLmFzdCA9IHJlcXVpcmUoJy4vYXN0Jyk7XG4gICAgZXhwb3J0cy5jb2RlID0gcmVxdWlyZSgnLi9jb2RlJyk7XG4gICAgZXhwb3J0cy5rZXl3b3JkID0gcmVxdWlyZSgnLi9rZXl3b3JkJyk7XG59KCkpO1xuLyogdmltOiBzZXQgc3c9NCB0cz00IGV0IHR3PTgwIDogKi9cbiIsImV4cG9ydHMucmVhZCA9IGZ1bmN0aW9uIChidWZmZXIsIG9mZnNldCwgaXNMRSwgbUxlbiwgbkJ5dGVzKSB7XG4gIHZhciBlLCBtXG4gIHZhciBlTGVuID0gKG5CeXRlcyAqIDgpIC0gbUxlbiAtIDFcbiAgdmFyIGVNYXggPSAoMSA8PCBlTGVuKSAtIDFcbiAgdmFyIGVCaWFzID0gZU1heCA+PiAxXG4gIHZhciBuQml0cyA9IC03XG4gIHZhciBpID0gaXNMRSA/IChuQnl0ZXMgLSAxKSA6IDBcbiAgdmFyIGQgPSBpc0xFID8gLTEgOiAxXG4gIHZhciBzID0gYnVmZmVyW29mZnNldCArIGldXG5cbiAgaSArPSBkXG5cbiAgZSA9IHMgJiAoKDEgPDwgKC1uQml0cykpIC0gMSlcbiAgcyA+Pj0gKC1uQml0cylcbiAgbkJpdHMgKz0gZUxlblxuICBmb3IgKDsgbkJpdHMgPiAwOyBlID0gKGUgKiAyNTYpICsgYnVmZmVyW29mZnNldCArIGldLCBpICs9IGQsIG5CaXRzIC09IDgpIHt9XG5cbiAgbSA9IGUgJiAoKDEgPDwgKC1uQml0cykpIC0gMSlcbiAgZSA+Pj0gKC1uQml0cylcbiAgbkJpdHMgKz0gbUxlblxuICBmb3IgKDsgbkJpdHMgPiAwOyBtID0gKG0gKiAyNTYpICsgYnVmZmVyW29mZnNldCArIGldLCBpICs9IGQsIG5CaXRzIC09IDgpIHt9XG5cbiAgaWYgKGUgPT09IDApIHtcbiAgICBlID0gMSAtIGVCaWFzXG4gIH0gZWxzZSBpZiAoZSA9PT0gZU1heCkge1xuICAgIHJldHVybiBtID8gTmFOIDogKChzID8gLTEgOiAxKSAqIEluZmluaXR5KVxuICB9IGVsc2Uge1xuICAgIG0gPSBtICsgTWF0aC5wb3coMiwgbUxlbilcbiAgICBlID0gZSAtIGVCaWFzXG4gIH1cbiAgcmV0dXJuIChzID8gLTEgOiAxKSAqIG0gKiBNYXRoLnBvdygyLCBlIC0gbUxlbilcbn1cblxuZXhwb3J0cy53cml0ZSA9IGZ1bmN0aW9uIChidWZmZXIsIHZhbHVlLCBvZmZzZXQsIGlzTEUsIG1MZW4sIG5CeXRlcykge1xuICB2YXIgZSwgbSwgY1xuICB2YXIgZUxlbiA9IChuQnl0ZXMgKiA4KSAtIG1MZW4gLSAxXG4gIHZhciBlTWF4ID0gKDEgPDwgZUxlbikgLSAxXG4gIHZhciBlQmlhcyA9IGVNYXggPj4gMVxuICB2YXIgcnQgPSAobUxlbiA9PT0gMjMgPyBNYXRoLnBvdygyLCAtMjQpIC0gTWF0aC5wb3coMiwgLTc3KSA6IDApXG4gIHZhciBpID0gaXNMRSA/IDAgOiAobkJ5dGVzIC0gMSlcbiAgdmFyIGQgPSBpc0xFID8gMSA6IC0xXG4gIHZhciBzID0gdmFsdWUgPCAwIHx8ICh2YWx1ZSA9PT0gMCAmJiAxIC8gdmFsdWUgPCAwKSA/IDEgOiAwXG5cbiAgdmFsdWUgPSBNYXRoLmFicyh2YWx1ZSlcblxuICBpZiAoaXNOYU4odmFsdWUpIHx8IHZhbHVlID09PSBJbmZpbml0eSkge1xuICAgIG0gPSBpc05hTih2YWx1ZSkgPyAxIDogMFxuICAgIGUgPSBlTWF4XG4gIH0gZWxzZSB7XG4gICAgZSA9IE1hdGguZmxvb3IoTWF0aC5sb2codmFsdWUpIC8gTWF0aC5MTjIpXG4gICAgaWYgKHZhbHVlICogKGMgPSBNYXRoLnBvdygyLCAtZSkpIDwgMSkge1xuICAgICAgZS0tXG4gICAgICBjICo9IDJcbiAgICB9XG4gICAgaWYgKGUgKyBlQmlhcyA+PSAxKSB7XG4gICAgICB2YWx1ZSArPSBydCAvIGNcbiAgICB9IGVsc2Uge1xuICAgICAgdmFsdWUgKz0gcnQgKiBNYXRoLnBvdygyLCAxIC0gZUJpYXMpXG4gICAgfVxuICAgIGlmICh2YWx1ZSAqIGMgPj0gMikge1xuICAgICAgZSsrXG4gICAgICBjIC89IDJcbiAgICB9XG5cbiAgICBpZiAoZSArIGVCaWFzID49IGVNYXgpIHtcbiAgICAgIG0gPSAwXG4gICAgICBlID0gZU1heFxuICAgIH0gZWxzZSBpZiAoZSArIGVCaWFzID49IDEpIHtcbiAgICAgIG0gPSAoKHZhbHVlICogYykgLSAxKSAqIE1hdGgucG93KDIsIG1MZW4pXG4gICAgICBlID0gZSArIGVCaWFzXG4gICAgfSBlbHNlIHtcbiAgICAgIG0gPSB2YWx1ZSAqIE1hdGgucG93KDIsIGVCaWFzIC0gMSkgKiBNYXRoLnBvdygyLCBtTGVuKVxuICAgICAgZSA9IDBcbiAgICB9XG4gIH1cblxuICBmb3IgKDsgbUxlbiA+PSA4OyBidWZmZXJbb2Zmc2V0ICsgaV0gPSBtICYgMHhmZiwgaSArPSBkLCBtIC89IDI1NiwgbUxlbiAtPSA4KSB7fVxuXG4gIGUgPSAoZSA8PCBtTGVuKSB8IG1cbiAgZUxlbiArPSBtTGVuXG4gIGZvciAoOyBlTGVuID4gMDsgYnVmZmVyW29mZnNldCArIGldID0gZSAmIDB4ZmYsIGkgKz0gZCwgZSAvPSAyNTYsIGVMZW4gLT0gOCkge31cblxuICBidWZmZXJbb2Zmc2V0ICsgaSAtIGRdIHw9IHMgKiAxMjhcbn1cbiIsIi8qanNoaW50IG5vZGU6dHJ1ZSAqL1xuLyogZ2xvYmFscyBkZWZpbmUgKi9cbi8qXG4gIFRoZSBNSVQgTGljZW5zZSAoTUlUKVxuXG4gIENvcHlyaWdodCAoYykgMjAwNy0yMDE4IEVpbmFyIExpZWxtYW5pcywgTGlhbSBOZXdtYW4sIGFuZCBjb250cmlidXRvcnMuXG5cbiAgUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb25cbiAgb2J0YWluaW5nIGEgY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXNcbiAgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLFxuICBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLFxuICBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLFxuICBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLFxuICBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcblxuICBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZVxuICBpbmNsdWRlZCBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cblxuICBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELFxuICBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0ZcbiAgTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkRcbiAgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSU1xuICBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU5cbiAgQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU5cbiAgQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRVxuICBTT0ZUV0FSRS5cblxuKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4vKipcblRoZSBmb2xsb3dpbmcgYmF0Y2hlcyBhcmUgZXF1aXZhbGVudDpcblxudmFyIGJlYXV0aWZ5X2pzID0gcmVxdWlyZSgnanMtYmVhdXRpZnknKTtcbnZhciBiZWF1dGlmeV9qcyA9IHJlcXVpcmUoJ2pzLWJlYXV0aWZ5JykuanM7XG52YXIgYmVhdXRpZnlfanMgPSByZXF1aXJlKCdqcy1iZWF1dGlmeScpLmpzX2JlYXV0aWZ5O1xuXG52YXIgYmVhdXRpZnlfY3NzID0gcmVxdWlyZSgnanMtYmVhdXRpZnknKS5jc3M7XG52YXIgYmVhdXRpZnlfY3NzID0gcmVxdWlyZSgnanMtYmVhdXRpZnknKS5jc3NfYmVhdXRpZnk7XG5cbnZhciBiZWF1dGlmeV9odG1sID0gcmVxdWlyZSgnanMtYmVhdXRpZnknKS5odG1sO1xudmFyIGJlYXV0aWZ5X2h0bWwgPSByZXF1aXJlKCdqcy1iZWF1dGlmeScpLmh0bWxfYmVhdXRpZnk7XG5cbkFsbCBtZXRob2RzIHJldHVybmVkIGFjY2VwdCB0d28gYXJndW1lbnRzLCB0aGUgc291cmNlIHN0cmluZyBhbmQgYW4gb3B0aW9ucyBvYmplY3QuXG4qKi9cblxuZnVuY3Rpb24gZ2V0X2JlYXV0aWZ5KGpzX2JlYXV0aWZ5LCBjc3NfYmVhdXRpZnksIGh0bWxfYmVhdXRpZnkpIHtcbiAgLy8gdGhlIGRlZmF1bHQgaXMganNcbiAgdmFyIGJlYXV0aWZ5ID0gZnVuY3Rpb24oc3JjLCBjb25maWcpIHtcbiAgICByZXR1cm4ganNfYmVhdXRpZnkuanNfYmVhdXRpZnkoc3JjLCBjb25maWcpO1xuICB9O1xuXG4gIC8vIHNob3J0IGFsaWFzZXNcbiAgYmVhdXRpZnkuanMgPSBqc19iZWF1dGlmeS5qc19iZWF1dGlmeTtcbiAgYmVhdXRpZnkuY3NzID0gY3NzX2JlYXV0aWZ5LmNzc19iZWF1dGlmeTtcbiAgYmVhdXRpZnkuaHRtbCA9IGh0bWxfYmVhdXRpZnkuaHRtbF9iZWF1dGlmeTtcblxuICAvLyBsZWdhY3kgYWxpYXNlc1xuICBiZWF1dGlmeS5qc19iZWF1dGlmeSA9IGpzX2JlYXV0aWZ5LmpzX2JlYXV0aWZ5O1xuICBiZWF1dGlmeS5jc3NfYmVhdXRpZnkgPSBjc3NfYmVhdXRpZnkuY3NzX2JlYXV0aWZ5O1xuICBiZWF1dGlmeS5odG1sX2JlYXV0aWZ5ID0gaHRtbF9iZWF1dGlmeS5odG1sX2JlYXV0aWZ5O1xuXG4gIHJldHVybiBiZWF1dGlmeTtcbn1cblxuaWYgKHR5cGVvZiBkZWZpbmUgPT09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kKSB7XG4gIC8vIEFkZCBzdXBwb3J0IGZvciBBTUQgKCBodHRwczovL2dpdGh1Yi5jb20vYW1kanMvYW1kanMtYXBpL3dpa2kvQU1EI2RlZmluZWFtZC1wcm9wZXJ0eS0gKVxuICBkZWZpbmUoW1xuICAgIFwiLi9saWIvYmVhdXRpZnlcIixcbiAgICBcIi4vbGliL2JlYXV0aWZ5LWNzc1wiLFxuICAgIFwiLi9saWIvYmVhdXRpZnktaHRtbFwiXG4gIF0sIGZ1bmN0aW9uKGpzX2JlYXV0aWZ5LCBjc3NfYmVhdXRpZnksIGh0bWxfYmVhdXRpZnkpIHtcbiAgICByZXR1cm4gZ2V0X2JlYXV0aWZ5KGpzX2JlYXV0aWZ5LCBjc3NfYmVhdXRpZnksIGh0bWxfYmVhdXRpZnkpO1xuICB9KTtcbn0gZWxzZSB7XG4gIChmdW5jdGlvbihtb2QpIHtcbiAgICB2YXIgYmVhdXRpZmllciA9IHJlcXVpcmUoJy4vc3JjL2luZGV4Jyk7XG4gICAgYmVhdXRpZmllci5qc19iZWF1dGlmeSA9IGJlYXV0aWZpZXIuanM7XG4gICAgYmVhdXRpZmllci5jc3NfYmVhdXRpZnkgPSBiZWF1dGlmaWVyLmNzcztcbiAgICBiZWF1dGlmaWVyLmh0bWxfYmVhdXRpZnkgPSBiZWF1dGlmaWVyLmh0bWw7XG5cbiAgICBtb2QuZXhwb3J0cyA9IGdldF9iZWF1dGlmeShiZWF1dGlmaWVyLCBiZWF1dGlmaWVyLCBiZWF1dGlmaWVyKTtcblxuICB9KShtb2R1bGUpO1xufSIsIi8qanNoaW50IG5vZGU6dHJ1ZSAqL1xuLypcblxuICBUaGUgTUlUIExpY2Vuc2UgKE1JVClcblxuICBDb3B5cmlnaHQgKGMpIDIwMDctMjAxOCBFaW5hciBMaWVsbWFuaXMsIExpYW0gTmV3bWFuLCBhbmQgY29udHJpYnV0b3JzLlxuXG4gIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uXG4gIG9idGFpbmluZyBhIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzXG4gICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbixcbiAgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSxcbiAgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSxcbiAgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbyxcbiAgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG5cbiAgVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmVcbiAgaW5jbHVkZWQgaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG5cbiAgVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCxcbiAgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4gIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EXG4gIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlNcbiAgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOXG4gIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOXG4gIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEVcbiAgU09GVFdBUkUuXG4qL1xuXG4ndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIERpcmVjdGl2ZXMoc3RhcnRfYmxvY2tfcGF0dGVybiwgZW5kX2Jsb2NrX3BhdHRlcm4pIHtcbiAgc3RhcnRfYmxvY2tfcGF0dGVybiA9IHR5cGVvZiBzdGFydF9ibG9ja19wYXR0ZXJuID09PSAnc3RyaW5nJyA/IHN0YXJ0X2Jsb2NrX3BhdHRlcm4gOiBzdGFydF9ibG9ja19wYXR0ZXJuLnNvdXJjZTtcbiAgZW5kX2Jsb2NrX3BhdHRlcm4gPSB0eXBlb2YgZW5kX2Jsb2NrX3BhdHRlcm4gPT09ICdzdHJpbmcnID8gZW5kX2Jsb2NrX3BhdHRlcm4gOiBlbmRfYmxvY2tfcGF0dGVybi5zb3VyY2U7XG4gIHRoaXMuX19kaXJlY3RpdmVzX2Jsb2NrX3BhdHRlcm4gPSBuZXcgUmVnRXhwKHN0YXJ0X2Jsb2NrX3BhdHRlcm4gKyAvIGJlYXV0aWZ5KCBcXHcrWzpdXFx3KykrIC8uc291cmNlICsgZW5kX2Jsb2NrX3BhdHRlcm4sICdnJyk7XG4gIHRoaXMuX19kaXJlY3RpdmVfcGF0dGVybiA9IC8gKFxcdyspWzpdKFxcdyspL2c7XG5cbiAgdGhpcy5fX2RpcmVjdGl2ZXNfZW5kX2lnbm9yZV9wYXR0ZXJuID0gbmV3IFJlZ0V4cChzdGFydF9ibG9ja19wYXR0ZXJuICsgL1xcc2JlYXV0aWZ5XFxzaWdub3JlOmVuZFxccy8uc291cmNlICsgZW5kX2Jsb2NrX3BhdHRlcm4sICdnJyk7XG59XG5cbkRpcmVjdGl2ZXMucHJvdG90eXBlLmdldF9kaXJlY3RpdmVzID0gZnVuY3Rpb24odGV4dCkge1xuICBpZiAoIXRleHQubWF0Y2godGhpcy5fX2RpcmVjdGl2ZXNfYmxvY2tfcGF0dGVybikpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHZhciBkaXJlY3RpdmVzID0ge307XG4gIHRoaXMuX19kaXJlY3RpdmVfcGF0dGVybi5sYXN0SW5kZXggPSAwO1xuICB2YXIgZGlyZWN0aXZlX21hdGNoID0gdGhpcy5fX2RpcmVjdGl2ZV9wYXR0ZXJuLmV4ZWModGV4dCk7XG5cbiAgd2hpbGUgKGRpcmVjdGl2ZV9tYXRjaCkge1xuICAgIGRpcmVjdGl2ZXNbZGlyZWN0aXZlX21hdGNoWzFdXSA9IGRpcmVjdGl2ZV9tYXRjaFsyXTtcbiAgICBkaXJlY3RpdmVfbWF0Y2ggPSB0aGlzLl9fZGlyZWN0aXZlX3BhdHRlcm4uZXhlYyh0ZXh0KTtcbiAgfVxuXG4gIHJldHVybiBkaXJlY3RpdmVzO1xufTtcblxuRGlyZWN0aXZlcy5wcm90b3R5cGUucmVhZElnbm9yZWQgPSBmdW5jdGlvbihpbnB1dCkge1xuICByZXR1cm4gaW5wdXQucmVhZFVudGlsQWZ0ZXIodGhpcy5fX2RpcmVjdGl2ZXNfZW5kX2lnbm9yZV9wYXR0ZXJuKTtcbn07XG5cblxubW9kdWxlLmV4cG9ydHMuRGlyZWN0aXZlcyA9IERpcmVjdGl2ZXM7XG4iLCIvKmpzaGludCBub2RlOnRydWUgKi9cbi8qXG5cbiAgVGhlIE1JVCBMaWNlbnNlIChNSVQpXG5cbiAgQ29weXJpZ2h0IChjKSAyMDA3LTIwMTggRWluYXIgTGllbG1hbmlzLCBMaWFtIE5ld21hbiwgYW5kIGNvbnRyaWJ1dG9ycy5cblxuICBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvblxuICBvYnRhaW5pbmcgYSBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlc1xuICAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sXG4gIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsXG4gIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsXG4gIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sXG4gIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuXG4gIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlXG4gIGluY2x1ZGVkIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuXG4gIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsXG4gIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuICBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORFxuICBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTXG4gIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTlxuICBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTlxuICBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFXG4gIFNPRlRXQVJFLlxuKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgcmVnZXhwX2hhc19zdGlja3kgPSBSZWdFeHAucHJvdG90eXBlLmhhc093blByb3BlcnR5KCdzdGlja3knKTtcblxuZnVuY3Rpb24gSW5wdXRTY2FubmVyKGlucHV0X3N0cmluZykge1xuICB0aGlzLl9faW5wdXQgPSBpbnB1dF9zdHJpbmcgfHwgJyc7XG4gIHRoaXMuX19pbnB1dF9sZW5ndGggPSB0aGlzLl9faW5wdXQubGVuZ3RoO1xuICB0aGlzLl9fcG9zaXRpb24gPSAwO1xufVxuXG5JbnB1dFNjYW5uZXIucHJvdG90eXBlLnJlc3RhcnQgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5fX3Bvc2l0aW9uID0gMDtcbn07XG5cbklucHV0U2Nhbm5lci5wcm90b3R5cGUuYmFjayA9IGZ1bmN0aW9uKCkge1xuICBpZiAodGhpcy5fX3Bvc2l0aW9uID4gMCkge1xuICAgIHRoaXMuX19wb3NpdGlvbiAtPSAxO1xuICB9XG59O1xuXG5JbnB1dFNjYW5uZXIucHJvdG90eXBlLmhhc05leHQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuX19wb3NpdGlvbiA8IHRoaXMuX19pbnB1dF9sZW5ndGg7XG59O1xuXG5JbnB1dFNjYW5uZXIucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbigpIHtcbiAgdmFyIHZhbCA9IG51bGw7XG4gIGlmICh0aGlzLmhhc05leHQoKSkge1xuICAgIHZhbCA9IHRoaXMuX19pbnB1dC5jaGFyQXQodGhpcy5fX3Bvc2l0aW9uKTtcbiAgICB0aGlzLl9fcG9zaXRpb24gKz0gMTtcbiAgfVxuICByZXR1cm4gdmFsO1xufTtcblxuSW5wdXRTY2FubmVyLnByb3RvdHlwZS5wZWVrID0gZnVuY3Rpb24oaW5kZXgpIHtcbiAgdmFyIHZhbCA9IG51bGw7XG4gIGluZGV4ID0gaW5kZXggfHwgMDtcbiAgaW5kZXggKz0gdGhpcy5fX3Bvc2l0aW9uO1xuICBpZiAoaW5kZXggPj0gMCAmJiBpbmRleCA8IHRoaXMuX19pbnB1dF9sZW5ndGgpIHtcbiAgICB2YWwgPSB0aGlzLl9faW5wdXQuY2hhckF0KGluZGV4KTtcbiAgfVxuICByZXR1cm4gdmFsO1xufTtcblxuLy8gVGhpcyBpcyBhIEphdmFTY3JpcHQgb25seSBoZWxwZXIgZnVuY3Rpb24gKG5vdCBpbiBweXRob24pXG4vLyBKYXZhc2NyaXB0IGRvZXNuJ3QgaGF2ZSBhIG1hdGNoIG1ldGhvZFxuLy8gYW5kIG5vdCBhbGwgaW1wbGVtZW50YXRpb24gc3VwcG9ydCBcInN0aWNreVwiIGZsYWcuXG4vLyBJZiB0aGV5IGRvIG5vdCBzdXBwb3J0IHN0aWNreSB0aGVuIGJvdGggdGhpcy5tYXRjaCgpIGFuZCB0aGlzLnRlc3QoKSBtZXRob2Rcbi8vIG11c3QgZ2V0IHRoZSBtYXRjaCBhbmQgY2hlY2sgdGhlIGluZGV4IG9mIHRoZSBtYXRjaC5cbi8vIElmIHN0aWNreSBpcyBzdXBwb3J0ZWQgYW5kIHNldCwgdGhpcyBtZXRob2Qgd2lsbCB1c2UgaXQuXG4vLyBPdGhlcndpc2UgaXQgd2lsbCBjaGVjayB0aGF0IGdsb2JhbCBpcyBzZXQsIGFuZCBmYWxsIGJhY2sgdG8gdGhlIHNsb3dlciBtZXRob2QuXG5JbnB1dFNjYW5uZXIucHJvdG90eXBlLl9fbWF0Y2ggPSBmdW5jdGlvbihwYXR0ZXJuLCBpbmRleCkge1xuICBwYXR0ZXJuLmxhc3RJbmRleCA9IGluZGV4O1xuICB2YXIgcGF0dGVybl9tYXRjaCA9IHBhdHRlcm4uZXhlYyh0aGlzLl9faW5wdXQpO1xuXG4gIGlmIChwYXR0ZXJuX21hdGNoICYmICEocmVnZXhwX2hhc19zdGlja3kgJiYgcGF0dGVybi5zdGlja3kpKSB7XG4gICAgaWYgKHBhdHRlcm5fbWF0Y2guaW5kZXggIT09IGluZGV4KSB7XG4gICAgICBwYXR0ZXJuX21hdGNoID0gbnVsbDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcGF0dGVybl9tYXRjaDtcbn07XG5cbklucHV0U2Nhbm5lci5wcm90b3R5cGUudGVzdCA9IGZ1bmN0aW9uKHBhdHRlcm4sIGluZGV4KSB7XG4gIGluZGV4ID0gaW5kZXggfHwgMDtcbiAgaW5kZXggKz0gdGhpcy5fX3Bvc2l0aW9uO1xuXG4gIGlmIChpbmRleCA+PSAwICYmIGluZGV4IDwgdGhpcy5fX2lucHV0X2xlbmd0aCkge1xuICAgIHJldHVybiAhIXRoaXMuX19tYXRjaChwYXR0ZXJuLCBpbmRleCk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59O1xuXG5JbnB1dFNjYW5uZXIucHJvdG90eXBlLnRlc3RDaGFyID0gZnVuY3Rpb24ocGF0dGVybiwgaW5kZXgpIHtcbiAgLy8gdGVzdCBvbmUgY2hhcmFjdGVyIHJlZ2V4IG1hdGNoXG4gIHZhciB2YWwgPSB0aGlzLnBlZWsoaW5kZXgpO1xuICBwYXR0ZXJuLmxhc3RJbmRleCA9IDA7XG4gIHJldHVybiB2YWwgIT09IG51bGwgJiYgcGF0dGVybi50ZXN0KHZhbCk7XG59O1xuXG5JbnB1dFNjYW5uZXIucHJvdG90eXBlLm1hdGNoID0gZnVuY3Rpb24ocGF0dGVybikge1xuICB2YXIgcGF0dGVybl9tYXRjaCA9IHRoaXMuX19tYXRjaChwYXR0ZXJuLCB0aGlzLl9fcG9zaXRpb24pO1xuICBpZiAocGF0dGVybl9tYXRjaCkge1xuICAgIHRoaXMuX19wb3NpdGlvbiArPSBwYXR0ZXJuX21hdGNoWzBdLmxlbmd0aDtcbiAgfSBlbHNlIHtcbiAgICBwYXR0ZXJuX21hdGNoID0gbnVsbDtcbiAgfVxuICByZXR1cm4gcGF0dGVybl9tYXRjaDtcbn07XG5cbklucHV0U2Nhbm5lci5wcm90b3R5cGUucmVhZCA9IGZ1bmN0aW9uKHN0YXJ0aW5nX3BhdHRlcm4sIHVudGlsX3BhdHRlcm4sIHVudGlsX2FmdGVyKSB7XG4gIHZhciB2YWwgPSAnJztcbiAgdmFyIG1hdGNoO1xuICBpZiAoc3RhcnRpbmdfcGF0dGVybikge1xuICAgIG1hdGNoID0gdGhpcy5tYXRjaChzdGFydGluZ19wYXR0ZXJuKTtcbiAgICBpZiAobWF0Y2gpIHtcbiAgICAgIHZhbCArPSBtYXRjaFswXTtcbiAgICB9XG4gIH1cbiAgaWYgKHVudGlsX3BhdHRlcm4gJiYgKG1hdGNoIHx8ICFzdGFydGluZ19wYXR0ZXJuKSkge1xuICAgIHZhbCArPSB0aGlzLnJlYWRVbnRpbCh1bnRpbF9wYXR0ZXJuLCB1bnRpbF9hZnRlcik7XG4gIH1cbiAgcmV0dXJuIHZhbDtcbn07XG5cbklucHV0U2Nhbm5lci5wcm90b3R5cGUucmVhZFVudGlsID0gZnVuY3Rpb24ocGF0dGVybiwgdW50aWxfYWZ0ZXIpIHtcbiAgdmFyIHZhbCA9ICcnO1xuICB2YXIgbWF0Y2hfaW5kZXggPSB0aGlzLl9fcG9zaXRpb247XG4gIHBhdHRlcm4ubGFzdEluZGV4ID0gdGhpcy5fX3Bvc2l0aW9uO1xuICB2YXIgcGF0dGVybl9tYXRjaCA9IHBhdHRlcm4uZXhlYyh0aGlzLl9faW5wdXQpO1xuICBpZiAocGF0dGVybl9tYXRjaCkge1xuICAgIG1hdGNoX2luZGV4ID0gcGF0dGVybl9tYXRjaC5pbmRleDtcbiAgICBpZiAodW50aWxfYWZ0ZXIpIHtcbiAgICAgIG1hdGNoX2luZGV4ICs9IHBhdHRlcm5fbWF0Y2hbMF0ubGVuZ3RoO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBtYXRjaF9pbmRleCA9IHRoaXMuX19pbnB1dF9sZW5ndGg7XG4gIH1cblxuICB2YWwgPSB0aGlzLl9faW5wdXQuc3Vic3RyaW5nKHRoaXMuX19wb3NpdGlvbiwgbWF0Y2hfaW5kZXgpO1xuICB0aGlzLl9fcG9zaXRpb24gPSBtYXRjaF9pbmRleDtcbiAgcmV0dXJuIHZhbDtcbn07XG5cbklucHV0U2Nhbm5lci5wcm90b3R5cGUucmVhZFVudGlsQWZ0ZXIgPSBmdW5jdGlvbihwYXR0ZXJuKSB7XG4gIHJldHVybiB0aGlzLnJlYWRVbnRpbChwYXR0ZXJuLCB0cnVlKTtcbn07XG5cbklucHV0U2Nhbm5lci5wcm90b3R5cGUuZ2V0X3JlZ2V4cCA9IGZ1bmN0aW9uKHBhdHRlcm4sIG1hdGNoX2Zyb20pIHtcbiAgdmFyIHJlc3VsdCA9IG51bGw7XG4gIHZhciBmbGFncyA9ICdnJztcbiAgaWYgKG1hdGNoX2Zyb20gJiYgcmVnZXhwX2hhc19zdGlja3kpIHtcbiAgICBmbGFncyA9ICd5JztcbiAgfVxuICAvLyBzdHJpbmdzIGFyZSBjb252ZXJ0ZWQgdG8gcmVnZXhwXG4gIGlmICh0eXBlb2YgcGF0dGVybiA9PT0gXCJzdHJpbmdcIiAmJiBwYXR0ZXJuICE9PSAnJykge1xuICAgIC8vIHJlc3VsdCA9IG5ldyBSZWdFeHAocGF0dGVybi5yZXBsYWNlKC9bLVxcL1xcXFxeJCorPy4oKXxbXFxde31dL2csICdcXFxcJCYnKSwgZmxhZ3MpO1xuICAgIHJlc3VsdCA9IG5ldyBSZWdFeHAocGF0dGVybiwgZmxhZ3MpO1xuICB9IGVsc2UgaWYgKHBhdHRlcm4pIHtcbiAgICByZXN1bHQgPSBuZXcgUmVnRXhwKHBhdHRlcm4uc291cmNlLCBmbGFncyk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbklucHV0U2Nhbm5lci5wcm90b3R5cGUuZ2V0X2xpdGVyYWxfcmVnZXhwID0gZnVuY3Rpb24obGl0ZXJhbF9zdHJpbmcpIHtcbiAgcmV0dXJuIFJlZ0V4cChsaXRlcmFsX3N0cmluZy5yZXBsYWNlKC9bLVxcL1xcXFxeJCorPy4oKXxbXFxde31dL2csICdcXFxcJCYnKSk7XG59O1xuXG4vKiBjc3MgYmVhdXRpZmllciBsZWdhY3kgaGVscGVycyAqL1xuSW5wdXRTY2FubmVyLnByb3RvdHlwZS5wZWVrVW50aWxBZnRlciA9IGZ1bmN0aW9uKHBhdHRlcm4pIHtcbiAgdmFyIHN0YXJ0ID0gdGhpcy5fX3Bvc2l0aW9uO1xuICB2YXIgdmFsID0gdGhpcy5yZWFkVW50aWxBZnRlcihwYXR0ZXJuKTtcbiAgdGhpcy5fX3Bvc2l0aW9uID0gc3RhcnQ7XG4gIHJldHVybiB2YWw7XG59O1xuXG5JbnB1dFNjYW5uZXIucHJvdG90eXBlLmxvb2tCYWNrID0gZnVuY3Rpb24odGVzdFZhbCkge1xuICB2YXIgc3RhcnQgPSB0aGlzLl9fcG9zaXRpb24gLSAxO1xuICByZXR1cm4gc3RhcnQgPj0gdGVzdFZhbC5sZW5ndGggJiYgdGhpcy5fX2lucHV0LnN1YnN0cmluZyhzdGFydCAtIHRlc3RWYWwubGVuZ3RoLCBzdGFydClcbiAgICAudG9Mb3dlckNhc2UoKSA9PT0gdGVzdFZhbDtcbn07XG5cbm1vZHVsZS5leHBvcnRzLklucHV0U2Nhbm5lciA9IElucHV0U2Nhbm5lcjtcbiIsIi8qanNoaW50IG5vZGU6dHJ1ZSAqL1xuLypcblxuICBUaGUgTUlUIExpY2Vuc2UgKE1JVClcblxuICBDb3B5cmlnaHQgKGMpIDIwMDctMjAxOCBFaW5hciBMaWVsbWFuaXMsIExpYW0gTmV3bWFuLCBhbmQgY29udHJpYnV0b3JzLlxuXG4gIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uXG4gIG9idGFpbmluZyBhIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzXG4gICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbixcbiAgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSxcbiAgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSxcbiAgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbyxcbiAgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG5cbiAgVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmVcbiAgaW5jbHVkZWQgaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG5cbiAgVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCxcbiAgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4gIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EXG4gIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlNcbiAgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOXG4gIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOXG4gIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEVcbiAgU09GVFdBUkUuXG4qL1xuXG4ndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIE9wdGlvbnMob3B0aW9ucywgbWVyZ2VfY2hpbGRfZmllbGQpIHtcbiAgdGhpcy5yYXdfb3B0aW9ucyA9IF9tZXJnZU9wdHMob3B0aW9ucywgbWVyZ2VfY2hpbGRfZmllbGQpO1xuXG4gIC8vIFN1cHBvcnQgcGFzc2luZyB0aGUgc291cmNlIHRleHQgYmFjayB3aXRoIG5vIGNoYW5nZVxuICB0aGlzLmRpc2FibGVkID0gdGhpcy5fZ2V0X2Jvb2xlYW4oJ2Rpc2FibGVkJyk7XG5cbiAgdGhpcy5lb2wgPSB0aGlzLl9nZXRfY2hhcmFjdGVycygnZW9sJywgJ2F1dG8nKTtcbiAgdGhpcy5lbmRfd2l0aF9uZXdsaW5lID0gdGhpcy5fZ2V0X2Jvb2xlYW4oJ2VuZF93aXRoX25ld2xpbmUnKTtcbiAgdGhpcy5pbmRlbnRfc2l6ZSA9IHRoaXMuX2dldF9udW1iZXIoJ2luZGVudF9zaXplJywgNCk7XG4gIHRoaXMuaW5kZW50X2NoYXIgPSB0aGlzLl9nZXRfY2hhcmFjdGVycygnaW5kZW50X2NoYXInLCAnICcpO1xuICB0aGlzLmluZGVudF9sZXZlbCA9IHRoaXMuX2dldF9udW1iZXIoJ2luZGVudF9sZXZlbCcpO1xuXG4gIHRoaXMucHJlc2VydmVfbmV3bGluZXMgPSB0aGlzLl9nZXRfYm9vbGVhbigncHJlc2VydmVfbmV3bGluZXMnLCB0cnVlKTtcbiAgdGhpcy5tYXhfcHJlc2VydmVfbmV3bGluZXMgPSB0aGlzLl9nZXRfbnVtYmVyKCdtYXhfcHJlc2VydmVfbmV3bGluZXMnLCAzMjc4Nik7XG4gIGlmICghdGhpcy5wcmVzZXJ2ZV9uZXdsaW5lcykge1xuICAgIHRoaXMubWF4X3ByZXNlcnZlX25ld2xpbmVzID0gMDtcbiAgfVxuXG4gIHRoaXMuaW5kZW50X3dpdGhfdGFicyA9IHRoaXMuX2dldF9ib29sZWFuKCdpbmRlbnRfd2l0aF90YWJzJywgdGhpcy5pbmRlbnRfY2hhciA9PT0gJ1xcdCcpO1xuICBpZiAodGhpcy5pbmRlbnRfd2l0aF90YWJzKSB7XG4gICAgdGhpcy5pbmRlbnRfY2hhciA9ICdcXHQnO1xuXG4gICAgLy8gaW5kZW50X3NpemUgYmVoYXZpb3IgY2hhbmdlZCBhZnRlciAxLjguNlxuICAgIC8vIEl0IHVzZWQgdG8gYmUgdGhhdCBpbmRlbnRfc2l6ZSB3b3VsZCBiZVxuICAgIC8vIHNldCB0byAxIGZvciBpbmRlbnRfd2l0aF90YWJzLiBUaGF0IGlzIG5vIGxvbmdlciBuZWVkZWQgYW5kXG4gICAgLy8gYWN0dWFsbHkgZG9lc24ndCBtYWtlIHNlbnNlIC0gd2h5IG5vdCB1c2Ugc3BhY2VzPyBGdXJ0aGVyLFxuICAgIC8vIHRoYXQgbWlnaHQgcHJvZHVjZSB1bmV4cGVjdGVkIGJlaGF2aW9yIC0gdGFicyBiZWluZyB1c2VkXG4gICAgLy8gZm9yIHNpbmdsZS1jb2x1bW4gYWxpZ25tZW50LiBTbywgd2hlbiBpbmRlbnRfd2l0aF90YWJzIGlzIHRydWVcbiAgICAvLyBhbmQgaW5kZW50X3NpemUgaXMgMSwgcmVzZXQgaW5kZW50X3NpemUgdG8gNC5cbiAgICBpZiAodGhpcy5pbmRlbnRfc2l6ZSA9PT0gMSkge1xuICAgICAgdGhpcy5pbmRlbnRfc2l6ZSA9IDQ7XG4gICAgfVxuICB9XG5cbiAgLy8gQmFja3dhcmRzIGNvbXBhdCB3aXRoIDEuMy54XG4gIHRoaXMud3JhcF9saW5lX2xlbmd0aCA9IHRoaXMuX2dldF9udW1iZXIoJ3dyYXBfbGluZV9sZW5ndGgnLCB0aGlzLl9nZXRfbnVtYmVyKCdtYXhfY2hhcicpKTtcblxuICB0aGlzLmluZGVudF9lbXB0eV9saW5lcyA9IHRoaXMuX2dldF9ib29sZWFuKCdpbmRlbnRfZW1wdHlfbGluZXMnKTtcblxuICAvLyB2YWxpZCB0ZW1wbGF0aW5nIGxhbmd1YWdlcyBbJ2RqYW5nbycsICdlcmInLCAnaGFuZGxlYmFycycsICdwaHAnXVxuICAvLyBGb3Igbm93LCAnYXV0bycgPSBhbGwgb2ZmIGZvciBqYXZhc2NyaXB0LCBhbGwgb24gZm9yIGh0bWwgKGFuZCBpbmxpbmUgamF2YXNjcmlwdCkuXG4gIC8vIG90aGVyIHZhbHVlcyBpZ25vcmVkXG4gIHRoaXMudGVtcGxhdGluZyA9IHRoaXMuX2dldF9zZWxlY3Rpb25fbGlzdCgndGVtcGxhdGluZycsIFsnYXV0bycsICdub25lJywgJ2RqYW5nbycsICdlcmInLCAnaGFuZGxlYmFycycsICdwaHAnXSwgWydhdXRvJ10pO1xufVxuXG5PcHRpb25zLnByb3RvdHlwZS5fZ2V0X2FycmF5ID0gZnVuY3Rpb24obmFtZSwgZGVmYXVsdF92YWx1ZSkge1xuICB2YXIgb3B0aW9uX3ZhbHVlID0gdGhpcy5yYXdfb3B0aW9uc1tuYW1lXTtcbiAgdmFyIHJlc3VsdCA9IGRlZmF1bHRfdmFsdWUgfHwgW107XG4gIGlmICh0eXBlb2Ygb3B0aW9uX3ZhbHVlID09PSAnb2JqZWN0Jykge1xuICAgIGlmIChvcHRpb25fdmFsdWUgIT09IG51bGwgJiYgdHlwZW9mIG9wdGlvbl92YWx1ZS5jb25jYXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJlc3VsdCA9IG9wdGlvbl92YWx1ZS5jb25jYXQoKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAodHlwZW9mIG9wdGlvbl92YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICByZXN1bHQgPSBvcHRpb25fdmFsdWUuc3BsaXQoL1teYS16QS1aMC05X1xcL1xcLV0rLyk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbk9wdGlvbnMucHJvdG90eXBlLl9nZXRfYm9vbGVhbiA9IGZ1bmN0aW9uKG5hbWUsIGRlZmF1bHRfdmFsdWUpIHtcbiAgdmFyIG9wdGlvbl92YWx1ZSA9IHRoaXMucmF3X29wdGlvbnNbbmFtZV07XG4gIHZhciByZXN1bHQgPSBvcHRpb25fdmFsdWUgPT09IHVuZGVmaW5lZCA/ICEhZGVmYXVsdF92YWx1ZSA6ICEhb3B0aW9uX3ZhbHVlO1xuICByZXR1cm4gcmVzdWx0O1xufTtcblxuT3B0aW9ucy5wcm90b3R5cGUuX2dldF9jaGFyYWN0ZXJzID0gZnVuY3Rpb24obmFtZSwgZGVmYXVsdF92YWx1ZSkge1xuICB2YXIgb3B0aW9uX3ZhbHVlID0gdGhpcy5yYXdfb3B0aW9uc1tuYW1lXTtcbiAgdmFyIHJlc3VsdCA9IGRlZmF1bHRfdmFsdWUgfHwgJyc7XG4gIGlmICh0eXBlb2Ygb3B0aW9uX3ZhbHVlID09PSAnc3RyaW5nJykge1xuICAgIHJlc3VsdCA9IG9wdGlvbl92YWx1ZS5yZXBsYWNlKC9cXFxcci8sICdcXHInKS5yZXBsYWNlKC9cXFxcbi8sICdcXG4nKS5yZXBsYWNlKC9cXFxcdC8sICdcXHQnKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuT3B0aW9ucy5wcm90b3R5cGUuX2dldF9udW1iZXIgPSBmdW5jdGlvbihuYW1lLCBkZWZhdWx0X3ZhbHVlKSB7XG4gIHZhciBvcHRpb25fdmFsdWUgPSB0aGlzLnJhd19vcHRpb25zW25hbWVdO1xuICBkZWZhdWx0X3ZhbHVlID0gcGFyc2VJbnQoZGVmYXVsdF92YWx1ZSwgMTApO1xuICBpZiAoaXNOYU4oZGVmYXVsdF92YWx1ZSkpIHtcbiAgICBkZWZhdWx0X3ZhbHVlID0gMDtcbiAgfVxuICB2YXIgcmVzdWx0ID0gcGFyc2VJbnQob3B0aW9uX3ZhbHVlLCAxMCk7XG4gIGlmIChpc05hTihyZXN1bHQpKSB7XG4gICAgcmVzdWx0ID0gZGVmYXVsdF92YWx1ZTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuT3B0aW9ucy5wcm90b3R5cGUuX2dldF9zZWxlY3Rpb24gPSBmdW5jdGlvbihuYW1lLCBzZWxlY3Rpb25fbGlzdCwgZGVmYXVsdF92YWx1ZSkge1xuICB2YXIgcmVzdWx0ID0gdGhpcy5fZ2V0X3NlbGVjdGlvbl9saXN0KG5hbWUsIHNlbGVjdGlvbl9saXN0LCBkZWZhdWx0X3ZhbHVlKTtcbiAgaWYgKHJlc3VsdC5sZW5ndGggIT09IDEpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBcIkludmFsaWQgT3B0aW9uIFZhbHVlOiBUaGUgb3B0aW9uICdcIiArIG5hbWUgKyBcIicgY2FuIG9ubHkgYmUgb25lIG9mIHRoZSBmb2xsb3dpbmcgdmFsdWVzOlxcblwiICtcbiAgICAgIHNlbGVjdGlvbl9saXN0ICsgXCJcXG5Zb3UgcGFzc2VkIGluOiAnXCIgKyB0aGlzLnJhd19vcHRpb25zW25hbWVdICsgXCInXCIpO1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdFswXTtcbn07XG5cblxuT3B0aW9ucy5wcm90b3R5cGUuX2dldF9zZWxlY3Rpb25fbGlzdCA9IGZ1bmN0aW9uKG5hbWUsIHNlbGVjdGlvbl9saXN0LCBkZWZhdWx0X3ZhbHVlKSB7XG4gIGlmICghc2VsZWN0aW9uX2xpc3QgfHwgc2VsZWN0aW9uX2xpc3QubGVuZ3RoID09PSAwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiU2VsZWN0aW9uIGxpc3QgY2Fubm90IGJlIGVtcHR5LlwiKTtcbiAgfVxuXG4gIGRlZmF1bHRfdmFsdWUgPSBkZWZhdWx0X3ZhbHVlIHx8IFtzZWxlY3Rpb25fbGlzdFswXV07XG4gIGlmICghdGhpcy5faXNfdmFsaWRfc2VsZWN0aW9uKGRlZmF1bHRfdmFsdWUsIHNlbGVjdGlvbl9saXN0KSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgRGVmYXVsdCBWYWx1ZSFcIik7XG4gIH1cblxuICB2YXIgcmVzdWx0ID0gdGhpcy5fZ2V0X2FycmF5KG5hbWUsIGRlZmF1bHRfdmFsdWUpO1xuICBpZiAoIXRoaXMuX2lzX3ZhbGlkX3NlbGVjdGlvbihyZXN1bHQsIHNlbGVjdGlvbl9saXN0KSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIFwiSW52YWxpZCBPcHRpb24gVmFsdWU6IFRoZSBvcHRpb24gJ1wiICsgbmFtZSArIFwiJyBjYW4gY29udGFpbiBvbmx5IHRoZSBmb2xsb3dpbmcgdmFsdWVzOlxcblwiICtcbiAgICAgIHNlbGVjdGlvbl9saXN0ICsgXCJcXG5Zb3UgcGFzc2VkIGluOiAnXCIgKyB0aGlzLnJhd19vcHRpb25zW25hbWVdICsgXCInXCIpO1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbk9wdGlvbnMucHJvdG90eXBlLl9pc192YWxpZF9zZWxlY3Rpb24gPSBmdW5jdGlvbihyZXN1bHQsIHNlbGVjdGlvbl9saXN0KSB7XG4gIHJldHVybiByZXN1bHQubGVuZ3RoICYmIHNlbGVjdGlvbl9saXN0Lmxlbmd0aCAmJlxuICAgICFyZXN1bHQuc29tZShmdW5jdGlvbihpdGVtKSB7IHJldHVybiBzZWxlY3Rpb25fbGlzdC5pbmRleE9mKGl0ZW0pID09PSAtMTsgfSk7XG59O1xuXG5cbi8vIG1lcmdlcyBjaGlsZCBvcHRpb25zIHVwIHdpdGggdGhlIHBhcmVudCBvcHRpb25zIG9iamVjdFxuLy8gRXhhbXBsZTogb2JqID0ge2E6IDEsIGI6IHthOiAyfX1cbi8vICAgICAgICAgIG1lcmdlT3B0cyhvYmosICdiJylcbi8vXG4vLyAgICAgICAgICBSZXR1cm5zOiB7YTogMn1cbmZ1bmN0aW9uIF9tZXJnZU9wdHMoYWxsT3B0aW9ucywgY2hpbGRGaWVsZE5hbWUpIHtcbiAgdmFyIGZpbmFsT3B0cyA9IHt9O1xuICBhbGxPcHRpb25zID0gX25vcm1hbGl6ZU9wdHMoYWxsT3B0aW9ucyk7XG4gIHZhciBuYW1lO1xuXG4gIGZvciAobmFtZSBpbiBhbGxPcHRpb25zKSB7XG4gICAgaWYgKG5hbWUgIT09IGNoaWxkRmllbGROYW1lKSB7XG4gICAgICBmaW5hbE9wdHNbbmFtZV0gPSBhbGxPcHRpb25zW25hbWVdO1xuICAgIH1cbiAgfVxuXG4gIC8vbWVyZ2UgaW4gdGhlIHBlciB0eXBlIHNldHRpbmdzIGZvciB0aGUgY2hpbGRGaWVsZE5hbWVcbiAgaWYgKGNoaWxkRmllbGROYW1lICYmIGFsbE9wdGlvbnNbY2hpbGRGaWVsZE5hbWVdKSB7XG4gICAgZm9yIChuYW1lIGluIGFsbE9wdGlvbnNbY2hpbGRGaWVsZE5hbWVdKSB7XG4gICAgICBmaW5hbE9wdHNbbmFtZV0gPSBhbGxPcHRpb25zW2NoaWxkRmllbGROYW1lXVtuYW1lXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZpbmFsT3B0cztcbn1cblxuZnVuY3Rpb24gX25vcm1hbGl6ZU9wdHMob3B0aW9ucykge1xuICB2YXIgY29udmVydGVkT3B0cyA9IHt9O1xuICB2YXIga2V5O1xuXG4gIGZvciAoa2V5IGluIG9wdGlvbnMpIHtcbiAgICB2YXIgbmV3S2V5ID0ga2V5LnJlcGxhY2UoLy0vZywgXCJfXCIpO1xuICAgIGNvbnZlcnRlZE9wdHNbbmV3S2V5XSA9IG9wdGlvbnNba2V5XTtcbiAgfVxuICByZXR1cm4gY29udmVydGVkT3B0cztcbn1cblxubW9kdWxlLmV4cG9ydHMuT3B0aW9ucyA9IE9wdGlvbnM7XG5tb2R1bGUuZXhwb3J0cy5ub3JtYWxpemVPcHRzID0gX25vcm1hbGl6ZU9wdHM7XG5tb2R1bGUuZXhwb3J0cy5tZXJnZU9wdHMgPSBfbWVyZ2VPcHRzO1xuIiwiLypqc2hpbnQgbm9kZTp0cnVlICovXG4vKlxuICBUaGUgTUlUIExpY2Vuc2UgKE1JVClcblxuICBDb3B5cmlnaHQgKGMpIDIwMDctMjAxOCBFaW5hciBMaWVsbWFuaXMsIExpYW0gTmV3bWFuLCBhbmQgY29udHJpYnV0b3JzLlxuXG4gIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uXG4gIG9idGFpbmluZyBhIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzXG4gICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbixcbiAgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSxcbiAgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSxcbiAgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbyxcbiAgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG5cbiAgVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmVcbiAgaW5jbHVkZWQgaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG5cbiAgVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCxcbiAgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4gIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EXG4gIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlNcbiAgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOXG4gIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOXG4gIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEVcbiAgU09GVFdBUkUuXG4qL1xuXG4ndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIE91dHB1dExpbmUocGFyZW50KSB7XG4gIHRoaXMuX19wYXJlbnQgPSBwYXJlbnQ7XG4gIHRoaXMuX19jaGFyYWN0ZXJfY291bnQgPSAwO1xuICAvLyB1c2UgaW5kZW50X2NvdW50IGFzIGEgbWFya2VyIGZvciB0aGlzLl9fbGluZXMgdGhhdCBoYXZlIHByZXNlcnZlZCBpbmRlbnRhdGlvblxuICB0aGlzLl9faW5kZW50X2NvdW50ID0gLTE7XG4gIHRoaXMuX19hbGlnbm1lbnRfY291bnQgPSAwO1xuICB0aGlzLl9fd3JhcF9wb2ludF9pbmRleCA9IDA7XG4gIHRoaXMuX193cmFwX3BvaW50X2NoYXJhY3Rlcl9jb3VudCA9IDA7XG4gIHRoaXMuX193cmFwX3BvaW50X2luZGVudF9jb3VudCA9IC0xO1xuICB0aGlzLl9fd3JhcF9wb2ludF9hbGlnbm1lbnRfY291bnQgPSAwO1xuXG4gIHRoaXMuX19pdGVtcyA9IFtdO1xufVxuXG5PdXRwdXRMaW5lLnByb3RvdHlwZS5jbG9uZV9lbXB0eSA9IGZ1bmN0aW9uKCkge1xuICB2YXIgbGluZSA9IG5ldyBPdXRwdXRMaW5lKHRoaXMuX19wYXJlbnQpO1xuICBsaW5lLnNldF9pbmRlbnQodGhpcy5fX2luZGVudF9jb3VudCwgdGhpcy5fX2FsaWdubWVudF9jb3VudCk7XG4gIHJldHVybiBsaW5lO1xufTtcblxuT3V0cHV0TGluZS5wcm90b3R5cGUuaXRlbSA9IGZ1bmN0aW9uKGluZGV4KSB7XG4gIGlmIChpbmRleCA8IDApIHtcbiAgICByZXR1cm4gdGhpcy5fX2l0ZW1zW3RoaXMuX19pdGVtcy5sZW5ndGggKyBpbmRleF07XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHRoaXMuX19pdGVtc1tpbmRleF07XG4gIH1cbn07XG5cbk91dHB1dExpbmUucHJvdG90eXBlLmhhc19tYXRjaCA9IGZ1bmN0aW9uKHBhdHRlcm4pIHtcbiAgZm9yICh2YXIgbGFzdENoZWNrZWRPdXRwdXQgPSB0aGlzLl9faXRlbXMubGVuZ3RoIC0gMTsgbGFzdENoZWNrZWRPdXRwdXQgPj0gMDsgbGFzdENoZWNrZWRPdXRwdXQtLSkge1xuICAgIGlmICh0aGlzLl9faXRlbXNbbGFzdENoZWNrZWRPdXRwdXRdLm1hdGNoKHBhdHRlcm4pKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufTtcblxuT3V0cHV0TGluZS5wcm90b3R5cGUuc2V0X2luZGVudCA9IGZ1bmN0aW9uKGluZGVudCwgYWxpZ25tZW50KSB7XG4gIGlmICh0aGlzLmlzX2VtcHR5KCkpIHtcbiAgICB0aGlzLl9faW5kZW50X2NvdW50ID0gaW5kZW50IHx8IDA7XG4gICAgdGhpcy5fX2FsaWdubWVudF9jb3VudCA9IGFsaWdubWVudCB8fCAwO1xuICAgIHRoaXMuX19jaGFyYWN0ZXJfY291bnQgPSB0aGlzLl9fcGFyZW50LmdldF9pbmRlbnRfc2l6ZSh0aGlzLl9faW5kZW50X2NvdW50LCB0aGlzLl9fYWxpZ25tZW50X2NvdW50KTtcbiAgfVxufTtcblxuT3V0cHV0TGluZS5wcm90b3R5cGUuX3NldF93cmFwX3BvaW50ID0gZnVuY3Rpb24oKSB7XG4gIGlmICh0aGlzLl9fcGFyZW50LndyYXBfbGluZV9sZW5ndGgpIHtcbiAgICB0aGlzLl9fd3JhcF9wb2ludF9pbmRleCA9IHRoaXMuX19pdGVtcy5sZW5ndGg7XG4gICAgdGhpcy5fX3dyYXBfcG9pbnRfY2hhcmFjdGVyX2NvdW50ID0gdGhpcy5fX2NoYXJhY3Rlcl9jb3VudDtcbiAgICB0aGlzLl9fd3JhcF9wb2ludF9pbmRlbnRfY291bnQgPSB0aGlzLl9fcGFyZW50Lm5leHRfbGluZS5fX2luZGVudF9jb3VudDtcbiAgICB0aGlzLl9fd3JhcF9wb2ludF9hbGlnbm1lbnRfY291bnQgPSB0aGlzLl9fcGFyZW50Lm5leHRfbGluZS5fX2FsaWdubWVudF9jb3VudDtcbiAgfVxufTtcblxuT3V0cHV0TGluZS5wcm90b3R5cGUuX3Nob3VsZF93cmFwID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLl9fd3JhcF9wb2ludF9pbmRleCAmJlxuICAgIHRoaXMuX19jaGFyYWN0ZXJfY291bnQgPiB0aGlzLl9fcGFyZW50LndyYXBfbGluZV9sZW5ndGggJiZcbiAgICB0aGlzLl9fd3JhcF9wb2ludF9jaGFyYWN0ZXJfY291bnQgPiB0aGlzLl9fcGFyZW50Lm5leHRfbGluZS5fX2NoYXJhY3Rlcl9jb3VudDtcbn07XG5cbk91dHB1dExpbmUucHJvdG90eXBlLl9hbGxvd193cmFwID0gZnVuY3Rpb24oKSB7XG4gIGlmICh0aGlzLl9zaG91bGRfd3JhcCgpKSB7XG4gICAgdGhpcy5fX3BhcmVudC5hZGRfbmV3X2xpbmUoKTtcbiAgICB2YXIgbmV4dCA9IHRoaXMuX19wYXJlbnQuY3VycmVudF9saW5lO1xuICAgIG5leHQuc2V0X2luZGVudCh0aGlzLl9fd3JhcF9wb2ludF9pbmRlbnRfY291bnQsIHRoaXMuX193cmFwX3BvaW50X2FsaWdubWVudF9jb3VudCk7XG4gICAgbmV4dC5fX2l0ZW1zID0gdGhpcy5fX2l0ZW1zLnNsaWNlKHRoaXMuX193cmFwX3BvaW50X2luZGV4KTtcbiAgICB0aGlzLl9faXRlbXMgPSB0aGlzLl9faXRlbXMuc2xpY2UoMCwgdGhpcy5fX3dyYXBfcG9pbnRfaW5kZXgpO1xuXG4gICAgbmV4dC5fX2NoYXJhY3Rlcl9jb3VudCArPSB0aGlzLl9fY2hhcmFjdGVyX2NvdW50IC0gdGhpcy5fX3dyYXBfcG9pbnRfY2hhcmFjdGVyX2NvdW50O1xuICAgIHRoaXMuX19jaGFyYWN0ZXJfY291bnQgPSB0aGlzLl9fd3JhcF9wb2ludF9jaGFyYWN0ZXJfY291bnQ7XG5cbiAgICBpZiAobmV4dC5fX2l0ZW1zWzBdID09PSBcIiBcIikge1xuICAgICAgbmV4dC5fX2l0ZW1zLnNwbGljZSgwLCAxKTtcbiAgICAgIG5leHQuX19jaGFyYWN0ZXJfY291bnQgLT0gMTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufTtcblxuT3V0cHV0TGluZS5wcm90b3R5cGUuaXNfZW1wdHkgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuX19pdGVtcy5sZW5ndGggPT09IDA7XG59O1xuXG5PdXRwdXRMaW5lLnByb3RvdHlwZS5sYXN0ID0gZnVuY3Rpb24oKSB7XG4gIGlmICghdGhpcy5pc19lbXB0eSgpKSB7XG4gICAgcmV0dXJuIHRoaXMuX19pdGVtc1t0aGlzLl9faXRlbXMubGVuZ3RoIC0gMV07XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn07XG5cbk91dHB1dExpbmUucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbihpdGVtKSB7XG4gIHRoaXMuX19pdGVtcy5wdXNoKGl0ZW0pO1xuICB2YXIgbGFzdF9uZXdsaW5lX2luZGV4ID0gaXRlbS5sYXN0SW5kZXhPZignXFxuJyk7XG4gIGlmIChsYXN0X25ld2xpbmVfaW5kZXggIT09IC0xKSB7XG4gICAgdGhpcy5fX2NoYXJhY3Rlcl9jb3VudCA9IGl0ZW0ubGVuZ3RoIC0gbGFzdF9uZXdsaW5lX2luZGV4O1xuICB9IGVsc2Uge1xuICAgIHRoaXMuX19jaGFyYWN0ZXJfY291bnQgKz0gaXRlbS5sZW5ndGg7XG4gIH1cbn07XG5cbk91dHB1dExpbmUucHJvdG90eXBlLnBvcCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgaXRlbSA9IG51bGw7XG4gIGlmICghdGhpcy5pc19lbXB0eSgpKSB7XG4gICAgaXRlbSA9IHRoaXMuX19pdGVtcy5wb3AoKTtcbiAgICB0aGlzLl9fY2hhcmFjdGVyX2NvdW50IC09IGl0ZW0ubGVuZ3RoO1xuICB9XG4gIHJldHVybiBpdGVtO1xufTtcblxuXG5PdXRwdXRMaW5lLnByb3RvdHlwZS5fcmVtb3ZlX2luZGVudCA9IGZ1bmN0aW9uKCkge1xuICBpZiAodGhpcy5fX2luZGVudF9jb3VudCA+IDApIHtcbiAgICB0aGlzLl9faW5kZW50X2NvdW50IC09IDE7XG4gICAgdGhpcy5fX2NoYXJhY3Rlcl9jb3VudCAtPSB0aGlzLl9fcGFyZW50LmluZGVudF9zaXplO1xuICB9XG59O1xuXG5PdXRwdXRMaW5lLnByb3RvdHlwZS5fcmVtb3ZlX3dyYXBfaW5kZW50ID0gZnVuY3Rpb24oKSB7XG4gIGlmICh0aGlzLl9fd3JhcF9wb2ludF9pbmRlbnRfY291bnQgPiAwKSB7XG4gICAgdGhpcy5fX3dyYXBfcG9pbnRfaW5kZW50X2NvdW50IC09IDE7XG4gIH1cbn07XG5PdXRwdXRMaW5lLnByb3RvdHlwZS50cmltID0gZnVuY3Rpb24oKSB7XG4gIHdoaWxlICh0aGlzLmxhc3QoKSA9PT0gJyAnKSB7XG4gICAgdGhpcy5fX2l0ZW1zLnBvcCgpO1xuICAgIHRoaXMuX19jaGFyYWN0ZXJfY291bnQgLT0gMTtcbiAgfVxufTtcblxuT3V0cHV0TGluZS5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgdmFyIHJlc3VsdCA9ICcnO1xuICBpZiAodGhpcy5pc19lbXB0eSgpKSB7XG4gICAgaWYgKHRoaXMuX19wYXJlbnQuaW5kZW50X2VtcHR5X2xpbmVzKSB7XG4gICAgICByZXN1bHQgPSB0aGlzLl9fcGFyZW50LmdldF9pbmRlbnRfc3RyaW5nKHRoaXMuX19pbmRlbnRfY291bnQpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICByZXN1bHQgPSB0aGlzLl9fcGFyZW50LmdldF9pbmRlbnRfc3RyaW5nKHRoaXMuX19pbmRlbnRfY291bnQsIHRoaXMuX19hbGlnbm1lbnRfY291bnQpO1xuICAgIHJlc3VsdCArPSB0aGlzLl9faXRlbXMuam9pbignJyk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbmZ1bmN0aW9uIEluZGVudFN0cmluZ0NhY2hlKG9wdGlvbnMsIGJhc2VJbmRlbnRTdHJpbmcpIHtcbiAgdGhpcy5fX2NhY2hlID0gWycnXTtcbiAgdGhpcy5fX2luZGVudF9zaXplID0gb3B0aW9ucy5pbmRlbnRfc2l6ZTtcbiAgdGhpcy5fX2luZGVudF9zdHJpbmcgPSBvcHRpb25zLmluZGVudF9jaGFyO1xuICBpZiAoIW9wdGlvbnMuaW5kZW50X3dpdGhfdGFicykge1xuICAgIHRoaXMuX19pbmRlbnRfc3RyaW5nID0gbmV3IEFycmF5KG9wdGlvbnMuaW5kZW50X3NpemUgKyAxKS5qb2luKG9wdGlvbnMuaW5kZW50X2NoYXIpO1xuICB9XG5cbiAgLy8gU2V0IHRvIG51bGwgdG8gY29udGludWUgc3VwcG9ydCBmb3IgYXV0byBkZXRlY3Rpb24gb2YgYmFzZSBpbmRlbnRcbiAgYmFzZUluZGVudFN0cmluZyA9IGJhc2VJbmRlbnRTdHJpbmcgfHwgJyc7XG4gIGlmIChvcHRpb25zLmluZGVudF9sZXZlbCA+IDApIHtcbiAgICBiYXNlSW5kZW50U3RyaW5nID0gbmV3IEFycmF5KG9wdGlvbnMuaW5kZW50X2xldmVsICsgMSkuam9pbih0aGlzLl9faW5kZW50X3N0cmluZyk7XG4gIH1cblxuICB0aGlzLl9fYmFzZV9zdHJpbmcgPSBiYXNlSW5kZW50U3RyaW5nO1xuICB0aGlzLl9fYmFzZV9zdHJpbmdfbGVuZ3RoID0gYmFzZUluZGVudFN0cmluZy5sZW5ndGg7XG59XG5cbkluZGVudFN0cmluZ0NhY2hlLnByb3RvdHlwZS5nZXRfaW5kZW50X3NpemUgPSBmdW5jdGlvbihpbmRlbnQsIGNvbHVtbikge1xuICB2YXIgcmVzdWx0ID0gdGhpcy5fX2Jhc2Vfc3RyaW5nX2xlbmd0aDtcbiAgY29sdW1uID0gY29sdW1uIHx8IDA7XG4gIGlmIChpbmRlbnQgPCAwKSB7XG4gICAgcmVzdWx0ID0gMDtcbiAgfVxuICByZXN1bHQgKz0gaW5kZW50ICogdGhpcy5fX2luZGVudF9zaXplO1xuICByZXN1bHQgKz0gY29sdW1uO1xuICByZXR1cm4gcmVzdWx0O1xufTtcblxuSW5kZW50U3RyaW5nQ2FjaGUucHJvdG90eXBlLmdldF9pbmRlbnRfc3RyaW5nID0gZnVuY3Rpb24oaW5kZW50X2xldmVsLCBjb2x1bW4pIHtcbiAgdmFyIHJlc3VsdCA9IHRoaXMuX19iYXNlX3N0cmluZztcbiAgY29sdW1uID0gY29sdW1uIHx8IDA7XG4gIGlmIChpbmRlbnRfbGV2ZWwgPCAwKSB7XG4gICAgaW5kZW50X2xldmVsID0gMDtcbiAgICByZXN1bHQgPSAnJztcbiAgfVxuICBjb2x1bW4gKz0gaW5kZW50X2xldmVsICogdGhpcy5fX2luZGVudF9zaXplO1xuICB0aGlzLl9fZW5zdXJlX2NhY2hlKGNvbHVtbik7XG4gIHJlc3VsdCArPSB0aGlzLl9fY2FjaGVbY29sdW1uXTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbkluZGVudFN0cmluZ0NhY2hlLnByb3RvdHlwZS5fX2Vuc3VyZV9jYWNoZSA9IGZ1bmN0aW9uKGNvbHVtbikge1xuICB3aGlsZSAoY29sdW1uID49IHRoaXMuX19jYWNoZS5sZW5ndGgpIHtcbiAgICB0aGlzLl9fYWRkX2NvbHVtbigpO1xuICB9XG59O1xuXG5JbmRlbnRTdHJpbmdDYWNoZS5wcm90b3R5cGUuX19hZGRfY29sdW1uID0gZnVuY3Rpb24oKSB7XG4gIHZhciBjb2x1bW4gPSB0aGlzLl9fY2FjaGUubGVuZ3RoO1xuICB2YXIgaW5kZW50ID0gMDtcbiAgdmFyIHJlc3VsdCA9ICcnO1xuICBpZiAodGhpcy5fX2luZGVudF9zaXplICYmIGNvbHVtbiA+PSB0aGlzLl9faW5kZW50X3NpemUpIHtcbiAgICBpbmRlbnQgPSBNYXRoLmZsb29yKGNvbHVtbiAvIHRoaXMuX19pbmRlbnRfc2l6ZSk7XG4gICAgY29sdW1uIC09IGluZGVudCAqIHRoaXMuX19pbmRlbnRfc2l6ZTtcbiAgICByZXN1bHQgPSBuZXcgQXJyYXkoaW5kZW50ICsgMSkuam9pbih0aGlzLl9faW5kZW50X3N0cmluZyk7XG4gIH1cbiAgaWYgKGNvbHVtbikge1xuICAgIHJlc3VsdCArPSBuZXcgQXJyYXkoY29sdW1uICsgMSkuam9pbignICcpO1xuICB9XG5cbiAgdGhpcy5fX2NhY2hlLnB1c2gocmVzdWx0KTtcbn07XG5cbmZ1bmN0aW9uIE91dHB1dChvcHRpb25zLCBiYXNlSW5kZW50U3RyaW5nKSB7XG4gIHRoaXMuX19pbmRlbnRfY2FjaGUgPSBuZXcgSW5kZW50U3RyaW5nQ2FjaGUob3B0aW9ucywgYmFzZUluZGVudFN0cmluZyk7XG4gIHRoaXMucmF3ID0gZmFsc2U7XG4gIHRoaXMuX2VuZF93aXRoX25ld2xpbmUgPSBvcHRpb25zLmVuZF93aXRoX25ld2xpbmU7XG4gIHRoaXMuaW5kZW50X3NpemUgPSBvcHRpb25zLmluZGVudF9zaXplO1xuICB0aGlzLndyYXBfbGluZV9sZW5ndGggPSBvcHRpb25zLndyYXBfbGluZV9sZW5ndGg7XG4gIHRoaXMuaW5kZW50X2VtcHR5X2xpbmVzID0gb3B0aW9ucy5pbmRlbnRfZW1wdHlfbGluZXM7XG4gIHRoaXMuX19saW5lcyA9IFtdO1xuICB0aGlzLnByZXZpb3VzX2xpbmUgPSBudWxsO1xuICB0aGlzLmN1cnJlbnRfbGluZSA9IG51bGw7XG4gIHRoaXMubmV4dF9saW5lID0gbmV3IE91dHB1dExpbmUodGhpcyk7XG4gIHRoaXMuc3BhY2VfYmVmb3JlX3Rva2VuID0gZmFsc2U7XG4gIHRoaXMubm9uX2JyZWFraW5nX3NwYWNlID0gZmFsc2U7XG4gIHRoaXMucHJldmlvdXNfdG9rZW5fd3JhcHBlZCA9IGZhbHNlO1xuICAvLyBpbml0aWFsaXplXG4gIHRoaXMuX19hZGRfb3V0cHV0bGluZSgpO1xufVxuXG5PdXRwdXQucHJvdG90eXBlLl9fYWRkX291dHB1dGxpbmUgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5wcmV2aW91c19saW5lID0gdGhpcy5jdXJyZW50X2xpbmU7XG4gIHRoaXMuY3VycmVudF9saW5lID0gdGhpcy5uZXh0X2xpbmUuY2xvbmVfZW1wdHkoKTtcbiAgdGhpcy5fX2xpbmVzLnB1c2godGhpcy5jdXJyZW50X2xpbmUpO1xufTtcblxuT3V0cHV0LnByb3RvdHlwZS5nZXRfbGluZV9udW1iZXIgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuX19saW5lcy5sZW5ndGg7XG59O1xuXG5PdXRwdXQucHJvdG90eXBlLmdldF9pbmRlbnRfc3RyaW5nID0gZnVuY3Rpb24oaW5kZW50LCBjb2x1bW4pIHtcbiAgcmV0dXJuIHRoaXMuX19pbmRlbnRfY2FjaGUuZ2V0X2luZGVudF9zdHJpbmcoaW5kZW50LCBjb2x1bW4pO1xufTtcblxuT3V0cHV0LnByb3RvdHlwZS5nZXRfaW5kZW50X3NpemUgPSBmdW5jdGlvbihpbmRlbnQsIGNvbHVtbikge1xuICByZXR1cm4gdGhpcy5fX2luZGVudF9jYWNoZS5nZXRfaW5kZW50X3NpemUoaW5kZW50LCBjb2x1bW4pO1xufTtcblxuT3V0cHV0LnByb3RvdHlwZS5pc19lbXB0eSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gIXRoaXMucHJldmlvdXNfbGluZSAmJiB0aGlzLmN1cnJlbnRfbGluZS5pc19lbXB0eSgpO1xufTtcblxuT3V0cHV0LnByb3RvdHlwZS5hZGRfbmV3X2xpbmUgPSBmdW5jdGlvbihmb3JjZV9uZXdsaW5lKSB7XG4gIC8vIG5ldmVyIG5ld2xpbmUgYXQgdGhlIHN0YXJ0IG9mIGZpbGVcbiAgLy8gb3RoZXJ3aXNlLCBuZXdsaW5lIG9ubHkgaWYgd2UgZGlkbid0IGp1c3QgYWRkIG9uZSBvciB3ZSdyZSBmb3JjZWRcbiAgaWYgKHRoaXMuaXNfZW1wdHkoKSB8fFxuICAgICghZm9yY2VfbmV3bGluZSAmJiB0aGlzLmp1c3RfYWRkZWRfbmV3bGluZSgpKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8vIGlmIHJhdyBvdXRwdXQgaXMgZW5hYmxlZCwgZG9uJ3QgcHJpbnQgYWRkaXRpb25hbCBuZXdsaW5lcyxcbiAgLy8gYnV0IHN0aWxsIHJldHVybiBUcnVlIGFzIHRob3VnaCB5b3UgaGFkXG4gIGlmICghdGhpcy5yYXcpIHtcbiAgICB0aGlzLl9fYWRkX291dHB1dGxpbmUoKTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbk91dHB1dC5wcm90b3R5cGUuZ2V0X2NvZGUgPSBmdW5jdGlvbihlb2wpIHtcbiAgdGhpcy50cmltKHRydWUpO1xuXG4gIC8vIGhhbmRsZSBzb21lIGVkZ2UgY2FzZXMgd2hlcmUgdGhlIGxhc3QgdG9rZW5zXG4gIC8vIGhhcyB0ZXh0IHRoYXQgZW5kcyB3aXRoIG5ld2xpbmUocylcbiAgdmFyIGxhc3RfaXRlbSA9IHRoaXMuY3VycmVudF9saW5lLnBvcCgpO1xuICBpZiAobGFzdF9pdGVtKSB7XG4gICAgaWYgKGxhc3RfaXRlbVtsYXN0X2l0ZW0ubGVuZ3RoIC0gMV0gPT09ICdcXG4nKSB7XG4gICAgICBsYXN0X2l0ZW0gPSBsYXN0X2l0ZW0ucmVwbGFjZSgvXFxuKyQvZywgJycpO1xuICAgIH1cbiAgICB0aGlzLmN1cnJlbnRfbGluZS5wdXNoKGxhc3RfaXRlbSk7XG4gIH1cblxuICBpZiAodGhpcy5fZW5kX3dpdGhfbmV3bGluZSkge1xuICAgIHRoaXMuX19hZGRfb3V0cHV0bGluZSgpO1xuICB9XG5cbiAgdmFyIHN3ZWV0X2NvZGUgPSB0aGlzLl9fbGluZXMuam9pbignXFxuJyk7XG5cbiAgaWYgKGVvbCAhPT0gJ1xcbicpIHtcbiAgICBzd2VldF9jb2RlID0gc3dlZXRfY29kZS5yZXBsYWNlKC9bXFxuXS9nLCBlb2wpO1xuICB9XG4gIHJldHVybiBzd2VldF9jb2RlO1xufTtcblxuT3V0cHV0LnByb3RvdHlwZS5zZXRfd3JhcF9wb2ludCA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmN1cnJlbnRfbGluZS5fc2V0X3dyYXBfcG9pbnQoKTtcbn07XG5cbk91dHB1dC5wcm90b3R5cGUuc2V0X2luZGVudCA9IGZ1bmN0aW9uKGluZGVudCwgYWxpZ25tZW50KSB7XG4gIGluZGVudCA9IGluZGVudCB8fCAwO1xuICBhbGlnbm1lbnQgPSBhbGlnbm1lbnQgfHwgMDtcblxuICAvLyBOZXh0IGxpbmUgc3RvcmVzIGFsaWdubWVudCB2YWx1ZXNcbiAgdGhpcy5uZXh0X2xpbmUuc2V0X2luZGVudChpbmRlbnQsIGFsaWdubWVudCk7XG5cbiAgLy8gTmV2ZXIgaW5kZW50IHlvdXIgZmlyc3Qgb3V0cHV0IGluZGVudCBhdCB0aGUgc3RhcnQgb2YgdGhlIGZpbGVcbiAgaWYgKHRoaXMuX19saW5lcy5sZW5ndGggPiAxKSB7XG4gICAgdGhpcy5jdXJyZW50X2xpbmUuc2V0X2luZGVudChpbmRlbnQsIGFsaWdubWVudCk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICB0aGlzLmN1cnJlbnRfbGluZS5zZXRfaW5kZW50KCk7XG4gIHJldHVybiBmYWxzZTtcbn07XG5cbk91dHB1dC5wcm90b3R5cGUuYWRkX3Jhd190b2tlbiA9IGZ1bmN0aW9uKHRva2VuKSB7XG4gIGZvciAodmFyIHggPSAwOyB4IDwgdG9rZW4ubmV3bGluZXM7IHgrKykge1xuICAgIHRoaXMuX19hZGRfb3V0cHV0bGluZSgpO1xuICB9XG4gIHRoaXMuY3VycmVudF9saW5lLnNldF9pbmRlbnQoLTEpO1xuICB0aGlzLmN1cnJlbnRfbGluZS5wdXNoKHRva2VuLndoaXRlc3BhY2VfYmVmb3JlKTtcbiAgdGhpcy5jdXJyZW50X2xpbmUucHVzaCh0b2tlbi50ZXh0KTtcbiAgdGhpcy5zcGFjZV9iZWZvcmVfdG9rZW4gPSBmYWxzZTtcbiAgdGhpcy5ub25fYnJlYWtpbmdfc3BhY2UgPSBmYWxzZTtcbiAgdGhpcy5wcmV2aW91c190b2tlbl93cmFwcGVkID0gZmFsc2U7XG59O1xuXG5PdXRwdXQucHJvdG90eXBlLmFkZF90b2tlbiA9IGZ1bmN0aW9uKHByaW50YWJsZV90b2tlbikge1xuICB0aGlzLl9fYWRkX3NwYWNlX2JlZm9yZV90b2tlbigpO1xuICB0aGlzLmN1cnJlbnRfbGluZS5wdXNoKHByaW50YWJsZV90b2tlbik7XG4gIHRoaXMuc3BhY2VfYmVmb3JlX3Rva2VuID0gZmFsc2U7XG4gIHRoaXMubm9uX2JyZWFraW5nX3NwYWNlID0gZmFsc2U7XG4gIHRoaXMucHJldmlvdXNfdG9rZW5fd3JhcHBlZCA9IHRoaXMuY3VycmVudF9saW5lLl9hbGxvd193cmFwKCk7XG59O1xuXG5PdXRwdXQucHJvdG90eXBlLl9fYWRkX3NwYWNlX2JlZm9yZV90b2tlbiA9IGZ1bmN0aW9uKCkge1xuICBpZiAodGhpcy5zcGFjZV9iZWZvcmVfdG9rZW4gJiYgIXRoaXMuanVzdF9hZGRlZF9uZXdsaW5lKCkpIHtcbiAgICBpZiAoIXRoaXMubm9uX2JyZWFraW5nX3NwYWNlKSB7XG4gICAgICB0aGlzLnNldF93cmFwX3BvaW50KCk7XG4gICAgfVxuICAgIHRoaXMuY3VycmVudF9saW5lLnB1c2goJyAnKTtcbiAgfVxufTtcblxuT3V0cHV0LnByb3RvdHlwZS5yZW1vdmVfaW5kZW50ID0gZnVuY3Rpb24oaW5kZXgpIHtcbiAgdmFyIG91dHB1dF9sZW5ndGggPSB0aGlzLl9fbGluZXMubGVuZ3RoO1xuICB3aGlsZSAoaW5kZXggPCBvdXRwdXRfbGVuZ3RoKSB7XG4gICAgdGhpcy5fX2xpbmVzW2luZGV4XS5fcmVtb3ZlX2luZGVudCgpO1xuICAgIGluZGV4Kys7XG4gIH1cbiAgdGhpcy5jdXJyZW50X2xpbmUuX3JlbW92ZV93cmFwX2luZGVudCgpO1xufTtcblxuT3V0cHV0LnByb3RvdHlwZS50cmltID0gZnVuY3Rpb24oZWF0X25ld2xpbmVzKSB7XG4gIGVhdF9uZXdsaW5lcyA9IChlYXRfbmV3bGluZXMgPT09IHVuZGVmaW5lZCkgPyBmYWxzZSA6IGVhdF9uZXdsaW5lcztcblxuICB0aGlzLmN1cnJlbnRfbGluZS50cmltKCk7XG5cbiAgd2hpbGUgKGVhdF9uZXdsaW5lcyAmJiB0aGlzLl9fbGluZXMubGVuZ3RoID4gMSAmJlxuICAgIHRoaXMuY3VycmVudF9saW5lLmlzX2VtcHR5KCkpIHtcbiAgICB0aGlzLl9fbGluZXMucG9wKCk7XG4gICAgdGhpcy5jdXJyZW50X2xpbmUgPSB0aGlzLl9fbGluZXNbdGhpcy5fX2xpbmVzLmxlbmd0aCAtIDFdO1xuICAgIHRoaXMuY3VycmVudF9saW5lLnRyaW0oKTtcbiAgfVxuXG4gIHRoaXMucHJldmlvdXNfbGluZSA9IHRoaXMuX19saW5lcy5sZW5ndGggPiAxID9cbiAgICB0aGlzLl9fbGluZXNbdGhpcy5fX2xpbmVzLmxlbmd0aCAtIDJdIDogbnVsbDtcbn07XG5cbk91dHB1dC5wcm90b3R5cGUuanVzdF9hZGRlZF9uZXdsaW5lID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLmN1cnJlbnRfbGluZS5pc19lbXB0eSgpO1xufTtcblxuT3V0cHV0LnByb3RvdHlwZS5qdXN0X2FkZGVkX2JsYW5rbGluZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5pc19lbXB0eSgpIHx8XG4gICAgKHRoaXMuY3VycmVudF9saW5lLmlzX2VtcHR5KCkgJiYgdGhpcy5wcmV2aW91c19saW5lLmlzX2VtcHR5KCkpO1xufTtcblxuT3V0cHV0LnByb3RvdHlwZS5lbnN1cmVfZW1wdHlfbGluZV9hYm92ZSA9IGZ1bmN0aW9uKHN0YXJ0c193aXRoLCBlbmRzX3dpdGgpIHtcbiAgdmFyIGluZGV4ID0gdGhpcy5fX2xpbmVzLmxlbmd0aCAtIDI7XG4gIHdoaWxlIChpbmRleCA+PSAwKSB7XG4gICAgdmFyIHBvdGVudGlhbEVtcHR5TGluZSA9IHRoaXMuX19saW5lc1tpbmRleF07XG4gICAgaWYgKHBvdGVudGlhbEVtcHR5TGluZS5pc19lbXB0eSgpKSB7XG4gICAgICBicmVhaztcbiAgICB9IGVsc2UgaWYgKHBvdGVudGlhbEVtcHR5TGluZS5pdGVtKDApLmluZGV4T2Yoc3RhcnRzX3dpdGgpICE9PSAwICYmXG4gICAgICBwb3RlbnRpYWxFbXB0eUxpbmUuaXRlbSgtMSkgIT09IGVuZHNfd2l0aCkge1xuICAgICAgdGhpcy5fX2xpbmVzLnNwbGljZShpbmRleCArIDEsIDAsIG5ldyBPdXRwdXRMaW5lKHRoaXMpKTtcbiAgICAgIHRoaXMucHJldmlvdXNfbGluZSA9IHRoaXMuX19saW5lc1t0aGlzLl9fbGluZXMubGVuZ3RoIC0gMl07XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgaW5kZXgtLTtcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMuT3V0cHV0ID0gT3V0cHV0O1xuIiwiLypqc2hpbnQgbm9kZTp0cnVlICovXG4vKlxuXG4gIFRoZSBNSVQgTGljZW5zZSAoTUlUKVxuXG4gIENvcHlyaWdodCAoYykgMjAwNy0yMDE4IEVpbmFyIExpZWxtYW5pcywgTGlhbSBOZXdtYW4sIGFuZCBjb250cmlidXRvcnMuXG5cbiAgUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb25cbiAgb2J0YWluaW5nIGEgY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXNcbiAgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLFxuICBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLFxuICBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLFxuICBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLFxuICBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcblxuICBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZVxuICBpbmNsdWRlZCBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cblxuICBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELFxuICBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0ZcbiAgTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkRcbiAgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSU1xuICBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU5cbiAgQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU5cbiAgQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRVxuICBTT0ZUV0FSRS5cbiovXG5cbid1c2Ugc3RyaWN0JztcblxuZnVuY3Rpb24gUGF0dGVybihpbnB1dF9zY2FubmVyLCBwYXJlbnQpIHtcbiAgdGhpcy5faW5wdXQgPSBpbnB1dF9zY2FubmVyO1xuICB0aGlzLl9zdGFydGluZ19wYXR0ZXJuID0gbnVsbDtcbiAgdGhpcy5fbWF0Y2hfcGF0dGVybiA9IG51bGw7XG4gIHRoaXMuX3VudGlsX3BhdHRlcm4gPSBudWxsO1xuICB0aGlzLl91bnRpbF9hZnRlciA9IGZhbHNlO1xuXG4gIGlmIChwYXJlbnQpIHtcbiAgICB0aGlzLl9zdGFydGluZ19wYXR0ZXJuID0gdGhpcy5faW5wdXQuZ2V0X3JlZ2V4cChwYXJlbnQuX3N0YXJ0aW5nX3BhdHRlcm4sIHRydWUpO1xuICAgIHRoaXMuX21hdGNoX3BhdHRlcm4gPSB0aGlzLl9pbnB1dC5nZXRfcmVnZXhwKHBhcmVudC5fbWF0Y2hfcGF0dGVybiwgdHJ1ZSk7XG4gICAgdGhpcy5fdW50aWxfcGF0dGVybiA9IHRoaXMuX2lucHV0LmdldF9yZWdleHAocGFyZW50Ll91bnRpbF9wYXR0ZXJuKTtcbiAgICB0aGlzLl91bnRpbF9hZnRlciA9IHBhcmVudC5fdW50aWxfYWZ0ZXI7XG4gIH1cbn1cblxuUGF0dGVybi5wcm90b3R5cGUucmVhZCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgcmVzdWx0ID0gdGhpcy5faW5wdXQucmVhZCh0aGlzLl9zdGFydGluZ19wYXR0ZXJuKTtcbiAgaWYgKCF0aGlzLl9zdGFydGluZ19wYXR0ZXJuIHx8IHJlc3VsdCkge1xuICAgIHJlc3VsdCArPSB0aGlzLl9pbnB1dC5yZWFkKHRoaXMuX21hdGNoX3BhdHRlcm4sIHRoaXMuX3VudGlsX3BhdHRlcm4sIHRoaXMuX3VudGlsX2FmdGVyKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuUGF0dGVybi5wcm90b3R5cGUucmVhZF9tYXRjaCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5faW5wdXQubWF0Y2godGhpcy5fbWF0Y2hfcGF0dGVybik7XG59O1xuXG5QYXR0ZXJuLnByb3RvdHlwZS51bnRpbF9hZnRlciA9IGZ1bmN0aW9uKHBhdHRlcm4pIHtcbiAgdmFyIHJlc3VsdCA9IHRoaXMuX2NyZWF0ZSgpO1xuICByZXN1bHQuX3VudGlsX2FmdGVyID0gdHJ1ZTtcbiAgcmVzdWx0Ll91bnRpbF9wYXR0ZXJuID0gdGhpcy5faW5wdXQuZ2V0X3JlZ2V4cChwYXR0ZXJuKTtcbiAgcmVzdWx0Ll91cGRhdGUoKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cblBhdHRlcm4ucHJvdG90eXBlLnVudGlsID0gZnVuY3Rpb24ocGF0dGVybikge1xuICB2YXIgcmVzdWx0ID0gdGhpcy5fY3JlYXRlKCk7XG4gIHJlc3VsdC5fdW50aWxfYWZ0ZXIgPSBmYWxzZTtcbiAgcmVzdWx0Ll91bnRpbF9wYXR0ZXJuID0gdGhpcy5faW5wdXQuZ2V0X3JlZ2V4cChwYXR0ZXJuKTtcbiAgcmVzdWx0Ll91cGRhdGUoKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cblBhdHRlcm4ucHJvdG90eXBlLnN0YXJ0aW5nX3dpdGggPSBmdW5jdGlvbihwYXR0ZXJuKSB7XG4gIHZhciByZXN1bHQgPSB0aGlzLl9jcmVhdGUoKTtcbiAgcmVzdWx0Ll9zdGFydGluZ19wYXR0ZXJuID0gdGhpcy5faW5wdXQuZ2V0X3JlZ2V4cChwYXR0ZXJuLCB0cnVlKTtcbiAgcmVzdWx0Ll91cGRhdGUoKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cblBhdHRlcm4ucHJvdG90eXBlLm1hdGNoaW5nID0gZnVuY3Rpb24ocGF0dGVybikge1xuICB2YXIgcmVzdWx0ID0gdGhpcy5fY3JlYXRlKCk7XG4gIHJlc3VsdC5fbWF0Y2hfcGF0dGVybiA9IHRoaXMuX2lucHV0LmdldF9yZWdleHAocGF0dGVybiwgdHJ1ZSk7XG4gIHJlc3VsdC5fdXBkYXRlKCk7XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG5QYXR0ZXJuLnByb3RvdHlwZS5fY3JlYXRlID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgUGF0dGVybih0aGlzLl9pbnB1dCwgdGhpcyk7XG59O1xuXG5QYXR0ZXJuLnByb3RvdHlwZS5fdXBkYXRlID0gZnVuY3Rpb24oKSB7fTtcblxubW9kdWxlLmV4cG9ydHMuUGF0dGVybiA9IFBhdHRlcm47XG4iLCIvKmpzaGludCBub2RlOnRydWUgKi9cbi8qXG5cbiAgVGhlIE1JVCBMaWNlbnNlIChNSVQpXG5cbiAgQ29weXJpZ2h0IChjKSAyMDA3LTIwMTggRWluYXIgTGllbG1hbmlzLCBMaWFtIE5ld21hbiwgYW5kIGNvbnRyaWJ1dG9ycy5cblxuICBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvblxuICBvYnRhaW5pbmcgYSBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlc1xuICAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sXG4gIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsXG4gIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsXG4gIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sXG4gIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuXG4gIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlXG4gIGluY2x1ZGVkIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuXG4gIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsXG4gIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuICBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORFxuICBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTXG4gIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTlxuICBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTlxuICBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFXG4gIFNPRlRXQVJFLlxuKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgUGF0dGVybiA9IHJlcXVpcmUoJy4vcGF0dGVybicpLlBhdHRlcm47XG5cblxudmFyIHRlbXBsYXRlX25hbWVzID0ge1xuICBkamFuZ286IGZhbHNlLFxuICBlcmI6IGZhbHNlLFxuICBoYW5kbGViYXJzOiBmYWxzZSxcbiAgcGhwOiBmYWxzZVxufTtcblxuLy8gVGhpcyBsZXRzIHRlbXBsYXRlcyBhcHBlYXIgYW55d2hlcmUgd2Ugd291bGQgZG8gYSByZWFkVW50aWxcbi8vIFRoZSBjb3N0IGlzIGhpZ2hlciBidXQgaXQgaXMgcGF5IHRvIHBsYXkuXG5mdW5jdGlvbiBUZW1wbGF0YWJsZVBhdHRlcm4oaW5wdXRfc2Nhbm5lciwgcGFyZW50KSB7XG4gIFBhdHRlcm4uY2FsbCh0aGlzLCBpbnB1dF9zY2FubmVyLCBwYXJlbnQpO1xuICB0aGlzLl9fdGVtcGxhdGVfcGF0dGVybiA9IG51bGw7XG4gIHRoaXMuX2Rpc2FibGVkID0gT2JqZWN0LmFzc2lnbih7fSwgdGVtcGxhdGVfbmFtZXMpO1xuICB0aGlzLl9leGNsdWRlZCA9IE9iamVjdC5hc3NpZ24oe30sIHRlbXBsYXRlX25hbWVzKTtcblxuICBpZiAocGFyZW50KSB7XG4gICAgdGhpcy5fX3RlbXBsYXRlX3BhdHRlcm4gPSB0aGlzLl9pbnB1dC5nZXRfcmVnZXhwKHBhcmVudC5fX3RlbXBsYXRlX3BhdHRlcm4pO1xuICAgIHRoaXMuX2V4Y2x1ZGVkID0gT2JqZWN0LmFzc2lnbih0aGlzLl9leGNsdWRlZCwgcGFyZW50Ll9leGNsdWRlZCk7XG4gICAgdGhpcy5fZGlzYWJsZWQgPSBPYmplY3QuYXNzaWduKHRoaXMuX2Rpc2FibGVkLCBwYXJlbnQuX2Rpc2FibGVkKTtcbiAgfVxuICB2YXIgcGF0dGVybiA9IG5ldyBQYXR0ZXJuKGlucHV0X3NjYW5uZXIpO1xuICB0aGlzLl9fcGF0dGVybnMgPSB7XG4gICAgaGFuZGxlYmFyc19jb21tZW50OiBwYXR0ZXJuLnN0YXJ0aW5nX3dpdGgoL3t7IS0tLykudW50aWxfYWZ0ZXIoLy0tfX0vKSxcbiAgICBoYW5kbGViYXJzX3VuZXNjYXBlZDogcGF0dGVybi5zdGFydGluZ193aXRoKC97e3svKS51bnRpbF9hZnRlcigvfX19LyksXG4gICAgaGFuZGxlYmFyczogcGF0dGVybi5zdGFydGluZ193aXRoKC97ey8pLnVudGlsX2FmdGVyKC99fS8pLFxuICAgIHBocDogcGF0dGVybi5zdGFydGluZ193aXRoKC88XFw/KD86Wz1dfHBocCkvKS51bnRpbF9hZnRlcigvXFw/Pi8pLFxuICAgIGVyYjogcGF0dGVybi5zdGFydGluZ193aXRoKC88JVteJV0vKS51bnRpbF9hZnRlcigvW14lXSU+LyksXG4gICAgLy8gZGphbmdvIGNvZmxpY3RzIHdpdGggaGFuZGxlYmFycyBhIGJpdC5cbiAgICBkamFuZ286IHBhdHRlcm4uc3RhcnRpbmdfd2l0aCgveyUvKS51bnRpbF9hZnRlcigvJX0vKSxcbiAgICBkamFuZ29fdmFsdWU6IHBhdHRlcm4uc3RhcnRpbmdfd2l0aCgve3svKS51bnRpbF9hZnRlcigvfX0vKSxcbiAgICBkamFuZ29fY29tbWVudDogcGF0dGVybi5zdGFydGluZ193aXRoKC97Iy8pLnVudGlsX2FmdGVyKC8jfS8pXG4gIH07XG59XG5UZW1wbGF0YWJsZVBhdHRlcm4ucHJvdG90eXBlID0gbmV3IFBhdHRlcm4oKTtcblxuVGVtcGxhdGFibGVQYXR0ZXJuLnByb3RvdHlwZS5fY3JlYXRlID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgVGVtcGxhdGFibGVQYXR0ZXJuKHRoaXMuX2lucHV0LCB0aGlzKTtcbn07XG5cblRlbXBsYXRhYmxlUGF0dGVybi5wcm90b3R5cGUuX3VwZGF0ZSA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLl9fc2V0X3RlbXBsYXRlZF9wYXR0ZXJuKCk7XG59O1xuXG5UZW1wbGF0YWJsZVBhdHRlcm4ucHJvdG90eXBlLmRpc2FibGUgPSBmdW5jdGlvbihsYW5ndWFnZSkge1xuICB2YXIgcmVzdWx0ID0gdGhpcy5fY3JlYXRlKCk7XG4gIHJlc3VsdC5fZGlzYWJsZWRbbGFuZ3VhZ2VdID0gdHJ1ZTtcbiAgcmVzdWx0Ll91cGRhdGUoKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cblRlbXBsYXRhYmxlUGF0dGVybi5wcm90b3R5cGUucmVhZF9vcHRpb25zID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICB2YXIgcmVzdWx0ID0gdGhpcy5fY3JlYXRlKCk7XG4gIGZvciAodmFyIGxhbmd1YWdlIGluIHRlbXBsYXRlX25hbWVzKSB7XG4gICAgcmVzdWx0Ll9kaXNhYmxlZFtsYW5ndWFnZV0gPSBvcHRpb25zLnRlbXBsYXRpbmcuaW5kZXhPZihsYW5ndWFnZSkgPT09IC0xO1xuICB9XG4gIHJlc3VsdC5fdXBkYXRlKCk7XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG5UZW1wbGF0YWJsZVBhdHRlcm4ucHJvdG90eXBlLmV4Y2x1ZGUgPSBmdW5jdGlvbihsYW5ndWFnZSkge1xuICB2YXIgcmVzdWx0ID0gdGhpcy5fY3JlYXRlKCk7XG4gIHJlc3VsdC5fZXhjbHVkZWRbbGFuZ3VhZ2VdID0gdHJ1ZTtcbiAgcmVzdWx0Ll91cGRhdGUoKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cblRlbXBsYXRhYmxlUGF0dGVybi5wcm90b3R5cGUucmVhZCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgcmVzdWx0ID0gJyc7XG4gIGlmICh0aGlzLl9tYXRjaF9wYXR0ZXJuKSB7XG4gICAgcmVzdWx0ID0gdGhpcy5faW5wdXQucmVhZCh0aGlzLl9zdGFydGluZ19wYXR0ZXJuKTtcbiAgfSBlbHNlIHtcbiAgICByZXN1bHQgPSB0aGlzLl9pbnB1dC5yZWFkKHRoaXMuX3N0YXJ0aW5nX3BhdHRlcm4sIHRoaXMuX190ZW1wbGF0ZV9wYXR0ZXJuKTtcbiAgfVxuICB2YXIgbmV4dCA9IHRoaXMuX3JlYWRfdGVtcGxhdGUoKTtcbiAgd2hpbGUgKG5leHQpIHtcbiAgICBpZiAodGhpcy5fbWF0Y2hfcGF0dGVybikge1xuICAgICAgbmV4dCArPSB0aGlzLl9pbnB1dC5yZWFkKHRoaXMuX21hdGNoX3BhdHRlcm4pO1xuICAgIH0gZWxzZSB7XG4gICAgICBuZXh0ICs9IHRoaXMuX2lucHV0LnJlYWRVbnRpbCh0aGlzLl9fdGVtcGxhdGVfcGF0dGVybik7XG4gICAgfVxuICAgIHJlc3VsdCArPSBuZXh0O1xuICAgIG5leHQgPSB0aGlzLl9yZWFkX3RlbXBsYXRlKCk7XG4gIH1cblxuICBpZiAodGhpcy5fdW50aWxfYWZ0ZXIpIHtcbiAgICByZXN1bHQgKz0gdGhpcy5faW5wdXQucmVhZFVudGlsQWZ0ZXIodGhpcy5fdW50aWxfcGF0dGVybik7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cblRlbXBsYXRhYmxlUGF0dGVybi5wcm90b3R5cGUuX19zZXRfdGVtcGxhdGVkX3BhdHRlcm4gPSBmdW5jdGlvbigpIHtcbiAgdmFyIGl0ZW1zID0gW107XG5cbiAgaWYgKCF0aGlzLl9kaXNhYmxlZC5waHApIHtcbiAgICBpdGVtcy5wdXNoKHRoaXMuX19wYXR0ZXJucy5waHAuX3N0YXJ0aW5nX3BhdHRlcm4uc291cmNlKTtcbiAgfVxuICBpZiAoIXRoaXMuX2Rpc2FibGVkLmhhbmRsZWJhcnMpIHtcbiAgICBpdGVtcy5wdXNoKHRoaXMuX19wYXR0ZXJucy5oYW5kbGViYXJzLl9zdGFydGluZ19wYXR0ZXJuLnNvdXJjZSk7XG4gIH1cbiAgaWYgKCF0aGlzLl9kaXNhYmxlZC5lcmIpIHtcbiAgICBpdGVtcy5wdXNoKHRoaXMuX19wYXR0ZXJucy5lcmIuX3N0YXJ0aW5nX3BhdHRlcm4uc291cmNlKTtcbiAgfVxuICBpZiAoIXRoaXMuX2Rpc2FibGVkLmRqYW5nbykge1xuICAgIGl0ZW1zLnB1c2godGhpcy5fX3BhdHRlcm5zLmRqYW5nby5fc3RhcnRpbmdfcGF0dGVybi5zb3VyY2UpO1xuICAgIGl0ZW1zLnB1c2godGhpcy5fX3BhdHRlcm5zLmRqYW5nb192YWx1ZS5fc3RhcnRpbmdfcGF0dGVybi5zb3VyY2UpO1xuICAgIGl0ZW1zLnB1c2godGhpcy5fX3BhdHRlcm5zLmRqYW5nb19jb21tZW50Ll9zdGFydGluZ19wYXR0ZXJuLnNvdXJjZSk7XG4gIH1cblxuICBpZiAodGhpcy5fdW50aWxfcGF0dGVybikge1xuICAgIGl0ZW1zLnB1c2godGhpcy5fdW50aWxfcGF0dGVybi5zb3VyY2UpO1xuICB9XG4gIHRoaXMuX190ZW1wbGF0ZV9wYXR0ZXJuID0gdGhpcy5faW5wdXQuZ2V0X3JlZ2V4cCgnKD86JyArIGl0ZW1zLmpvaW4oJ3wnKSArICcpJyk7XG59O1xuXG5UZW1wbGF0YWJsZVBhdHRlcm4ucHJvdG90eXBlLl9yZWFkX3RlbXBsYXRlID0gZnVuY3Rpb24oKSB7XG4gIHZhciByZXN1bHRpbmdfc3RyaW5nID0gJyc7XG4gIHZhciBjID0gdGhpcy5faW5wdXQucGVlaygpO1xuICBpZiAoYyA9PT0gJzwnKSB7XG4gICAgdmFyIHBlZWsxID0gdGhpcy5faW5wdXQucGVlaygxKTtcbiAgICAvL2lmIHdlJ3JlIGluIGEgY29tbWVudCwgZG8gc29tZXRoaW5nIHNwZWNpYWxcbiAgICAvLyBXZSB0cmVhdCBhbGwgY29tbWVudHMgYXMgbGl0ZXJhbHMsIGV2ZW4gbW9yZSB0aGFuIHByZWZvcm1hdHRlZCB0YWdzXG4gICAgLy8gd2UganVzdCBsb29rIGZvciB0aGUgYXBwcm9wcmlhdGUgY2xvc2UgdGFnXG4gICAgaWYgKCF0aGlzLl9kaXNhYmxlZC5waHAgJiYgIXRoaXMuX2V4Y2x1ZGVkLnBocCAmJiBwZWVrMSA9PT0gJz8nKSB7XG4gICAgICByZXN1bHRpbmdfc3RyaW5nID0gcmVzdWx0aW5nX3N0cmluZyB8fFxuICAgICAgICB0aGlzLl9fcGF0dGVybnMucGhwLnJlYWQoKTtcbiAgICB9XG4gICAgaWYgKCF0aGlzLl9kaXNhYmxlZC5lcmIgJiYgIXRoaXMuX2V4Y2x1ZGVkLmVyYiAmJiBwZWVrMSA9PT0gJyUnKSB7XG4gICAgICByZXN1bHRpbmdfc3RyaW5nID0gcmVzdWx0aW5nX3N0cmluZyB8fFxuICAgICAgICB0aGlzLl9fcGF0dGVybnMuZXJiLnJlYWQoKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoYyA9PT0gJ3snKSB7XG4gICAgaWYgKCF0aGlzLl9kaXNhYmxlZC5oYW5kbGViYXJzICYmICF0aGlzLl9leGNsdWRlZC5oYW5kbGViYXJzKSB7XG4gICAgICByZXN1bHRpbmdfc3RyaW5nID0gcmVzdWx0aW5nX3N0cmluZyB8fFxuICAgICAgICB0aGlzLl9fcGF0dGVybnMuaGFuZGxlYmFyc19jb21tZW50LnJlYWQoKTtcbiAgICAgIHJlc3VsdGluZ19zdHJpbmcgPSByZXN1bHRpbmdfc3RyaW5nIHx8XG4gICAgICAgIHRoaXMuX19wYXR0ZXJucy5oYW5kbGViYXJzX3VuZXNjYXBlZC5yZWFkKCk7XG4gICAgICByZXN1bHRpbmdfc3RyaW5nID0gcmVzdWx0aW5nX3N0cmluZyB8fFxuICAgICAgICB0aGlzLl9fcGF0dGVybnMuaGFuZGxlYmFycy5yZWFkKCk7XG4gICAgfVxuICAgIGlmICghdGhpcy5fZGlzYWJsZWQuZGphbmdvKSB7XG4gICAgICAvLyBkamFuZ28gY29mbGljdHMgd2l0aCBoYW5kbGViYXJzIGEgYml0LlxuICAgICAgaWYgKCF0aGlzLl9leGNsdWRlZC5kamFuZ28gJiYgIXRoaXMuX2V4Y2x1ZGVkLmhhbmRsZWJhcnMpIHtcbiAgICAgICAgcmVzdWx0aW5nX3N0cmluZyA9IHJlc3VsdGluZ19zdHJpbmcgfHxcbiAgICAgICAgICB0aGlzLl9fcGF0dGVybnMuZGphbmdvX3ZhbHVlLnJlYWQoKTtcbiAgICAgIH1cbiAgICAgIGlmICghdGhpcy5fZXhjbHVkZWQuZGphbmdvKSB7XG4gICAgICAgIHJlc3VsdGluZ19zdHJpbmcgPSByZXN1bHRpbmdfc3RyaW5nIHx8XG4gICAgICAgICAgdGhpcy5fX3BhdHRlcm5zLmRqYW5nb19jb21tZW50LnJlYWQoKTtcbiAgICAgICAgcmVzdWx0aW5nX3N0cmluZyA9IHJlc3VsdGluZ19zdHJpbmcgfHxcbiAgICAgICAgICB0aGlzLl9fcGF0dGVybnMuZGphbmdvLnJlYWQoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdGluZ19zdHJpbmc7XG59O1xuXG5cbm1vZHVsZS5leHBvcnRzLlRlbXBsYXRhYmxlUGF0dGVybiA9IFRlbXBsYXRhYmxlUGF0dGVybjtcbiIsIi8qanNoaW50IG5vZGU6dHJ1ZSAqL1xuLypcblxuICBUaGUgTUlUIExpY2Vuc2UgKE1JVClcblxuICBDb3B5cmlnaHQgKGMpIDIwMDctMjAxOCBFaW5hciBMaWVsbWFuaXMsIExpYW0gTmV3bWFuLCBhbmQgY29udHJpYnV0b3JzLlxuXG4gIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uXG4gIG9idGFpbmluZyBhIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzXG4gICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbixcbiAgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSxcbiAgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSxcbiAgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbyxcbiAgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG5cbiAgVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmVcbiAgaW5jbHVkZWQgaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG5cbiAgVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCxcbiAgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4gIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EXG4gIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlNcbiAgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOXG4gIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOXG4gIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEVcbiAgU09GVFdBUkUuXG4qL1xuXG4ndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIFRva2VuKHR5cGUsIHRleHQsIG5ld2xpbmVzLCB3aGl0ZXNwYWNlX2JlZm9yZSkge1xuICB0aGlzLnR5cGUgPSB0eXBlO1xuICB0aGlzLnRleHQgPSB0ZXh0O1xuXG4gIC8vIGNvbW1lbnRzX2JlZm9yZSBhcmVcbiAgLy8gY29tbWVudHMgdGhhdCBoYXZlIGEgbmV3IGxpbmUgYmVmb3JlIHRoZW1cbiAgLy8gYW5kIG1heSBvciBtYXkgbm90IGhhdmUgYSBuZXdsaW5lIGFmdGVyXG4gIC8vIHRoaXMgaXMgYSBzZXQgb2YgY29tbWVudHMgYmVmb3JlXG4gIHRoaXMuY29tbWVudHNfYmVmb3JlID0gbnVsbDsgLyogaW5saW5lIGNvbW1lbnQqL1xuXG5cbiAgLy8gdGhpcy5jb21tZW50c19hZnRlciA9ICBuZXcgVG9rZW5TdHJlYW0oKTsgLy8gbm8gbmV3IGxpbmUgYmVmb3JlIGFuZCBuZXdsaW5lIGFmdGVyXG4gIHRoaXMubmV3bGluZXMgPSBuZXdsaW5lcyB8fCAwO1xuICB0aGlzLndoaXRlc3BhY2VfYmVmb3JlID0gd2hpdGVzcGFjZV9iZWZvcmUgfHwgJyc7XG4gIHRoaXMucGFyZW50ID0gbnVsbDtcbiAgdGhpcy5uZXh0ID0gbnVsbDtcbiAgdGhpcy5wcmV2aW91cyA9IG51bGw7XG4gIHRoaXMub3BlbmVkID0gbnVsbDtcbiAgdGhpcy5jbG9zZWQgPSBudWxsO1xuICB0aGlzLmRpcmVjdGl2ZXMgPSBudWxsO1xufVxuXG5cbm1vZHVsZS5leHBvcnRzLlRva2VuID0gVG9rZW47XG4iLCIvKmpzaGludCBub2RlOnRydWUgKi9cbi8qXG5cbiAgVGhlIE1JVCBMaWNlbnNlIChNSVQpXG5cbiAgQ29weXJpZ2h0IChjKSAyMDA3LTIwMTggRWluYXIgTGllbG1hbmlzLCBMaWFtIE5ld21hbiwgYW5kIGNvbnRyaWJ1dG9ycy5cblxuICBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvblxuICBvYnRhaW5pbmcgYSBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlc1xuICAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sXG4gIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsXG4gIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsXG4gIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sXG4gIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuXG4gIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlXG4gIGluY2x1ZGVkIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuXG4gIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsXG4gIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuICBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORFxuICBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTXG4gIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTlxuICBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTlxuICBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFXG4gIFNPRlRXQVJFLlxuKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgSW5wdXRTY2FubmVyID0gcmVxdWlyZSgnLi4vY29yZS9pbnB1dHNjYW5uZXInKS5JbnB1dFNjYW5uZXI7XG52YXIgVG9rZW4gPSByZXF1aXJlKCcuLi9jb3JlL3Rva2VuJykuVG9rZW47XG52YXIgVG9rZW5TdHJlYW0gPSByZXF1aXJlKCcuLi9jb3JlL3Rva2Vuc3RyZWFtJykuVG9rZW5TdHJlYW07XG52YXIgV2hpdGVzcGFjZVBhdHRlcm4gPSByZXF1aXJlKCcuL3doaXRlc3BhY2VwYXR0ZXJuJykuV2hpdGVzcGFjZVBhdHRlcm47XG5cbnZhciBUT0tFTiA9IHtcbiAgU1RBUlQ6ICdUS19TVEFSVCcsXG4gIFJBVzogJ1RLX1JBVycsXG4gIEVPRjogJ1RLX0VPRidcbn07XG5cbnZhciBUb2tlbml6ZXIgPSBmdW5jdGlvbihpbnB1dF9zdHJpbmcsIG9wdGlvbnMpIHtcbiAgdGhpcy5faW5wdXQgPSBuZXcgSW5wdXRTY2FubmVyKGlucHV0X3N0cmluZyk7XG4gIHRoaXMuX29wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICB0aGlzLl9fdG9rZW5zID0gbnVsbDtcblxuICB0aGlzLl9wYXR0ZXJucyA9IHt9O1xuICB0aGlzLl9wYXR0ZXJucy53aGl0ZXNwYWNlID0gbmV3IFdoaXRlc3BhY2VQYXR0ZXJuKHRoaXMuX2lucHV0KTtcbn07XG5cblRva2VuaXplci5wcm90b3R5cGUudG9rZW5pemUgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5faW5wdXQucmVzdGFydCgpO1xuICB0aGlzLl9fdG9rZW5zID0gbmV3IFRva2VuU3RyZWFtKCk7XG5cbiAgdGhpcy5fcmVzZXQoKTtcblxuICB2YXIgY3VycmVudDtcbiAgdmFyIHByZXZpb3VzID0gbmV3IFRva2VuKFRPS0VOLlNUQVJULCAnJyk7XG4gIHZhciBvcGVuX3Rva2VuID0gbnVsbDtcbiAgdmFyIG9wZW5fc3RhY2sgPSBbXTtcbiAgdmFyIGNvbW1lbnRzID0gbmV3IFRva2VuU3RyZWFtKCk7XG5cbiAgd2hpbGUgKHByZXZpb3VzLnR5cGUgIT09IFRPS0VOLkVPRikge1xuICAgIGN1cnJlbnQgPSB0aGlzLl9nZXRfbmV4dF90b2tlbihwcmV2aW91cywgb3Blbl90b2tlbik7XG4gICAgd2hpbGUgKHRoaXMuX2lzX2NvbW1lbnQoY3VycmVudCkpIHtcbiAgICAgIGNvbW1lbnRzLmFkZChjdXJyZW50KTtcbiAgICAgIGN1cnJlbnQgPSB0aGlzLl9nZXRfbmV4dF90b2tlbihwcmV2aW91cywgb3Blbl90b2tlbik7XG4gICAgfVxuXG4gICAgaWYgKCFjb21tZW50cy5pc0VtcHR5KCkpIHtcbiAgICAgIGN1cnJlbnQuY29tbWVudHNfYmVmb3JlID0gY29tbWVudHM7XG4gICAgICBjb21tZW50cyA9IG5ldyBUb2tlblN0cmVhbSgpO1xuICAgIH1cblxuICAgIGN1cnJlbnQucGFyZW50ID0gb3Blbl90b2tlbjtcblxuICAgIGlmICh0aGlzLl9pc19vcGVuaW5nKGN1cnJlbnQpKSB7XG4gICAgICBvcGVuX3N0YWNrLnB1c2gob3Blbl90b2tlbik7XG4gICAgICBvcGVuX3Rva2VuID0gY3VycmVudDtcbiAgICB9IGVsc2UgaWYgKG9wZW5fdG9rZW4gJiYgdGhpcy5faXNfY2xvc2luZyhjdXJyZW50LCBvcGVuX3Rva2VuKSkge1xuICAgICAgY3VycmVudC5vcGVuZWQgPSBvcGVuX3Rva2VuO1xuICAgICAgb3Blbl90b2tlbi5jbG9zZWQgPSBjdXJyZW50O1xuICAgICAgb3Blbl90b2tlbiA9IG9wZW5fc3RhY2sucG9wKCk7XG4gICAgICBjdXJyZW50LnBhcmVudCA9IG9wZW5fdG9rZW47XG4gICAgfVxuXG4gICAgY3VycmVudC5wcmV2aW91cyA9IHByZXZpb3VzO1xuICAgIHByZXZpb3VzLm5leHQgPSBjdXJyZW50O1xuXG4gICAgdGhpcy5fX3Rva2Vucy5hZGQoY3VycmVudCk7XG4gICAgcHJldmlvdXMgPSBjdXJyZW50O1xuICB9XG5cbiAgcmV0dXJuIHRoaXMuX190b2tlbnM7XG59O1xuXG5cblRva2VuaXplci5wcm90b3R5cGUuX2lzX2ZpcnN0X3Rva2VuID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLl9fdG9rZW5zLmlzRW1wdHkoKTtcbn07XG5cblRva2VuaXplci5wcm90b3R5cGUuX3Jlc2V0ID0gZnVuY3Rpb24oKSB7fTtcblxuVG9rZW5pemVyLnByb3RvdHlwZS5fZ2V0X25leHRfdG9rZW4gPSBmdW5jdGlvbihwcmV2aW91c190b2tlbiwgb3Blbl90b2tlbikgeyAvLyBqc2hpbnQgdW51c2VkOmZhbHNlXG4gIHRoaXMuX3JlYWRXaGl0ZXNwYWNlKCk7XG4gIHZhciByZXN1bHRpbmdfc3RyaW5nID0gdGhpcy5faW5wdXQucmVhZCgvLisvZyk7XG4gIGlmIChyZXN1bHRpbmdfc3RyaW5nKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NyZWF0ZV90b2tlbihUT0tFTi5SQVcsIHJlc3VsdGluZ19zdHJpbmcpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB0aGlzLl9jcmVhdGVfdG9rZW4oVE9LRU4uRU9GLCAnJyk7XG4gIH1cbn07XG5cblRva2VuaXplci5wcm90b3R5cGUuX2lzX2NvbW1lbnQgPSBmdW5jdGlvbihjdXJyZW50X3Rva2VuKSB7IC8vIGpzaGludCB1bnVzZWQ6ZmFsc2VcbiAgcmV0dXJuIGZhbHNlO1xufTtcblxuVG9rZW5pemVyLnByb3RvdHlwZS5faXNfb3BlbmluZyA9IGZ1bmN0aW9uKGN1cnJlbnRfdG9rZW4pIHsgLy8ganNoaW50IHVudXNlZDpmYWxzZVxuICByZXR1cm4gZmFsc2U7XG59O1xuXG5Ub2tlbml6ZXIucHJvdG90eXBlLl9pc19jbG9zaW5nID0gZnVuY3Rpb24oY3VycmVudF90b2tlbiwgb3Blbl90b2tlbikgeyAvLyBqc2hpbnQgdW51c2VkOmZhbHNlXG4gIHJldHVybiBmYWxzZTtcbn07XG5cblRva2VuaXplci5wcm90b3R5cGUuX2NyZWF0ZV90b2tlbiA9IGZ1bmN0aW9uKHR5cGUsIHRleHQpIHtcbiAgdmFyIHRva2VuID0gbmV3IFRva2VuKHR5cGUsIHRleHQsXG4gICAgdGhpcy5fcGF0dGVybnMud2hpdGVzcGFjZS5uZXdsaW5lX2NvdW50LFxuICAgIHRoaXMuX3BhdHRlcm5zLndoaXRlc3BhY2Uud2hpdGVzcGFjZV9iZWZvcmVfdG9rZW4pO1xuICByZXR1cm4gdG9rZW47XG59O1xuXG5Ub2tlbml6ZXIucHJvdG90eXBlLl9yZWFkV2hpdGVzcGFjZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5fcGF0dGVybnMud2hpdGVzcGFjZS5yZWFkKCk7XG59O1xuXG5cblxubW9kdWxlLmV4cG9ydHMuVG9rZW5pemVyID0gVG9rZW5pemVyO1xubW9kdWxlLmV4cG9ydHMuVE9LRU4gPSBUT0tFTjtcbiIsIi8qanNoaW50IG5vZGU6dHJ1ZSAqL1xuLypcblxuICBUaGUgTUlUIExpY2Vuc2UgKE1JVClcblxuICBDb3B5cmlnaHQgKGMpIDIwMDctMjAxOCBFaW5hciBMaWVsbWFuaXMsIExpYW0gTmV3bWFuLCBhbmQgY29udHJpYnV0b3JzLlxuXG4gIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uXG4gIG9idGFpbmluZyBhIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzXG4gICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbixcbiAgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSxcbiAgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSxcbiAgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbyxcbiAgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG5cbiAgVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmVcbiAgaW5jbHVkZWQgaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG5cbiAgVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCxcbiAgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4gIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EXG4gIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlNcbiAgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOXG4gIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOXG4gIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEVcbiAgU09GVFdBUkUuXG4qL1xuXG4ndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIFRva2VuU3RyZWFtKHBhcmVudF90b2tlbikge1xuICAvLyBwcml2YXRlXG4gIHRoaXMuX190b2tlbnMgPSBbXTtcbiAgdGhpcy5fX3Rva2Vuc19sZW5ndGggPSB0aGlzLl9fdG9rZW5zLmxlbmd0aDtcbiAgdGhpcy5fX3Bvc2l0aW9uID0gMDtcbiAgdGhpcy5fX3BhcmVudF90b2tlbiA9IHBhcmVudF90b2tlbjtcbn1cblxuVG9rZW5TdHJlYW0ucHJvdG90eXBlLnJlc3RhcnQgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5fX3Bvc2l0aW9uID0gMDtcbn07XG5cblRva2VuU3RyZWFtLnByb3RvdHlwZS5pc0VtcHR5ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLl9fdG9rZW5zX2xlbmd0aCA9PT0gMDtcbn07XG5cblRva2VuU3RyZWFtLnByb3RvdHlwZS5oYXNOZXh0ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLl9fcG9zaXRpb24gPCB0aGlzLl9fdG9rZW5zX2xlbmd0aDtcbn07XG5cblRva2VuU3RyZWFtLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24oKSB7XG4gIHZhciB2YWwgPSBudWxsO1xuICBpZiAodGhpcy5oYXNOZXh0KCkpIHtcbiAgICB2YWwgPSB0aGlzLl9fdG9rZW5zW3RoaXMuX19wb3NpdGlvbl07XG4gICAgdGhpcy5fX3Bvc2l0aW9uICs9IDE7XG4gIH1cbiAgcmV0dXJuIHZhbDtcbn07XG5cblRva2VuU3RyZWFtLnByb3RvdHlwZS5wZWVrID0gZnVuY3Rpb24oaW5kZXgpIHtcbiAgdmFyIHZhbCA9IG51bGw7XG4gIGluZGV4ID0gaW5kZXggfHwgMDtcbiAgaW5kZXggKz0gdGhpcy5fX3Bvc2l0aW9uO1xuICBpZiAoaW5kZXggPj0gMCAmJiBpbmRleCA8IHRoaXMuX190b2tlbnNfbGVuZ3RoKSB7XG4gICAgdmFsID0gdGhpcy5fX3Rva2Vuc1tpbmRleF07XG4gIH1cbiAgcmV0dXJuIHZhbDtcbn07XG5cblRva2VuU3RyZWFtLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbih0b2tlbikge1xuICBpZiAodGhpcy5fX3BhcmVudF90b2tlbikge1xuICAgIHRva2VuLnBhcmVudCA9IHRoaXMuX19wYXJlbnRfdG9rZW47XG4gIH1cbiAgdGhpcy5fX3Rva2Vucy5wdXNoKHRva2VuKTtcbiAgdGhpcy5fX3Rva2Vuc19sZW5ndGggKz0gMTtcbn07XG5cbm1vZHVsZS5leHBvcnRzLlRva2VuU3RyZWFtID0gVG9rZW5TdHJlYW07XG4iLCIvKmpzaGludCBub2RlOnRydWUgKi9cbi8qXG5cbiAgVGhlIE1JVCBMaWNlbnNlIChNSVQpXG5cbiAgQ29weXJpZ2h0IChjKSAyMDA3LTIwMTggRWluYXIgTGllbG1hbmlzLCBMaWFtIE5ld21hbiwgYW5kIGNvbnRyaWJ1dG9ycy5cblxuICBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvblxuICBvYnRhaW5pbmcgYSBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlc1xuICAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sXG4gIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsXG4gIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsXG4gIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sXG4gIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuXG4gIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlXG4gIGluY2x1ZGVkIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuXG4gIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsXG4gIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuICBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORFxuICBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTXG4gIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTlxuICBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTlxuICBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFXG4gIFNPRlRXQVJFLlxuKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgUGF0dGVybiA9IHJlcXVpcmUoJy4uL2NvcmUvcGF0dGVybicpLlBhdHRlcm47XG5cbmZ1bmN0aW9uIFdoaXRlc3BhY2VQYXR0ZXJuKGlucHV0X3NjYW5uZXIsIHBhcmVudCkge1xuICBQYXR0ZXJuLmNhbGwodGhpcywgaW5wdXRfc2Nhbm5lciwgcGFyZW50KTtcbiAgaWYgKHBhcmVudCkge1xuICAgIHRoaXMuX2xpbmVfcmVnZXhwID0gdGhpcy5faW5wdXQuZ2V0X3JlZ2V4cChwYXJlbnQuX2xpbmVfcmVnZXhwKTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLl9fc2V0X3doaXRlc3BhY2VfcGF0dGVybnMoJycsICcnKTtcbiAgfVxuXG4gIHRoaXMubmV3bGluZV9jb3VudCA9IDA7XG4gIHRoaXMud2hpdGVzcGFjZV9iZWZvcmVfdG9rZW4gPSAnJztcbn1cbldoaXRlc3BhY2VQYXR0ZXJuLnByb3RvdHlwZSA9IG5ldyBQYXR0ZXJuKCk7XG5cbldoaXRlc3BhY2VQYXR0ZXJuLnByb3RvdHlwZS5fX3NldF93aGl0ZXNwYWNlX3BhdHRlcm5zID0gZnVuY3Rpb24od2hpdGVzcGFjZV9jaGFycywgbmV3bGluZV9jaGFycykge1xuICB3aGl0ZXNwYWNlX2NoYXJzICs9ICdcXFxcdCAnO1xuICBuZXdsaW5lX2NoYXJzICs9ICdcXFxcblxcXFxyJztcblxuICB0aGlzLl9tYXRjaF9wYXR0ZXJuID0gdGhpcy5faW5wdXQuZ2V0X3JlZ2V4cChcbiAgICAnWycgKyB3aGl0ZXNwYWNlX2NoYXJzICsgbmV3bGluZV9jaGFycyArICddKycsIHRydWUpO1xuICB0aGlzLl9uZXdsaW5lX3JlZ2V4cCA9IHRoaXMuX2lucHV0LmdldF9yZWdleHAoXG4gICAgJ1xcXFxyXFxcXG58WycgKyBuZXdsaW5lX2NoYXJzICsgJ10nKTtcbn07XG5cbldoaXRlc3BhY2VQYXR0ZXJuLnByb3RvdHlwZS5yZWFkID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMubmV3bGluZV9jb3VudCA9IDA7XG4gIHRoaXMud2hpdGVzcGFjZV9iZWZvcmVfdG9rZW4gPSAnJztcblxuICB2YXIgcmVzdWx0aW5nX3N0cmluZyA9IHRoaXMuX2lucHV0LnJlYWQodGhpcy5fbWF0Y2hfcGF0dGVybik7XG4gIGlmIChyZXN1bHRpbmdfc3RyaW5nID09PSAnICcpIHtcbiAgICB0aGlzLndoaXRlc3BhY2VfYmVmb3JlX3Rva2VuID0gJyAnO1xuICB9IGVsc2UgaWYgKHJlc3VsdGluZ19zdHJpbmcpIHtcbiAgICB2YXIgbWF0Y2hlcyA9IHRoaXMuX19zcGxpdCh0aGlzLl9uZXdsaW5lX3JlZ2V4cCwgcmVzdWx0aW5nX3N0cmluZyk7XG4gICAgdGhpcy5uZXdsaW5lX2NvdW50ID0gbWF0Y2hlcy5sZW5ndGggLSAxO1xuICAgIHRoaXMud2hpdGVzcGFjZV9iZWZvcmVfdG9rZW4gPSBtYXRjaGVzW3RoaXMubmV3bGluZV9jb3VudF07XG4gIH1cblxuICByZXR1cm4gcmVzdWx0aW5nX3N0cmluZztcbn07XG5cbldoaXRlc3BhY2VQYXR0ZXJuLnByb3RvdHlwZS5tYXRjaGluZyA9IGZ1bmN0aW9uKHdoaXRlc3BhY2VfY2hhcnMsIG5ld2xpbmVfY2hhcnMpIHtcbiAgdmFyIHJlc3VsdCA9IHRoaXMuX2NyZWF0ZSgpO1xuICByZXN1bHQuX19zZXRfd2hpdGVzcGFjZV9wYXR0ZXJucyh3aGl0ZXNwYWNlX2NoYXJzLCBuZXdsaW5lX2NoYXJzKTtcbiAgcmVzdWx0Ll91cGRhdGUoKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbldoaXRlc3BhY2VQYXR0ZXJuLnByb3RvdHlwZS5fY3JlYXRlID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgV2hpdGVzcGFjZVBhdHRlcm4odGhpcy5faW5wdXQsIHRoaXMpO1xufTtcblxuV2hpdGVzcGFjZVBhdHRlcm4ucHJvdG90eXBlLl9fc3BsaXQgPSBmdW5jdGlvbihyZWdleHAsIGlucHV0X3N0cmluZykge1xuICByZWdleHAubGFzdEluZGV4ID0gMDtcbiAgdmFyIHN0YXJ0X2luZGV4ID0gMDtcbiAgdmFyIHJlc3VsdCA9IFtdO1xuICB2YXIgbmV4dF9tYXRjaCA9IHJlZ2V4cC5leGVjKGlucHV0X3N0cmluZyk7XG4gIHdoaWxlIChuZXh0X21hdGNoKSB7XG4gICAgcmVzdWx0LnB1c2goaW5wdXRfc3RyaW5nLnN1YnN0cmluZyhzdGFydF9pbmRleCwgbmV4dF9tYXRjaC5pbmRleCkpO1xuICAgIHN0YXJ0X2luZGV4ID0gbmV4dF9tYXRjaC5pbmRleCArIG5leHRfbWF0Y2hbMF0ubGVuZ3RoO1xuICAgIG5leHRfbWF0Y2ggPSByZWdleHAuZXhlYyhpbnB1dF9zdHJpbmcpO1xuICB9XG5cbiAgaWYgKHN0YXJ0X2luZGV4IDwgaW5wdXRfc3RyaW5nLmxlbmd0aCkge1xuICAgIHJlc3VsdC5wdXNoKGlucHV0X3N0cmluZy5zdWJzdHJpbmcoc3RhcnRfaW5kZXgsIGlucHV0X3N0cmluZy5sZW5ndGgpKTtcbiAgfSBlbHNlIHtcbiAgICByZXN1bHQucHVzaCgnJyk7XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuXG5cbm1vZHVsZS5leHBvcnRzLldoaXRlc3BhY2VQYXR0ZXJuID0gV2hpdGVzcGFjZVBhdHRlcm47XG4iLCIvKmpzaGludCBub2RlOnRydWUgKi9cbi8qXG5cbiAgVGhlIE1JVCBMaWNlbnNlIChNSVQpXG5cbiAgQ29weXJpZ2h0IChjKSAyMDA3LTIwMTggRWluYXIgTGllbG1hbmlzLCBMaWFtIE5ld21hbiwgYW5kIGNvbnRyaWJ1dG9ycy5cblxuICBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvblxuICBvYnRhaW5pbmcgYSBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlc1xuICAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sXG4gIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsXG4gIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsXG4gIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sXG4gIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuXG4gIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlXG4gIGluY2x1ZGVkIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuXG4gIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsXG4gIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuICBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORFxuICBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTXG4gIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTlxuICBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTlxuICBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFXG4gIFNPRlRXQVJFLlxuKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgT3B0aW9ucyA9IHJlcXVpcmUoJy4vb3B0aW9ucycpLk9wdGlvbnM7XG52YXIgT3V0cHV0ID0gcmVxdWlyZSgnLi4vY29yZS9vdXRwdXQnKS5PdXRwdXQ7XG52YXIgSW5wdXRTY2FubmVyID0gcmVxdWlyZSgnLi4vY29yZS9pbnB1dHNjYW5uZXInKS5JbnB1dFNjYW5uZXI7XG52YXIgRGlyZWN0aXZlcyA9IHJlcXVpcmUoJy4uL2NvcmUvZGlyZWN0aXZlcycpLkRpcmVjdGl2ZXM7XG5cbnZhciBkaXJlY3RpdmVzX2NvcmUgPSBuZXcgRGlyZWN0aXZlcygvXFwvXFwqLywgL1xcKlxcLy8pO1xuXG52YXIgbGluZUJyZWFrID0gL1xcclxcbnxbXFxyXFxuXS87XG52YXIgYWxsTGluZUJyZWFrcyA9IC9cXHJcXG58W1xcclxcbl0vZztcblxuLy8gdG9rZW5pemVyXG52YXIgd2hpdGVzcGFjZUNoYXIgPSAvXFxzLztcbnZhciB3aGl0ZXNwYWNlUGF0dGVybiA9IC8oPzpcXHN8XFxuKSsvZztcbnZhciBibG9ja19jb21tZW50X3BhdHRlcm4gPSAvXFwvXFwqKD86W1xcc1xcU10qPykoKD86XFwqXFwvKXwkKS9nO1xudmFyIGNvbW1lbnRfcGF0dGVybiA9IC9cXC9cXC8oPzpbXlxcblxcclxcdTIwMjhcXHUyMDI5XSopL2c7XG5cbmZ1bmN0aW9uIEJlYXV0aWZpZXIoc291cmNlX3RleHQsIG9wdGlvbnMpIHtcbiAgdGhpcy5fc291cmNlX3RleHQgPSBzb3VyY2VfdGV4dCB8fCAnJztcbiAgLy8gQWxsb3cgdGhlIHNldHRpbmcgb2YgbGFuZ3VhZ2UvZmlsZS10eXBlIHNwZWNpZmljIG9wdGlvbnNcbiAgLy8gd2l0aCBpbmhlcml0YW5jZSBvZiBvdmVyYWxsIHNldHRpbmdzXG4gIHRoaXMuX29wdGlvbnMgPSBuZXcgT3B0aW9ucyhvcHRpb25zKTtcbiAgdGhpcy5fY2ggPSBudWxsO1xuICB0aGlzLl9pbnB1dCA9IG51bGw7XG5cbiAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQ1NTL0F0LXJ1bGVcbiAgdGhpcy5ORVNURURfQVRfUlVMRSA9IHtcbiAgICBcIkBwYWdlXCI6IHRydWUsXG4gICAgXCJAZm9udC1mYWNlXCI6IHRydWUsXG4gICAgXCJAa2V5ZnJhbWVzXCI6IHRydWUsXG4gICAgLy8gYWxzbyBpbiBDT05ESVRJT05BTF9HUk9VUF9SVUxFIGJlbG93XG4gICAgXCJAbWVkaWFcIjogdHJ1ZSxcbiAgICBcIkBzdXBwb3J0c1wiOiB0cnVlLFxuICAgIFwiQGRvY3VtZW50XCI6IHRydWVcbiAgfTtcbiAgdGhpcy5DT05ESVRJT05BTF9HUk9VUF9SVUxFID0ge1xuICAgIFwiQG1lZGlhXCI6IHRydWUsXG4gICAgXCJAc3VwcG9ydHNcIjogdHJ1ZSxcbiAgICBcIkBkb2N1bWVudFwiOiB0cnVlXG4gIH07XG5cbn1cblxuQmVhdXRpZmllci5wcm90b3R5cGUuZWF0U3RyaW5nID0gZnVuY3Rpb24oZW5kQ2hhcnMpIHtcbiAgdmFyIHJlc3VsdCA9ICcnO1xuICB0aGlzLl9jaCA9IHRoaXMuX2lucHV0Lm5leHQoKTtcbiAgd2hpbGUgKHRoaXMuX2NoKSB7XG4gICAgcmVzdWx0ICs9IHRoaXMuX2NoO1xuICAgIGlmICh0aGlzLl9jaCA9PT0gXCJcXFxcXCIpIHtcbiAgICAgIHJlc3VsdCArPSB0aGlzLl9pbnB1dC5uZXh0KCk7XG4gICAgfSBlbHNlIGlmIChlbmRDaGFycy5pbmRleE9mKHRoaXMuX2NoKSAhPT0gLTEgfHwgdGhpcy5fY2ggPT09IFwiXFxuXCIpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICB0aGlzLl9jaCA9IHRoaXMuX2lucHV0Lm5leHQoKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuLy8gU2tpcHMgYW55IHdoaXRlIHNwYWNlIGluIHRoZSBzb3VyY2UgdGV4dCBmcm9tIHRoZSBjdXJyZW50IHBvc2l0aW9uLlxuLy8gV2hlbiBhbGxvd0F0TGVhc3RPbmVOZXdMaW5lIGlzIHRydWUsIHdpbGwgb3V0cHV0IG5ldyBsaW5lcyBmb3IgZWFjaFxuLy8gbmV3bGluZSBjaGFyYWN0ZXIgZm91bmQ7IGlmIHRoZSB1c2VyIGhhcyBwcmVzZXJ2ZV9uZXdsaW5lcyBvZmYsIG9ubHlcbi8vIHRoZSBmaXJzdCBuZXdsaW5lIHdpbGwgYmUgb3V0cHV0XG5CZWF1dGlmaWVyLnByb3RvdHlwZS5lYXRXaGl0ZXNwYWNlID0gZnVuY3Rpb24oYWxsb3dBdExlYXN0T25lTmV3TGluZSkge1xuICB2YXIgcmVzdWx0ID0gd2hpdGVzcGFjZUNoYXIudGVzdCh0aGlzLl9pbnB1dC5wZWVrKCkpO1xuICB2YXIgaXNGaXJzdE5ld0xpbmUgPSB0cnVlO1xuXG4gIHdoaWxlICh3aGl0ZXNwYWNlQ2hhci50ZXN0KHRoaXMuX2lucHV0LnBlZWsoKSkpIHtcbiAgICB0aGlzLl9jaCA9IHRoaXMuX2lucHV0Lm5leHQoKTtcbiAgICBpZiAoYWxsb3dBdExlYXN0T25lTmV3TGluZSAmJiB0aGlzLl9jaCA9PT0gJ1xcbicpIHtcbiAgICAgIGlmICh0aGlzLl9vcHRpb25zLnByZXNlcnZlX25ld2xpbmVzIHx8IGlzRmlyc3ROZXdMaW5lKSB7XG4gICAgICAgIGlzRmlyc3ROZXdMaW5lID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX291dHB1dC5hZGRfbmV3X2xpbmUodHJ1ZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG4vLyBOZXN0ZWQgcHNldWRvLWNsYXNzIGlmIHdlIGFyZSBpbnNpZGVSdWxlXG4vLyBhbmQgdGhlIG5leHQgc3BlY2lhbCBjaGFyYWN0ZXIgZm91bmQgb3BlbnNcbi8vIGEgbmV3IGJsb2NrXG5CZWF1dGlmaWVyLnByb3RvdHlwZS5mb3VuZE5lc3RlZFBzZXVkb0NsYXNzID0gZnVuY3Rpb24oKSB7XG4gIHZhciBvcGVuUGFyZW4gPSAwO1xuICB2YXIgaSA9IDE7XG4gIHZhciBjaCA9IHRoaXMuX2lucHV0LnBlZWsoaSk7XG4gIHdoaWxlIChjaCkge1xuICAgIGlmIChjaCA9PT0gXCJ7XCIpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSBpZiAoY2ggPT09ICcoJykge1xuICAgICAgLy8gcHNldWRvY2xhc3NlcyBjYW4gY29udGFpbiAoKVxuICAgICAgb3BlblBhcmVuICs9IDE7XG4gICAgfSBlbHNlIGlmIChjaCA9PT0gJyknKSB7XG4gICAgICBpZiAob3BlblBhcmVuID09PSAwKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIG9wZW5QYXJlbiAtPSAxO1xuICAgIH0gZWxzZSBpZiAoY2ggPT09IFwiO1wiIHx8IGNoID09PSBcIn1cIikge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpKys7XG4gICAgY2ggPSB0aGlzLl9pbnB1dC5wZWVrKGkpO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn07XG5cbkJlYXV0aWZpZXIucHJvdG90eXBlLnByaW50X3N0cmluZyA9IGZ1bmN0aW9uKG91dHB1dF9zdHJpbmcpIHtcbiAgdGhpcy5fb3V0cHV0LnNldF9pbmRlbnQodGhpcy5faW5kZW50TGV2ZWwpO1xuICB0aGlzLl9vdXRwdXQubm9uX2JyZWFraW5nX3NwYWNlID0gdHJ1ZTtcbiAgdGhpcy5fb3V0cHV0LmFkZF90b2tlbihvdXRwdXRfc3RyaW5nKTtcbn07XG5cbkJlYXV0aWZpZXIucHJvdG90eXBlLnByZXNlcnZlU2luZ2xlU3BhY2UgPSBmdW5jdGlvbihpc0FmdGVyU3BhY2UpIHtcbiAgaWYgKGlzQWZ0ZXJTcGFjZSkge1xuICAgIHRoaXMuX291dHB1dC5zcGFjZV9iZWZvcmVfdG9rZW4gPSB0cnVlO1xuICB9XG59O1xuXG5CZWF1dGlmaWVyLnByb3RvdHlwZS5pbmRlbnQgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5faW5kZW50TGV2ZWwrKztcbn07XG5cbkJlYXV0aWZpZXIucHJvdG90eXBlLm91dGRlbnQgPSBmdW5jdGlvbigpIHtcbiAgaWYgKHRoaXMuX2luZGVudExldmVsID4gMCkge1xuICAgIHRoaXMuX2luZGVudExldmVsLS07XG4gIH1cbn07XG5cbi8qX19fX19fX19fX19fX19fX19fX19fLS0tLS0tLS0tLS0tLS0tLS0tLS1fX19fX19fX19fX19fX19fX19fX18qL1xuXG5CZWF1dGlmaWVyLnByb3RvdHlwZS5iZWF1dGlmeSA9IGZ1bmN0aW9uKCkge1xuICBpZiAodGhpcy5fb3B0aW9ucy5kaXNhYmxlZCkge1xuICAgIHJldHVybiB0aGlzLl9zb3VyY2VfdGV4dDtcbiAgfVxuXG4gIHZhciBzb3VyY2VfdGV4dCA9IHRoaXMuX3NvdXJjZV90ZXh0O1xuICB2YXIgZW9sID0gdGhpcy5fb3B0aW9ucy5lb2w7XG4gIGlmIChlb2wgPT09ICdhdXRvJykge1xuICAgIGVvbCA9ICdcXG4nO1xuICAgIGlmIChzb3VyY2VfdGV4dCAmJiBsaW5lQnJlYWsudGVzdChzb3VyY2VfdGV4dCB8fCAnJykpIHtcbiAgICAgIGVvbCA9IHNvdXJjZV90ZXh0Lm1hdGNoKGxpbmVCcmVhaylbMF07XG4gICAgfVxuICB9XG5cblxuICAvLyBIQUNLOiBuZXdsaW5lIHBhcnNpbmcgaW5jb25zaXN0ZW50LiBUaGlzIGJydXRlIGZvcmNlIG5vcm1hbGl6ZXMgdGhlIHRoaXMuX2lucHV0LlxuICBzb3VyY2VfdGV4dCA9IHNvdXJjZV90ZXh0LnJlcGxhY2UoYWxsTGluZUJyZWFrcywgJ1xcbicpO1xuXG4gIC8vIHJlc2V0XG4gIHZhciBiYXNlSW5kZW50U3RyaW5nID0gc291cmNlX3RleHQubWF0Y2goL15bXFx0IF0qLylbMF07XG5cbiAgdGhpcy5fb3V0cHV0ID0gbmV3IE91dHB1dCh0aGlzLl9vcHRpb25zLCBiYXNlSW5kZW50U3RyaW5nKTtcbiAgdGhpcy5faW5wdXQgPSBuZXcgSW5wdXRTY2FubmVyKHNvdXJjZV90ZXh0KTtcbiAgdGhpcy5faW5kZW50TGV2ZWwgPSAwO1xuICB0aGlzLl9uZXN0ZWRMZXZlbCA9IDA7XG5cbiAgdGhpcy5fY2ggPSBudWxsO1xuICB2YXIgcGFyZW5MZXZlbCA9IDA7XG5cbiAgdmFyIGluc2lkZVJ1bGUgPSBmYWxzZTtcbiAgLy8gVGhpcyBpcyB0aGUgdmFsdWUgc2lkZSBvZiBhIHByb3BlcnR5IHZhbHVlIHBhaXIgKGJsdWUgaW4gdGhlIGZvbGxvd2luZyBleClcbiAgLy8gbGFiZWwgeyBjb250ZW50OiBibHVlIH1cbiAgdmFyIGluc2lkZVByb3BlcnR5VmFsdWUgPSBmYWxzZTtcbiAgdmFyIGVudGVyaW5nQ29uZGl0aW9uYWxHcm91cCA9IGZhbHNlO1xuICB2YXIgaW5zaWRlQXRFeHRlbmQgPSBmYWxzZTtcbiAgdmFyIGluc2lkZUF0SW1wb3J0ID0gZmFsc2U7XG4gIHZhciB0b3BDaGFyYWN0ZXIgPSB0aGlzLl9jaDtcbiAgdmFyIHdoaXRlc3BhY2U7XG4gIHZhciBpc0FmdGVyU3BhY2U7XG4gIHZhciBwcmV2aW91c19jaDtcblxuICB3aGlsZSAodHJ1ZSkge1xuICAgIHdoaXRlc3BhY2UgPSB0aGlzLl9pbnB1dC5yZWFkKHdoaXRlc3BhY2VQYXR0ZXJuKTtcbiAgICBpc0FmdGVyU3BhY2UgPSB3aGl0ZXNwYWNlICE9PSAnJztcbiAgICBwcmV2aW91c19jaCA9IHRvcENoYXJhY3RlcjtcbiAgICB0aGlzLl9jaCA9IHRoaXMuX2lucHV0Lm5leHQoKTtcbiAgICBpZiAodGhpcy5fY2ggPT09ICdcXFxcJyAmJiB0aGlzLl9pbnB1dC5oYXNOZXh0KCkpIHtcbiAgICAgIHRoaXMuX2NoICs9IHRoaXMuX2lucHV0Lm5leHQoKTtcbiAgICB9XG4gICAgdG9wQ2hhcmFjdGVyID0gdGhpcy5fY2g7XG5cbiAgICBpZiAoIXRoaXMuX2NoKSB7XG4gICAgICBicmVhaztcbiAgICB9IGVsc2UgaWYgKHRoaXMuX2NoID09PSAnLycgJiYgdGhpcy5faW5wdXQucGVlaygpID09PSAnKicpIHtcbiAgICAgIC8vIC8qIGNzcyBjb21tZW50ICovXG4gICAgICAvLyBBbHdheXMgc3RhcnQgYmxvY2sgY29tbWVudHMgb24gYSBuZXcgbGluZS5cbiAgICAgIC8vIFRoaXMgaGFuZGxlcyBzY2VuYXJpb3Mgd2hlcmUgYSBibG9jayBjb21tZW50IGltbWVkaWF0ZWx5XG4gICAgICAvLyBmb2xsb3dzIGEgcHJvcGVydHkgZGVmaW5pdGlvbiBvbiB0aGUgc2FtZSBsaW5lIG9yIHdoZXJlXG4gICAgICAvLyBtaW5pZmllZCBjb2RlIGlzIGJlaW5nIGJlYXV0aWZpZWQuXG4gICAgICB0aGlzLl9vdXRwdXQuYWRkX25ld19saW5lKCk7XG4gICAgICB0aGlzLl9pbnB1dC5iYWNrKCk7XG5cbiAgICAgIHZhciBjb21tZW50ID0gdGhpcy5faW5wdXQucmVhZChibG9ja19jb21tZW50X3BhdHRlcm4pO1xuXG4gICAgICAvLyBIYW5kbGUgaWdub3JlIGRpcmVjdGl2ZVxuICAgICAgdmFyIGRpcmVjdGl2ZXMgPSBkaXJlY3RpdmVzX2NvcmUuZ2V0X2RpcmVjdGl2ZXMoY29tbWVudCk7XG4gICAgICBpZiAoZGlyZWN0aXZlcyAmJiBkaXJlY3RpdmVzLmlnbm9yZSA9PT0gJ3N0YXJ0Jykge1xuICAgICAgICBjb21tZW50ICs9IGRpcmVjdGl2ZXNfY29yZS5yZWFkSWdub3JlZCh0aGlzLl9pbnB1dCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMucHJpbnRfc3RyaW5nKGNvbW1lbnQpO1xuXG4gICAgICAvLyBFbnN1cmVzIGFueSBuZXcgbGluZXMgZm9sbG93aW5nIHRoZSBjb21tZW50IGFyZSBwcmVzZXJ2ZWRcbiAgICAgIHRoaXMuZWF0V2hpdGVzcGFjZSh0cnVlKTtcblxuICAgICAgLy8gQmxvY2sgY29tbWVudHMgYXJlIGZvbGxvd2VkIGJ5IGEgbmV3IGxpbmUgc28gdGhleSBkb24ndFxuICAgICAgLy8gc2hhcmUgYSBsaW5lIHdpdGggb3RoZXIgcHJvcGVydGllc1xuICAgICAgdGhpcy5fb3V0cHV0LmFkZF9uZXdfbGluZSgpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5fY2ggPT09ICcvJyAmJiB0aGlzLl9pbnB1dC5wZWVrKCkgPT09ICcvJykge1xuICAgICAgLy8gLy8gc2luZ2xlIGxpbmUgY29tbWVudFxuICAgICAgLy8gUHJlc2VydmVzIHRoZSBzcGFjZSBiZWZvcmUgYSBjb21tZW50XG4gICAgICAvLyBvbiB0aGUgc2FtZSBsaW5lIGFzIGEgcnVsZVxuICAgICAgdGhpcy5fb3V0cHV0LnNwYWNlX2JlZm9yZV90b2tlbiA9IHRydWU7XG4gICAgICB0aGlzLl9pbnB1dC5iYWNrKCk7XG4gICAgICB0aGlzLnByaW50X3N0cmluZyh0aGlzLl9pbnB1dC5yZWFkKGNvbW1lbnRfcGF0dGVybikpO1xuXG4gICAgICAvLyBFbnN1cmVzIGFueSBuZXcgbGluZXMgZm9sbG93aW5nIHRoZSBjb21tZW50IGFyZSBwcmVzZXJ2ZWRcbiAgICAgIHRoaXMuZWF0V2hpdGVzcGFjZSh0cnVlKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuX2NoID09PSAnQCcpIHtcbiAgICAgIHRoaXMucHJlc2VydmVTaW5nbGVTcGFjZShpc0FmdGVyU3BhY2UpO1xuXG4gICAgICAvLyBkZWFsIHdpdGggbGVzcyBwcm9wZXJ5IG1peGlucyBAey4uLn1cbiAgICAgIGlmICh0aGlzLl9pbnB1dC5wZWVrKCkgPT09ICd7Jykge1xuICAgICAgICB0aGlzLnByaW50X3N0cmluZyh0aGlzLl9jaCArIHRoaXMuZWF0U3RyaW5nKCd9JykpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5wcmludF9zdHJpbmcodGhpcy5fY2gpO1xuXG4gICAgICAgIC8vIHN0cmlwIHRyYWlsaW5nIHNwYWNlLCBpZiBwcmVzZW50LCBmb3IgaGFzaCBwcm9wZXJ0eSBjaGVja3NcbiAgICAgICAgdmFyIHZhcmlhYmxlT3JSdWxlID0gdGhpcy5faW5wdXQucGVla1VudGlsQWZ0ZXIoL1s6ICw7e30oKVtcXF1cXC89J1wiXS9nKTtcblxuICAgICAgICBpZiAodmFyaWFibGVPclJ1bGUubWF0Y2goL1sgOl0kLykpIHtcbiAgICAgICAgICAvLyB3ZSBoYXZlIGEgdmFyaWFibGUgb3IgcHNldWRvLWNsYXNzLCBhZGQgaXQgYW5kIGluc2VydCBvbmUgc3BhY2UgYmVmb3JlIGNvbnRpbnVpbmdcbiAgICAgICAgICB2YXJpYWJsZU9yUnVsZSA9IHRoaXMuZWF0U3RyaW5nKFwiOiBcIikucmVwbGFjZSgvXFxzJC8sICcnKTtcbiAgICAgICAgICB0aGlzLnByaW50X3N0cmluZyh2YXJpYWJsZU9yUnVsZSk7XG4gICAgICAgICAgdGhpcy5fb3V0cHV0LnNwYWNlX2JlZm9yZV90b2tlbiA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICB2YXJpYWJsZU9yUnVsZSA9IHZhcmlhYmxlT3JSdWxlLnJlcGxhY2UoL1xccyQvLCAnJyk7XG5cbiAgICAgICAgaWYgKHZhcmlhYmxlT3JSdWxlID09PSAnZXh0ZW5kJykge1xuICAgICAgICAgIGluc2lkZUF0RXh0ZW5kID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIGlmICh2YXJpYWJsZU9yUnVsZSA9PT0gJ2ltcG9ydCcpIHtcbiAgICAgICAgICBpbnNpZGVBdEltcG9ydCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBtaWdodCBiZSBhIG5lc3RpbmcgYXQtcnVsZVxuICAgICAgICBpZiAodmFyaWFibGVPclJ1bGUgaW4gdGhpcy5ORVNURURfQVRfUlVMRSkge1xuICAgICAgICAgIHRoaXMuX25lc3RlZExldmVsICs9IDE7XG4gICAgICAgICAgaWYgKHZhcmlhYmxlT3JSdWxlIGluIHRoaXMuQ09ORElUSU9OQUxfR1JPVVBfUlVMRSkge1xuICAgICAgICAgICAgZW50ZXJpbmdDb25kaXRpb25hbEdyb3VwID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gbWlnaHQgYmUgbGVzcyB2YXJpYWJsZVxuICAgICAgICB9IGVsc2UgaWYgKCFpbnNpZGVSdWxlICYmIHBhcmVuTGV2ZWwgPT09IDAgJiYgdmFyaWFibGVPclJ1bGUuaW5kZXhPZignOicpICE9PSAtMSkge1xuICAgICAgICAgIGluc2lkZVByb3BlcnR5VmFsdWUgPSB0cnVlO1xuICAgICAgICAgIHRoaXMuaW5kZW50KCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHRoaXMuX2NoID09PSAnIycgJiYgdGhpcy5faW5wdXQucGVlaygpID09PSAneycpIHtcbiAgICAgIHRoaXMucHJlc2VydmVTaW5nbGVTcGFjZShpc0FmdGVyU3BhY2UpO1xuICAgICAgdGhpcy5wcmludF9zdHJpbmcodGhpcy5fY2ggKyB0aGlzLmVhdFN0cmluZygnfScpKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuX2NoID09PSAneycpIHtcbiAgICAgIGlmIChpbnNpZGVQcm9wZXJ0eVZhbHVlKSB7XG4gICAgICAgIGluc2lkZVByb3BlcnR5VmFsdWUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5vdXRkZW50KCk7XG4gICAgICB9XG4gICAgICB0aGlzLmluZGVudCgpO1xuICAgICAgdGhpcy5fb3V0cHV0LnNwYWNlX2JlZm9yZV90b2tlbiA9IHRydWU7XG4gICAgICB0aGlzLnByaW50X3N0cmluZyh0aGlzLl9jaCk7XG5cbiAgICAgIC8vIHdoZW4gZW50ZXJpbmcgY29uZGl0aW9uYWwgZ3JvdXBzLCBvbmx5IHJ1bGVzZXRzIGFyZSBhbGxvd2VkXG4gICAgICBpZiAoZW50ZXJpbmdDb25kaXRpb25hbEdyb3VwKSB7XG4gICAgICAgIGVudGVyaW5nQ29uZGl0aW9uYWxHcm91cCA9IGZhbHNlO1xuICAgICAgICBpbnNpZGVSdWxlID0gKHRoaXMuX2luZGVudExldmVsID4gdGhpcy5fbmVzdGVkTGV2ZWwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gb3RoZXJ3aXNlLCBkZWNsYXJhdGlvbnMgYXJlIGFsc28gYWxsb3dlZFxuICAgICAgICBpbnNpZGVSdWxlID0gKHRoaXMuX2luZGVudExldmVsID49IHRoaXMuX25lc3RlZExldmVsKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLl9vcHRpb25zLm5ld2xpbmVfYmV0d2Vlbl9ydWxlcyAmJiBpbnNpZGVSdWxlKSB7XG4gICAgICAgIGlmICh0aGlzLl9vdXRwdXQucHJldmlvdXNfbGluZSAmJiB0aGlzLl9vdXRwdXQucHJldmlvdXNfbGluZS5pdGVtKC0xKSAhPT0gJ3snKSB7XG4gICAgICAgICAgdGhpcy5fb3V0cHV0LmVuc3VyZV9lbXB0eV9saW5lX2Fib3ZlKCcvJywgJywnKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy5lYXRXaGl0ZXNwYWNlKHRydWUpO1xuICAgICAgdGhpcy5fb3V0cHV0LmFkZF9uZXdfbGluZSgpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5fY2ggPT09ICd9Jykge1xuICAgICAgdGhpcy5vdXRkZW50KCk7XG4gICAgICB0aGlzLl9vdXRwdXQuYWRkX25ld19saW5lKCk7XG4gICAgICBpZiAocHJldmlvdXNfY2ggPT09ICd7Jykge1xuICAgICAgICB0aGlzLl9vdXRwdXQudHJpbSh0cnVlKTtcbiAgICAgIH1cbiAgICAgIGluc2lkZUF0SW1wb3J0ID0gZmFsc2U7XG4gICAgICBpbnNpZGVBdEV4dGVuZCA9IGZhbHNlO1xuICAgICAgaWYgKGluc2lkZVByb3BlcnR5VmFsdWUpIHtcbiAgICAgICAgdGhpcy5vdXRkZW50KCk7XG4gICAgICAgIGluc2lkZVByb3BlcnR5VmFsdWUgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHRoaXMucHJpbnRfc3RyaW5nKHRoaXMuX2NoKTtcbiAgICAgIGluc2lkZVJ1bGUgPSBmYWxzZTtcbiAgICAgIGlmICh0aGlzLl9uZXN0ZWRMZXZlbCkge1xuICAgICAgICB0aGlzLl9uZXN0ZWRMZXZlbC0tO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmVhdFdoaXRlc3BhY2UodHJ1ZSk7XG4gICAgICB0aGlzLl9vdXRwdXQuYWRkX25ld19saW5lKCk7XG5cbiAgICAgIGlmICh0aGlzLl9vcHRpb25zLm5ld2xpbmVfYmV0d2Vlbl9ydWxlcyAmJiAhdGhpcy5fb3V0cHV0Lmp1c3RfYWRkZWRfYmxhbmtsaW5lKCkpIHtcbiAgICAgICAgaWYgKHRoaXMuX2lucHV0LnBlZWsoKSAhPT0gJ30nKSB7XG4gICAgICAgICAgdGhpcy5fb3V0cHV0LmFkZF9uZXdfbGluZSh0cnVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodGhpcy5fY2ggPT09IFwiOlwiKSB7XG4gICAgICBpZiAoKGluc2lkZVJ1bGUgfHwgZW50ZXJpbmdDb25kaXRpb25hbEdyb3VwKSAmJiAhKHRoaXMuX2lucHV0Lmxvb2tCYWNrKFwiJlwiKSB8fCB0aGlzLmZvdW5kTmVzdGVkUHNldWRvQ2xhc3MoKSkgJiYgIXRoaXMuX2lucHV0Lmxvb2tCYWNrKFwiKFwiKSAmJiAhaW5zaWRlQXRFeHRlbmQgJiYgcGFyZW5MZXZlbCA9PT0gMCkge1xuICAgICAgICAvLyAncHJvcGVydHk6IHZhbHVlJyBkZWxpbWl0ZXJcbiAgICAgICAgLy8gd2hpY2ggY291bGQgYmUgaW4gYSBjb25kaXRpb25hbCBncm91cCBxdWVyeVxuICAgICAgICB0aGlzLnByaW50X3N0cmluZygnOicpO1xuICAgICAgICBpZiAoIWluc2lkZVByb3BlcnR5VmFsdWUpIHtcbiAgICAgICAgICBpbnNpZGVQcm9wZXJ0eVZhbHVlID0gdHJ1ZTtcbiAgICAgICAgICB0aGlzLl9vdXRwdXQuc3BhY2VfYmVmb3JlX3Rva2VuID0gdHJ1ZTtcbiAgICAgICAgICB0aGlzLmVhdFdoaXRlc3BhY2UodHJ1ZSk7XG4gICAgICAgICAgdGhpcy5pbmRlbnQoKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gc2Fzcy9sZXNzIHBhcmVudCByZWZlcmVuY2UgZG9uJ3QgdXNlIGEgc3BhY2VcbiAgICAgICAgLy8gc2FzcyBuZXN0ZWQgcHNldWRvLWNsYXNzIGRvbid0IHVzZSBhIHNwYWNlXG5cbiAgICAgICAgLy8gcHJlc2VydmUgc3BhY2UgYmVmb3JlIHBzZXVkb2NsYXNzZXMvcHNldWRvZWxlbWVudHMsIGFzIGl0IG1lYW5zIFwiaW4gYW55IGNoaWxkXCJcbiAgICAgICAgaWYgKHRoaXMuX2lucHV0Lmxvb2tCYWNrKFwiIFwiKSkge1xuICAgICAgICAgIHRoaXMuX291dHB1dC5zcGFjZV9iZWZvcmVfdG9rZW4gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9pbnB1dC5wZWVrKCkgPT09IFwiOlwiKSB7XG4gICAgICAgICAgLy8gcHNldWRvLWVsZW1lbnRcbiAgICAgICAgICB0aGlzLl9jaCA9IHRoaXMuX2lucHV0Lm5leHQoKTtcbiAgICAgICAgICB0aGlzLnByaW50X3N0cmluZyhcIjo6XCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIHBzZXVkby1jbGFzc1xuICAgICAgICAgIHRoaXMucHJpbnRfc3RyaW5nKCc6Jyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHRoaXMuX2NoID09PSAnXCInIHx8IHRoaXMuX2NoID09PSAnXFwnJykge1xuICAgICAgdGhpcy5wcmVzZXJ2ZVNpbmdsZVNwYWNlKGlzQWZ0ZXJTcGFjZSk7XG4gICAgICB0aGlzLnByaW50X3N0cmluZyh0aGlzLl9jaCArIHRoaXMuZWF0U3RyaW5nKHRoaXMuX2NoKSk7XG4gICAgICB0aGlzLmVhdFdoaXRlc3BhY2UodHJ1ZSk7XG4gICAgfSBlbHNlIGlmICh0aGlzLl9jaCA9PT0gJzsnKSB7XG4gICAgICBpZiAocGFyZW5MZXZlbCA9PT0gMCkge1xuICAgICAgICBpZiAoaW5zaWRlUHJvcGVydHlWYWx1ZSkge1xuICAgICAgICAgIHRoaXMub3V0ZGVudCgpO1xuICAgICAgICAgIGluc2lkZVByb3BlcnR5VmFsdWUgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpbnNpZGVBdEV4dGVuZCA9IGZhbHNlO1xuICAgICAgICBpbnNpZGVBdEltcG9ydCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnByaW50X3N0cmluZyh0aGlzLl9jaCk7XG4gICAgICAgIHRoaXMuZWF0V2hpdGVzcGFjZSh0cnVlKTtcblxuICAgICAgICAvLyBUaGlzIG1haW50YWlucyBzaW5nbGUgbGluZSBjb21tZW50cyBvbiB0aGUgc2FtZVxuICAgICAgICAvLyBsaW5lLiBCbG9jayBjb21tZW50cyBhcmUgYWxzbyBhZmZlY3RlZCwgYnV0XG4gICAgICAgIC8vIGEgbmV3IGxpbmUgaXMgYWx3YXlzIG91dHB1dCBiZWZvcmUgb25lIGluc2lkZVxuICAgICAgICAvLyB0aGF0IHNlY3Rpb25cbiAgICAgICAgaWYgKHRoaXMuX2lucHV0LnBlZWsoKSAhPT0gJy8nKSB7XG4gICAgICAgICAgdGhpcy5fb3V0cHV0LmFkZF9uZXdfbGluZSgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnByaW50X3N0cmluZyh0aGlzLl9jaCk7XG4gICAgICAgIHRoaXMuZWF0V2hpdGVzcGFjZSh0cnVlKTtcbiAgICAgICAgdGhpcy5fb3V0cHV0LnNwYWNlX2JlZm9yZV90b2tlbiA9IHRydWU7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0aGlzLl9jaCA9PT0gJygnKSB7IC8vIG1heSBiZSBhIHVybFxuICAgICAgaWYgKHRoaXMuX2lucHV0Lmxvb2tCYWNrKFwidXJsXCIpKSB7XG4gICAgICAgIHRoaXMucHJpbnRfc3RyaW5nKHRoaXMuX2NoKTtcbiAgICAgICAgdGhpcy5lYXRXaGl0ZXNwYWNlKCk7XG4gICAgICAgIHBhcmVuTGV2ZWwrKztcbiAgICAgICAgdGhpcy5pbmRlbnQoKTtcbiAgICAgICAgdGhpcy5fY2ggPSB0aGlzLl9pbnB1dC5uZXh0KCk7XG4gICAgICAgIGlmICh0aGlzLl9jaCA9PT0gJyknIHx8IHRoaXMuX2NoID09PSAnXCInIHx8IHRoaXMuX2NoID09PSAnXFwnJykge1xuICAgICAgICAgIHRoaXMuX2lucHV0LmJhY2soKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9jaCkge1xuICAgICAgICAgIHRoaXMucHJpbnRfc3RyaW5nKHRoaXMuX2NoICsgdGhpcy5lYXRTdHJpbmcoJyknKSk7XG4gICAgICAgICAgaWYgKHBhcmVuTGV2ZWwpIHtcbiAgICAgICAgICAgIHBhcmVuTGV2ZWwtLTtcbiAgICAgICAgICAgIHRoaXMub3V0ZGVudCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5wcmVzZXJ2ZVNpbmdsZVNwYWNlKGlzQWZ0ZXJTcGFjZSk7XG4gICAgICAgIHRoaXMucHJpbnRfc3RyaW5nKHRoaXMuX2NoKTtcbiAgICAgICAgdGhpcy5lYXRXaGl0ZXNwYWNlKCk7XG4gICAgICAgIHBhcmVuTGV2ZWwrKztcbiAgICAgICAgdGhpcy5pbmRlbnQoKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHRoaXMuX2NoID09PSAnKScpIHtcbiAgICAgIGlmIChwYXJlbkxldmVsKSB7XG4gICAgICAgIHBhcmVuTGV2ZWwtLTtcbiAgICAgICAgdGhpcy5vdXRkZW50KCk7XG4gICAgICB9XG4gICAgICB0aGlzLnByaW50X3N0cmluZyh0aGlzLl9jaCk7XG4gICAgfSBlbHNlIGlmICh0aGlzLl9jaCA9PT0gJywnKSB7XG4gICAgICB0aGlzLnByaW50X3N0cmluZyh0aGlzLl9jaCk7XG4gICAgICB0aGlzLmVhdFdoaXRlc3BhY2UodHJ1ZSk7XG4gICAgICBpZiAodGhpcy5fb3B0aW9ucy5zZWxlY3Rvcl9zZXBhcmF0b3JfbmV3bGluZSAmJiAhaW5zaWRlUHJvcGVydHlWYWx1ZSAmJiBwYXJlbkxldmVsID09PSAwICYmICFpbnNpZGVBdEltcG9ydCkge1xuICAgICAgICB0aGlzLl9vdXRwdXQuYWRkX25ld19saW5lKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9vdXRwdXQuc3BhY2VfYmVmb3JlX3Rva2VuID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCh0aGlzLl9jaCA9PT0gJz4nIHx8IHRoaXMuX2NoID09PSAnKycgfHwgdGhpcy5fY2ggPT09ICd+JykgJiYgIWluc2lkZVByb3BlcnR5VmFsdWUgJiYgcGFyZW5MZXZlbCA9PT0gMCkge1xuICAgICAgLy9oYW5kbGUgY29tYmluYXRvciBzcGFjaW5nXG4gICAgICBpZiAodGhpcy5fb3B0aW9ucy5zcGFjZV9hcm91bmRfY29tYmluYXRvcikge1xuICAgICAgICB0aGlzLl9vdXRwdXQuc3BhY2VfYmVmb3JlX3Rva2VuID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5wcmludF9zdHJpbmcodGhpcy5fY2gpO1xuICAgICAgICB0aGlzLl9vdXRwdXQuc3BhY2VfYmVmb3JlX3Rva2VuID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucHJpbnRfc3RyaW5nKHRoaXMuX2NoKTtcbiAgICAgICAgdGhpcy5lYXRXaGl0ZXNwYWNlKCk7XG4gICAgICAgIC8vIHNxdWFzaCBleHRyYSB3aGl0ZXNwYWNlXG4gICAgICAgIGlmICh0aGlzLl9jaCAmJiB3aGl0ZXNwYWNlQ2hhci50ZXN0KHRoaXMuX2NoKSkge1xuICAgICAgICAgIHRoaXMuX2NoID0gJyc7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHRoaXMuX2NoID09PSAnXScpIHtcbiAgICAgIHRoaXMucHJpbnRfc3RyaW5nKHRoaXMuX2NoKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuX2NoID09PSAnWycpIHtcbiAgICAgIHRoaXMucHJlc2VydmVTaW5nbGVTcGFjZShpc0FmdGVyU3BhY2UpO1xuICAgICAgdGhpcy5wcmludF9zdHJpbmcodGhpcy5fY2gpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5fY2ggPT09ICc9JykgeyAvLyBubyB3aGl0ZXNwYWNlIGJlZm9yZSBvciBhZnRlclxuICAgICAgdGhpcy5lYXRXaGl0ZXNwYWNlKCk7XG4gICAgICB0aGlzLnByaW50X3N0cmluZygnPScpO1xuICAgICAgaWYgKHdoaXRlc3BhY2VDaGFyLnRlc3QodGhpcy5fY2gpKSB7XG4gICAgICAgIHRoaXMuX2NoID0gJyc7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0aGlzLl9jaCA9PT0gJyEnICYmICF0aGlzLl9pbnB1dC5sb29rQmFjayhcIlxcXFxcIikpIHsgLy8gIWltcG9ydGFudFxuICAgICAgdGhpcy5wcmludF9zdHJpbmcoJyAnKTtcbiAgICAgIHRoaXMucHJpbnRfc3RyaW5nKHRoaXMuX2NoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5wcmVzZXJ2ZVNpbmdsZVNwYWNlKGlzQWZ0ZXJTcGFjZSk7XG4gICAgICB0aGlzLnByaW50X3N0cmluZyh0aGlzLl9jaCk7XG4gICAgfVxuICB9XG5cbiAgdmFyIHN3ZWV0Q29kZSA9IHRoaXMuX291dHB1dC5nZXRfY29kZShlb2wpO1xuXG4gIHJldHVybiBzd2VldENvZGU7XG59O1xuXG5tb2R1bGUuZXhwb3J0cy5CZWF1dGlmaWVyID0gQmVhdXRpZmllcjtcbiIsIi8qanNoaW50IG5vZGU6dHJ1ZSAqL1xuLypcblxuICBUaGUgTUlUIExpY2Vuc2UgKE1JVClcblxuICBDb3B5cmlnaHQgKGMpIDIwMDctMjAxOCBFaW5hciBMaWVsbWFuaXMsIExpYW0gTmV3bWFuLCBhbmQgY29udHJpYnV0b3JzLlxuXG4gIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uXG4gIG9idGFpbmluZyBhIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzXG4gICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbixcbiAgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSxcbiAgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSxcbiAgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbyxcbiAgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG5cbiAgVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmVcbiAgaW5jbHVkZWQgaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG5cbiAgVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCxcbiAgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4gIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EXG4gIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlNcbiAgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOXG4gIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOXG4gIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEVcbiAgU09GVFdBUkUuXG4qL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBCZWF1dGlmaWVyID0gcmVxdWlyZSgnLi9iZWF1dGlmaWVyJykuQmVhdXRpZmllcixcbiAgT3B0aW9ucyA9IHJlcXVpcmUoJy4vb3B0aW9ucycpLk9wdGlvbnM7XG5cbmZ1bmN0aW9uIGNzc19iZWF1dGlmeShzb3VyY2VfdGV4dCwgb3B0aW9ucykge1xuICB2YXIgYmVhdXRpZmllciA9IG5ldyBCZWF1dGlmaWVyKHNvdXJjZV90ZXh0LCBvcHRpb25zKTtcbiAgcmV0dXJuIGJlYXV0aWZpZXIuYmVhdXRpZnkoKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjc3NfYmVhdXRpZnk7XG5tb2R1bGUuZXhwb3J0cy5kZWZhdWx0T3B0aW9ucyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IE9wdGlvbnMoKTtcbn07XG4iLCIvKmpzaGludCBub2RlOnRydWUgKi9cbi8qXG5cbiAgVGhlIE1JVCBMaWNlbnNlIChNSVQpXG5cbiAgQ29weXJpZ2h0IChjKSAyMDA3LTIwMTggRWluYXIgTGllbG1hbmlzLCBMaWFtIE5ld21hbiwgYW5kIGNvbnRyaWJ1dG9ycy5cblxuICBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvblxuICBvYnRhaW5pbmcgYSBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlc1xuICAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sXG4gIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsXG4gIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsXG4gIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sXG4gIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuXG4gIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlXG4gIGluY2x1ZGVkIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuXG4gIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsXG4gIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuICBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORFxuICBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTXG4gIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTlxuICBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTlxuICBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFXG4gIFNPRlRXQVJFLlxuKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgQmFzZU9wdGlvbnMgPSByZXF1aXJlKCcuLi9jb3JlL29wdGlvbnMnKS5PcHRpb25zO1xuXG5mdW5jdGlvbiBPcHRpb25zKG9wdGlvbnMpIHtcbiAgQmFzZU9wdGlvbnMuY2FsbCh0aGlzLCBvcHRpb25zLCAnY3NzJyk7XG5cbiAgdGhpcy5zZWxlY3Rvcl9zZXBhcmF0b3JfbmV3bGluZSA9IHRoaXMuX2dldF9ib29sZWFuKCdzZWxlY3Rvcl9zZXBhcmF0b3JfbmV3bGluZScsIHRydWUpO1xuICB0aGlzLm5ld2xpbmVfYmV0d2Vlbl9ydWxlcyA9IHRoaXMuX2dldF9ib29sZWFuKCduZXdsaW5lX2JldHdlZW5fcnVsZXMnLCB0cnVlKTtcbiAgdmFyIHNwYWNlX2Fyb3VuZF9zZWxlY3Rvcl9zZXBhcmF0b3IgPSB0aGlzLl9nZXRfYm9vbGVhbignc3BhY2VfYXJvdW5kX3NlbGVjdG9yX3NlcGFyYXRvcicpO1xuICB0aGlzLnNwYWNlX2Fyb3VuZF9jb21iaW5hdG9yID0gdGhpcy5fZ2V0X2Jvb2xlYW4oJ3NwYWNlX2Fyb3VuZF9jb21iaW5hdG9yJykgfHwgc3BhY2VfYXJvdW5kX3NlbGVjdG9yX3NlcGFyYXRvcjtcblxufVxuT3B0aW9ucy5wcm90b3R5cGUgPSBuZXcgQmFzZU9wdGlvbnMoKTtcblxuXG5cbm1vZHVsZS5leHBvcnRzLk9wdGlvbnMgPSBPcHRpb25zO1xuIiwiLypqc2hpbnQgbm9kZTp0cnVlICovXG4vKlxuXG4gIFRoZSBNSVQgTGljZW5zZSAoTUlUKVxuXG4gIENvcHlyaWdodCAoYykgMjAwNy0yMDE4IEVpbmFyIExpZWxtYW5pcywgTGlhbSBOZXdtYW4sIGFuZCBjb250cmlidXRvcnMuXG5cbiAgUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb25cbiAgb2J0YWluaW5nIGEgY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXNcbiAgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLFxuICBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLFxuICBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLFxuICBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLFxuICBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcblxuICBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZVxuICBpbmNsdWRlZCBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cblxuICBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELFxuICBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0ZcbiAgTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkRcbiAgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSU1xuICBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU5cbiAgQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU5cbiAgQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRVxuICBTT0ZUV0FSRS5cbiovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIE9wdGlvbnMgPSByZXF1aXJlKCcuLi9odG1sL29wdGlvbnMnKS5PcHRpb25zO1xudmFyIE91dHB1dCA9IHJlcXVpcmUoJy4uL2NvcmUvb3V0cHV0JykuT3V0cHV0O1xudmFyIFRva2VuaXplciA9IHJlcXVpcmUoJy4uL2h0bWwvdG9rZW5pemVyJykuVG9rZW5pemVyO1xudmFyIFRPS0VOID0gcmVxdWlyZSgnLi4vaHRtbC90b2tlbml6ZXInKS5UT0tFTjtcblxudmFyIGxpbmVCcmVhayA9IC9cXHJcXG58W1xcclxcbl0vO1xudmFyIGFsbExpbmVCcmVha3MgPSAvXFxyXFxufFtcXHJcXG5dL2c7XG5cbnZhciBQcmludGVyID0gZnVuY3Rpb24ob3B0aW9ucywgYmFzZV9pbmRlbnRfc3RyaW5nKSB7IC8vaGFuZGxlcyBpbnB1dC9vdXRwdXQgYW5kIHNvbWUgb3RoZXIgcHJpbnRpbmcgZnVuY3Rpb25zXG5cbiAgdGhpcy5pbmRlbnRfbGV2ZWwgPSAwO1xuICB0aGlzLmFsaWdubWVudF9zaXplID0gMDtcbiAgdGhpcy5tYXhfcHJlc2VydmVfbmV3bGluZXMgPSBvcHRpb25zLm1heF9wcmVzZXJ2ZV9uZXdsaW5lcztcbiAgdGhpcy5wcmVzZXJ2ZV9uZXdsaW5lcyA9IG9wdGlvbnMucHJlc2VydmVfbmV3bGluZXM7XG5cbiAgdGhpcy5fb3V0cHV0ID0gbmV3IE91dHB1dChvcHRpb25zLCBiYXNlX2luZGVudF9zdHJpbmcpO1xuXG59O1xuXG5QcmludGVyLnByb3RvdHlwZS5jdXJyZW50X2xpbmVfaGFzX21hdGNoID0gZnVuY3Rpb24ocGF0dGVybikge1xuICByZXR1cm4gdGhpcy5fb3V0cHV0LmN1cnJlbnRfbGluZS5oYXNfbWF0Y2gocGF0dGVybik7XG59O1xuXG5QcmludGVyLnByb3RvdHlwZS5zZXRfc3BhY2VfYmVmb3JlX3Rva2VuID0gZnVuY3Rpb24odmFsdWUsIG5vbl9icmVha2luZykge1xuICB0aGlzLl9vdXRwdXQuc3BhY2VfYmVmb3JlX3Rva2VuID0gdmFsdWU7XG4gIHRoaXMuX291dHB1dC5ub25fYnJlYWtpbmdfc3BhY2UgPSBub25fYnJlYWtpbmc7XG59O1xuXG5QcmludGVyLnByb3RvdHlwZS5zZXRfd3JhcF9wb2ludCA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLl9vdXRwdXQuc2V0X2luZGVudCh0aGlzLmluZGVudF9sZXZlbCwgdGhpcy5hbGlnbm1lbnRfc2l6ZSk7XG4gIHRoaXMuX291dHB1dC5zZXRfd3JhcF9wb2ludCgpO1xufTtcblxuXG5QcmludGVyLnByb3RvdHlwZS5hZGRfcmF3X3Rva2VuID0gZnVuY3Rpb24odG9rZW4pIHtcbiAgdGhpcy5fb3V0cHV0LmFkZF9yYXdfdG9rZW4odG9rZW4pO1xufTtcblxuUHJpbnRlci5wcm90b3R5cGUucHJpbnRfcHJlc2VydmVkX25ld2xpbmVzID0gZnVuY3Rpb24ocmF3X3Rva2VuKSB7XG4gIHZhciBuZXdsaW5lcyA9IDA7XG4gIGlmIChyYXdfdG9rZW4udHlwZSAhPT0gVE9LRU4uVEVYVCAmJiByYXdfdG9rZW4ucHJldmlvdXMudHlwZSAhPT0gVE9LRU4uVEVYVCkge1xuICAgIG5ld2xpbmVzID0gcmF3X3Rva2VuLm5ld2xpbmVzID8gMSA6IDA7XG4gIH1cblxuICBpZiAodGhpcy5wcmVzZXJ2ZV9uZXdsaW5lcykge1xuICAgIG5ld2xpbmVzID0gcmF3X3Rva2VuLm5ld2xpbmVzIDwgdGhpcy5tYXhfcHJlc2VydmVfbmV3bGluZXMgKyAxID8gcmF3X3Rva2VuLm5ld2xpbmVzIDogdGhpcy5tYXhfcHJlc2VydmVfbmV3bGluZXMgKyAxO1xuICB9XG4gIGZvciAodmFyIG4gPSAwOyBuIDwgbmV3bGluZXM7IG4rKykge1xuICAgIHRoaXMucHJpbnRfbmV3bGluZShuID4gMCk7XG4gIH1cblxuICByZXR1cm4gbmV3bGluZXMgIT09IDA7XG59O1xuXG5QcmludGVyLnByb3RvdHlwZS50cmF2ZXJzZV93aGl0ZXNwYWNlID0gZnVuY3Rpb24ocmF3X3Rva2VuKSB7XG4gIGlmIChyYXdfdG9rZW4ud2hpdGVzcGFjZV9iZWZvcmUgfHwgcmF3X3Rva2VuLm5ld2xpbmVzKSB7XG4gICAgaWYgKCF0aGlzLnByaW50X3ByZXNlcnZlZF9uZXdsaW5lcyhyYXdfdG9rZW4pKSB7XG4gICAgICB0aGlzLl9vdXRwdXQuc3BhY2VfYmVmb3JlX3Rva2VuID0gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufTtcblxuUHJpbnRlci5wcm90b3R5cGUucHJldmlvdXNfdG9rZW5fd3JhcHBlZCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5fb3V0cHV0LnByZXZpb3VzX3Rva2VuX3dyYXBwZWQ7XG59O1xuXG5QcmludGVyLnByb3RvdHlwZS5wcmludF9uZXdsaW5lID0gZnVuY3Rpb24oZm9yY2UpIHtcbiAgdGhpcy5fb3V0cHV0LmFkZF9uZXdfbGluZShmb3JjZSk7XG59O1xuXG5QcmludGVyLnByb3RvdHlwZS5wcmludF90b2tlbiA9IGZ1bmN0aW9uKHRva2VuKSB7XG4gIGlmICh0b2tlbi50ZXh0KSB7XG4gICAgdGhpcy5fb3V0cHV0LnNldF9pbmRlbnQodGhpcy5pbmRlbnRfbGV2ZWwsIHRoaXMuYWxpZ25tZW50X3NpemUpO1xuICAgIHRoaXMuX291dHB1dC5hZGRfdG9rZW4odG9rZW4udGV4dCk7XG4gIH1cbn07XG5cblByaW50ZXIucHJvdG90eXBlLmluZGVudCA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmluZGVudF9sZXZlbCsrO1xufTtcblxuUHJpbnRlci5wcm90b3R5cGUuZ2V0X2Z1bGxfaW5kZW50ID0gZnVuY3Rpb24obGV2ZWwpIHtcbiAgbGV2ZWwgPSB0aGlzLmluZGVudF9sZXZlbCArIChsZXZlbCB8fCAwKTtcbiAgaWYgKGxldmVsIDwgMSkge1xuICAgIHJldHVybiAnJztcbiAgfVxuXG4gIHJldHVybiB0aGlzLl9vdXRwdXQuZ2V0X2luZGVudF9zdHJpbmcobGV2ZWwpO1xufTtcblxudmFyIGdldF90eXBlX2F0dHJpYnV0ZSA9IGZ1bmN0aW9uKHN0YXJ0X3Rva2VuKSB7XG4gIHZhciByZXN1bHQgPSBudWxsO1xuICB2YXIgcmF3X3Rva2VuID0gc3RhcnRfdG9rZW4ubmV4dDtcblxuICAvLyBTZWFyY2ggYXR0cmlidXRlcyBmb3IgYSB0eXBlIGF0dHJpYnV0ZVxuICB3aGlsZSAocmF3X3Rva2VuLnR5cGUgIT09IFRPS0VOLkVPRiAmJiBzdGFydF90b2tlbi5jbG9zZWQgIT09IHJhd190b2tlbikge1xuICAgIGlmIChyYXdfdG9rZW4udHlwZSA9PT0gVE9LRU4uQVRUUklCVVRFICYmIHJhd190b2tlbi50ZXh0ID09PSAndHlwZScpIHtcbiAgICAgIGlmIChyYXdfdG9rZW4ubmV4dCAmJiByYXdfdG9rZW4ubmV4dC50eXBlID09PSBUT0tFTi5FUVVBTFMgJiZcbiAgICAgICAgcmF3X3Rva2VuLm5leHQubmV4dCAmJiByYXdfdG9rZW4ubmV4dC5uZXh0LnR5cGUgPT09IFRPS0VOLlZBTFVFKSB7XG4gICAgICAgIHJlc3VsdCA9IHJhd190b2tlbi5uZXh0Lm5leHQudGV4dDtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICByYXdfdG9rZW4gPSByYXdfdG9rZW4ubmV4dDtcbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG52YXIgZ2V0X2N1c3RvbV9iZWF1dGlmaWVyX25hbWUgPSBmdW5jdGlvbih0YWdfY2hlY2ssIHJhd190b2tlbikge1xuICB2YXIgdHlwZUF0dHJpYnV0ZSA9IG51bGw7XG4gIHZhciByZXN1bHQgPSBudWxsO1xuXG4gIGlmICghcmF3X3Rva2VuLmNsb3NlZCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgaWYgKHRhZ19jaGVjayA9PT0gJ3NjcmlwdCcpIHtcbiAgICB0eXBlQXR0cmlidXRlID0gJ3RleHQvamF2YXNjcmlwdCc7XG4gIH0gZWxzZSBpZiAodGFnX2NoZWNrID09PSAnc3R5bGUnKSB7XG4gICAgdHlwZUF0dHJpYnV0ZSA9ICd0ZXh0L2Nzcyc7XG4gIH1cblxuICB0eXBlQXR0cmlidXRlID0gZ2V0X3R5cGVfYXR0cmlidXRlKHJhd190b2tlbikgfHwgdHlwZUF0dHJpYnV0ZTtcblxuICAvLyBGb3Igc2NyaXB0IGFuZCBzdHlsZSB0YWdzIHRoYXQgaGF2ZSBhIHR5cGUgYXR0cmlidXRlLCBvbmx5IGVuYWJsZSBjdXN0b20gYmVhdXRpZmllcnMgZm9yIG1hdGNoaW5nIHZhbHVlc1xuICAvLyBGb3IgdGhvc2Ugd2l0aG91dCBhIHR5cGUgYXR0cmlidXRlIHVzZSBkZWZhdWx0O1xuICBpZiAodHlwZUF0dHJpYnV0ZS5zZWFyY2goJ3RleHQvY3NzJykgPiAtMSkge1xuICAgIHJlc3VsdCA9ICdjc3MnO1xuICB9IGVsc2UgaWYgKHR5cGVBdHRyaWJ1dGUuc2VhcmNoKC8odGV4dHxhcHBsaWNhdGlvbnxkb2pvKVxcLyh4LSk/KGphdmFzY3JpcHR8ZWNtYXNjcmlwdHxqc2NyaXB0fGxpdmVzY3JpcHR8KGxkXFwrKT9qc29ufG1ldGhvZHxhc3BlY3QpLykgPiAtMSkge1xuICAgIHJlc3VsdCA9ICdqYXZhc2NyaXB0JztcbiAgfSBlbHNlIGlmICh0eXBlQXR0cmlidXRlLnNlYXJjaCgvKHRleHR8YXBwbGljYXRpb258ZG9qbylcXC8oeC0pPyhodG1sKS8pID4gLTEpIHtcbiAgICByZXN1bHQgPSAnaHRtbCc7XG4gIH0gZWxzZSBpZiAodHlwZUF0dHJpYnV0ZS5zZWFyY2goL3Rlc3RcXC9udWxsLykgPiAtMSkge1xuICAgIC8vIFRlc3Qgb25seSBtaW1lLXR5cGUgZm9yIHRlc3RpbmcgdGhlIGJlYXV0aWZpZXIgd2hlbiBudWxsIGlzIHBhc3NlZCBhcyBiZWF1dGlmaW5nIGZ1bmN0aW9uXG4gICAgcmVzdWx0ID0gJ251bGwnO1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbmZ1bmN0aW9uIGluX2FycmF5KHdoYXQsIGFycikge1xuICByZXR1cm4gYXJyLmluZGV4T2Yod2hhdCkgIT09IC0xO1xufVxuXG5mdW5jdGlvbiBUYWdGcmFtZShwYXJlbnQsIHBhcnNlcl90b2tlbiwgaW5kZW50X2xldmVsKSB7XG4gIHRoaXMucGFyZW50ID0gcGFyZW50IHx8IG51bGw7XG4gIHRoaXMudGFnID0gcGFyc2VyX3Rva2VuID8gcGFyc2VyX3Rva2VuLnRhZ19uYW1lIDogJyc7XG4gIHRoaXMuaW5kZW50X2xldmVsID0gaW5kZW50X2xldmVsIHx8IDA7XG4gIHRoaXMucGFyc2VyX3Rva2VuID0gcGFyc2VyX3Rva2VuIHx8IG51bGw7XG59XG5cbmZ1bmN0aW9uIFRhZ1N0YWNrKHByaW50ZXIpIHtcbiAgdGhpcy5fcHJpbnRlciA9IHByaW50ZXI7XG4gIHRoaXMuX2N1cnJlbnRfZnJhbWUgPSBudWxsO1xufVxuXG5UYWdTdGFjay5wcm90b3R5cGUuZ2V0X3BhcnNlcl90b2tlbiA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5fY3VycmVudF9mcmFtZSA/IHRoaXMuX2N1cnJlbnRfZnJhbWUucGFyc2VyX3Rva2VuIDogbnVsbDtcbn07XG5cblRhZ1N0YWNrLnByb3RvdHlwZS5yZWNvcmRfdGFnID0gZnVuY3Rpb24ocGFyc2VyX3Rva2VuKSB7IC8vZnVuY3Rpb24gdG8gcmVjb3JkIGEgdGFnIGFuZCBpdHMgcGFyZW50IGluIHRoaXMudGFncyBPYmplY3RcbiAgdmFyIG5ld19mcmFtZSA9IG5ldyBUYWdGcmFtZSh0aGlzLl9jdXJyZW50X2ZyYW1lLCBwYXJzZXJfdG9rZW4sIHRoaXMuX3ByaW50ZXIuaW5kZW50X2xldmVsKTtcbiAgdGhpcy5fY3VycmVudF9mcmFtZSA9IG5ld19mcmFtZTtcbn07XG5cblRhZ1N0YWNrLnByb3RvdHlwZS5fdHJ5X3BvcF9mcmFtZSA9IGZ1bmN0aW9uKGZyYW1lKSB7IC8vZnVuY3Rpb24gdG8gcmV0cmlldmUgdGhlIG9wZW5pbmcgdGFnIHRvIHRoZSBjb3JyZXNwb25kaW5nIGNsb3NlclxuICB2YXIgcGFyc2VyX3Rva2VuID0gbnVsbDtcblxuICBpZiAoZnJhbWUpIHtcbiAgICBwYXJzZXJfdG9rZW4gPSBmcmFtZS5wYXJzZXJfdG9rZW47XG4gICAgdGhpcy5fcHJpbnRlci5pbmRlbnRfbGV2ZWwgPSBmcmFtZS5pbmRlbnRfbGV2ZWw7XG4gICAgdGhpcy5fY3VycmVudF9mcmFtZSA9IGZyYW1lLnBhcmVudDtcbiAgfVxuXG4gIHJldHVybiBwYXJzZXJfdG9rZW47XG59O1xuXG5UYWdTdGFjay5wcm90b3R5cGUuX2dldF9mcmFtZSA9IGZ1bmN0aW9uKHRhZ19saXN0LCBzdG9wX2xpc3QpIHsgLy9mdW5jdGlvbiB0byByZXRyaWV2ZSB0aGUgb3BlbmluZyB0YWcgdG8gdGhlIGNvcnJlc3BvbmRpbmcgY2xvc2VyXG4gIHZhciBmcmFtZSA9IHRoaXMuX2N1cnJlbnRfZnJhbWU7XG5cbiAgd2hpbGUgKGZyYW1lKSB7IC8vdGlsbCB3ZSByZWFjaCAnJyAodGhlIGluaXRpYWwgdmFsdWUpO1xuICAgIGlmICh0YWdfbGlzdC5pbmRleE9mKGZyYW1lLnRhZykgIT09IC0xKSB7IC8vaWYgdGhpcyBpcyBpdCB1c2UgaXRcbiAgICAgIGJyZWFrO1xuICAgIH0gZWxzZSBpZiAoc3RvcF9saXN0ICYmIHN0b3BfbGlzdC5pbmRleE9mKGZyYW1lLnRhZykgIT09IC0xKSB7XG4gICAgICBmcmFtZSA9IG51bGw7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgZnJhbWUgPSBmcmFtZS5wYXJlbnQ7XG4gIH1cblxuICByZXR1cm4gZnJhbWU7XG59O1xuXG5UYWdTdGFjay5wcm90b3R5cGUudHJ5X3BvcCA9IGZ1bmN0aW9uKHRhZywgc3RvcF9saXN0KSB7IC8vZnVuY3Rpb24gdG8gcmV0cmlldmUgdGhlIG9wZW5pbmcgdGFnIHRvIHRoZSBjb3JyZXNwb25kaW5nIGNsb3NlclxuICB2YXIgZnJhbWUgPSB0aGlzLl9nZXRfZnJhbWUoW3RhZ10sIHN0b3BfbGlzdCk7XG4gIHJldHVybiB0aGlzLl90cnlfcG9wX2ZyYW1lKGZyYW1lKTtcbn07XG5cblRhZ1N0YWNrLnByb3RvdHlwZS5pbmRlbnRfdG9fdGFnID0gZnVuY3Rpb24odGFnX2xpc3QpIHtcbiAgdmFyIGZyYW1lID0gdGhpcy5fZ2V0X2ZyYW1lKHRhZ19saXN0KTtcbiAgaWYgKGZyYW1lKSB7XG4gICAgdGhpcy5fcHJpbnRlci5pbmRlbnRfbGV2ZWwgPSBmcmFtZS5pbmRlbnRfbGV2ZWw7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIEJlYXV0aWZpZXIoc291cmNlX3RleHQsIG9wdGlvbnMsIGpzX2JlYXV0aWZ5LCBjc3NfYmVhdXRpZnkpIHtcbiAgLy9XcmFwcGVyIGZ1bmN0aW9uIHRvIGludm9rZSBhbGwgdGhlIG5lY2Vzc2FyeSBjb25zdHJ1Y3RvcnMgYW5kIGRlYWwgd2l0aCB0aGUgb3V0cHV0LlxuICB0aGlzLl9zb3VyY2VfdGV4dCA9IHNvdXJjZV90ZXh0IHx8ICcnO1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgdGhpcy5fanNfYmVhdXRpZnkgPSBqc19iZWF1dGlmeTtcbiAgdGhpcy5fY3NzX2JlYXV0aWZ5ID0gY3NzX2JlYXV0aWZ5O1xuICB0aGlzLl90YWdfc3RhY2sgPSBudWxsO1xuXG4gIC8vIEFsbG93IHRoZSBzZXR0aW5nIG9mIGxhbmd1YWdlL2ZpbGUtdHlwZSBzcGVjaWZpYyBvcHRpb25zXG4gIC8vIHdpdGggaW5oZXJpdGFuY2Ugb2Ygb3ZlcmFsbCBzZXR0aW5nc1xuICB2YXIgb3B0aW9uSHRtbCA9IG5ldyBPcHRpb25zKG9wdGlvbnMsICdodG1sJyk7XG5cbiAgdGhpcy5fb3B0aW9ucyA9IG9wdGlvbkh0bWw7XG5cbiAgdGhpcy5faXNfd3JhcF9hdHRyaWJ1dGVzX2ZvcmNlID0gdGhpcy5fb3B0aW9ucy53cmFwX2F0dHJpYnV0ZXMuc3Vic3RyKDAsICdmb3JjZScubGVuZ3RoKSA9PT0gJ2ZvcmNlJztcbiAgdGhpcy5faXNfd3JhcF9hdHRyaWJ1dGVzX2ZvcmNlX2V4cGFuZF9tdWx0aWxpbmUgPSAodGhpcy5fb3B0aW9ucy53cmFwX2F0dHJpYnV0ZXMgPT09ICdmb3JjZS1leHBhbmQtbXVsdGlsaW5lJyk7XG4gIHRoaXMuX2lzX3dyYXBfYXR0cmlidXRlc19mb3JjZV9hbGlnbmVkID0gKHRoaXMuX29wdGlvbnMud3JhcF9hdHRyaWJ1dGVzID09PSAnZm9yY2UtYWxpZ25lZCcpO1xuICB0aGlzLl9pc193cmFwX2F0dHJpYnV0ZXNfYWxpZ25lZF9tdWx0aXBsZSA9ICh0aGlzLl9vcHRpb25zLndyYXBfYXR0cmlidXRlcyA9PT0gJ2FsaWduZWQtbXVsdGlwbGUnKTtcbiAgdGhpcy5faXNfd3JhcF9hdHRyaWJ1dGVzX3ByZXNlcnZlID0gdGhpcy5fb3B0aW9ucy53cmFwX2F0dHJpYnV0ZXMuc3Vic3RyKDAsICdwcmVzZXJ2ZScubGVuZ3RoKSA9PT0gJ3ByZXNlcnZlJztcbiAgdGhpcy5faXNfd3JhcF9hdHRyaWJ1dGVzX3ByZXNlcnZlX2FsaWduZWQgPSAodGhpcy5fb3B0aW9ucy53cmFwX2F0dHJpYnV0ZXMgPT09ICdwcmVzZXJ2ZS1hbGlnbmVkJyk7XG59XG5cbkJlYXV0aWZpZXIucHJvdG90eXBlLmJlYXV0aWZ5ID0gZnVuY3Rpb24oKSB7XG5cbiAgLy8gaWYgZGlzYWJsZWQsIHJldHVybiB0aGUgaW5wdXQgdW5jaGFuZ2VkLlxuICBpZiAodGhpcy5fb3B0aW9ucy5kaXNhYmxlZCkge1xuICAgIHJldHVybiB0aGlzLl9zb3VyY2VfdGV4dDtcbiAgfVxuXG4gIHZhciBzb3VyY2VfdGV4dCA9IHRoaXMuX3NvdXJjZV90ZXh0O1xuICB2YXIgZW9sID0gdGhpcy5fb3B0aW9ucy5lb2w7XG4gIGlmICh0aGlzLl9vcHRpb25zLmVvbCA9PT0gJ2F1dG8nKSB7XG4gICAgZW9sID0gJ1xcbic7XG4gICAgaWYgKHNvdXJjZV90ZXh0ICYmIGxpbmVCcmVhay50ZXN0KHNvdXJjZV90ZXh0KSkge1xuICAgICAgZW9sID0gc291cmNlX3RleHQubWF0Y2gobGluZUJyZWFrKVswXTtcbiAgICB9XG4gIH1cblxuICAvLyBIQUNLOiBuZXdsaW5lIHBhcnNpbmcgaW5jb25zaXN0ZW50LiBUaGlzIGJydXRlIGZvcmNlIG5vcm1hbGl6ZXMgdGhlIGlucHV0LlxuICBzb3VyY2VfdGV4dCA9IHNvdXJjZV90ZXh0LnJlcGxhY2UoYWxsTGluZUJyZWFrcywgJ1xcbicpO1xuXG4gIHZhciBiYXNlSW5kZW50U3RyaW5nID0gc291cmNlX3RleHQubWF0Y2goL15bXFx0IF0qLylbMF07XG5cbiAgdmFyIGxhc3RfdG9rZW4gPSB7XG4gICAgdGV4dDogJycsXG4gICAgdHlwZTogJydcbiAgfTtcblxuICB2YXIgbGFzdF90YWdfdG9rZW4gPSBuZXcgVGFnT3BlblBhcnNlclRva2VuKCk7XG5cbiAgdmFyIHByaW50ZXIgPSBuZXcgUHJpbnRlcih0aGlzLl9vcHRpb25zLCBiYXNlSW5kZW50U3RyaW5nKTtcbiAgdmFyIHRva2VucyA9IG5ldyBUb2tlbml6ZXIoc291cmNlX3RleHQsIHRoaXMuX29wdGlvbnMpLnRva2VuaXplKCk7XG5cbiAgdGhpcy5fdGFnX3N0YWNrID0gbmV3IFRhZ1N0YWNrKHByaW50ZXIpO1xuXG4gIHZhciBwYXJzZXJfdG9rZW4gPSBudWxsO1xuICB2YXIgcmF3X3Rva2VuID0gdG9rZW5zLm5leHQoKTtcbiAgd2hpbGUgKHJhd190b2tlbi50eXBlICE9PSBUT0tFTi5FT0YpIHtcblxuICAgIGlmIChyYXdfdG9rZW4udHlwZSA9PT0gVE9LRU4uVEFHX09QRU4gfHwgcmF3X3Rva2VuLnR5cGUgPT09IFRPS0VOLkNPTU1FTlQpIHtcbiAgICAgIHBhcnNlcl90b2tlbiA9IHRoaXMuX2hhbmRsZV90YWdfb3BlbihwcmludGVyLCByYXdfdG9rZW4sIGxhc3RfdGFnX3Rva2VuLCBsYXN0X3Rva2VuKTtcbiAgICAgIGxhc3RfdGFnX3Rva2VuID0gcGFyc2VyX3Rva2VuO1xuICAgIH0gZWxzZSBpZiAoKHJhd190b2tlbi50eXBlID09PSBUT0tFTi5BVFRSSUJVVEUgfHwgcmF3X3Rva2VuLnR5cGUgPT09IFRPS0VOLkVRVUFMUyB8fCByYXdfdG9rZW4udHlwZSA9PT0gVE9LRU4uVkFMVUUpIHx8XG4gICAgICAocmF3X3Rva2VuLnR5cGUgPT09IFRPS0VOLlRFWFQgJiYgIWxhc3RfdGFnX3Rva2VuLnRhZ19jb21wbGV0ZSkpIHtcbiAgICAgIHBhcnNlcl90b2tlbiA9IHRoaXMuX2hhbmRsZV9pbnNpZGVfdGFnKHByaW50ZXIsIHJhd190b2tlbiwgbGFzdF90YWdfdG9rZW4sIHRva2Vucyk7XG4gICAgfSBlbHNlIGlmIChyYXdfdG9rZW4udHlwZSA9PT0gVE9LRU4uVEFHX0NMT1NFKSB7XG4gICAgICBwYXJzZXJfdG9rZW4gPSB0aGlzLl9oYW5kbGVfdGFnX2Nsb3NlKHByaW50ZXIsIHJhd190b2tlbiwgbGFzdF90YWdfdG9rZW4pO1xuICAgIH0gZWxzZSBpZiAocmF3X3Rva2VuLnR5cGUgPT09IFRPS0VOLlRFWFQpIHtcbiAgICAgIHBhcnNlcl90b2tlbiA9IHRoaXMuX2hhbmRsZV90ZXh0KHByaW50ZXIsIHJhd190b2tlbiwgbGFzdF90YWdfdG9rZW4pO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBUaGlzIHNob3VsZCBuZXZlciBoYXBwZW4sIGJ1dCBpZiBpdCBkb2VzLiBQcmludCB0aGUgcmF3IHRva2VuXG4gICAgICBwcmludGVyLmFkZF9yYXdfdG9rZW4ocmF3X3Rva2VuKTtcbiAgICB9XG5cbiAgICBsYXN0X3Rva2VuID0gcGFyc2VyX3Rva2VuO1xuXG4gICAgcmF3X3Rva2VuID0gdG9rZW5zLm5leHQoKTtcbiAgfVxuICB2YXIgc3dlZXRfY29kZSA9IHByaW50ZXIuX291dHB1dC5nZXRfY29kZShlb2wpO1xuXG4gIHJldHVybiBzd2VldF9jb2RlO1xufTtcblxuQmVhdXRpZmllci5wcm90b3R5cGUuX2hhbmRsZV90YWdfY2xvc2UgPSBmdW5jdGlvbihwcmludGVyLCByYXdfdG9rZW4sIGxhc3RfdGFnX3Rva2VuKSB7XG4gIHZhciBwYXJzZXJfdG9rZW4gPSB7XG4gICAgdGV4dDogcmF3X3Rva2VuLnRleHQsXG4gICAgdHlwZTogcmF3X3Rva2VuLnR5cGVcbiAgfTtcbiAgcHJpbnRlci5hbGlnbm1lbnRfc2l6ZSA9IDA7XG4gIGxhc3RfdGFnX3Rva2VuLnRhZ19jb21wbGV0ZSA9IHRydWU7XG5cbiAgcHJpbnRlci5zZXRfc3BhY2VfYmVmb3JlX3Rva2VuKHJhd190b2tlbi5uZXdsaW5lcyB8fCByYXdfdG9rZW4ud2hpdGVzcGFjZV9iZWZvcmUgIT09ICcnLCB0cnVlKTtcbiAgaWYgKGxhc3RfdGFnX3Rva2VuLmlzX3VuZm9ybWF0dGVkKSB7XG4gICAgcHJpbnRlci5hZGRfcmF3X3Rva2VuKHJhd190b2tlbik7XG4gIH0gZWxzZSB7XG4gICAgaWYgKGxhc3RfdGFnX3Rva2VuLnRhZ19zdGFydF9jaGFyID09PSAnPCcpIHtcbiAgICAgIHByaW50ZXIuc2V0X3NwYWNlX2JlZm9yZV90b2tlbihyYXdfdG9rZW4udGV4dFswXSA9PT0gJy8nLCB0cnVlKTsgLy8gc3BhY2UgYmVmb3JlIC8+LCBubyBzcGFjZSBiZWZvcmUgPlxuICAgICAgaWYgKHRoaXMuX2lzX3dyYXBfYXR0cmlidXRlc19mb3JjZV9leHBhbmRfbXVsdGlsaW5lICYmIGxhc3RfdGFnX3Rva2VuLmhhc193cmFwcGVkX2F0dHJzKSB7XG4gICAgICAgIHByaW50ZXIucHJpbnRfbmV3bGluZShmYWxzZSk7XG4gICAgICB9XG4gICAgfVxuICAgIHByaW50ZXIucHJpbnRfdG9rZW4ocmF3X3Rva2VuKTtcblxuICB9XG5cbiAgaWYgKGxhc3RfdGFnX3Rva2VuLmluZGVudF9jb250ZW50ICYmXG4gICAgIShsYXN0X3RhZ190b2tlbi5pc191bmZvcm1hdHRlZCB8fCBsYXN0X3RhZ190b2tlbi5pc19jb250ZW50X3VuZm9ybWF0dGVkKSkge1xuICAgIHByaW50ZXIuaW5kZW50KCk7XG5cbiAgICAvLyBvbmx5IGluZGVudCBvbmNlIHBlciBvcGVuZWQgdGFnXG4gICAgbGFzdF90YWdfdG9rZW4uaW5kZW50X2NvbnRlbnQgPSBmYWxzZTtcbiAgfVxuXG4gIGlmICghbGFzdF90YWdfdG9rZW4uaXNfaW5saW5lX2VsZW1lbnQgJiZcbiAgICAhKGxhc3RfdGFnX3Rva2VuLmlzX3VuZm9ybWF0dGVkIHx8IGxhc3RfdGFnX3Rva2VuLmlzX2NvbnRlbnRfdW5mb3JtYXR0ZWQpKSB7XG4gICAgcHJpbnRlci5zZXRfd3JhcF9wb2ludCgpO1xuICB9XG5cbiAgcmV0dXJuIHBhcnNlcl90b2tlbjtcbn07XG5cbkJlYXV0aWZpZXIucHJvdG90eXBlLl9oYW5kbGVfaW5zaWRlX3RhZyA9IGZ1bmN0aW9uKHByaW50ZXIsIHJhd190b2tlbiwgbGFzdF90YWdfdG9rZW4sIHRva2Vucykge1xuICB2YXIgd3JhcHBlZCA9IGxhc3RfdGFnX3Rva2VuLmhhc193cmFwcGVkX2F0dHJzO1xuICB2YXIgcGFyc2VyX3Rva2VuID0ge1xuICAgIHRleHQ6IHJhd190b2tlbi50ZXh0LFxuICAgIHR5cGU6IHJhd190b2tlbi50eXBlXG4gIH07XG5cbiAgcHJpbnRlci5zZXRfc3BhY2VfYmVmb3JlX3Rva2VuKHJhd190b2tlbi5uZXdsaW5lcyB8fCByYXdfdG9rZW4ud2hpdGVzcGFjZV9iZWZvcmUgIT09ICcnLCB0cnVlKTtcbiAgaWYgKGxhc3RfdGFnX3Rva2VuLmlzX3VuZm9ybWF0dGVkKSB7XG4gICAgcHJpbnRlci5hZGRfcmF3X3Rva2VuKHJhd190b2tlbik7XG4gIH0gZWxzZSBpZiAobGFzdF90YWdfdG9rZW4udGFnX3N0YXJ0X2NoYXIgPT09ICd7JyAmJiByYXdfdG9rZW4udHlwZSA9PT0gVE9LRU4uVEVYVCkge1xuICAgIC8vIEZvciB0aGUgaW5zaWRlcyBvZiBoYW5kbGViYXJzIGFsbG93IG5ld2xpbmVzIG9yIGEgc2luZ2xlIHNwYWNlIGJldHdlZW4gb3BlbiBhbmQgY29udGVudHNcbiAgICBpZiAocHJpbnRlci5wcmludF9wcmVzZXJ2ZWRfbmV3bGluZXMocmF3X3Rva2VuKSkge1xuICAgICAgcmF3X3Rva2VuLm5ld2xpbmVzID0gMDtcbiAgICAgIHByaW50ZXIuYWRkX3Jhd190b2tlbihyYXdfdG9rZW4pO1xuICAgIH0gZWxzZSB7XG4gICAgICBwcmludGVyLnByaW50X3Rva2VuKHJhd190b2tlbik7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChyYXdfdG9rZW4udHlwZSA9PT0gVE9LRU4uQVRUUklCVVRFKSB7XG4gICAgICBwcmludGVyLnNldF9zcGFjZV9iZWZvcmVfdG9rZW4odHJ1ZSk7XG4gICAgICBsYXN0X3RhZ190b2tlbi5hdHRyX2NvdW50ICs9IDE7XG4gICAgfSBlbHNlIGlmIChyYXdfdG9rZW4udHlwZSA9PT0gVE9LRU4uRVFVQUxTKSB7IC8vbm8gc3BhY2UgYmVmb3JlID1cbiAgICAgIHByaW50ZXIuc2V0X3NwYWNlX2JlZm9yZV90b2tlbihmYWxzZSk7XG4gICAgfSBlbHNlIGlmIChyYXdfdG9rZW4udHlwZSA9PT0gVE9LRU4uVkFMVUUgJiYgcmF3X3Rva2VuLnByZXZpb3VzLnR5cGUgPT09IFRPS0VOLkVRVUFMUykgeyAvL25vIHNwYWNlIGJlZm9yZSB2YWx1ZVxuICAgICAgcHJpbnRlci5zZXRfc3BhY2VfYmVmb3JlX3Rva2VuKGZhbHNlKTtcbiAgICB9XG5cbiAgICBpZiAocmF3X3Rva2VuLnR5cGUgPT09IFRPS0VOLkFUVFJJQlVURSAmJiBsYXN0X3RhZ190b2tlbi50YWdfc3RhcnRfY2hhciA9PT0gJzwnKSB7XG4gICAgICBpZiAodGhpcy5faXNfd3JhcF9hdHRyaWJ1dGVzX3ByZXNlcnZlIHx8IHRoaXMuX2lzX3dyYXBfYXR0cmlidXRlc19wcmVzZXJ2ZV9hbGlnbmVkKSB7XG4gICAgICAgIHByaW50ZXIudHJhdmVyc2Vfd2hpdGVzcGFjZShyYXdfdG9rZW4pO1xuICAgICAgICB3cmFwcGVkID0gd3JhcHBlZCB8fCByYXdfdG9rZW4ubmV3bGluZXMgIT09IDA7XG4gICAgICB9XG5cblxuICAgICAgaWYgKHRoaXMuX2lzX3dyYXBfYXR0cmlidXRlc19mb3JjZSkge1xuICAgICAgICB2YXIgZm9yY2VfYXR0cl93cmFwID0gbGFzdF90YWdfdG9rZW4uYXR0cl9jb3VudCA+IDE7XG4gICAgICAgIGlmICh0aGlzLl9pc193cmFwX2F0dHJpYnV0ZXNfZm9yY2VfZXhwYW5kX211bHRpbGluZSAmJiBsYXN0X3RhZ190b2tlbi5hdHRyX2NvdW50ID09PSAxKSB7XG4gICAgICAgICAgdmFyIGlzX29ubHlfYXR0cmlidXRlID0gdHJ1ZTtcbiAgICAgICAgICB2YXIgcGVla19pbmRleCA9IDA7XG4gICAgICAgICAgdmFyIHBlZWtfdG9rZW47XG4gICAgICAgICAgZG8ge1xuICAgICAgICAgICAgcGVla190b2tlbiA9IHRva2Vucy5wZWVrKHBlZWtfaW5kZXgpO1xuICAgICAgICAgICAgaWYgKHBlZWtfdG9rZW4udHlwZSA9PT0gVE9LRU4uQVRUUklCVVRFKSB7XG4gICAgICAgICAgICAgIGlzX29ubHlfYXR0cmlidXRlID0gZmFsc2U7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGVla19pbmRleCArPSAxO1xuICAgICAgICAgIH0gd2hpbGUgKHBlZWtfaW5kZXggPCA0ICYmIHBlZWtfdG9rZW4udHlwZSAhPT0gVE9LRU4uRU9GICYmIHBlZWtfdG9rZW4udHlwZSAhPT0gVE9LRU4uVEFHX0NMT1NFKTtcblxuICAgICAgICAgIGZvcmNlX2F0dHJfd3JhcCA9ICFpc19vbmx5X2F0dHJpYnV0ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChmb3JjZV9hdHRyX3dyYXApIHtcbiAgICAgICAgICBwcmludGVyLnByaW50X25ld2xpbmUoZmFsc2UpO1xuICAgICAgICAgIHdyYXBwZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHByaW50ZXIucHJpbnRfdG9rZW4ocmF3X3Rva2VuKTtcbiAgICB3cmFwcGVkID0gd3JhcHBlZCB8fCBwcmludGVyLnByZXZpb3VzX3Rva2VuX3dyYXBwZWQoKTtcbiAgICBsYXN0X3RhZ190b2tlbi5oYXNfd3JhcHBlZF9hdHRycyA9IHdyYXBwZWQ7XG4gIH1cbiAgcmV0dXJuIHBhcnNlcl90b2tlbjtcbn07XG5cbkJlYXV0aWZpZXIucHJvdG90eXBlLl9oYW5kbGVfdGV4dCA9IGZ1bmN0aW9uKHByaW50ZXIsIHJhd190b2tlbiwgbGFzdF90YWdfdG9rZW4pIHtcbiAgdmFyIHBhcnNlcl90b2tlbiA9IHtcbiAgICB0ZXh0OiByYXdfdG9rZW4udGV4dCxcbiAgICB0eXBlOiAnVEtfQ09OVEVOVCdcbiAgfTtcbiAgaWYgKGxhc3RfdGFnX3Rva2VuLmN1c3RvbV9iZWF1dGlmaWVyX25hbWUpIHsgLy9jaGVjayBpZiB3ZSBuZWVkIHRvIGZvcm1hdCBqYXZhc2NyaXB0XG4gICAgdGhpcy5fcHJpbnRfY3VzdG9tX2JlYXRpZmllcl90ZXh0KHByaW50ZXIsIHJhd190b2tlbiwgbGFzdF90YWdfdG9rZW4pO1xuICB9IGVsc2UgaWYgKGxhc3RfdGFnX3Rva2VuLmlzX3VuZm9ybWF0dGVkIHx8IGxhc3RfdGFnX3Rva2VuLmlzX2NvbnRlbnRfdW5mb3JtYXR0ZWQpIHtcbiAgICBwcmludGVyLmFkZF9yYXdfdG9rZW4ocmF3X3Rva2VuKTtcbiAgfSBlbHNlIHtcbiAgICBwcmludGVyLnRyYXZlcnNlX3doaXRlc3BhY2UocmF3X3Rva2VuKTtcbiAgICBwcmludGVyLnByaW50X3Rva2VuKHJhd190b2tlbik7XG4gIH1cbiAgcmV0dXJuIHBhcnNlcl90b2tlbjtcbn07XG5cbkJlYXV0aWZpZXIucHJvdG90eXBlLl9wcmludF9jdXN0b21fYmVhdGlmaWVyX3RleHQgPSBmdW5jdGlvbihwcmludGVyLCByYXdfdG9rZW4sIGxhc3RfdGFnX3Rva2VuKSB7XG4gIHZhciBsb2NhbCA9IHRoaXM7XG4gIGlmIChyYXdfdG9rZW4udGV4dCAhPT0gJycpIHtcblxuICAgIHZhciB0ZXh0ID0gcmF3X3Rva2VuLnRleHQsXG4gICAgICBfYmVhdXRpZmllcixcbiAgICAgIHNjcmlwdF9pbmRlbnRfbGV2ZWwgPSAxLFxuICAgICAgcHJlID0gJycsXG4gICAgICBwb3N0ID0gJyc7XG4gICAgaWYgKGxhc3RfdGFnX3Rva2VuLmN1c3RvbV9iZWF1dGlmaWVyX25hbWUgPT09ICdqYXZhc2NyaXB0JyAmJiB0eXBlb2YgdGhpcy5fanNfYmVhdXRpZnkgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIF9iZWF1dGlmaWVyID0gdGhpcy5fanNfYmVhdXRpZnk7XG4gICAgfSBlbHNlIGlmIChsYXN0X3RhZ190b2tlbi5jdXN0b21fYmVhdXRpZmllcl9uYW1lID09PSAnY3NzJyAmJiB0eXBlb2YgdGhpcy5fY3NzX2JlYXV0aWZ5ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBfYmVhdXRpZmllciA9IHRoaXMuX2Nzc19iZWF1dGlmeTtcbiAgICB9IGVsc2UgaWYgKGxhc3RfdGFnX3Rva2VuLmN1c3RvbV9iZWF1dGlmaWVyX25hbWUgPT09ICdodG1sJykge1xuICAgICAgX2JlYXV0aWZpZXIgPSBmdW5jdGlvbihodG1sX3NvdXJjZSwgb3B0aW9ucykge1xuICAgICAgICB2YXIgYmVhdXRpZmllciA9IG5ldyBCZWF1dGlmaWVyKGh0bWxfc291cmNlLCBvcHRpb25zLCBsb2NhbC5fanNfYmVhdXRpZnksIGxvY2FsLl9jc3NfYmVhdXRpZnkpO1xuICAgICAgICByZXR1cm4gYmVhdXRpZmllci5iZWF1dGlmeSgpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fb3B0aW9ucy5pbmRlbnRfc2NyaXB0cyA9PT0gXCJrZWVwXCIpIHtcbiAgICAgIHNjcmlwdF9pbmRlbnRfbGV2ZWwgPSAwO1xuICAgIH0gZWxzZSBpZiAodGhpcy5fb3B0aW9ucy5pbmRlbnRfc2NyaXB0cyA9PT0gXCJzZXBhcmF0ZVwiKSB7XG4gICAgICBzY3JpcHRfaW5kZW50X2xldmVsID0gLXByaW50ZXIuaW5kZW50X2xldmVsO1xuICAgIH1cblxuICAgIHZhciBpbmRlbnRhdGlvbiA9IHByaW50ZXIuZ2V0X2Z1bGxfaW5kZW50KHNjcmlwdF9pbmRlbnRfbGV2ZWwpO1xuXG4gICAgLy8gaWYgdGhlcmUgaXMgYXQgbGVhc3Qgb25lIGVtcHR5IGxpbmUgYXQgdGhlIGVuZCBvZiB0aGlzIHRleHQsIHN0cmlwIGl0XG4gICAgLy8gd2UnbGwgYmUgYWRkaW5nIG9uZSBiYWNrIGFmdGVyIHRoZSB0ZXh0IGJ1dCBiZWZvcmUgdGhlIGNvbnRhaW5pbmcgdGFnLlxuICAgIHRleHQgPSB0ZXh0LnJlcGxhY2UoL1xcblsgXFx0XSokLywgJycpO1xuXG4gICAgLy8gSGFuZGxlIHRoZSBjYXNlIHdoZXJlIGNvbnRlbnQgaXMgd3JhcHBlZCBpbiBhIGNvbW1lbnQgb3IgY2RhdGEuXG4gICAgaWYgKGxhc3RfdGFnX3Rva2VuLmN1c3RvbV9iZWF1dGlmaWVyX25hbWUgIT09ICdodG1sJyAmJlxuICAgICAgdGV4dFswXSA9PT0gJzwnICYmIHRleHQubWF0Y2goL14oPCEtLXw8IVxcW0NEQVRBXFxbKS8pKSB7XG4gICAgICB2YXIgbWF0Y2hlZCA9IC9eKDwhLS1bXlxcbl0qfDwhXFxbQ0RBVEFcXFspKFxcbj8pKFsgXFx0XFxuXSopKFtcXHNcXFNdKikoLS0+fF1dPikkLy5leGVjKHRleHQpO1xuXG4gICAgICAvLyBpZiB3ZSBzdGFydCB0byB3cmFwIGJ1dCBkb24ndCBmaW5pc2gsIHByaW50IHJhd1xuICAgICAgaWYgKCFtYXRjaGVkKSB7XG4gICAgICAgIHByaW50ZXIuYWRkX3Jhd190b2tlbihyYXdfdG9rZW4pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHByZSA9IGluZGVudGF0aW9uICsgbWF0Y2hlZFsxXSArICdcXG4nO1xuICAgICAgdGV4dCA9IG1hdGNoZWRbNF07XG4gICAgICBpZiAobWF0Y2hlZFs1XSkge1xuICAgICAgICBwb3N0ID0gaW5kZW50YXRpb24gKyBtYXRjaGVkWzVdO1xuICAgICAgfVxuXG4gICAgICAvLyBpZiB0aGVyZSBpcyBhdCBsZWFzdCBvbmUgZW1wdHkgbGluZSBhdCB0aGUgZW5kIG9mIHRoaXMgdGV4dCwgc3RyaXAgaXRcbiAgICAgIC8vIHdlJ2xsIGJlIGFkZGluZyBvbmUgYmFjayBhZnRlciB0aGUgdGV4dCBidXQgYmVmb3JlIHRoZSBjb250YWluaW5nIHRhZy5cbiAgICAgIHRleHQgPSB0ZXh0LnJlcGxhY2UoL1xcblsgXFx0XSokLywgJycpO1xuXG4gICAgICBpZiAobWF0Y2hlZFsyXSB8fCBtYXRjaGVkWzNdLmluZGV4T2YoJ1xcbicpICE9PSAtMSkge1xuICAgICAgICAvLyBpZiB0aGUgZmlyc3QgbGluZSBvZiB0aGUgbm9uLWNvbW1lbnQgdGV4dCBoYXMgc3BhY2VzXG4gICAgICAgIC8vIHVzZSB0aGF0IGFzIHRoZSBiYXNpcyBmb3IgaW5kZW50aW5nIGluIG51bGwgY2FzZS5cbiAgICAgICAgbWF0Y2hlZCA9IG1hdGNoZWRbM10ubWF0Y2goL1sgXFx0XSskLyk7XG4gICAgICAgIGlmIChtYXRjaGVkKSB7XG4gICAgICAgICAgcmF3X3Rva2VuLndoaXRlc3BhY2VfYmVmb3JlID0gbWF0Y2hlZFswXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0ZXh0KSB7XG4gICAgICBpZiAoX2JlYXV0aWZpZXIpIHtcblxuICAgICAgICAvLyBjYWxsIHRoZSBCZWF1dGlmaWVyIGlmIGF2YWxpYWJsZVxuICAgICAgICB2YXIgQ2hpbGRfb3B0aW9ucyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHRoaXMuZW9sID0gJ1xcbic7XG4gICAgICAgIH07XG4gICAgICAgIENoaWxkX29wdGlvbnMucHJvdG90eXBlID0gdGhpcy5fb3B0aW9ucy5yYXdfb3B0aW9ucztcbiAgICAgICAgdmFyIGNoaWxkX29wdGlvbnMgPSBuZXcgQ2hpbGRfb3B0aW9ucygpO1xuICAgICAgICB0ZXh0ID0gX2JlYXV0aWZpZXIoaW5kZW50YXRpb24gKyB0ZXh0LCBjaGlsZF9vcHRpb25zKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIHNpbXBseSBpbmRlbnQgdGhlIHN0cmluZyBvdGhlcndpc2VcbiAgICAgICAgdmFyIHdoaXRlID0gcmF3X3Rva2VuLndoaXRlc3BhY2VfYmVmb3JlO1xuICAgICAgICBpZiAod2hpdGUpIHtcbiAgICAgICAgICB0ZXh0ID0gdGV4dC5yZXBsYWNlKG5ldyBSZWdFeHAoJ1xcbignICsgd2hpdGUgKyAnKT8nLCAnZycpLCAnXFxuJyk7XG4gICAgICAgIH1cblxuICAgICAgICB0ZXh0ID0gaW5kZW50YXRpb24gKyB0ZXh0LnJlcGxhY2UoL1xcbi9nLCAnXFxuJyArIGluZGVudGF0aW9uKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAocHJlKSB7XG4gICAgICBpZiAoIXRleHQpIHtcbiAgICAgICAgdGV4dCA9IHByZSArIHBvc3Q7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0ZXh0ID0gcHJlICsgdGV4dCArICdcXG4nICsgcG9zdDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBwcmludGVyLnByaW50X25ld2xpbmUoZmFsc2UpO1xuICAgIGlmICh0ZXh0KSB7XG4gICAgICByYXdfdG9rZW4udGV4dCA9IHRleHQ7XG4gICAgICByYXdfdG9rZW4ud2hpdGVzcGFjZV9iZWZvcmUgPSAnJztcbiAgICAgIHJhd190b2tlbi5uZXdsaW5lcyA9IDA7XG4gICAgICBwcmludGVyLmFkZF9yYXdfdG9rZW4ocmF3X3Rva2VuKTtcbiAgICAgIHByaW50ZXIucHJpbnRfbmV3bGluZSh0cnVlKTtcbiAgICB9XG4gIH1cbn07XG5cbkJlYXV0aWZpZXIucHJvdG90eXBlLl9oYW5kbGVfdGFnX29wZW4gPSBmdW5jdGlvbihwcmludGVyLCByYXdfdG9rZW4sIGxhc3RfdGFnX3Rva2VuLCBsYXN0X3Rva2VuKSB7XG4gIHZhciBwYXJzZXJfdG9rZW4gPSB0aGlzLl9nZXRfdGFnX29wZW5fdG9rZW4ocmF3X3Rva2VuKTtcblxuICBpZiAoKGxhc3RfdGFnX3Rva2VuLmlzX3VuZm9ybWF0dGVkIHx8IGxhc3RfdGFnX3Rva2VuLmlzX2NvbnRlbnRfdW5mb3JtYXR0ZWQpICYmXG4gICAgcmF3X3Rva2VuLnR5cGUgPT09IFRPS0VOLlRBR19PUEVOICYmIHJhd190b2tlbi50ZXh0LmluZGV4T2YoJzwvJykgPT09IDApIHtcbiAgICAvLyBFbmQgZWxlbWVudCB0YWdzIGZvciB1bmZvcm1hdHRlZCBvciBjb250ZW50X3VuZm9ybWF0dGVkIGVsZW1lbnRzXG4gICAgLy8gYXJlIHByaW50ZWQgcmF3IHRvIGtlZXAgYW55IG5ld2xpbmVzIGluc2lkZSB0aGVtIGV4YWN0bHkgdGhlIHNhbWUuXG4gICAgcHJpbnRlci5hZGRfcmF3X3Rva2VuKHJhd190b2tlbik7XG4gIH0gZWxzZSB7XG4gICAgcHJpbnRlci50cmF2ZXJzZV93aGl0ZXNwYWNlKHJhd190b2tlbik7XG4gICAgdGhpcy5fc2V0X3RhZ19wb3NpdGlvbihwcmludGVyLCByYXdfdG9rZW4sIHBhcnNlcl90b2tlbiwgbGFzdF90YWdfdG9rZW4sIGxhc3RfdG9rZW4pO1xuICAgIGlmICghcGFyc2VyX3Rva2VuLmlzX2lubGluZV9lbGVtZW50KSB7XG4gICAgICBwcmludGVyLnNldF93cmFwX3BvaW50KCk7XG4gICAgfVxuICAgIHByaW50ZXIucHJpbnRfdG9rZW4ocmF3X3Rva2VuKTtcbiAgfVxuXG4gIC8vaW5kZW50IGF0dHJpYnV0ZXMgYW4gYXV0bywgZm9yY2VkLCBhbGlnbmVkIG9yIGZvcmNlZC1hbGlnbiBsaW5lLXdyYXBcbiAgaWYgKHRoaXMuX2lzX3dyYXBfYXR0cmlidXRlc19mb3JjZV9hbGlnbmVkIHx8IHRoaXMuX2lzX3dyYXBfYXR0cmlidXRlc19hbGlnbmVkX211bHRpcGxlIHx8IHRoaXMuX2lzX3dyYXBfYXR0cmlidXRlc19wcmVzZXJ2ZV9hbGlnbmVkKSB7XG4gICAgcGFyc2VyX3Rva2VuLmFsaWdubWVudF9zaXplID0gcmF3X3Rva2VuLnRleHQubGVuZ3RoICsgMTtcbiAgfVxuXG4gIGlmICghcGFyc2VyX3Rva2VuLnRhZ19jb21wbGV0ZSAmJiAhcGFyc2VyX3Rva2VuLmlzX3VuZm9ybWF0dGVkKSB7XG4gICAgcHJpbnRlci5hbGlnbm1lbnRfc2l6ZSA9IHBhcnNlcl90b2tlbi5hbGlnbm1lbnRfc2l6ZTtcbiAgfVxuXG4gIHJldHVybiBwYXJzZXJfdG9rZW47XG59O1xuXG52YXIgVGFnT3BlblBhcnNlclRva2VuID0gZnVuY3Rpb24ocGFyZW50LCByYXdfdG9rZW4pIHtcbiAgdGhpcy5wYXJlbnQgPSBwYXJlbnQgfHwgbnVsbDtcbiAgdGhpcy50ZXh0ID0gJyc7XG4gIHRoaXMudHlwZSA9ICdUS19UQUdfT1BFTic7XG4gIHRoaXMudGFnX25hbWUgPSAnJztcbiAgdGhpcy5pc19pbmxpbmVfZWxlbWVudCA9IGZhbHNlO1xuICB0aGlzLmlzX3VuZm9ybWF0dGVkID0gZmFsc2U7XG4gIHRoaXMuaXNfY29udGVudF91bmZvcm1hdHRlZCA9IGZhbHNlO1xuICB0aGlzLmlzX2VtcHR5X2VsZW1lbnQgPSBmYWxzZTtcbiAgdGhpcy5pc19zdGFydF90YWcgPSBmYWxzZTtcbiAgdGhpcy5pc19lbmRfdGFnID0gZmFsc2U7XG4gIHRoaXMuaW5kZW50X2NvbnRlbnQgPSBmYWxzZTtcbiAgdGhpcy5tdWx0aWxpbmVfY29udGVudCA9IGZhbHNlO1xuICB0aGlzLmN1c3RvbV9iZWF1dGlmaWVyX25hbWUgPSBudWxsO1xuICB0aGlzLnN0YXJ0X3RhZ190b2tlbiA9IG51bGw7XG4gIHRoaXMuYXR0cl9jb3VudCA9IDA7XG4gIHRoaXMuaGFzX3dyYXBwZWRfYXR0cnMgPSBmYWxzZTtcbiAgdGhpcy5hbGlnbm1lbnRfc2l6ZSA9IDA7XG4gIHRoaXMudGFnX2NvbXBsZXRlID0gZmFsc2U7XG4gIHRoaXMudGFnX3N0YXJ0X2NoYXIgPSAnJztcbiAgdGhpcy50YWdfY2hlY2sgPSAnJztcblxuICBpZiAoIXJhd190b2tlbikge1xuICAgIHRoaXMudGFnX2NvbXBsZXRlID0gdHJ1ZTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgdGFnX2NoZWNrX21hdGNoO1xuXG4gICAgdGhpcy50YWdfc3RhcnRfY2hhciA9IHJhd190b2tlbi50ZXh0WzBdO1xuICAgIHRoaXMudGV4dCA9IHJhd190b2tlbi50ZXh0O1xuXG4gICAgaWYgKHRoaXMudGFnX3N0YXJ0X2NoYXIgPT09ICc8Jykge1xuICAgICAgdGFnX2NoZWNrX21hdGNoID0gcmF3X3Rva2VuLnRleHQubWF0Y2goL148KFteXFxzPl0qKS8pO1xuICAgICAgdGhpcy50YWdfY2hlY2sgPSB0YWdfY2hlY2tfbWF0Y2ggPyB0YWdfY2hlY2tfbWF0Y2hbMV0gOiAnJztcbiAgICB9IGVsc2Uge1xuICAgICAgdGFnX2NoZWNrX21hdGNoID0gcmF3X3Rva2VuLnRleHQubWF0Y2goL157e1sjXFxeXT8oW15cXHN9XSspLyk7XG4gICAgICB0aGlzLnRhZ19jaGVjayA9IHRhZ19jaGVja19tYXRjaCA/IHRhZ19jaGVja19tYXRjaFsxXSA6ICcnO1xuICAgIH1cbiAgICB0aGlzLnRhZ19jaGVjayA9IHRoaXMudGFnX2NoZWNrLnRvTG93ZXJDYXNlKCk7XG5cbiAgICBpZiAocmF3X3Rva2VuLnR5cGUgPT09IFRPS0VOLkNPTU1FTlQpIHtcbiAgICAgIHRoaXMudGFnX2NvbXBsZXRlID0gdHJ1ZTtcbiAgICB9XG5cbiAgICB0aGlzLmlzX3N0YXJ0X3RhZyA9IHRoaXMudGFnX2NoZWNrLmNoYXJBdCgwKSAhPT0gJy8nO1xuICAgIHRoaXMudGFnX25hbWUgPSAhdGhpcy5pc19zdGFydF90YWcgPyB0aGlzLnRhZ19jaGVjay5zdWJzdHIoMSkgOiB0aGlzLnRhZ19jaGVjaztcbiAgICB0aGlzLmlzX2VuZF90YWcgPSAhdGhpcy5pc19zdGFydF90YWcgfHxcbiAgICAgIChyYXdfdG9rZW4uY2xvc2VkICYmIHJhd190b2tlbi5jbG9zZWQudGV4dCA9PT0gJy8+Jyk7XG5cbiAgICAvLyBoYW5kbGViYXJzIHRhZ3MgdGhhdCBkb24ndCBzdGFydCB3aXRoICMgb3IgXiBhcmUgc2luZ2xlX3RhZ3MsIGFuZCBzbyBhbHNvIHN0YXJ0IGFuZCBlbmQuXG4gICAgdGhpcy5pc19lbmRfdGFnID0gdGhpcy5pc19lbmRfdGFnIHx8XG4gICAgICAodGhpcy50YWdfc3RhcnRfY2hhciA9PT0gJ3snICYmICh0aGlzLnRleHQubGVuZ3RoIDwgMyB8fCAoL1teI1xcXl0vLnRlc3QodGhpcy50ZXh0LmNoYXJBdCgyKSkpKSk7XG4gIH1cbn07XG5cbkJlYXV0aWZpZXIucHJvdG90eXBlLl9nZXRfdGFnX29wZW5fdG9rZW4gPSBmdW5jdGlvbihyYXdfdG9rZW4pIHsgLy9mdW5jdGlvbiB0byBnZXQgYSBmdWxsIHRhZyBhbmQgcGFyc2UgaXRzIHR5cGVcbiAgdmFyIHBhcnNlcl90b2tlbiA9IG5ldyBUYWdPcGVuUGFyc2VyVG9rZW4odGhpcy5fdGFnX3N0YWNrLmdldF9wYXJzZXJfdG9rZW4oKSwgcmF3X3Rva2VuKTtcblxuICBwYXJzZXJfdG9rZW4uYWxpZ25tZW50X3NpemUgPSB0aGlzLl9vcHRpb25zLndyYXBfYXR0cmlidXRlc19pbmRlbnRfc2l6ZTtcblxuICBwYXJzZXJfdG9rZW4uaXNfZW5kX3RhZyA9IHBhcnNlcl90b2tlbi5pc19lbmRfdGFnIHx8XG4gICAgaW5fYXJyYXkocGFyc2VyX3Rva2VuLnRhZ19jaGVjaywgdGhpcy5fb3B0aW9ucy52b2lkX2VsZW1lbnRzKTtcblxuICBwYXJzZXJfdG9rZW4uaXNfZW1wdHlfZWxlbWVudCA9IHBhcnNlcl90b2tlbi50YWdfY29tcGxldGUgfHxcbiAgICAocGFyc2VyX3Rva2VuLmlzX3N0YXJ0X3RhZyAmJiBwYXJzZXJfdG9rZW4uaXNfZW5kX3RhZyk7XG5cbiAgcGFyc2VyX3Rva2VuLmlzX3VuZm9ybWF0dGVkID0gIXBhcnNlcl90b2tlbi50YWdfY29tcGxldGUgJiYgaW5fYXJyYXkocGFyc2VyX3Rva2VuLnRhZ19jaGVjaywgdGhpcy5fb3B0aW9ucy51bmZvcm1hdHRlZCk7XG4gIHBhcnNlcl90b2tlbi5pc19jb250ZW50X3VuZm9ybWF0dGVkID0gIXBhcnNlcl90b2tlbi5pc19lbXB0eV9lbGVtZW50ICYmIGluX2FycmF5KHBhcnNlcl90b2tlbi50YWdfY2hlY2ssIHRoaXMuX29wdGlvbnMuY29udGVudF91bmZvcm1hdHRlZCk7XG4gIHBhcnNlcl90b2tlbi5pc19pbmxpbmVfZWxlbWVudCA9IGluX2FycmF5KHBhcnNlcl90b2tlbi50YWdfbmFtZSwgdGhpcy5fb3B0aW9ucy5pbmxpbmUpIHx8IHBhcnNlcl90b2tlbi50YWdfc3RhcnRfY2hhciA9PT0gJ3snO1xuXG4gIHJldHVybiBwYXJzZXJfdG9rZW47XG59O1xuXG5CZWF1dGlmaWVyLnByb3RvdHlwZS5fc2V0X3RhZ19wb3NpdGlvbiA9IGZ1bmN0aW9uKHByaW50ZXIsIHJhd190b2tlbiwgcGFyc2VyX3Rva2VuLCBsYXN0X3RhZ190b2tlbiwgbGFzdF90b2tlbikge1xuXG4gIGlmICghcGFyc2VyX3Rva2VuLmlzX2VtcHR5X2VsZW1lbnQpIHtcbiAgICBpZiAocGFyc2VyX3Rva2VuLmlzX2VuZF90YWcpIHsgLy90aGlzIHRhZyBpcyBhIGRvdWJsZSB0YWcgc28gY2hlY2sgZm9yIHRhZy1lbmRpbmdcbiAgICAgIHBhcnNlcl90b2tlbi5zdGFydF90YWdfdG9rZW4gPSB0aGlzLl90YWdfc3RhY2sudHJ5X3BvcChwYXJzZXJfdG9rZW4udGFnX25hbWUpOyAvL3JlbW92ZSBpdCBhbmQgYWxsIGFuY2VzdG9yc1xuICAgIH0gZWxzZSB7IC8vIGl0J3MgYSBzdGFydC10YWdcbiAgICAgIC8vIGNoZWNrIGlmIHRoaXMgdGFnIGlzIHN0YXJ0aW5nIGFuIGVsZW1lbnQgdGhhdCBoYXMgb3B0aW9uYWwgZW5kIGVsZW1lbnRcbiAgICAgIC8vIGFuZCBkbyBhbiBlbmRpbmcgbmVlZGVkXG4gICAgICBpZiAodGhpcy5fZG9fb3B0aW9uYWxfZW5kX2VsZW1lbnQocGFyc2VyX3Rva2VuKSkge1xuICAgICAgICBpZiAoIXBhcnNlcl90b2tlbi5pc19pbmxpbmVfZWxlbWVudCkge1xuICAgICAgICAgIGlmIChwYXJzZXJfdG9rZW4ucGFyZW50KSB7XG4gICAgICAgICAgICBwYXJzZXJfdG9rZW4ucGFyZW50Lm11bHRpbGluZV9jb250ZW50ID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcHJpbnRlci5wcmludF9uZXdsaW5lKGZhbHNlKTtcbiAgICAgICAgfVxuXG4gICAgICB9XG5cbiAgICAgIHRoaXMuX3RhZ19zdGFjay5yZWNvcmRfdGFnKHBhcnNlcl90b2tlbik7IC8vcHVzaCBpdCBvbiB0aGUgdGFnIHN0YWNrXG5cbiAgICAgIGlmICgocGFyc2VyX3Rva2VuLnRhZ19uYW1lID09PSAnc2NyaXB0JyB8fCBwYXJzZXJfdG9rZW4udGFnX25hbWUgPT09ICdzdHlsZScpICYmXG4gICAgICAgICEocGFyc2VyX3Rva2VuLmlzX3VuZm9ybWF0dGVkIHx8IHBhcnNlcl90b2tlbi5pc19jb250ZW50X3VuZm9ybWF0dGVkKSkge1xuICAgICAgICBwYXJzZXJfdG9rZW4uY3VzdG9tX2JlYXV0aWZpZXJfbmFtZSA9IGdldF9jdXN0b21fYmVhdXRpZmllcl9uYW1lKHBhcnNlcl90b2tlbi50YWdfY2hlY2ssIHJhd190b2tlbik7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaWYgKGluX2FycmF5KHBhcnNlcl90b2tlbi50YWdfY2hlY2ssIHRoaXMuX29wdGlvbnMuZXh0cmFfbGluZXJzKSkgeyAvL2NoZWNrIGlmIHRoaXMgZG91YmxlIG5lZWRzIGFuIGV4dHJhIGxpbmVcbiAgICBwcmludGVyLnByaW50X25ld2xpbmUoZmFsc2UpO1xuICAgIGlmICghcHJpbnRlci5fb3V0cHV0Lmp1c3RfYWRkZWRfYmxhbmtsaW5lKCkpIHtcbiAgICAgIHByaW50ZXIucHJpbnRfbmV3bGluZSh0cnVlKTtcbiAgICB9XG4gIH1cblxuICBpZiAocGFyc2VyX3Rva2VuLmlzX2VtcHR5X2VsZW1lbnQpIHsgLy9pZiB0aGlzIHRhZyBuYW1lIGlzIGEgc2luZ2xlIHRhZyB0eXBlIChlaXRoZXIgaW4gdGhlIGxpc3Qgb3IgaGFzIGEgY2xvc2luZyAvKVxuXG4gICAgLy8gaWYgeW91IGhpdCBhbiBlbHNlIGNhc2UsIHJlc2V0IHRoZSBpbmRlbnQgbGV2ZWwgaWYgeW91IGFyZSBpbnNpZGUgYW46XG4gICAgLy8gJ2lmJywgJ3VubGVzcycsIG9yICdlYWNoJyBibG9jay5cbiAgICBpZiAocGFyc2VyX3Rva2VuLnRhZ19zdGFydF9jaGFyID09PSAneycgJiYgcGFyc2VyX3Rva2VuLnRhZ19jaGVjayA9PT0gJ2Vsc2UnKSB7XG4gICAgICB0aGlzLl90YWdfc3RhY2suaW5kZW50X3RvX3RhZyhbJ2lmJywgJ3VubGVzcycsICdlYWNoJ10pO1xuICAgICAgcGFyc2VyX3Rva2VuLmluZGVudF9jb250ZW50ID0gdHJ1ZTtcbiAgICAgIC8vIERvbid0IGFkZCBhIG5ld2xpbmUgaWYgb3BlbmluZyB7eyNpZn19IHRhZyBpcyBvbiB0aGUgY3VycmVudCBsaW5lXG4gICAgICB2YXIgZm91bmRJZk9uQ3VycmVudExpbmUgPSBwcmludGVyLmN1cnJlbnRfbGluZV9oYXNfbWF0Y2goL3t7I2lmLyk7XG4gICAgICBpZiAoIWZvdW5kSWZPbkN1cnJlbnRMaW5lKSB7XG4gICAgICAgIHByaW50ZXIucHJpbnRfbmV3bGluZShmYWxzZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gRG9uJ3QgYWRkIGEgbmV3bGluZSBiZWZvcmUgZWxlbWVudHMgdGhhdCBzaG91bGQgcmVtYWluIHdoZXJlIHRoZXkgYXJlLlxuICAgIGlmIChwYXJzZXJfdG9rZW4udGFnX25hbWUgPT09ICchLS0nICYmIGxhc3RfdG9rZW4udHlwZSA9PT0gVE9LRU4uVEFHX0NMT1NFICYmXG4gICAgICBsYXN0X3RhZ190b2tlbi5pc19lbmRfdGFnICYmIHBhcnNlcl90b2tlbi50ZXh0LmluZGV4T2YoJ1xcbicpID09PSAtMSkge1xuICAgICAgLy9EbyBub3RoaW5nLiBMZWF2ZSBjb21tZW50cyBvbiBzYW1lIGxpbmUuXG4gICAgfSBlbHNlIGlmICghcGFyc2VyX3Rva2VuLmlzX2lubGluZV9lbGVtZW50ICYmICFwYXJzZXJfdG9rZW4uaXNfdW5mb3JtYXR0ZWQpIHtcbiAgICAgIHByaW50ZXIucHJpbnRfbmV3bGluZShmYWxzZSk7XG4gICAgfVxuICB9IGVsc2UgaWYgKHBhcnNlcl90b2tlbi5pc191bmZvcm1hdHRlZCB8fCBwYXJzZXJfdG9rZW4uaXNfY29udGVudF91bmZvcm1hdHRlZCkge1xuICAgIGlmICghcGFyc2VyX3Rva2VuLmlzX2lubGluZV9lbGVtZW50ICYmICFwYXJzZXJfdG9rZW4uaXNfdW5mb3JtYXR0ZWQpIHtcbiAgICAgIHByaW50ZXIucHJpbnRfbmV3bGluZShmYWxzZSk7XG4gICAgfVxuICB9IGVsc2UgaWYgKHBhcnNlcl90b2tlbi5pc19lbmRfdGFnKSB7IC8vdGhpcyB0YWcgaXMgYSBkb3VibGUgdGFnIHNvIGNoZWNrIGZvciB0YWctZW5kaW5nXG4gICAgaWYgKChwYXJzZXJfdG9rZW4uc3RhcnRfdGFnX3Rva2VuICYmIHBhcnNlcl90b2tlbi5zdGFydF90YWdfdG9rZW4ubXVsdGlsaW5lX2NvbnRlbnQpIHx8XG4gICAgICAhKHBhcnNlcl90b2tlbi5pc19pbmxpbmVfZWxlbWVudCB8fFxuICAgICAgICAobGFzdF90YWdfdG9rZW4uaXNfaW5saW5lX2VsZW1lbnQpIHx8XG4gICAgICAgIChsYXN0X3Rva2VuLnR5cGUgPT09IFRPS0VOLlRBR19DTE9TRSAmJlxuICAgICAgICAgIHBhcnNlcl90b2tlbi5zdGFydF90YWdfdG9rZW4gPT09IGxhc3RfdGFnX3Rva2VuKSB8fFxuICAgICAgICAobGFzdF90b2tlbi50eXBlID09PSAnVEtfQ09OVEVOVCcpXG4gICAgICApKSB7XG4gICAgICBwcmludGVyLnByaW50X25ld2xpbmUoZmFsc2UpO1xuICAgIH1cbiAgfSBlbHNlIHsgLy8gaXQncyBhIHN0YXJ0LXRhZ1xuICAgIHBhcnNlcl90b2tlbi5pbmRlbnRfY29udGVudCA9ICFwYXJzZXJfdG9rZW4uY3VzdG9tX2JlYXV0aWZpZXJfbmFtZTtcblxuICAgIGlmIChwYXJzZXJfdG9rZW4udGFnX3N0YXJ0X2NoYXIgPT09ICc8Jykge1xuICAgICAgaWYgKHBhcnNlcl90b2tlbi50YWdfbmFtZSA9PT0gJ2h0bWwnKSB7XG4gICAgICAgIHBhcnNlcl90b2tlbi5pbmRlbnRfY29udGVudCA9IHRoaXMuX29wdGlvbnMuaW5kZW50X2lubmVyX2h0bWw7XG4gICAgICB9IGVsc2UgaWYgKHBhcnNlcl90b2tlbi50YWdfbmFtZSA9PT0gJ2hlYWQnKSB7XG4gICAgICAgIHBhcnNlcl90b2tlbi5pbmRlbnRfY29udGVudCA9IHRoaXMuX29wdGlvbnMuaW5kZW50X2hlYWRfaW5uZXJfaHRtbDtcbiAgICAgIH0gZWxzZSBpZiAocGFyc2VyX3Rva2VuLnRhZ19uYW1lID09PSAnYm9keScpIHtcbiAgICAgICAgcGFyc2VyX3Rva2VuLmluZGVudF9jb250ZW50ID0gdGhpcy5fb3B0aW9ucy5pbmRlbnRfYm9keV9pbm5lcl9odG1sO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICghcGFyc2VyX3Rva2VuLmlzX2lubGluZV9lbGVtZW50ICYmIGxhc3RfdG9rZW4udHlwZSAhPT0gJ1RLX0NPTlRFTlQnKSB7XG4gICAgICBpZiAocGFyc2VyX3Rva2VuLnBhcmVudCkge1xuICAgICAgICBwYXJzZXJfdG9rZW4ucGFyZW50Lm11bHRpbGluZV9jb250ZW50ID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHByaW50ZXIucHJpbnRfbmV3bGluZShmYWxzZSk7XG4gICAgfVxuICB9XG59O1xuXG4vL1RvIGJlIHVzZWQgZm9yIDxwPiB0YWcgc3BlY2lhbCBjYXNlOlxuLy92YXIgcF9jbG9zZXJzID0gWydhZGRyZXNzJywgJ2FydGljbGUnLCAnYXNpZGUnLCAnYmxvY2txdW90ZScsICdkZXRhaWxzJywgJ2RpdicsICdkbCcsICdmaWVsZHNldCcsICdmaWdjYXB0aW9uJywgJ2ZpZ3VyZScsICdmb290ZXInLCAnZm9ybScsICdoMScsICdoMicsICdoMycsICdoNCcsICdoNScsICdoNicsICdoZWFkZXInLCAnaHInLCAnbWFpbicsICduYXYnLCAnb2wnLCAncCcsICdwcmUnLCAnc2VjdGlvbicsICd0YWJsZScsICd1bCddO1xuXG5CZWF1dGlmaWVyLnByb3RvdHlwZS5fZG9fb3B0aW9uYWxfZW5kX2VsZW1lbnQgPSBmdW5jdGlvbihwYXJzZXJfdG9rZW4pIHtcbiAgdmFyIHJlc3VsdCA9IG51bGw7XG4gIC8vIE5PVEU6IGNhc2VzIG9mIFwiaWYgdGhlcmUgaXMgbm8gbW9yZSBjb250ZW50IGluIHRoZSBwYXJlbnQgZWxlbWVudFwiXG4gIC8vIGFyZSBoYW5kbGVkIGF1dG9tYXRpY2FsbHkgYnkgdGhlIGJlYXV0aWZpZXIuXG4gIC8vIEl0IGFzc3VtZXMgcGFyZW50IG9yIGFuY2VzdG9yIGNsb3NlIHRhZyBjbG9zZXMgYWxsIGNoaWxkcmVuLlxuICAvLyBodHRwczovL3d3dy53My5vcmcvVFIvaHRtbDUvc3ludGF4Lmh0bWwjb3B0aW9uYWwtdGFnc1xuICBpZiAocGFyc2VyX3Rva2VuLmlzX2VtcHR5X2VsZW1lbnQgfHwgIXBhcnNlcl90b2tlbi5pc19zdGFydF90YWcgfHwgIXBhcnNlcl90b2tlbi5wYXJlbnQpIHtcbiAgICByZXR1cm47XG5cbiAgfSBlbHNlIGlmIChwYXJzZXJfdG9rZW4udGFnX25hbWUgPT09ICdib2R5Jykge1xuICAgIC8vIEEgaGVhZCBlbGVtZW504oCZcyBlbmQgdGFnIG1heSBiZSBvbWl0dGVkIGlmIHRoZSBoZWFkIGVsZW1lbnQgaXMgbm90IGltbWVkaWF0ZWx5IGZvbGxvd2VkIGJ5IGEgc3BhY2UgY2hhcmFjdGVyIG9yIGEgY29tbWVudC5cbiAgICByZXN1bHQgPSByZXN1bHQgfHwgdGhpcy5fdGFnX3N0YWNrLnRyeV9wb3AoJ2hlYWQnKTtcblxuICAgIC8vfSBlbHNlIGlmIChwYXJzZXJfdG9rZW4udGFnX25hbWUgPT09ICdib2R5Jykge1xuICAgIC8vIERPTkU6IEEgYm9keSBlbGVtZW504oCZcyBlbmQgdGFnIG1heSBiZSBvbWl0dGVkIGlmIHRoZSBib2R5IGVsZW1lbnQgaXMgbm90IGltbWVkaWF0ZWx5IGZvbGxvd2VkIGJ5IGEgY29tbWVudC5cblxuICB9IGVsc2UgaWYgKHBhcnNlcl90b2tlbi50YWdfbmFtZSA9PT0gJ2xpJykge1xuICAgIC8vIEFuIGxpIGVsZW1lbnTigJlzIGVuZCB0YWcgbWF5IGJlIG9taXR0ZWQgaWYgdGhlIGxpIGVsZW1lbnQgaXMgaW1tZWRpYXRlbHkgZm9sbG93ZWQgYnkgYW5vdGhlciBsaSBlbGVtZW50IG9yIGlmIHRoZXJlIGlzIG5vIG1vcmUgY29udGVudCBpbiB0aGUgcGFyZW50IGVsZW1lbnQuXG4gICAgcmVzdWx0ID0gcmVzdWx0IHx8IHRoaXMuX3RhZ19zdGFjay50cnlfcG9wKCdsaScsIFsnb2wnLCAndWwnXSk7XG5cbiAgfSBlbHNlIGlmIChwYXJzZXJfdG9rZW4udGFnX25hbWUgPT09ICdkZCcgfHwgcGFyc2VyX3Rva2VuLnRhZ19uYW1lID09PSAnZHQnKSB7XG4gICAgLy8gQSBkZCBlbGVtZW504oCZcyBlbmQgdGFnIG1heSBiZSBvbWl0dGVkIGlmIHRoZSBkZCBlbGVtZW50IGlzIGltbWVkaWF0ZWx5IGZvbGxvd2VkIGJ5IGFub3RoZXIgZGQgZWxlbWVudCBvciBhIGR0IGVsZW1lbnQsIG9yIGlmIHRoZXJlIGlzIG5vIG1vcmUgY29udGVudCBpbiB0aGUgcGFyZW50IGVsZW1lbnQuXG4gICAgLy8gQSBkdCBlbGVtZW504oCZcyBlbmQgdGFnIG1heSBiZSBvbWl0dGVkIGlmIHRoZSBkdCBlbGVtZW50IGlzIGltbWVkaWF0ZWx5IGZvbGxvd2VkIGJ5IGFub3RoZXIgZHQgZWxlbWVudCBvciBhIGRkIGVsZW1lbnQuXG4gICAgcmVzdWx0ID0gcmVzdWx0IHx8IHRoaXMuX3RhZ19zdGFjay50cnlfcG9wKCdkdCcsIFsnZGwnXSk7XG4gICAgcmVzdWx0ID0gcmVzdWx0IHx8IHRoaXMuX3RhZ19zdGFjay50cnlfcG9wKCdkZCcsIFsnZGwnXSk7XG5cbiAgICAvL30gZWxzZSBpZiAocF9jbG9zZXJzLmluZGV4T2YocGFyc2VyX3Rva2VuLnRhZ19uYW1lKSAhPT0gLTEpIHtcbiAgICAvL1RPRE86IFRISVMgSVMgQSBCVUcgRkFSTS4gV2UgYXJlIG5vdCBwdXR0aW5nIHRoaXMgaW50byAxLjguMCBhcyBpdCBpcyBsaWtlbHkgdG8gYmxvdyB1cC5cbiAgICAvL0EgcCBlbGVtZW504oCZcyBlbmQgdGFnIG1heSBiZSBvbWl0dGVkIGlmIHRoZSBwIGVsZW1lbnQgaXMgaW1tZWRpYXRlbHkgZm9sbG93ZWQgYnkgYW4gYWRkcmVzcywgYXJ0aWNsZSwgYXNpZGUsIGJsb2NrcXVvdGUsIGRldGFpbHMsIGRpdiwgZGwsIGZpZWxkc2V0LCBmaWdjYXB0aW9uLCBmaWd1cmUsIGZvb3RlciwgZm9ybSwgaDEsIGgyLCBoMywgaDQsIGg1LCBoNiwgaGVhZGVyLCBociwgbWFpbiwgbmF2LCBvbCwgcCwgcHJlLCBzZWN0aW9uLCB0YWJsZSwgb3IgdWwgZWxlbWVudCwgb3IgaWYgdGhlcmUgaXMgbm8gbW9yZSBjb250ZW50IGluIHRoZSBwYXJlbnQgZWxlbWVudCBhbmQgdGhlIHBhcmVudCBlbGVtZW50IGlzIGFuIEhUTUwgZWxlbWVudCB0aGF0IGlzIG5vdCBhbiBhLCBhdWRpbywgZGVsLCBpbnMsIG1hcCwgbm9zY3JpcHQsIG9yIHZpZGVvIGVsZW1lbnQsIG9yIGFuIGF1dG9ub21vdXMgY3VzdG9tIGVsZW1lbnQuXG4gICAgLy9yZXN1bHQgPSByZXN1bHQgfHwgdGhpcy5fdGFnX3N0YWNrLnRyeV9wb3AoJ3AnLCBbJ2JvZHknXSk7XG5cbiAgfSBlbHNlIGlmIChwYXJzZXJfdG9rZW4udGFnX25hbWUgPT09ICdycCcgfHwgcGFyc2VyX3Rva2VuLnRhZ19uYW1lID09PSAncnQnKSB7XG4gICAgLy8gQW4gcnQgZWxlbWVudOKAmXMgZW5kIHRhZyBtYXkgYmUgb21pdHRlZCBpZiB0aGUgcnQgZWxlbWVudCBpcyBpbW1lZGlhdGVseSBmb2xsb3dlZCBieSBhbiBydCBvciBycCBlbGVtZW50LCBvciBpZiB0aGVyZSBpcyBubyBtb3JlIGNvbnRlbnQgaW4gdGhlIHBhcmVudCBlbGVtZW50LlxuICAgIC8vIEFuIHJwIGVsZW1lbnTigJlzIGVuZCB0YWcgbWF5IGJlIG9taXR0ZWQgaWYgdGhlIHJwIGVsZW1lbnQgaXMgaW1tZWRpYXRlbHkgZm9sbG93ZWQgYnkgYW4gcnQgb3IgcnAgZWxlbWVudCwgb3IgaWYgdGhlcmUgaXMgbm8gbW9yZSBjb250ZW50IGluIHRoZSBwYXJlbnQgZWxlbWVudC5cbiAgICByZXN1bHQgPSByZXN1bHQgfHwgdGhpcy5fdGFnX3N0YWNrLnRyeV9wb3AoJ3J0JywgWydydWJ5JywgJ3J0YyddKTtcbiAgICByZXN1bHQgPSByZXN1bHQgfHwgdGhpcy5fdGFnX3N0YWNrLnRyeV9wb3AoJ3JwJywgWydydWJ5JywgJ3J0YyddKTtcblxuICB9IGVsc2UgaWYgKHBhcnNlcl90b2tlbi50YWdfbmFtZSA9PT0gJ29wdGdyb3VwJykge1xuICAgIC8vIEFuIG9wdGdyb3VwIGVsZW1lbnTigJlzIGVuZCB0YWcgbWF5IGJlIG9taXR0ZWQgaWYgdGhlIG9wdGdyb3VwIGVsZW1lbnQgaXMgaW1tZWRpYXRlbHkgZm9sbG93ZWQgYnkgYW5vdGhlciBvcHRncm91cCBlbGVtZW50LCBvciBpZiB0aGVyZSBpcyBubyBtb3JlIGNvbnRlbnQgaW4gdGhlIHBhcmVudCBlbGVtZW50LlxuICAgIC8vIEFuIG9wdGlvbiBlbGVtZW504oCZcyBlbmQgdGFnIG1heSBiZSBvbWl0dGVkIGlmIHRoZSBvcHRpb24gZWxlbWVudCBpcyBpbW1lZGlhdGVseSBmb2xsb3dlZCBieSBhbm90aGVyIG9wdGlvbiBlbGVtZW50LCBvciBpZiBpdCBpcyBpbW1lZGlhdGVseSBmb2xsb3dlZCBieSBhbiBvcHRncm91cCBlbGVtZW50LCBvciBpZiB0aGVyZSBpcyBubyBtb3JlIGNvbnRlbnQgaW4gdGhlIHBhcmVudCBlbGVtZW50LlxuICAgIHJlc3VsdCA9IHJlc3VsdCB8fCB0aGlzLl90YWdfc3RhY2sudHJ5X3BvcCgnb3B0Z3JvdXAnLCBbJ3NlbGVjdCddKTtcbiAgICAvL3Jlc3VsdCA9IHJlc3VsdCB8fCB0aGlzLl90YWdfc3RhY2sudHJ5X3BvcCgnb3B0aW9uJywgWydzZWxlY3QnXSk7XG5cbiAgfSBlbHNlIGlmIChwYXJzZXJfdG9rZW4udGFnX25hbWUgPT09ICdvcHRpb24nKSB7XG4gICAgLy8gQW4gb3B0aW9uIGVsZW1lbnTigJlzIGVuZCB0YWcgbWF5IGJlIG9taXR0ZWQgaWYgdGhlIG9wdGlvbiBlbGVtZW50IGlzIGltbWVkaWF0ZWx5IGZvbGxvd2VkIGJ5IGFub3RoZXIgb3B0aW9uIGVsZW1lbnQsIG9yIGlmIGl0IGlzIGltbWVkaWF0ZWx5IGZvbGxvd2VkIGJ5IGFuIG9wdGdyb3VwIGVsZW1lbnQsIG9yIGlmIHRoZXJlIGlzIG5vIG1vcmUgY29udGVudCBpbiB0aGUgcGFyZW50IGVsZW1lbnQuXG4gICAgcmVzdWx0ID0gcmVzdWx0IHx8IHRoaXMuX3RhZ19zdGFjay50cnlfcG9wKCdvcHRpb24nLCBbJ3NlbGVjdCcsICdkYXRhbGlzdCcsICdvcHRncm91cCddKTtcblxuICB9IGVsc2UgaWYgKHBhcnNlcl90b2tlbi50YWdfbmFtZSA9PT0gJ2NvbGdyb3VwJykge1xuICAgIC8vIERPTkU6IEEgY29sZ3JvdXAgZWxlbWVudOKAmXMgZW5kIHRhZyBtYXkgYmUgb21pdHRlZCBpZiB0aGUgY29sZ3JvdXAgZWxlbWVudCBpcyBub3QgaW1tZWRpYXRlbHkgZm9sbG93ZWQgYnkgYSBzcGFjZSBjaGFyYWN0ZXIgb3IgYSBjb21tZW50LlxuICAgIC8vIEEgY2FwdGlvbiBlbGVtZW50J3MgZW5kIHRhZyBtYXkgYmUgb21taXR0ZWQgaWYgYSBjb2xncm91cCwgdGhlYWQsIHRmb290LCB0Ym9keSwgb3IgdHIgZWxlbWVudCBpcyBzdGFydGVkLlxuICAgIHJlc3VsdCA9IHJlc3VsdCB8fCB0aGlzLl90YWdfc3RhY2sudHJ5X3BvcCgnY2FwdGlvbicsIFsndGFibGUnXSk7XG5cbiAgfSBlbHNlIGlmIChwYXJzZXJfdG9rZW4udGFnX25hbWUgPT09ICd0aGVhZCcpIHtcbiAgICAvLyBBIGNvbGdyb3VwIGVsZW1lbnQncyBlbmQgdGFnIG1heSBiZSBvbW1pdHRlZCBpZiBhIHRoZWFkLCB0Zm9vdCwgdGJvZHksIG9yIHRyIGVsZW1lbnQgaXMgc3RhcnRlZC5cbiAgICAvLyBBIGNhcHRpb24gZWxlbWVudCdzIGVuZCB0YWcgbWF5IGJlIG9tbWl0dGVkIGlmIGEgY29sZ3JvdXAsIHRoZWFkLCB0Zm9vdCwgdGJvZHksIG9yIHRyIGVsZW1lbnQgaXMgc3RhcnRlZC5cbiAgICByZXN1bHQgPSByZXN1bHQgfHwgdGhpcy5fdGFnX3N0YWNrLnRyeV9wb3AoJ2NhcHRpb24nLCBbJ3RhYmxlJ10pO1xuICAgIHJlc3VsdCA9IHJlc3VsdCB8fCB0aGlzLl90YWdfc3RhY2sudHJ5X3BvcCgnY29sZ3JvdXAnLCBbJ3RhYmxlJ10pO1xuXG4gICAgLy99IGVsc2UgaWYgKHBhcnNlcl90b2tlbi50YWdfbmFtZSA9PT0gJ2NhcHRpb24nKSB7XG4gICAgLy8gRE9ORTogQSBjYXB0aW9uIGVsZW1lbnTigJlzIGVuZCB0YWcgbWF5IGJlIG9taXR0ZWQgaWYgdGhlIGNhcHRpb24gZWxlbWVudCBpcyBub3QgaW1tZWRpYXRlbHkgZm9sbG93ZWQgYnkgYSBzcGFjZSBjaGFyYWN0ZXIgb3IgYSBjb21tZW50LlxuXG4gIH0gZWxzZSBpZiAocGFyc2VyX3Rva2VuLnRhZ19uYW1lID09PSAndGJvZHknIHx8IHBhcnNlcl90b2tlbi50YWdfbmFtZSA9PT0gJ3Rmb290Jykge1xuICAgIC8vIEEgdGhlYWQgZWxlbWVudOKAmXMgZW5kIHRhZyBtYXkgYmUgb21pdHRlZCBpZiB0aGUgdGhlYWQgZWxlbWVudCBpcyBpbW1lZGlhdGVseSBmb2xsb3dlZCBieSBhIHRib2R5IG9yIHRmb290IGVsZW1lbnQuXG4gICAgLy8gQSB0Ym9keSBlbGVtZW504oCZcyBlbmQgdGFnIG1heSBiZSBvbWl0dGVkIGlmIHRoZSB0Ym9keSBlbGVtZW50IGlzIGltbWVkaWF0ZWx5IGZvbGxvd2VkIGJ5IGEgdGJvZHkgb3IgdGZvb3QgZWxlbWVudCwgb3IgaWYgdGhlcmUgaXMgbm8gbW9yZSBjb250ZW50IGluIHRoZSBwYXJlbnQgZWxlbWVudC5cbiAgICAvLyBBIGNvbGdyb3VwIGVsZW1lbnQncyBlbmQgdGFnIG1heSBiZSBvbW1pdHRlZCBpZiBhIHRoZWFkLCB0Zm9vdCwgdGJvZHksIG9yIHRyIGVsZW1lbnQgaXMgc3RhcnRlZC5cbiAgICAvLyBBIGNhcHRpb24gZWxlbWVudCdzIGVuZCB0YWcgbWF5IGJlIG9tbWl0dGVkIGlmIGEgY29sZ3JvdXAsIHRoZWFkLCB0Zm9vdCwgdGJvZHksIG9yIHRyIGVsZW1lbnQgaXMgc3RhcnRlZC5cbiAgICByZXN1bHQgPSByZXN1bHQgfHwgdGhpcy5fdGFnX3N0YWNrLnRyeV9wb3AoJ2NhcHRpb24nLCBbJ3RhYmxlJ10pO1xuICAgIHJlc3VsdCA9IHJlc3VsdCB8fCB0aGlzLl90YWdfc3RhY2sudHJ5X3BvcCgnY29sZ3JvdXAnLCBbJ3RhYmxlJ10pO1xuICAgIHJlc3VsdCA9IHJlc3VsdCB8fCB0aGlzLl90YWdfc3RhY2sudHJ5X3BvcCgndGhlYWQnLCBbJ3RhYmxlJ10pO1xuICAgIHJlc3VsdCA9IHJlc3VsdCB8fCB0aGlzLl90YWdfc3RhY2sudHJ5X3BvcCgndGJvZHknLCBbJ3RhYmxlJ10pO1xuXG4gICAgLy99IGVsc2UgaWYgKHBhcnNlcl90b2tlbi50YWdfbmFtZSA9PT0gJ3Rmb290Jykge1xuICAgIC8vIERPTkU6IEEgdGZvb3QgZWxlbWVudOKAmXMgZW5kIHRhZyBtYXkgYmUgb21pdHRlZCBpZiB0aGVyZSBpcyBubyBtb3JlIGNvbnRlbnQgaW4gdGhlIHBhcmVudCBlbGVtZW50LlxuXG4gIH0gZWxzZSBpZiAocGFyc2VyX3Rva2VuLnRhZ19uYW1lID09PSAndHInKSB7XG4gICAgLy8gQSB0ciBlbGVtZW504oCZcyBlbmQgdGFnIG1heSBiZSBvbWl0dGVkIGlmIHRoZSB0ciBlbGVtZW50IGlzIGltbWVkaWF0ZWx5IGZvbGxvd2VkIGJ5IGFub3RoZXIgdHIgZWxlbWVudCwgb3IgaWYgdGhlcmUgaXMgbm8gbW9yZSBjb250ZW50IGluIHRoZSBwYXJlbnQgZWxlbWVudC5cbiAgICAvLyBBIGNvbGdyb3VwIGVsZW1lbnQncyBlbmQgdGFnIG1heSBiZSBvbW1pdHRlZCBpZiBhIHRoZWFkLCB0Zm9vdCwgdGJvZHksIG9yIHRyIGVsZW1lbnQgaXMgc3RhcnRlZC5cbiAgICAvLyBBIGNhcHRpb24gZWxlbWVudCdzIGVuZCB0YWcgbWF5IGJlIG9tbWl0dGVkIGlmIGEgY29sZ3JvdXAsIHRoZWFkLCB0Zm9vdCwgdGJvZHksIG9yIHRyIGVsZW1lbnQgaXMgc3RhcnRlZC5cbiAgICByZXN1bHQgPSByZXN1bHQgfHwgdGhpcy5fdGFnX3N0YWNrLnRyeV9wb3AoJ2NhcHRpb24nLCBbJ3RhYmxlJ10pO1xuICAgIHJlc3VsdCA9IHJlc3VsdCB8fCB0aGlzLl90YWdfc3RhY2sudHJ5X3BvcCgnY29sZ3JvdXAnLCBbJ3RhYmxlJ10pO1xuICAgIHJlc3VsdCA9IHJlc3VsdCB8fCB0aGlzLl90YWdfc3RhY2sudHJ5X3BvcCgndHInLCBbJ3RhYmxlJywgJ3RoZWFkJywgJ3Rib2R5JywgJ3Rmb290J10pO1xuXG4gIH0gZWxzZSBpZiAocGFyc2VyX3Rva2VuLnRhZ19uYW1lID09PSAndGgnIHx8IHBhcnNlcl90b2tlbi50YWdfbmFtZSA9PT0gJ3RkJykge1xuICAgIC8vIEEgdGQgZWxlbWVudOKAmXMgZW5kIHRhZyBtYXkgYmUgb21pdHRlZCBpZiB0aGUgdGQgZWxlbWVudCBpcyBpbW1lZGlhdGVseSBmb2xsb3dlZCBieSBhIHRkIG9yIHRoIGVsZW1lbnQsIG9yIGlmIHRoZXJlIGlzIG5vIG1vcmUgY29udGVudCBpbiB0aGUgcGFyZW50IGVsZW1lbnQuXG4gICAgLy8gQSB0aCBlbGVtZW504oCZcyBlbmQgdGFnIG1heSBiZSBvbWl0dGVkIGlmIHRoZSB0aCBlbGVtZW50IGlzIGltbWVkaWF0ZWx5IGZvbGxvd2VkIGJ5IGEgdGQgb3IgdGggZWxlbWVudCwgb3IgaWYgdGhlcmUgaXMgbm8gbW9yZSBjb250ZW50IGluIHRoZSBwYXJlbnQgZWxlbWVudC5cbiAgICByZXN1bHQgPSByZXN1bHQgfHwgdGhpcy5fdGFnX3N0YWNrLnRyeV9wb3AoJ3RkJywgWyd0YWJsZScsICd0aGVhZCcsICd0Ym9keScsICd0Zm9vdCcsICd0ciddKTtcbiAgICByZXN1bHQgPSByZXN1bHQgfHwgdGhpcy5fdGFnX3N0YWNrLnRyeV9wb3AoJ3RoJywgWyd0YWJsZScsICd0aGVhZCcsICd0Ym9keScsICd0Zm9vdCcsICd0ciddKTtcbiAgfVxuXG4gIC8vIFN0YXJ0IGVsZW1lbnQgb21pc3Npb24gbm90IGhhbmRsZWQgY3VycmVudGx5XG4gIC8vIEEgaGVhZCBlbGVtZW504oCZcyBzdGFydCB0YWcgbWF5IGJlIG9taXR0ZWQgaWYgdGhlIGVsZW1lbnQgaXMgZW1wdHksIG9yIGlmIHRoZSBmaXJzdCB0aGluZyBpbnNpZGUgdGhlIGhlYWQgZWxlbWVudCBpcyBhbiBlbGVtZW50LlxuICAvLyBBIHRib2R5IGVsZW1lbnTigJlzIHN0YXJ0IHRhZyBtYXkgYmUgb21pdHRlZCBpZiB0aGUgZmlyc3QgdGhpbmcgaW5zaWRlIHRoZSB0Ym9keSBlbGVtZW50IGlzIGEgdHIgZWxlbWVudCwgYW5kIGlmIHRoZSBlbGVtZW50IGlzIG5vdCBpbW1lZGlhdGVseSBwcmVjZWRlZCBieSBhIHRib2R5LCB0aGVhZCwgb3IgdGZvb3QgZWxlbWVudCB3aG9zZSBlbmQgdGFnIGhhcyBiZWVuIG9taXR0ZWQuIChJdCBjYW7igJl0IGJlIG9taXR0ZWQgaWYgdGhlIGVsZW1lbnQgaXMgZW1wdHkuKVxuICAvLyBBIGNvbGdyb3VwIGVsZW1lbnTigJlzIHN0YXJ0IHRhZyBtYXkgYmUgb21pdHRlZCBpZiB0aGUgZmlyc3QgdGhpbmcgaW5zaWRlIHRoZSBjb2xncm91cCBlbGVtZW50IGlzIGEgY29sIGVsZW1lbnQsIGFuZCBpZiB0aGUgZWxlbWVudCBpcyBub3QgaW1tZWRpYXRlbHkgcHJlY2VkZWQgYnkgYW5vdGhlciBjb2xncm91cCBlbGVtZW50IHdob3NlIGVuZCB0YWcgaGFzIGJlZW4gb21pdHRlZC4gKEl0IGNhbuKAmXQgYmUgb21pdHRlZCBpZiB0aGUgZWxlbWVudCBpcyBlbXB0eS4pXG5cbiAgLy8gRml4IHVwIHRoZSBwYXJlbnQgb2YgdGhlIHBhcnNlciB0b2tlblxuICBwYXJzZXJfdG9rZW4ucGFyZW50ID0gdGhpcy5fdGFnX3N0YWNrLmdldF9wYXJzZXJfdG9rZW4oKTtcblxuICByZXR1cm4gcmVzdWx0O1xufTtcblxubW9kdWxlLmV4cG9ydHMuQmVhdXRpZmllciA9IEJlYXV0aWZpZXI7XG4iLCIvKmpzaGludCBub2RlOnRydWUgKi9cbi8qXG5cbiAgVGhlIE1JVCBMaWNlbnNlIChNSVQpXG5cbiAgQ29weXJpZ2h0IChjKSAyMDA3LTIwMTggRWluYXIgTGllbG1hbmlzLCBMaWFtIE5ld21hbiwgYW5kIGNvbnRyaWJ1dG9ycy5cblxuICBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvblxuICBvYnRhaW5pbmcgYSBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlc1xuICAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sXG4gIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsXG4gIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsXG4gIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sXG4gIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuXG4gIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlXG4gIGluY2x1ZGVkIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuXG4gIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsXG4gIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuICBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORFxuICBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTXG4gIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTlxuICBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTlxuICBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFXG4gIFNPRlRXQVJFLlxuKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgQmVhdXRpZmllciA9IHJlcXVpcmUoJy4vYmVhdXRpZmllcicpLkJlYXV0aWZpZXIsXG4gIE9wdGlvbnMgPSByZXF1aXJlKCcuL29wdGlvbnMnKS5PcHRpb25zO1xuXG5mdW5jdGlvbiBzdHlsZV9odG1sKGh0bWxfc291cmNlLCBvcHRpb25zLCBqc19iZWF1dGlmeSwgY3NzX2JlYXV0aWZ5KSB7XG4gIHZhciBiZWF1dGlmaWVyID0gbmV3IEJlYXV0aWZpZXIoaHRtbF9zb3VyY2UsIG9wdGlvbnMsIGpzX2JlYXV0aWZ5LCBjc3NfYmVhdXRpZnkpO1xuICByZXR1cm4gYmVhdXRpZmllci5iZWF1dGlmeSgpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHN0eWxlX2h0bWw7XG5tb2R1bGUuZXhwb3J0cy5kZWZhdWx0T3B0aW9ucyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IE9wdGlvbnMoKTtcbn07XG4iLCIvKmpzaGludCBub2RlOnRydWUgKi9cbi8qXG5cbiAgVGhlIE1JVCBMaWNlbnNlIChNSVQpXG5cbiAgQ29weXJpZ2h0IChjKSAyMDA3LTIwMTggRWluYXIgTGllbG1hbmlzLCBMaWFtIE5ld21hbiwgYW5kIGNvbnRyaWJ1dG9ycy5cblxuICBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvblxuICBvYnRhaW5pbmcgYSBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlc1xuICAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sXG4gIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsXG4gIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsXG4gIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sXG4gIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuXG4gIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlXG4gIGluY2x1ZGVkIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuXG4gIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsXG4gIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuICBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORFxuICBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTXG4gIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTlxuICBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTlxuICBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFXG4gIFNPRlRXQVJFLlxuKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgQmFzZU9wdGlvbnMgPSByZXF1aXJlKCcuLi9jb3JlL29wdGlvbnMnKS5PcHRpb25zO1xuXG5mdW5jdGlvbiBPcHRpb25zKG9wdGlvbnMpIHtcbiAgQmFzZU9wdGlvbnMuY2FsbCh0aGlzLCBvcHRpb25zLCAnaHRtbCcpO1xuICBpZiAodGhpcy50ZW1wbGF0aW5nLmxlbmd0aCA9PT0gMSAmJiB0aGlzLnRlbXBsYXRpbmdbMF0gPT09ICdhdXRvJykge1xuICAgIHRoaXMudGVtcGxhdGluZyA9IFsnZGphbmdvJywgJ2VyYicsICdoYW5kbGViYXJzJywgJ3BocCddO1xuICB9XG5cbiAgdGhpcy5pbmRlbnRfaW5uZXJfaHRtbCA9IHRoaXMuX2dldF9ib29sZWFuKCdpbmRlbnRfaW5uZXJfaHRtbCcpO1xuICB0aGlzLmluZGVudF9ib2R5X2lubmVyX2h0bWwgPSB0aGlzLl9nZXRfYm9vbGVhbignaW5kZW50X2JvZHlfaW5uZXJfaHRtbCcsIHRydWUpO1xuICB0aGlzLmluZGVudF9oZWFkX2lubmVyX2h0bWwgPSB0aGlzLl9nZXRfYm9vbGVhbignaW5kZW50X2hlYWRfaW5uZXJfaHRtbCcsIHRydWUpO1xuXG4gIHRoaXMuaW5kZW50X2hhbmRsZWJhcnMgPSB0aGlzLl9nZXRfYm9vbGVhbignaW5kZW50X2hhbmRsZWJhcnMnLCB0cnVlKTtcbiAgdGhpcy53cmFwX2F0dHJpYnV0ZXMgPSB0aGlzLl9nZXRfc2VsZWN0aW9uKCd3cmFwX2F0dHJpYnV0ZXMnLFxuICAgIFsnYXV0bycsICdmb3JjZScsICdmb3JjZS1hbGlnbmVkJywgJ2ZvcmNlLWV4cGFuZC1tdWx0aWxpbmUnLCAnYWxpZ25lZC1tdWx0aXBsZScsICdwcmVzZXJ2ZScsICdwcmVzZXJ2ZS1hbGlnbmVkJ10pO1xuICB0aGlzLndyYXBfYXR0cmlidXRlc19pbmRlbnRfc2l6ZSA9IHRoaXMuX2dldF9udW1iZXIoJ3dyYXBfYXR0cmlidXRlc19pbmRlbnRfc2l6ZScsIHRoaXMuaW5kZW50X3NpemUpO1xuICB0aGlzLmV4dHJhX2xpbmVycyA9IHRoaXMuX2dldF9hcnJheSgnZXh0cmFfbGluZXJzJywgWydoZWFkJywgJ2JvZHknLCAnL2h0bWwnXSk7XG5cbiAgLy8gQmxvY2sgdnMgaW5saW5lIGVsZW1lbnRzXG4gIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0hUTUwvQmxvY2stbGV2ZWxfZWxlbWVudHNcbiAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSFRNTC9JbmxpbmVfZWxlbWVudHNcbiAgLy8gaHR0cHM6Ly93d3cudzMub3JnL1RSL2h0bWw1L2RvbS5odG1sI3BocmFzaW5nLWNvbnRlbnRcbiAgdGhpcy5pbmxpbmUgPSB0aGlzLl9nZXRfYXJyYXkoJ2lubGluZScsIFtcbiAgICAnYScsICdhYmJyJywgJ2FyZWEnLCAnYXVkaW8nLCAnYicsICdiZGknLCAnYmRvJywgJ2JyJywgJ2J1dHRvbicsICdjYW52YXMnLCAnY2l0ZScsXG4gICAgJ2NvZGUnLCAnZGF0YScsICdkYXRhbGlzdCcsICdkZWwnLCAnZGZuJywgJ2VtJywgJ2VtYmVkJywgJ2knLCAnaWZyYW1lJywgJ2ltZycsXG4gICAgJ2lucHV0JywgJ2lucycsICdrYmQnLCAna2V5Z2VuJywgJ2xhYmVsJywgJ21hcCcsICdtYXJrJywgJ21hdGgnLCAnbWV0ZXInLCAnbm9zY3JpcHQnLFxuICAgICdvYmplY3QnLCAnb3V0cHV0JywgJ3Byb2dyZXNzJywgJ3EnLCAncnVieScsICdzJywgJ3NhbXAnLCAvKiAnc2NyaXB0JywgKi8gJ3NlbGVjdCcsICdzbWFsbCcsXG4gICAgJ3NwYW4nLCAnc3Ryb25nJywgJ3N1YicsICdzdXAnLCAnc3ZnJywgJ3RlbXBsYXRlJywgJ3RleHRhcmVhJywgJ3RpbWUnLCAndScsICd2YXInLFxuICAgICd2aWRlbycsICd3YnInLCAndGV4dCcsXG4gICAgLy8gb2Jzb2xldGUgaW5saW5lIHRhZ3NcbiAgICAnYWNyb255bScsICdiaWcnLCAnc3RyaWtlJywgJ3R0J1xuICBdKTtcbiAgdGhpcy52b2lkX2VsZW1lbnRzID0gdGhpcy5fZ2V0X2FycmF5KCd2b2lkX2VsZW1lbnRzJywgW1xuICAgIC8vIEhUTE0gdm9pZCBlbGVtZW50cyAtIGFrYSBzZWxmLWNsb3NpbmcgdGFncyAtIGFrYSBzaW5nbGV0b25zXG4gICAgLy8gaHR0cHM6Ly93d3cudzMub3JnL2h0bWwvd2cvZHJhZnRzL2h0bWwvbWFzdGVyL3N5bnRheC5odG1sI3ZvaWQtZWxlbWVudHNcbiAgICAnYXJlYScsICdiYXNlJywgJ2JyJywgJ2NvbCcsICdlbWJlZCcsICdocicsICdpbWcnLCAnaW5wdXQnLCAna2V5Z2VuJyxcbiAgICAnbGluaycsICdtZW51aXRlbScsICdtZXRhJywgJ3BhcmFtJywgJ3NvdXJjZScsICd0cmFjaycsICd3YnInLFxuICAgIC8vIE5PVEU6IE9wdGlvbmFsIHRhZ3MgYXJlIHRvbyBjb21wbGV4IGZvciBhIHNpbXBsZSBsaXN0XG4gICAgLy8gdGhleSBhcmUgaGFyZCBjb2RlZCBpbiBfZG9fb3B0aW9uYWxfZW5kX2VsZW1lbnRcblxuICAgIC8vIERvY3R5cGUgYW5kIHhtbCBlbGVtZW50c1xuICAgICchZG9jdHlwZScsICc/eG1sJyxcblxuICAgIC8vIG9ic29sZXRlIHRhZ3NcbiAgICAvLyBiYXNlZm9udDogaHR0cHM6Ly93d3cuY29tcHV0ZXJob3BlLmNvbS9qYXJnb24vaC9odG1sLWJhc2Vmb250LXRhZy5odG1cbiAgICAvLyBpc25kZXg6IGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0hUTUwvRWxlbWVudC9pc2luZGV4XG4gICAgJ2Jhc2Vmb250JywgJ2lzaW5kZXgnXG4gIF0pO1xuICB0aGlzLnVuZm9ybWF0dGVkID0gdGhpcy5fZ2V0X2FycmF5KCd1bmZvcm1hdHRlZCcsIFtdKTtcbiAgdGhpcy5jb250ZW50X3VuZm9ybWF0dGVkID0gdGhpcy5fZ2V0X2FycmF5KCdjb250ZW50X3VuZm9ybWF0dGVkJywgW1xuICAgICdwcmUnLCAndGV4dGFyZWEnXG4gIF0pO1xuICB0aGlzLnVuZm9ybWF0dGVkX2NvbnRlbnRfZGVsaW1pdGVyID0gdGhpcy5fZ2V0X2NoYXJhY3RlcnMoJ3VuZm9ybWF0dGVkX2NvbnRlbnRfZGVsaW1pdGVyJyk7XG4gIHRoaXMuaW5kZW50X3NjcmlwdHMgPSB0aGlzLl9nZXRfc2VsZWN0aW9uKCdpbmRlbnRfc2NyaXB0cycsIFsnbm9ybWFsJywgJ2tlZXAnLCAnc2VwYXJhdGUnXSk7XG5cbn1cbk9wdGlvbnMucHJvdG90eXBlID0gbmV3IEJhc2VPcHRpb25zKCk7XG5cblxuXG5tb2R1bGUuZXhwb3J0cy5PcHRpb25zID0gT3B0aW9ucztcbiIsIi8qanNoaW50IG5vZGU6dHJ1ZSAqL1xuLypcblxuICBUaGUgTUlUIExpY2Vuc2UgKE1JVClcblxuICBDb3B5cmlnaHQgKGMpIDIwMDctMjAxOCBFaW5hciBMaWVsbWFuaXMsIExpYW0gTmV3bWFuLCBhbmQgY29udHJpYnV0b3JzLlxuXG4gIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uXG4gIG9idGFpbmluZyBhIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzXG4gICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbixcbiAgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSxcbiAgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSxcbiAgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbyxcbiAgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG5cbiAgVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmVcbiAgaW5jbHVkZWQgaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG5cbiAgVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCxcbiAgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4gIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EXG4gIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlNcbiAgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOXG4gIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOXG4gIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEVcbiAgU09GVFdBUkUuXG4qL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBCYXNlVG9rZW5pemVyID0gcmVxdWlyZSgnLi4vY29yZS90b2tlbml6ZXInKS5Ub2tlbml6ZXI7XG52YXIgQkFTRVRPS0VOID0gcmVxdWlyZSgnLi4vY29yZS90b2tlbml6ZXInKS5UT0tFTjtcbnZhciBEaXJlY3RpdmVzID0gcmVxdWlyZSgnLi4vY29yZS9kaXJlY3RpdmVzJykuRGlyZWN0aXZlcztcbnZhciBUZW1wbGF0YWJsZVBhdHRlcm4gPSByZXF1aXJlKCcuLi9jb3JlL3RlbXBsYXRhYmxlcGF0dGVybicpLlRlbXBsYXRhYmxlUGF0dGVybjtcbnZhciBQYXR0ZXJuID0gcmVxdWlyZSgnLi4vY29yZS9wYXR0ZXJuJykuUGF0dGVybjtcblxudmFyIFRPS0VOID0ge1xuICBUQUdfT1BFTjogJ1RLX1RBR19PUEVOJyxcbiAgVEFHX0NMT1NFOiAnVEtfVEFHX0NMT1NFJyxcbiAgQVRUUklCVVRFOiAnVEtfQVRUUklCVVRFJyxcbiAgRVFVQUxTOiAnVEtfRVFVQUxTJyxcbiAgVkFMVUU6ICdUS19WQUxVRScsXG4gIENPTU1FTlQ6ICdUS19DT01NRU5UJyxcbiAgVEVYVDogJ1RLX1RFWFQnLFxuICBVTktOT1dOOiAnVEtfVU5LTk9XTicsXG4gIFNUQVJUOiBCQVNFVE9LRU4uU1RBUlQsXG4gIFJBVzogQkFTRVRPS0VOLlJBVyxcbiAgRU9GOiBCQVNFVE9LRU4uRU9GXG59O1xuXG52YXIgZGlyZWN0aXZlc19jb3JlID0gbmV3IERpcmVjdGl2ZXMoLzxcXCEtLS8sIC8tLT4vKTtcblxudmFyIFRva2VuaXplciA9IGZ1bmN0aW9uKGlucHV0X3N0cmluZywgb3B0aW9ucykge1xuICBCYXNlVG9rZW5pemVyLmNhbGwodGhpcywgaW5wdXRfc3RyaW5nLCBvcHRpb25zKTtcbiAgdGhpcy5fY3VycmVudF90YWdfbmFtZSA9ICcnO1xuXG4gIC8vIFdvcmRzIGVuZCBhdCB3aGl0ZXNwYWNlIG9yIHdoZW4gYSB0YWcgc3RhcnRzXG4gIC8vIGlmIHdlIGFyZSBpbmRlbnRpbmcgaGFuZGxlYmFycywgdGhleSBhcmUgY29uc2lkZXJlZCB0YWdzXG4gIHZhciB0ZW1wbGF0YWJsZV9yZWFkZXIgPSBuZXcgVGVtcGxhdGFibGVQYXR0ZXJuKHRoaXMuX2lucHV0KS5yZWFkX29wdGlvbnModGhpcy5fb3B0aW9ucyk7XG4gIHZhciBwYXR0ZXJuX3JlYWRlciA9IG5ldyBQYXR0ZXJuKHRoaXMuX2lucHV0KTtcblxuICB0aGlzLl9fcGF0dGVybnMgPSB7XG4gICAgd29yZDogdGVtcGxhdGFibGVfcmVhZGVyLnVudGlsKC9bXFxuXFxyXFx0IDxdLyksXG4gICAgc2luZ2xlX3F1b3RlOiB0ZW1wbGF0YWJsZV9yZWFkZXIudW50aWxfYWZ0ZXIoLycvKSxcbiAgICBkb3VibGVfcXVvdGU6IHRlbXBsYXRhYmxlX3JlYWRlci51bnRpbF9hZnRlcigvXCIvKSxcbiAgICBhdHRyaWJ1dGU6IHRlbXBsYXRhYmxlX3JlYWRlci51bnRpbCgvW1xcblxcclxcdCA9Pl18XFwvPi8pLFxuICAgIGVsZW1lbnRfbmFtZTogdGVtcGxhdGFibGVfcmVhZGVyLnVudGlsKC9bXFxuXFxyXFx0ID5cXC9dLyksXG5cbiAgICBoYW5kbGViYXJzX2NvbW1lbnQ6IHBhdHRlcm5fcmVhZGVyLnN0YXJ0aW5nX3dpdGgoL3t7IS0tLykudW50aWxfYWZ0ZXIoLy0tfX0vKSxcbiAgICBoYW5kbGViYXJzOiBwYXR0ZXJuX3JlYWRlci5zdGFydGluZ193aXRoKC97ey8pLnVudGlsX2FmdGVyKC99fS8pLFxuICAgIGhhbmRsZWJhcnNfb3BlbjogcGF0dGVybl9yZWFkZXIudW50aWwoL1tcXG5cXHJcXHQgfV0vKSxcbiAgICBoYW5kbGViYXJzX3Jhd19jbG9zZTogcGF0dGVybl9yZWFkZXIudW50aWwoL319LyksXG4gICAgY29tbWVudDogcGF0dGVybl9yZWFkZXIuc3RhcnRpbmdfd2l0aCgvPCEtLS8pLnVudGlsX2FmdGVyKC8tLT4vKSxcbiAgICBjZGF0YTogcGF0dGVybl9yZWFkZXIuc3RhcnRpbmdfd2l0aCgvPCFcXFtDREFUQVxcWy8pLnVudGlsX2FmdGVyKC9dXT4vKSxcbiAgICAvLyBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Db25kaXRpb25hbF9jb21tZW50XG4gICAgY29uZGl0aW9uYWxfY29tbWVudDogcGF0dGVybl9yZWFkZXIuc3RhcnRpbmdfd2l0aCgvPCFcXFsvKS51bnRpbF9hZnRlcigvXT4vKSxcbiAgICBwcm9jZXNzaW5nOiBwYXR0ZXJuX3JlYWRlci5zdGFydGluZ193aXRoKC88XFw/LykudW50aWxfYWZ0ZXIoL1xcPz4vKVxuICB9O1xuXG4gIGlmICh0aGlzLl9vcHRpb25zLmluZGVudF9oYW5kbGViYXJzKSB7XG4gICAgdGhpcy5fX3BhdHRlcm5zLndvcmQgPSB0aGlzLl9fcGF0dGVybnMud29yZC5leGNsdWRlKCdoYW5kbGViYXJzJyk7XG4gIH1cblxuICB0aGlzLl91bmZvcm1hdHRlZF9jb250ZW50X2RlbGltaXRlciA9IG51bGw7XG5cbiAgaWYgKHRoaXMuX29wdGlvbnMudW5mb3JtYXR0ZWRfY29udGVudF9kZWxpbWl0ZXIpIHtcbiAgICB2YXIgbGl0ZXJhbF9yZWdleHAgPSB0aGlzLl9pbnB1dC5nZXRfbGl0ZXJhbF9yZWdleHAodGhpcy5fb3B0aW9ucy51bmZvcm1hdHRlZF9jb250ZW50X2RlbGltaXRlcik7XG4gICAgdGhpcy5fX3BhdHRlcm5zLnVuZm9ybWF0dGVkX2NvbnRlbnRfZGVsaW1pdGVyID1cbiAgICAgIHBhdHRlcm5fcmVhZGVyLm1hdGNoaW5nKGxpdGVyYWxfcmVnZXhwKVxuICAgICAgLnVudGlsX2FmdGVyKGxpdGVyYWxfcmVnZXhwKTtcbiAgfVxufTtcblRva2VuaXplci5wcm90b3R5cGUgPSBuZXcgQmFzZVRva2VuaXplcigpO1xuXG5Ub2tlbml6ZXIucHJvdG90eXBlLl9pc19jb21tZW50ID0gZnVuY3Rpb24oY3VycmVudF90b2tlbikgeyAvLyBqc2hpbnQgdW51c2VkOmZhbHNlXG4gIHJldHVybiBmYWxzZTsgLy9jdXJyZW50X3Rva2VuLnR5cGUgPT09IFRPS0VOLkNPTU1FTlQgfHwgY3VycmVudF90b2tlbi50eXBlID09PSBUT0tFTi5VTktOT1dOO1xufTtcblxuVG9rZW5pemVyLnByb3RvdHlwZS5faXNfb3BlbmluZyA9IGZ1bmN0aW9uKGN1cnJlbnRfdG9rZW4pIHtcbiAgcmV0dXJuIGN1cnJlbnRfdG9rZW4udHlwZSA9PT0gVE9LRU4uVEFHX09QRU47XG59O1xuXG5Ub2tlbml6ZXIucHJvdG90eXBlLl9pc19jbG9zaW5nID0gZnVuY3Rpb24oY3VycmVudF90b2tlbiwgb3Blbl90b2tlbikge1xuICByZXR1cm4gY3VycmVudF90b2tlbi50eXBlID09PSBUT0tFTi5UQUdfQ0xPU0UgJiZcbiAgICAob3Blbl90b2tlbiAmJiAoXG4gICAgICAoKGN1cnJlbnRfdG9rZW4udGV4dCA9PT0gJz4nIHx8IGN1cnJlbnRfdG9rZW4udGV4dCA9PT0gJy8+JykgJiYgb3Blbl90b2tlbi50ZXh0WzBdID09PSAnPCcpIHx8XG4gICAgICAoY3VycmVudF90b2tlbi50ZXh0ID09PSAnfX0nICYmIG9wZW5fdG9rZW4udGV4dFswXSA9PT0gJ3snICYmIG9wZW5fdG9rZW4udGV4dFsxXSA9PT0gJ3snKSkpO1xufTtcblxuVG9rZW5pemVyLnByb3RvdHlwZS5fcmVzZXQgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5fY3VycmVudF90YWdfbmFtZSA9ICcnO1xufTtcblxuVG9rZW5pemVyLnByb3RvdHlwZS5fZ2V0X25leHRfdG9rZW4gPSBmdW5jdGlvbihwcmV2aW91c190b2tlbiwgb3Blbl90b2tlbikgeyAvLyBqc2hpbnQgdW51c2VkOmZhbHNlXG4gIHZhciB0b2tlbiA9IG51bGw7XG4gIHRoaXMuX3JlYWRXaGl0ZXNwYWNlKCk7XG4gIHZhciBjID0gdGhpcy5faW5wdXQucGVlaygpO1xuXG4gIGlmIChjID09PSBudWxsKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NyZWF0ZV90b2tlbihUT0tFTi5FT0YsICcnKTtcbiAgfVxuXG4gIHRva2VuID0gdG9rZW4gfHwgdGhpcy5fcmVhZF9vcGVuX2hhbmRsZWJhcnMoYywgb3Blbl90b2tlbik7XG4gIHRva2VuID0gdG9rZW4gfHwgdGhpcy5fcmVhZF9hdHRyaWJ1dGUoYywgcHJldmlvdXNfdG9rZW4sIG9wZW5fdG9rZW4pO1xuICB0b2tlbiA9IHRva2VuIHx8IHRoaXMuX3JlYWRfcmF3X2NvbnRlbnQoYywgcHJldmlvdXNfdG9rZW4sIG9wZW5fdG9rZW4pO1xuICB0b2tlbiA9IHRva2VuIHx8IHRoaXMuX3JlYWRfY2xvc2UoYywgb3Blbl90b2tlbik7XG4gIHRva2VuID0gdG9rZW4gfHwgdGhpcy5fcmVhZF9jb250ZW50X3dvcmQoYyk7XG4gIHRva2VuID0gdG9rZW4gfHwgdGhpcy5fcmVhZF9jb21tZW50X29yX2NkYXRhKGMpO1xuICB0b2tlbiA9IHRva2VuIHx8IHRoaXMuX3JlYWRfcHJvY2Vzc2luZyhjKTtcbiAgdG9rZW4gPSB0b2tlbiB8fCB0aGlzLl9yZWFkX29wZW4oYywgb3Blbl90b2tlbik7XG4gIHRva2VuID0gdG9rZW4gfHwgdGhpcy5fY3JlYXRlX3Rva2VuKFRPS0VOLlVOS05PV04sIHRoaXMuX2lucHV0Lm5leHQoKSk7XG5cbiAgcmV0dXJuIHRva2VuO1xufTtcblxuVG9rZW5pemVyLnByb3RvdHlwZS5fcmVhZF9jb21tZW50X29yX2NkYXRhID0gZnVuY3Rpb24oYykgeyAvLyBqc2hpbnQgdW51c2VkOmZhbHNlXG4gIHZhciB0b2tlbiA9IG51bGw7XG4gIHZhciByZXN1bHRpbmdfc3RyaW5nID0gbnVsbDtcbiAgdmFyIGRpcmVjdGl2ZXMgPSBudWxsO1xuXG4gIGlmIChjID09PSAnPCcpIHtcbiAgICB2YXIgcGVlazEgPSB0aGlzLl9pbnB1dC5wZWVrKDEpO1xuICAgIC8vIFdlIHRyZWF0IGFsbCBjb21tZW50cyBhcyBsaXRlcmFscywgZXZlbiBtb3JlIHRoYW4gcHJlZm9ybWF0dGVkIHRhZ3NcbiAgICAvLyB3ZSBvbmx5IGxvb2sgZm9yIHRoZSBhcHByb3ByaWF0ZSBjbG9zaW5nIG1hcmtlclxuICAgIGlmIChwZWVrMSA9PT0gJyEnKSB7XG4gICAgICByZXN1bHRpbmdfc3RyaW5nID0gdGhpcy5fX3BhdHRlcm5zLmNvbW1lbnQucmVhZCgpO1xuXG4gICAgICAvLyBvbmx5IHByb2Nlc3MgZGlyZWN0aXZlIG9uIGh0bWwgY29tbWVudHNcbiAgICAgIGlmIChyZXN1bHRpbmdfc3RyaW5nKSB7XG4gICAgICAgIGRpcmVjdGl2ZXMgPSBkaXJlY3RpdmVzX2NvcmUuZ2V0X2RpcmVjdGl2ZXMocmVzdWx0aW5nX3N0cmluZyk7XG4gICAgICAgIGlmIChkaXJlY3RpdmVzICYmIGRpcmVjdGl2ZXMuaWdub3JlID09PSAnc3RhcnQnKSB7XG4gICAgICAgICAgcmVzdWx0aW5nX3N0cmluZyArPSBkaXJlY3RpdmVzX2NvcmUucmVhZElnbm9yZWQodGhpcy5faW5wdXQpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN1bHRpbmdfc3RyaW5nID0gdGhpcy5fX3BhdHRlcm5zLmNkYXRhLnJlYWQoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAocmVzdWx0aW5nX3N0cmluZykge1xuICAgICAgdG9rZW4gPSB0aGlzLl9jcmVhdGVfdG9rZW4oVE9LRU4uQ09NTUVOVCwgcmVzdWx0aW5nX3N0cmluZyk7XG4gICAgICB0b2tlbi5kaXJlY3RpdmVzID0gZGlyZWN0aXZlcztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdG9rZW47XG59O1xuXG5Ub2tlbml6ZXIucHJvdG90eXBlLl9yZWFkX3Byb2Nlc3NpbmcgPSBmdW5jdGlvbihjKSB7IC8vIGpzaGludCB1bnVzZWQ6ZmFsc2VcbiAgdmFyIHRva2VuID0gbnVsbDtcbiAgdmFyIHJlc3VsdGluZ19zdHJpbmcgPSBudWxsO1xuICB2YXIgZGlyZWN0aXZlcyA9IG51bGw7XG5cbiAgaWYgKGMgPT09ICc8Jykge1xuICAgIHZhciBwZWVrMSA9IHRoaXMuX2lucHV0LnBlZWsoMSk7XG4gICAgaWYgKHBlZWsxID09PSAnIScgfHwgcGVlazEgPT09ICc/Jykge1xuICAgICAgcmVzdWx0aW5nX3N0cmluZyA9IHRoaXMuX19wYXR0ZXJucy5jb25kaXRpb25hbF9jb21tZW50LnJlYWQoKTtcbiAgICAgIHJlc3VsdGluZ19zdHJpbmcgPSByZXN1bHRpbmdfc3RyaW5nIHx8IHRoaXMuX19wYXR0ZXJucy5wcm9jZXNzaW5nLnJlYWQoKTtcbiAgICB9XG5cbiAgICBpZiAocmVzdWx0aW5nX3N0cmluZykge1xuICAgICAgdG9rZW4gPSB0aGlzLl9jcmVhdGVfdG9rZW4oVE9LRU4uQ09NTUVOVCwgcmVzdWx0aW5nX3N0cmluZyk7XG4gICAgICB0b2tlbi5kaXJlY3RpdmVzID0gZGlyZWN0aXZlcztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdG9rZW47XG59O1xuXG5Ub2tlbml6ZXIucHJvdG90eXBlLl9yZWFkX29wZW4gPSBmdW5jdGlvbihjLCBvcGVuX3Rva2VuKSB7XG4gIHZhciByZXN1bHRpbmdfc3RyaW5nID0gbnVsbDtcbiAgdmFyIHRva2VuID0gbnVsbDtcbiAgaWYgKCFvcGVuX3Rva2VuKSB7XG4gICAgaWYgKGMgPT09ICc8Jykge1xuXG4gICAgICByZXN1bHRpbmdfc3RyaW5nID0gdGhpcy5faW5wdXQubmV4dCgpO1xuICAgICAgaWYgKHRoaXMuX2lucHV0LnBlZWsoKSA9PT0gJy8nKSB7XG4gICAgICAgIHJlc3VsdGluZ19zdHJpbmcgKz0gdGhpcy5faW5wdXQubmV4dCgpO1xuICAgICAgfVxuICAgICAgcmVzdWx0aW5nX3N0cmluZyArPSB0aGlzLl9fcGF0dGVybnMuZWxlbWVudF9uYW1lLnJlYWQoKTtcbiAgICAgIHRva2VuID0gdGhpcy5fY3JlYXRlX3Rva2VuKFRPS0VOLlRBR19PUEVOLCByZXN1bHRpbmdfc3RyaW5nKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRva2VuO1xufTtcblxuVG9rZW5pemVyLnByb3RvdHlwZS5fcmVhZF9vcGVuX2hhbmRsZWJhcnMgPSBmdW5jdGlvbihjLCBvcGVuX3Rva2VuKSB7XG4gIHZhciByZXN1bHRpbmdfc3RyaW5nID0gbnVsbDtcbiAgdmFyIHRva2VuID0gbnVsbDtcbiAgaWYgKCFvcGVuX3Rva2VuKSB7XG4gICAgaWYgKHRoaXMuX29wdGlvbnMuaW5kZW50X2hhbmRsZWJhcnMgJiYgYyA9PT0gJ3snICYmIHRoaXMuX2lucHV0LnBlZWsoMSkgPT09ICd7Jykge1xuICAgICAgaWYgKHRoaXMuX2lucHV0LnBlZWsoMikgPT09ICchJykge1xuICAgICAgICByZXN1bHRpbmdfc3RyaW5nID0gdGhpcy5fX3BhdHRlcm5zLmhhbmRsZWJhcnNfY29tbWVudC5yZWFkKCk7XG4gICAgICAgIHJlc3VsdGluZ19zdHJpbmcgPSByZXN1bHRpbmdfc3RyaW5nIHx8IHRoaXMuX19wYXR0ZXJucy5oYW5kbGViYXJzLnJlYWQoKTtcbiAgICAgICAgdG9rZW4gPSB0aGlzLl9jcmVhdGVfdG9rZW4oVE9LRU4uQ09NTUVOVCwgcmVzdWx0aW5nX3N0cmluZyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN1bHRpbmdfc3RyaW5nID0gdGhpcy5fX3BhdHRlcm5zLmhhbmRsZWJhcnNfb3Blbi5yZWFkKCk7XG4gICAgICAgIHRva2VuID0gdGhpcy5fY3JlYXRlX3Rva2VuKFRPS0VOLlRBR19PUEVOLCByZXN1bHRpbmdfc3RyaW5nKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRva2VuO1xufTtcblxuXG5Ub2tlbml6ZXIucHJvdG90eXBlLl9yZWFkX2Nsb3NlID0gZnVuY3Rpb24oYywgb3Blbl90b2tlbikge1xuICB2YXIgcmVzdWx0aW5nX3N0cmluZyA9IG51bGw7XG4gIHZhciB0b2tlbiA9IG51bGw7XG4gIGlmIChvcGVuX3Rva2VuKSB7XG4gICAgaWYgKG9wZW5fdG9rZW4udGV4dFswXSA9PT0gJzwnICYmIChjID09PSAnPicgfHwgKGMgPT09ICcvJyAmJiB0aGlzLl9pbnB1dC5wZWVrKDEpID09PSAnPicpKSkge1xuICAgICAgcmVzdWx0aW5nX3N0cmluZyA9IHRoaXMuX2lucHV0Lm5leHQoKTtcbiAgICAgIGlmIChjID09PSAnLycpIHsgLy8gIGZvciBjbG9zZSB0YWcgXCIvPlwiXG4gICAgICAgIHJlc3VsdGluZ19zdHJpbmcgKz0gdGhpcy5faW5wdXQubmV4dCgpO1xuICAgICAgfVxuICAgICAgdG9rZW4gPSB0aGlzLl9jcmVhdGVfdG9rZW4oVE9LRU4uVEFHX0NMT1NFLCByZXN1bHRpbmdfc3RyaW5nKTtcbiAgICB9IGVsc2UgaWYgKG9wZW5fdG9rZW4udGV4dFswXSA9PT0gJ3snICYmIGMgPT09ICd9JyAmJiB0aGlzLl9pbnB1dC5wZWVrKDEpID09PSAnfScpIHtcbiAgICAgIHRoaXMuX2lucHV0Lm5leHQoKTtcbiAgICAgIHRoaXMuX2lucHV0Lm5leHQoKTtcbiAgICAgIHRva2VuID0gdGhpcy5fY3JlYXRlX3Rva2VuKFRPS0VOLlRBR19DTE9TRSwgJ319Jyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRva2VuO1xufTtcblxuVG9rZW5pemVyLnByb3RvdHlwZS5fcmVhZF9hdHRyaWJ1dGUgPSBmdW5jdGlvbihjLCBwcmV2aW91c190b2tlbiwgb3Blbl90b2tlbikge1xuICB2YXIgdG9rZW4gPSBudWxsO1xuICB2YXIgcmVzdWx0aW5nX3N0cmluZyA9ICcnO1xuICBpZiAob3Blbl90b2tlbiAmJiBvcGVuX3Rva2VuLnRleHRbMF0gPT09ICc8Jykge1xuXG4gICAgaWYgKGMgPT09ICc9Jykge1xuICAgICAgdG9rZW4gPSB0aGlzLl9jcmVhdGVfdG9rZW4oVE9LRU4uRVFVQUxTLCB0aGlzLl9pbnB1dC5uZXh0KCkpO1xuICAgIH0gZWxzZSBpZiAoYyA9PT0gJ1wiJyB8fCBjID09PSBcIidcIikge1xuICAgICAgdmFyIGNvbnRlbnQgPSB0aGlzLl9pbnB1dC5uZXh0KCk7XG4gICAgICBpZiAoYyA9PT0gJ1wiJykge1xuICAgICAgICBjb250ZW50ICs9IHRoaXMuX19wYXR0ZXJucy5kb3VibGVfcXVvdGUucmVhZCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29udGVudCArPSB0aGlzLl9fcGF0dGVybnMuc2luZ2xlX3F1b3RlLnJlYWQoKTtcbiAgICAgIH1cbiAgICAgIHRva2VuID0gdGhpcy5fY3JlYXRlX3Rva2VuKFRPS0VOLlZBTFVFLCBjb250ZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0aW5nX3N0cmluZyA9IHRoaXMuX19wYXR0ZXJucy5hdHRyaWJ1dGUucmVhZCgpO1xuXG4gICAgICBpZiAocmVzdWx0aW5nX3N0cmluZykge1xuICAgICAgICBpZiAocHJldmlvdXNfdG9rZW4udHlwZSA9PT0gVE9LRU4uRVFVQUxTKSB7XG4gICAgICAgICAgdG9rZW4gPSB0aGlzLl9jcmVhdGVfdG9rZW4oVE9LRU4uVkFMVUUsIHJlc3VsdGluZ19zdHJpbmcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRva2VuID0gdGhpcy5fY3JlYXRlX3Rva2VuKFRPS0VOLkFUVFJJQlVURSwgcmVzdWx0aW5nX3N0cmluZyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRva2VuO1xufTtcblxuVG9rZW5pemVyLnByb3RvdHlwZS5faXNfY29udGVudF91bmZvcm1hdHRlZCA9IGZ1bmN0aW9uKHRhZ19uYW1lKSB7XG4gIC8vIHZvaWRfZWxlbWVudHMgaGF2ZSBubyBjb250ZW50IGFuZCBzbyBjYW5ub3QgaGF2ZSB1bmZvcm1hdHRlZCBjb250ZW50XG4gIC8vIHNjcmlwdCBhbmQgc3R5bGUgdGFncyBzaG91bGQgYWx3YXlzIGJlIHJlYWQgYXMgdW5mb3JtYXR0ZWQgY29udGVudFxuICAvLyBmaW5hbGx5IGNvbnRlbnRfdW5mb3JtYXR0ZWQgYW5kIHVuZm9ybWF0dGVkIGVsZW1lbnQgY29udGVudHMgYXJlIHVuZm9ybWF0dGVkXG4gIHJldHVybiB0aGlzLl9vcHRpb25zLnZvaWRfZWxlbWVudHMuaW5kZXhPZih0YWdfbmFtZSkgPT09IC0xICYmXG4gICAgKHRoaXMuX29wdGlvbnMuY29udGVudF91bmZvcm1hdHRlZC5pbmRleE9mKHRhZ19uYW1lKSAhPT0gLTEgfHxcbiAgICAgIHRoaXMuX29wdGlvbnMudW5mb3JtYXR0ZWQuaW5kZXhPZih0YWdfbmFtZSkgIT09IC0xKTtcbn07XG5cblxuVG9rZW5pemVyLnByb3RvdHlwZS5fcmVhZF9yYXdfY29udGVudCA9IGZ1bmN0aW9uKGMsIHByZXZpb3VzX3Rva2VuLCBvcGVuX3Rva2VuKSB7IC8vIGpzaGludCB1bnVzZWQ6ZmFsc2VcbiAgdmFyIHJlc3VsdGluZ19zdHJpbmcgPSAnJztcbiAgaWYgKG9wZW5fdG9rZW4gJiYgb3Blbl90b2tlbi50ZXh0WzBdID09PSAneycpIHtcbiAgICByZXN1bHRpbmdfc3RyaW5nID0gdGhpcy5fX3BhdHRlcm5zLmhhbmRsZWJhcnNfcmF3X2Nsb3NlLnJlYWQoKTtcbiAgfSBlbHNlIGlmIChwcmV2aW91c190b2tlbi50eXBlID09PSBUT0tFTi5UQUdfQ0xPU0UgJiYgKHByZXZpb3VzX3Rva2VuLm9wZW5lZC50ZXh0WzBdID09PSAnPCcpKSB7XG4gICAgdmFyIHRhZ19uYW1lID0gcHJldmlvdXNfdG9rZW4ub3BlbmVkLnRleHQuc3Vic3RyKDEpLnRvTG93ZXJDYXNlKCk7XG4gICAgaWYgKHRhZ19uYW1lID09PSAnc2NyaXB0JyB8fCB0YWdfbmFtZSA9PT0gJ3N0eWxlJykge1xuICAgICAgLy8gU2NyaXB0IGFuZCBzdHlsZSB0YWdzIGFyZSBhbGxvd2VkIHRvIGhhdmUgY29tbWVudHMgd3JhcHBpbmcgdGhlaXIgY29udGVudFxuICAgICAgLy8gb3IganVzdCBoYXZlIHJlZ3VsYXIgY29udGVudC5cbiAgICAgIHZhciB0b2tlbiA9IHRoaXMuX3JlYWRfY29tbWVudF9vcl9jZGF0YShjKTtcbiAgICAgIGlmICh0b2tlbikge1xuICAgICAgICB0b2tlbi50eXBlID0gVE9LRU4uVEVYVDtcbiAgICAgICAgcmV0dXJuIHRva2VuO1xuICAgICAgfVxuICAgICAgcmVzdWx0aW5nX3N0cmluZyA9IHRoaXMuX2lucHV0LnJlYWRVbnRpbChuZXcgUmVnRXhwKCc8LycgKyB0YWdfbmFtZSArICdbXFxcXG5cXFxcclxcXFx0IF0qPz4nLCAnaWcnKSk7XG4gICAgfSBlbHNlIGlmICh0aGlzLl9pc19jb250ZW50X3VuZm9ybWF0dGVkKHRhZ19uYW1lKSkge1xuICAgICAgcmVzdWx0aW5nX3N0cmluZyA9IHRoaXMuX2lucHV0LnJlYWRVbnRpbChuZXcgUmVnRXhwKCc8LycgKyB0YWdfbmFtZSArICdbXFxcXG5cXFxcclxcXFx0IF0qPz4nLCAnaWcnKSk7XG4gICAgfVxuICB9XG5cbiAgaWYgKHJlc3VsdGluZ19zdHJpbmcpIHtcbiAgICByZXR1cm4gdGhpcy5fY3JlYXRlX3Rva2VuKFRPS0VOLlRFWFQsIHJlc3VsdGluZ19zdHJpbmcpO1xuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59O1xuXG5Ub2tlbml6ZXIucHJvdG90eXBlLl9yZWFkX2NvbnRlbnRfd29yZCA9IGZ1bmN0aW9uKGMpIHtcbiAgdmFyIHJlc3VsdGluZ19zdHJpbmcgPSAnJztcbiAgaWYgKHRoaXMuX29wdGlvbnMudW5mb3JtYXR0ZWRfY29udGVudF9kZWxpbWl0ZXIpIHtcbiAgICBpZiAoYyA9PT0gdGhpcy5fb3B0aW9ucy51bmZvcm1hdHRlZF9jb250ZW50X2RlbGltaXRlclswXSkge1xuICAgICAgcmVzdWx0aW5nX3N0cmluZyA9IHRoaXMuX19wYXR0ZXJucy51bmZvcm1hdHRlZF9jb250ZW50X2RlbGltaXRlci5yZWFkKCk7XG4gICAgfVxuICB9XG5cbiAgaWYgKCFyZXN1bHRpbmdfc3RyaW5nKSB7XG4gICAgcmVzdWx0aW5nX3N0cmluZyA9IHRoaXMuX19wYXR0ZXJucy53b3JkLnJlYWQoKTtcbiAgfVxuICBpZiAocmVzdWx0aW5nX3N0cmluZykge1xuICAgIHJldHVybiB0aGlzLl9jcmVhdGVfdG9rZW4oVE9LRU4uVEVYVCwgcmVzdWx0aW5nX3N0cmluZyk7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzLlRva2VuaXplciA9IFRva2VuaXplcjtcbm1vZHVsZS5leHBvcnRzLlRPS0VOID0gVE9LRU47XG4iLCIvKmpzaGludCBub2RlOnRydWUgKi9cbi8qXG5cbiAgVGhlIE1JVCBMaWNlbnNlIChNSVQpXG5cbiAgQ29weXJpZ2h0IChjKSAyMDA3LTIwMTggRWluYXIgTGllbG1hbmlzLCBMaWFtIE5ld21hbiwgYW5kIGNvbnRyaWJ1dG9ycy5cblxuICBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvblxuICBvYnRhaW5pbmcgYSBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlc1xuICAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sXG4gIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsXG4gIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsXG4gIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sXG4gIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuXG4gIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlXG4gIGluY2x1ZGVkIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuXG4gIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsXG4gIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuICBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORFxuICBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTXG4gIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTlxuICBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTlxuICBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFXG4gIFNPRlRXQVJFLlxuKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIganNfYmVhdXRpZnkgPSByZXF1aXJlKCcuL2phdmFzY3JpcHQvaW5kZXgnKTtcbnZhciBjc3NfYmVhdXRpZnkgPSByZXF1aXJlKCcuL2Nzcy9pbmRleCcpO1xudmFyIGh0bWxfYmVhdXRpZnkgPSByZXF1aXJlKCcuL2h0bWwvaW5kZXgnKTtcblxuZnVuY3Rpb24gc3R5bGVfaHRtbChodG1sX3NvdXJjZSwgb3B0aW9ucywganMsIGNzcykge1xuICBqcyA9IGpzIHx8IGpzX2JlYXV0aWZ5O1xuICBjc3MgPSBjc3MgfHwgY3NzX2JlYXV0aWZ5O1xuICByZXR1cm4gaHRtbF9iZWF1dGlmeShodG1sX3NvdXJjZSwgb3B0aW9ucywganMsIGNzcyk7XG59XG5zdHlsZV9odG1sLmRlZmF1bHRPcHRpb25zID0gaHRtbF9iZWF1dGlmeS5kZWZhdWx0T3B0aW9ucztcblxubW9kdWxlLmV4cG9ydHMuanMgPSBqc19iZWF1dGlmeTtcbm1vZHVsZS5leHBvcnRzLmNzcyA9IGNzc19iZWF1dGlmeTtcbm1vZHVsZS5leHBvcnRzLmh0bWwgPSBzdHlsZV9odG1sO1xuIiwiLyoganNoaW50IG5vZGU6IHRydWUsIGN1cmx5OiBmYWxzZSAqL1xuLy8gUGFydHMgb2YgdGhpcyBzZWN0aW9uIG9mIGNvZGUgaXMgdGFrZW4gZnJvbSBhY29ybi5cbi8vXG4vLyBBY29ybiB3YXMgd3JpdHRlbiBieSBNYXJpam4gSGF2ZXJiZWtlIGFuZCByZWxlYXNlZCB1bmRlciBhbiBNSVRcbi8vIGxpY2Vuc2UuIFRoZSBVbmljb2RlIHJlZ2V4cHMgKGZvciBpZGVudGlmaWVycyBhbmQgd2hpdGVzcGFjZSkgd2VyZVxuLy8gdGFrZW4gZnJvbSBbRXNwcmltYV0oaHR0cDovL2VzcHJpbWEub3JnKSBieSBBcml5YSBIaWRheWF0LlxuLy9cbi8vIEdpdCByZXBvc2l0b3JpZXMgZm9yIEFjb3JuIGFyZSBhdmFpbGFibGUgYXRcbi8vXG4vLyAgICAgaHR0cDovL21hcmlqbmhhdmVyYmVrZS5ubC9naXQvYWNvcm5cbi8vICAgICBodHRwczovL2dpdGh1Yi5jb20vbWFyaWpuaC9hY29ybi5naXRcblxuLy8gIyMgQ2hhcmFjdGVyIGNhdGVnb3JpZXNcblxuXG4ndXNlIHN0cmljdCc7XG5cbi8vIGFjb3JuIHVzZWQgY2hhciBjb2RlcyB0byBzcXVlZXplIHRoZSBsYXN0IGJpdCBvZiBwZXJmb3JtYW5jZSBvdXRcbi8vIEJlYXV0aWZpZXIgaXMgb2theSB3aXRob3V0IHRoYXQsIHNvIHdlJ3JlIHVzaW5nIHJlZ2V4XG4vLyBwZXJtaXQgIyAoMjMpLCAkICgzNiksIGFuZCBAICg2NCkuIEAgaXMgdXNlZCBpbiBFUzcgZGVjb3JhdG9ycy5cbi8vIDY1IHRocm91Z2ggOTEgYXJlIHVwcGVyY2FzZSBsZXR0ZXJzLlxuLy8gcGVybWl0IF8gKDk1KS5cbi8vIDk3IHRocm91Z2ggMTIzIGFyZSBsb3dlcmNhc2UgbGV0dGVycy5cbnZhciBiYXNlQVNDSUlpZGVudGlmaWVyU3RhcnRDaGFycyA9IFwiXFxcXHgyM1xcXFx4MjRcXFxceDQwXFxcXHg0MS1cXFxceDVhXFxcXHg1ZlxcXFx4NjEtXFxcXHg3YVwiO1xuXG4vLyBpbnNpZGUgYW4gaWRlbnRpZmllciBAIGlzIG5vdCBhbGxvd2VkIGJ1dCAwLTkgYXJlLlxudmFyIGJhc2VBU0NJSWlkZW50aWZpZXJDaGFycyA9IFwiXFxcXHgyNFxcXFx4MzAtXFxcXHgzOVxcXFx4NDEtXFxcXHg1YVxcXFx4NWZcXFxceDYxLVxcXFx4N2FcIjtcblxuLy8gQmlnIHVnbHkgcmVndWxhciBleHByZXNzaW9ucyB0aGF0IG1hdGNoIGNoYXJhY3RlcnMgaW4gdGhlXG4vLyB3aGl0ZXNwYWNlLCBpZGVudGlmaWVyLCBhbmQgaWRlbnRpZmllci1zdGFydCBjYXRlZ29yaWVzLiBUaGVzZVxuLy8gYXJlIG9ubHkgYXBwbGllZCB3aGVuIGEgY2hhcmFjdGVyIGlzIGZvdW5kIHRvIGFjdHVhbGx5IGhhdmUgYVxuLy8gY29kZSBwb2ludCBhYm92ZSAxMjguXG52YXIgbm9uQVNDSUlpZGVudGlmaWVyU3RhcnRDaGFycyA9IFwiXFxcXHhhYVxcXFx4YjVcXFxceGJhXFxcXHhjMC1cXFxceGQ2XFxcXHhkOC1cXFxceGY2XFxcXHhmOC1cXFxcdTAyYzFcXFxcdTAyYzYtXFxcXHUwMmQxXFxcXHUwMmUwLVxcXFx1MDJlNFxcXFx1MDJlY1xcXFx1MDJlZVxcXFx1MDM3MC1cXFxcdTAzNzRcXFxcdTAzNzZcXFxcdTAzNzdcXFxcdTAzN2EtXFxcXHUwMzdkXFxcXHUwMzg2XFxcXHUwMzg4LVxcXFx1MDM4YVxcXFx1MDM4Y1xcXFx1MDM4ZS1cXFxcdTAzYTFcXFxcdTAzYTMtXFxcXHUwM2Y1XFxcXHUwM2Y3LVxcXFx1MDQ4MVxcXFx1MDQ4YS1cXFxcdTA1MjdcXFxcdTA1MzEtXFxcXHUwNTU2XFxcXHUwNTU5XFxcXHUwNTYxLVxcXFx1MDU4N1xcXFx1MDVkMC1cXFxcdTA1ZWFcXFxcdTA1ZjAtXFxcXHUwNWYyXFxcXHUwNjIwLVxcXFx1MDY0YVxcXFx1MDY2ZVxcXFx1MDY2ZlxcXFx1MDY3MS1cXFxcdTA2ZDNcXFxcdTA2ZDVcXFxcdTA2ZTVcXFxcdTA2ZTZcXFxcdTA2ZWVcXFxcdTA2ZWZcXFxcdTA2ZmEtXFxcXHUwNmZjXFxcXHUwNmZmXFxcXHUwNzEwXFxcXHUwNzEyLVxcXFx1MDcyZlxcXFx1MDc0ZC1cXFxcdTA3YTVcXFxcdTA3YjFcXFxcdTA3Y2EtXFxcXHUwN2VhXFxcXHUwN2Y0XFxcXHUwN2Y1XFxcXHUwN2ZhXFxcXHUwODAwLVxcXFx1MDgxNVxcXFx1MDgxYVxcXFx1MDgyNFxcXFx1MDgyOFxcXFx1MDg0MC1cXFxcdTA4NThcXFxcdTA4YTBcXFxcdTA4YTItXFxcXHUwOGFjXFxcXHUwOTA0LVxcXFx1MDkzOVxcXFx1MDkzZFxcXFx1MDk1MFxcXFx1MDk1OC1cXFxcdTA5NjFcXFxcdTA5NzEtXFxcXHUwOTc3XFxcXHUwOTc5LVxcXFx1MDk3ZlxcXFx1MDk4NS1cXFxcdTA5OGNcXFxcdTA5OGZcXFxcdTA5OTBcXFxcdTA5OTMtXFxcXHUwOWE4XFxcXHUwOWFhLVxcXFx1MDliMFxcXFx1MDliMlxcXFx1MDliNi1cXFxcdTA5YjlcXFxcdTA5YmRcXFxcdTA5Y2VcXFxcdTA5ZGNcXFxcdTA5ZGRcXFxcdTA5ZGYtXFxcXHUwOWUxXFxcXHUwOWYwXFxcXHUwOWYxXFxcXHUwYTA1LVxcXFx1MGEwYVxcXFx1MGEwZlxcXFx1MGExMFxcXFx1MGExMy1cXFxcdTBhMjhcXFxcdTBhMmEtXFxcXHUwYTMwXFxcXHUwYTMyXFxcXHUwYTMzXFxcXHUwYTM1XFxcXHUwYTM2XFxcXHUwYTM4XFxcXHUwYTM5XFxcXHUwYTU5LVxcXFx1MGE1Y1xcXFx1MGE1ZVxcXFx1MGE3Mi1cXFxcdTBhNzRcXFxcdTBhODUtXFxcXHUwYThkXFxcXHUwYThmLVxcXFx1MGE5MVxcXFx1MGE5My1cXFxcdTBhYThcXFxcdTBhYWEtXFxcXHUwYWIwXFxcXHUwYWIyXFxcXHUwYWIzXFxcXHUwYWI1LVxcXFx1MGFiOVxcXFx1MGFiZFxcXFx1MGFkMFxcXFx1MGFlMFxcXFx1MGFlMVxcXFx1MGIwNS1cXFxcdTBiMGNcXFxcdTBiMGZcXFxcdTBiMTBcXFxcdTBiMTMtXFxcXHUwYjI4XFxcXHUwYjJhLVxcXFx1MGIzMFxcXFx1MGIzMlxcXFx1MGIzM1xcXFx1MGIzNS1cXFxcdTBiMzlcXFxcdTBiM2RcXFxcdTBiNWNcXFxcdTBiNWRcXFxcdTBiNWYtXFxcXHUwYjYxXFxcXHUwYjcxXFxcXHUwYjgzXFxcXHUwYjg1LVxcXFx1MGI4YVxcXFx1MGI4ZS1cXFxcdTBiOTBcXFxcdTBiOTItXFxcXHUwYjk1XFxcXHUwYjk5XFxcXHUwYjlhXFxcXHUwYjljXFxcXHUwYjllXFxcXHUwYjlmXFxcXHUwYmEzXFxcXHUwYmE0XFxcXHUwYmE4LVxcXFx1MGJhYVxcXFx1MGJhZS1cXFxcdTBiYjlcXFxcdTBiZDBcXFxcdTBjMDUtXFxcXHUwYzBjXFxcXHUwYzBlLVxcXFx1MGMxMFxcXFx1MGMxMi1cXFxcdTBjMjhcXFxcdTBjMmEtXFxcXHUwYzMzXFxcXHUwYzM1LVxcXFx1MGMzOVxcXFx1MGMzZFxcXFx1MGM1OFxcXFx1MGM1OVxcXFx1MGM2MFxcXFx1MGM2MVxcXFx1MGM4NS1cXFxcdTBjOGNcXFxcdTBjOGUtXFxcXHUwYzkwXFxcXHUwYzkyLVxcXFx1MGNhOFxcXFx1MGNhYS1cXFxcdTBjYjNcXFxcdTBjYjUtXFxcXHUwY2I5XFxcXHUwY2JkXFxcXHUwY2RlXFxcXHUwY2UwXFxcXHUwY2UxXFxcXHUwY2YxXFxcXHUwY2YyXFxcXHUwZDA1LVxcXFx1MGQwY1xcXFx1MGQwZS1cXFxcdTBkMTBcXFxcdTBkMTItXFxcXHUwZDNhXFxcXHUwZDNkXFxcXHUwZDRlXFxcXHUwZDYwXFxcXHUwZDYxXFxcXHUwZDdhLVxcXFx1MGQ3ZlxcXFx1MGQ4NS1cXFxcdTBkOTZcXFxcdTBkOWEtXFxcXHUwZGIxXFxcXHUwZGIzLVxcXFx1MGRiYlxcXFx1MGRiZFxcXFx1MGRjMC1cXFxcdTBkYzZcXFxcdTBlMDEtXFxcXHUwZTMwXFxcXHUwZTMyXFxcXHUwZTMzXFxcXHUwZTQwLVxcXFx1MGU0NlxcXFx1MGU4MVxcXFx1MGU4MlxcXFx1MGU4NFxcXFx1MGU4N1xcXFx1MGU4OFxcXFx1MGU4YVxcXFx1MGU4ZFxcXFx1MGU5NC1cXFxcdTBlOTdcXFxcdTBlOTktXFxcXHUwZTlmXFxcXHUwZWExLVxcXFx1MGVhM1xcXFx1MGVhNVxcXFx1MGVhN1xcXFx1MGVhYVxcXFx1MGVhYlxcXFx1MGVhZC1cXFxcdTBlYjBcXFxcdTBlYjJcXFxcdTBlYjNcXFxcdTBlYmRcXFxcdTBlYzAtXFxcXHUwZWM0XFxcXHUwZWM2XFxcXHUwZWRjLVxcXFx1MGVkZlxcXFx1MGYwMFxcXFx1MGY0MC1cXFxcdTBmNDdcXFxcdTBmNDktXFxcXHUwZjZjXFxcXHUwZjg4LVxcXFx1MGY4Y1xcXFx1MTAwMC1cXFxcdTEwMmFcXFxcdTEwM2ZcXFxcdTEwNTAtXFxcXHUxMDU1XFxcXHUxMDVhLVxcXFx1MTA1ZFxcXFx1MTA2MVxcXFx1MTA2NVxcXFx1MTA2NlxcXFx1MTA2ZS1cXFxcdTEwNzBcXFxcdTEwNzUtXFxcXHUxMDgxXFxcXHUxMDhlXFxcXHUxMGEwLVxcXFx1MTBjNVxcXFx1MTBjN1xcXFx1MTBjZFxcXFx1MTBkMC1cXFxcdTEwZmFcXFxcdTEwZmMtXFxcXHUxMjQ4XFxcXHUxMjRhLVxcXFx1MTI0ZFxcXFx1MTI1MC1cXFxcdTEyNTZcXFxcdTEyNThcXFxcdTEyNWEtXFxcXHUxMjVkXFxcXHUxMjYwLVxcXFx1MTI4OFxcXFx1MTI4YS1cXFxcdTEyOGRcXFxcdTEyOTAtXFxcXHUxMmIwXFxcXHUxMmIyLVxcXFx1MTJiNVxcXFx1MTJiOC1cXFxcdTEyYmVcXFxcdTEyYzBcXFxcdTEyYzItXFxcXHUxMmM1XFxcXHUxMmM4LVxcXFx1MTJkNlxcXFx1MTJkOC1cXFxcdTEzMTBcXFxcdTEzMTItXFxcXHUxMzE1XFxcXHUxMzE4LVxcXFx1MTM1YVxcXFx1MTM4MC1cXFxcdTEzOGZcXFxcdTEzYTAtXFxcXHUxM2Y0XFxcXHUxNDAxLVxcXFx1MTY2Y1xcXFx1MTY2Zi1cXFxcdTE2N2ZcXFxcdTE2ODEtXFxcXHUxNjlhXFxcXHUxNmEwLVxcXFx1MTZlYVxcXFx1MTZlZS1cXFxcdTE2ZjBcXFxcdTE3MDAtXFxcXHUxNzBjXFxcXHUxNzBlLVxcXFx1MTcxMVxcXFx1MTcyMC1cXFxcdTE3MzFcXFxcdTE3NDAtXFxcXHUxNzUxXFxcXHUxNzYwLVxcXFx1MTc2Y1xcXFx1MTc2ZS1cXFxcdTE3NzBcXFxcdTE3ODAtXFxcXHUxN2IzXFxcXHUxN2Q3XFxcXHUxN2RjXFxcXHUxODIwLVxcXFx1MTg3N1xcXFx1MTg4MC1cXFxcdTE4YThcXFxcdTE4YWFcXFxcdTE4YjAtXFxcXHUxOGY1XFxcXHUxOTAwLVxcXFx1MTkxY1xcXFx1MTk1MC1cXFxcdTE5NmRcXFxcdTE5NzAtXFxcXHUxOTc0XFxcXHUxOTgwLVxcXFx1MTlhYlxcXFx1MTljMS1cXFxcdTE5YzdcXFxcdTFhMDAtXFxcXHUxYTE2XFxcXHUxYTIwLVxcXFx1MWE1NFxcXFx1MWFhN1xcXFx1MWIwNS1cXFxcdTFiMzNcXFxcdTFiNDUtXFxcXHUxYjRiXFxcXHUxYjgzLVxcXFx1MWJhMFxcXFx1MWJhZVxcXFx1MWJhZlxcXFx1MWJiYS1cXFxcdTFiZTVcXFxcdTFjMDAtXFxcXHUxYzIzXFxcXHUxYzRkLVxcXFx1MWM0ZlxcXFx1MWM1YS1cXFxcdTFjN2RcXFxcdTFjZTktXFxcXHUxY2VjXFxcXHUxY2VlLVxcXFx1MWNmMVxcXFx1MWNmNVxcXFx1MWNmNlxcXFx1MWQwMC1cXFxcdTFkYmZcXFxcdTFlMDAtXFxcXHUxZjE1XFxcXHUxZjE4LVxcXFx1MWYxZFxcXFx1MWYyMC1cXFxcdTFmNDVcXFxcdTFmNDgtXFxcXHUxZjRkXFxcXHUxZjUwLVxcXFx1MWY1N1xcXFx1MWY1OVxcXFx1MWY1YlxcXFx1MWY1ZFxcXFx1MWY1Zi1cXFxcdTFmN2RcXFxcdTFmODAtXFxcXHUxZmI0XFxcXHUxZmI2LVxcXFx1MWZiY1xcXFx1MWZiZVxcXFx1MWZjMi1cXFxcdTFmYzRcXFxcdTFmYzYtXFxcXHUxZmNjXFxcXHUxZmQwLVxcXFx1MWZkM1xcXFx1MWZkNi1cXFxcdTFmZGJcXFxcdTFmZTAtXFxcXHUxZmVjXFxcXHUxZmYyLVxcXFx1MWZmNFxcXFx1MWZmNi1cXFxcdTFmZmNcXFxcdTIwNzFcXFxcdTIwN2ZcXFxcdTIwOTAtXFxcXHUyMDljXFxcXHUyMTAyXFxcXHUyMTA3XFxcXHUyMTBhLVxcXFx1MjExM1xcXFx1MjExNVxcXFx1MjExOS1cXFxcdTIxMWRcXFxcdTIxMjRcXFxcdTIxMjZcXFxcdTIxMjhcXFxcdTIxMmEtXFxcXHUyMTJkXFxcXHUyMTJmLVxcXFx1MjEzOVxcXFx1MjEzYy1cXFxcdTIxM2ZcXFxcdTIxNDUtXFxcXHUyMTQ5XFxcXHUyMTRlXFxcXHUyMTYwLVxcXFx1MjE4OFxcXFx1MmMwMC1cXFxcdTJjMmVcXFxcdTJjMzAtXFxcXHUyYzVlXFxcXHUyYzYwLVxcXFx1MmNlNFxcXFx1MmNlYi1cXFxcdTJjZWVcXFxcdTJjZjJcXFxcdTJjZjNcXFxcdTJkMDAtXFxcXHUyZDI1XFxcXHUyZDI3XFxcXHUyZDJkXFxcXHUyZDMwLVxcXFx1MmQ2N1xcXFx1MmQ2ZlxcXFx1MmQ4MC1cXFxcdTJkOTZcXFxcdTJkYTAtXFxcXHUyZGE2XFxcXHUyZGE4LVxcXFx1MmRhZVxcXFx1MmRiMC1cXFxcdTJkYjZcXFxcdTJkYjgtXFxcXHUyZGJlXFxcXHUyZGMwLVxcXFx1MmRjNlxcXFx1MmRjOC1cXFxcdTJkY2VcXFxcdTJkZDAtXFxcXHUyZGQ2XFxcXHUyZGQ4LVxcXFx1MmRkZVxcXFx1MmUyZlxcXFx1MzAwNS1cXFxcdTMwMDdcXFxcdTMwMjEtXFxcXHUzMDI5XFxcXHUzMDMxLVxcXFx1MzAzNVxcXFx1MzAzOC1cXFxcdTMwM2NcXFxcdTMwNDEtXFxcXHUzMDk2XFxcXHUzMDlkLVxcXFx1MzA5ZlxcXFx1MzBhMS1cXFxcdTMwZmFcXFxcdTMwZmMtXFxcXHUzMGZmXFxcXHUzMTA1LVxcXFx1MzEyZFxcXFx1MzEzMS1cXFxcdTMxOGVcXFxcdTMxYTAtXFxcXHUzMWJhXFxcXHUzMWYwLVxcXFx1MzFmZlxcXFx1MzQwMC1cXFxcdTRkYjVcXFxcdTRlMDAtXFxcXHU5ZmNjXFxcXHVhMDAwLVxcXFx1YTQ4Y1xcXFx1YTRkMC1cXFxcdWE0ZmRcXFxcdWE1MDAtXFxcXHVhNjBjXFxcXHVhNjEwLVxcXFx1YTYxZlxcXFx1YTYyYVxcXFx1YTYyYlxcXFx1YTY0MC1cXFxcdWE2NmVcXFxcdWE2N2YtXFxcXHVhNjk3XFxcXHVhNmEwLVxcXFx1YTZlZlxcXFx1YTcxNy1cXFxcdWE3MWZcXFxcdWE3MjItXFxcXHVhNzg4XFxcXHVhNzhiLVxcXFx1YTc4ZVxcXFx1YTc5MC1cXFxcdWE3OTNcXFxcdWE3YTAtXFxcXHVhN2FhXFxcXHVhN2Y4LVxcXFx1YTgwMVxcXFx1YTgwMy1cXFxcdWE4MDVcXFxcdWE4MDctXFxcXHVhODBhXFxcXHVhODBjLVxcXFx1YTgyMlxcXFx1YTg0MC1cXFxcdWE4NzNcXFxcdWE4ODItXFxcXHVhOGIzXFxcXHVhOGYyLVxcXFx1YThmN1xcXFx1YThmYlxcXFx1YTkwYS1cXFxcdWE5MjVcXFxcdWE5MzAtXFxcXHVhOTQ2XFxcXHVhOTYwLVxcXFx1YTk3Y1xcXFx1YTk4NC1cXFxcdWE5YjJcXFxcdWE5Y2ZcXFxcdWFhMDAtXFxcXHVhYTI4XFxcXHVhYTQwLVxcXFx1YWE0MlxcXFx1YWE0NC1cXFxcdWFhNGJcXFxcdWFhNjAtXFxcXHVhYTc2XFxcXHVhYTdhXFxcXHVhYTgwLVxcXFx1YWFhZlxcXFx1YWFiMVxcXFx1YWFiNVxcXFx1YWFiNlxcXFx1YWFiOS1cXFxcdWFhYmRcXFxcdWFhYzBcXFxcdWFhYzJcXFxcdWFhZGItXFxcXHVhYWRkXFxcXHVhYWUwLVxcXFx1YWFlYVxcXFx1YWFmMi1cXFxcdWFhZjRcXFxcdWFiMDEtXFxcXHVhYjA2XFxcXHVhYjA5LVxcXFx1YWIwZVxcXFx1YWIxMS1cXFxcdWFiMTZcXFxcdWFiMjAtXFxcXHVhYjI2XFxcXHVhYjI4LVxcXFx1YWIyZVxcXFx1YWJjMC1cXFxcdWFiZTJcXFxcdWFjMDAtXFxcXHVkN2EzXFxcXHVkN2IwLVxcXFx1ZDdjNlxcXFx1ZDdjYi1cXFxcdWQ3ZmJcXFxcdWY5MDAtXFxcXHVmYTZkXFxcXHVmYTcwLVxcXFx1ZmFkOVxcXFx1ZmIwMC1cXFxcdWZiMDZcXFxcdWZiMTMtXFxcXHVmYjE3XFxcXHVmYjFkXFxcXHVmYjFmLVxcXFx1ZmIyOFxcXFx1ZmIyYS1cXFxcdWZiMzZcXFxcdWZiMzgtXFxcXHVmYjNjXFxcXHVmYjNlXFxcXHVmYjQwXFxcXHVmYjQxXFxcXHVmYjQzXFxcXHVmYjQ0XFxcXHVmYjQ2LVxcXFx1ZmJiMVxcXFx1ZmJkMy1cXFxcdWZkM2RcXFxcdWZkNTAtXFxcXHVmZDhmXFxcXHVmZDkyLVxcXFx1ZmRjN1xcXFx1ZmRmMC1cXFxcdWZkZmJcXFxcdWZlNzAtXFxcXHVmZTc0XFxcXHVmZTc2LVxcXFx1ZmVmY1xcXFx1ZmYyMS1cXFxcdWZmM2FcXFxcdWZmNDEtXFxcXHVmZjVhXFxcXHVmZjY2LVxcXFx1ZmZiZVxcXFx1ZmZjMi1cXFxcdWZmYzdcXFxcdWZmY2EtXFxcXHVmZmNmXFxcXHVmZmQyLVxcXFx1ZmZkN1xcXFx1ZmZkYS1cXFxcdWZmZGNcIjtcbnZhciBub25BU0NJSWlkZW50aWZpZXJDaGFycyA9IFwiXFxcXHUwMzAwLVxcXFx1MDM2ZlxcXFx1MDQ4My1cXFxcdTA0ODdcXFxcdTA1OTEtXFxcXHUwNWJkXFxcXHUwNWJmXFxcXHUwNWMxXFxcXHUwNWMyXFxcXHUwNWM0XFxcXHUwNWM1XFxcXHUwNWM3XFxcXHUwNjEwLVxcXFx1MDYxYVxcXFx1MDYyMC1cXFxcdTA2NDlcXFxcdTA2NzItXFxcXHUwNmQzXFxcXHUwNmU3LVxcXFx1MDZlOFxcXFx1MDZmYi1cXFxcdTA2ZmNcXFxcdTA3MzAtXFxcXHUwNzRhXFxcXHUwODAwLVxcXFx1MDgxNFxcXFx1MDgxYi1cXFxcdTA4MjNcXFxcdTA4MjUtXFxcXHUwODI3XFxcXHUwODI5LVxcXFx1MDgyZFxcXFx1MDg0MC1cXFxcdTA4NTdcXFxcdTA4ZTQtXFxcXHUwOGZlXFxcXHUwOTAwLVxcXFx1MDkwM1xcXFx1MDkzYS1cXFxcdTA5M2NcXFxcdTA5M2UtXFxcXHUwOTRmXFxcXHUwOTUxLVxcXFx1MDk1N1xcXFx1MDk2Mi1cXFxcdTA5NjNcXFxcdTA5NjYtXFxcXHUwOTZmXFxcXHUwOTgxLVxcXFx1MDk4M1xcXFx1MDliY1xcXFx1MDliZS1cXFxcdTA5YzRcXFxcdTA5YzdcXFxcdTA5YzhcXFxcdTA5ZDdcXFxcdTA5ZGYtXFxcXHUwOWUwXFxcXHUwYTAxLVxcXFx1MGEwM1xcXFx1MGEzY1xcXFx1MGEzZS1cXFxcdTBhNDJcXFxcdTBhNDdcXFxcdTBhNDhcXFxcdTBhNGItXFxcXHUwYTRkXFxcXHUwYTUxXFxcXHUwYTY2LVxcXFx1MGE3MVxcXFx1MGE3NVxcXFx1MGE4MS1cXFxcdTBhODNcXFxcdTBhYmNcXFxcdTBhYmUtXFxcXHUwYWM1XFxcXHUwYWM3LVxcXFx1MGFjOVxcXFx1MGFjYi1cXFxcdTBhY2RcXFxcdTBhZTItXFxcXHUwYWUzXFxcXHUwYWU2LVxcXFx1MGFlZlxcXFx1MGIwMS1cXFxcdTBiMDNcXFxcdTBiM2NcXFxcdTBiM2UtXFxcXHUwYjQ0XFxcXHUwYjQ3XFxcXHUwYjQ4XFxcXHUwYjRiLVxcXFx1MGI0ZFxcXFx1MGI1NlxcXFx1MGI1N1xcXFx1MGI1Zi1cXFxcdTBiNjBcXFxcdTBiNjYtXFxcXHUwYjZmXFxcXHUwYjgyXFxcXHUwYmJlLVxcXFx1MGJjMlxcXFx1MGJjNi1cXFxcdTBiYzhcXFxcdTBiY2EtXFxcXHUwYmNkXFxcXHUwYmQ3XFxcXHUwYmU2LVxcXFx1MGJlZlxcXFx1MGMwMS1cXFxcdTBjMDNcXFxcdTBjNDYtXFxcXHUwYzQ4XFxcXHUwYzRhLVxcXFx1MGM0ZFxcXFx1MGM1NVxcXFx1MGM1NlxcXFx1MGM2Mi1cXFxcdTBjNjNcXFxcdTBjNjYtXFxcXHUwYzZmXFxcXHUwYzgyXFxcXHUwYzgzXFxcXHUwY2JjXFxcXHUwY2JlLVxcXFx1MGNjNFxcXFx1MGNjNi1cXFxcdTBjYzhcXFxcdTBjY2EtXFxcXHUwY2NkXFxcXHUwY2Q1XFxcXHUwY2Q2XFxcXHUwY2UyLVxcXFx1MGNlM1xcXFx1MGNlNi1cXFxcdTBjZWZcXFxcdTBkMDJcXFxcdTBkMDNcXFxcdTBkNDYtXFxcXHUwZDQ4XFxcXHUwZDU3XFxcXHUwZDYyLVxcXFx1MGQ2M1xcXFx1MGQ2Ni1cXFxcdTBkNmZcXFxcdTBkODJcXFxcdTBkODNcXFxcdTBkY2FcXFxcdTBkY2YtXFxcXHUwZGQ0XFxcXHUwZGQ2XFxcXHUwZGQ4LVxcXFx1MGRkZlxcXFx1MGRmMlxcXFx1MGRmM1xcXFx1MGUzNC1cXFxcdTBlM2FcXFxcdTBlNDAtXFxcXHUwZTQ1XFxcXHUwZTUwLVxcXFx1MGU1OVxcXFx1MGViNC1cXFxcdTBlYjlcXFxcdTBlYzgtXFxcXHUwZWNkXFxcXHUwZWQwLVxcXFx1MGVkOVxcXFx1MGYxOFxcXFx1MGYxOVxcXFx1MGYyMC1cXFxcdTBmMjlcXFxcdTBmMzVcXFxcdTBmMzdcXFxcdTBmMzlcXFxcdTBmNDEtXFxcXHUwZjQ3XFxcXHUwZjcxLVxcXFx1MGY4NFxcXFx1MGY4Ni1cXFxcdTBmODdcXFxcdTBmOGQtXFxcXHUwZjk3XFxcXHUwZjk5LVxcXFx1MGZiY1xcXFx1MGZjNlxcXFx1MTAwMC1cXFxcdTEwMjlcXFxcdTEwNDAtXFxcXHUxMDQ5XFxcXHUxMDY3LVxcXFx1MTA2ZFxcXFx1MTA3MS1cXFxcdTEwNzRcXFxcdTEwODItXFxcXHUxMDhkXFxcXHUxMDhmLVxcXFx1MTA5ZFxcXFx1MTM1ZC1cXFxcdTEzNWZcXFxcdTE3MGUtXFxcXHUxNzEwXFxcXHUxNzIwLVxcXFx1MTczMFxcXFx1MTc0MC1cXFxcdTE3NTBcXFxcdTE3NzJcXFxcdTE3NzNcXFxcdTE3ODAtXFxcXHUxN2IyXFxcXHUxN2RkXFxcXHUxN2UwLVxcXFx1MTdlOVxcXFx1MTgwYi1cXFxcdTE4MGRcXFxcdTE4MTAtXFxcXHUxODE5XFxcXHUxOTIwLVxcXFx1MTkyYlxcXFx1MTkzMC1cXFxcdTE5M2JcXFxcdTE5NTEtXFxcXHUxOTZkXFxcXHUxOWIwLVxcXFx1MTljMFxcXFx1MTljOC1cXFxcdTE5YzlcXFxcdTE5ZDAtXFxcXHUxOWQ5XFxcXHUxYTAwLVxcXFx1MWExNVxcXFx1MWEyMC1cXFxcdTFhNTNcXFxcdTFhNjAtXFxcXHUxYTdjXFxcXHUxYTdmLVxcXFx1MWE4OVxcXFx1MWE5MC1cXFxcdTFhOTlcXFxcdTFiNDYtXFxcXHUxYjRiXFxcXHUxYjUwLVxcXFx1MWI1OVxcXFx1MWI2Yi1cXFxcdTFiNzNcXFxcdTFiYjAtXFxcXHUxYmI5XFxcXHUxYmU2LVxcXFx1MWJmM1xcXFx1MWMwMC1cXFxcdTFjMjJcXFxcdTFjNDAtXFxcXHUxYzQ5XFxcXHUxYzViLVxcXFx1MWM3ZFxcXFx1MWNkMC1cXFxcdTFjZDJcXFxcdTFkMDAtXFxcXHUxZGJlXFxcXHUxZTAxLVxcXFx1MWYxNVxcXFx1MjAwY1xcXFx1MjAwZFxcXFx1MjAzZlxcXFx1MjA0MFxcXFx1MjA1NFxcXFx1MjBkMC1cXFxcdTIwZGNcXFxcdTIwZTFcXFxcdTIwZTUtXFxcXHUyMGYwXFxcXHUyZDgxLVxcXFx1MmQ5NlxcXFx1MmRlMC1cXFxcdTJkZmZcXFxcdTMwMjEtXFxcXHUzMDI4XFxcXHUzMDk5XFxcXHUzMDlhXFxcXHVhNjQwLVxcXFx1YTY2ZFxcXFx1YTY3NC1cXFxcdWE2N2RcXFxcdWE2OWZcXFxcdWE2ZjAtXFxcXHVhNmYxXFxcXHVhN2Y4LVxcXFx1YTgwMFxcXFx1YTgwNlxcXFx1YTgwYlxcXFx1YTgyMy1cXFxcdWE4MjdcXFxcdWE4ODAtXFxcXHVhODgxXFxcXHVhOGI0LVxcXFx1YThjNFxcXFx1YThkMC1cXFxcdWE4ZDlcXFxcdWE4ZjMtXFxcXHVhOGY3XFxcXHVhOTAwLVxcXFx1YTkwOVxcXFx1YTkyNi1cXFxcdWE5MmRcXFxcdWE5MzAtXFxcXHVhOTQ1XFxcXHVhOTgwLVxcXFx1YTk4M1xcXFx1YTliMy1cXFxcdWE5YzBcXFxcdWFhMDAtXFxcXHVhYTI3XFxcXHVhYTQwLVxcXFx1YWE0MVxcXFx1YWE0Yy1cXFxcdWFhNGRcXFxcdWFhNTAtXFxcXHVhYTU5XFxcXHVhYTdiXFxcXHVhYWUwLVxcXFx1YWFlOVxcXFx1YWFmMi1cXFxcdWFhZjNcXFxcdWFiYzAtXFxcXHVhYmUxXFxcXHVhYmVjXFxcXHVhYmVkXFxcXHVhYmYwLVxcXFx1YWJmOVxcXFx1ZmIyMC1cXFxcdWZiMjhcXFxcdWZlMDAtXFxcXHVmZTBmXFxcXHVmZTIwLVxcXFx1ZmUyNlxcXFx1ZmUzM1xcXFx1ZmUzNFxcXFx1ZmU0ZC1cXFxcdWZlNGZcXFxcdWZmMTAtXFxcXHVmZjE5XFxcXHVmZjNmXCI7XG4vL3ZhciBub25BU0NJSWlkZW50aWZpZXJTdGFydCA9IG5ldyBSZWdFeHAoXCJbXCIgKyBub25BU0NJSWlkZW50aWZpZXJTdGFydENoYXJzICsgXCJdXCIpO1xuLy92YXIgbm9uQVNDSUlpZGVudGlmaWVyID0gbmV3IFJlZ0V4cChcIltcIiArIG5vbkFTQ0lJaWRlbnRpZmllclN0YXJ0Q2hhcnMgKyBub25BU0NJSWlkZW50aWZpZXJDaGFycyArIFwiXVwiKTtcblxudmFyIGlkZW50aWZpZXJTdGFydCA9IFwiKD86XFxcXFxcXFx1WzAtOWEtZkEtRl17NH18W1wiICsgYmFzZUFTQ0lJaWRlbnRpZmllclN0YXJ0Q2hhcnMgKyBub25BU0NJSWlkZW50aWZpZXJTdGFydENoYXJzICsgXCJdKVwiO1xudmFyIGlkZW50aWZpZXJDaGFycyA9IFwiKD86XFxcXFxcXFx1WzAtOWEtZkEtRl17NH18W1wiICsgYmFzZUFTQ0lJaWRlbnRpZmllckNoYXJzICsgbm9uQVNDSUlpZGVudGlmaWVyU3RhcnRDaGFycyArIG5vbkFTQ0lJaWRlbnRpZmllckNoYXJzICsgXCJdKSpcIjtcblxuZXhwb3J0cy5pZGVudGlmaWVyID0gbmV3IFJlZ0V4cChpZGVudGlmaWVyU3RhcnQgKyBpZGVudGlmaWVyQ2hhcnMsICdnJyk7XG5leHBvcnRzLmlkZW50aWZpZXJTdGFydCA9IG5ldyBSZWdFeHAoaWRlbnRpZmllclN0YXJ0KTtcbmV4cG9ydHMuaWRlbnRpZmllck1hdGNoID0gbmV3IFJlZ0V4cChcIig/OlxcXFxcXFxcdVswLTlhLWZBLUZdezR9fFtcIiArIGJhc2VBU0NJSWlkZW50aWZpZXJDaGFycyArIG5vbkFTQ0lJaWRlbnRpZmllclN0YXJ0Q2hhcnMgKyBub25BU0NJSWlkZW50aWZpZXJDaGFycyArIFwiXSkrXCIpO1xuXG52YXIgbm9uQVNDSUl3aGl0ZXNwYWNlID0gL1tcXHUxNjgwXFx1MTgwZVxcdTIwMDAtXFx1MjAwYVxcdTIwMmZcXHUyMDVmXFx1MzAwMFxcdWZlZmZdLzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbi8vIFdoZXRoZXIgYSBzaW5nbGUgY2hhcmFjdGVyIGRlbm90ZXMgYSBuZXdsaW5lLlxuXG5leHBvcnRzLm5ld2xpbmUgPSAvW1xcblxcclxcdTIwMjhcXHUyMDI5XS87XG5cbi8vIE1hdGNoZXMgYSB3aG9sZSBsaW5lIGJyZWFrICh3aGVyZSBDUkxGIGlzIGNvbnNpZGVyZWQgYSBzaW5nbGVcbi8vIGxpbmUgYnJlYWspLiBVc2VkIHRvIGNvdW50IGxpbmVzLlxuXG4vLyBpbiBqYXZhc2NyaXB0LCB0aGVzZSB0d28gZGlmZmVyXG4vLyBpbiBweXRob24gdGhleSBhcmUgdGhlIHNhbWUsIGRpZmZlcmVudCBtZXRob2RzIGFyZSBjYWxsZWQgb24gdGhlbVxuZXhwb3J0cy5saW5lQnJlYWsgPSBuZXcgUmVnRXhwKCdcXHJcXG58JyArIGV4cG9ydHMubmV3bGluZS5zb3VyY2UpO1xuZXhwb3J0cy5hbGxMaW5lQnJlYWtzID0gbmV3IFJlZ0V4cChleHBvcnRzLmxpbmVCcmVhay5zb3VyY2UsICdnJyk7XG4iLCIvKmpzaGludCBub2RlOnRydWUgKi9cbi8qXG5cbiAgVGhlIE1JVCBMaWNlbnNlIChNSVQpXG5cbiAgQ29weXJpZ2h0IChjKSAyMDA3LTIwMTggRWluYXIgTGllbG1hbmlzLCBMaWFtIE5ld21hbiwgYW5kIGNvbnRyaWJ1dG9ycy5cblxuICBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvblxuICBvYnRhaW5pbmcgYSBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlc1xuICAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sXG4gIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsXG4gIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsXG4gIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sXG4gIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuXG4gIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlXG4gIGluY2x1ZGVkIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuXG4gIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsXG4gIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuICBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORFxuICBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTXG4gIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTlxuICBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTlxuICBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFXG4gIFNPRlRXQVJFLlxuKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgT3V0cHV0ID0gcmVxdWlyZSgnLi4vY29yZS9vdXRwdXQnKS5PdXRwdXQ7XG52YXIgVG9rZW4gPSByZXF1aXJlKCcuLi9jb3JlL3Rva2VuJykuVG9rZW47XG52YXIgYWNvcm4gPSByZXF1aXJlKCcuL2Fjb3JuJyk7XG52YXIgT3B0aW9ucyA9IHJlcXVpcmUoJy4vb3B0aW9ucycpLk9wdGlvbnM7XG52YXIgVG9rZW5pemVyID0gcmVxdWlyZSgnLi90b2tlbml6ZXInKS5Ub2tlbml6ZXI7XG52YXIgbGluZV9zdGFydGVycyA9IHJlcXVpcmUoJy4vdG9rZW5pemVyJykubGluZV9zdGFydGVycztcbnZhciBwb3NpdGlvbmFibGVfb3BlcmF0b3JzID0gcmVxdWlyZSgnLi90b2tlbml6ZXInKS5wb3NpdGlvbmFibGVfb3BlcmF0b3JzO1xudmFyIFRPS0VOID0gcmVxdWlyZSgnLi90b2tlbml6ZXInKS5UT0tFTjtcblxuXG5mdW5jdGlvbiBpbl9hcnJheSh3aGF0LCBhcnIpIHtcbiAgcmV0dXJuIGFyci5pbmRleE9mKHdoYXQpICE9PSAtMTtcbn1cblxuZnVuY3Rpb24gbHRyaW0ocykge1xuICByZXR1cm4gcy5yZXBsYWNlKC9eXFxzKy9nLCAnJyk7XG59XG5cbmZ1bmN0aW9uIGdlbmVyYXRlTWFwRnJvbVN0cmluZ3MobGlzdCkge1xuICB2YXIgcmVzdWx0ID0ge307XG4gIGZvciAodmFyIHggPSAwOyB4IDwgbGlzdC5sZW5ndGg7IHgrKykge1xuICAgIC8vIG1ha2UgdGhlIG1hcHBlZCBuYW1lcyB1bmRlcnNjb3JlZCBpbnN0ZWFkIG9mIGRhc2hcbiAgICByZXN1bHRbbGlzdFt4XS5yZXBsYWNlKC8tL2csICdfJyldID0gbGlzdFt4XTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiByZXNlcnZlZF93b3JkKHRva2VuLCB3b3JkKSB7XG4gIHJldHVybiB0b2tlbiAmJiB0b2tlbi50eXBlID09PSBUT0tFTi5SRVNFUlZFRCAmJiB0b2tlbi50ZXh0ID09PSB3b3JkO1xufVxuXG5mdW5jdGlvbiByZXNlcnZlZF9hcnJheSh0b2tlbiwgd29yZHMpIHtcbiAgcmV0dXJuIHRva2VuICYmIHRva2VuLnR5cGUgPT09IFRPS0VOLlJFU0VSVkVEICYmIGluX2FycmF5KHRva2VuLnRleHQsIHdvcmRzKTtcbn1cbi8vIFVuc3VyZSBvZiB3aGF0IHRoZXkgbWVhbiwgYnV0IHRoZXkgd29yay4gV29ydGggY2xlYW5pbmcgdXAgaW4gZnV0dXJlLlxudmFyIHNwZWNpYWxfd29yZHMgPSBbJ2Nhc2UnLCAncmV0dXJuJywgJ2RvJywgJ2lmJywgJ3Rocm93JywgJ2Vsc2UnLCAnYXdhaXQnLCAnYnJlYWsnLCAnY29udGludWUnLCAnYXN5bmMnXTtcblxudmFyIHZhbGlkUG9zaXRpb25WYWx1ZXMgPSBbJ2JlZm9yZS1uZXdsaW5lJywgJ2FmdGVyLW5ld2xpbmUnLCAncHJlc2VydmUtbmV3bGluZSddO1xuXG4vLyBHZW5lcmF0ZSBtYXAgZnJvbSBhcnJheVxudmFyIE9QRVJBVE9SX1BPU0lUSU9OID0gZ2VuZXJhdGVNYXBGcm9tU3RyaW5ncyh2YWxpZFBvc2l0aW9uVmFsdWVzKTtcblxudmFyIE9QRVJBVE9SX1BPU0lUSU9OX0JFRk9SRV9PUl9QUkVTRVJWRSA9IFtPUEVSQVRPUl9QT1NJVElPTi5iZWZvcmVfbmV3bGluZSwgT1BFUkFUT1JfUE9TSVRJT04ucHJlc2VydmVfbmV3bGluZV07XG5cbnZhciBNT0RFID0ge1xuICBCbG9ja1N0YXRlbWVudDogJ0Jsb2NrU3RhdGVtZW50JywgLy8gJ0JMT0NLJ1xuICBTdGF0ZW1lbnQ6ICdTdGF0ZW1lbnQnLCAvLyAnU1RBVEVNRU5UJ1xuICBPYmplY3RMaXRlcmFsOiAnT2JqZWN0TGl0ZXJhbCcsIC8vICdPQkpFQ1QnLFxuICBBcnJheUxpdGVyYWw6ICdBcnJheUxpdGVyYWwnLCAvLydbRVhQUkVTU0lPTl0nLFxuICBGb3JJbml0aWFsaXplcjogJ0ZvckluaXRpYWxpemVyJywgLy8nKEZPUi1FWFBSRVNTSU9OKScsXG4gIENvbmRpdGlvbmFsOiAnQ29uZGl0aW9uYWwnLCAvLycoQ09ORC1FWFBSRVNTSU9OKScsXG4gIEV4cHJlc3Npb246ICdFeHByZXNzaW9uJyAvLycoRVhQUkVTU0lPTiknXG59O1xuXG5mdW5jdGlvbiByZW1vdmVfcmVkdW5kYW50X2luZGVudGF0aW9uKG91dHB1dCwgZnJhbWUpIHtcbiAgLy8gVGhpcyBpbXBsZW1lbnRhdGlvbiBpcyBlZmZlY3RpdmUgYnV0IGhhcyBzb21lIGlzc3VlczpcbiAgLy8gICAgIC0gY2FuIGNhdXNlIGxpbmUgd3JhcCB0byBoYXBwZW4gdG9vIHNvb24gZHVlIHRvIGluZGVudCByZW1vdmFsXG4gIC8vICAgICAgICAgICBhZnRlciB3cmFwIHBvaW50cyBhcmUgY2FsY3VsYXRlZFxuICAvLyBUaGVzZSBpc3N1ZXMgYXJlIG1pbm9yIGNvbXBhcmVkIHRvIHVnbHkgaW5kZW50YXRpb24uXG5cbiAgaWYgKGZyYW1lLm11bHRpbGluZV9mcmFtZSB8fFxuICAgIGZyYW1lLm1vZGUgPT09IE1PREUuRm9ySW5pdGlhbGl6ZXIgfHxcbiAgICBmcmFtZS5tb2RlID09PSBNT0RFLkNvbmRpdGlvbmFsKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gcmVtb3ZlIG9uZSBpbmRlbnQgZnJvbSBlYWNoIGxpbmUgaW5zaWRlIHRoaXMgc2VjdGlvblxuICBvdXRwdXQucmVtb3ZlX2luZGVudChmcmFtZS5zdGFydF9saW5lX2luZGV4KTtcbn1cblxuLy8gd2UgY291bGQgdXNlIGp1c3Qgc3RyaW5nLnNwbGl0LCBidXRcbi8vIElFIGRvZXNuJ3QgbGlrZSByZXR1cm5pbmcgZW1wdHkgc3RyaW5nc1xuZnVuY3Rpb24gc3BsaXRfbGluZWJyZWFrcyhzKSB7XG4gIC8vcmV0dXJuIHMuc3BsaXQoL1xceDBkXFx4MGF8XFx4MGEvKTtcblxuICBzID0gcy5yZXBsYWNlKGFjb3JuLmFsbExpbmVCcmVha3MsICdcXG4nKTtcbiAgdmFyIG91dCA9IFtdLFxuICAgIGlkeCA9IHMuaW5kZXhPZihcIlxcblwiKTtcbiAgd2hpbGUgKGlkeCAhPT0gLTEpIHtcbiAgICBvdXQucHVzaChzLnN1YnN0cmluZygwLCBpZHgpKTtcbiAgICBzID0gcy5zdWJzdHJpbmcoaWR4ICsgMSk7XG4gICAgaWR4ID0gcy5pbmRleE9mKFwiXFxuXCIpO1xuICB9XG4gIGlmIChzLmxlbmd0aCkge1xuICAgIG91dC5wdXNoKHMpO1xuICB9XG4gIHJldHVybiBvdXQ7XG59XG5cbmZ1bmN0aW9uIGlzX2FycmF5KG1vZGUpIHtcbiAgcmV0dXJuIG1vZGUgPT09IE1PREUuQXJyYXlMaXRlcmFsO1xufVxuXG5mdW5jdGlvbiBpc19leHByZXNzaW9uKG1vZGUpIHtcbiAgcmV0dXJuIGluX2FycmF5KG1vZGUsIFtNT0RFLkV4cHJlc3Npb24sIE1PREUuRm9ySW5pdGlhbGl6ZXIsIE1PREUuQ29uZGl0aW9uYWxdKTtcbn1cblxuZnVuY3Rpb24gYWxsX2xpbmVzX3N0YXJ0X3dpdGgobGluZXMsIGMpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBsaW5lID0gbGluZXNbaV0udHJpbSgpO1xuICAgIGlmIChsaW5lLmNoYXJBdCgwKSAhPT0gYykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gZWFjaF9saW5lX21hdGNoZXNfaW5kZW50KGxpbmVzLCBpbmRlbnQpIHtcbiAgdmFyIGkgPSAwLFxuICAgIGxlbiA9IGxpbmVzLmxlbmd0aCxcbiAgICBsaW5lO1xuICBmb3IgKDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgbGluZSA9IGxpbmVzW2ldO1xuICAgIC8vIGFsbG93IGVtcHR5IGxpbmVzIHRvIHBhc3MgdGhyb3VnaFxuICAgIGlmIChsaW5lICYmIGxpbmUuaW5kZXhPZihpbmRlbnQpICE9PSAwKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG5cbmZ1bmN0aW9uIEJlYXV0aWZpZXIoc291cmNlX3RleHQsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIHRoaXMuX3NvdXJjZV90ZXh0ID0gc291cmNlX3RleHQgfHwgJyc7XG5cbiAgdGhpcy5fb3V0cHV0ID0gbnVsbDtcbiAgdGhpcy5fdG9rZW5zID0gbnVsbDtcbiAgdGhpcy5fbGFzdF9sYXN0X3RleHQgPSBudWxsO1xuICB0aGlzLl9mbGFncyA9IG51bGw7XG4gIHRoaXMuX3ByZXZpb3VzX2ZsYWdzID0gbnVsbDtcblxuICB0aGlzLl9mbGFnX3N0b3JlID0gbnVsbDtcbiAgdGhpcy5fb3B0aW9ucyA9IG5ldyBPcHRpb25zKG9wdGlvbnMpO1xufVxuXG5CZWF1dGlmaWVyLnByb3RvdHlwZS5jcmVhdGVfZmxhZ3MgPSBmdW5jdGlvbihmbGFnc19iYXNlLCBtb2RlKSB7XG4gIHZhciBuZXh0X2luZGVudF9sZXZlbCA9IDA7XG4gIGlmIChmbGFnc19iYXNlKSB7XG4gICAgbmV4dF9pbmRlbnRfbGV2ZWwgPSBmbGFnc19iYXNlLmluZGVudGF0aW9uX2xldmVsO1xuICAgIGlmICghdGhpcy5fb3V0cHV0Lmp1c3RfYWRkZWRfbmV3bGluZSgpICYmXG4gICAgICBmbGFnc19iYXNlLmxpbmVfaW5kZW50X2xldmVsID4gbmV4dF9pbmRlbnRfbGV2ZWwpIHtcbiAgICAgIG5leHRfaW5kZW50X2xldmVsID0gZmxhZ3NfYmFzZS5saW5lX2luZGVudF9sZXZlbDtcbiAgICB9XG4gIH1cblxuICB2YXIgbmV4dF9mbGFncyA9IHtcbiAgICBtb2RlOiBtb2RlLFxuICAgIHBhcmVudDogZmxhZ3NfYmFzZSxcbiAgICBsYXN0X3Rva2VuOiBmbGFnc19iYXNlID8gZmxhZ3NfYmFzZS5sYXN0X3Rva2VuIDogbmV3IFRva2VuKFRPS0VOLlNUQVJUX0JMT0NLLCAnJyksIC8vIGxhc3QgdG9rZW4gdGV4dFxuICAgIGxhc3Rfd29yZDogZmxhZ3NfYmFzZSA/IGZsYWdzX2Jhc2UubGFzdF93b3JkIDogJycsIC8vIGxhc3QgVE9LRU4uV09SRCBwYXNzZWRcbiAgICBkZWNsYXJhdGlvbl9zdGF0ZW1lbnQ6IGZhbHNlLFxuICAgIGRlY2xhcmF0aW9uX2Fzc2lnbm1lbnQ6IGZhbHNlLFxuICAgIG11bHRpbGluZV9mcmFtZTogZmFsc2UsXG4gICAgaW5saW5lX2ZyYW1lOiBmYWxzZSxcbiAgICBpZl9ibG9jazogZmFsc2UsXG4gICAgZWxzZV9ibG9jazogZmFsc2UsXG4gICAgZG9fYmxvY2s6IGZhbHNlLFxuICAgIGRvX3doaWxlOiBmYWxzZSxcbiAgICBpbXBvcnRfYmxvY2s6IGZhbHNlLFxuICAgIGluX2Nhc2Vfc3RhdGVtZW50OiBmYWxzZSwgLy8gc3dpdGNoKC4uKXsgSU5TSURFIEhFUkUgfVxuICAgIGluX2Nhc2U6IGZhbHNlLCAvLyB3ZSdyZSBvbiB0aGUgZXhhY3QgbGluZSB3aXRoIFwiY2FzZSAwOlwiXG4gICAgY2FzZV9ib2R5OiBmYWxzZSwgLy8gdGhlIGluZGVudGVkIGNhc2UtYWN0aW9uIGJsb2NrXG4gICAgaW5kZW50YXRpb25fbGV2ZWw6IG5leHRfaW5kZW50X2xldmVsLFxuICAgIGFsaWdubWVudDogMCxcbiAgICBsaW5lX2luZGVudF9sZXZlbDogZmxhZ3NfYmFzZSA/IGZsYWdzX2Jhc2UubGluZV9pbmRlbnRfbGV2ZWwgOiBuZXh0X2luZGVudF9sZXZlbCxcbiAgICBzdGFydF9saW5lX2luZGV4OiB0aGlzLl9vdXRwdXQuZ2V0X2xpbmVfbnVtYmVyKCksXG4gICAgdGVybmFyeV9kZXB0aDogMFxuICB9O1xuICByZXR1cm4gbmV4dF9mbGFncztcbn07XG5cbkJlYXV0aWZpZXIucHJvdG90eXBlLl9yZXNldCA9IGZ1bmN0aW9uKHNvdXJjZV90ZXh0KSB7XG4gIHZhciBiYXNlSW5kZW50U3RyaW5nID0gc291cmNlX3RleHQubWF0Y2goL15bXFx0IF0qLylbMF07XG5cbiAgdGhpcy5fbGFzdF9sYXN0X3RleHQgPSAnJzsgLy8gcHJlLWxhc3QgdG9rZW4gdGV4dFxuICB0aGlzLl9vdXRwdXQgPSBuZXcgT3V0cHV0KHRoaXMuX29wdGlvbnMsIGJhc2VJbmRlbnRTdHJpbmcpO1xuXG4gIC8vIElmIHRlc3RpbmcgdGhlIGlnbm9yZSBkaXJlY3RpdmUsIHN0YXJ0IHdpdGggb3V0cHV0IGRpc2FibGUgc2V0IHRvIHRydWVcbiAgdGhpcy5fb3V0cHV0LnJhdyA9IHRoaXMuX29wdGlvbnMudGVzdF9vdXRwdXRfcmF3O1xuXG5cbiAgLy8gU3RhY2sgb2YgcGFyc2luZy9mb3JtYXR0aW5nIHN0YXRlcywgaW5jbHVkaW5nIE1PREUuXG4gIC8vIFdlIHRva2VuaXplLCBwYXJzZSwgYW5kIG91dHB1dCBpbiBhbiBhbG1vc3QgcHVyZWx5IGEgZm9yd2FyZC1vbmx5IHN0cmVhbSBvZiB0b2tlbiBpbnB1dFxuICAvLyBhbmQgZm9ybWF0dGVkIG91dHB1dC4gIFRoaXMgbWFrZXMgdGhlIGJlYXV0aWZpZXIgbGVzcyBhY2N1cmF0ZSB0aGFuIGZ1bGwgcGFyc2Vyc1xuICAvLyBidXQgYWxzbyBmYXIgbW9yZSB0b2xlcmFudCBvZiBzeW50YXggZXJyb3JzLlxuICAvL1xuICAvLyBGb3IgZXhhbXBsZSwgdGhlIGRlZmF1bHQgbW9kZSBpcyBNT0RFLkJsb2NrU3RhdGVtZW50LiBJZiB3ZSBzZWUgYSAneycgd2UgcHVzaCBhIG5ldyBmcmFtZSBvZiB0eXBlXG4gIC8vIE1PREUuQmxvY2tTdGF0ZW1lbnQgb24gdGhlIHRoZSBzdGFjaywgZXZlbiB0aG91Z2ggaXQgY291bGQgYmUgb2JqZWN0IGxpdGVyYWwuICBJZiB3ZSBsYXRlclxuICAvLyBlbmNvdW50ZXIgYSBcIjpcIiwgd2UnbGwgc3dpdGNoIHRvIHRvIE1PREUuT2JqZWN0TGl0ZXJhbC4gIElmIHdlIHRoZW4gc2VlIGEgXCI7XCIsXG4gIC8vIG1vc3QgZnVsbCBwYXJzZXJzIHdvdWxkIGRpZSwgYnV0IHRoZSBiZWF1dGlmaWVyIGdyYWNlZnVsbHkgZmFsbHMgYmFjayB0b1xuICAvLyBNT0RFLkJsb2NrU3RhdGVtZW50IGFuZCBjb250aW51ZXMgb24uXG4gIHRoaXMuX2ZsYWdfc3RvcmUgPSBbXTtcbiAgdGhpcy5zZXRfbW9kZShNT0RFLkJsb2NrU3RhdGVtZW50KTtcbiAgdmFyIHRva2VuaXplciA9IG5ldyBUb2tlbml6ZXIoc291cmNlX3RleHQsIHRoaXMuX29wdGlvbnMpO1xuICB0aGlzLl90b2tlbnMgPSB0b2tlbml6ZXIudG9rZW5pemUoKTtcbiAgcmV0dXJuIHNvdXJjZV90ZXh0O1xufTtcblxuQmVhdXRpZmllci5wcm90b3R5cGUuYmVhdXRpZnkgPSBmdW5jdGlvbigpIHtcbiAgLy8gaWYgZGlzYWJsZWQsIHJldHVybiB0aGUgaW5wdXQgdW5jaGFuZ2VkLlxuICBpZiAodGhpcy5fb3B0aW9ucy5kaXNhYmxlZCkge1xuICAgIHJldHVybiB0aGlzLl9zb3VyY2VfdGV4dDtcbiAgfVxuXG4gIHZhciBzd2VldF9jb2RlO1xuICB2YXIgc291cmNlX3RleHQgPSB0aGlzLl9yZXNldCh0aGlzLl9zb3VyY2VfdGV4dCk7XG5cbiAgdmFyIGVvbCA9IHRoaXMuX29wdGlvbnMuZW9sO1xuICBpZiAodGhpcy5fb3B0aW9ucy5lb2wgPT09ICdhdXRvJykge1xuICAgIGVvbCA9ICdcXG4nO1xuICAgIGlmIChzb3VyY2VfdGV4dCAmJiBhY29ybi5saW5lQnJlYWsudGVzdChzb3VyY2VfdGV4dCB8fCAnJykpIHtcbiAgICAgIGVvbCA9IHNvdXJjZV90ZXh0Lm1hdGNoKGFjb3JuLmxpbmVCcmVhaylbMF07XG4gICAgfVxuICB9XG5cbiAgdmFyIGN1cnJlbnRfdG9rZW4gPSB0aGlzLl90b2tlbnMubmV4dCgpO1xuICB3aGlsZSAoY3VycmVudF90b2tlbikge1xuICAgIHRoaXMuaGFuZGxlX3Rva2VuKGN1cnJlbnRfdG9rZW4pO1xuXG4gICAgdGhpcy5fbGFzdF9sYXN0X3RleHQgPSB0aGlzLl9mbGFncy5sYXN0X3Rva2VuLnRleHQ7XG4gICAgdGhpcy5fZmxhZ3MubGFzdF90b2tlbiA9IGN1cnJlbnRfdG9rZW47XG5cbiAgICBjdXJyZW50X3Rva2VuID0gdGhpcy5fdG9rZW5zLm5leHQoKTtcbiAgfVxuXG4gIHN3ZWV0X2NvZGUgPSB0aGlzLl9vdXRwdXQuZ2V0X2NvZGUoZW9sKTtcblxuICByZXR1cm4gc3dlZXRfY29kZTtcbn07XG5cbkJlYXV0aWZpZXIucHJvdG90eXBlLmhhbmRsZV90b2tlbiA9IGZ1bmN0aW9uKGN1cnJlbnRfdG9rZW4sIHByZXNlcnZlX3N0YXRlbWVudF9mbGFncykge1xuICBpZiAoY3VycmVudF90b2tlbi50eXBlID09PSBUT0tFTi5TVEFSVF9FWFBSKSB7XG4gICAgdGhpcy5oYW5kbGVfc3RhcnRfZXhwcihjdXJyZW50X3Rva2VuKTtcbiAgfSBlbHNlIGlmIChjdXJyZW50X3Rva2VuLnR5cGUgPT09IFRPS0VOLkVORF9FWFBSKSB7XG4gICAgdGhpcy5oYW5kbGVfZW5kX2V4cHIoY3VycmVudF90b2tlbik7XG4gIH0gZWxzZSBpZiAoY3VycmVudF90b2tlbi50eXBlID09PSBUT0tFTi5TVEFSVF9CTE9DSykge1xuICAgIHRoaXMuaGFuZGxlX3N0YXJ0X2Jsb2NrKGN1cnJlbnRfdG9rZW4pO1xuICB9IGVsc2UgaWYgKGN1cnJlbnRfdG9rZW4udHlwZSA9PT0gVE9LRU4uRU5EX0JMT0NLKSB7XG4gICAgdGhpcy5oYW5kbGVfZW5kX2Jsb2NrKGN1cnJlbnRfdG9rZW4pO1xuICB9IGVsc2UgaWYgKGN1cnJlbnRfdG9rZW4udHlwZSA9PT0gVE9LRU4uV09SRCkge1xuICAgIHRoaXMuaGFuZGxlX3dvcmQoY3VycmVudF90b2tlbik7XG4gIH0gZWxzZSBpZiAoY3VycmVudF90b2tlbi50eXBlID09PSBUT0tFTi5SRVNFUlZFRCkge1xuICAgIHRoaXMuaGFuZGxlX3dvcmQoY3VycmVudF90b2tlbik7XG4gIH0gZWxzZSBpZiAoY3VycmVudF90b2tlbi50eXBlID09PSBUT0tFTi5TRU1JQ09MT04pIHtcbiAgICB0aGlzLmhhbmRsZV9zZW1pY29sb24oY3VycmVudF90b2tlbik7XG4gIH0gZWxzZSBpZiAoY3VycmVudF90b2tlbi50eXBlID09PSBUT0tFTi5TVFJJTkcpIHtcbiAgICB0aGlzLmhhbmRsZV9zdHJpbmcoY3VycmVudF90b2tlbik7XG4gIH0gZWxzZSBpZiAoY3VycmVudF90b2tlbi50eXBlID09PSBUT0tFTi5FUVVBTFMpIHtcbiAgICB0aGlzLmhhbmRsZV9lcXVhbHMoY3VycmVudF90b2tlbik7XG4gIH0gZWxzZSBpZiAoY3VycmVudF90b2tlbi50eXBlID09PSBUT0tFTi5PUEVSQVRPUikge1xuICAgIHRoaXMuaGFuZGxlX29wZXJhdG9yKGN1cnJlbnRfdG9rZW4pO1xuICB9IGVsc2UgaWYgKGN1cnJlbnRfdG9rZW4udHlwZSA9PT0gVE9LRU4uQ09NTUEpIHtcbiAgICB0aGlzLmhhbmRsZV9jb21tYShjdXJyZW50X3Rva2VuKTtcbiAgfSBlbHNlIGlmIChjdXJyZW50X3Rva2VuLnR5cGUgPT09IFRPS0VOLkJMT0NLX0NPTU1FTlQpIHtcbiAgICB0aGlzLmhhbmRsZV9ibG9ja19jb21tZW50KGN1cnJlbnRfdG9rZW4sIHByZXNlcnZlX3N0YXRlbWVudF9mbGFncyk7XG4gIH0gZWxzZSBpZiAoY3VycmVudF90b2tlbi50eXBlID09PSBUT0tFTi5DT01NRU5UKSB7XG4gICAgdGhpcy5oYW5kbGVfY29tbWVudChjdXJyZW50X3Rva2VuLCBwcmVzZXJ2ZV9zdGF0ZW1lbnRfZmxhZ3MpO1xuICB9IGVsc2UgaWYgKGN1cnJlbnRfdG9rZW4udHlwZSA9PT0gVE9LRU4uRE9UKSB7XG4gICAgdGhpcy5oYW5kbGVfZG90KGN1cnJlbnRfdG9rZW4pO1xuICB9IGVsc2UgaWYgKGN1cnJlbnRfdG9rZW4udHlwZSA9PT0gVE9LRU4uRU9GKSB7XG4gICAgdGhpcy5oYW5kbGVfZW9mKGN1cnJlbnRfdG9rZW4pO1xuICB9IGVsc2UgaWYgKGN1cnJlbnRfdG9rZW4udHlwZSA9PT0gVE9LRU4uVU5LTk9XTikge1xuICAgIHRoaXMuaGFuZGxlX3Vua25vd24oY3VycmVudF90b2tlbiwgcHJlc2VydmVfc3RhdGVtZW50X2ZsYWdzKTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLmhhbmRsZV91bmtub3duKGN1cnJlbnRfdG9rZW4sIHByZXNlcnZlX3N0YXRlbWVudF9mbGFncyk7XG4gIH1cbn07XG5cbkJlYXV0aWZpZXIucHJvdG90eXBlLmhhbmRsZV93aGl0ZXNwYWNlX2FuZF9jb21tZW50cyA9IGZ1bmN0aW9uKGN1cnJlbnRfdG9rZW4sIHByZXNlcnZlX3N0YXRlbWVudF9mbGFncykge1xuICB2YXIgbmV3bGluZXMgPSBjdXJyZW50X3Rva2VuLm5ld2xpbmVzO1xuICB2YXIga2VlcF93aGl0ZXNwYWNlID0gdGhpcy5fb3B0aW9ucy5rZWVwX2FycmF5X2luZGVudGF0aW9uICYmIGlzX2FycmF5KHRoaXMuX2ZsYWdzLm1vZGUpO1xuXG4gIGlmIChjdXJyZW50X3Rva2VuLmNvbW1lbnRzX2JlZm9yZSkge1xuICAgIHZhciBjb21tZW50X3Rva2VuID0gY3VycmVudF90b2tlbi5jb21tZW50c19iZWZvcmUubmV4dCgpO1xuICAgIHdoaWxlIChjb21tZW50X3Rva2VuKSB7XG4gICAgICAvLyBUaGUgY2xlYW5lc3QgaGFuZGxpbmcgb2YgaW5saW5lIGNvbW1lbnRzIGlzIHRvIHRyZWF0IHRoZW0gYXMgdGhvdWdoIHRoZXkgYXJlbid0IHRoZXJlLlxuICAgICAgLy8gSnVzdCBjb250aW51ZSBmb3JtYXR0aW5nIGFuZCB0aGUgYmVoYXZpb3Igc2hvdWxkIGJlIGxvZ2ljYWwuXG4gICAgICAvLyBBbHNvIGlnbm9yZSB1bmtub3duIHRva2Vucy4gIEFnYWluLCB0aGlzIHNob3VsZCByZXN1bHQgaW4gYmV0dGVyIGJlaGF2aW9yLlxuICAgICAgdGhpcy5oYW5kbGVfd2hpdGVzcGFjZV9hbmRfY29tbWVudHMoY29tbWVudF90b2tlbiwgcHJlc2VydmVfc3RhdGVtZW50X2ZsYWdzKTtcbiAgICAgIHRoaXMuaGFuZGxlX3Rva2VuKGNvbW1lbnRfdG9rZW4sIHByZXNlcnZlX3N0YXRlbWVudF9mbGFncyk7XG4gICAgICBjb21tZW50X3Rva2VuID0gY3VycmVudF90b2tlbi5jb21tZW50c19iZWZvcmUubmV4dCgpO1xuICAgIH1cbiAgfVxuXG4gIGlmIChrZWVwX3doaXRlc3BhY2UpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5ld2xpbmVzOyBpICs9IDEpIHtcbiAgICAgIHRoaXMucHJpbnRfbmV3bGluZShpID4gMCwgcHJlc2VydmVfc3RhdGVtZW50X2ZsYWdzKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKHRoaXMuX29wdGlvbnMubWF4X3ByZXNlcnZlX25ld2xpbmVzICYmIG5ld2xpbmVzID4gdGhpcy5fb3B0aW9ucy5tYXhfcHJlc2VydmVfbmV3bGluZXMpIHtcbiAgICAgIG5ld2xpbmVzID0gdGhpcy5fb3B0aW9ucy5tYXhfcHJlc2VydmVfbmV3bGluZXM7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX29wdGlvbnMucHJlc2VydmVfbmV3bGluZXMpIHtcbiAgICAgIGlmIChuZXdsaW5lcyA+IDEpIHtcbiAgICAgICAgdGhpcy5wcmludF9uZXdsaW5lKGZhbHNlLCBwcmVzZXJ2ZV9zdGF0ZW1lbnRfZmxhZ3MpO1xuICAgICAgICBmb3IgKHZhciBqID0gMTsgaiA8IG5ld2xpbmVzOyBqICs9IDEpIHtcbiAgICAgICAgICB0aGlzLnByaW50X25ld2xpbmUodHJ1ZSwgcHJlc2VydmVfc3RhdGVtZW50X2ZsYWdzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG59O1xuXG52YXIgbmV3bGluZV9yZXN0cmljdGVkX3Rva2VucyA9IFsnYXN5bmMnLCAnYnJlYWsnLCAnY29udGludWUnLCAncmV0dXJuJywgJ3Rocm93JywgJ3lpZWxkJ107XG5cbkJlYXV0aWZpZXIucHJvdG90eXBlLmFsbG93X3dyYXBfb3JfcHJlc2VydmVkX25ld2xpbmUgPSBmdW5jdGlvbihjdXJyZW50X3Rva2VuLCBmb3JjZV9saW5ld3JhcCkge1xuICBmb3JjZV9saW5ld3JhcCA9IChmb3JjZV9saW5ld3JhcCA9PT0gdW5kZWZpbmVkKSA/IGZhbHNlIDogZm9yY2VfbGluZXdyYXA7XG5cbiAgLy8gTmV2ZXIgd3JhcCB0aGUgZmlyc3QgdG9rZW4gb24gYSBsaW5lXG4gIGlmICh0aGlzLl9vdXRwdXQuanVzdF9hZGRlZF9uZXdsaW5lKCkpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgc2hvdWxkUHJlc2VydmVPckZvcmNlID0gKHRoaXMuX29wdGlvbnMucHJlc2VydmVfbmV3bGluZXMgJiYgY3VycmVudF90b2tlbi5uZXdsaW5lcykgfHwgZm9yY2VfbGluZXdyYXA7XG4gIHZhciBvcGVyYXRvckxvZ2ljQXBwbGllcyA9IGluX2FycmF5KHRoaXMuX2ZsYWdzLmxhc3RfdG9rZW4udGV4dCwgcG9zaXRpb25hYmxlX29wZXJhdG9ycykgfHxcbiAgICBpbl9hcnJheShjdXJyZW50X3Rva2VuLnRleHQsIHBvc2l0aW9uYWJsZV9vcGVyYXRvcnMpO1xuXG4gIGlmIChvcGVyYXRvckxvZ2ljQXBwbGllcykge1xuICAgIHZhciBzaG91bGRQcmludE9wZXJhdG9yTmV3bGluZSA9IChcbiAgICAgICAgaW5fYXJyYXkodGhpcy5fZmxhZ3MubGFzdF90b2tlbi50ZXh0LCBwb3NpdGlvbmFibGVfb3BlcmF0b3JzKSAmJlxuICAgICAgICBpbl9hcnJheSh0aGlzLl9vcHRpb25zLm9wZXJhdG9yX3Bvc2l0aW9uLCBPUEVSQVRPUl9QT1NJVElPTl9CRUZPUkVfT1JfUFJFU0VSVkUpXG4gICAgICApIHx8XG4gICAgICBpbl9hcnJheShjdXJyZW50X3Rva2VuLnRleHQsIHBvc2l0aW9uYWJsZV9vcGVyYXRvcnMpO1xuICAgIHNob3VsZFByZXNlcnZlT3JGb3JjZSA9IHNob3VsZFByZXNlcnZlT3JGb3JjZSAmJiBzaG91bGRQcmludE9wZXJhdG9yTmV3bGluZTtcbiAgfVxuXG4gIGlmIChzaG91bGRQcmVzZXJ2ZU9yRm9yY2UpIHtcbiAgICB0aGlzLnByaW50X25ld2xpbmUoZmFsc2UsIHRydWUpO1xuICB9IGVsc2UgaWYgKHRoaXMuX29wdGlvbnMud3JhcF9saW5lX2xlbmd0aCkge1xuICAgIGlmIChyZXNlcnZlZF9hcnJheSh0aGlzLl9mbGFncy5sYXN0X3Rva2VuLCBuZXdsaW5lX3Jlc3RyaWN0ZWRfdG9rZW5zKSkge1xuICAgICAgLy8gVGhlc2UgdG9rZW5zIHNob3VsZCBuZXZlciBoYXZlIGEgbmV3bGluZSBpbnNlcnRlZFxuICAgICAgLy8gYmV0d2VlbiB0aGVtIGFuZCB0aGUgZm9sbG93aW5nIGV4cHJlc3Npb24uXG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuX291dHB1dC5zZXRfd3JhcF9wb2ludCgpO1xuICB9XG59O1xuXG5CZWF1dGlmaWVyLnByb3RvdHlwZS5wcmludF9uZXdsaW5lID0gZnVuY3Rpb24oZm9yY2VfbmV3bGluZSwgcHJlc2VydmVfc3RhdGVtZW50X2ZsYWdzKSB7XG4gIGlmICghcHJlc2VydmVfc3RhdGVtZW50X2ZsYWdzKSB7XG4gICAgaWYgKHRoaXMuX2ZsYWdzLmxhc3RfdG9rZW4udGV4dCAhPT0gJzsnICYmIHRoaXMuX2ZsYWdzLmxhc3RfdG9rZW4udGV4dCAhPT0gJywnICYmIHRoaXMuX2ZsYWdzLmxhc3RfdG9rZW4udGV4dCAhPT0gJz0nICYmICh0aGlzLl9mbGFncy5sYXN0X3Rva2VuLnR5cGUgIT09IFRPS0VOLk9QRVJBVE9SIHx8IHRoaXMuX2ZsYWdzLmxhc3RfdG9rZW4udGV4dCA9PT0gJy0tJyB8fCB0aGlzLl9mbGFncy5sYXN0X3Rva2VuLnRleHQgPT09ICcrKycpKSB7XG4gICAgICB2YXIgbmV4dF90b2tlbiA9IHRoaXMuX3Rva2Vucy5wZWVrKCk7XG4gICAgICB3aGlsZSAodGhpcy5fZmxhZ3MubW9kZSA9PT0gTU9ERS5TdGF0ZW1lbnQgJiZcbiAgICAgICAgISh0aGlzLl9mbGFncy5pZl9ibG9jayAmJiByZXNlcnZlZF93b3JkKG5leHRfdG9rZW4sICdlbHNlJykpICYmXG4gICAgICAgICF0aGlzLl9mbGFncy5kb19ibG9jaykge1xuICAgICAgICB0aGlzLnJlc3RvcmVfbW9kZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGlmICh0aGlzLl9vdXRwdXQuYWRkX25ld19saW5lKGZvcmNlX25ld2xpbmUpKSB7XG4gICAgdGhpcy5fZmxhZ3MubXVsdGlsaW5lX2ZyYW1lID0gdHJ1ZTtcbiAgfVxufTtcblxuQmVhdXRpZmllci5wcm90b3R5cGUucHJpbnRfdG9rZW5fbGluZV9pbmRlbnRhdGlvbiA9IGZ1bmN0aW9uKGN1cnJlbnRfdG9rZW4pIHtcbiAgaWYgKHRoaXMuX291dHB1dC5qdXN0X2FkZGVkX25ld2xpbmUoKSkge1xuICAgIGlmICh0aGlzLl9vcHRpb25zLmtlZXBfYXJyYXlfaW5kZW50YXRpb24gJiZcbiAgICAgIGN1cnJlbnRfdG9rZW4ubmV3bGluZXMgJiZcbiAgICAgIChjdXJyZW50X3Rva2VuLnRleHQgPT09ICdbJyB8fCBpc19hcnJheSh0aGlzLl9mbGFncy5tb2RlKSkpIHtcbiAgICAgIHRoaXMuX291dHB1dC5jdXJyZW50X2xpbmUuc2V0X2luZGVudCgtMSk7XG4gICAgICB0aGlzLl9vdXRwdXQuY3VycmVudF9saW5lLnB1c2goY3VycmVudF90b2tlbi53aGl0ZXNwYWNlX2JlZm9yZSk7XG4gICAgICB0aGlzLl9vdXRwdXQuc3BhY2VfYmVmb3JlX3Rva2VuID0gZmFsc2U7XG4gICAgfSBlbHNlIGlmICh0aGlzLl9vdXRwdXQuc2V0X2luZGVudCh0aGlzLl9mbGFncy5pbmRlbnRhdGlvbl9sZXZlbCwgdGhpcy5fZmxhZ3MuYWxpZ25tZW50KSkge1xuICAgICAgdGhpcy5fZmxhZ3MubGluZV9pbmRlbnRfbGV2ZWwgPSB0aGlzLl9mbGFncy5pbmRlbnRhdGlvbl9sZXZlbDtcbiAgICB9XG4gIH1cbn07XG5cbkJlYXV0aWZpZXIucHJvdG90eXBlLnByaW50X3Rva2VuID0gZnVuY3Rpb24oY3VycmVudF90b2tlbikge1xuICBpZiAodGhpcy5fb3V0cHV0LnJhdykge1xuICAgIHRoaXMuX291dHB1dC5hZGRfcmF3X3Rva2VuKGN1cnJlbnRfdG9rZW4pO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmICh0aGlzLl9vcHRpb25zLmNvbW1hX2ZpcnN0ICYmIGN1cnJlbnRfdG9rZW4ucHJldmlvdXMgJiYgY3VycmVudF90b2tlbi5wcmV2aW91cy50eXBlID09PSBUT0tFTi5DT01NQSAmJlxuICAgIHRoaXMuX291dHB1dC5qdXN0X2FkZGVkX25ld2xpbmUoKSkge1xuICAgIGlmICh0aGlzLl9vdXRwdXQucHJldmlvdXNfbGluZS5sYXN0KCkgPT09ICcsJykge1xuICAgICAgdmFyIHBvcHBlZCA9IHRoaXMuX291dHB1dC5wcmV2aW91c19saW5lLnBvcCgpO1xuICAgICAgLy8gaWYgdGhlIGNvbW1hIHdhcyBhbHJlYWR5IGF0IHRoZSBzdGFydCBvZiB0aGUgbGluZSxcbiAgICAgIC8vIHB1bGwgYmFjayBvbnRvIHRoYXQgbGluZSBhbmQgcmVwcmludCB0aGUgaW5kZW50YXRpb25cbiAgICAgIGlmICh0aGlzLl9vdXRwdXQucHJldmlvdXNfbGluZS5pc19lbXB0eSgpKSB7XG4gICAgICAgIHRoaXMuX291dHB1dC5wcmV2aW91c19saW5lLnB1c2gocG9wcGVkKTtcbiAgICAgICAgdGhpcy5fb3V0cHV0LnRyaW0odHJ1ZSk7XG4gICAgICAgIHRoaXMuX291dHB1dC5jdXJyZW50X2xpbmUucG9wKCk7XG4gICAgICAgIHRoaXMuX291dHB1dC50cmltKCk7XG4gICAgICB9XG5cbiAgICAgIC8vIGFkZCB0aGUgY29tbWEgaW4gZnJvbnQgb2YgdGhlIG5leHQgdG9rZW5cbiAgICAgIHRoaXMucHJpbnRfdG9rZW5fbGluZV9pbmRlbnRhdGlvbihjdXJyZW50X3Rva2VuKTtcbiAgICAgIHRoaXMuX291dHB1dC5hZGRfdG9rZW4oJywnKTtcbiAgICAgIHRoaXMuX291dHB1dC5zcGFjZV9iZWZvcmVfdG9rZW4gPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHRoaXMucHJpbnRfdG9rZW5fbGluZV9pbmRlbnRhdGlvbihjdXJyZW50X3Rva2VuKTtcbiAgdGhpcy5fb3V0cHV0Lm5vbl9icmVha2luZ19zcGFjZSA9IHRydWU7XG4gIHRoaXMuX291dHB1dC5hZGRfdG9rZW4oY3VycmVudF90b2tlbi50ZXh0KTtcbiAgaWYgKHRoaXMuX291dHB1dC5wcmV2aW91c190b2tlbl93cmFwcGVkKSB7XG4gICAgdGhpcy5fZmxhZ3MubXVsdGlsaW5lX2ZyYW1lID0gdHJ1ZTtcbiAgfVxufTtcblxuQmVhdXRpZmllci5wcm90b3R5cGUuaW5kZW50ID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuX2ZsYWdzLmluZGVudGF0aW9uX2xldmVsICs9IDE7XG4gIHRoaXMuX291dHB1dC5zZXRfaW5kZW50KHRoaXMuX2ZsYWdzLmluZGVudGF0aW9uX2xldmVsLCB0aGlzLl9mbGFncy5hbGlnbm1lbnQpO1xufTtcblxuQmVhdXRpZmllci5wcm90b3R5cGUuZGVpbmRlbnQgPSBmdW5jdGlvbigpIHtcbiAgaWYgKHRoaXMuX2ZsYWdzLmluZGVudGF0aW9uX2xldmVsID4gMCAmJlxuICAgICgoIXRoaXMuX2ZsYWdzLnBhcmVudCkgfHwgdGhpcy5fZmxhZ3MuaW5kZW50YXRpb25fbGV2ZWwgPiB0aGlzLl9mbGFncy5wYXJlbnQuaW5kZW50YXRpb25fbGV2ZWwpKSB7XG4gICAgdGhpcy5fZmxhZ3MuaW5kZW50YXRpb25fbGV2ZWwgLT0gMTtcbiAgICB0aGlzLl9vdXRwdXQuc2V0X2luZGVudCh0aGlzLl9mbGFncy5pbmRlbnRhdGlvbl9sZXZlbCwgdGhpcy5fZmxhZ3MuYWxpZ25tZW50KTtcbiAgfVxufTtcblxuQmVhdXRpZmllci5wcm90b3R5cGUuc2V0X21vZGUgPSBmdW5jdGlvbihtb2RlKSB7XG4gIGlmICh0aGlzLl9mbGFncykge1xuICAgIHRoaXMuX2ZsYWdfc3RvcmUucHVzaCh0aGlzLl9mbGFncyk7XG4gICAgdGhpcy5fcHJldmlvdXNfZmxhZ3MgPSB0aGlzLl9mbGFncztcbiAgfSBlbHNlIHtcbiAgICB0aGlzLl9wcmV2aW91c19mbGFncyA9IHRoaXMuY3JlYXRlX2ZsYWdzKG51bGwsIG1vZGUpO1xuICB9XG5cbiAgdGhpcy5fZmxhZ3MgPSB0aGlzLmNyZWF0ZV9mbGFncyh0aGlzLl9wcmV2aW91c19mbGFncywgbW9kZSk7XG4gIHRoaXMuX291dHB1dC5zZXRfaW5kZW50KHRoaXMuX2ZsYWdzLmluZGVudGF0aW9uX2xldmVsLCB0aGlzLl9mbGFncy5hbGlnbm1lbnQpO1xufTtcblxuXG5CZWF1dGlmaWVyLnByb3RvdHlwZS5yZXN0b3JlX21vZGUgPSBmdW5jdGlvbigpIHtcbiAgaWYgKHRoaXMuX2ZsYWdfc3RvcmUubGVuZ3RoID4gMCkge1xuICAgIHRoaXMuX3ByZXZpb3VzX2ZsYWdzID0gdGhpcy5fZmxhZ3M7XG4gICAgdGhpcy5fZmxhZ3MgPSB0aGlzLl9mbGFnX3N0b3JlLnBvcCgpO1xuICAgIGlmICh0aGlzLl9wcmV2aW91c19mbGFncy5tb2RlID09PSBNT0RFLlN0YXRlbWVudCkge1xuICAgICAgcmVtb3ZlX3JlZHVuZGFudF9pbmRlbnRhdGlvbih0aGlzLl9vdXRwdXQsIHRoaXMuX3ByZXZpb3VzX2ZsYWdzKTtcbiAgICB9XG4gICAgdGhpcy5fb3V0cHV0LnNldF9pbmRlbnQodGhpcy5fZmxhZ3MuaW5kZW50YXRpb25fbGV2ZWwsIHRoaXMuX2ZsYWdzLmFsaWdubWVudCk7XG4gIH1cbn07XG5cbkJlYXV0aWZpZXIucHJvdG90eXBlLnN0YXJ0X29mX29iamVjdF9wcm9wZXJ0eSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5fZmxhZ3MucGFyZW50Lm1vZGUgPT09IE1PREUuT2JqZWN0TGl0ZXJhbCAmJiB0aGlzLl9mbGFncy5tb2RlID09PSBNT0RFLlN0YXRlbWVudCAmJiAoXG4gICAgKHRoaXMuX2ZsYWdzLmxhc3RfdG9rZW4udGV4dCA9PT0gJzonICYmIHRoaXMuX2ZsYWdzLnRlcm5hcnlfZGVwdGggPT09IDApIHx8IChyZXNlcnZlZF9hcnJheSh0aGlzLl9mbGFncy5sYXN0X3Rva2VuLCBbJ2dldCcsICdzZXQnXSkpKTtcbn07XG5cbkJlYXV0aWZpZXIucHJvdG90eXBlLnN0YXJ0X29mX3N0YXRlbWVudCA9IGZ1bmN0aW9uKGN1cnJlbnRfdG9rZW4pIHtcbiAgdmFyIHN0YXJ0ID0gZmFsc2U7XG4gIHN0YXJ0ID0gc3RhcnQgfHwgcmVzZXJ2ZWRfYXJyYXkodGhpcy5fZmxhZ3MubGFzdF90b2tlbiwgWyd2YXInLCAnbGV0JywgJ2NvbnN0J10pICYmIGN1cnJlbnRfdG9rZW4udHlwZSA9PT0gVE9LRU4uV09SRDtcbiAgc3RhcnQgPSBzdGFydCB8fCByZXNlcnZlZF93b3JkKHRoaXMuX2ZsYWdzLmxhc3RfdG9rZW4sICdkbycpO1xuICBzdGFydCA9IHN0YXJ0IHx8ICghKHRoaXMuX2ZsYWdzLnBhcmVudC5tb2RlID09PSBNT0RFLk9iamVjdExpdGVyYWwgJiYgdGhpcy5fZmxhZ3MubW9kZSA9PT0gTU9ERS5TdGF0ZW1lbnQpKSAmJiByZXNlcnZlZF9hcnJheSh0aGlzLl9mbGFncy5sYXN0X3Rva2VuLCBuZXdsaW5lX3Jlc3RyaWN0ZWRfdG9rZW5zKSAmJiAhY3VycmVudF90b2tlbi5uZXdsaW5lcztcbiAgc3RhcnQgPSBzdGFydCB8fCByZXNlcnZlZF93b3JkKHRoaXMuX2ZsYWdzLmxhc3RfdG9rZW4sICdlbHNlJykgJiZcbiAgICAhKHJlc2VydmVkX3dvcmQoY3VycmVudF90b2tlbiwgJ2lmJykgJiYgIWN1cnJlbnRfdG9rZW4uY29tbWVudHNfYmVmb3JlKTtcbiAgc3RhcnQgPSBzdGFydCB8fCAodGhpcy5fZmxhZ3MubGFzdF90b2tlbi50eXBlID09PSBUT0tFTi5FTkRfRVhQUiAmJiAodGhpcy5fcHJldmlvdXNfZmxhZ3MubW9kZSA9PT0gTU9ERS5Gb3JJbml0aWFsaXplciB8fCB0aGlzLl9wcmV2aW91c19mbGFncy5tb2RlID09PSBNT0RFLkNvbmRpdGlvbmFsKSk7XG4gIHN0YXJ0ID0gc3RhcnQgfHwgKHRoaXMuX2ZsYWdzLmxhc3RfdG9rZW4udHlwZSA9PT0gVE9LRU4uV09SRCAmJiB0aGlzLl9mbGFncy5tb2RlID09PSBNT0RFLkJsb2NrU3RhdGVtZW50ICYmXG4gICAgIXRoaXMuX2ZsYWdzLmluX2Nhc2UgJiZcbiAgICAhKGN1cnJlbnRfdG9rZW4udGV4dCA9PT0gJy0tJyB8fCBjdXJyZW50X3Rva2VuLnRleHQgPT09ICcrKycpICYmXG4gICAgdGhpcy5fbGFzdF9sYXN0X3RleHQgIT09ICdmdW5jdGlvbicgJiZcbiAgICBjdXJyZW50X3Rva2VuLnR5cGUgIT09IFRPS0VOLldPUkQgJiYgY3VycmVudF90b2tlbi50eXBlICE9PSBUT0tFTi5SRVNFUlZFRCk7XG4gIHN0YXJ0ID0gc3RhcnQgfHwgKHRoaXMuX2ZsYWdzLm1vZGUgPT09IE1PREUuT2JqZWN0TGl0ZXJhbCAmJiAoXG4gICAgKHRoaXMuX2ZsYWdzLmxhc3RfdG9rZW4udGV4dCA9PT0gJzonICYmIHRoaXMuX2ZsYWdzLnRlcm5hcnlfZGVwdGggPT09IDApIHx8IHJlc2VydmVkX2FycmF5KHRoaXMuX2ZsYWdzLmxhc3RfdG9rZW4sIFsnZ2V0JywgJ3NldCddKSkpO1xuXG4gIGlmIChzdGFydCkge1xuICAgIHRoaXMuc2V0X21vZGUoTU9ERS5TdGF0ZW1lbnQpO1xuICAgIHRoaXMuaW5kZW50KCk7XG5cbiAgICB0aGlzLmhhbmRsZV93aGl0ZXNwYWNlX2FuZF9jb21tZW50cyhjdXJyZW50X3Rva2VuLCB0cnVlKTtcblxuICAgIC8vIElzc3VlICMyNzY6XG4gICAgLy8gSWYgc3RhcnRpbmcgYSBuZXcgc3RhdGVtZW50IHdpdGggW2lmLCBmb3IsIHdoaWxlLCBkb10sIHB1c2ggdG8gYSBuZXcgbGluZS5cbiAgICAvLyBpZiAoYSkgaWYgKGIpIGlmKGMpIGQoKTsgZWxzZSBlKCk7IGVsc2UgZigpO1xuICAgIGlmICghdGhpcy5zdGFydF9vZl9vYmplY3RfcHJvcGVydHkoKSkge1xuICAgICAgdGhpcy5hbGxvd193cmFwX29yX3ByZXNlcnZlZF9uZXdsaW5lKGN1cnJlbnRfdG9rZW4sXG4gICAgICAgIHJlc2VydmVkX2FycmF5KGN1cnJlbnRfdG9rZW4sIFsnZG8nLCAnZm9yJywgJ2lmJywgJ3doaWxlJ10pKTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufTtcblxuQmVhdXRpZmllci5wcm90b3R5cGUuaGFuZGxlX3N0YXJ0X2V4cHIgPSBmdW5jdGlvbihjdXJyZW50X3Rva2VuKSB7XG4gIC8vIFRoZSBjb25kaXRpb25hbCBzdGFydHMgdGhlIHN0YXRlbWVudCBpZiBhcHByb3ByaWF0ZS5cbiAgaWYgKCF0aGlzLnN0YXJ0X29mX3N0YXRlbWVudChjdXJyZW50X3Rva2VuKSkge1xuICAgIHRoaXMuaGFuZGxlX3doaXRlc3BhY2VfYW5kX2NvbW1lbnRzKGN1cnJlbnRfdG9rZW4pO1xuICB9XG5cbiAgdmFyIG5leHRfbW9kZSA9IE1PREUuRXhwcmVzc2lvbjtcbiAgaWYgKGN1cnJlbnRfdG9rZW4udGV4dCA9PT0gJ1snKSB7XG5cbiAgICBpZiAodGhpcy5fZmxhZ3MubGFzdF90b2tlbi50eXBlID09PSBUT0tFTi5XT1JEIHx8IHRoaXMuX2ZsYWdzLmxhc3RfdG9rZW4udGV4dCA9PT0gJyknKSB7XG4gICAgICAvLyB0aGlzIGlzIGFycmF5IGluZGV4IHNwZWNpZmllciwgYnJlYWsgaW1tZWRpYXRlbHlcbiAgICAgIC8vIGFbeF0sIGZuKClbeF1cbiAgICAgIGlmIChyZXNlcnZlZF9hcnJheSh0aGlzLl9mbGFncy5sYXN0X3Rva2VuLCBsaW5lX3N0YXJ0ZXJzKSkge1xuICAgICAgICB0aGlzLl9vdXRwdXQuc3BhY2VfYmVmb3JlX3Rva2VuID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHRoaXMucHJpbnRfdG9rZW4oY3VycmVudF90b2tlbik7XG4gICAgICB0aGlzLnNldF9tb2RlKG5leHRfbW9kZSk7XG4gICAgICB0aGlzLmluZGVudCgpO1xuICAgICAgaWYgKHRoaXMuX29wdGlvbnMuc3BhY2VfaW5fcGFyZW4pIHtcbiAgICAgICAgdGhpcy5fb3V0cHV0LnNwYWNlX2JlZm9yZV90b2tlbiA9IHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbmV4dF9tb2RlID0gTU9ERS5BcnJheUxpdGVyYWw7XG4gICAgaWYgKGlzX2FycmF5KHRoaXMuX2ZsYWdzLm1vZGUpKSB7XG4gICAgICBpZiAodGhpcy5fZmxhZ3MubGFzdF90b2tlbi50ZXh0ID09PSAnWycgfHxcbiAgICAgICAgKHRoaXMuX2ZsYWdzLmxhc3RfdG9rZW4udGV4dCA9PT0gJywnICYmICh0aGlzLl9sYXN0X2xhc3RfdGV4dCA9PT0gJ10nIHx8IHRoaXMuX2xhc3RfbGFzdF90ZXh0ID09PSAnfScpKSkge1xuICAgICAgICAvLyBdLCBbIGdvZXMgdG8gbmV3IGxpbmVcbiAgICAgICAgLy8gfSwgWyBnb2VzIHRvIG5ldyBsaW5lXG4gICAgICAgIGlmICghdGhpcy5fb3B0aW9ucy5rZWVwX2FycmF5X2luZGVudGF0aW9uKSB7XG4gICAgICAgICAgdGhpcy5wcmludF9uZXdsaW5lKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIWluX2FycmF5KHRoaXMuX2ZsYWdzLmxhc3RfdG9rZW4udHlwZSwgW1RPS0VOLlNUQVJUX0VYUFIsIFRPS0VOLkVORF9FWFBSLCBUT0tFTi5XT1JELCBUT0tFTi5PUEVSQVRPUl0pKSB7XG4gICAgICB0aGlzLl9vdXRwdXQuc3BhY2VfYmVmb3JlX3Rva2VuID0gdHJ1ZTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKHRoaXMuX2ZsYWdzLmxhc3RfdG9rZW4udHlwZSA9PT0gVE9LRU4uUkVTRVJWRUQpIHtcbiAgICAgIGlmICh0aGlzLl9mbGFncy5sYXN0X3Rva2VuLnRleHQgPT09ICdmb3InKSB7XG4gICAgICAgIHRoaXMuX291dHB1dC5zcGFjZV9iZWZvcmVfdG9rZW4gPSB0aGlzLl9vcHRpb25zLnNwYWNlX2JlZm9yZV9jb25kaXRpb25hbDtcbiAgICAgICAgbmV4dF9tb2RlID0gTU9ERS5Gb3JJbml0aWFsaXplcjtcbiAgICAgIH0gZWxzZSBpZiAoaW5fYXJyYXkodGhpcy5fZmxhZ3MubGFzdF90b2tlbi50ZXh0LCBbJ2lmJywgJ3doaWxlJ10pKSB7XG4gICAgICAgIHRoaXMuX291dHB1dC5zcGFjZV9iZWZvcmVfdG9rZW4gPSB0aGlzLl9vcHRpb25zLnNwYWNlX2JlZm9yZV9jb25kaXRpb25hbDtcbiAgICAgICAgbmV4dF9tb2RlID0gTU9ERS5Db25kaXRpb25hbDtcbiAgICAgIH0gZWxzZSBpZiAoaW5fYXJyYXkodGhpcy5fZmxhZ3MubGFzdF93b3JkLCBbJ2F3YWl0JywgJ2FzeW5jJ10pKSB7XG4gICAgICAgIC8vIFNob3VsZCBiZSBhIHNwYWNlIGJldHdlZW4gYXdhaXQgYW5kIGFuIElJRkUsIG9yIGFzeW5jIGFuZCBhbiBhcnJvdyBmdW5jdGlvblxuICAgICAgICB0aGlzLl9vdXRwdXQuc3BhY2VfYmVmb3JlX3Rva2VuID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5fZmxhZ3MubGFzdF90b2tlbi50ZXh0ID09PSAnaW1wb3J0JyAmJiBjdXJyZW50X3Rva2VuLndoaXRlc3BhY2VfYmVmb3JlID09PSAnJykge1xuICAgICAgICB0aGlzLl9vdXRwdXQuc3BhY2VfYmVmb3JlX3Rva2VuID0gZmFsc2U7XG4gICAgICB9IGVsc2UgaWYgKGluX2FycmF5KHRoaXMuX2ZsYWdzLmxhc3RfdG9rZW4udGV4dCwgbGluZV9zdGFydGVycykgfHwgdGhpcy5fZmxhZ3MubGFzdF90b2tlbi50ZXh0ID09PSAnY2F0Y2gnKSB7XG4gICAgICAgIHRoaXMuX291dHB1dC5zcGFjZV9iZWZvcmVfdG9rZW4gPSB0cnVlO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodGhpcy5fZmxhZ3MubGFzdF90b2tlbi50eXBlID09PSBUT0tFTi5FUVVBTFMgfHwgdGhpcy5fZmxhZ3MubGFzdF90b2tlbi50eXBlID09PSBUT0tFTi5PUEVSQVRPUikge1xuICAgICAgLy8gU3VwcG9ydCBvZiB0aGlzIGtpbmQgb2YgbmV3bGluZSBwcmVzZXJ2YXRpb24uXG4gICAgICAvLyBhID0gKGIgJiZcbiAgICAgIC8vICAgICAoYyB8fCBkKSk7XG4gICAgICBpZiAoIXRoaXMuc3RhcnRfb2Zfb2JqZWN0X3Byb3BlcnR5KCkpIHtcbiAgICAgICAgdGhpcy5hbGxvd193cmFwX29yX3ByZXNlcnZlZF9uZXdsaW5lKGN1cnJlbnRfdG9rZW4pO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodGhpcy5fZmxhZ3MubGFzdF90b2tlbi50eXBlID09PSBUT0tFTi5XT1JEKSB7XG4gICAgICB0aGlzLl9vdXRwdXQuc3BhY2VfYmVmb3JlX3Rva2VuID0gZmFsc2U7XG5cbiAgICAgIC8vIGZ1bmN0aW9uIG5hbWUoKSB2cyBmdW5jdGlvbiBuYW1lICgpXG4gICAgICAvLyBmdW5jdGlvbiogbmFtZSgpIHZzIGZ1bmN0aW9uKiBuYW1lICgpXG4gICAgICAvLyBhc3luYyBuYW1lKCkgdnMgYXN5bmMgbmFtZSAoKVxuICAgICAgLy8gSW4gRVM2LCB5b3UgY2FuIGFsc28gZGVmaW5lIHRoZSBtZXRob2QgcHJvcGVydGllcyBvZiBhbiBvYmplY3RcbiAgICAgIC8vIHZhciBvYmogPSB7YTogZnVuY3Rpb24oKSB7fX1cbiAgICAgIC8vIEl0IGNhbiBiZSBhYmJyZXZpYXRlZFxuICAgICAgLy8gdmFyIG9iaiA9IHthKCkge319XG4gICAgICAvLyB2YXIgb2JqID0geyBhKCkge319IHZzIHZhciBvYmogPSB7IGEgKCkge319XG4gICAgICAvLyB2YXIgb2JqID0geyAqIGEoKSB7fX0gdnMgdmFyIG9iaiA9IHsgKiBhICgpIHt9fVxuICAgICAgdmFyIHBlZWtfYmFja190d28gPSB0aGlzLl90b2tlbnMucGVlaygtMyk7XG4gICAgICBpZiAodGhpcy5fb3B0aW9ucy5zcGFjZV9hZnRlcl9uYW1lZF9mdW5jdGlvbiAmJiBwZWVrX2JhY2tfdHdvKSB7XG4gICAgICAgIC8vIHBlZWsgc3RhcnRzIGF0IG5leHQgY2hhcmFjdGVyIHNvIC0xIGlzIGN1cnJlbnQgdG9rZW5cbiAgICAgICAgdmFyIHBlZWtfYmFja190aHJlZSA9IHRoaXMuX3Rva2Vucy5wZWVrKC00KTtcbiAgICAgICAgaWYgKHJlc2VydmVkX2FycmF5KHBlZWtfYmFja190d28sIFsnYXN5bmMnLCAnZnVuY3Rpb24nXSkgfHxcbiAgICAgICAgICAocGVla19iYWNrX3R3by50ZXh0ID09PSAnKicgJiYgcmVzZXJ2ZWRfYXJyYXkocGVla19iYWNrX3RocmVlLCBbJ2FzeW5jJywgJ2Z1bmN0aW9uJ10pKSkge1xuICAgICAgICAgIHRoaXMuX291dHB1dC5zcGFjZV9iZWZvcmVfdG9rZW4gPSB0cnVlO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2ZsYWdzLm1vZGUgPT09IE1PREUuT2JqZWN0TGl0ZXJhbCkge1xuICAgICAgICAgIGlmICgocGVla19iYWNrX3R3by50ZXh0ID09PSAneycgfHwgcGVla19iYWNrX3R3by50ZXh0ID09PSAnLCcpIHx8XG4gICAgICAgICAgICAocGVla19iYWNrX3R3by50ZXh0ID09PSAnKicgJiYgKHBlZWtfYmFja190aHJlZS50ZXh0ID09PSAneycgfHwgcGVla19iYWNrX3RocmVlLnRleHQgPT09ICcsJykpKSB7XG4gICAgICAgICAgICB0aGlzLl9vdXRwdXQuc3BhY2VfYmVmb3JlX3Rva2VuID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gU3VwcG9ydCBwcmVzZXJ2aW5nIHdyYXBwZWQgYXJyb3cgZnVuY3Rpb24gZXhwcmVzc2lvbnNcbiAgICAgIC8vIGEuYignYycsXG4gICAgICAvLyAgICAgKCkgPT4gZC5lXG4gICAgICAvLyApXG4gICAgICB0aGlzLmFsbG93X3dyYXBfb3JfcHJlc2VydmVkX25ld2xpbmUoY3VycmVudF90b2tlbik7XG4gICAgfVxuXG4gICAgLy8gZnVuY3Rpb24oKSB2cyBmdW5jdGlvbiAoKVxuICAgIC8vIHlpZWxkKigpIHZzIHlpZWxkKiAoKVxuICAgIC8vIGZ1bmN0aW9uKigpIHZzIGZ1bmN0aW9uKiAoKVxuICAgIGlmICgodGhpcy5fZmxhZ3MubGFzdF90b2tlbi50eXBlID09PSBUT0tFTi5SRVNFUlZFRCAmJiAodGhpcy5fZmxhZ3MubGFzdF93b3JkID09PSAnZnVuY3Rpb24nIHx8IHRoaXMuX2ZsYWdzLmxhc3Rfd29yZCA9PT0gJ3R5cGVvZicpKSB8fFxuICAgICAgKHRoaXMuX2ZsYWdzLmxhc3RfdG9rZW4udGV4dCA9PT0gJyonICYmXG4gICAgICAgIChpbl9hcnJheSh0aGlzLl9sYXN0X2xhc3RfdGV4dCwgWydmdW5jdGlvbicsICd5aWVsZCddKSB8fFxuICAgICAgICAgICh0aGlzLl9mbGFncy5tb2RlID09PSBNT0RFLk9iamVjdExpdGVyYWwgJiYgaW5fYXJyYXkodGhpcy5fbGFzdF9sYXN0X3RleHQsIFsneycsICcsJ10pKSkpKSB7XG4gICAgICB0aGlzLl9vdXRwdXQuc3BhY2VfYmVmb3JlX3Rva2VuID0gdGhpcy5fb3B0aW9ucy5zcGFjZV9hZnRlcl9hbm9uX2Z1bmN0aW9uO1xuICAgIH1cbiAgfVxuXG4gIGlmICh0aGlzLl9mbGFncy5sYXN0X3Rva2VuLnRleHQgPT09ICc7JyB8fCB0aGlzLl9mbGFncy5sYXN0X3Rva2VuLnR5cGUgPT09IFRPS0VOLlNUQVJUX0JMT0NLKSB7XG4gICAgdGhpcy5wcmludF9uZXdsaW5lKCk7XG4gIH0gZWxzZSBpZiAodGhpcy5fZmxhZ3MubGFzdF90b2tlbi50eXBlID09PSBUT0tFTi5FTkRfRVhQUiB8fCB0aGlzLl9mbGFncy5sYXN0X3Rva2VuLnR5cGUgPT09IFRPS0VOLlNUQVJUX0VYUFIgfHwgdGhpcy5fZmxhZ3MubGFzdF90b2tlbi50eXBlID09PSBUT0tFTi5FTkRfQkxPQ0sgfHwgdGhpcy5fZmxhZ3MubGFzdF90b2tlbi50ZXh0ID09PSAnLicgfHwgdGhpcy5fZmxhZ3MubGFzdF90b2tlbi50eXBlID09PSBUT0tFTi5DT01NQSkge1xuICAgIC8vIGRvIG5vdGhpbmcgb24gKCggYW5kICkoIGFuZCBdWyBhbmQgXSggYW5kIC4oXG4gICAgLy8gVE9ETzogQ29uc2lkZXIgd2hldGhlciBmb3JjaW5nIHRoaXMgaXMgcmVxdWlyZWQuICBSZXZpZXcgZmFpbGluZyB0ZXN0cyB3aGVuIHJlbW92ZWQuXG4gICAgdGhpcy5hbGxvd193cmFwX29yX3ByZXNlcnZlZF9uZXdsaW5lKGN1cnJlbnRfdG9rZW4sIGN1cnJlbnRfdG9rZW4ubmV3bGluZXMpO1xuICB9XG5cbiAgdGhpcy5wcmludF90b2tlbihjdXJyZW50X3Rva2VuKTtcbiAgdGhpcy5zZXRfbW9kZShuZXh0X21vZGUpO1xuICBpZiAodGhpcy5fb3B0aW9ucy5zcGFjZV9pbl9wYXJlbikge1xuICAgIHRoaXMuX291dHB1dC5zcGFjZV9iZWZvcmVfdG9rZW4gPSB0cnVlO1xuICB9XG5cbiAgLy8gSW4gYWxsIGNhc2VzLCBpZiB3ZSBuZXdsaW5lIHdoaWxlIGluc2lkZSBhbiBleHByZXNzaW9uIGl0IHNob3VsZCBiZSBpbmRlbnRlZC5cbiAgdGhpcy5pbmRlbnQoKTtcbn07XG5cbkJlYXV0aWZpZXIucHJvdG90eXBlLmhhbmRsZV9lbmRfZXhwciA9IGZ1bmN0aW9uKGN1cnJlbnRfdG9rZW4pIHtcbiAgLy8gc3RhdGVtZW50cyBpbnNpZGUgZXhwcmVzc2lvbnMgYXJlIG5vdCB2YWxpZCBzeW50YXgsIGJ1dC4uLlxuICAvLyBzdGF0ZW1lbnRzIG11c3QgYWxsIGJlIGNsb3NlZCB3aGVuIHRoZWlyIGNvbnRhaW5lciBjbG9zZXNcbiAgd2hpbGUgKHRoaXMuX2ZsYWdzLm1vZGUgPT09IE1PREUuU3RhdGVtZW50KSB7XG4gICAgdGhpcy5yZXN0b3JlX21vZGUoKTtcbiAgfVxuXG4gIHRoaXMuaGFuZGxlX3doaXRlc3BhY2VfYW5kX2NvbW1lbnRzKGN1cnJlbnRfdG9rZW4pO1xuXG4gIGlmICh0aGlzLl9mbGFncy5tdWx0aWxpbmVfZnJhbWUpIHtcbiAgICB0aGlzLmFsbG93X3dyYXBfb3JfcHJlc2VydmVkX25ld2xpbmUoY3VycmVudF90b2tlbixcbiAgICAgIGN1cnJlbnRfdG9rZW4udGV4dCA9PT0gJ10nICYmIGlzX2FycmF5KHRoaXMuX2ZsYWdzLm1vZGUpICYmICF0aGlzLl9vcHRpb25zLmtlZXBfYXJyYXlfaW5kZW50YXRpb24pO1xuICB9XG5cbiAgaWYgKHRoaXMuX29wdGlvbnMuc3BhY2VfaW5fcGFyZW4pIHtcbiAgICBpZiAodGhpcy5fZmxhZ3MubGFzdF90b2tlbi50eXBlID09PSBUT0tFTi5TVEFSVF9FWFBSICYmICF0aGlzLl9vcHRpb25zLnNwYWNlX2luX2VtcHR5X3BhcmVuKSB7XG4gICAgICAvLyAoKSBbXSBubyBpbm5lciBzcGFjZSBpbiBlbXB0eSBwYXJlbnMgbGlrZSB0aGVzZSwgZXZlciwgcmVmICMzMjBcbiAgICAgIHRoaXMuX291dHB1dC50cmltKCk7XG4gICAgICB0aGlzLl9vdXRwdXQuc3BhY2VfYmVmb3JlX3Rva2VuID0gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX291dHB1dC5zcGFjZV9iZWZvcmVfdG9rZW4gPSB0cnVlO1xuICAgIH1cbiAgfVxuICB0aGlzLmRlaW5kZW50KCk7XG4gIHRoaXMucHJpbnRfdG9rZW4oY3VycmVudF90b2tlbik7XG4gIHRoaXMucmVzdG9yZV9tb2RlKCk7XG5cbiAgcmVtb3ZlX3JlZHVuZGFudF9pbmRlbnRhdGlvbih0aGlzLl9vdXRwdXQsIHRoaXMuX3ByZXZpb3VzX2ZsYWdzKTtcblxuICAvLyBkbyB7fSB3aGlsZSAoKSAvLyBubyBzdGF0ZW1lbnQgcmVxdWlyZWQgYWZ0ZXJcbiAgaWYgKHRoaXMuX2ZsYWdzLmRvX3doaWxlICYmIHRoaXMuX3ByZXZpb3VzX2ZsYWdzLm1vZGUgPT09IE1PREUuQ29uZGl0aW9uYWwpIHtcbiAgICB0aGlzLl9wcmV2aW91c19mbGFncy5tb2RlID0gTU9ERS5FeHByZXNzaW9uO1xuICAgIHRoaXMuX2ZsYWdzLmRvX2Jsb2NrID0gZmFsc2U7XG4gICAgdGhpcy5fZmxhZ3MuZG9fd2hpbGUgPSBmYWxzZTtcblxuICB9XG59O1xuXG5CZWF1dGlmaWVyLnByb3RvdHlwZS5oYW5kbGVfc3RhcnRfYmxvY2sgPSBmdW5jdGlvbihjdXJyZW50X3Rva2VuKSB7XG4gIHRoaXMuaGFuZGxlX3doaXRlc3BhY2VfYW5kX2NvbW1lbnRzKGN1cnJlbnRfdG9rZW4pO1xuXG4gIC8vIENoZWNrIGlmIHRoaXMgaXMgc2hvdWxkIGJlIHRyZWF0ZWQgYXMgYSBPYmplY3RMaXRlcmFsXG4gIHZhciBuZXh0X3Rva2VuID0gdGhpcy5fdG9rZW5zLnBlZWsoKTtcbiAgdmFyIHNlY29uZF90b2tlbiA9IHRoaXMuX3Rva2Vucy5wZWVrKDEpO1xuICBpZiAodGhpcy5fZmxhZ3MubGFzdF93b3JkID09PSAnc3dpdGNoJyAmJiB0aGlzLl9mbGFncy5sYXN0X3Rva2VuLnR5cGUgPT09IFRPS0VOLkVORF9FWFBSKSB7XG4gICAgdGhpcy5zZXRfbW9kZShNT0RFLkJsb2NrU3RhdGVtZW50KTtcbiAgICB0aGlzLl9mbGFncy5pbl9jYXNlX3N0YXRlbWVudCA9IHRydWU7XG4gIH0gZWxzZSBpZiAodGhpcy5fZmxhZ3MuY2FzZV9ib2R5KSB7XG4gICAgdGhpcy5zZXRfbW9kZShNT0RFLkJsb2NrU3RhdGVtZW50KTtcbiAgfSBlbHNlIGlmIChzZWNvbmRfdG9rZW4gJiYgKFxuICAgICAgKGluX2FycmF5KHNlY29uZF90b2tlbi50ZXh0LCBbJzonLCAnLCddKSAmJiBpbl9hcnJheShuZXh0X3Rva2VuLnR5cGUsIFtUT0tFTi5TVFJJTkcsIFRPS0VOLldPUkQsIFRPS0VOLlJFU0VSVkVEXSkpIHx8XG4gICAgICAoaW5fYXJyYXkobmV4dF90b2tlbi50ZXh0LCBbJ2dldCcsICdzZXQnLCAnLi4uJ10pICYmIGluX2FycmF5KHNlY29uZF90b2tlbi50eXBlLCBbVE9LRU4uV09SRCwgVE9LRU4uUkVTRVJWRURdKSlcbiAgICApKSB7XG4gICAgLy8gV2UgZG9uJ3Qgc3VwcG9ydCBUeXBlU2NyaXB0LGJ1dCB3ZSBkaWRuJ3QgYnJlYWsgaXQgZm9yIGEgdmVyeSBsb25nIHRpbWUuXG4gICAgLy8gV2UnbGwgdHJ5IHRvIGtlZXAgbm90IGJyZWFraW5nIGl0LlxuICAgIGlmICghaW5fYXJyYXkodGhpcy5fbGFzdF9sYXN0X3RleHQsIFsnY2xhc3MnLCAnaW50ZXJmYWNlJ10pKSB7XG4gICAgICB0aGlzLnNldF9tb2RlKE1PREUuT2JqZWN0TGl0ZXJhbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc2V0X21vZGUoTU9ERS5CbG9ja1N0YXRlbWVudCk7XG4gICAgfVxuICB9IGVsc2UgaWYgKHRoaXMuX2ZsYWdzLmxhc3RfdG9rZW4udHlwZSA9PT0gVE9LRU4uT1BFUkFUT1IgJiYgdGhpcy5fZmxhZ3MubGFzdF90b2tlbi50ZXh0ID09PSAnPT4nKSB7XG4gICAgLy8gYXJyb3cgZnVuY3Rpb246IChwYXJhbTEsIHBhcmFtTikgPT4geyBzdGF0ZW1lbnRzIH1cbiAgICB0aGlzLnNldF9tb2RlKE1PREUuQmxvY2tTdGF0ZW1lbnQpO1xuICB9IGVsc2UgaWYgKGluX2FycmF5KHRoaXMuX2ZsYWdzLmxhc3RfdG9rZW4udHlwZSwgW1RPS0VOLkVRVUFMUywgVE9LRU4uU1RBUlRfRVhQUiwgVE9LRU4uQ09NTUEsIFRPS0VOLk9QRVJBVE9SXSkgfHxcbiAgICByZXNlcnZlZF9hcnJheSh0aGlzLl9mbGFncy5sYXN0X3Rva2VuLCBbJ3JldHVybicsICd0aHJvdycsICdpbXBvcnQnLCAnZGVmYXVsdCddKVxuICApIHtcbiAgICAvLyBEZXRlY3Rpbmcgc2hvcnRoYW5kIGZ1bmN0aW9uIHN5bnRheCBpcyBkaWZmaWN1bHQgYnkgc2Nhbm5pbmcgZm9yd2FyZCxcbiAgICAvLyAgICAgc28gY2hlY2sgdGhlIHN1cnJvdW5kaW5nIGNvbnRleHQuXG4gICAgLy8gSWYgdGhlIGJsb2NrIGlzIGJlaW5nIHJldHVybmVkLCBpbXBvcnRlZCwgZXhwb3J0IGRlZmF1bHQsIHBhc3NlZCBhcyBhcmcsXG4gICAgLy8gICAgIGFzc2lnbmVkIHdpdGggPSBvciBhc3NpZ25lZCBpbiBhIG5lc3RlZCBvYmplY3QsIHRyZWF0IGFzIGFuIE9iamVjdExpdGVyYWwuXG4gICAgdGhpcy5zZXRfbW9kZShNT0RFLk9iamVjdExpdGVyYWwpO1xuICB9IGVsc2Uge1xuICAgIHRoaXMuc2V0X21vZGUoTU9ERS5CbG9ja1N0YXRlbWVudCk7XG4gIH1cblxuICB2YXIgZW1wdHlfYnJhY2VzID0gIW5leHRfdG9rZW4uY29tbWVudHNfYmVmb3JlICYmIG5leHRfdG9rZW4udGV4dCA9PT0gJ30nO1xuICB2YXIgZW1wdHlfYW5vbnltb3VzX2Z1bmN0aW9uID0gZW1wdHlfYnJhY2VzICYmIHRoaXMuX2ZsYWdzLmxhc3Rfd29yZCA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgIHRoaXMuX2ZsYWdzLmxhc3RfdG9rZW4udHlwZSA9PT0gVE9LRU4uRU5EX0VYUFI7XG5cbiAgaWYgKHRoaXMuX29wdGlvbnMuYnJhY2VfcHJlc2VydmVfaW5saW5lKSAvLyBjaGVjayBmb3IgaW5saW5lLCBzZXQgaW5saW5lX2ZyYW1lIGlmIHNvXG4gIHtcbiAgICAvLyBzZWFyY2ggZm9yd2FyZCBmb3IgYSBuZXdsaW5lIHdhbnRlZCBpbnNpZGUgdGhpcyBibG9ja1xuICAgIHZhciBpbmRleCA9IDA7XG4gICAgdmFyIGNoZWNrX3Rva2VuID0gbnVsbDtcbiAgICB0aGlzLl9mbGFncy5pbmxpbmVfZnJhbWUgPSB0cnVlO1xuICAgIGRvIHtcbiAgICAgIGluZGV4ICs9IDE7XG4gICAgICBjaGVja190b2tlbiA9IHRoaXMuX3Rva2Vucy5wZWVrKGluZGV4IC0gMSk7XG4gICAgICBpZiAoY2hlY2tfdG9rZW4ubmV3bGluZXMpIHtcbiAgICAgICAgdGhpcy5fZmxhZ3MuaW5saW5lX2ZyYW1lID0gZmFsc2U7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH0gd2hpbGUgKGNoZWNrX3Rva2VuLnR5cGUgIT09IFRPS0VOLkVPRiAmJlxuICAgICAgIShjaGVja190b2tlbi50eXBlID09PSBUT0tFTi5FTkRfQkxPQ0sgJiYgY2hlY2tfdG9rZW4ub3BlbmVkID09PSBjdXJyZW50X3Rva2VuKSk7XG4gIH1cblxuICBpZiAoKHRoaXMuX29wdGlvbnMuYnJhY2Vfc3R5bGUgPT09IFwiZXhwYW5kXCIgfHxcbiAgICAgICh0aGlzLl9vcHRpb25zLmJyYWNlX3N0eWxlID09PSBcIm5vbmVcIiAmJiBjdXJyZW50X3Rva2VuLm5ld2xpbmVzKSkgJiZcbiAgICAhdGhpcy5fZmxhZ3MuaW5saW5lX2ZyYW1lKSB7XG4gICAgaWYgKHRoaXMuX2ZsYWdzLmxhc3RfdG9rZW4udHlwZSAhPT0gVE9LRU4uT1BFUkFUT1IgJiZcbiAgICAgIChlbXB0eV9hbm9ueW1vdXNfZnVuY3Rpb24gfHxcbiAgICAgICAgdGhpcy5fZmxhZ3MubGFzdF90b2tlbi50eXBlID09PSBUT0tFTi5FUVVBTFMgfHxcbiAgICAgICAgKHJlc2VydmVkX2FycmF5KHRoaXMuX2ZsYWdzLmxhc3RfdG9rZW4sIHNwZWNpYWxfd29yZHMpICYmIHRoaXMuX2ZsYWdzLmxhc3RfdG9rZW4udGV4dCAhPT0gJ2Vsc2UnKSkpIHtcbiAgICAgIHRoaXMuX291dHB1dC5zcGFjZV9iZWZvcmVfdG9rZW4gPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnByaW50X25ld2xpbmUoZmFsc2UsIHRydWUpO1xuICAgIH1cbiAgfSBlbHNlIHsgLy8gY29sbGFwc2UgfHwgaW5saW5lX2ZyYW1lXG4gICAgaWYgKGlzX2FycmF5KHRoaXMuX3ByZXZpb3VzX2ZsYWdzLm1vZGUpICYmICh0aGlzLl9mbGFncy5sYXN0X3Rva2VuLnR5cGUgPT09IFRPS0VOLlNUQVJUX0VYUFIgfHwgdGhpcy5fZmxhZ3MubGFzdF90b2tlbi50eXBlID09PSBUT0tFTi5DT01NQSkpIHtcbiAgICAgIGlmICh0aGlzLl9mbGFncy5sYXN0X3Rva2VuLnR5cGUgPT09IFRPS0VOLkNPTU1BIHx8IHRoaXMuX29wdGlvbnMuc3BhY2VfaW5fcGFyZW4pIHtcbiAgICAgICAgdGhpcy5fb3V0cHV0LnNwYWNlX2JlZm9yZV90b2tlbiA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLl9mbGFncy5sYXN0X3Rva2VuLnR5cGUgPT09IFRPS0VOLkNPTU1BIHx8ICh0aGlzLl9mbGFncy5sYXN0X3Rva2VuLnR5cGUgPT09IFRPS0VOLlNUQVJUX0VYUFIgJiYgdGhpcy5fZmxhZ3MuaW5saW5lX2ZyYW1lKSkge1xuICAgICAgICB0aGlzLmFsbG93X3dyYXBfb3JfcHJlc2VydmVkX25ld2xpbmUoY3VycmVudF90b2tlbik7XG4gICAgICAgIHRoaXMuX3ByZXZpb3VzX2ZsYWdzLm11bHRpbGluZV9mcmFtZSA9IHRoaXMuX3ByZXZpb3VzX2ZsYWdzLm11bHRpbGluZV9mcmFtZSB8fCB0aGlzLl9mbGFncy5tdWx0aWxpbmVfZnJhbWU7XG4gICAgICAgIHRoaXMuX2ZsYWdzLm11bHRpbGluZV9mcmFtZSA9IGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodGhpcy5fZmxhZ3MubGFzdF90b2tlbi50eXBlICE9PSBUT0tFTi5PUEVSQVRPUiAmJiB0aGlzLl9mbGFncy5sYXN0X3Rva2VuLnR5cGUgIT09IFRPS0VOLlNUQVJUX0VYUFIpIHtcbiAgICAgIGlmICh0aGlzLl9mbGFncy5sYXN0X3Rva2VuLnR5cGUgPT09IFRPS0VOLlNUQVJUX0JMT0NLICYmICF0aGlzLl9mbGFncy5pbmxpbmVfZnJhbWUpIHtcbiAgICAgICAgdGhpcy5wcmludF9uZXdsaW5lKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9vdXRwdXQuc3BhY2VfYmVmb3JlX3Rva2VuID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgdGhpcy5wcmludF90b2tlbihjdXJyZW50X3Rva2VuKTtcbiAgdGhpcy5pbmRlbnQoKTtcblxuICAvLyBFeGNlcHQgZm9yIHNwZWNpZmljIGNhc2VzLCBvcGVuIGJyYWNlcyBhcmUgZm9sbG93ZWQgYnkgYSBuZXcgbGluZS5cbiAgaWYgKCFlbXB0eV9icmFjZXMgJiYgISh0aGlzLl9vcHRpb25zLmJyYWNlX3ByZXNlcnZlX2lubGluZSAmJiB0aGlzLl9mbGFncy5pbmxpbmVfZnJhbWUpKSB7XG4gICAgdGhpcy5wcmludF9uZXdsaW5lKCk7XG4gIH1cbn07XG5cbkJlYXV0aWZpZXIucHJvdG90eXBlLmhhbmRsZV9lbmRfYmxvY2sgPSBmdW5jdGlvbihjdXJyZW50X3Rva2VuKSB7XG4gIC8vIHN0YXRlbWVudHMgbXVzdCBhbGwgYmUgY2xvc2VkIHdoZW4gdGhlaXIgY29udGFpbmVyIGNsb3Nlc1xuICB0aGlzLmhhbmRsZV93aGl0ZXNwYWNlX2FuZF9jb21tZW50cyhjdXJyZW50X3Rva2VuKTtcblxuICB3aGlsZSAodGhpcy5fZmxhZ3MubW9kZSA9PT0gTU9ERS5TdGF0ZW1lbnQpIHtcbiAgICB0aGlzLnJlc3RvcmVfbW9kZSgpO1xuICB9XG5cbiAgdmFyIGVtcHR5X2JyYWNlcyA9IHRoaXMuX2ZsYWdzLmxhc3RfdG9rZW4udHlwZSA9PT0gVE9LRU4uU1RBUlRfQkxPQ0s7XG5cbiAgaWYgKHRoaXMuX2ZsYWdzLmlubGluZV9mcmFtZSAmJiAhZW1wdHlfYnJhY2VzKSB7IC8vIHRyeSBpbmxpbmVfZnJhbWUgKG9ubHkgc2V0IGlmIHRoaXMuX29wdGlvbnMuYnJhY2VzLXByZXNlcnZlLWlubGluZSkgZmlyc3RcbiAgICB0aGlzLl9vdXRwdXQuc3BhY2VfYmVmb3JlX3Rva2VuID0gdHJ1ZTtcbiAgfSBlbHNlIGlmICh0aGlzLl9vcHRpb25zLmJyYWNlX3N0eWxlID09PSBcImV4cGFuZFwiKSB7XG4gICAgaWYgKCFlbXB0eV9icmFjZXMpIHtcbiAgICAgIHRoaXMucHJpbnRfbmV3bGluZSgpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBza2lwIHt9XG4gICAgaWYgKCFlbXB0eV9icmFjZXMpIHtcbiAgICAgIGlmIChpc19hcnJheSh0aGlzLl9mbGFncy5tb2RlKSAmJiB0aGlzLl9vcHRpb25zLmtlZXBfYXJyYXlfaW5kZW50YXRpb24pIHtcbiAgICAgICAgLy8gd2UgUkVBTExZIG5lZWQgYSBuZXdsaW5lIGhlcmUsIGJ1dCBuZXdsaW5lciB3b3VsZCBza2lwIHRoYXRcbiAgICAgICAgdGhpcy5fb3B0aW9ucy5rZWVwX2FycmF5X2luZGVudGF0aW9uID0gZmFsc2U7XG4gICAgICAgIHRoaXMucHJpbnRfbmV3bGluZSgpO1xuICAgICAgICB0aGlzLl9vcHRpb25zLmtlZXBfYXJyYXlfaW5kZW50YXRpb24gPSB0cnVlO1xuXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnByaW50X25ld2xpbmUoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgdGhpcy5yZXN0b3JlX21vZGUoKTtcbiAgdGhpcy5wcmludF90b2tlbihjdXJyZW50X3Rva2VuKTtcbn07XG5cbkJlYXV0aWZpZXIucHJvdG90eXBlLmhhbmRsZV93b3JkID0gZnVuY3Rpb24oY3VycmVudF90b2tlbikge1xuICBpZiAoY3VycmVudF90b2tlbi50eXBlID09PSBUT0tFTi5SRVNFUlZFRCkge1xuICAgIGlmIChpbl9hcnJheShjdXJyZW50X3Rva2VuLnRleHQsIFsnc2V0JywgJ2dldCddKSAmJiB0aGlzLl9mbGFncy5tb2RlICE9PSBNT0RFLk9iamVjdExpdGVyYWwpIHtcbiAgICAgIGN1cnJlbnRfdG9rZW4udHlwZSA9IFRPS0VOLldPUkQ7XG4gICAgfSBlbHNlIGlmIChjdXJyZW50X3Rva2VuLnRleHQgPT09ICdpbXBvcnQnICYmIHRoaXMuX3Rva2Vucy5wZWVrKCkudGV4dCA9PT0gJygnKSB7XG4gICAgICBjdXJyZW50X3Rva2VuLnR5cGUgPSBUT0tFTi5XT1JEO1xuICAgIH0gZWxzZSBpZiAoaW5fYXJyYXkoY3VycmVudF90b2tlbi50ZXh0LCBbJ2FzJywgJ2Zyb20nXSkgJiYgIXRoaXMuX2ZsYWdzLmltcG9ydF9ibG9jaykge1xuICAgICAgY3VycmVudF90b2tlbi50eXBlID0gVE9LRU4uV09SRDtcbiAgICB9IGVsc2UgaWYgKHRoaXMuX2ZsYWdzLm1vZGUgPT09IE1PREUuT2JqZWN0TGl0ZXJhbCkge1xuICAgICAgdmFyIG5leHRfdG9rZW4gPSB0aGlzLl90b2tlbnMucGVlaygpO1xuICAgICAgaWYgKG5leHRfdG9rZW4udGV4dCA9PT0gJzonKSB7XG4gICAgICAgIGN1cnJlbnRfdG9rZW4udHlwZSA9IFRPS0VOLldPUkQ7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaWYgKHRoaXMuc3RhcnRfb2Zfc3RhdGVtZW50KGN1cnJlbnRfdG9rZW4pKSB7XG4gICAgLy8gVGhlIGNvbmRpdGlvbmFsIHN0YXJ0cyB0aGUgc3RhdGVtZW50IGlmIGFwcHJvcHJpYXRlLlxuICAgIGlmIChyZXNlcnZlZF9hcnJheSh0aGlzLl9mbGFncy5sYXN0X3Rva2VuLCBbJ3ZhcicsICdsZXQnLCAnY29uc3QnXSkgJiYgY3VycmVudF90b2tlbi50eXBlID09PSBUT0tFTi5XT1JEKSB7XG4gICAgICB0aGlzLl9mbGFncy5kZWNsYXJhdGlvbl9zdGF0ZW1lbnQgPSB0cnVlO1xuICAgIH1cbiAgfSBlbHNlIGlmIChjdXJyZW50X3Rva2VuLm5ld2xpbmVzICYmICFpc19leHByZXNzaW9uKHRoaXMuX2ZsYWdzLm1vZGUpICYmXG4gICAgKHRoaXMuX2ZsYWdzLmxhc3RfdG9rZW4udHlwZSAhPT0gVE9LRU4uT1BFUkFUT1IgfHwgKHRoaXMuX2ZsYWdzLmxhc3RfdG9rZW4udGV4dCA9PT0gJy0tJyB8fCB0aGlzLl9mbGFncy5sYXN0X3Rva2VuLnRleHQgPT09ICcrKycpKSAmJlxuICAgIHRoaXMuX2ZsYWdzLmxhc3RfdG9rZW4udHlwZSAhPT0gVE9LRU4uRVFVQUxTICYmXG4gICAgKHRoaXMuX29wdGlvbnMucHJlc2VydmVfbmV3bGluZXMgfHwgIXJlc2VydmVkX2FycmF5KHRoaXMuX2ZsYWdzLmxhc3RfdG9rZW4sIFsndmFyJywgJ2xldCcsICdjb25zdCcsICdzZXQnLCAnZ2V0J10pKSkge1xuICAgIHRoaXMuaGFuZGxlX3doaXRlc3BhY2VfYW5kX2NvbW1lbnRzKGN1cnJlbnRfdG9rZW4pO1xuICAgIHRoaXMucHJpbnRfbmV3bGluZSgpO1xuICB9IGVsc2Uge1xuICAgIHRoaXMuaGFuZGxlX3doaXRlc3BhY2VfYW5kX2NvbW1lbnRzKGN1cnJlbnRfdG9rZW4pO1xuICB9XG5cbiAgaWYgKHRoaXMuX2ZsYWdzLmRvX2Jsb2NrICYmICF0aGlzLl9mbGFncy5kb193aGlsZSkge1xuICAgIGlmIChyZXNlcnZlZF93b3JkKGN1cnJlbnRfdG9rZW4sICd3aGlsZScpKSB7XG4gICAgICAvLyBkbyB7fSAjIyB3aGlsZSAoKVxuICAgICAgdGhpcy5fb3V0cHV0LnNwYWNlX2JlZm9yZV90b2tlbiA9IHRydWU7XG4gICAgICB0aGlzLnByaW50X3Rva2VuKGN1cnJlbnRfdG9rZW4pO1xuICAgICAgdGhpcy5fb3V0cHV0LnNwYWNlX2JlZm9yZV90b2tlbiA9IHRydWU7XG4gICAgICB0aGlzLl9mbGFncy5kb193aGlsZSA9IHRydWU7XG4gICAgICByZXR1cm47XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGRvIHt9IHNob3VsZCBhbHdheXMgaGF2ZSB3aGlsZSBhcyB0aGUgbmV4dCB3b3JkLlxuICAgICAgLy8gaWYgd2UgZG9uJ3Qgc2VlIHRoZSBleHBlY3RlZCB3aGlsZSwgcmVjb3ZlclxuICAgICAgdGhpcy5wcmludF9uZXdsaW5lKCk7XG4gICAgICB0aGlzLl9mbGFncy5kb19ibG9jayA9IGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIC8vIGlmIG1heSBiZSBmb2xsb3dlZCBieSBlbHNlLCBvciBub3RcbiAgLy8gQmFyZS9pbmxpbmUgaWZzIGFyZSB0cmlja3lcbiAgLy8gTmVlZCB0byB1bndpbmQgdGhlIG1vZGVzIGNvcnJlY3RseTogaWYgKGEpIGlmIChiKSBjKCk7IGVsc2UgZCgpOyBlbHNlIGUoKTtcbiAgaWYgKHRoaXMuX2ZsYWdzLmlmX2Jsb2NrKSB7XG4gICAgaWYgKCF0aGlzLl9mbGFncy5lbHNlX2Jsb2NrICYmIHJlc2VydmVkX3dvcmQoY3VycmVudF90b2tlbiwgJ2Vsc2UnKSkge1xuICAgICAgdGhpcy5fZmxhZ3MuZWxzZV9ibG9jayA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHdoaWxlICh0aGlzLl9mbGFncy5tb2RlID09PSBNT0RFLlN0YXRlbWVudCkge1xuICAgICAgICB0aGlzLnJlc3RvcmVfbW9kZSgpO1xuICAgICAgfVxuICAgICAgdGhpcy5fZmxhZ3MuaWZfYmxvY2sgPSBmYWxzZTtcbiAgICAgIHRoaXMuX2ZsYWdzLmVsc2VfYmxvY2sgPSBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBpZiAodGhpcy5fZmxhZ3MuaW5fY2FzZV9zdGF0ZW1lbnQgJiYgcmVzZXJ2ZWRfYXJyYXkoY3VycmVudF90b2tlbiwgWydjYXNlJywgJ2RlZmF1bHQnXSkpIHtcbiAgICB0aGlzLnByaW50X25ld2xpbmUoKTtcbiAgICBpZiAodGhpcy5fZmxhZ3MubGFzdF90b2tlbi50eXBlICE9PSBUT0tFTi5FTkRfQkxPQ0sgJiYgKHRoaXMuX2ZsYWdzLmNhc2VfYm9keSB8fCB0aGlzLl9vcHRpb25zLmpzbGludF9oYXBweSkpIHtcbiAgICAgIC8vIHN3aXRjaCBjYXNlcyBmb2xsb3dpbmcgb25lIGFub3RoZXJcbiAgICAgIHRoaXMuZGVpbmRlbnQoKTtcbiAgICB9XG4gICAgdGhpcy5fZmxhZ3MuY2FzZV9ib2R5ID0gZmFsc2U7XG5cbiAgICB0aGlzLnByaW50X3Rva2VuKGN1cnJlbnRfdG9rZW4pO1xuICAgIHRoaXMuX2ZsYWdzLmluX2Nhc2UgPSB0cnVlO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmICh0aGlzLl9mbGFncy5sYXN0X3Rva2VuLnR5cGUgPT09IFRPS0VOLkNPTU1BIHx8IHRoaXMuX2ZsYWdzLmxhc3RfdG9rZW4udHlwZSA9PT0gVE9LRU4uU1RBUlRfRVhQUiB8fCB0aGlzLl9mbGFncy5sYXN0X3Rva2VuLnR5cGUgPT09IFRPS0VOLkVRVUFMUyB8fCB0aGlzLl9mbGFncy5sYXN0X3Rva2VuLnR5cGUgPT09IFRPS0VOLk9QRVJBVE9SKSB7XG4gICAgaWYgKCF0aGlzLnN0YXJ0X29mX29iamVjdF9wcm9wZXJ0eSgpKSB7XG4gICAgICB0aGlzLmFsbG93X3dyYXBfb3JfcHJlc2VydmVkX25ld2xpbmUoY3VycmVudF90b2tlbik7XG4gICAgfVxuICB9XG5cbiAgaWYgKHJlc2VydmVkX3dvcmQoY3VycmVudF90b2tlbiwgJ2Z1bmN0aW9uJykpIHtcbiAgICBpZiAoaW5fYXJyYXkodGhpcy5fZmxhZ3MubGFzdF90b2tlbi50ZXh0LCBbJ30nLCAnOyddKSB8fFxuICAgICAgKHRoaXMuX291dHB1dC5qdXN0X2FkZGVkX25ld2xpbmUoKSAmJiAhKGluX2FycmF5KHRoaXMuX2ZsYWdzLmxhc3RfdG9rZW4udGV4dCwgWycoJywgJ1snLCAneycsICc6JywgJz0nLCAnLCddKSB8fCB0aGlzLl9mbGFncy5sYXN0X3Rva2VuLnR5cGUgPT09IFRPS0VOLk9QRVJBVE9SKSkpIHtcbiAgICAgIC8vIG1ha2Ugc3VyZSB0aGVyZSBpcyBhIG5pY2UgY2xlYW4gc3BhY2Ugb2YgYXQgbGVhc3Qgb25lIGJsYW5rIGxpbmVcbiAgICAgIC8vIGJlZm9yZSBhIG5ldyBmdW5jdGlvbiBkZWZpbml0aW9uXG4gICAgICBpZiAoIXRoaXMuX291dHB1dC5qdXN0X2FkZGVkX2JsYW5rbGluZSgpICYmICFjdXJyZW50X3Rva2VuLmNvbW1lbnRzX2JlZm9yZSkge1xuICAgICAgICB0aGlzLnByaW50X25ld2xpbmUoKTtcbiAgICAgICAgdGhpcy5wcmludF9uZXdsaW5lKHRydWUpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodGhpcy5fZmxhZ3MubGFzdF90b2tlbi50eXBlID09PSBUT0tFTi5SRVNFUlZFRCB8fCB0aGlzLl9mbGFncy5sYXN0X3Rva2VuLnR5cGUgPT09IFRPS0VOLldPUkQpIHtcbiAgICAgIGlmIChyZXNlcnZlZF9hcnJheSh0aGlzLl9mbGFncy5sYXN0X3Rva2VuLCBbJ2dldCcsICdzZXQnLCAnbmV3JywgJ2V4cG9ydCddKSB8fFxuICAgICAgICByZXNlcnZlZF9hcnJheSh0aGlzLl9mbGFncy5sYXN0X3Rva2VuLCBuZXdsaW5lX3Jlc3RyaWN0ZWRfdG9rZW5zKSkge1xuICAgICAgICB0aGlzLl9vdXRwdXQuc3BhY2VfYmVmb3JlX3Rva2VuID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSBpZiAocmVzZXJ2ZWRfd29yZCh0aGlzLl9mbGFncy5sYXN0X3Rva2VuLCAnZGVmYXVsdCcpICYmIHRoaXMuX2xhc3RfbGFzdF90ZXh0ID09PSAnZXhwb3J0Jykge1xuICAgICAgICB0aGlzLl9vdXRwdXQuc3BhY2VfYmVmb3JlX3Rva2VuID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5fZmxhZ3MubGFzdF90b2tlbi50ZXh0ID09PSAnZGVjbGFyZScpIHtcbiAgICAgICAgLy8gYWNjb21vZGF0ZXMgVHlwZXNjcmlwdCBkZWNsYXJlIGZ1bmN0aW9uIGZvcm1hdHRpbmdcbiAgICAgICAgdGhpcy5fb3V0cHV0LnNwYWNlX2JlZm9yZV90b2tlbiA9IHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnByaW50X25ld2xpbmUoKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHRoaXMuX2ZsYWdzLmxhc3RfdG9rZW4udHlwZSA9PT0gVE9LRU4uT1BFUkFUT1IgfHwgdGhpcy5fZmxhZ3MubGFzdF90b2tlbi50ZXh0ID09PSAnPScpIHtcbiAgICAgIC8vIGZvbyA9IGZ1bmN0aW9uXG4gICAgICB0aGlzLl9vdXRwdXQuc3BhY2VfYmVmb3JlX3Rva2VuID0gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKCF0aGlzLl9mbGFncy5tdWx0aWxpbmVfZnJhbWUgJiYgKGlzX2V4cHJlc3Npb24odGhpcy5fZmxhZ3MubW9kZSkgfHwgaXNfYXJyYXkodGhpcy5fZmxhZ3MubW9kZSkpKSB7XG4gICAgICAvLyAoZnVuY3Rpb25cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5wcmludF9uZXdsaW5lKCk7XG4gICAgfVxuXG4gICAgdGhpcy5wcmludF90b2tlbihjdXJyZW50X3Rva2VuKTtcbiAgICB0aGlzLl9mbGFncy5sYXN0X3dvcmQgPSBjdXJyZW50X3Rva2VuLnRleHQ7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIHByZWZpeCA9ICdOT05FJztcblxuICBpZiAodGhpcy5fZmxhZ3MubGFzdF90b2tlbi50eXBlID09PSBUT0tFTi5FTkRfQkxPQ0spIHtcblxuICAgIGlmICh0aGlzLl9wcmV2aW91c19mbGFncy5pbmxpbmVfZnJhbWUpIHtcbiAgICAgIHByZWZpeCA9ICdTUEFDRSc7XG4gICAgfSBlbHNlIGlmICghcmVzZXJ2ZWRfYXJyYXkoY3VycmVudF90b2tlbiwgWydlbHNlJywgJ2NhdGNoJywgJ2ZpbmFsbHknLCAnZnJvbSddKSkge1xuICAgICAgcHJlZml4ID0gJ05FV0xJTkUnO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodGhpcy5fb3B0aW9ucy5icmFjZV9zdHlsZSA9PT0gXCJleHBhbmRcIiB8fFxuICAgICAgICB0aGlzLl9vcHRpb25zLmJyYWNlX3N0eWxlID09PSBcImVuZC1leHBhbmRcIiB8fFxuICAgICAgICAodGhpcy5fb3B0aW9ucy5icmFjZV9zdHlsZSA9PT0gXCJub25lXCIgJiYgY3VycmVudF90b2tlbi5uZXdsaW5lcykpIHtcbiAgICAgICAgcHJlZml4ID0gJ05FV0xJTkUnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcHJlZml4ID0gJ1NQQUNFJztcbiAgICAgICAgdGhpcy5fb3V0cHV0LnNwYWNlX2JlZm9yZV90b2tlbiA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKHRoaXMuX2ZsYWdzLmxhc3RfdG9rZW4udHlwZSA9PT0gVE9LRU4uU0VNSUNPTE9OICYmIHRoaXMuX2ZsYWdzLm1vZGUgPT09IE1PREUuQmxvY2tTdGF0ZW1lbnQpIHtcbiAgICAvLyBUT0RPOiBTaG91bGQgdGhpcyBiZSBmb3IgU1RBVEVNRU5UIGFzIHdlbGw/XG4gICAgcHJlZml4ID0gJ05FV0xJTkUnO1xuICB9IGVsc2UgaWYgKHRoaXMuX2ZsYWdzLmxhc3RfdG9rZW4udHlwZSA9PT0gVE9LRU4uU0VNSUNPTE9OICYmIGlzX2V4cHJlc3Npb24odGhpcy5fZmxhZ3MubW9kZSkpIHtcbiAgICBwcmVmaXggPSAnU1BBQ0UnO1xuICB9IGVsc2UgaWYgKHRoaXMuX2ZsYWdzLmxhc3RfdG9rZW4udHlwZSA9PT0gVE9LRU4uU1RSSU5HKSB7XG4gICAgcHJlZml4ID0gJ05FV0xJTkUnO1xuICB9IGVsc2UgaWYgKHRoaXMuX2ZsYWdzLmxhc3RfdG9rZW4udHlwZSA9PT0gVE9LRU4uUkVTRVJWRUQgfHwgdGhpcy5fZmxhZ3MubGFzdF90b2tlbi50eXBlID09PSBUT0tFTi5XT1JEIHx8XG4gICAgKHRoaXMuX2ZsYWdzLmxhc3RfdG9rZW4udGV4dCA9PT0gJyonICYmXG4gICAgICAoaW5fYXJyYXkodGhpcy5fbGFzdF9sYXN0X3RleHQsIFsnZnVuY3Rpb24nLCAneWllbGQnXSkgfHxcbiAgICAgICAgKHRoaXMuX2ZsYWdzLm1vZGUgPT09IE1PREUuT2JqZWN0TGl0ZXJhbCAmJiBpbl9hcnJheSh0aGlzLl9sYXN0X2xhc3RfdGV4dCwgWyd7JywgJywnXSkpKSkpIHtcbiAgICBwcmVmaXggPSAnU1BBQ0UnO1xuICB9IGVsc2UgaWYgKHRoaXMuX2ZsYWdzLmxhc3RfdG9rZW4udHlwZSA9PT0gVE9LRU4uU1RBUlRfQkxPQ0spIHtcbiAgICBpZiAodGhpcy5fZmxhZ3MuaW5saW5lX2ZyYW1lKSB7XG4gICAgICBwcmVmaXggPSAnU1BBQ0UnO1xuICAgIH0gZWxzZSB7XG4gICAgICBwcmVmaXggPSAnTkVXTElORSc7XG4gICAgfVxuICB9IGVsc2UgaWYgKHRoaXMuX2ZsYWdzLmxhc3RfdG9rZW4udHlwZSA9PT0gVE9LRU4uRU5EX0VYUFIpIHtcbiAgICB0aGlzLl9vdXRwdXQuc3BhY2VfYmVmb3JlX3Rva2VuID0gdHJ1ZTtcbiAgICBwcmVmaXggPSAnTkVXTElORSc7XG4gIH1cblxuICBpZiAocmVzZXJ2ZWRfYXJyYXkoY3VycmVudF90b2tlbiwgbGluZV9zdGFydGVycykgJiYgdGhpcy5fZmxhZ3MubGFzdF90b2tlbi50ZXh0ICE9PSAnKScpIHtcbiAgICBpZiAodGhpcy5fZmxhZ3MuaW5saW5lX2ZyYW1lIHx8IHRoaXMuX2ZsYWdzLmxhc3RfdG9rZW4udGV4dCA9PT0gJ2Vsc2UnIHx8IHRoaXMuX2ZsYWdzLmxhc3RfdG9rZW4udGV4dCA9PT0gJ2V4cG9ydCcpIHtcbiAgICAgIHByZWZpeCA9ICdTUEFDRSc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHByZWZpeCA9ICdORVdMSU5FJztcbiAgICB9XG5cbiAgfVxuXG4gIGlmIChyZXNlcnZlZF9hcnJheShjdXJyZW50X3Rva2VuLCBbJ2Vsc2UnLCAnY2F0Y2gnLCAnZmluYWxseSddKSkge1xuICAgIGlmICgoISh0aGlzLl9mbGFncy5sYXN0X3Rva2VuLnR5cGUgPT09IFRPS0VOLkVORF9CTE9DSyAmJiB0aGlzLl9wcmV2aW91c19mbGFncy5tb2RlID09PSBNT0RFLkJsb2NrU3RhdGVtZW50KSB8fFxuICAgICAgICB0aGlzLl9vcHRpb25zLmJyYWNlX3N0eWxlID09PSBcImV4cGFuZFwiIHx8XG4gICAgICAgIHRoaXMuX29wdGlvbnMuYnJhY2Vfc3R5bGUgPT09IFwiZW5kLWV4cGFuZFwiIHx8XG4gICAgICAgICh0aGlzLl9vcHRpb25zLmJyYWNlX3N0eWxlID09PSBcIm5vbmVcIiAmJiBjdXJyZW50X3Rva2VuLm5ld2xpbmVzKSkgJiZcbiAgICAgICF0aGlzLl9mbGFncy5pbmxpbmVfZnJhbWUpIHtcbiAgICAgIHRoaXMucHJpbnRfbmV3bGluZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9vdXRwdXQudHJpbSh0cnVlKTtcbiAgICAgIHZhciBsaW5lID0gdGhpcy5fb3V0cHV0LmN1cnJlbnRfbGluZTtcbiAgICAgIC8vIElmIHdlIHRyaW1tZWQgYW5kIHRoZXJlJ3Mgc29tZXRoaW5nIG90aGVyIHRoYW4gYSBjbG9zZSBibG9jayBiZWZvcmUgdXNcbiAgICAgIC8vIHB1dCBhIG5ld2xpbmUgYmFjayBpbi4gIEhhbmRsZXMgJ30gLy8gY29tbWVudCcgc2NlbmFyaW8uXG4gICAgICBpZiAobGluZS5sYXN0KCkgIT09ICd9Jykge1xuICAgICAgICB0aGlzLnByaW50X25ld2xpbmUoKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX291dHB1dC5zcGFjZV9iZWZvcmVfdG9rZW4gPSB0cnVlO1xuICAgIH1cbiAgfSBlbHNlIGlmIChwcmVmaXggPT09ICdORVdMSU5FJykge1xuICAgIGlmIChyZXNlcnZlZF9hcnJheSh0aGlzLl9mbGFncy5sYXN0X3Rva2VuLCBzcGVjaWFsX3dvcmRzKSkge1xuICAgICAgLy8gbm8gbmV3bGluZSBiZXR3ZWVuICdyZXR1cm4gbm5uJ1xuICAgICAgdGhpcy5fb3V0cHV0LnNwYWNlX2JlZm9yZV90b2tlbiA9IHRydWU7XG4gICAgfSBlbHNlIGlmICh0aGlzLl9mbGFncy5sYXN0X3Rva2VuLnRleHQgPT09ICdkZWNsYXJlJyAmJiByZXNlcnZlZF9hcnJheShjdXJyZW50X3Rva2VuLCBbJ3ZhcicsICdsZXQnLCAnY29uc3QnXSkpIHtcbiAgICAgIC8vIGFjY29tb2RhdGVzIFR5cGVzY3JpcHQgZGVjbGFyZSBmb3JtYXR0aW5nXG4gICAgICB0aGlzLl9vdXRwdXQuc3BhY2VfYmVmb3JlX3Rva2VuID0gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuX2ZsYWdzLmxhc3RfdG9rZW4udHlwZSAhPT0gVE9LRU4uRU5EX0VYUFIpIHtcbiAgICAgIGlmICgodGhpcy5fZmxhZ3MubGFzdF90b2tlbi50eXBlICE9PSBUT0tFTi5TVEFSVF9FWFBSIHx8ICFyZXNlcnZlZF9hcnJheShjdXJyZW50X3Rva2VuLCBbJ3ZhcicsICdsZXQnLCAnY29uc3QnXSkpICYmIHRoaXMuX2ZsYWdzLmxhc3RfdG9rZW4udGV4dCAhPT0gJzonKSB7XG4gICAgICAgIC8vIG5vIG5lZWQgdG8gZm9yY2UgbmV3bGluZSBvbiAndmFyJzogZm9yICh2YXIgeCA9IDAuLi4pXG4gICAgICAgIGlmIChyZXNlcnZlZF93b3JkKGN1cnJlbnRfdG9rZW4sICdpZicpICYmIHJlc2VydmVkX3dvcmQoY3VycmVudF90b2tlbi5wcmV2aW91cywgJ2Vsc2UnKSkge1xuICAgICAgICAgIC8vIG5vIG5ld2xpbmUgZm9yIH0gZWxzZSBpZiB7XG4gICAgICAgICAgdGhpcy5fb3V0cHV0LnNwYWNlX2JlZm9yZV90b2tlbiA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5wcmludF9uZXdsaW5lKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHJlc2VydmVkX2FycmF5KGN1cnJlbnRfdG9rZW4sIGxpbmVfc3RhcnRlcnMpICYmIHRoaXMuX2ZsYWdzLmxhc3RfdG9rZW4udGV4dCAhPT0gJyknKSB7XG4gICAgICB0aGlzLnByaW50X25ld2xpbmUoKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAodGhpcy5fZmxhZ3MubXVsdGlsaW5lX2ZyYW1lICYmIGlzX2FycmF5KHRoaXMuX2ZsYWdzLm1vZGUpICYmIHRoaXMuX2ZsYWdzLmxhc3RfdG9rZW4udGV4dCA9PT0gJywnICYmIHRoaXMuX2xhc3RfbGFzdF90ZXh0ID09PSAnfScpIHtcbiAgICB0aGlzLnByaW50X25ld2xpbmUoKTsgLy8gfSwgaW4gbGlzdHMgZ2V0IGEgbmV3bGluZSB0cmVhdG1lbnRcbiAgfSBlbHNlIGlmIChwcmVmaXggPT09ICdTUEFDRScpIHtcbiAgICB0aGlzLl9vdXRwdXQuc3BhY2VfYmVmb3JlX3Rva2VuID0gdHJ1ZTtcbiAgfVxuICBpZiAoY3VycmVudF90b2tlbi5wcmV2aW91cyAmJiAoY3VycmVudF90b2tlbi5wcmV2aW91cy50eXBlID09PSBUT0tFTi5XT1JEIHx8IGN1cnJlbnRfdG9rZW4ucHJldmlvdXMudHlwZSA9PT0gVE9LRU4uUkVTRVJWRUQpKSB7XG4gICAgdGhpcy5fb3V0cHV0LnNwYWNlX2JlZm9yZV90b2tlbiA9IHRydWU7XG4gIH1cbiAgdGhpcy5wcmludF90b2tlbihjdXJyZW50X3Rva2VuKTtcbiAgdGhpcy5fZmxhZ3MubGFzdF93b3JkID0gY3VycmVudF90b2tlbi50ZXh0O1xuXG4gIGlmIChjdXJyZW50X3Rva2VuLnR5cGUgPT09IFRPS0VOLlJFU0VSVkVEKSB7XG4gICAgaWYgKGN1cnJlbnRfdG9rZW4udGV4dCA9PT0gJ2RvJykge1xuICAgICAgdGhpcy5fZmxhZ3MuZG9fYmxvY2sgPSB0cnVlO1xuICAgIH0gZWxzZSBpZiAoY3VycmVudF90b2tlbi50ZXh0ID09PSAnaWYnKSB7XG4gICAgICB0aGlzLl9mbGFncy5pZl9ibG9jayA9IHRydWU7XG4gICAgfSBlbHNlIGlmIChjdXJyZW50X3Rva2VuLnRleHQgPT09ICdpbXBvcnQnKSB7XG4gICAgICB0aGlzLl9mbGFncy5pbXBvcnRfYmxvY2sgPSB0cnVlO1xuICAgIH0gZWxzZSBpZiAodGhpcy5fZmxhZ3MuaW1wb3J0X2Jsb2NrICYmIHJlc2VydmVkX3dvcmQoY3VycmVudF90b2tlbiwgJ2Zyb20nKSkge1xuICAgICAgdGhpcy5fZmxhZ3MuaW1wb3J0X2Jsb2NrID0gZmFsc2U7XG4gICAgfVxuICB9XG59O1xuXG5CZWF1dGlmaWVyLnByb3RvdHlwZS5oYW5kbGVfc2VtaWNvbG9uID0gZnVuY3Rpb24oY3VycmVudF90b2tlbikge1xuICBpZiAodGhpcy5zdGFydF9vZl9zdGF0ZW1lbnQoY3VycmVudF90b2tlbikpIHtcbiAgICAvLyBUaGUgY29uZGl0aW9uYWwgc3RhcnRzIHRoZSBzdGF0ZW1lbnQgaWYgYXBwcm9wcmlhdGUuXG4gICAgLy8gU2VtaWNvbG9uIGNhbiBiZSB0aGUgc3RhcnQgKGFuZCBlbmQpIG9mIGEgc3RhdGVtZW50XG4gICAgdGhpcy5fb3V0cHV0LnNwYWNlX2JlZm9yZV90b2tlbiA9IGZhbHNlO1xuICB9IGVsc2Uge1xuICAgIHRoaXMuaGFuZGxlX3doaXRlc3BhY2VfYW5kX2NvbW1lbnRzKGN1cnJlbnRfdG9rZW4pO1xuICB9XG5cbiAgdmFyIG5leHRfdG9rZW4gPSB0aGlzLl90b2tlbnMucGVlaygpO1xuICB3aGlsZSAodGhpcy5fZmxhZ3MubW9kZSA9PT0gTU9ERS5TdGF0ZW1lbnQgJiZcbiAgICAhKHRoaXMuX2ZsYWdzLmlmX2Jsb2NrICYmIHJlc2VydmVkX3dvcmQobmV4dF90b2tlbiwgJ2Vsc2UnKSkgJiZcbiAgICAhdGhpcy5fZmxhZ3MuZG9fYmxvY2spIHtcbiAgICB0aGlzLnJlc3RvcmVfbW9kZSgpO1xuICB9XG5cbiAgLy8gaGFja3kgYnV0IGVmZmVjdGl2ZSBmb3IgdGhlIG1vbWVudFxuICBpZiAodGhpcy5fZmxhZ3MuaW1wb3J0X2Jsb2NrKSB7XG4gICAgdGhpcy5fZmxhZ3MuaW1wb3J0X2Jsb2NrID0gZmFsc2U7XG4gIH1cbiAgdGhpcy5wcmludF90b2tlbihjdXJyZW50X3Rva2VuKTtcbn07XG5cbkJlYXV0aWZpZXIucHJvdG90eXBlLmhhbmRsZV9zdHJpbmcgPSBmdW5jdGlvbihjdXJyZW50X3Rva2VuKSB7XG4gIGlmICh0aGlzLnN0YXJ0X29mX3N0YXRlbWVudChjdXJyZW50X3Rva2VuKSkge1xuICAgIC8vIFRoZSBjb25kaXRpb25hbCBzdGFydHMgdGhlIHN0YXRlbWVudCBpZiBhcHByb3ByaWF0ZS5cbiAgICAvLyBPbmUgZGlmZmVyZW5jZSAtIHN0cmluZ3Mgd2FudCBhdCBsZWFzdCBhIHNwYWNlIGJlZm9yZVxuICAgIHRoaXMuX291dHB1dC5zcGFjZV9iZWZvcmVfdG9rZW4gPSB0cnVlO1xuICB9IGVsc2Uge1xuICAgIHRoaXMuaGFuZGxlX3doaXRlc3BhY2VfYW5kX2NvbW1lbnRzKGN1cnJlbnRfdG9rZW4pO1xuICAgIGlmICh0aGlzLl9mbGFncy5sYXN0X3Rva2VuLnR5cGUgPT09IFRPS0VOLlJFU0VSVkVEIHx8IHRoaXMuX2ZsYWdzLmxhc3RfdG9rZW4udHlwZSA9PT0gVE9LRU4uV09SRCB8fCB0aGlzLl9mbGFncy5pbmxpbmVfZnJhbWUpIHtcbiAgICAgIHRoaXMuX291dHB1dC5zcGFjZV9iZWZvcmVfdG9rZW4gPSB0cnVlO1xuICAgIH0gZWxzZSBpZiAodGhpcy5fZmxhZ3MubGFzdF90b2tlbi50eXBlID09PSBUT0tFTi5DT01NQSB8fCB0aGlzLl9mbGFncy5sYXN0X3Rva2VuLnR5cGUgPT09IFRPS0VOLlNUQVJUX0VYUFIgfHwgdGhpcy5fZmxhZ3MubGFzdF90b2tlbi50eXBlID09PSBUT0tFTi5FUVVBTFMgfHwgdGhpcy5fZmxhZ3MubGFzdF90b2tlbi50eXBlID09PSBUT0tFTi5PUEVSQVRPUikge1xuICAgICAgaWYgKCF0aGlzLnN0YXJ0X29mX29iamVjdF9wcm9wZXJ0eSgpKSB7XG4gICAgICAgIHRoaXMuYWxsb3dfd3JhcF9vcl9wcmVzZXJ2ZWRfbmV3bGluZShjdXJyZW50X3Rva2VuKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5wcmludF9uZXdsaW5lKCk7XG4gICAgfVxuICB9XG4gIHRoaXMucHJpbnRfdG9rZW4oY3VycmVudF90b2tlbik7XG59O1xuXG5CZWF1dGlmaWVyLnByb3RvdHlwZS5oYW5kbGVfZXF1YWxzID0gZnVuY3Rpb24oY3VycmVudF90b2tlbikge1xuICBpZiAodGhpcy5zdGFydF9vZl9zdGF0ZW1lbnQoY3VycmVudF90b2tlbikpIHtcbiAgICAvLyBUaGUgY29uZGl0aW9uYWwgc3RhcnRzIHRoZSBzdGF0ZW1lbnQgaWYgYXBwcm9wcmlhdGUuXG4gIH0gZWxzZSB7XG4gICAgdGhpcy5oYW5kbGVfd2hpdGVzcGFjZV9hbmRfY29tbWVudHMoY3VycmVudF90b2tlbik7XG4gIH1cblxuICBpZiAodGhpcy5fZmxhZ3MuZGVjbGFyYXRpb25fc3RhdGVtZW50KSB7XG4gICAgLy8ganVzdCBnb3QgYW4gJz0nIGluIGEgdmFyLWxpbmUsIGRpZmZlcmVudCBmb3JtYXR0aW5nL2xpbmUtYnJlYWtpbmcsIGV0YyB3aWxsIG5vdyBiZSBkb25lXG4gICAgdGhpcy5fZmxhZ3MuZGVjbGFyYXRpb25fYXNzaWdubWVudCA9IHRydWU7XG4gIH1cbiAgdGhpcy5fb3V0cHV0LnNwYWNlX2JlZm9yZV90b2tlbiA9IHRydWU7XG4gIHRoaXMucHJpbnRfdG9rZW4oY3VycmVudF90b2tlbik7XG4gIHRoaXMuX291dHB1dC5zcGFjZV9iZWZvcmVfdG9rZW4gPSB0cnVlO1xufTtcblxuQmVhdXRpZmllci5wcm90b3R5cGUuaGFuZGxlX2NvbW1hID0gZnVuY3Rpb24oY3VycmVudF90b2tlbikge1xuICB0aGlzLmhhbmRsZV93aGl0ZXNwYWNlX2FuZF9jb21tZW50cyhjdXJyZW50X3Rva2VuLCB0cnVlKTtcblxuICB0aGlzLnByaW50X3Rva2VuKGN1cnJlbnRfdG9rZW4pO1xuICB0aGlzLl9vdXRwdXQuc3BhY2VfYmVmb3JlX3Rva2VuID0gdHJ1ZTtcbiAgaWYgKHRoaXMuX2ZsYWdzLmRlY2xhcmF0aW9uX3N0YXRlbWVudCkge1xuICAgIGlmIChpc19leHByZXNzaW9uKHRoaXMuX2ZsYWdzLnBhcmVudC5tb2RlKSkge1xuICAgICAgLy8gZG8gbm90IGJyZWFrIG9uIGNvbW1hLCBmb3IodmFyIGEgPSAxLCBiID0gMilcbiAgICAgIHRoaXMuX2ZsYWdzLmRlY2xhcmF0aW9uX2Fzc2lnbm1lbnQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fZmxhZ3MuZGVjbGFyYXRpb25fYXNzaWdubWVudCkge1xuICAgICAgdGhpcy5fZmxhZ3MuZGVjbGFyYXRpb25fYXNzaWdubWVudCA9IGZhbHNlO1xuICAgICAgdGhpcy5wcmludF9uZXdsaW5lKGZhbHNlLCB0cnVlKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuX29wdGlvbnMuY29tbWFfZmlyc3QpIHtcbiAgICAgIC8vIGZvciBjb21tYS1maXJzdCwgd2Ugd2FudCB0byBhbGxvdyBhIG5ld2xpbmUgYmVmb3JlIHRoZSBjb21tYVxuICAgICAgLy8gdG8gdHVybiBpbnRvIGEgbmV3bGluZSBhZnRlciB0aGUgY29tbWEsIHdoaWNoIHdlIHdpbGwgZml4dXAgbGF0ZXJcbiAgICAgIHRoaXMuYWxsb3dfd3JhcF9vcl9wcmVzZXJ2ZWRfbmV3bGluZShjdXJyZW50X3Rva2VuKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAodGhpcy5fZmxhZ3MubW9kZSA9PT0gTU9ERS5PYmplY3RMaXRlcmFsIHx8XG4gICAgKHRoaXMuX2ZsYWdzLm1vZGUgPT09IE1PREUuU3RhdGVtZW50ICYmIHRoaXMuX2ZsYWdzLnBhcmVudC5tb2RlID09PSBNT0RFLk9iamVjdExpdGVyYWwpKSB7XG4gICAgaWYgKHRoaXMuX2ZsYWdzLm1vZGUgPT09IE1PREUuU3RhdGVtZW50KSB7XG4gICAgICB0aGlzLnJlc3RvcmVfbW9kZSgpO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5fZmxhZ3MuaW5saW5lX2ZyYW1lKSB7XG4gICAgICB0aGlzLnByaW50X25ld2xpbmUoKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAodGhpcy5fb3B0aW9ucy5jb21tYV9maXJzdCkge1xuICAgIC8vIEVYUFIgb3IgRE9fQkxPQ0tcbiAgICAvLyBmb3IgY29tbWEtZmlyc3QsIHdlIHdhbnQgdG8gYWxsb3cgYSBuZXdsaW5lIGJlZm9yZSB0aGUgY29tbWFcbiAgICAvLyB0byB0dXJuIGludG8gYSBuZXdsaW5lIGFmdGVyIHRoZSBjb21tYSwgd2hpY2ggd2Ugd2lsbCBmaXh1cCBsYXRlclxuICAgIHRoaXMuYWxsb3dfd3JhcF9vcl9wcmVzZXJ2ZWRfbmV3bGluZShjdXJyZW50X3Rva2VuKTtcbiAgfVxufTtcblxuQmVhdXRpZmllci5wcm90b3R5cGUuaGFuZGxlX29wZXJhdG9yID0gZnVuY3Rpb24oY3VycmVudF90b2tlbikge1xuICB2YXIgaXNHZW5lcmF0b3JBc3RlcmlzayA9IGN1cnJlbnRfdG9rZW4udGV4dCA9PT0gJyonICYmXG4gICAgKHJlc2VydmVkX2FycmF5KHRoaXMuX2ZsYWdzLmxhc3RfdG9rZW4sIFsnZnVuY3Rpb24nLCAneWllbGQnXSkgfHxcbiAgICAgIChpbl9hcnJheSh0aGlzLl9mbGFncy5sYXN0X3Rva2VuLnR5cGUsIFtUT0tFTi5TVEFSVF9CTE9DSywgVE9LRU4uQ09NTUEsIFRPS0VOLkVORF9CTE9DSywgVE9LRU4uU0VNSUNPTE9OXSkpXG4gICAgKTtcbiAgdmFyIGlzVW5hcnkgPSBpbl9hcnJheShjdXJyZW50X3Rva2VuLnRleHQsIFsnLScsICcrJ10pICYmIChcbiAgICBpbl9hcnJheSh0aGlzLl9mbGFncy5sYXN0X3Rva2VuLnR5cGUsIFtUT0tFTi5TVEFSVF9CTE9DSywgVE9LRU4uU1RBUlRfRVhQUiwgVE9LRU4uRVFVQUxTLCBUT0tFTi5PUEVSQVRPUl0pIHx8XG4gICAgaW5fYXJyYXkodGhpcy5fZmxhZ3MubGFzdF90b2tlbi50ZXh0LCBsaW5lX3N0YXJ0ZXJzKSB8fFxuICAgIHRoaXMuX2ZsYWdzLmxhc3RfdG9rZW4udGV4dCA9PT0gJywnXG4gICk7XG5cbiAgaWYgKHRoaXMuc3RhcnRfb2Zfc3RhdGVtZW50KGN1cnJlbnRfdG9rZW4pKSB7XG4gICAgLy8gVGhlIGNvbmRpdGlvbmFsIHN0YXJ0cyB0aGUgc3RhdGVtZW50IGlmIGFwcHJvcHJpYXRlLlxuICB9IGVsc2Uge1xuICAgIHZhciBwcmVzZXJ2ZV9zdGF0ZW1lbnRfZmxhZ3MgPSAhaXNHZW5lcmF0b3JBc3RlcmlzaztcbiAgICB0aGlzLmhhbmRsZV93aGl0ZXNwYWNlX2FuZF9jb21tZW50cyhjdXJyZW50X3Rva2VuLCBwcmVzZXJ2ZV9zdGF0ZW1lbnRfZmxhZ3MpO1xuICB9XG5cbiAgaWYgKHJlc2VydmVkX2FycmF5KHRoaXMuX2ZsYWdzLmxhc3RfdG9rZW4sIHNwZWNpYWxfd29yZHMpKSB7XG4gICAgLy8gXCJyZXR1cm5cIiBoYWQgYSBzcGVjaWFsIGhhbmRsaW5nIGluIFRLX1dPUkQuIE5vdyB3ZSBuZWVkIHRvIHJldHVybiB0aGUgZmF2b3JcbiAgICB0aGlzLl9vdXRwdXQuc3BhY2VfYmVmb3JlX3Rva2VuID0gdHJ1ZTtcbiAgICB0aGlzLnByaW50X3Rva2VuKGN1cnJlbnRfdG9rZW4pO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIGhhY2sgZm9yIGFjdGlvbnNjcmlwdCdzIGltcG9ydCAuKjtcbiAgaWYgKGN1cnJlbnRfdG9rZW4udGV4dCA9PT0gJyonICYmIHRoaXMuX2ZsYWdzLmxhc3RfdG9rZW4udHlwZSA9PT0gVE9LRU4uRE9UKSB7XG4gICAgdGhpcy5wcmludF90b2tlbihjdXJyZW50X3Rva2VuKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoY3VycmVudF90b2tlbi50ZXh0ID09PSAnOjonKSB7XG4gICAgLy8gbm8gc3BhY2VzIGFyb3VuZCBleG90aWMgbmFtZXNwYWNpbmcgc3ludGF4IG9wZXJhdG9yXG4gICAgdGhpcy5wcmludF90b2tlbihjdXJyZW50X3Rva2VuKTtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBBbGxvdyBsaW5lIHdyYXBwaW5nIGJldHdlZW4gb3BlcmF0b3JzIHdoZW4gb3BlcmF0b3JfcG9zaXRpb24gaXNcbiAgLy8gICBzZXQgdG8gYmVmb3JlIG9yIHByZXNlcnZlXG4gIGlmICh0aGlzLl9mbGFncy5sYXN0X3Rva2VuLnR5cGUgPT09IFRPS0VOLk9QRVJBVE9SICYmIGluX2FycmF5KHRoaXMuX29wdGlvbnMub3BlcmF0b3JfcG9zaXRpb24sIE9QRVJBVE9SX1BPU0lUSU9OX0JFRk9SRV9PUl9QUkVTRVJWRSkpIHtcbiAgICB0aGlzLmFsbG93X3dyYXBfb3JfcHJlc2VydmVkX25ld2xpbmUoY3VycmVudF90b2tlbik7XG4gIH1cblxuICBpZiAoY3VycmVudF90b2tlbi50ZXh0ID09PSAnOicgJiYgdGhpcy5fZmxhZ3MuaW5fY2FzZSkge1xuICAgIHRoaXMucHJpbnRfdG9rZW4oY3VycmVudF90b2tlbik7XG5cbiAgICB0aGlzLl9mbGFncy5pbl9jYXNlID0gZmFsc2U7XG4gICAgdGhpcy5fZmxhZ3MuY2FzZV9ib2R5ID0gdHJ1ZTtcbiAgICBpZiAodGhpcy5fdG9rZW5zLnBlZWsoKS50eXBlICE9PSBUT0tFTi5TVEFSVF9CTE9DSykge1xuICAgICAgdGhpcy5pbmRlbnQoKTtcbiAgICAgIHRoaXMucHJpbnRfbmV3bGluZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9vdXRwdXQuc3BhY2VfYmVmb3JlX3Rva2VuID0gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIHNwYWNlX2JlZm9yZSA9IHRydWU7XG4gIHZhciBzcGFjZV9hZnRlciA9IHRydWU7XG4gIHZhciBpbl90ZXJuYXJ5ID0gZmFsc2U7XG4gIGlmIChjdXJyZW50X3Rva2VuLnRleHQgPT09ICc6Jykge1xuICAgIGlmICh0aGlzLl9mbGFncy50ZXJuYXJ5X2RlcHRoID09PSAwKSB7XG4gICAgICAvLyBDb2xvbiBpcyBpbnZhbGlkIGphdmFzY3JpcHQgb3V0c2lkZSBvZiB0ZXJuYXJ5IGFuZCBvYmplY3QsIGJ1dCBkbyBvdXIgYmVzdCB0byBndWVzcyB3aGF0IHdhcyBtZWFudC5cbiAgICAgIHNwYWNlX2JlZm9yZSA9IGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9mbGFncy50ZXJuYXJ5X2RlcHRoIC09IDE7XG4gICAgICBpbl90ZXJuYXJ5ID0gdHJ1ZTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoY3VycmVudF90b2tlbi50ZXh0ID09PSAnPycpIHtcbiAgICB0aGlzLl9mbGFncy50ZXJuYXJ5X2RlcHRoICs9IDE7XG4gIH1cblxuICAvLyBsZXQncyBoYW5kbGUgdGhlIG9wZXJhdG9yX3Bvc2l0aW9uIG9wdGlvbiBwcmlvciB0byBhbnkgY29uZmxpY3RpbmcgbG9naWNcbiAgaWYgKCFpc1VuYXJ5ICYmICFpc0dlbmVyYXRvckFzdGVyaXNrICYmIHRoaXMuX29wdGlvbnMucHJlc2VydmVfbmV3bGluZXMgJiYgaW5fYXJyYXkoY3VycmVudF90b2tlbi50ZXh0LCBwb3NpdGlvbmFibGVfb3BlcmF0b3JzKSkge1xuICAgIHZhciBpc0NvbG9uID0gY3VycmVudF90b2tlbi50ZXh0ID09PSAnOic7XG4gICAgdmFyIGlzVGVybmFyeUNvbG9uID0gKGlzQ29sb24gJiYgaW5fdGVybmFyeSk7XG4gICAgdmFyIGlzT3RoZXJDb2xvbiA9IChpc0NvbG9uICYmICFpbl90ZXJuYXJ5KTtcblxuICAgIHN3aXRjaCAodGhpcy5fb3B0aW9ucy5vcGVyYXRvcl9wb3NpdGlvbikge1xuICAgICAgY2FzZSBPUEVSQVRPUl9QT1NJVElPTi5iZWZvcmVfbmV3bGluZTpcbiAgICAgICAgLy8gaWYgdGhlIGN1cnJlbnQgdG9rZW4gaXMgOiBhbmQgaXQncyBub3QgYSB0ZXJuYXJ5IHN0YXRlbWVudCB0aGVuIHdlIHNldCBzcGFjZV9iZWZvcmUgdG8gZmFsc2VcbiAgICAgICAgdGhpcy5fb3V0cHV0LnNwYWNlX2JlZm9yZV90b2tlbiA9ICFpc090aGVyQ29sb247XG5cbiAgICAgICAgdGhpcy5wcmludF90b2tlbihjdXJyZW50X3Rva2VuKTtcblxuICAgICAgICBpZiAoIWlzQ29sb24gfHwgaXNUZXJuYXJ5Q29sb24pIHtcbiAgICAgICAgICB0aGlzLmFsbG93X3dyYXBfb3JfcHJlc2VydmVkX25ld2xpbmUoY3VycmVudF90b2tlbik7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9vdXRwdXQuc3BhY2VfYmVmb3JlX3Rva2VuID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuO1xuXG4gICAgICBjYXNlIE9QRVJBVE9SX1BPU0lUSU9OLmFmdGVyX25ld2xpbmU6XG4gICAgICAgIC8vIGlmIHRoZSBjdXJyZW50IHRva2VuIGlzIGFueXRoaW5nIGJ1dCBjb2xvbiwgb3IgKHZpYSBkZWR1Y3Rpb24pIGl0J3MgYSBjb2xvbiBhbmQgaW4gYSB0ZXJuYXJ5IHN0YXRlbWVudCxcbiAgICAgICAgLy8gICB0aGVuIHByaW50IGEgbmV3bGluZS5cblxuICAgICAgICB0aGlzLl9vdXRwdXQuc3BhY2VfYmVmb3JlX3Rva2VuID0gdHJ1ZTtcblxuICAgICAgICBpZiAoIWlzQ29sb24gfHwgaXNUZXJuYXJ5Q29sb24pIHtcbiAgICAgICAgICBpZiAodGhpcy5fdG9rZW5zLnBlZWsoKS5uZXdsaW5lcykge1xuICAgICAgICAgICAgdGhpcy5wcmludF9uZXdsaW5lKGZhbHNlLCB0cnVlKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5hbGxvd193cmFwX29yX3ByZXNlcnZlZF9uZXdsaW5lKGN1cnJlbnRfdG9rZW4pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLl9vdXRwdXQuc3BhY2VfYmVmb3JlX3Rva2VuID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnByaW50X3Rva2VuKGN1cnJlbnRfdG9rZW4pO1xuXG4gICAgICAgIHRoaXMuX291dHB1dC5zcGFjZV9iZWZvcmVfdG9rZW4gPSB0cnVlO1xuICAgICAgICByZXR1cm47XG5cbiAgICAgIGNhc2UgT1BFUkFUT1JfUE9TSVRJT04ucHJlc2VydmVfbmV3bGluZTpcbiAgICAgICAgaWYgKCFpc090aGVyQ29sb24pIHtcbiAgICAgICAgICB0aGlzLmFsbG93X3dyYXBfb3JfcHJlc2VydmVkX25ld2xpbmUoY3VycmVudF90b2tlbik7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiB3ZSBqdXN0IGFkZGVkIGEgbmV3bGluZSwgb3IgdGhlIGN1cnJlbnQgdG9rZW4gaXMgOiBhbmQgaXQncyBub3QgYSB0ZXJuYXJ5IHN0YXRlbWVudCxcbiAgICAgICAgLy8gICB0aGVuIHdlIHNldCBzcGFjZV9iZWZvcmUgdG8gZmFsc2VcbiAgICAgICAgc3BhY2VfYmVmb3JlID0gISh0aGlzLl9vdXRwdXQuanVzdF9hZGRlZF9uZXdsaW5lKCkgfHwgaXNPdGhlckNvbG9uKTtcblxuICAgICAgICB0aGlzLl9vdXRwdXQuc3BhY2VfYmVmb3JlX3Rva2VuID0gc3BhY2VfYmVmb3JlO1xuICAgICAgICB0aGlzLnByaW50X3Rva2VuKGN1cnJlbnRfdG9rZW4pO1xuICAgICAgICB0aGlzLl9vdXRwdXQuc3BhY2VfYmVmb3JlX3Rva2VuID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfVxuXG4gIGlmIChpc0dlbmVyYXRvckFzdGVyaXNrKSB7XG4gICAgdGhpcy5hbGxvd193cmFwX29yX3ByZXNlcnZlZF9uZXdsaW5lKGN1cnJlbnRfdG9rZW4pO1xuICAgIHNwYWNlX2JlZm9yZSA9IGZhbHNlO1xuICAgIHZhciBuZXh0X3Rva2VuID0gdGhpcy5fdG9rZW5zLnBlZWsoKTtcbiAgICBzcGFjZV9hZnRlciA9IG5leHRfdG9rZW4gJiYgaW5fYXJyYXkobmV4dF90b2tlbi50eXBlLCBbVE9LRU4uV09SRCwgVE9LRU4uUkVTRVJWRURdKTtcbiAgfSBlbHNlIGlmIChjdXJyZW50X3Rva2VuLnRleHQgPT09ICcuLi4nKSB7XG4gICAgdGhpcy5hbGxvd193cmFwX29yX3ByZXNlcnZlZF9uZXdsaW5lKGN1cnJlbnRfdG9rZW4pO1xuICAgIHNwYWNlX2JlZm9yZSA9IHRoaXMuX2ZsYWdzLmxhc3RfdG9rZW4udHlwZSA9PT0gVE9LRU4uU1RBUlRfQkxPQ0s7XG4gICAgc3BhY2VfYWZ0ZXIgPSBmYWxzZTtcbiAgfSBlbHNlIGlmIChpbl9hcnJheShjdXJyZW50X3Rva2VuLnRleHQsIFsnLS0nLCAnKysnLCAnIScsICd+J10pIHx8IGlzVW5hcnkpIHtcbiAgICAvLyB1bmFyeSBvcGVyYXRvcnMgKGFuZCBiaW5hcnkgKy8tIHByZXRlbmRpbmcgdG8gYmUgdW5hcnkpIHNwZWNpYWwgY2FzZXNcbiAgICBpZiAodGhpcy5fZmxhZ3MubGFzdF90b2tlbi50eXBlID09PSBUT0tFTi5DT01NQSB8fCB0aGlzLl9mbGFncy5sYXN0X3Rva2VuLnR5cGUgPT09IFRPS0VOLlNUQVJUX0VYUFIpIHtcbiAgICAgIHRoaXMuYWxsb3dfd3JhcF9vcl9wcmVzZXJ2ZWRfbmV3bGluZShjdXJyZW50X3Rva2VuKTtcbiAgICB9XG5cbiAgICBzcGFjZV9iZWZvcmUgPSBmYWxzZTtcbiAgICBzcGFjZV9hZnRlciA9IGZhbHNlO1xuXG4gICAgLy8gaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzUuMS8jc2VjLTcuOS4xXG4gICAgLy8gaWYgdGhlcmUgaXMgYSBuZXdsaW5lIGJldHdlZW4gLS0gb3IgKysgYW5kIGFueXRoaW5nIGVsc2Ugd2Ugc2hvdWxkIHByZXNlcnZlIGl0LlxuICAgIGlmIChjdXJyZW50X3Rva2VuLm5ld2xpbmVzICYmIChjdXJyZW50X3Rva2VuLnRleHQgPT09ICctLScgfHwgY3VycmVudF90b2tlbi50ZXh0ID09PSAnKysnKSkge1xuICAgICAgdGhpcy5wcmludF9uZXdsaW5lKGZhbHNlLCB0cnVlKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fZmxhZ3MubGFzdF90b2tlbi50ZXh0ID09PSAnOycgJiYgaXNfZXhwcmVzc2lvbih0aGlzLl9mbGFncy5tb2RlKSkge1xuICAgICAgLy8gZm9yICg7OyArK2kpXG4gICAgICAvLyAgICAgICAgXl5eXG4gICAgICBzcGFjZV9iZWZvcmUgPSB0cnVlO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9mbGFncy5sYXN0X3Rva2VuLnR5cGUgPT09IFRPS0VOLlJFU0VSVkVEKSB7XG4gICAgICBzcGFjZV9iZWZvcmUgPSB0cnVlO1xuICAgIH0gZWxzZSBpZiAodGhpcy5fZmxhZ3MubGFzdF90b2tlbi50eXBlID09PSBUT0tFTi5FTkRfRVhQUikge1xuICAgICAgc3BhY2VfYmVmb3JlID0gISh0aGlzLl9mbGFncy5sYXN0X3Rva2VuLnRleHQgPT09ICddJyAmJiAoY3VycmVudF90b2tlbi50ZXh0ID09PSAnLS0nIHx8IGN1cnJlbnRfdG9rZW4udGV4dCA9PT0gJysrJykpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5fZmxhZ3MubGFzdF90b2tlbi50eXBlID09PSBUT0tFTi5PUEVSQVRPUikge1xuICAgICAgLy8gYSsrICsgKytiO1xuICAgICAgLy8gYSAtIC1iXG4gICAgICBzcGFjZV9iZWZvcmUgPSBpbl9hcnJheShjdXJyZW50X3Rva2VuLnRleHQsIFsnLS0nLCAnLScsICcrKycsICcrJ10pICYmIGluX2FycmF5KHRoaXMuX2ZsYWdzLmxhc3RfdG9rZW4udGV4dCwgWyctLScsICctJywgJysrJywgJysnXSk7XG4gICAgICAvLyArIGFuZCAtIGFyZSBub3QgdW5hcnkgd2hlbiBwcmVjZWVkZWQgYnkgLS0gb3IgKysgb3BlcmF0b3JcbiAgICAgIC8vIGEtLSArIGJcbiAgICAgIC8vIGEgKiArYlxuICAgICAgLy8gYSAtIC1iXG4gICAgICBpZiAoaW5fYXJyYXkoY3VycmVudF90b2tlbi50ZXh0LCBbJysnLCAnLSddKSAmJiBpbl9hcnJheSh0aGlzLl9mbGFncy5sYXN0X3Rva2VuLnRleHQsIFsnLS0nLCAnKysnXSkpIHtcbiAgICAgICAgc3BhY2VfYWZ0ZXIgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuXG4gICAgaWYgKCgodGhpcy5fZmxhZ3MubW9kZSA9PT0gTU9ERS5CbG9ja1N0YXRlbWVudCAmJiAhdGhpcy5fZmxhZ3MuaW5saW5lX2ZyYW1lKSB8fCB0aGlzLl9mbGFncy5tb2RlID09PSBNT0RFLlN0YXRlbWVudCkgJiZcbiAgICAgICh0aGlzLl9mbGFncy5sYXN0X3Rva2VuLnRleHQgPT09ICd7JyB8fCB0aGlzLl9mbGFncy5sYXN0X3Rva2VuLnRleHQgPT09ICc7JykpIHtcbiAgICAgIC8vIHsgZm9vOyAtLWkgfVxuICAgICAgLy8gZm9vKCk7IC0tYmFyO1xuICAgICAgdGhpcy5wcmludF9uZXdsaW5lKCk7XG4gICAgfVxuICB9XG5cbiAgdGhpcy5fb3V0cHV0LnNwYWNlX2JlZm9yZV90b2tlbiA9IHRoaXMuX291dHB1dC5zcGFjZV9iZWZvcmVfdG9rZW4gfHwgc3BhY2VfYmVmb3JlO1xuICB0aGlzLnByaW50X3Rva2VuKGN1cnJlbnRfdG9rZW4pO1xuICB0aGlzLl9vdXRwdXQuc3BhY2VfYmVmb3JlX3Rva2VuID0gc3BhY2VfYWZ0ZXI7XG59O1xuXG5CZWF1dGlmaWVyLnByb3RvdHlwZS5oYW5kbGVfYmxvY2tfY29tbWVudCA9IGZ1bmN0aW9uKGN1cnJlbnRfdG9rZW4sIHByZXNlcnZlX3N0YXRlbWVudF9mbGFncykge1xuICBpZiAodGhpcy5fb3V0cHV0LnJhdykge1xuICAgIHRoaXMuX291dHB1dC5hZGRfcmF3X3Rva2VuKGN1cnJlbnRfdG9rZW4pO1xuICAgIGlmIChjdXJyZW50X3Rva2VuLmRpcmVjdGl2ZXMgJiYgY3VycmVudF90b2tlbi5kaXJlY3RpdmVzLnByZXNlcnZlID09PSAnZW5kJykge1xuICAgICAgLy8gSWYgd2UncmUgdGVzdGluZyB0aGUgcmF3IG91dHB1dCBiZWhhdmlvciwgZG8gbm90IGFsbG93IGEgZGlyZWN0aXZlIHRvIHR1cm4gaXQgb2ZmLlxuICAgICAgdGhpcy5fb3V0cHV0LnJhdyA9IHRoaXMuX29wdGlvbnMudGVzdF9vdXRwdXRfcmF3O1xuICAgIH1cbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoY3VycmVudF90b2tlbi5kaXJlY3RpdmVzKSB7XG4gICAgdGhpcy5wcmludF9uZXdsaW5lKGZhbHNlLCBwcmVzZXJ2ZV9zdGF0ZW1lbnRfZmxhZ3MpO1xuICAgIHRoaXMucHJpbnRfdG9rZW4oY3VycmVudF90b2tlbik7XG4gICAgaWYgKGN1cnJlbnRfdG9rZW4uZGlyZWN0aXZlcy5wcmVzZXJ2ZSA9PT0gJ3N0YXJ0Jykge1xuICAgICAgdGhpcy5fb3V0cHV0LnJhdyA9IHRydWU7XG4gICAgfVxuICAgIHRoaXMucHJpbnRfbmV3bGluZShmYWxzZSwgdHJ1ZSk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gaW5saW5lIGJsb2NrXG4gIGlmICghYWNvcm4ubmV3bGluZS50ZXN0KGN1cnJlbnRfdG9rZW4udGV4dCkgJiYgIWN1cnJlbnRfdG9rZW4ubmV3bGluZXMpIHtcbiAgICB0aGlzLl9vdXRwdXQuc3BhY2VfYmVmb3JlX3Rva2VuID0gdHJ1ZTtcbiAgICB0aGlzLnByaW50X3Rva2VuKGN1cnJlbnRfdG9rZW4pO1xuICAgIHRoaXMuX291dHB1dC5zcGFjZV9iZWZvcmVfdG9rZW4gPSB0cnVlO1xuICAgIHJldHVybjtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLnByaW50X2Jsb2NrX2NvbW1tZW50KGN1cnJlbnRfdG9rZW4sIHByZXNlcnZlX3N0YXRlbWVudF9mbGFncyk7XG4gIH1cbn07XG5cbkJlYXV0aWZpZXIucHJvdG90eXBlLnByaW50X2Jsb2NrX2NvbW1tZW50ID0gZnVuY3Rpb24oY3VycmVudF90b2tlbiwgcHJlc2VydmVfc3RhdGVtZW50X2ZsYWdzKSB7XG4gIHZhciBsaW5lcyA9IHNwbGl0X2xpbmVicmVha3MoY3VycmVudF90b2tlbi50ZXh0KTtcbiAgdmFyIGo7IC8vIGl0ZXJhdG9yIGZvciB0aGlzIGNhc2VcbiAgdmFyIGphdmFkb2MgPSBmYWxzZTtcbiAgdmFyIHN0YXJsZXNzID0gZmFsc2U7XG4gIHZhciBsYXN0SW5kZW50ID0gY3VycmVudF90b2tlbi53aGl0ZXNwYWNlX2JlZm9yZTtcbiAgdmFyIGxhc3RJbmRlbnRMZW5ndGggPSBsYXN0SW5kZW50Lmxlbmd0aDtcblxuICAvLyBibG9jayBjb21tZW50IHN0YXJ0cyB3aXRoIGEgbmV3IGxpbmVcbiAgdGhpcy5wcmludF9uZXdsaW5lKGZhbHNlLCBwcmVzZXJ2ZV9zdGF0ZW1lbnRfZmxhZ3MpO1xuXG4gIC8vIGZpcnN0IGxpbmUgYWx3YXlzIGluZGVudGVkXG4gIHRoaXMucHJpbnRfdG9rZW5fbGluZV9pbmRlbnRhdGlvbihjdXJyZW50X3Rva2VuKTtcbiAgdGhpcy5fb3V0cHV0LmFkZF90b2tlbihsaW5lc1swXSk7XG4gIHRoaXMucHJpbnRfbmV3bGluZShmYWxzZSwgcHJlc2VydmVfc3RhdGVtZW50X2ZsYWdzKTtcblxuXG4gIGlmIChsaW5lcy5sZW5ndGggPiAxKSB7XG4gICAgbGluZXMgPSBsaW5lcy5zbGljZSgxKTtcbiAgICBqYXZhZG9jID0gYWxsX2xpbmVzX3N0YXJ0X3dpdGgobGluZXMsICcqJyk7XG4gICAgc3Rhcmxlc3MgPSBlYWNoX2xpbmVfbWF0Y2hlc19pbmRlbnQobGluZXMsIGxhc3RJbmRlbnQpO1xuXG4gICAgaWYgKGphdmFkb2MpIHtcbiAgICAgIHRoaXMuX2ZsYWdzLmFsaWdubWVudCA9IDE7XG4gICAgfVxuXG4gICAgZm9yIChqID0gMDsgaiA8IGxpbmVzLmxlbmd0aDsgaisrKSB7XG4gICAgICBpZiAoamF2YWRvYykge1xuICAgICAgICAvLyBqYXZhZG9jOiByZWZvcm1hdCBhbmQgcmUtaW5kZW50XG4gICAgICAgIHRoaXMucHJpbnRfdG9rZW5fbGluZV9pbmRlbnRhdGlvbihjdXJyZW50X3Rva2VuKTtcbiAgICAgICAgdGhpcy5fb3V0cHV0LmFkZF90b2tlbihsdHJpbShsaW5lc1tqXSkpO1xuICAgICAgfSBlbHNlIGlmIChzdGFybGVzcyAmJiBsaW5lc1tqXSkge1xuICAgICAgICAvLyBzdGFybGVzczogcmUtaW5kZW50IG5vbi1lbXB0eSBjb250ZW50LCBhdm9pZGluZyB0cmltXG4gICAgICAgIHRoaXMucHJpbnRfdG9rZW5fbGluZV9pbmRlbnRhdGlvbihjdXJyZW50X3Rva2VuKTtcbiAgICAgICAgdGhpcy5fb3V0cHV0LmFkZF90b2tlbihsaW5lc1tqXS5zdWJzdHJpbmcobGFzdEluZGVudExlbmd0aCkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gbm9ybWFsIGNvbW1lbnRzIG91dHB1dCByYXdcbiAgICAgICAgdGhpcy5fb3V0cHV0LmN1cnJlbnRfbGluZS5zZXRfaW5kZW50KC0xKTtcbiAgICAgICAgdGhpcy5fb3V0cHV0LmFkZF90b2tlbihsaW5lc1tqXSk7XG4gICAgICB9XG5cbiAgICAgIC8vIGZvciBjb21tZW50cyBvbiB0aGVpciBvd24gbGluZSBvciAgbW9yZSB0aGFuIG9uZSBsaW5lLCBtYWtlIHN1cmUgdGhlcmUncyBhIG5ldyBsaW5lIGFmdGVyXG4gICAgICB0aGlzLnByaW50X25ld2xpbmUoZmFsc2UsIHByZXNlcnZlX3N0YXRlbWVudF9mbGFncyk7XG4gICAgfVxuXG4gICAgdGhpcy5fZmxhZ3MuYWxpZ25tZW50ID0gMDtcbiAgfVxufTtcblxuXG5CZWF1dGlmaWVyLnByb3RvdHlwZS5oYW5kbGVfY29tbWVudCA9IGZ1bmN0aW9uKGN1cnJlbnRfdG9rZW4sIHByZXNlcnZlX3N0YXRlbWVudF9mbGFncykge1xuICBpZiAoY3VycmVudF90b2tlbi5uZXdsaW5lcykge1xuICAgIHRoaXMucHJpbnRfbmV3bGluZShmYWxzZSwgcHJlc2VydmVfc3RhdGVtZW50X2ZsYWdzKTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLl9vdXRwdXQudHJpbSh0cnVlKTtcbiAgfVxuXG4gIHRoaXMuX291dHB1dC5zcGFjZV9iZWZvcmVfdG9rZW4gPSB0cnVlO1xuICB0aGlzLnByaW50X3Rva2VuKGN1cnJlbnRfdG9rZW4pO1xuICB0aGlzLnByaW50X25ld2xpbmUoZmFsc2UsIHByZXNlcnZlX3N0YXRlbWVudF9mbGFncyk7XG59O1xuXG5CZWF1dGlmaWVyLnByb3RvdHlwZS5oYW5kbGVfZG90ID0gZnVuY3Rpb24oY3VycmVudF90b2tlbikge1xuICBpZiAodGhpcy5zdGFydF9vZl9zdGF0ZW1lbnQoY3VycmVudF90b2tlbikpIHtcbiAgICAvLyBUaGUgY29uZGl0aW9uYWwgc3RhcnRzIHRoZSBzdGF0ZW1lbnQgaWYgYXBwcm9wcmlhdGUuXG4gIH0gZWxzZSB7XG4gICAgdGhpcy5oYW5kbGVfd2hpdGVzcGFjZV9hbmRfY29tbWVudHMoY3VycmVudF90b2tlbiwgdHJ1ZSk7XG4gIH1cblxuICBpZiAocmVzZXJ2ZWRfYXJyYXkodGhpcy5fZmxhZ3MubGFzdF90b2tlbiwgc3BlY2lhbF93b3JkcykpIHtcbiAgICB0aGlzLl9vdXRwdXQuc3BhY2VfYmVmb3JlX3Rva2VuID0gZmFsc2U7XG4gIH0gZWxzZSB7XG4gICAgLy8gYWxsb3cgcHJlc2VydmVkIG5ld2xpbmVzIGJlZm9yZSBkb3RzIGluIGdlbmVyYWxcbiAgICAvLyBmb3JjZSBuZXdsaW5lcyBvbiBkb3RzIGFmdGVyIGNsb3NlIHBhcmVuIHdoZW4gYnJlYWtfY2hhaW5lZCAtIGZvciBiYXIoKS5iYXooKVxuICAgIHRoaXMuYWxsb3dfd3JhcF9vcl9wcmVzZXJ2ZWRfbmV3bGluZShjdXJyZW50X3Rva2VuLFxuICAgICAgdGhpcy5fZmxhZ3MubGFzdF90b2tlbi50ZXh0ID09PSAnKScgJiYgdGhpcy5fb3B0aW9ucy5icmVha19jaGFpbmVkX21ldGhvZHMpO1xuICB9XG5cbiAgLy8gT25seSB1bmluZGVudCBjaGFpbmVkIG1ldGhvZCBkb3QgaWYgdGhpcyBkb3Qgc3RhcnRzIGEgbmV3IGxpbmUuXG4gIC8vIE90aGVyd2lzZSB0aGUgYXV0b21hdGljIGV4dHJhIGluZGVudGF0aW9uIHJlbW92YWwgd2lsbCBoYW5kbGUgdGhlIG92ZXIgaW5kZW50XG4gIGlmICh0aGlzLl9vcHRpb25zLnVuaW5kZW50X2NoYWluZWRfbWV0aG9kcyAmJiB0aGlzLl9vdXRwdXQuanVzdF9hZGRlZF9uZXdsaW5lKCkpIHtcbiAgICB0aGlzLmRlaW5kZW50KCk7XG4gIH1cblxuICB0aGlzLnByaW50X3Rva2VuKGN1cnJlbnRfdG9rZW4pO1xufTtcblxuQmVhdXRpZmllci5wcm90b3R5cGUuaGFuZGxlX3Vua25vd24gPSBmdW5jdGlvbihjdXJyZW50X3Rva2VuLCBwcmVzZXJ2ZV9zdGF0ZW1lbnRfZmxhZ3MpIHtcbiAgdGhpcy5wcmludF90b2tlbihjdXJyZW50X3Rva2VuKTtcblxuICBpZiAoY3VycmVudF90b2tlbi50ZXh0W2N1cnJlbnRfdG9rZW4udGV4dC5sZW5ndGggLSAxXSA9PT0gJ1xcbicpIHtcbiAgICB0aGlzLnByaW50X25ld2xpbmUoZmFsc2UsIHByZXNlcnZlX3N0YXRlbWVudF9mbGFncyk7XG4gIH1cbn07XG5cbkJlYXV0aWZpZXIucHJvdG90eXBlLmhhbmRsZV9lb2YgPSBmdW5jdGlvbihjdXJyZW50X3Rva2VuKSB7XG4gIC8vIFVud2luZCBhbnkgb3BlbiBzdGF0ZW1lbnRzXG4gIHdoaWxlICh0aGlzLl9mbGFncy5tb2RlID09PSBNT0RFLlN0YXRlbWVudCkge1xuICAgIHRoaXMucmVzdG9yZV9tb2RlKCk7XG4gIH1cbiAgdGhpcy5oYW5kbGVfd2hpdGVzcGFjZV9hbmRfY29tbWVudHMoY3VycmVudF90b2tlbik7XG59O1xuXG5tb2R1bGUuZXhwb3J0cy5CZWF1dGlmaWVyID0gQmVhdXRpZmllcjtcbiIsIi8qanNoaW50IG5vZGU6dHJ1ZSAqL1xuLypcblxuICBUaGUgTUlUIExpY2Vuc2UgKE1JVClcblxuICBDb3B5cmlnaHQgKGMpIDIwMDctMjAxOCBFaW5hciBMaWVsbWFuaXMsIExpYW0gTmV3bWFuLCBhbmQgY29udHJpYnV0b3JzLlxuXG4gIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uXG4gIG9idGFpbmluZyBhIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzXG4gICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbixcbiAgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSxcbiAgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSxcbiAgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbyxcbiAgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG5cbiAgVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmVcbiAgaW5jbHVkZWQgaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG5cbiAgVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCxcbiAgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4gIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EXG4gIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlNcbiAgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOXG4gIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOXG4gIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEVcbiAgU09GVFdBUkUuXG4qL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBCZWF1dGlmaWVyID0gcmVxdWlyZSgnLi9iZWF1dGlmaWVyJykuQmVhdXRpZmllcixcbiAgT3B0aW9ucyA9IHJlcXVpcmUoJy4vb3B0aW9ucycpLk9wdGlvbnM7XG5cbmZ1bmN0aW9uIGpzX2JlYXV0aWZ5KGpzX3NvdXJjZV90ZXh0LCBvcHRpb25zKSB7XG4gIHZhciBiZWF1dGlmaWVyID0gbmV3IEJlYXV0aWZpZXIoanNfc291cmNlX3RleHQsIG9wdGlvbnMpO1xuICByZXR1cm4gYmVhdXRpZmllci5iZWF1dGlmeSgpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGpzX2JlYXV0aWZ5O1xubW9kdWxlLmV4cG9ydHMuZGVmYXVsdE9wdGlvbnMgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBPcHRpb25zKCk7XG59O1xuIiwiLypqc2hpbnQgbm9kZTp0cnVlICovXG4vKlxuXG4gIFRoZSBNSVQgTGljZW5zZSAoTUlUKVxuXG4gIENvcHlyaWdodCAoYykgMjAwNy0yMDE4IEVpbmFyIExpZWxtYW5pcywgTGlhbSBOZXdtYW4sIGFuZCBjb250cmlidXRvcnMuXG5cbiAgUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb25cbiAgb2J0YWluaW5nIGEgY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXNcbiAgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLFxuICBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLFxuICBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLFxuICBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLFxuICBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcblxuICBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZVxuICBpbmNsdWRlZCBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cblxuICBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELFxuICBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0ZcbiAgTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkRcbiAgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSU1xuICBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU5cbiAgQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU5cbiAgQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRVxuICBTT0ZUV0FSRS5cbiovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIEJhc2VPcHRpb25zID0gcmVxdWlyZSgnLi4vY29yZS9vcHRpb25zJykuT3B0aW9ucztcblxudmFyIHZhbGlkUG9zaXRpb25WYWx1ZXMgPSBbJ2JlZm9yZS1uZXdsaW5lJywgJ2FmdGVyLW5ld2xpbmUnLCAncHJlc2VydmUtbmV3bGluZSddO1xuXG5mdW5jdGlvbiBPcHRpb25zKG9wdGlvbnMpIHtcbiAgQmFzZU9wdGlvbnMuY2FsbCh0aGlzLCBvcHRpb25zLCAnanMnKTtcblxuICAvLyBjb21wYXRpYmlsaXR5LCByZVxuICB2YXIgcmF3X2JyYWNlX3N0eWxlID0gdGhpcy5yYXdfb3B0aW9ucy5icmFjZV9zdHlsZSB8fCBudWxsO1xuICBpZiAocmF3X2JyYWNlX3N0eWxlID09PSBcImV4cGFuZC1zdHJpY3RcIikgeyAvL2dyYWNlZnVsIGhhbmRsaW5nIG9mIGRlcHJlY2F0ZWQgb3B0aW9uXG4gICAgdGhpcy5yYXdfb3B0aW9ucy5icmFjZV9zdHlsZSA9IFwiZXhwYW5kXCI7XG4gIH0gZWxzZSBpZiAocmF3X2JyYWNlX3N0eWxlID09PSBcImNvbGxhcHNlLXByZXNlcnZlLWlubGluZVwiKSB7IC8vZ3JhY2VmdWwgaGFuZGxpbmcgb2YgZGVwcmVjYXRlZCBvcHRpb25cbiAgICB0aGlzLnJhd19vcHRpb25zLmJyYWNlX3N0eWxlID0gXCJjb2xsYXBzZSxwcmVzZXJ2ZS1pbmxpbmVcIjtcbiAgfSBlbHNlIGlmICh0aGlzLnJhd19vcHRpb25zLmJyYWNlc19vbl9vd25fbGluZSAhPT0gdW5kZWZpbmVkKSB7IC8vZ3JhY2VmdWwgaGFuZGxpbmcgb2YgZGVwcmVjYXRlZCBvcHRpb25cbiAgICB0aGlzLnJhd19vcHRpb25zLmJyYWNlX3N0eWxlID0gdGhpcy5yYXdfb3B0aW9ucy5icmFjZXNfb25fb3duX2xpbmUgPyBcImV4cGFuZFwiIDogXCJjb2xsYXBzZVwiO1xuICAgIC8vIH0gZWxzZSBpZiAoIXJhd19icmFjZV9zdHlsZSkgeyAvL05vdGhpbmcgZXhpc3RzIHRvIHNldCBpdFxuICAgIC8vICAgcmF3X2JyYWNlX3N0eWxlID0gXCJjb2xsYXBzZVwiO1xuICB9XG5cbiAgLy9wcmVzZXJ2ZS1pbmxpbmUgaW4gZGVsaW1pdGVkIHN0cmluZyB3aWxsIHRyaWdnZXIgYnJhY2VfcHJlc2VydmVfaW5saW5lLCBldmVyeXRoaW5nXG4gIC8vZWxzZSBpcyBjb25zaWRlcmVkIGEgYnJhY2Vfc3R5bGUgYW5kIHRoZSBsYXN0IG9uZSBvbmx5IHdpbGwgaGF2ZSBhbiBlZmZlY3RcblxuICB2YXIgYnJhY2Vfc3R5bGVfc3BsaXQgPSB0aGlzLl9nZXRfc2VsZWN0aW9uX2xpc3QoJ2JyYWNlX3N0eWxlJywgWydjb2xsYXBzZScsICdleHBhbmQnLCAnZW5kLWV4cGFuZCcsICdub25lJywgJ3ByZXNlcnZlLWlubGluZSddKTtcblxuICB0aGlzLmJyYWNlX3ByZXNlcnZlX2lubGluZSA9IGZhbHNlOyAvL0RlZmF1bHRzIGluIGNhc2Ugb25lIG9yIG90aGVyIHdhcyBub3Qgc3BlY2lmaWVkIGluIG1ldGEtb3B0aW9uXG4gIHRoaXMuYnJhY2Vfc3R5bGUgPSBcImNvbGxhcHNlXCI7XG5cbiAgZm9yICh2YXIgYnMgPSAwOyBicyA8IGJyYWNlX3N0eWxlX3NwbGl0Lmxlbmd0aDsgYnMrKykge1xuICAgIGlmIChicmFjZV9zdHlsZV9zcGxpdFtic10gPT09IFwicHJlc2VydmUtaW5saW5lXCIpIHtcbiAgICAgIHRoaXMuYnJhY2VfcHJlc2VydmVfaW5saW5lID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5icmFjZV9zdHlsZSA9IGJyYWNlX3N0eWxlX3NwbGl0W2JzXTtcbiAgICB9XG4gIH1cblxuICB0aGlzLnVuaW5kZW50X2NoYWluZWRfbWV0aG9kcyA9IHRoaXMuX2dldF9ib29sZWFuKCd1bmluZGVudF9jaGFpbmVkX21ldGhvZHMnKTtcbiAgdGhpcy5icmVha19jaGFpbmVkX21ldGhvZHMgPSB0aGlzLl9nZXRfYm9vbGVhbignYnJlYWtfY2hhaW5lZF9tZXRob2RzJyk7XG4gIHRoaXMuc3BhY2VfaW5fcGFyZW4gPSB0aGlzLl9nZXRfYm9vbGVhbignc3BhY2VfaW5fcGFyZW4nKTtcbiAgdGhpcy5zcGFjZV9pbl9lbXB0eV9wYXJlbiA9IHRoaXMuX2dldF9ib29sZWFuKCdzcGFjZV9pbl9lbXB0eV9wYXJlbicpO1xuICB0aGlzLmpzbGludF9oYXBweSA9IHRoaXMuX2dldF9ib29sZWFuKCdqc2xpbnRfaGFwcHknKTtcbiAgdGhpcy5zcGFjZV9hZnRlcl9hbm9uX2Z1bmN0aW9uID0gdGhpcy5fZ2V0X2Jvb2xlYW4oJ3NwYWNlX2FmdGVyX2Fub25fZnVuY3Rpb24nKTtcbiAgdGhpcy5zcGFjZV9hZnRlcl9uYW1lZF9mdW5jdGlvbiA9IHRoaXMuX2dldF9ib29sZWFuKCdzcGFjZV9hZnRlcl9uYW1lZF9mdW5jdGlvbicpO1xuICB0aGlzLmtlZXBfYXJyYXlfaW5kZW50YXRpb24gPSB0aGlzLl9nZXRfYm9vbGVhbigna2VlcF9hcnJheV9pbmRlbnRhdGlvbicpO1xuICB0aGlzLnNwYWNlX2JlZm9yZV9jb25kaXRpb25hbCA9IHRoaXMuX2dldF9ib29sZWFuKCdzcGFjZV9iZWZvcmVfY29uZGl0aW9uYWwnLCB0cnVlKTtcbiAgdGhpcy51bmVzY2FwZV9zdHJpbmdzID0gdGhpcy5fZ2V0X2Jvb2xlYW4oJ3VuZXNjYXBlX3N0cmluZ3MnKTtcbiAgdGhpcy5lNHggPSB0aGlzLl9nZXRfYm9vbGVhbignZTR4Jyk7XG4gIHRoaXMuY29tbWFfZmlyc3QgPSB0aGlzLl9nZXRfYm9vbGVhbignY29tbWFfZmlyc3QnKTtcbiAgdGhpcy5vcGVyYXRvcl9wb3NpdGlvbiA9IHRoaXMuX2dldF9zZWxlY3Rpb24oJ29wZXJhdG9yX3Bvc2l0aW9uJywgdmFsaWRQb3NpdGlvblZhbHVlcyk7XG5cbiAgLy8gRm9yIHRlc3Rpbmcgb2YgYmVhdXRpZnkgcHJlc2VydmU6c3RhcnQgZGlyZWN0aXZlXG4gIHRoaXMudGVzdF9vdXRwdXRfcmF3ID0gdGhpcy5fZ2V0X2Jvb2xlYW4oJ3Rlc3Rfb3V0cHV0X3JhdycpO1xuXG4gIC8vIGZvcmNlIHRoaXMuX29wdGlvbnMuc3BhY2VfYWZ0ZXJfYW5vbl9mdW5jdGlvbiB0byB0cnVlIGlmIHRoaXMuX29wdGlvbnMuanNsaW50X2hhcHB5XG4gIGlmICh0aGlzLmpzbGludF9oYXBweSkge1xuICAgIHRoaXMuc3BhY2VfYWZ0ZXJfYW5vbl9mdW5jdGlvbiA9IHRydWU7XG4gIH1cblxufVxuT3B0aW9ucy5wcm90b3R5cGUgPSBuZXcgQmFzZU9wdGlvbnMoKTtcblxuXG5cbm1vZHVsZS5leHBvcnRzLk9wdGlvbnMgPSBPcHRpb25zO1xuIiwiLypqc2hpbnQgbm9kZTp0cnVlICovXG4vKlxuXG4gIFRoZSBNSVQgTGljZW5zZSAoTUlUKVxuXG4gIENvcHlyaWdodCAoYykgMjAwNy0yMDE4IEVpbmFyIExpZWxtYW5pcywgTGlhbSBOZXdtYW4sIGFuZCBjb250cmlidXRvcnMuXG5cbiAgUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb25cbiAgb2J0YWluaW5nIGEgY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXNcbiAgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLFxuICBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLFxuICBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLFxuICBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLFxuICBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcblxuICBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZVxuICBpbmNsdWRlZCBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cblxuICBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELFxuICBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0ZcbiAgTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkRcbiAgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSU1xuICBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU5cbiAgQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU5cbiAgQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRVxuICBTT0ZUV0FSRS5cbiovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIElucHV0U2Nhbm5lciA9IHJlcXVpcmUoJy4uL2NvcmUvaW5wdXRzY2FubmVyJykuSW5wdXRTY2FubmVyO1xudmFyIEJhc2VUb2tlbml6ZXIgPSByZXF1aXJlKCcuLi9jb3JlL3Rva2VuaXplcicpLlRva2VuaXplcjtcbnZhciBCQVNFVE9LRU4gPSByZXF1aXJlKCcuLi9jb3JlL3Rva2VuaXplcicpLlRPS0VOO1xudmFyIERpcmVjdGl2ZXMgPSByZXF1aXJlKCcuLi9jb3JlL2RpcmVjdGl2ZXMnKS5EaXJlY3RpdmVzO1xudmFyIGFjb3JuID0gcmVxdWlyZSgnLi9hY29ybicpO1xudmFyIFBhdHRlcm4gPSByZXF1aXJlKCcuLi9jb3JlL3BhdHRlcm4nKS5QYXR0ZXJuO1xudmFyIFRlbXBsYXRhYmxlUGF0dGVybiA9IHJlcXVpcmUoJy4uL2NvcmUvdGVtcGxhdGFibGVwYXR0ZXJuJykuVGVtcGxhdGFibGVQYXR0ZXJuO1xuXG5cbmZ1bmN0aW9uIGluX2FycmF5KHdoYXQsIGFycikge1xuICByZXR1cm4gYXJyLmluZGV4T2Yod2hhdCkgIT09IC0xO1xufVxuXG5cbnZhciBUT0tFTiA9IHtcbiAgU1RBUlRfRVhQUjogJ1RLX1NUQVJUX0VYUFInLFxuICBFTkRfRVhQUjogJ1RLX0VORF9FWFBSJyxcbiAgU1RBUlRfQkxPQ0s6ICdUS19TVEFSVF9CTE9DSycsXG4gIEVORF9CTE9DSzogJ1RLX0VORF9CTE9DSycsXG4gIFdPUkQ6ICdUS19XT1JEJyxcbiAgUkVTRVJWRUQ6ICdUS19SRVNFUlZFRCcsXG4gIFNFTUlDT0xPTjogJ1RLX1NFTUlDT0xPTicsXG4gIFNUUklORzogJ1RLX1NUUklORycsXG4gIEVRVUFMUzogJ1RLX0VRVUFMUycsXG4gIE9QRVJBVE9SOiAnVEtfT1BFUkFUT1InLFxuICBDT01NQTogJ1RLX0NPTU1BJyxcbiAgQkxPQ0tfQ09NTUVOVDogJ1RLX0JMT0NLX0NPTU1FTlQnLFxuICBDT01NRU5UOiAnVEtfQ09NTUVOVCcsXG4gIERPVDogJ1RLX0RPVCcsXG4gIFVOS05PV046ICdUS19VTktOT1dOJyxcbiAgU1RBUlQ6IEJBU0VUT0tFTi5TVEFSVCxcbiAgUkFXOiBCQVNFVE9LRU4uUkFXLFxuICBFT0Y6IEJBU0VUT0tFTi5FT0Zcbn07XG5cblxudmFyIGRpcmVjdGl2ZXNfY29yZSA9IG5ldyBEaXJlY3RpdmVzKC9cXC9cXCovLCAvXFwqXFwvLyk7XG5cbnZhciBudW1iZXJfcGF0dGVybiA9IC8wW3hYXVswMTIzNDU2Nzg5YWJjZGVmQUJDREVGXSp8MFtvT11bMDEyMzQ1NjddKnwwW2JCXVswMV0qfFxcZCtufCg/OlxcLlxcZCt8XFxkK1xcLj9cXGQqKSg/OltlRV1bKy1dP1xcZCspPy87XG5cbnZhciBkaWdpdCA9IC9bMC05XS87XG5cbi8vIERvdCBcIi5cIiBtdXN0IGJlIGRpc3Rpbmd1aXNoZWQgZnJvbSBcIi4uLlwiIGFuZCBkZWNpbWFsXG52YXIgZG90X3BhdHRlcm4gPSAvW15cXGRcXC5dLztcblxudmFyIHBvc2l0aW9uYWJsZV9vcGVyYXRvcnMgPSAoXG4gIFwiPj4+ID09PSAhPT0gXCIgK1xuICBcIjw8ICYmID49ICoqICE9ID09IDw9ID4+IHx8IFwiICtcbiAgXCI8IC8gLSArID4gOiAmICUgPyBeIHwgKlwiKS5zcGxpdCgnICcpO1xuXG4vLyBJTVBPUlRBTlQ6IHRoaXMgbXVzdCBiZSBzb3J0ZWQgbG9uZ2VzdCB0byBzaG9ydGVzdCBvciB0b2tlbml6aW5nIG1hbnkgbm90IHdvcmsuXG4vLyBBbHNvLCB5b3UgbXVzdCB1cGRhdGUgcG9zc2l0aW9uYWJsZSBvcGVyYXRvcnMgc2VwYXJhdGVseSBmcm9tIHB1bmN0XG52YXIgcHVuY3QgPVxuICBcIj4+Pj0gXCIgK1xuICBcIi4uLiA+Pj0gPDw9ID09PSA+Pj4gIT09ICoqPSBcIiArXG4gIFwiPT4gXj0gOjogLz0gPDwgPD0gPT0gJiYgLT0gPj0gPj4gIT0gLS0gKz0gKiogfHwgKysgJT0gJj0gKj0gfD0gXCIgK1xuICBcIj0gISA/ID4gPCA6IC8gXiAtICsgKiAmICUgfiB8XCI7XG5cbnB1bmN0ID0gcHVuY3QucmVwbGFjZSgvWy1bXFxde30oKSorPy4sXFxcXF4kfCNdL2csIFwiXFxcXCQmXCIpO1xucHVuY3QgPSBwdW5jdC5yZXBsYWNlKC8gL2csICd8Jyk7XG5cbnZhciBwdW5jdF9wYXR0ZXJuID0gbmV3IFJlZ0V4cChwdW5jdCk7XG5cbi8vIHdvcmRzIHdoaWNoIHNob3VsZCBhbHdheXMgc3RhcnQgb24gbmV3IGxpbmUuXG52YXIgbGluZV9zdGFydGVycyA9ICdjb250aW51ZSx0cnksdGhyb3cscmV0dXJuLHZhcixsZXQsY29uc3QsaWYsc3dpdGNoLGNhc2UsZGVmYXVsdCxmb3Isd2hpbGUsYnJlYWssZnVuY3Rpb24saW1wb3J0LGV4cG9ydCcuc3BsaXQoJywnKTtcbnZhciByZXNlcnZlZF93b3JkcyA9IGxpbmVfc3RhcnRlcnMuY29uY2F0KFsnZG8nLCAnaW4nLCAnb2YnLCAnZWxzZScsICdnZXQnLCAnc2V0JywgJ25ldycsICdjYXRjaCcsICdmaW5hbGx5JywgJ3R5cGVvZicsICd5aWVsZCcsICdhc3luYycsICdhd2FpdCcsICdmcm9tJywgJ2FzJ10pO1xudmFyIHJlc2VydmVkX3dvcmRfcGF0dGVybiA9IG5ldyBSZWdFeHAoJ14oPzonICsgcmVzZXJ2ZWRfd29yZHMuam9pbignfCcpICsgJykkJyk7XG5cbi8vIHZhciB0ZW1wbGF0ZV9wYXR0ZXJuID0gLyg/Oig/OjxcXD9waHB8PFxcPz0pW1xcc1xcU10qP1xcPz4pfCg/OjwlW1xcc1xcU10qPyU+KS9nO1xuXG52YXIgaW5faHRtbF9jb21tZW50O1xuXG52YXIgVG9rZW5pemVyID0gZnVuY3Rpb24oaW5wdXRfc3RyaW5nLCBvcHRpb25zKSB7XG4gIEJhc2VUb2tlbml6ZXIuY2FsbCh0aGlzLCBpbnB1dF9zdHJpbmcsIG9wdGlvbnMpO1xuXG4gIHRoaXMuX3BhdHRlcm5zLndoaXRlc3BhY2UgPSB0aGlzLl9wYXR0ZXJucy53aGl0ZXNwYWNlLm1hdGNoaW5nKFxuICAgIC9cXHUwMEEwXFx1MTY4MFxcdTE4MGVcXHUyMDAwLVxcdTIwMGFcXHUyMDJmXFx1MjA1ZlxcdTMwMDBcXHVmZWZmLy5zb3VyY2UsXG4gICAgL1xcdTIwMjhcXHUyMDI5Ly5zb3VyY2UpO1xuXG4gIHZhciBwYXR0ZXJuX3JlYWRlciA9IG5ldyBQYXR0ZXJuKHRoaXMuX2lucHV0KTtcbiAgdmFyIHRlbXBsYXRhYmxlID0gbmV3IFRlbXBsYXRhYmxlUGF0dGVybih0aGlzLl9pbnB1dClcbiAgICAucmVhZF9vcHRpb25zKHRoaXMuX29wdGlvbnMpO1xuXG4gIHRoaXMuX19wYXR0ZXJucyA9IHtcbiAgICB0ZW1wbGF0ZTogdGVtcGxhdGFibGUsXG4gICAgaWRlbnRpZmllcjogdGVtcGxhdGFibGUuc3RhcnRpbmdfd2l0aChhY29ybi5pZGVudGlmaWVyKS5tYXRjaGluZyhhY29ybi5pZGVudGlmaWVyTWF0Y2gpLFxuICAgIG51bWJlcjogcGF0dGVybl9yZWFkZXIubWF0Y2hpbmcobnVtYmVyX3BhdHRlcm4pLFxuICAgIHB1bmN0OiBwYXR0ZXJuX3JlYWRlci5tYXRjaGluZyhwdW5jdF9wYXR0ZXJuKSxcbiAgICAvLyBjb21tZW50IGVuZHMganVzdCBiZWZvcmUgbmVhcmVzdCBsaW5lZmVlZCBvciBlbmQgb2YgZmlsZVxuICAgIGNvbW1lbnQ6IHBhdHRlcm5fcmVhZGVyLnN0YXJ0aW5nX3dpdGgoL1xcL1xcLy8pLnVudGlsKC9bXFxuXFxyXFx1MjAyOFxcdTIwMjldLyksXG4gICAgLy8gIC8qIC4uLiAqLyBjb21tZW50IGVuZHMgd2l0aCBuZWFyZXN0ICovIG9yIGVuZCBvZiBmaWxlXG4gICAgYmxvY2tfY29tbWVudDogcGF0dGVybl9yZWFkZXIuc3RhcnRpbmdfd2l0aCgvXFwvXFwqLykudW50aWxfYWZ0ZXIoL1xcKlxcLy8pLFxuICAgIGh0bWxfY29tbWVudF9zdGFydDogcGF0dGVybl9yZWFkZXIubWF0Y2hpbmcoLzwhLS0vKSxcbiAgICBodG1sX2NvbW1lbnRfZW5kOiBwYXR0ZXJuX3JlYWRlci5tYXRjaGluZygvLS0+LyksXG4gICAgaW5jbHVkZTogcGF0dGVybl9yZWFkZXIuc3RhcnRpbmdfd2l0aCgvI2luY2x1ZGUvKS51bnRpbF9hZnRlcihhY29ybi5saW5lQnJlYWspLFxuICAgIHNoZWJhbmc6IHBhdHRlcm5fcmVhZGVyLnN0YXJ0aW5nX3dpdGgoLyMhLykudW50aWxfYWZ0ZXIoYWNvcm4ubGluZUJyZWFrKSxcbiAgICB4bWw6IHBhdHRlcm5fcmVhZGVyLm1hdGNoaW5nKC9bXFxzXFxTXSo/PChcXC8/KShbLWEtekEtWjowLTlfLl0rfHtbXFxzXFxTXSs/fXwhXFxbQ0RBVEFcXFtbXFxzXFxTXSo/XFxdXFxdKShcXHMre1tcXHNcXFNdKz99fFxccytbLWEtekEtWjowLTlfLl0rfFxccytbLWEtekEtWjowLTlfLl0rXFxzKj1cXHMqKCdbXiddKid8XCJbXlwiXSpcInx7W1xcc1xcU10rP30pKSpcXHMqKFxcLz8pXFxzKj4vKSxcbiAgICBzaW5nbGVfcXVvdGU6IHRlbXBsYXRhYmxlLnVudGlsKC9bJ1xcXFxcXG5cXHJcXHUyMDI4XFx1MjAyOV0vKSxcbiAgICBkb3VibGVfcXVvdGU6IHRlbXBsYXRhYmxlLnVudGlsKC9bXCJcXFxcXFxuXFxyXFx1MjAyOFxcdTIwMjldLyksXG4gICAgdGVtcGxhdGVfdGV4dDogdGVtcGxhdGFibGUudW50aWwoL1tgXFxcXCRdLyksXG4gICAgdGVtcGxhdGVfZXhwcmVzc2lvbjogdGVtcGxhdGFibGUudW50aWwoL1tgfVxcXFxdLylcbiAgfTtcblxufTtcblRva2VuaXplci5wcm90b3R5cGUgPSBuZXcgQmFzZVRva2VuaXplcigpO1xuXG5Ub2tlbml6ZXIucHJvdG90eXBlLl9pc19jb21tZW50ID0gZnVuY3Rpb24oY3VycmVudF90b2tlbikge1xuICByZXR1cm4gY3VycmVudF90b2tlbi50eXBlID09PSBUT0tFTi5DT01NRU5UIHx8IGN1cnJlbnRfdG9rZW4udHlwZSA9PT0gVE9LRU4uQkxPQ0tfQ09NTUVOVCB8fCBjdXJyZW50X3Rva2VuLnR5cGUgPT09IFRPS0VOLlVOS05PV047XG59O1xuXG5Ub2tlbml6ZXIucHJvdG90eXBlLl9pc19vcGVuaW5nID0gZnVuY3Rpb24oY3VycmVudF90b2tlbikge1xuICByZXR1cm4gY3VycmVudF90b2tlbi50eXBlID09PSBUT0tFTi5TVEFSVF9CTE9DSyB8fCBjdXJyZW50X3Rva2VuLnR5cGUgPT09IFRPS0VOLlNUQVJUX0VYUFI7XG59O1xuXG5Ub2tlbml6ZXIucHJvdG90eXBlLl9pc19jbG9zaW5nID0gZnVuY3Rpb24oY3VycmVudF90b2tlbiwgb3Blbl90b2tlbikge1xuICByZXR1cm4gKGN1cnJlbnRfdG9rZW4udHlwZSA9PT0gVE9LRU4uRU5EX0JMT0NLIHx8IGN1cnJlbnRfdG9rZW4udHlwZSA9PT0gVE9LRU4uRU5EX0VYUFIpICYmXG4gICAgKG9wZW5fdG9rZW4gJiYgKFxuICAgICAgKGN1cnJlbnRfdG9rZW4udGV4dCA9PT0gJ10nICYmIG9wZW5fdG9rZW4udGV4dCA9PT0gJ1snKSB8fFxuICAgICAgKGN1cnJlbnRfdG9rZW4udGV4dCA9PT0gJyknICYmIG9wZW5fdG9rZW4udGV4dCA9PT0gJygnKSB8fFxuICAgICAgKGN1cnJlbnRfdG9rZW4udGV4dCA9PT0gJ30nICYmIG9wZW5fdG9rZW4udGV4dCA9PT0gJ3snKSkpO1xufTtcblxuVG9rZW5pemVyLnByb3RvdHlwZS5fcmVzZXQgPSBmdW5jdGlvbigpIHtcbiAgaW5faHRtbF9jb21tZW50ID0gZmFsc2U7XG59O1xuXG5Ub2tlbml6ZXIucHJvdG90eXBlLl9nZXRfbmV4dF90b2tlbiA9IGZ1bmN0aW9uKHByZXZpb3VzX3Rva2VuLCBvcGVuX3Rva2VuKSB7IC8vIGpzaGludCB1bnVzZWQ6ZmFsc2VcbiAgdmFyIHRva2VuID0gbnVsbDtcbiAgdGhpcy5fcmVhZFdoaXRlc3BhY2UoKTtcbiAgdmFyIGMgPSB0aGlzLl9pbnB1dC5wZWVrKCk7XG5cbiAgaWYgKGMgPT09IG51bGwpIHtcbiAgICByZXR1cm4gdGhpcy5fY3JlYXRlX3Rva2VuKFRPS0VOLkVPRiwgJycpO1xuICB9XG5cbiAgdG9rZW4gPSB0b2tlbiB8fCB0aGlzLl9yZWFkX25vbl9qYXZhc2NyaXB0KGMpO1xuICB0b2tlbiA9IHRva2VuIHx8IHRoaXMuX3JlYWRfc3RyaW5nKGMpO1xuICB0b2tlbiA9IHRva2VuIHx8IHRoaXMuX3JlYWRfd29yZChwcmV2aW91c190b2tlbik7XG4gIHRva2VuID0gdG9rZW4gfHwgdGhpcy5fcmVhZF9zaW5nbGVzKGMpO1xuICB0b2tlbiA9IHRva2VuIHx8IHRoaXMuX3JlYWRfY29tbWVudChjKTtcbiAgdG9rZW4gPSB0b2tlbiB8fCB0aGlzLl9yZWFkX3JlZ2V4cChjLCBwcmV2aW91c190b2tlbik7XG4gIHRva2VuID0gdG9rZW4gfHwgdGhpcy5fcmVhZF94bWwoYywgcHJldmlvdXNfdG9rZW4pO1xuICB0b2tlbiA9IHRva2VuIHx8IHRoaXMuX3JlYWRfcHVuY3R1YXRpb24oKTtcbiAgdG9rZW4gPSB0b2tlbiB8fCB0aGlzLl9jcmVhdGVfdG9rZW4oVE9LRU4uVU5LTk9XTiwgdGhpcy5faW5wdXQubmV4dCgpKTtcblxuICByZXR1cm4gdG9rZW47XG59O1xuXG5Ub2tlbml6ZXIucHJvdG90eXBlLl9yZWFkX3dvcmQgPSBmdW5jdGlvbihwcmV2aW91c190b2tlbikge1xuICB2YXIgcmVzdWx0aW5nX3N0cmluZztcbiAgcmVzdWx0aW5nX3N0cmluZyA9IHRoaXMuX19wYXR0ZXJucy5pZGVudGlmaWVyLnJlYWQoKTtcbiAgaWYgKHJlc3VsdGluZ19zdHJpbmcgIT09ICcnKSB7XG4gICAgcmVzdWx0aW5nX3N0cmluZyA9IHJlc3VsdGluZ19zdHJpbmcucmVwbGFjZShhY29ybi5hbGxMaW5lQnJlYWtzLCAnXFxuJyk7XG4gICAgaWYgKCEocHJldmlvdXNfdG9rZW4udHlwZSA9PT0gVE9LRU4uRE9UIHx8XG4gICAgICAgIChwcmV2aW91c190b2tlbi50eXBlID09PSBUT0tFTi5SRVNFUlZFRCAmJiAocHJldmlvdXNfdG9rZW4udGV4dCA9PT0gJ3NldCcgfHwgcHJldmlvdXNfdG9rZW4udGV4dCA9PT0gJ2dldCcpKSkgJiZcbiAgICAgIHJlc2VydmVkX3dvcmRfcGF0dGVybi50ZXN0KHJlc3VsdGluZ19zdHJpbmcpKSB7XG4gICAgICBpZiAocmVzdWx0aW5nX3N0cmluZyA9PT0gJ2luJyB8fCByZXN1bHRpbmdfc3RyaW5nID09PSAnb2YnKSB7IC8vIGhhY2sgZm9yICdpbicgYW5kICdvZicgb3BlcmF0b3JzXG4gICAgICAgIHJldHVybiB0aGlzLl9jcmVhdGVfdG9rZW4oVE9LRU4uT1BFUkFUT1IsIHJlc3VsdGluZ19zdHJpbmcpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuX2NyZWF0ZV90b2tlbihUT0tFTi5SRVNFUlZFRCwgcmVzdWx0aW5nX3N0cmluZyk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9jcmVhdGVfdG9rZW4oVE9LRU4uV09SRCwgcmVzdWx0aW5nX3N0cmluZyk7XG4gIH1cblxuICByZXN1bHRpbmdfc3RyaW5nID0gdGhpcy5fX3BhdHRlcm5zLm51bWJlci5yZWFkKCk7XG4gIGlmIChyZXN1bHRpbmdfc3RyaW5nICE9PSAnJykge1xuICAgIHJldHVybiB0aGlzLl9jcmVhdGVfdG9rZW4oVE9LRU4uV09SRCwgcmVzdWx0aW5nX3N0cmluZyk7XG4gIH1cbn07XG5cblRva2VuaXplci5wcm90b3R5cGUuX3JlYWRfc2luZ2xlcyA9IGZ1bmN0aW9uKGMpIHtcbiAgdmFyIHRva2VuID0gbnVsbDtcbiAgaWYgKGMgPT09ICcoJyB8fCBjID09PSAnWycpIHtcbiAgICB0b2tlbiA9IHRoaXMuX2NyZWF0ZV90b2tlbihUT0tFTi5TVEFSVF9FWFBSLCBjKTtcbiAgfSBlbHNlIGlmIChjID09PSAnKScgfHwgYyA9PT0gJ10nKSB7XG4gICAgdG9rZW4gPSB0aGlzLl9jcmVhdGVfdG9rZW4oVE9LRU4uRU5EX0VYUFIsIGMpO1xuICB9IGVsc2UgaWYgKGMgPT09ICd7Jykge1xuICAgIHRva2VuID0gdGhpcy5fY3JlYXRlX3Rva2VuKFRPS0VOLlNUQVJUX0JMT0NLLCBjKTtcbiAgfSBlbHNlIGlmIChjID09PSAnfScpIHtcbiAgICB0b2tlbiA9IHRoaXMuX2NyZWF0ZV90b2tlbihUT0tFTi5FTkRfQkxPQ0ssIGMpO1xuICB9IGVsc2UgaWYgKGMgPT09ICc7Jykge1xuICAgIHRva2VuID0gdGhpcy5fY3JlYXRlX3Rva2VuKFRPS0VOLlNFTUlDT0xPTiwgYyk7XG4gIH0gZWxzZSBpZiAoYyA9PT0gJy4nICYmIGRvdF9wYXR0ZXJuLnRlc3QodGhpcy5faW5wdXQucGVlaygxKSkpIHtcbiAgICB0b2tlbiA9IHRoaXMuX2NyZWF0ZV90b2tlbihUT0tFTi5ET1QsIGMpO1xuICB9IGVsc2UgaWYgKGMgPT09ICcsJykge1xuICAgIHRva2VuID0gdGhpcy5fY3JlYXRlX3Rva2VuKFRPS0VOLkNPTU1BLCBjKTtcbiAgfVxuXG4gIGlmICh0b2tlbikge1xuICAgIHRoaXMuX2lucHV0Lm5leHQoKTtcbiAgfVxuICByZXR1cm4gdG9rZW47XG59O1xuXG5Ub2tlbml6ZXIucHJvdG90eXBlLl9yZWFkX3B1bmN0dWF0aW9uID0gZnVuY3Rpb24oKSB7XG4gIHZhciByZXN1bHRpbmdfc3RyaW5nID0gdGhpcy5fX3BhdHRlcm5zLnB1bmN0LnJlYWQoKTtcblxuICBpZiAocmVzdWx0aW5nX3N0cmluZyAhPT0gJycpIHtcbiAgICBpZiAocmVzdWx0aW5nX3N0cmluZyA9PT0gJz0nKSB7XG4gICAgICByZXR1cm4gdGhpcy5fY3JlYXRlX3Rva2VuKFRPS0VOLkVRVUFMUywgcmVzdWx0aW5nX3N0cmluZyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLl9jcmVhdGVfdG9rZW4oVE9LRU4uT1BFUkFUT1IsIHJlc3VsdGluZ19zdHJpbmcpO1xuICAgIH1cbiAgfVxufTtcblxuVG9rZW5pemVyLnByb3RvdHlwZS5fcmVhZF9ub25famF2YXNjcmlwdCA9IGZ1bmN0aW9uKGMpIHtcbiAgdmFyIHJlc3VsdGluZ19zdHJpbmcgPSAnJztcblxuICBpZiAoYyA9PT0gJyMnKSB7XG4gICAgaWYgKHRoaXMuX2lzX2ZpcnN0X3Rva2VuKCkpIHtcbiAgICAgIHJlc3VsdGluZ19zdHJpbmcgPSB0aGlzLl9fcGF0dGVybnMuc2hlYmFuZy5yZWFkKCk7XG5cbiAgICAgIGlmIChyZXN1bHRpbmdfc3RyaW5nKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jcmVhdGVfdG9rZW4oVE9LRU4uVU5LTk9XTiwgcmVzdWx0aW5nX3N0cmluZy50cmltKCkgKyAnXFxuJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gaGFuZGxlcyBleHRlbmRzY3JpcHQgI2luY2x1ZGVzXG4gICAgcmVzdWx0aW5nX3N0cmluZyA9IHRoaXMuX19wYXR0ZXJucy5pbmNsdWRlLnJlYWQoKTtcblxuICAgIGlmIChyZXN1bHRpbmdfc3RyaW5nKSB7XG4gICAgICByZXR1cm4gdGhpcy5fY3JlYXRlX3Rva2VuKFRPS0VOLlVOS05PV04sIHJlc3VsdGluZ19zdHJpbmcudHJpbSgpICsgJ1xcbicpO1xuICAgIH1cblxuICAgIGMgPSB0aGlzLl9pbnB1dC5uZXh0KCk7XG5cbiAgICAvLyBTcGlkZXJtb25rZXktc3BlY2lmaWMgc2hhcnAgdmFyaWFibGVzIGZvciBjaXJjdWxhciByZWZlcmVuY2VzLiBDb25zaWRlcmVkIG9ic29sZXRlLlxuICAgIHZhciBzaGFycCA9ICcjJztcbiAgICBpZiAodGhpcy5faW5wdXQuaGFzTmV4dCgpICYmIHRoaXMuX2lucHV0LnRlc3RDaGFyKGRpZ2l0KSkge1xuICAgICAgZG8ge1xuICAgICAgICBjID0gdGhpcy5faW5wdXQubmV4dCgpO1xuICAgICAgICBzaGFycCArPSBjO1xuICAgICAgfSB3aGlsZSAodGhpcy5faW5wdXQuaGFzTmV4dCgpICYmIGMgIT09ICcjJyAmJiBjICE9PSAnPScpO1xuICAgICAgaWYgKGMgPT09ICcjJykge1xuICAgICAgICAvL1xuICAgICAgfSBlbHNlIGlmICh0aGlzLl9pbnB1dC5wZWVrKCkgPT09ICdbJyAmJiB0aGlzLl9pbnB1dC5wZWVrKDEpID09PSAnXScpIHtcbiAgICAgICAgc2hhcnAgKz0gJ1tdJztcbiAgICAgICAgdGhpcy5faW5wdXQubmV4dCgpO1xuICAgICAgICB0aGlzLl9pbnB1dC5uZXh0KCk7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuX2lucHV0LnBlZWsoKSA9PT0gJ3snICYmIHRoaXMuX2lucHV0LnBlZWsoMSkgPT09ICd9Jykge1xuICAgICAgICBzaGFycCArPSAne30nO1xuICAgICAgICB0aGlzLl9pbnB1dC5uZXh0KCk7XG4gICAgICAgIHRoaXMuX2lucHV0Lm5leHQoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLl9jcmVhdGVfdG9rZW4oVE9LRU4uV09SRCwgc2hhcnApO1xuICAgIH1cblxuICAgIHRoaXMuX2lucHV0LmJhY2soKTtcblxuICB9IGVsc2UgaWYgKGMgPT09ICc8JyAmJiB0aGlzLl9pc19maXJzdF90b2tlbigpKSB7XG4gICAgcmVzdWx0aW5nX3N0cmluZyA9IHRoaXMuX19wYXR0ZXJucy5odG1sX2NvbW1lbnRfc3RhcnQucmVhZCgpO1xuICAgIGlmIChyZXN1bHRpbmdfc3RyaW5nKSB7XG4gICAgICB3aGlsZSAodGhpcy5faW5wdXQuaGFzTmV4dCgpICYmICF0aGlzLl9pbnB1dC50ZXN0Q2hhcihhY29ybi5uZXdsaW5lKSkge1xuICAgICAgICByZXN1bHRpbmdfc3RyaW5nICs9IHRoaXMuX2lucHV0Lm5leHQoKTtcbiAgICAgIH1cbiAgICAgIGluX2h0bWxfY29tbWVudCA9IHRydWU7XG4gICAgICByZXR1cm4gdGhpcy5fY3JlYXRlX3Rva2VuKFRPS0VOLkNPTU1FTlQsIHJlc3VsdGluZ19zdHJpbmcpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChpbl9odG1sX2NvbW1lbnQgJiYgYyA9PT0gJy0nKSB7XG4gICAgcmVzdWx0aW5nX3N0cmluZyA9IHRoaXMuX19wYXR0ZXJucy5odG1sX2NvbW1lbnRfZW5kLnJlYWQoKTtcbiAgICBpZiAocmVzdWx0aW5nX3N0cmluZykge1xuICAgICAgaW5faHRtbF9jb21tZW50ID0gZmFsc2U7XG4gICAgICByZXR1cm4gdGhpcy5fY3JlYXRlX3Rva2VuKFRPS0VOLkNPTU1FTlQsIHJlc3VsdGluZ19zdHJpbmcpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBudWxsO1xufTtcblxuVG9rZW5pemVyLnByb3RvdHlwZS5fcmVhZF9jb21tZW50ID0gZnVuY3Rpb24oYykge1xuICB2YXIgdG9rZW4gPSBudWxsO1xuICBpZiAoYyA9PT0gJy8nKSB7XG4gICAgdmFyIGNvbW1lbnQgPSAnJztcbiAgICBpZiAodGhpcy5faW5wdXQucGVlaygxKSA9PT0gJyonKSB7XG4gICAgICAvLyBwZWVrIGZvciBjb21tZW50IC8qIC4uLiAqL1xuICAgICAgY29tbWVudCA9IHRoaXMuX19wYXR0ZXJucy5ibG9ja19jb21tZW50LnJlYWQoKTtcbiAgICAgIHZhciBkaXJlY3RpdmVzID0gZGlyZWN0aXZlc19jb3JlLmdldF9kaXJlY3RpdmVzKGNvbW1lbnQpO1xuICAgICAgaWYgKGRpcmVjdGl2ZXMgJiYgZGlyZWN0aXZlcy5pZ25vcmUgPT09ICdzdGFydCcpIHtcbiAgICAgICAgY29tbWVudCArPSBkaXJlY3RpdmVzX2NvcmUucmVhZElnbm9yZWQodGhpcy5faW5wdXQpO1xuICAgICAgfVxuICAgICAgY29tbWVudCA9IGNvbW1lbnQucmVwbGFjZShhY29ybi5hbGxMaW5lQnJlYWtzLCAnXFxuJyk7XG4gICAgICB0b2tlbiA9IHRoaXMuX2NyZWF0ZV90b2tlbihUT0tFTi5CTE9DS19DT01NRU5ULCBjb21tZW50KTtcbiAgICAgIHRva2VuLmRpcmVjdGl2ZXMgPSBkaXJlY3RpdmVzO1xuICAgIH0gZWxzZSBpZiAodGhpcy5faW5wdXQucGVlaygxKSA9PT0gJy8nKSB7XG4gICAgICAvLyBwZWVrIGZvciBjb21tZW50IC8vIC4uLlxuICAgICAgY29tbWVudCA9IHRoaXMuX19wYXR0ZXJucy5jb21tZW50LnJlYWQoKTtcbiAgICAgIHRva2VuID0gdGhpcy5fY3JlYXRlX3Rva2VuKFRPS0VOLkNPTU1FTlQsIGNvbW1lbnQpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdG9rZW47XG59O1xuXG5Ub2tlbml6ZXIucHJvdG90eXBlLl9yZWFkX3N0cmluZyA9IGZ1bmN0aW9uKGMpIHtcbiAgaWYgKGMgPT09ICdgJyB8fCBjID09PSBcIidcIiB8fCBjID09PSAnXCInKSB7XG4gICAgdmFyIHJlc3VsdGluZ19zdHJpbmcgPSB0aGlzLl9pbnB1dC5uZXh0KCk7XG4gICAgdGhpcy5oYXNfY2hhcl9lc2NhcGVzID0gZmFsc2U7XG5cbiAgICBpZiAoYyA9PT0gJ2AnKSB7XG4gICAgICByZXN1bHRpbmdfc3RyaW5nICs9IHRoaXMuX3JlYWRfc3RyaW5nX3JlY3Vyc2l2ZSgnYCcsIHRydWUsICckeycpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHRpbmdfc3RyaW5nICs9IHRoaXMuX3JlYWRfc3RyaW5nX3JlY3Vyc2l2ZShjKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5oYXNfY2hhcl9lc2NhcGVzICYmIHRoaXMuX29wdGlvbnMudW5lc2NhcGVfc3RyaW5ncykge1xuICAgICAgcmVzdWx0aW5nX3N0cmluZyA9IHVuZXNjYXBlX3N0cmluZyhyZXN1bHRpbmdfc3RyaW5nKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5faW5wdXQucGVlaygpID09PSBjKSB7XG4gICAgICByZXN1bHRpbmdfc3RyaW5nICs9IHRoaXMuX2lucHV0Lm5leHQoKTtcbiAgICB9XG5cbiAgICByZXN1bHRpbmdfc3RyaW5nID0gcmVzdWx0aW5nX3N0cmluZy5yZXBsYWNlKGFjb3JuLmFsbExpbmVCcmVha3MsICdcXG4nKTtcblxuICAgIHJldHVybiB0aGlzLl9jcmVhdGVfdG9rZW4oVE9LRU4uU1RSSU5HLCByZXN1bHRpbmdfc3RyaW5nKTtcbiAgfVxuXG4gIHJldHVybiBudWxsO1xufTtcblxuVG9rZW5pemVyLnByb3RvdHlwZS5fYWxsb3dfcmVnZXhwX29yX3htbCA9IGZ1bmN0aW9uKHByZXZpb3VzX3Rva2VuKSB7XG4gIC8vIHJlZ2V4IGFuZCB4bWwgY2FuIG9ubHkgYXBwZWFyIGluIHNwZWNpZmljIGxvY2F0aW9ucyBkdXJpbmcgcGFyc2luZ1xuICByZXR1cm4gKHByZXZpb3VzX3Rva2VuLnR5cGUgPT09IFRPS0VOLlJFU0VSVkVEICYmIGluX2FycmF5KHByZXZpb3VzX3Rva2VuLnRleHQsIFsncmV0dXJuJywgJ2Nhc2UnLCAndGhyb3cnLCAnZWxzZScsICdkbycsICd0eXBlb2YnLCAneWllbGQnXSkpIHx8XG4gICAgKHByZXZpb3VzX3Rva2VuLnR5cGUgPT09IFRPS0VOLkVORF9FWFBSICYmIHByZXZpb3VzX3Rva2VuLnRleHQgPT09ICcpJyAmJlxuICAgICAgcHJldmlvdXNfdG9rZW4ub3BlbmVkLnByZXZpb3VzLnR5cGUgPT09IFRPS0VOLlJFU0VSVkVEICYmIGluX2FycmF5KHByZXZpb3VzX3Rva2VuLm9wZW5lZC5wcmV2aW91cy50ZXh0LCBbJ2lmJywgJ3doaWxlJywgJ2ZvciddKSkgfHxcbiAgICAoaW5fYXJyYXkocHJldmlvdXNfdG9rZW4udHlwZSwgW1RPS0VOLkNPTU1FTlQsIFRPS0VOLlNUQVJUX0VYUFIsIFRPS0VOLlNUQVJUX0JMT0NLLCBUT0tFTi5TVEFSVCxcbiAgICAgIFRPS0VOLkVORF9CTE9DSywgVE9LRU4uT1BFUkFUT1IsIFRPS0VOLkVRVUFMUywgVE9LRU4uRU9GLCBUT0tFTi5TRU1JQ09MT04sIFRPS0VOLkNPTU1BXG4gICAgXSkpO1xufTtcblxuVG9rZW5pemVyLnByb3RvdHlwZS5fcmVhZF9yZWdleHAgPSBmdW5jdGlvbihjLCBwcmV2aW91c190b2tlbikge1xuXG4gIGlmIChjID09PSAnLycgJiYgdGhpcy5fYWxsb3dfcmVnZXhwX29yX3htbChwcmV2aW91c190b2tlbikpIHtcbiAgICAvLyBoYW5kbGUgcmVnZXhwXG4gICAgLy9cbiAgICB2YXIgcmVzdWx0aW5nX3N0cmluZyA9IHRoaXMuX2lucHV0Lm5leHQoKTtcbiAgICB2YXIgZXNjID0gZmFsc2U7XG5cbiAgICB2YXIgaW5fY2hhcl9jbGFzcyA9IGZhbHNlO1xuICAgIHdoaWxlICh0aGlzLl9pbnB1dC5oYXNOZXh0KCkgJiZcbiAgICAgICgoZXNjIHx8IGluX2NoYXJfY2xhc3MgfHwgdGhpcy5faW5wdXQucGVlaygpICE9PSBjKSAmJlxuICAgICAgICAhdGhpcy5faW5wdXQudGVzdENoYXIoYWNvcm4ubmV3bGluZSkpKSB7XG4gICAgICByZXN1bHRpbmdfc3RyaW5nICs9IHRoaXMuX2lucHV0LnBlZWsoKTtcbiAgICAgIGlmICghZXNjKSB7XG4gICAgICAgIGVzYyA9IHRoaXMuX2lucHV0LnBlZWsoKSA9PT0gJ1xcXFwnO1xuICAgICAgICBpZiAodGhpcy5faW5wdXQucGVlaygpID09PSAnWycpIHtcbiAgICAgICAgICBpbl9jaGFyX2NsYXNzID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9pbnB1dC5wZWVrKCkgPT09ICddJykge1xuICAgICAgICAgIGluX2NoYXJfY2xhc3MgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZXNjID0gZmFsc2U7XG4gICAgICB9XG4gICAgICB0aGlzLl9pbnB1dC5uZXh0KCk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX2lucHV0LnBlZWsoKSA9PT0gYykge1xuICAgICAgcmVzdWx0aW5nX3N0cmluZyArPSB0aGlzLl9pbnB1dC5uZXh0KCk7XG5cbiAgICAgIC8vIHJlZ2V4cHMgbWF5IGhhdmUgbW9kaWZpZXJzIC9yZWdleHAvTU9EICwgc28gZmV0Y2ggdGhvc2UsIHRvb1xuICAgICAgLy8gT25seSBbZ2ltXSBhcmUgdmFsaWQsIGJ1dCBpZiB0aGUgdXNlciBwdXRzIGluIGdhcmJhZ2UsIGRvIHdoYXQgd2UgY2FuIHRvIHRha2UgaXQuXG4gICAgICByZXN1bHRpbmdfc3RyaW5nICs9IHRoaXMuX2lucHV0LnJlYWQoYWNvcm4uaWRlbnRpZmllcik7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9jcmVhdGVfdG9rZW4oVE9LRU4uU1RSSU5HLCByZXN1bHRpbmdfc3RyaW5nKTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn07XG5cblRva2VuaXplci5wcm90b3R5cGUuX3JlYWRfeG1sID0gZnVuY3Rpb24oYywgcHJldmlvdXNfdG9rZW4pIHtcblxuICBpZiAodGhpcy5fb3B0aW9ucy5lNHggJiYgYyA9PT0gXCI8XCIgJiYgdGhpcy5fYWxsb3dfcmVnZXhwX29yX3htbChwcmV2aW91c190b2tlbikpIHtcbiAgICB2YXIgeG1sU3RyID0gJyc7XG4gICAgdmFyIG1hdGNoID0gdGhpcy5fX3BhdHRlcm5zLnhtbC5yZWFkX21hdGNoKCk7XG4gICAgLy8gaGFuZGxlIGU0eCB4bWwgbGl0ZXJhbHNcbiAgICAvL1xuICAgIGlmIChtYXRjaCkge1xuICAgICAgLy8gVHJpbSByb290IHRhZyB0byBhdHRlbXB0IHRvXG4gICAgICB2YXIgcm9vdFRhZyA9IG1hdGNoWzJdLnJlcGxhY2UoL157XFxzKy8sICd7JykucmVwbGFjZSgvXFxzK30kLywgJ30nKTtcbiAgICAgIHZhciBpc0N1cmx5Um9vdCA9IHJvb3RUYWcuaW5kZXhPZigneycpID09PSAwO1xuICAgICAgdmFyIGRlcHRoID0gMDtcbiAgICAgIHdoaWxlIChtYXRjaCkge1xuICAgICAgICB2YXIgaXNFbmRUYWcgPSAhIW1hdGNoWzFdO1xuICAgICAgICB2YXIgdGFnTmFtZSA9IG1hdGNoWzJdO1xuICAgICAgICB2YXIgaXNTaW5nbGV0b25UYWcgPSAoISFtYXRjaFttYXRjaC5sZW5ndGggLSAxXSkgfHwgKHRhZ05hbWUuc2xpY2UoMCwgOCkgPT09IFwiIVtDREFUQVtcIik7XG4gICAgICAgIGlmICghaXNTaW5nbGV0b25UYWcgJiZcbiAgICAgICAgICAodGFnTmFtZSA9PT0gcm9vdFRhZyB8fCAoaXNDdXJseVJvb3QgJiYgdGFnTmFtZS5yZXBsYWNlKC9ee1xccysvLCAneycpLnJlcGxhY2UoL1xccyt9JC8sICd9JykpKSkge1xuICAgICAgICAgIGlmIChpc0VuZFRhZykge1xuICAgICAgICAgICAgLS1kZXB0aDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgKytkZXB0aDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgeG1sU3RyICs9IG1hdGNoWzBdO1xuICAgICAgICBpZiAoZGVwdGggPD0gMCkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIG1hdGNoID0gdGhpcy5fX3BhdHRlcm5zLnhtbC5yZWFkX21hdGNoKCk7XG4gICAgICB9XG4gICAgICAvLyBpZiB3ZSBkaWRuJ3QgY2xvc2UgY29ycmVjdGx5LCBrZWVwIHVuZm9ybWF0dGVkLlxuICAgICAgaWYgKCFtYXRjaCkge1xuICAgICAgICB4bWxTdHIgKz0gdGhpcy5faW5wdXQubWF0Y2goL1tcXHNcXFNdKi9nKVswXTtcbiAgICAgIH1cbiAgICAgIHhtbFN0ciA9IHhtbFN0ci5yZXBsYWNlKGFjb3JuLmFsbExpbmVCcmVha3MsICdcXG4nKTtcbiAgICAgIHJldHVybiB0aGlzLl9jcmVhdGVfdG9rZW4oVE9LRU4uU1RSSU5HLCB4bWxTdHIpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBudWxsO1xufTtcblxuZnVuY3Rpb24gdW5lc2NhcGVfc3RyaW5nKHMpIHtcbiAgLy8gWW91IHRoaW5rIHRoYXQgYSByZWdleCB3b3VsZCB3b3JrIGZvciB0aGlzXG4gIC8vIHJldHVybiBzLnJlcGxhY2UoL1xcXFx4KFswLTlhLWZdezJ9KS9naSwgZnVuY3Rpb24obWF0Y2gsIHZhbCkge1xuICAvLyAgICAgICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKHBhcnNlSW50KHZhbCwgMTYpKTtcbiAgLy8gICAgIH0pXG4gIC8vIEhvd2V2ZXIsIGRlYWxpbmcgd2l0aCAnXFx4ZmYnLCAnXFxcXHhmZicsICdcXFxcXFx4ZmYnIG1ha2VzIHRoaXMgbW9yZSBmdW4uXG4gIHZhciBvdXQgPSAnJyxcbiAgICBlc2NhcGVkID0gMDtcblxuICB2YXIgaW5wdXRfc2NhbiA9IG5ldyBJbnB1dFNjYW5uZXIocyk7XG4gIHZhciBtYXRjaGVkID0gbnVsbDtcblxuICB3aGlsZSAoaW5wdXRfc2Nhbi5oYXNOZXh0KCkpIHtcbiAgICAvLyBLZWVwIGFueSB3aGl0ZXNwYWNlLCBub24tc2xhc2ggY2hhcmFjdGVyc1xuICAgIC8vIGFsc28ga2VlcCBzbGFzaCBwYWlycy5cbiAgICBtYXRjaGVkID0gaW5wdXRfc2Nhbi5tYXRjaCgvKFtcXHNdfFteXFxcXF18XFxcXFxcXFwpKy9nKTtcblxuICAgIGlmIChtYXRjaGVkKSB7XG4gICAgICBvdXQgKz0gbWF0Y2hlZFswXTtcbiAgICB9XG5cbiAgICBpZiAoaW5wdXRfc2Nhbi5wZWVrKCkgPT09ICdcXFxcJykge1xuICAgICAgaW5wdXRfc2Nhbi5uZXh0KCk7XG4gICAgICBpZiAoaW5wdXRfc2Nhbi5wZWVrKCkgPT09ICd4Jykge1xuICAgICAgICBtYXRjaGVkID0gaW5wdXRfc2Nhbi5tYXRjaCgveChbMC05QS1GYS1mXXsyfSkvZyk7XG4gICAgICB9IGVsc2UgaWYgKGlucHV0X3NjYW4ucGVlaygpID09PSAndScpIHtcbiAgICAgICAgbWF0Y2hlZCA9IGlucHV0X3NjYW4ubWF0Y2goL3UoWzAtOUEtRmEtZl17NH0pL2cpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3V0ICs9ICdcXFxcJztcbiAgICAgICAgaWYgKGlucHV0X3NjYW4uaGFzTmV4dCgpKSB7XG4gICAgICAgICAgb3V0ICs9IGlucHV0X3NjYW4ubmV4dCgpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICAvLyBJZiB0aGVyZSdzIHNvbWUgZXJyb3IgZGVjb2RpbmcsIHJldHVybiB0aGUgb3JpZ2luYWwgc3RyaW5nXG4gICAgICBpZiAoIW1hdGNoZWQpIHtcbiAgICAgICAgcmV0dXJuIHM7XG4gICAgICB9XG5cbiAgICAgIGVzY2FwZWQgPSBwYXJzZUludChtYXRjaGVkWzFdLCAxNik7XG5cbiAgICAgIGlmIChlc2NhcGVkID4gMHg3ZSAmJiBlc2NhcGVkIDw9IDB4ZmYgJiYgbWF0Y2hlZFswXS5pbmRleE9mKCd4JykgPT09IDApIHtcbiAgICAgICAgLy8gd2UgYmFpbCBvdXQgb24gXFx4N2YuLlxceGZmLFxuICAgICAgICAvLyBsZWF2aW5nIHdob2xlIHN0cmluZyBlc2NhcGVkLFxuICAgICAgICAvLyBhcyBpdCdzIHByb2JhYmx5IGNvbXBsZXRlbHkgYmluYXJ5XG4gICAgICAgIHJldHVybiBzO1xuICAgICAgfSBlbHNlIGlmIChlc2NhcGVkID49IDB4MDAgJiYgZXNjYXBlZCA8IDB4MjApIHtcbiAgICAgICAgLy8gbGVhdmUgMHgwMC4uLjB4MWYgZXNjYXBlZFxuICAgICAgICBvdXQgKz0gJ1xcXFwnICsgbWF0Y2hlZFswXTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9IGVsc2UgaWYgKGVzY2FwZWQgPT09IDB4MjIgfHwgZXNjYXBlZCA9PT0gMHgyNyB8fCBlc2NhcGVkID09PSAweDVjKSB7XG4gICAgICAgIC8vIHNpbmdsZS1xdW90ZSwgYXBvc3Ryb3BoZSwgYmFja3NsYXNoIC0gZXNjYXBlIHRoZXNlXG4gICAgICAgIG91dCArPSAnXFxcXCcgKyBTdHJpbmcuZnJvbUNoYXJDb2RlKGVzY2FwZWQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3V0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoZXNjYXBlZCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG91dDtcbn1cblxuLy8gaGFuZGxlIHN0cmluZ1xuLy9cblRva2VuaXplci5wcm90b3R5cGUuX3JlYWRfc3RyaW5nX3JlY3Vyc2l2ZSA9IGZ1bmN0aW9uKGRlbGltaXRlciwgYWxsb3dfdW5lc2NhcGVkX25ld2xpbmVzLCBzdGFydF9zdWIpIHtcbiAgdmFyIGN1cnJlbnRfY2hhcjtcbiAgdmFyIHBhdHRlcm47XG4gIGlmIChkZWxpbWl0ZXIgPT09ICdcXCcnKSB7XG4gICAgcGF0dGVybiA9IHRoaXMuX19wYXR0ZXJucy5zaW5nbGVfcXVvdGU7XG4gIH0gZWxzZSBpZiAoZGVsaW1pdGVyID09PSAnXCInKSB7XG4gICAgcGF0dGVybiA9IHRoaXMuX19wYXR0ZXJucy5kb3VibGVfcXVvdGU7XG4gIH0gZWxzZSBpZiAoZGVsaW1pdGVyID09PSAnYCcpIHtcbiAgICBwYXR0ZXJuID0gdGhpcy5fX3BhdHRlcm5zLnRlbXBsYXRlX3RleHQ7XG4gIH0gZWxzZSBpZiAoZGVsaW1pdGVyID09PSAnfScpIHtcbiAgICBwYXR0ZXJuID0gdGhpcy5fX3BhdHRlcm5zLnRlbXBsYXRlX2V4cHJlc3Npb247XG4gIH1cblxuICB2YXIgcmVzdWx0aW5nX3N0cmluZyA9IHBhdHRlcm4ucmVhZCgpO1xuICB2YXIgbmV4dCA9ICcnO1xuICB3aGlsZSAodGhpcy5faW5wdXQuaGFzTmV4dCgpKSB7XG4gICAgbmV4dCA9IHRoaXMuX2lucHV0Lm5leHQoKTtcbiAgICBpZiAobmV4dCA9PT0gZGVsaW1pdGVyIHx8XG4gICAgICAoIWFsbG93X3VuZXNjYXBlZF9uZXdsaW5lcyAmJiBhY29ybi5uZXdsaW5lLnRlc3QobmV4dCkpKSB7XG4gICAgICB0aGlzLl9pbnB1dC5iYWNrKCk7XG4gICAgICBicmVhaztcbiAgICB9IGVsc2UgaWYgKG5leHQgPT09ICdcXFxcJyAmJiB0aGlzLl9pbnB1dC5oYXNOZXh0KCkpIHtcbiAgICAgIGN1cnJlbnRfY2hhciA9IHRoaXMuX2lucHV0LnBlZWsoKTtcblxuICAgICAgaWYgKGN1cnJlbnRfY2hhciA9PT0gJ3gnIHx8IGN1cnJlbnRfY2hhciA9PT0gJ3UnKSB7XG4gICAgICAgIHRoaXMuaGFzX2NoYXJfZXNjYXBlcyA9IHRydWU7XG4gICAgICB9IGVsc2UgaWYgKGN1cnJlbnRfY2hhciA9PT0gJ1xccicgJiYgdGhpcy5faW5wdXQucGVlaygxKSA9PT0gJ1xcbicpIHtcbiAgICAgICAgdGhpcy5faW5wdXQubmV4dCgpO1xuICAgICAgfVxuICAgICAgbmV4dCArPSB0aGlzLl9pbnB1dC5uZXh0KCk7XG4gICAgfSBlbHNlIGlmIChzdGFydF9zdWIpIHtcbiAgICAgIGlmIChzdGFydF9zdWIgPT09ICckeycgJiYgbmV4dCA9PT0gJyQnICYmIHRoaXMuX2lucHV0LnBlZWsoKSA9PT0gJ3snKSB7XG4gICAgICAgIG5leHQgKz0gdGhpcy5faW5wdXQubmV4dCgpO1xuICAgICAgfVxuXG4gICAgICBpZiAoc3RhcnRfc3ViID09PSBuZXh0KSB7XG4gICAgICAgIGlmIChkZWxpbWl0ZXIgPT09ICdgJykge1xuICAgICAgICAgIG5leHQgKz0gdGhpcy5fcmVhZF9zdHJpbmdfcmVjdXJzaXZlKCd9JywgYWxsb3dfdW5lc2NhcGVkX25ld2xpbmVzLCAnYCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5leHQgKz0gdGhpcy5fcmVhZF9zdHJpbmdfcmVjdXJzaXZlKCdgJywgYWxsb3dfdW5lc2NhcGVkX25ld2xpbmVzLCAnJHsnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5faW5wdXQuaGFzTmV4dCgpKSB7XG4gICAgICAgICAgbmV4dCArPSB0aGlzLl9pbnB1dC5uZXh0KCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgbmV4dCArPSBwYXR0ZXJuLnJlYWQoKTtcbiAgICByZXN1bHRpbmdfc3RyaW5nICs9IG5leHQ7XG4gIH1cblxuICByZXR1cm4gcmVzdWx0aW5nX3N0cmluZztcbn07XG5cbm1vZHVsZS5leHBvcnRzLlRva2VuaXplciA9IFRva2VuaXplcjtcbm1vZHVsZS5leHBvcnRzLlRPS0VOID0gVE9LRU47XG5tb2R1bGUuZXhwb3J0cy5wb3NpdGlvbmFibGVfb3BlcmF0b3JzID0gcG9zaXRpb25hYmxlX29wZXJhdG9ycy5zbGljZSgpO1xubW9kdWxlLmV4cG9ydHMubGluZV9zdGFydGVycyA9IGxpbmVfc3RhcnRlcnMuc2xpY2UoKTtcbiIsIi8vIC5kaXJuYW1lLCAuYmFzZW5hbWUsIGFuZCAuZXh0bmFtZSBtZXRob2RzIGFyZSBleHRyYWN0ZWQgZnJvbSBOb2RlLmpzIHY4LjExLjEsXG4vLyBiYWNrcG9ydGVkIGFuZCB0cmFuc3BsaXRlZCB3aXRoIEJhYmVsLCB3aXRoIGJhY2t3YXJkcy1jb21wYXQgZml4ZXNcblxuLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbi8vIHJlc29sdmVzIC4gYW5kIC4uIGVsZW1lbnRzIGluIGEgcGF0aCBhcnJheSB3aXRoIGRpcmVjdG9yeSBuYW1lcyB0aGVyZVxuLy8gbXVzdCBiZSBubyBzbGFzaGVzLCBlbXB0eSBlbGVtZW50cywgb3IgZGV2aWNlIG5hbWVzIChjOlxcKSBpbiB0aGUgYXJyYXlcbi8vIChzbyBhbHNvIG5vIGxlYWRpbmcgYW5kIHRyYWlsaW5nIHNsYXNoZXMgLSBpdCBkb2VzIG5vdCBkaXN0aW5ndWlzaFxuLy8gcmVsYXRpdmUgYW5kIGFic29sdXRlIHBhdGhzKVxuZnVuY3Rpb24gbm9ybWFsaXplQXJyYXkocGFydHMsIGFsbG93QWJvdmVSb290KSB7XG4gIC8vIGlmIHRoZSBwYXRoIHRyaWVzIHRvIGdvIGFib3ZlIHRoZSByb290LCBgdXBgIGVuZHMgdXAgPiAwXG4gIHZhciB1cCA9IDA7XG4gIGZvciAodmFyIGkgPSBwYXJ0cy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgIHZhciBsYXN0ID0gcGFydHNbaV07XG4gICAgaWYgKGxhc3QgPT09ICcuJykge1xuICAgICAgcGFydHMuc3BsaWNlKGksIDEpO1xuICAgIH0gZWxzZSBpZiAobGFzdCA9PT0gJy4uJykge1xuICAgICAgcGFydHMuc3BsaWNlKGksIDEpO1xuICAgICAgdXArKztcbiAgICB9IGVsc2UgaWYgKHVwKSB7XG4gICAgICBwYXJ0cy5zcGxpY2UoaSwgMSk7XG4gICAgICB1cC0tO1xuICAgIH1cbiAgfVxuXG4gIC8vIGlmIHRoZSBwYXRoIGlzIGFsbG93ZWQgdG8gZ28gYWJvdmUgdGhlIHJvb3QsIHJlc3RvcmUgbGVhZGluZyAuLnNcbiAgaWYgKGFsbG93QWJvdmVSb290KSB7XG4gICAgZm9yICg7IHVwLS07IHVwKSB7XG4gICAgICBwYXJ0cy51bnNoaWZ0KCcuLicpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBwYXJ0cztcbn1cblxuLy8gcGF0aC5yZXNvbHZlKFtmcm9tIC4uLl0sIHRvKVxuLy8gcG9zaXggdmVyc2lvblxuZXhwb3J0cy5yZXNvbHZlID0gZnVuY3Rpb24oKSB7XG4gIHZhciByZXNvbHZlZFBhdGggPSAnJyxcbiAgICAgIHJlc29sdmVkQWJzb2x1dGUgPSBmYWxzZTtcblxuICBmb3IgKHZhciBpID0gYXJndW1lbnRzLmxlbmd0aCAtIDE7IGkgPj0gLTEgJiYgIXJlc29sdmVkQWJzb2x1dGU7IGktLSkge1xuICAgIHZhciBwYXRoID0gKGkgPj0gMCkgPyBhcmd1bWVudHNbaV0gOiBwcm9jZXNzLmN3ZCgpO1xuXG4gICAgLy8gU2tpcCBlbXB0eSBhbmQgaW52YWxpZCBlbnRyaWVzXG4gICAgaWYgKHR5cGVvZiBwYXRoICE9PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnRzIHRvIHBhdGgucmVzb2x2ZSBtdXN0IGJlIHN0cmluZ3MnKTtcbiAgICB9IGVsc2UgaWYgKCFwYXRoKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICByZXNvbHZlZFBhdGggPSBwYXRoICsgJy8nICsgcmVzb2x2ZWRQYXRoO1xuICAgIHJlc29sdmVkQWJzb2x1dGUgPSBwYXRoLmNoYXJBdCgwKSA9PT0gJy8nO1xuICB9XG5cbiAgLy8gQXQgdGhpcyBwb2ludCB0aGUgcGF0aCBzaG91bGQgYmUgcmVzb2x2ZWQgdG8gYSBmdWxsIGFic29sdXRlIHBhdGgsIGJ1dFxuICAvLyBoYW5kbGUgcmVsYXRpdmUgcGF0aHMgdG8gYmUgc2FmZSAobWlnaHQgaGFwcGVuIHdoZW4gcHJvY2Vzcy5jd2QoKSBmYWlscylcblxuICAvLyBOb3JtYWxpemUgdGhlIHBhdGhcbiAgcmVzb2x2ZWRQYXRoID0gbm9ybWFsaXplQXJyYXkoZmlsdGVyKHJlc29sdmVkUGF0aC5zcGxpdCgnLycpLCBmdW5jdGlvbihwKSB7XG4gICAgcmV0dXJuICEhcDtcbiAgfSksICFyZXNvbHZlZEFic29sdXRlKS5qb2luKCcvJyk7XG5cbiAgcmV0dXJuICgocmVzb2x2ZWRBYnNvbHV0ZSA/ICcvJyA6ICcnKSArIHJlc29sdmVkUGF0aCkgfHwgJy4nO1xufTtcblxuLy8gcGF0aC5ub3JtYWxpemUocGF0aClcbi8vIHBvc2l4IHZlcnNpb25cbmV4cG9ydHMubm9ybWFsaXplID0gZnVuY3Rpb24ocGF0aCkge1xuICB2YXIgaXNBYnNvbHV0ZSA9IGV4cG9ydHMuaXNBYnNvbHV0ZShwYXRoKSxcbiAgICAgIHRyYWlsaW5nU2xhc2ggPSBzdWJzdHIocGF0aCwgLTEpID09PSAnLyc7XG5cbiAgLy8gTm9ybWFsaXplIHRoZSBwYXRoXG4gIHBhdGggPSBub3JtYWxpemVBcnJheShmaWx0ZXIocGF0aC5zcGxpdCgnLycpLCBmdW5jdGlvbihwKSB7XG4gICAgcmV0dXJuICEhcDtcbiAgfSksICFpc0Fic29sdXRlKS5qb2luKCcvJyk7XG5cbiAgaWYgKCFwYXRoICYmICFpc0Fic29sdXRlKSB7XG4gICAgcGF0aCA9ICcuJztcbiAgfVxuICBpZiAocGF0aCAmJiB0cmFpbGluZ1NsYXNoKSB7XG4gICAgcGF0aCArPSAnLyc7XG4gIH1cblxuICByZXR1cm4gKGlzQWJzb2x1dGUgPyAnLycgOiAnJykgKyBwYXRoO1xufTtcblxuLy8gcG9zaXggdmVyc2lvblxuZXhwb3J0cy5pc0Fic29sdXRlID0gZnVuY3Rpb24ocGF0aCkge1xuICByZXR1cm4gcGF0aC5jaGFyQXQoMCkgPT09ICcvJztcbn07XG5cbi8vIHBvc2l4IHZlcnNpb25cbmV4cG9ydHMuam9pbiA9IGZ1bmN0aW9uKCkge1xuICB2YXIgcGF0aHMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDApO1xuICByZXR1cm4gZXhwb3J0cy5ub3JtYWxpemUoZmlsdGVyKHBhdGhzLCBmdW5jdGlvbihwLCBpbmRleCkge1xuICAgIGlmICh0eXBlb2YgcCAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50cyB0byBwYXRoLmpvaW4gbXVzdCBiZSBzdHJpbmdzJyk7XG4gICAgfVxuICAgIHJldHVybiBwO1xuICB9KS5qb2luKCcvJykpO1xufTtcblxuXG4vLyBwYXRoLnJlbGF0aXZlKGZyb20sIHRvKVxuLy8gcG9zaXggdmVyc2lvblxuZXhwb3J0cy5yZWxhdGl2ZSA9IGZ1bmN0aW9uKGZyb20sIHRvKSB7XG4gIGZyb20gPSBleHBvcnRzLnJlc29sdmUoZnJvbSkuc3Vic3RyKDEpO1xuICB0byA9IGV4cG9ydHMucmVzb2x2ZSh0bykuc3Vic3RyKDEpO1xuXG4gIGZ1bmN0aW9uIHRyaW0oYXJyKSB7XG4gICAgdmFyIHN0YXJ0ID0gMDtcbiAgICBmb3IgKDsgc3RhcnQgPCBhcnIubGVuZ3RoOyBzdGFydCsrKSB7XG4gICAgICBpZiAoYXJyW3N0YXJ0XSAhPT0gJycpIGJyZWFrO1xuICAgIH1cblxuICAgIHZhciBlbmQgPSBhcnIubGVuZ3RoIC0gMTtcbiAgICBmb3IgKDsgZW5kID49IDA7IGVuZC0tKSB7XG4gICAgICBpZiAoYXJyW2VuZF0gIT09ICcnKSBicmVhaztcbiAgICB9XG5cbiAgICBpZiAoc3RhcnQgPiBlbmQpIHJldHVybiBbXTtcbiAgICByZXR1cm4gYXJyLnNsaWNlKHN0YXJ0LCBlbmQgLSBzdGFydCArIDEpO1xuICB9XG5cbiAgdmFyIGZyb21QYXJ0cyA9IHRyaW0oZnJvbS5zcGxpdCgnLycpKTtcbiAgdmFyIHRvUGFydHMgPSB0cmltKHRvLnNwbGl0KCcvJykpO1xuXG4gIHZhciBsZW5ndGggPSBNYXRoLm1pbihmcm9tUGFydHMubGVuZ3RoLCB0b1BhcnRzLmxlbmd0aCk7XG4gIHZhciBzYW1lUGFydHNMZW5ndGggPSBsZW5ndGg7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoZnJvbVBhcnRzW2ldICE9PSB0b1BhcnRzW2ldKSB7XG4gICAgICBzYW1lUGFydHNMZW5ndGggPSBpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgdmFyIG91dHB1dFBhcnRzID0gW107XG4gIGZvciAodmFyIGkgPSBzYW1lUGFydHNMZW5ndGg7IGkgPCBmcm9tUGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICBvdXRwdXRQYXJ0cy5wdXNoKCcuLicpO1xuICB9XG5cbiAgb3V0cHV0UGFydHMgPSBvdXRwdXRQYXJ0cy5jb25jYXQodG9QYXJ0cy5zbGljZShzYW1lUGFydHNMZW5ndGgpKTtcblxuICByZXR1cm4gb3V0cHV0UGFydHMuam9pbignLycpO1xufTtcblxuZXhwb3J0cy5zZXAgPSAnLyc7XG5leHBvcnRzLmRlbGltaXRlciA9ICc6JztcblxuZXhwb3J0cy5kaXJuYW1lID0gZnVuY3Rpb24gKHBhdGgpIHtcbiAgaWYgKHR5cGVvZiBwYXRoICE9PSAnc3RyaW5nJykgcGF0aCA9IHBhdGggKyAnJztcbiAgaWYgKHBhdGgubGVuZ3RoID09PSAwKSByZXR1cm4gJy4nO1xuICB2YXIgY29kZSA9IHBhdGguY2hhckNvZGVBdCgwKTtcbiAgdmFyIGhhc1Jvb3QgPSBjb2RlID09PSA0NyAvKi8qLztcbiAgdmFyIGVuZCA9IC0xO1xuICB2YXIgbWF0Y2hlZFNsYXNoID0gdHJ1ZTtcbiAgZm9yICh2YXIgaSA9IHBhdGgubGVuZ3RoIC0gMTsgaSA+PSAxOyAtLWkpIHtcbiAgICBjb2RlID0gcGF0aC5jaGFyQ29kZUF0KGkpO1xuICAgIGlmIChjb2RlID09PSA0NyAvKi8qLykge1xuICAgICAgICBpZiAoIW1hdGNoZWRTbGFzaCkge1xuICAgICAgICAgIGVuZCA9IGk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAvLyBXZSBzYXcgdGhlIGZpcnN0IG5vbi1wYXRoIHNlcGFyYXRvclxuICAgICAgbWF0Y2hlZFNsYXNoID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgaWYgKGVuZCA9PT0gLTEpIHJldHVybiBoYXNSb290ID8gJy8nIDogJy4nO1xuICBpZiAoaGFzUm9vdCAmJiBlbmQgPT09IDEpIHtcbiAgICAvLyByZXR1cm4gJy8vJztcbiAgICAvLyBCYWNrd2FyZHMtY29tcGF0IGZpeDpcbiAgICByZXR1cm4gJy8nO1xuICB9XG4gIHJldHVybiBwYXRoLnNsaWNlKDAsIGVuZCk7XG59O1xuXG5mdW5jdGlvbiBiYXNlbmFtZShwYXRoKSB7XG4gIGlmICh0eXBlb2YgcGF0aCAhPT0gJ3N0cmluZycpIHBhdGggPSBwYXRoICsgJyc7XG5cbiAgdmFyIHN0YXJ0ID0gMDtcbiAgdmFyIGVuZCA9IC0xO1xuICB2YXIgbWF0Y2hlZFNsYXNoID0gdHJ1ZTtcbiAgdmFyIGk7XG5cbiAgZm9yIChpID0gcGF0aC5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgIGlmIChwYXRoLmNoYXJDb2RlQXQoaSkgPT09IDQ3IC8qLyovKSB7XG4gICAgICAgIC8vIElmIHdlIHJlYWNoZWQgYSBwYXRoIHNlcGFyYXRvciB0aGF0IHdhcyBub3QgcGFydCBvZiBhIHNldCBvZiBwYXRoXG4gICAgICAgIC8vIHNlcGFyYXRvcnMgYXQgdGhlIGVuZCBvZiB0aGUgc3RyaW5nLCBzdG9wIG5vd1xuICAgICAgICBpZiAoIW1hdGNoZWRTbGFzaCkge1xuICAgICAgICAgIHN0YXJ0ID0gaSArIDE7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoZW5kID09PSAtMSkge1xuICAgICAgLy8gV2Ugc2F3IHRoZSBmaXJzdCBub24tcGF0aCBzZXBhcmF0b3IsIG1hcmsgdGhpcyBhcyB0aGUgZW5kIG9mIG91clxuICAgICAgLy8gcGF0aCBjb21wb25lbnRcbiAgICAgIG1hdGNoZWRTbGFzaCA9IGZhbHNlO1xuICAgICAgZW5kID0gaSArIDE7XG4gICAgfVxuICB9XG5cbiAgaWYgKGVuZCA9PT0gLTEpIHJldHVybiAnJztcbiAgcmV0dXJuIHBhdGguc2xpY2Uoc3RhcnQsIGVuZCk7XG59XG5cbi8vIFVzZXMgYSBtaXhlZCBhcHByb2FjaCBmb3IgYmFja3dhcmRzLWNvbXBhdGliaWxpdHksIGFzIGV4dCBiZWhhdmlvciBjaGFuZ2VkXG4vLyBpbiBuZXcgTm9kZS5qcyB2ZXJzaW9ucywgc28gb25seSBiYXNlbmFtZSgpIGFib3ZlIGlzIGJhY2twb3J0ZWQgaGVyZVxuZXhwb3J0cy5iYXNlbmFtZSA9IGZ1bmN0aW9uIChwYXRoLCBleHQpIHtcbiAgdmFyIGYgPSBiYXNlbmFtZShwYXRoKTtcbiAgaWYgKGV4dCAmJiBmLnN1YnN0cigtMSAqIGV4dC5sZW5ndGgpID09PSBleHQpIHtcbiAgICBmID0gZi5zdWJzdHIoMCwgZi5sZW5ndGggLSBleHQubGVuZ3RoKTtcbiAgfVxuICByZXR1cm4gZjtcbn07XG5cbmV4cG9ydHMuZXh0bmFtZSA9IGZ1bmN0aW9uIChwYXRoKSB7XG4gIGlmICh0eXBlb2YgcGF0aCAhPT0gJ3N0cmluZycpIHBhdGggPSBwYXRoICsgJyc7XG4gIHZhciBzdGFydERvdCA9IC0xO1xuICB2YXIgc3RhcnRQYXJ0ID0gMDtcbiAgdmFyIGVuZCA9IC0xO1xuICB2YXIgbWF0Y2hlZFNsYXNoID0gdHJ1ZTtcbiAgLy8gVHJhY2sgdGhlIHN0YXRlIG9mIGNoYXJhY3RlcnMgKGlmIGFueSkgd2Ugc2VlIGJlZm9yZSBvdXIgZmlyc3QgZG90IGFuZFxuICAvLyBhZnRlciBhbnkgcGF0aCBzZXBhcmF0b3Igd2UgZmluZFxuICB2YXIgcHJlRG90U3RhdGUgPSAwO1xuICBmb3IgKHZhciBpID0gcGF0aC5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgIHZhciBjb2RlID0gcGF0aC5jaGFyQ29kZUF0KGkpO1xuICAgIGlmIChjb2RlID09PSA0NyAvKi8qLykge1xuICAgICAgICAvLyBJZiB3ZSByZWFjaGVkIGEgcGF0aCBzZXBhcmF0b3IgdGhhdCB3YXMgbm90IHBhcnQgb2YgYSBzZXQgb2YgcGF0aFxuICAgICAgICAvLyBzZXBhcmF0b3JzIGF0IHRoZSBlbmQgb2YgdGhlIHN0cmluZywgc3RvcCBub3dcbiAgICAgICAgaWYgKCFtYXRjaGVkU2xhc2gpIHtcbiAgICAgICAgICBzdGFydFBhcnQgPSBpICsgMTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICBpZiAoZW5kID09PSAtMSkge1xuICAgICAgLy8gV2Ugc2F3IHRoZSBmaXJzdCBub24tcGF0aCBzZXBhcmF0b3IsIG1hcmsgdGhpcyBhcyB0aGUgZW5kIG9mIG91clxuICAgICAgLy8gZXh0ZW5zaW9uXG4gICAgICBtYXRjaGVkU2xhc2ggPSBmYWxzZTtcbiAgICAgIGVuZCA9IGkgKyAxO1xuICAgIH1cbiAgICBpZiAoY29kZSA9PT0gNDYgLyouKi8pIHtcbiAgICAgICAgLy8gSWYgdGhpcyBpcyBvdXIgZmlyc3QgZG90LCBtYXJrIGl0IGFzIHRoZSBzdGFydCBvZiBvdXIgZXh0ZW5zaW9uXG4gICAgICAgIGlmIChzdGFydERvdCA9PT0gLTEpXG4gICAgICAgICAgc3RhcnREb3QgPSBpO1xuICAgICAgICBlbHNlIGlmIChwcmVEb3RTdGF0ZSAhPT0gMSlcbiAgICAgICAgICBwcmVEb3RTdGF0ZSA9IDE7XG4gICAgfSBlbHNlIGlmIChzdGFydERvdCAhPT0gLTEpIHtcbiAgICAgIC8vIFdlIHNhdyBhIG5vbi1kb3QgYW5kIG5vbi1wYXRoIHNlcGFyYXRvciBiZWZvcmUgb3VyIGRvdCwgc28gd2Ugc2hvdWxkXG4gICAgICAvLyBoYXZlIGEgZ29vZCBjaGFuY2UgYXQgaGF2aW5nIGEgbm9uLWVtcHR5IGV4dGVuc2lvblxuICAgICAgcHJlRG90U3RhdGUgPSAtMTtcbiAgICB9XG4gIH1cblxuICBpZiAoc3RhcnREb3QgPT09IC0xIHx8IGVuZCA9PT0gLTEgfHxcbiAgICAgIC8vIFdlIHNhdyBhIG5vbi1kb3QgY2hhcmFjdGVyIGltbWVkaWF0ZWx5IGJlZm9yZSB0aGUgZG90XG4gICAgICBwcmVEb3RTdGF0ZSA9PT0gMCB8fFxuICAgICAgLy8gVGhlIChyaWdodC1tb3N0KSB0cmltbWVkIHBhdGggY29tcG9uZW50IGlzIGV4YWN0bHkgJy4uJ1xuICAgICAgcHJlRG90U3RhdGUgPT09IDEgJiYgc3RhcnREb3QgPT09IGVuZCAtIDEgJiYgc3RhcnREb3QgPT09IHN0YXJ0UGFydCArIDEpIHtcbiAgICByZXR1cm4gJyc7XG4gIH1cbiAgcmV0dXJuIHBhdGguc2xpY2Uoc3RhcnREb3QsIGVuZCk7XG59O1xuXG5mdW5jdGlvbiBmaWx0ZXIgKHhzLCBmKSB7XG4gICAgaWYgKHhzLmZpbHRlcikgcmV0dXJuIHhzLmZpbHRlcihmKTtcbiAgICB2YXIgcmVzID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB4cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoZih4c1tpXSwgaSwgeHMpKSByZXMucHVzaCh4c1tpXSk7XG4gICAgfVxuICAgIHJldHVybiByZXM7XG59XG5cbi8vIFN0cmluZy5wcm90b3R5cGUuc3Vic3RyIC0gbmVnYXRpdmUgaW5kZXggZG9uJ3Qgd29yayBpbiBJRThcbnZhciBzdWJzdHIgPSAnYWInLnN1YnN0cigtMSkgPT09ICdiJ1xuICAgID8gZnVuY3Rpb24gKHN0ciwgc3RhcnQsIGxlbikgeyByZXR1cm4gc3RyLnN1YnN0cihzdGFydCwgbGVuKSB9XG4gICAgOiBmdW5jdGlvbiAoc3RyLCBzdGFydCwgbGVuKSB7XG4gICAgICAgIGlmIChzdGFydCA8IDApIHN0YXJ0ID0gc3RyLmxlbmd0aCArIHN0YXJ0O1xuICAgICAgICByZXR1cm4gc3RyLnN1YnN0cihzdGFydCwgbGVuKTtcbiAgICB9XG47XG4iLCIvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuLy8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG4vLyBkb24ndCBicmVhayB0aGluZ3MuICBCdXQgd2UgbmVlZCB0byB3cmFwIGl0IGluIGEgdHJ5IGNhdGNoIGluIGNhc2UgaXQgaXNcbi8vIHdyYXBwZWQgaW4gc3RyaWN0IG1vZGUgY29kZSB3aGljaCBkb2Vzbid0IGRlZmluZSBhbnkgZ2xvYmFscy4gIEl0J3MgaW5zaWRlIGFcbi8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG5cbnZhciBjYWNoZWRTZXRUaW1lb3V0O1xudmFyIGNhY2hlZENsZWFyVGltZW91dDtcblxuZnVuY3Rpb24gZGVmYXVsdFNldFRpbW91dCgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQgKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG4oZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2xlYXJUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgIH1cbn0gKCkpXG5mdW5jdGlvbiBydW5UaW1lb3V0KGZ1bikge1xuICAgIGlmIChjYWNoZWRTZXRUaW1lb3V0ID09PSBzZXRUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICAvLyBpZiBzZXRUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkU2V0VGltZW91dCA9PT0gZGVmYXVsdFNldFRpbW91dCB8fCAhY2FjaGVkU2V0VGltZW91dCkgJiYgc2V0VGltZW91dCkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dChmdW4sIDApO1xuICAgIH0gY2F0Y2goZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZnVuLCAwKTtcbiAgICAgICAgfSBjYXRjaChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yXG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKHRoaXMsIGZ1biwgMCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxufVxuZnVuY3Rpb24gcnVuQ2xlYXJUaW1lb3V0KG1hcmtlcikge1xuICAgIGlmIChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGNsZWFyVGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICAvLyBpZiBjbGVhclRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGRlZmF1bHRDbGVhclRpbWVvdXQgfHwgIWNhY2hlZENsZWFyVGltZW91dCkgJiYgY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCAgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbChudWxsLCBtYXJrZXIpO1xuICAgICAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yLlxuICAgICAgICAgICAgLy8gU29tZSB2ZXJzaW9ucyBvZiBJLkUuIGhhdmUgZGlmZmVyZW50IHJ1bGVzIGZvciBjbGVhclRpbWVvdXQgdnMgc2V0VGltZW91dFxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKHRoaXMsIG1hcmtlcik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG59XG52YXIgcXVldWUgPSBbXTtcbnZhciBkcmFpbmluZyA9IGZhbHNlO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG5cbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgIH1cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgIGRyYWluUXVldWUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpbWVvdXQgPSBydW5UaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuXG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZShsZW4pIHtcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBydW5DbGVhclRpbWVvdXQodGltZW91dCk7XG59XG5cbnByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcbiAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuICAgICAgICBydW5UaW1lb3V0KGRyYWluUXVldWUpO1xuICAgIH1cbn07XG5cbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICAgIHRoaXMuZnVuID0gZnVuO1xuICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbn1cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcbn07XG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcbnByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xucHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxucHJvY2Vzcy5vbiA9IG5vb3A7XG5wcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3Mub25jZSA9IG5vb3A7XG5wcm9jZXNzLm9mZiA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnByb2Nlc3MuZW1pdCA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRPbmNlTGlzdGVuZXIgPSBub29wO1xuXG5wcm9jZXNzLmxpc3RlbmVycyA9IGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBbXSB9XG5cbnByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcbnByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5wcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuIiwidmFyIFNvdXJjZU1hcENvbnN1bWVyID0gcmVxdWlyZSgnc291cmNlLW1hcCcpLlNvdXJjZU1hcENvbnN1bWVyO1xudmFyIHBhdGggPSByZXF1aXJlKCdwYXRoJyk7XG5cbnZhciBmcztcbnRyeSB7XG4gIGZzID0gcmVxdWlyZSgnZnMnKTtcbiAgaWYgKCFmcy5leGlzdHNTeW5jIHx8ICFmcy5yZWFkRmlsZVN5bmMpIHtcbiAgICAvLyBmcyBkb2Vzbid0IGhhdmUgYWxsIG1ldGhvZHMgd2UgbmVlZFxuICAgIGZzID0gbnVsbDtcbiAgfVxufSBjYXRjaCAoZXJyKSB7XG4gIC8qIG5vcCAqL1xufVxuXG52YXIgYnVmZmVyRnJvbSA9IHJlcXVpcmUoJ2J1ZmZlci1mcm9tJyk7XG5cbi8vIE9ubHkgaW5zdGFsbCBvbmNlIGlmIGNhbGxlZCBtdWx0aXBsZSB0aW1lc1xudmFyIGVycm9yRm9ybWF0dGVySW5zdGFsbGVkID0gZmFsc2U7XG52YXIgdW5jYXVnaHRTaGltSW5zdGFsbGVkID0gZmFsc2U7XG5cbi8vIElmIHRydWUsIHRoZSBjYWNoZXMgYXJlIHJlc2V0IGJlZm9yZSBhIHN0YWNrIHRyYWNlIGZvcm1hdHRpbmcgb3BlcmF0aW9uXG52YXIgZW1wdHlDYWNoZUJldHdlZW5PcGVyYXRpb25zID0gZmFsc2U7XG5cbi8vIFN1cHBvcnRzIHticm93c2VyLCBub2RlLCBhdXRvfVxudmFyIGVudmlyb25tZW50ID0gXCJhdXRvXCI7XG5cbi8vIE1hcHMgYSBmaWxlIHBhdGggdG8gYSBzdHJpbmcgY29udGFpbmluZyB0aGUgZmlsZSBjb250ZW50c1xudmFyIGZpbGVDb250ZW50c0NhY2hlID0ge307XG5cbi8vIE1hcHMgYSBmaWxlIHBhdGggdG8gYSBzb3VyY2UgbWFwIGZvciB0aGF0IGZpbGVcbnZhciBzb3VyY2VNYXBDYWNoZSA9IHt9O1xuXG4vLyBSZWdleCBmb3IgZGV0ZWN0aW5nIHNvdXJjZSBtYXBzXG52YXIgcmVTb3VyY2VNYXAgPSAvXmRhdGE6YXBwbGljYXRpb25cXC9qc29uW14sXStiYXNlNjQsLztcblxuLy8gUHJpb3JpdHkgbGlzdCBvZiByZXRyaWV2ZSBoYW5kbGVyc1xudmFyIHJldHJpZXZlRmlsZUhhbmRsZXJzID0gW107XG52YXIgcmV0cmlldmVNYXBIYW5kbGVycyA9IFtdO1xuXG5mdW5jdGlvbiBpc0luQnJvd3NlcigpIHtcbiAgaWYgKGVudmlyb25tZW50ID09PSBcImJyb3dzZXJcIilcbiAgICByZXR1cm4gdHJ1ZTtcbiAgaWYgKGVudmlyb25tZW50ID09PSBcIm5vZGVcIilcbiAgICByZXR1cm4gZmFsc2U7XG4gIHJldHVybiAoKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSAmJiAodHlwZW9mIFhNTEh0dHBSZXF1ZXN0ID09PSAnZnVuY3Rpb24nKSAmJiAhKHdpbmRvdy5yZXF1aXJlICYmIHdpbmRvdy5tb2R1bGUgJiYgd2luZG93LnByb2Nlc3MgJiYgd2luZG93LnByb2Nlc3MudHlwZSA9PT0gXCJyZW5kZXJlclwiKSk7XG59XG5cbmZ1bmN0aW9uIGhhc0dsb2JhbFByb2Nlc3NFdmVudEVtaXR0ZXIoKSB7XG4gIHJldHVybiAoKHR5cGVvZiBwcm9jZXNzID09PSAnb2JqZWN0JykgJiYgKHByb2Nlc3MgIT09IG51bGwpICYmICh0eXBlb2YgcHJvY2Vzcy5vbiA9PT0gJ2Z1bmN0aW9uJykpO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVyRXhlYyhsaXN0KSB7XG4gIHJldHVybiBmdW5jdGlvbihhcmcpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciByZXQgPSBsaXN0W2ldKGFyZyk7XG4gICAgICBpZiAocmV0KSB7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9O1xufVxuXG52YXIgcmV0cmlldmVGaWxlID0gaGFuZGxlckV4ZWMocmV0cmlldmVGaWxlSGFuZGxlcnMpO1xuXG5yZXRyaWV2ZUZpbGVIYW5kbGVycy5wdXNoKGZ1bmN0aW9uKHBhdGgpIHtcbiAgLy8gVHJpbSB0aGUgcGF0aCB0byBtYWtlIHN1cmUgdGhlcmUgaXMgbm8gZXh0cmEgd2hpdGVzcGFjZS5cbiAgcGF0aCA9IHBhdGgudHJpbSgpO1xuICBpZiAoL15maWxlOi8udGVzdChwYXRoKSkge1xuICAgIC8vIGV4aXN0c1N5bmMvcmVhZEZpbGVTeW5jIGNhbid0IGhhbmRsZSBmaWxlIHByb3RvY29sLCBidXQgb25jZSBzdHJpcHBlZCwgaXQgd29ya3NcbiAgICBwYXRoID0gcGF0aC5yZXBsYWNlKC9maWxlOlxcL1xcL1xcLyhcXHc6KT8vLCBmdW5jdGlvbihwcm90b2NvbCwgZHJpdmUpIHtcbiAgICAgIHJldHVybiBkcml2ZSA/XG4gICAgICAgICcnIDogLy8gZmlsZTovLy9DOi9kaXIvZmlsZSAtPiBDOi9kaXIvZmlsZVxuICAgICAgICAnLyc7IC8vIGZpbGU6Ly8vcm9vdC1kaXIvZmlsZSAtPiAvcm9vdC1kaXIvZmlsZVxuICAgIH0pO1xuICB9XG4gIGlmIChwYXRoIGluIGZpbGVDb250ZW50c0NhY2hlKSB7XG4gICAgcmV0dXJuIGZpbGVDb250ZW50c0NhY2hlW3BhdGhdO1xuICB9XG5cbiAgdmFyIGNvbnRlbnRzID0gJyc7XG4gIHRyeSB7XG4gICAgaWYgKCFmcykge1xuICAgICAgLy8gVXNlIFNKQVggaWYgd2UgYXJlIGluIHRoZSBicm93c2VyXG4gICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgICB4aHIub3BlbignR0VUJywgcGF0aCwgLyoqIGFzeW5jICovIGZhbHNlKTtcbiAgICAgIHhoci5zZW5kKG51bGwpO1xuICAgICAgaWYgKHhoci5yZWFkeVN0YXRlID09PSA0ICYmIHhoci5zdGF0dXMgPT09IDIwMCkge1xuICAgICAgICBjb250ZW50cyA9IHhoci5yZXNwb25zZVRleHQ7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChmcy5leGlzdHNTeW5jKHBhdGgpKSB7XG4gICAgICAvLyBPdGhlcndpc2UsIHVzZSB0aGUgZmlsZXN5c3RlbVxuICAgICAgY29udGVudHMgPSBmcy5yZWFkRmlsZVN5bmMocGF0aCwgJ3V0ZjgnKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVyKSB7XG4gICAgLyogaWdub3JlIGFueSBlcnJvcnMgKi9cbiAgfVxuXG4gIHJldHVybiBmaWxlQ29udGVudHNDYWNoZVtwYXRoXSA9IGNvbnRlbnRzO1xufSk7XG5cbi8vIFN1cHBvcnQgVVJMcyByZWxhdGl2ZSB0byBhIGRpcmVjdG9yeSwgYnV0IGJlIGNhcmVmdWwgYWJvdXQgYSBwcm90b2NvbCBwcmVmaXhcbi8vIGluIGNhc2Ugd2UgYXJlIGluIHRoZSBicm93c2VyIChpLmUuIGRpcmVjdG9yaWVzIG1heSBzdGFydCB3aXRoIFwiaHR0cDovL1wiIG9yIFwiZmlsZTovLy9cIilcbmZ1bmN0aW9uIHN1cHBvcnRSZWxhdGl2ZVVSTChmaWxlLCB1cmwpIHtcbiAgaWYgKCFmaWxlKSByZXR1cm4gdXJsO1xuICB2YXIgZGlyID0gcGF0aC5kaXJuYW1lKGZpbGUpO1xuICB2YXIgbWF0Y2ggPSAvXlxcdys6XFwvXFwvW15cXC9dKi8uZXhlYyhkaXIpO1xuICB2YXIgcHJvdG9jb2wgPSBtYXRjaCA/IG1hdGNoWzBdIDogJyc7XG4gIHZhciBzdGFydFBhdGggPSBkaXIuc2xpY2UocHJvdG9jb2wubGVuZ3RoKTtcbiAgaWYgKHByb3RvY29sICYmIC9eXFwvXFx3XFw6Ly50ZXN0KHN0YXJ0UGF0aCkpIHtcbiAgICAvLyBoYW5kbGUgZmlsZTovLy9DOi8gcGF0aHNcbiAgICBwcm90b2NvbCArPSAnLyc7XG4gICAgcmV0dXJuIHByb3RvY29sICsgcGF0aC5yZXNvbHZlKGRpci5zbGljZShwcm90b2NvbC5sZW5ndGgpLCB1cmwpLnJlcGxhY2UoL1xcXFwvZywgJy8nKTtcbiAgfVxuICByZXR1cm4gcHJvdG9jb2wgKyBwYXRoLnJlc29sdmUoZGlyLnNsaWNlKHByb3RvY29sLmxlbmd0aCksIHVybCk7XG59XG5cbmZ1bmN0aW9uIHJldHJpZXZlU291cmNlTWFwVVJMKHNvdXJjZSkge1xuICB2YXIgZmlsZURhdGE7XG5cbiAgaWYgKGlzSW5Ccm93c2VyKCkpIHtcbiAgICAgdHJ5IHtcbiAgICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgICAgeGhyLm9wZW4oJ0dFVCcsIHNvdXJjZSwgZmFsc2UpO1xuICAgICAgIHhoci5zZW5kKG51bGwpO1xuICAgICAgIGZpbGVEYXRhID0geGhyLnJlYWR5U3RhdGUgPT09IDQgPyB4aHIucmVzcG9uc2VUZXh0IDogbnVsbDtcblxuICAgICAgIC8vIFN1cHBvcnQgcHJvdmlkaW5nIGEgc291cmNlTWFwcGluZ1VSTCB2aWEgdGhlIFNvdXJjZU1hcCBoZWFkZXJcbiAgICAgICB2YXIgc291cmNlTWFwSGVhZGVyID0geGhyLmdldFJlc3BvbnNlSGVhZGVyKFwiU291cmNlTWFwXCIpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHhoci5nZXRSZXNwb25zZUhlYWRlcihcIlgtU291cmNlTWFwXCIpO1xuICAgICAgIGlmIChzb3VyY2VNYXBIZWFkZXIpIHtcbiAgICAgICAgIHJldHVybiBzb3VyY2VNYXBIZWFkZXI7XG4gICAgICAgfVxuICAgICB9IGNhdGNoIChlKSB7XG4gICAgIH1cbiAgfVxuXG4gIC8vIEdldCB0aGUgVVJMIG9mIHRoZSBzb3VyY2UgbWFwXG4gIGZpbGVEYXRhID0gcmV0cmlldmVGaWxlKHNvdXJjZSk7XG4gIHZhciByZSA9IC8oPzpcXC9cXC9bQCNdW1xcc10qc291cmNlTWFwcGluZ1VSTD0oW15cXHMnXCJdKylbXFxzXSokKXwoPzpcXC9cXCpbQCNdW1xcc10qc291cmNlTWFwcGluZ1VSTD0oW15cXHMqJ1wiXSspW1xcc10qKD86XFwqXFwvKVtcXHNdKiQpL21nO1xuICAvLyBLZWVwIGV4ZWN1dGluZyB0aGUgc2VhcmNoIHRvIGZpbmQgdGhlICpsYXN0KiBzb3VyY2VNYXBwaW5nVVJMIHRvIGF2b2lkXG4gIC8vIHBpY2tpbmcgdXAgc291cmNlTWFwcGluZ1VSTHMgZnJvbSBjb21tZW50cywgc3RyaW5ncywgZXRjLlxuICB2YXIgbGFzdE1hdGNoLCBtYXRjaDtcbiAgd2hpbGUgKG1hdGNoID0gcmUuZXhlYyhmaWxlRGF0YSkpIGxhc3RNYXRjaCA9IG1hdGNoO1xuICBpZiAoIWxhc3RNYXRjaCkgcmV0dXJuIG51bGw7XG4gIHJldHVybiBsYXN0TWF0Y2hbMV07XG59O1xuXG4vLyBDYW4gYmUgb3ZlcnJpZGRlbiBieSB0aGUgcmV0cmlldmVTb3VyY2VNYXAgb3B0aW9uIHRvIGluc3RhbGwuIFRha2VzIGFcbi8vIGdlbmVyYXRlZCBzb3VyY2UgZmlsZW5hbWU7IHJldHVybnMgYSB7bWFwLCBvcHRpb25hbCB1cmx9IG9iamVjdCwgb3IgbnVsbCBpZlxuLy8gdGhlcmUgaXMgbm8gc291cmNlIG1hcC4gIFRoZSBtYXAgZmllbGQgbWF5IGJlIGVpdGhlciBhIHN0cmluZyBvciB0aGUgcGFyc2VkXG4vLyBKU09OIG9iamVjdCAoaWUsIGl0IG11c3QgYmUgYSB2YWxpZCBhcmd1bWVudCB0byB0aGUgU291cmNlTWFwQ29uc3VtZXJcbi8vIGNvbnN0cnVjdG9yKS5cbnZhciByZXRyaWV2ZVNvdXJjZU1hcCA9IGhhbmRsZXJFeGVjKHJldHJpZXZlTWFwSGFuZGxlcnMpO1xucmV0cmlldmVNYXBIYW5kbGVycy5wdXNoKGZ1bmN0aW9uKHNvdXJjZSkge1xuICB2YXIgc291cmNlTWFwcGluZ1VSTCA9IHJldHJpZXZlU291cmNlTWFwVVJMKHNvdXJjZSk7XG4gIGlmICghc291cmNlTWFwcGluZ1VSTCkgcmV0dXJuIG51bGw7XG5cbiAgLy8gUmVhZCB0aGUgY29udGVudHMgb2YgdGhlIHNvdXJjZSBtYXBcbiAgdmFyIHNvdXJjZU1hcERhdGE7XG4gIGlmIChyZVNvdXJjZU1hcC50ZXN0KHNvdXJjZU1hcHBpbmdVUkwpKSB7XG4gICAgLy8gU3VwcG9ydCBzb3VyY2UgbWFwIFVSTCBhcyBhIGRhdGEgdXJsXG4gICAgdmFyIHJhd0RhdGEgPSBzb3VyY2VNYXBwaW5nVVJMLnNsaWNlKHNvdXJjZU1hcHBpbmdVUkwuaW5kZXhPZignLCcpICsgMSk7XG4gICAgc291cmNlTWFwRGF0YSA9IGJ1ZmZlckZyb20ocmF3RGF0YSwgXCJiYXNlNjRcIikudG9TdHJpbmcoKTtcbiAgICBzb3VyY2VNYXBwaW5nVVJMID0gc291cmNlO1xuICB9IGVsc2Uge1xuICAgIC8vIFN1cHBvcnQgc291cmNlIG1hcCBVUkxzIHJlbGF0aXZlIHRvIHRoZSBzb3VyY2UgVVJMXG4gICAgc291cmNlTWFwcGluZ1VSTCA9IHN1cHBvcnRSZWxhdGl2ZVVSTChzb3VyY2UsIHNvdXJjZU1hcHBpbmdVUkwpO1xuICAgIHNvdXJjZU1hcERhdGEgPSByZXRyaWV2ZUZpbGUoc291cmNlTWFwcGluZ1VSTCk7XG4gIH1cblxuICBpZiAoIXNvdXJjZU1hcERhdGEpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgdXJsOiBzb3VyY2VNYXBwaW5nVVJMLFxuICAgIG1hcDogc291cmNlTWFwRGF0YVxuICB9O1xufSk7XG5cbmZ1bmN0aW9uIG1hcFNvdXJjZVBvc2l0aW9uKHBvc2l0aW9uKSB7XG4gIHZhciBzb3VyY2VNYXAgPSBzb3VyY2VNYXBDYWNoZVtwb3NpdGlvbi5zb3VyY2VdO1xuICBpZiAoIXNvdXJjZU1hcCkge1xuICAgIC8vIENhbGwgdGhlIChvdmVycmlkZWFibGUpIHJldHJpZXZlU291cmNlTWFwIGZ1bmN0aW9uIHRvIGdldCB0aGUgc291cmNlIG1hcC5cbiAgICB2YXIgdXJsQW5kTWFwID0gcmV0cmlldmVTb3VyY2VNYXAocG9zaXRpb24uc291cmNlKTtcbiAgICBpZiAodXJsQW5kTWFwKSB7XG4gICAgICBzb3VyY2VNYXAgPSBzb3VyY2VNYXBDYWNoZVtwb3NpdGlvbi5zb3VyY2VdID0ge1xuICAgICAgICB1cmw6IHVybEFuZE1hcC51cmwsXG4gICAgICAgIG1hcDogbmV3IFNvdXJjZU1hcENvbnN1bWVyKHVybEFuZE1hcC5tYXApXG4gICAgICB9O1xuXG4gICAgICAvLyBMb2FkIGFsbCBzb3VyY2VzIHN0b3JlZCBpbmxpbmUgd2l0aCB0aGUgc291cmNlIG1hcCBpbnRvIHRoZSBmaWxlIGNhY2hlXG4gICAgICAvLyB0byBwcmV0ZW5kIGxpa2UgdGhleSBhcmUgYWxyZWFkeSBsb2FkZWQuIFRoZXkgbWF5IG5vdCBleGlzdCBvbiBkaXNrLlxuICAgICAgaWYgKHNvdXJjZU1hcC5tYXAuc291cmNlc0NvbnRlbnQpIHtcbiAgICAgICAgc291cmNlTWFwLm1hcC5zb3VyY2VzLmZvckVhY2goZnVuY3Rpb24oc291cmNlLCBpKSB7XG4gICAgICAgICAgdmFyIGNvbnRlbnRzID0gc291cmNlTWFwLm1hcC5zb3VyY2VzQ29udGVudFtpXTtcbiAgICAgICAgICBpZiAoY29udGVudHMpIHtcbiAgICAgICAgICAgIHZhciB1cmwgPSBzdXBwb3J0UmVsYXRpdmVVUkwoc291cmNlTWFwLnVybCwgc291cmNlKTtcbiAgICAgICAgICAgIGZpbGVDb250ZW50c0NhY2hlW3VybF0gPSBjb250ZW50cztcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzb3VyY2VNYXAgPSBzb3VyY2VNYXBDYWNoZVtwb3NpdGlvbi5zb3VyY2VdID0ge1xuICAgICAgICB1cmw6IG51bGwsXG4gICAgICAgIG1hcDogbnVsbFxuICAgICAgfTtcbiAgICB9XG4gIH1cblxuICAvLyBSZXNvbHZlIHRoZSBzb3VyY2UgVVJMIHJlbGF0aXZlIHRvIHRoZSBVUkwgb2YgdGhlIHNvdXJjZSBtYXBcbiAgaWYgKHNvdXJjZU1hcCAmJiBzb3VyY2VNYXAubWFwICYmIHR5cGVvZiBzb3VyY2VNYXAubWFwLm9yaWdpbmFsUG9zaXRpb25Gb3IgPT09ICdmdW5jdGlvbicpIHtcbiAgICB2YXIgb3JpZ2luYWxQb3NpdGlvbiA9IHNvdXJjZU1hcC5tYXAub3JpZ2luYWxQb3NpdGlvbkZvcihwb3NpdGlvbik7XG5cbiAgICAvLyBPbmx5IHJldHVybiB0aGUgb3JpZ2luYWwgcG9zaXRpb24gaWYgYSBtYXRjaGluZyBsaW5lIHdhcyBmb3VuZC4gSWYgbm9cbiAgICAvLyBtYXRjaGluZyBsaW5lIGlzIGZvdW5kIHRoZW4gd2UgcmV0dXJuIHBvc2l0aW9uIGluc3RlYWQsIHdoaWNoIHdpbGwgY2F1c2VcbiAgICAvLyB0aGUgc3RhY2sgdHJhY2UgdG8gcHJpbnQgdGhlIHBhdGggYW5kIGxpbmUgZm9yIHRoZSBjb21waWxlZCBmaWxlLiBJdCBpc1xuICAgIC8vIGJldHRlciB0byBnaXZlIGEgcHJlY2lzZSBsb2NhdGlvbiBpbiB0aGUgY29tcGlsZWQgZmlsZSB0aGFuIGEgdmFndWVcbiAgICAvLyBsb2NhdGlvbiBpbiB0aGUgb3JpZ2luYWwgZmlsZS5cbiAgICBpZiAob3JpZ2luYWxQb3NpdGlvbi5zb3VyY2UgIT09IG51bGwpIHtcbiAgICAgIG9yaWdpbmFsUG9zaXRpb24uc291cmNlID0gc3VwcG9ydFJlbGF0aXZlVVJMKFxuICAgICAgICBzb3VyY2VNYXAudXJsLCBvcmlnaW5hbFBvc2l0aW9uLnNvdXJjZSk7XG4gICAgICByZXR1cm4gb3JpZ2luYWxQb3NpdGlvbjtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcG9zaXRpb247XG59XG5cbi8vIFBhcnNlcyBjb2RlIGdlbmVyYXRlZCBieSBGb3JtYXRFdmFsT3JpZ2luKCksIGEgZnVuY3Rpb24gaW5zaWRlIFY4OlxuLy8gaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC92OC9zb3VyY2UvYnJvd3NlL3RydW5rL3NyYy9tZXNzYWdlcy5qc1xuZnVuY3Rpb24gbWFwRXZhbE9yaWdpbihvcmlnaW4pIHtcbiAgLy8gTW9zdCBldmFsKCkgY2FsbHMgYXJlIGluIHRoaXMgZm9ybWF0XG4gIHZhciBtYXRjaCA9IC9eZXZhbCBhdCAoW14oXSspIFxcKCguKyk6KFxcZCspOihcXGQrKVxcKSQvLmV4ZWMob3JpZ2luKTtcbiAgaWYgKG1hdGNoKSB7XG4gICAgdmFyIHBvc2l0aW9uID0gbWFwU291cmNlUG9zaXRpb24oe1xuICAgICAgc291cmNlOiBtYXRjaFsyXSxcbiAgICAgIGxpbmU6ICttYXRjaFszXSxcbiAgICAgIGNvbHVtbjogbWF0Y2hbNF0gLSAxXG4gICAgfSk7XG4gICAgcmV0dXJuICdldmFsIGF0ICcgKyBtYXRjaFsxXSArICcgKCcgKyBwb3NpdGlvbi5zb3VyY2UgKyAnOicgK1xuICAgICAgcG9zaXRpb24ubGluZSArICc6JyArIChwb3NpdGlvbi5jb2x1bW4gKyAxKSArICcpJztcbiAgfVxuXG4gIC8vIFBhcnNlIG5lc3RlZCBldmFsKCkgY2FsbHMgdXNpbmcgcmVjdXJzaW9uXG4gIG1hdGNoID0gL15ldmFsIGF0IChbXihdKykgXFwoKC4rKVxcKSQvLmV4ZWMob3JpZ2luKTtcbiAgaWYgKG1hdGNoKSB7XG4gICAgcmV0dXJuICdldmFsIGF0ICcgKyBtYXRjaFsxXSArICcgKCcgKyBtYXBFdmFsT3JpZ2luKG1hdGNoWzJdKSArICcpJztcbiAgfVxuXG4gIC8vIE1ha2Ugc3VyZSB3ZSBzdGlsbCByZXR1cm4gdXNlZnVsIGluZm9ybWF0aW9uIGlmIHdlIGRpZG4ndCBmaW5kIGFueXRoaW5nXG4gIHJldHVybiBvcmlnaW47XG59XG5cbi8vIFRoaXMgaXMgY29waWVkIGFsbW9zdCB2ZXJiYXRpbSBmcm9tIHRoZSBWOCBzb3VyY2UgY29kZSBhdFxuLy8gaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC92OC9zb3VyY2UvYnJvd3NlL3RydW5rL3NyYy9tZXNzYWdlcy5qcy4gVGhlXG4vLyBpbXBsZW1lbnRhdGlvbiBvZiB3cmFwQ2FsbFNpdGUoKSB1c2VkIHRvIGp1c3QgZm9yd2FyZCB0byB0aGUgYWN0dWFsIHNvdXJjZVxuLy8gY29kZSBvZiBDYWxsU2l0ZS5wcm90b3R5cGUudG9TdHJpbmcgYnV0IHVuZm9ydHVuYXRlbHkgYSBuZXcgcmVsZWFzZSBvZiBWOFxuLy8gZGlkIHNvbWV0aGluZyB0byB0aGUgcHJvdG90eXBlIGNoYWluIGFuZCBicm9rZSB0aGUgc2hpbS4gVGhlIG9ubHkgZml4IElcbi8vIGNvdWxkIGZpbmQgd2FzIGNvcHkvcGFzdGUuXG5mdW5jdGlvbiBDYWxsU2l0ZVRvU3RyaW5nKCkge1xuICB2YXIgZmlsZU5hbWU7XG4gIHZhciBmaWxlTG9jYXRpb24gPSBcIlwiO1xuICBpZiAodGhpcy5pc05hdGl2ZSgpKSB7XG4gICAgZmlsZUxvY2F0aW9uID0gXCJuYXRpdmVcIjtcbiAgfSBlbHNlIHtcbiAgICBmaWxlTmFtZSA9IHRoaXMuZ2V0U2NyaXB0TmFtZU9yU291cmNlVVJMKCk7XG4gICAgaWYgKCFmaWxlTmFtZSAmJiB0aGlzLmlzRXZhbCgpKSB7XG4gICAgICBmaWxlTG9jYXRpb24gPSB0aGlzLmdldEV2YWxPcmlnaW4oKTtcbiAgICAgIGZpbGVMb2NhdGlvbiArPSBcIiwgXCI7ICAvLyBFeHBlY3Rpbmcgc291cmNlIHBvc2l0aW9uIHRvIGZvbGxvdy5cbiAgICB9XG5cbiAgICBpZiAoZmlsZU5hbWUpIHtcbiAgICAgIGZpbGVMb2NhdGlvbiArPSBmaWxlTmFtZTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gU291cmNlIGNvZGUgZG9lcyBub3Qgb3JpZ2luYXRlIGZyb20gYSBmaWxlIGFuZCBpcyBub3QgbmF0aXZlLCBidXQgd2VcbiAgICAgIC8vIGNhbiBzdGlsbCBnZXQgdGhlIHNvdXJjZSBwb3NpdGlvbiBpbnNpZGUgdGhlIHNvdXJjZSBzdHJpbmcsIGUuZy4gaW5cbiAgICAgIC8vIGFuIGV2YWwgc3RyaW5nLlxuICAgICAgZmlsZUxvY2F0aW9uICs9IFwiPGFub255bW91cz5cIjtcbiAgICB9XG4gICAgdmFyIGxpbmVOdW1iZXIgPSB0aGlzLmdldExpbmVOdW1iZXIoKTtcbiAgICBpZiAobGluZU51bWJlciAhPSBudWxsKSB7XG4gICAgICBmaWxlTG9jYXRpb24gKz0gXCI6XCIgKyBsaW5lTnVtYmVyO1xuICAgICAgdmFyIGNvbHVtbk51bWJlciA9IHRoaXMuZ2V0Q29sdW1uTnVtYmVyKCk7XG4gICAgICBpZiAoY29sdW1uTnVtYmVyKSB7XG4gICAgICAgIGZpbGVMb2NhdGlvbiArPSBcIjpcIiArIGNvbHVtbk51bWJlcjtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICB2YXIgbGluZSA9IFwiXCI7XG4gIHZhciBmdW5jdGlvbk5hbWUgPSB0aGlzLmdldEZ1bmN0aW9uTmFtZSgpO1xuICB2YXIgYWRkU3VmZml4ID0gdHJ1ZTtcbiAgdmFyIGlzQ29uc3RydWN0b3IgPSB0aGlzLmlzQ29uc3RydWN0b3IoKTtcbiAgdmFyIGlzTWV0aG9kQ2FsbCA9ICEodGhpcy5pc1RvcGxldmVsKCkgfHwgaXNDb25zdHJ1Y3Rvcik7XG4gIGlmIChpc01ldGhvZENhbGwpIHtcbiAgICB2YXIgdHlwZU5hbWUgPSB0aGlzLmdldFR5cGVOYW1lKCk7XG4gICAgLy8gRml4ZXMgc2hpbSB0byBiZSBiYWNrd2FyZCBjb21wYXRhYmxlIHdpdGggTm9kZSB2MCB0byB2NFxuICAgIGlmICh0eXBlTmFtZSA9PT0gXCJbb2JqZWN0IE9iamVjdF1cIikge1xuICAgICAgdHlwZU5hbWUgPSBcIm51bGxcIjtcbiAgICB9XG4gICAgdmFyIG1ldGhvZE5hbWUgPSB0aGlzLmdldE1ldGhvZE5hbWUoKTtcbiAgICBpZiAoZnVuY3Rpb25OYW1lKSB7XG4gICAgICBpZiAodHlwZU5hbWUgJiYgZnVuY3Rpb25OYW1lLmluZGV4T2YodHlwZU5hbWUpICE9IDApIHtcbiAgICAgICAgbGluZSArPSB0eXBlTmFtZSArIFwiLlwiO1xuICAgICAgfVxuICAgICAgbGluZSArPSBmdW5jdGlvbk5hbWU7XG4gICAgICBpZiAobWV0aG9kTmFtZSAmJiBmdW5jdGlvbk5hbWUuaW5kZXhPZihcIi5cIiArIG1ldGhvZE5hbWUpICE9IGZ1bmN0aW9uTmFtZS5sZW5ndGggLSBtZXRob2ROYW1lLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgbGluZSArPSBcIiBbYXMgXCIgKyBtZXRob2ROYW1lICsgXCJdXCI7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGxpbmUgKz0gdHlwZU5hbWUgKyBcIi5cIiArIChtZXRob2ROYW1lIHx8IFwiPGFub255bW91cz5cIik7XG4gICAgfVxuICB9IGVsc2UgaWYgKGlzQ29uc3RydWN0b3IpIHtcbiAgICBsaW5lICs9IFwibmV3IFwiICsgKGZ1bmN0aW9uTmFtZSB8fCBcIjxhbm9ueW1vdXM+XCIpO1xuICB9IGVsc2UgaWYgKGZ1bmN0aW9uTmFtZSkge1xuICAgIGxpbmUgKz0gZnVuY3Rpb25OYW1lO1xuICB9IGVsc2Uge1xuICAgIGxpbmUgKz0gZmlsZUxvY2F0aW9uO1xuICAgIGFkZFN1ZmZpeCA9IGZhbHNlO1xuICB9XG4gIGlmIChhZGRTdWZmaXgpIHtcbiAgICBsaW5lICs9IFwiIChcIiArIGZpbGVMb2NhdGlvbiArIFwiKVwiO1xuICB9XG4gIHJldHVybiBsaW5lO1xufVxuXG5mdW5jdGlvbiBjbG9uZUNhbGxTaXRlKGZyYW1lKSB7XG4gIHZhciBvYmplY3QgPSB7fTtcbiAgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoT2JqZWN0LmdldFByb3RvdHlwZU9mKGZyYW1lKSkuZm9yRWFjaChmdW5jdGlvbihuYW1lKSB7XG4gICAgb2JqZWN0W25hbWVdID0gL14oPzppc3xnZXQpLy50ZXN0KG5hbWUpID8gZnVuY3Rpb24oKSB7IHJldHVybiBmcmFtZVtuYW1lXS5jYWxsKGZyYW1lKTsgfSA6IGZyYW1lW25hbWVdO1xuICB9KTtcbiAgb2JqZWN0LnRvU3RyaW5nID0gQ2FsbFNpdGVUb1N0cmluZztcbiAgcmV0dXJuIG9iamVjdDtcbn1cblxuZnVuY3Rpb24gd3JhcENhbGxTaXRlKGZyYW1lLCBzdGF0ZSkge1xuICAvLyBwcm92aWRlcyBpbnRlcmZhY2UgYmFja3dhcmQgY29tcGF0aWJpbGl0eVxuICBpZiAoc3RhdGUgPT09IHVuZGVmaW5lZCkge1xuICAgIHN0YXRlID0geyBuZXh0UG9zaXRpb246IG51bGwsIGN1clBvc2l0aW9uOiBudWxsIH1cbiAgfVxuICBpZihmcmFtZS5pc05hdGl2ZSgpKSB7XG4gICAgc3RhdGUuY3VyUG9zaXRpb24gPSBudWxsO1xuICAgIHJldHVybiBmcmFtZTtcbiAgfVxuXG4gIC8vIE1vc3QgY2FsbCBzaXRlcyB3aWxsIHJldHVybiB0aGUgc291cmNlIGZpbGUgZnJvbSBnZXRGaWxlTmFtZSgpLCBidXQgY29kZVxuICAvLyBwYXNzZWQgdG8gZXZhbCgpIGVuZGluZyBpbiBcIi8vIyBzb3VyY2VVUkw9Li4uXCIgd2lsbCByZXR1cm4gdGhlIHNvdXJjZSBmaWxlXG4gIC8vIGZyb20gZ2V0U2NyaXB0TmFtZU9yU291cmNlVVJMKCkgaW5zdGVhZFxuICB2YXIgc291cmNlID0gZnJhbWUuZ2V0RmlsZU5hbWUoKSB8fCBmcmFtZS5nZXRTY3JpcHROYW1lT3JTb3VyY2VVUkwoKTtcbiAgaWYgKHNvdXJjZSkge1xuICAgIHZhciBsaW5lID0gZnJhbWUuZ2V0TGluZU51bWJlcigpO1xuICAgIHZhciBjb2x1bW4gPSBmcmFtZS5nZXRDb2x1bW5OdW1iZXIoKSAtIDE7XG5cbiAgICAvLyBGaXggcG9zaXRpb24gaW4gTm9kZSB3aGVyZSBzb21lIChpbnRlcm5hbCkgY29kZSBpcyBwcmVwZW5kZWQuXG4gICAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9ldmFudy9ub2RlLXNvdXJjZS1tYXAtc3VwcG9ydC9pc3N1ZXMvMzZcbiAgICAvLyBIZWFkZXIgcmVtb3ZlZCBpbiBub2RlIGF0IF4xMC4xNiB8fCA+PTExLjExLjBcbiAgICAvLyB2MTEgaXMgbm90IGFuIExUUyBjYW5kaWRhdGUsIHdlIGNhbiBqdXN0IHRlc3QgdGhlIG9uZSB2ZXJzaW9uIHdpdGggaXQuXG4gICAgLy8gVGVzdCBub2RlIHZlcnNpb25zIGZvcjogMTAuMTYtMTksIDEwLjIwKywgMTItMTksIDIwLTk5LCAxMDArLCBvciAxMS4xMVxuICAgIHZhciBub0hlYWRlciA9IC9edigxMFxcLjFbNi05XXwxMFxcLlsyLTldWzAtOV18MTBcXC5bMC05XXszLH18MVsyLTldXFxkKnxbMi05XVxcZHxcXGR7Myx9fDExXFwuMTEpLztcbiAgICB2YXIgaGVhZGVyTGVuZ3RoID0gbm9IZWFkZXIudGVzdChwcm9jZXNzLnZlcnNpb24pID8gMCA6IDYyO1xuICAgIGlmIChsaW5lID09PSAxICYmIGNvbHVtbiA+IGhlYWRlckxlbmd0aCAmJiAhaXNJbkJyb3dzZXIoKSAmJiAhZnJhbWUuaXNFdmFsKCkpIHtcbiAgICAgIGNvbHVtbiAtPSBoZWFkZXJMZW5ndGg7XG4gICAgfVxuXG4gICAgdmFyIHBvc2l0aW9uID0gbWFwU291cmNlUG9zaXRpb24oe1xuICAgICAgc291cmNlOiBzb3VyY2UsXG4gICAgICBsaW5lOiBsaW5lLFxuICAgICAgY29sdW1uOiBjb2x1bW5cbiAgICB9KTtcbiAgICBzdGF0ZS5jdXJQb3NpdGlvbiA9IHBvc2l0aW9uO1xuICAgIGZyYW1lID0gY2xvbmVDYWxsU2l0ZShmcmFtZSk7XG4gICAgdmFyIG9yaWdpbmFsRnVuY3Rpb25OYW1lID0gZnJhbWUuZ2V0RnVuY3Rpb25OYW1lO1xuICAgIGZyYW1lLmdldEZ1bmN0aW9uTmFtZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHN0YXRlLm5leHRQb3NpdGlvbiA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBvcmlnaW5hbEZ1bmN0aW9uTmFtZSgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHN0YXRlLm5leHRQb3NpdGlvbi5uYW1lIHx8IG9yaWdpbmFsRnVuY3Rpb25OYW1lKCk7XG4gICAgfTtcbiAgICBmcmFtZS5nZXRGaWxlTmFtZSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gcG9zaXRpb24uc291cmNlOyB9O1xuICAgIGZyYW1lLmdldExpbmVOdW1iZXIgPSBmdW5jdGlvbigpIHsgcmV0dXJuIHBvc2l0aW9uLmxpbmU7IH07XG4gICAgZnJhbWUuZ2V0Q29sdW1uTnVtYmVyID0gZnVuY3Rpb24oKSB7IHJldHVybiBwb3NpdGlvbi5jb2x1bW4gKyAxOyB9O1xuICAgIGZyYW1lLmdldFNjcmlwdE5hbWVPclNvdXJjZVVSTCA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gcG9zaXRpb24uc291cmNlOyB9O1xuICAgIHJldHVybiBmcmFtZTtcbiAgfVxuXG4gIC8vIENvZGUgY2FsbGVkIHVzaW5nIGV2YWwoKSBuZWVkcyBzcGVjaWFsIGhhbmRsaW5nXG4gIHZhciBvcmlnaW4gPSBmcmFtZS5pc0V2YWwoKSAmJiBmcmFtZS5nZXRFdmFsT3JpZ2luKCk7XG4gIGlmIChvcmlnaW4pIHtcbiAgICBvcmlnaW4gPSBtYXBFdmFsT3JpZ2luKG9yaWdpbik7XG4gICAgZnJhbWUgPSBjbG9uZUNhbGxTaXRlKGZyYW1lKTtcbiAgICBmcmFtZS5nZXRFdmFsT3JpZ2luID0gZnVuY3Rpb24oKSB7IHJldHVybiBvcmlnaW47IH07XG4gICAgcmV0dXJuIGZyYW1lO1xuICB9XG5cbiAgLy8gSWYgd2UgZ2V0IGhlcmUgdGhlbiB3ZSB3ZXJlIHVuYWJsZSB0byBjaGFuZ2UgdGhlIHNvdXJjZSBwb3NpdGlvblxuICByZXR1cm4gZnJhbWU7XG59XG5cbi8vIFRoaXMgZnVuY3Rpb24gaXMgcGFydCBvZiB0aGUgVjggc3RhY2sgdHJhY2UgQVBJLCBmb3IgbW9yZSBpbmZvIHNlZTpcbi8vIGh0dHBzOi8vdjguZGV2L2RvY3Mvc3RhY2stdHJhY2UtYXBpXG5mdW5jdGlvbiBwcmVwYXJlU3RhY2tUcmFjZShlcnJvciwgc3RhY2spIHtcbiAgaWYgKGVtcHR5Q2FjaGVCZXR3ZWVuT3BlcmF0aW9ucykge1xuICAgIGZpbGVDb250ZW50c0NhY2hlID0ge307XG4gICAgc291cmNlTWFwQ2FjaGUgPSB7fTtcbiAgfVxuXG4gIHZhciBuYW1lID0gZXJyb3IubmFtZSB8fCAnRXJyb3InO1xuICB2YXIgbWVzc2FnZSA9IGVycm9yLm1lc3NhZ2UgfHwgJyc7XG4gIHZhciBlcnJvclN0cmluZyA9IG5hbWUgKyBcIjogXCIgKyBtZXNzYWdlO1xuXG4gIHZhciBzdGF0ZSA9IHsgbmV4dFBvc2l0aW9uOiBudWxsLCBjdXJQb3NpdGlvbjogbnVsbCB9O1xuICB2YXIgcHJvY2Vzc2VkU3RhY2sgPSBbXTtcbiAgZm9yICh2YXIgaSA9IHN0YWNrLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgcHJvY2Vzc2VkU3RhY2sucHVzaCgnXFxuICAgIGF0ICcgKyB3cmFwQ2FsbFNpdGUoc3RhY2tbaV0sIHN0YXRlKSk7XG4gICAgc3RhdGUubmV4dFBvc2l0aW9uID0gc3RhdGUuY3VyUG9zaXRpb247XG4gIH1cbiAgc3RhdGUuY3VyUG9zaXRpb24gPSBzdGF0ZS5uZXh0UG9zaXRpb24gPSBudWxsO1xuICByZXR1cm4gZXJyb3JTdHJpbmcgKyBwcm9jZXNzZWRTdGFjay5yZXZlcnNlKCkuam9pbignJyk7XG59XG5cbi8vIEdlbmVyYXRlIHBvc2l0aW9uIGFuZCBzbmlwcGV0IG9mIG9yaWdpbmFsIHNvdXJjZSB3aXRoIHBvaW50ZXJcbmZ1bmN0aW9uIGdldEVycm9yU291cmNlKGVycm9yKSB7XG4gIHZhciBtYXRjaCA9IC9cXG4gICAgYXQgW14oXSsgXFwoKC4qKTooXFxkKyk6KFxcZCspXFwpLy5leGVjKGVycm9yLnN0YWNrKTtcbiAgaWYgKG1hdGNoKSB7XG4gICAgdmFyIHNvdXJjZSA9IG1hdGNoWzFdO1xuICAgIHZhciBsaW5lID0gK21hdGNoWzJdO1xuICAgIHZhciBjb2x1bW4gPSArbWF0Y2hbM107XG5cbiAgICAvLyBTdXBwb3J0IHRoZSBpbmxpbmUgc291cmNlQ29udGVudHMgaW5zaWRlIHRoZSBzb3VyY2UgbWFwXG4gICAgdmFyIGNvbnRlbnRzID0gZmlsZUNvbnRlbnRzQ2FjaGVbc291cmNlXTtcblxuICAgIC8vIFN1cHBvcnQgZmlsZXMgb24gZGlza1xuICAgIGlmICghY29udGVudHMgJiYgZnMgJiYgZnMuZXhpc3RzU3luYyhzb3VyY2UpKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb250ZW50cyA9IGZzLnJlYWRGaWxlU3luYyhzb3VyY2UsICd1dGY4Jyk7XG4gICAgICB9IGNhdGNoIChlcikge1xuICAgICAgICBjb250ZW50cyA9ICcnO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEZvcm1hdCB0aGUgbGluZSBmcm9tIHRoZSBvcmlnaW5hbCBzb3VyY2UgY29kZSBsaWtlIG5vZGUgZG9lc1xuICAgIGlmIChjb250ZW50cykge1xuICAgICAgdmFyIGNvZGUgPSBjb250ZW50cy5zcGxpdCgvKD86XFxyXFxufFxccnxcXG4pLylbbGluZSAtIDFdO1xuICAgICAgaWYgKGNvZGUpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZSArICc6JyArIGxpbmUgKyAnXFxuJyArIGNvZGUgKyAnXFxuJyArXG4gICAgICAgICAgbmV3IEFycmF5KGNvbHVtbikuam9pbignICcpICsgJ14nO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuZnVuY3Rpb24gcHJpbnRFcnJvckFuZEV4aXQgKGVycm9yKSB7XG4gIHZhciBzb3VyY2UgPSBnZXRFcnJvclNvdXJjZShlcnJvcik7XG5cbiAgLy8gRW5zdXJlIGVycm9yIGlzIHByaW50ZWQgc3luY2hyb25vdXNseSBhbmQgbm90IHRydW5jYXRlZFxuICBpZiAocHJvY2Vzcy5zdGRlcnIuX2hhbmRsZSAmJiBwcm9jZXNzLnN0ZGVyci5faGFuZGxlLnNldEJsb2NraW5nKSB7XG4gICAgcHJvY2Vzcy5zdGRlcnIuX2hhbmRsZS5zZXRCbG9ja2luZyh0cnVlKTtcbiAgfVxuXG4gIGlmIChzb3VyY2UpIHtcbiAgICBjb25zb2xlLmVycm9yKCk7XG4gICAgY29uc29sZS5lcnJvcihzb3VyY2UpO1xuICB9XG5cbiAgY29uc29sZS5lcnJvcihlcnJvci5zdGFjayk7XG4gIHByb2Nlc3MuZXhpdCgxKTtcbn1cblxuZnVuY3Rpb24gc2hpbUVtaXRVbmNhdWdodEV4Y2VwdGlvbiAoKSB7XG4gIHZhciBvcmlnRW1pdCA9IHByb2Nlc3MuZW1pdDtcblxuICBwcm9jZXNzLmVtaXQgPSBmdW5jdGlvbiAodHlwZSkge1xuICAgIGlmICh0eXBlID09PSAndW5jYXVnaHRFeGNlcHRpb24nKSB7XG4gICAgICB2YXIgaGFzU3RhY2sgPSAoYXJndW1lbnRzWzFdICYmIGFyZ3VtZW50c1sxXS5zdGFjayk7XG4gICAgICB2YXIgaGFzTGlzdGVuZXJzID0gKHRoaXMubGlzdGVuZXJzKHR5cGUpLmxlbmd0aCA+IDApO1xuXG4gICAgICBpZiAoaGFzU3RhY2sgJiYgIWhhc0xpc3RlbmVycykge1xuICAgICAgICByZXR1cm4gcHJpbnRFcnJvckFuZEV4aXQoYXJndW1lbnRzWzFdKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gb3JpZ0VtaXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfTtcbn1cblxudmFyIG9yaWdpbmFsUmV0cmlldmVGaWxlSGFuZGxlcnMgPSByZXRyaWV2ZUZpbGVIYW5kbGVycy5zbGljZSgwKTtcbnZhciBvcmlnaW5hbFJldHJpZXZlTWFwSGFuZGxlcnMgPSByZXRyaWV2ZU1hcEhhbmRsZXJzLnNsaWNlKDApO1xuXG5leHBvcnRzLndyYXBDYWxsU2l0ZSA9IHdyYXBDYWxsU2l0ZTtcbmV4cG9ydHMuZ2V0RXJyb3JTb3VyY2UgPSBnZXRFcnJvclNvdXJjZTtcbmV4cG9ydHMubWFwU291cmNlUG9zaXRpb24gPSBtYXBTb3VyY2VQb3NpdGlvbjtcbmV4cG9ydHMucmV0cmlldmVTb3VyY2VNYXAgPSByZXRyaWV2ZVNvdXJjZU1hcDtcblxuZXhwb3J0cy5pbnN0YWxsID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICBpZiAob3B0aW9ucy5lbnZpcm9ubWVudCkge1xuICAgIGVudmlyb25tZW50ID0gb3B0aW9ucy5lbnZpcm9ubWVudDtcbiAgICBpZiAoW1wibm9kZVwiLCBcImJyb3dzZXJcIiwgXCJhdXRvXCJdLmluZGV4T2YoZW52aXJvbm1lbnQpID09PSAtMSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiZW52aXJvbm1lbnQgXCIgKyBlbnZpcm9ubWVudCArIFwiIHdhcyB1bmtub3duLiBBdmFpbGFibGUgb3B0aW9ucyBhcmUge2F1dG8sIGJyb3dzZXIsIG5vZGV9XCIpXG4gICAgfVxuICB9XG5cbiAgLy8gQWxsb3cgc291cmNlcyB0byBiZSBmb3VuZCBieSBtZXRob2RzIG90aGVyIHRoYW4gcmVhZGluZyB0aGUgZmlsZXNcbiAgLy8gZGlyZWN0bHkgZnJvbSBkaXNrLlxuICBpZiAob3B0aW9ucy5yZXRyaWV2ZUZpbGUpIHtcbiAgICBpZiAob3B0aW9ucy5vdmVycmlkZVJldHJpZXZlRmlsZSkge1xuICAgICAgcmV0cmlldmVGaWxlSGFuZGxlcnMubGVuZ3RoID0gMDtcbiAgICB9XG5cbiAgICByZXRyaWV2ZUZpbGVIYW5kbGVycy51bnNoaWZ0KG9wdGlvbnMucmV0cmlldmVGaWxlKTtcbiAgfVxuXG4gIC8vIEFsbG93IHNvdXJjZSBtYXBzIHRvIGJlIGZvdW5kIGJ5IG1ldGhvZHMgb3RoZXIgdGhhbiByZWFkaW5nIHRoZSBmaWxlc1xuICAvLyBkaXJlY3RseSBmcm9tIGRpc2suXG4gIGlmIChvcHRpb25zLnJldHJpZXZlU291cmNlTWFwKSB7XG4gICAgaWYgKG9wdGlvbnMub3ZlcnJpZGVSZXRyaWV2ZVNvdXJjZU1hcCkge1xuICAgICAgcmV0cmlldmVNYXBIYW5kbGVycy5sZW5ndGggPSAwO1xuICAgIH1cblxuICAgIHJldHJpZXZlTWFwSGFuZGxlcnMudW5zaGlmdChvcHRpb25zLnJldHJpZXZlU291cmNlTWFwKTtcbiAgfVxuXG4gIC8vIFN1cHBvcnQgcnVudGltZSB0cmFuc3BpbGVycyB0aGF0IGluY2x1ZGUgaW5saW5lIHNvdXJjZSBtYXBzXG4gIGlmIChvcHRpb25zLmhvb2tSZXF1aXJlICYmICFpc0luQnJvd3NlcigpKSB7XG4gICAgdmFyIE1vZHVsZTtcbiAgICB0cnkge1xuICAgICAgTW9kdWxlID0gcmVxdWlyZSgnbW9kdWxlJyk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAvLyBOT1A6IExvYWRpbmcgaW4gY2F0Y2ggYmxvY2sgdG8gY29udmVydCB3ZWJwYWNrIGVycm9yIHRvIHdhcm5pbmcuXG4gICAgfVxuICAgIHZhciAkY29tcGlsZSA9IE1vZHVsZS5wcm90b3R5cGUuX2NvbXBpbGU7XG5cbiAgICBpZiAoISRjb21waWxlLl9fc291cmNlTWFwU3VwcG9ydCkge1xuICAgICAgTW9kdWxlLnByb3RvdHlwZS5fY29tcGlsZSA9IGZ1bmN0aW9uKGNvbnRlbnQsIGZpbGVuYW1lKSB7XG4gICAgICAgIGZpbGVDb250ZW50c0NhY2hlW2ZpbGVuYW1lXSA9IGNvbnRlbnQ7XG4gICAgICAgIHNvdXJjZU1hcENhY2hlW2ZpbGVuYW1lXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgcmV0dXJuICRjb21waWxlLmNhbGwodGhpcywgY29udGVudCwgZmlsZW5hbWUpO1xuICAgICAgfTtcblxuICAgICAgTW9kdWxlLnByb3RvdHlwZS5fY29tcGlsZS5fX3NvdXJjZU1hcFN1cHBvcnQgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIC8vIENvbmZpZ3VyZSBvcHRpb25zXG4gIGlmICghZW1wdHlDYWNoZUJldHdlZW5PcGVyYXRpb25zKSB7XG4gICAgZW1wdHlDYWNoZUJldHdlZW5PcGVyYXRpb25zID0gJ2VtcHR5Q2FjaGVCZXR3ZWVuT3BlcmF0aW9ucycgaW4gb3B0aW9ucyA/XG4gICAgICBvcHRpb25zLmVtcHR5Q2FjaGVCZXR3ZWVuT3BlcmF0aW9ucyA6IGZhbHNlO1xuICB9XG5cbiAgLy8gSW5zdGFsbCB0aGUgZXJyb3IgcmVmb3JtYXR0ZXJcbiAgaWYgKCFlcnJvckZvcm1hdHRlckluc3RhbGxlZCkge1xuICAgIGVycm9yRm9ybWF0dGVySW5zdGFsbGVkID0gdHJ1ZTtcbiAgICBFcnJvci5wcmVwYXJlU3RhY2tUcmFjZSA9IHByZXBhcmVTdGFja1RyYWNlO1xuICB9XG5cbiAgaWYgKCF1bmNhdWdodFNoaW1JbnN0YWxsZWQpIHtcbiAgICB2YXIgaW5zdGFsbEhhbmRsZXIgPSAnaGFuZGxlVW5jYXVnaHRFeGNlcHRpb25zJyBpbiBvcHRpb25zID9cbiAgICAgIG9wdGlvbnMuaGFuZGxlVW5jYXVnaHRFeGNlcHRpb25zIDogdHJ1ZTtcblxuICAgIC8vIFByb3ZpZGUgdGhlIG9wdGlvbiB0byBub3QgaW5zdGFsbCB0aGUgdW5jYXVnaHQgZXhjZXB0aW9uIGhhbmRsZXIuIFRoaXMgaXNcbiAgICAvLyB0byBzdXBwb3J0IG90aGVyIHVuY2F1Z2h0IGV4Y2VwdGlvbiBoYW5kbGVycyAoaW4gdGVzdCBmcmFtZXdvcmtzLCBmb3JcbiAgICAvLyBleGFtcGxlKS4gSWYgdGhpcyBoYW5kbGVyIGlzIG5vdCBpbnN0YWxsZWQgYW5kIHRoZXJlIGFyZSBubyBvdGhlciB1bmNhdWdodFxuICAgIC8vIGV4Y2VwdGlvbiBoYW5kbGVycywgdW5jYXVnaHQgZXhjZXB0aW9ucyB3aWxsIGJlIGNhdWdodCBieSBub2RlJ3MgYnVpbHQtaW5cbiAgICAvLyBleGNlcHRpb24gaGFuZGxlciBhbmQgdGhlIHByb2Nlc3Mgd2lsbCBzdGlsbCBiZSB0ZXJtaW5hdGVkLiBIb3dldmVyLCB0aGVcbiAgICAvLyBnZW5lcmF0ZWQgSmF2YVNjcmlwdCBjb2RlIHdpbGwgYmUgc2hvd24gYWJvdmUgdGhlIHN0YWNrIHRyYWNlIGluc3RlYWQgb2ZcbiAgICAvLyB0aGUgb3JpZ2luYWwgc291cmNlIGNvZGUuXG4gICAgaWYgKGluc3RhbGxIYW5kbGVyICYmIGhhc0dsb2JhbFByb2Nlc3NFdmVudEVtaXR0ZXIoKSkge1xuICAgICAgdW5jYXVnaHRTaGltSW5zdGFsbGVkID0gdHJ1ZTtcbiAgICAgIHNoaW1FbWl0VW5jYXVnaHRFeGNlcHRpb24oKTtcbiAgICB9XG4gIH1cbn07XG5cbmV4cG9ydHMucmVzZXRSZXRyaWV2ZUhhbmRsZXJzID0gZnVuY3Rpb24oKSB7XG4gIHJldHJpZXZlRmlsZUhhbmRsZXJzLmxlbmd0aCA9IDA7XG4gIHJldHJpZXZlTWFwSGFuZGxlcnMubGVuZ3RoID0gMDtcblxuICByZXRyaWV2ZUZpbGVIYW5kbGVycyA9IG9yaWdpbmFsUmV0cmlldmVGaWxlSGFuZGxlcnMuc2xpY2UoMCk7XG4gIHJldHJpZXZlTWFwSGFuZGxlcnMgPSBvcmlnaW5hbFJldHJpZXZlTWFwSGFuZGxlcnMuc2xpY2UoMCk7XG5cbiAgcmV0cmlldmVTb3VyY2VNYXAgPSBoYW5kbGVyRXhlYyhyZXRyaWV2ZU1hcEhhbmRsZXJzKTtcbiAgcmV0cmlldmVGaWxlID0gaGFuZGxlckV4ZWMocmV0cmlldmVGaWxlSGFuZGxlcnMpO1xufVxuIiwiXG5pbXBvcnQgeyBib3QgfSBmcm9tIFwiLi9MYWJlbFwiO1xuaW1wb3J0IHsgVmFsdWUgfSBmcm9tIFwiLi9WYWx1ZVwiO1xuXG5leHBvcnQgdmFyIGluZGV4ID0gbmV3IFZhbHVlKCdpbmRleCcsIGJvdCk7XG5leHBvcnQgdmFyIGlucHV0ID0gbmV3IFZhbHVlKCdpbnB1dCcsIGJvdCk7XG5leHBvcnQgdmFyIHZhbHVlID0gbmV3IFZhbHVlKCd2YWx1ZScsIGJvdCk7XG5leHBvcnQgdmFyIHdyaXRhYmxlID0gbmV3IFZhbHVlKCd3cml0YWJsZScsIGJvdCk7XG5leHBvcnQgdmFyIGVudW1lcmFibGUgPSBuZXcgVmFsdWUoJ2VudW1lcmFibGUnLCBib3QpO1xuZXhwb3J0IHZhciBjb25maWd1cmFibGUgPSBuZXcgVmFsdWUoJ2NvbmZpZ3VyYWJsZScsIGJvdCk7XG5leHBvcnQgdmFyIGdldCA9IG5ldyBWYWx1ZSgnZ2V0JywgYm90KTtcbmV4cG9ydCB2YXIgc2V0ID0gbmV3IFZhbHVlKCdzZXQnLCBib3QpO1xuZXhwb3J0IHZhciBwcmludCA9IG5ldyBWYWx1ZSgncHJpbnQnLCBib3QpO1xuZXhwb3J0IHZhciBjb25zb2xlID0gbmV3IFZhbHVlKCdjb25zb2xlJywgYm90KTtcbmV4cG9ydCB2YXIgYWxlcnQgPSBuZXcgVmFsdWUoJ2FsZXJ0JywgYm90KTtcbmV4cG9ydCB2YXIgcHJvdG90eXBlID0gbmV3IFZhbHVlKCdwcm90b3R5cGUnLCBib3QpO1xuZXhwb3J0IHZhciBjb25zdHJ1Y3RvciA9IG5ldyBWYWx1ZSgnY29uc3RydWN0b3InLCBib3QpO1xuZXhwb3J0IHZhciBsZW5ndGggPSBuZXcgVmFsdWUoJ2xlbmd0aCcsIGJvdCk7XG4vL0B0cy1pZ25vcmUgVFlQRVNcbmV4cG9ydCB2YXIgYXJndW1lbnRzID0gbmV3IFZhbHVlKCdhcmd1bWVudHMnLCBib3QpO1xuZXhwb3J0IHZhciB1cGcgPSBuZXcgVmFsdWUoJ3VwZycsIGJvdCk7XG5leHBvcnQgdmFyIHVwZ3YgPSBuZXcgVmFsdWUoJ3VwZ3YnLCBib3QpO1xuZXhwb3J0IHZhciB1cGdmID0gbmV3IFZhbHVlKCd1cGdmJywgYm90KTtcbmV4cG9ydCB2YXIgdXBncyA9IG5ldyBWYWx1ZSgndXBncycsIGJvdCk7XG5leHBvcnQgdmFyIGdldFByb3RvdHlwZU9mID0gbmV3IFZhbHVlKCdnZXRQcm90b3R5cGVPZicsIGJvdCk7XG5leHBvcnQgdmFyIGdldE93blByb3BlcnR5RGVzY3JpcHRvciA9IG5ldyBWYWx1ZSgnZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yJywgYm90KTtcbmV4cG9ydCB2YXIgZ2V0T3duUHJvcGVydHlOYW1lcyA9IG5ldyBWYWx1ZSgnZ2V0T3duUHJvcGVydHlOYW1lcycsIGJvdCk7XG5leHBvcnQgdmFyIGNyZWF0ZSA9IG5ldyBWYWx1ZSgnY3JlYXRlJywgYm90KTtcbi8vQHRzLWlnbm9yZSBUWVBFU1xuZXhwb3J0IHZhciByZXF1aXJlID0gbmV3IFZhbHVlKCdyZXF1aXJlJywgYm90KTtcbmV4cG9ydCB2YXIgZGVmaW5lUHJvcGVydHkgPSBuZXcgVmFsdWUoJ2RlZmluZVByb3BlcnR5JywgYm90KTtcbmV4cG9ydCB2YXIgZGVmaW5lUHJvcGVydGllcyA9IG5ldyBWYWx1ZSgnZGVmaW5lUHJvcGVydGllcycsIGJvdCk7XG5leHBvcnQgdmFyIHNlYWwgPSBuZXcgVmFsdWUoJ3NlYWwnLCBib3QpO1xuZXhwb3J0IHZhciBmcmVlemUgPSBuZXcgVmFsdWUoJ2ZyZWV6ZScsIGJvdCk7XG5leHBvcnQgdmFyIHByZXZlbnRFeHRlbnNpb25zID0gbmV3IFZhbHVlKCdwcmV2ZW50RXh0ZW5zaW9ucycsIGJvdCk7XG5leHBvcnQgdmFyIGlzU2VhbGVkID0gbmV3IFZhbHVlKCdpc1NlYWxlZCcsIGJvdCk7XG5leHBvcnQgdmFyIGlzRnJvemVuID0gbmV3IFZhbHVlKCdpc0Zyb3plbicsIGJvdCk7XG5leHBvcnQgdmFyIGlzRXh0ZW5zaWJsZSA9IG5ldyBWYWx1ZSgnaXNFeHRlbnNpYmxlJywgYm90KTtcbmV4cG9ydCB2YXIga2V5cyA9IG5ldyBWYWx1ZSgna2V5cycsIGJvdCk7XG5leHBvcnQgdmFyIHRvU3RyaW5nID0gbmV3IFZhbHVlKCd0b1N0cmluZycsIGJvdCk7XG5leHBvcnQgdmFyIHRvTG9jYWxlU3RyaW5nID0gbmV3IFZhbHVlKCd0b0xvY2FsZVN0cmluZycsIGJvdCk7XG5leHBvcnQgdmFyIHZhbHVlT2YgPSBuZXcgVmFsdWUoJ3ZhbHVlT2YnLCBib3QpO1xuZXhwb3J0IHZhciBoYXNPd25Qcm9wZXJ0eSA9IG5ldyBWYWx1ZSgnaGFzT3duUHJvcGVydHknLCBib3QpO1xuZXhwb3J0IHZhciBpc1Byb3RvdHlwZU9mID0gbmV3IFZhbHVlKCdpc1Byb3RvdHlwZU9mJywgYm90KTtcbmV4cG9ydCB2YXIgcHJvcGVydHlJc0VudW1lcmFibGUgPSBuZXcgVmFsdWUoJ3Byb3BlcnR5SXNFbnVtZXJhYmxlJywgYm90KTtcbmV4cG9ydCB2YXIgYXBwbHkgPSBuZXcgVmFsdWUoJ2FwcGx5JywgYm90KTtcbmV4cG9ydCB2YXIgY2FsbCA9IG5ldyBWYWx1ZSgnY2FsbCcsIGJvdCk7XG5leHBvcnQgdmFyIGNhbGxlciA9IG5ldyBWYWx1ZSgnY2FsbGVyJywgYm90KTtcbmV4cG9ydCB2YXIgYmluZCA9IG5ldyBWYWx1ZSgnYmluZCcsIGJvdCk7XG5leHBvcnQgdmFyIE5hTiA9IG5ldyBWYWx1ZSgnTmFOJywgYm90KTtcbmV4cG9ydCB2YXIgSW5maW5pdHkgPSBuZXcgVmFsdWUoJ0luZmluaXR5JywgYm90KTtcbmV4cG9ydCB2YXIgdW5kZWZpbmVkID0gbmV3IFZhbHVlKCd1bmRlZmluZWQnLCBib3QpO1xuLy9AdHMtaWdub3JlIFRZUEVTXG5leHBvcnQgdmFyIGV2YWwgPSBuZXcgVmFsdWUoJ2V2YWwnLCBib3QpO1xuZXhwb3J0IHZhciBwYXJzZUludCA9IG5ldyBWYWx1ZSgncGFyc2VJbnQnLCBib3QpO1xuZXhwb3J0IHZhciBwYXJzZUZsb2F0ID0gbmV3IFZhbHVlKCdwYXJzZUZsb2F0JywgYm90KTtcbmV4cG9ydCB2YXIgaXNOYU4gPSBuZXcgVmFsdWUoJ2lzTmFOJywgYm90KTtcbmV4cG9ydCB2YXIgaXNGaW5pdGUgPSBuZXcgVmFsdWUoJ2lzRmluaXRlJywgYm90KTtcbmV4cG9ydCB2YXIgZGVjb2RlVVJJID0gbmV3IFZhbHVlKCdkZWNvZGVVUkknLCBib3QpO1xuZXhwb3J0IHZhciBkZWNvZGVVUklDb21wb25lbnQgPSBuZXcgVmFsdWUoJ2RlY29kZVVSSUNvbXBvbmVudCcsIGJvdCk7XG5leHBvcnQgdmFyIGVuY29kZVVSSSA9IG5ldyBWYWx1ZSgnZW5jb2RlVVJJJywgYm90KTtcbmV4cG9ydCB2YXIgZW5jb2RlVVJJQ29tcG9uZW50ID0gbmV3IFZhbHVlKCdlbmNvZGVVUklDb21wb25lbnQnLCBib3QpO1xuZXhwb3J0IHZhciBPYmplY3QgPSBuZXcgVmFsdWUoJ09iamVjdCcsIGJvdCk7XG5leHBvcnQgdmFyIEZ1bmN0aW9uID0gbmV3IFZhbHVlKCdGdW5jdGlvbicsIGJvdCk7XG5leHBvcnQgdmFyIEFycmF5ID0gbmV3IFZhbHVlKCdBcnJheScsIGJvdCk7XG5leHBvcnQgdmFyIFN0cmluZyA9IG5ldyBWYWx1ZSgnU3RyaW5nJywgYm90KTtcbmV4cG9ydCB2YXIgQm9vbGVhbiA9IG5ldyBWYWx1ZSgnQm9vbGVhbicsIGJvdCk7XG5leHBvcnQgdmFyIE51bWJlciA9IG5ldyBWYWx1ZSgnTnVtYmVyJywgYm90KTtcbmV4cG9ydCB2YXIgRGF0ZSA9IG5ldyBWYWx1ZSgnRGF0ZScsIGJvdCk7XG5leHBvcnQgdmFyIFJlZ0V4cCA9IG5ldyBWYWx1ZSgnUmVnRXhwJywgYm90KTtcbmV4cG9ydCB2YXIgRXJyb3IgPSBuZXcgVmFsdWUoJ0Vycm9yJywgYm90KTtcbmV4cG9ydCB2YXIgRXZhbEVycm9yID0gbmV3IFZhbHVlKCdFdmFsRXJyb3InLCBib3QpO1xuZXhwb3J0IHZhciBSYW5nZUVycm9yID0gbmV3IFZhbHVlKCdSYW5nZUVycm9yJywgYm90KTtcbmV4cG9ydCB2YXIgUmVmZXJlbmNlRXJyb3IgPSBuZXcgVmFsdWUoJ1JlZmVyZW5jZUVycm9yJywgYm90KTtcbmV4cG9ydCB2YXIgU3ludGF4RXJyb3IgPSBuZXcgVmFsdWUoJ1N5bnRheEVycm9yJywgYm90KTtcbmV4cG9ydCB2YXIgVHlwZUVycm9yID0gbmV3IFZhbHVlKCdUeXBlRXJyb3InLCBib3QpO1xuZXhwb3J0IHZhciBVUklFcnJvciA9IG5ldyBWYWx1ZSgnVVJJRXJyb3InLCBib3QpO1xuZXhwb3J0IHZhciBNYXRoID0gbmV3IFZhbHVlKCdNYXRoJywgYm90KTtcbmV4cG9ydCB2YXIgSlNPTiA9IG5ldyBWYWx1ZSgnSlNPTicsIGJvdCk7XG5leHBvcnQgdmFyIHBhcnNlID0gbmV3IFZhbHVlKCdwYXJzZScsIGJvdCk7XG5leHBvcnQgdmFyIHN0cmluZ2lmeSA9IG5ldyBWYWx1ZSgnc3RyaW5naWZ5JywgYm90KTtcbmV4cG9ydCB2YXIgbmFtZSA9IG5ldyBWYWx1ZSgnbmFtZScsIGJvdCk7XG5leHBvcnQgdmFyIG1lc3NhZ2UgPSBuZXcgVmFsdWUoJ21lc3NhZ2UnLCBib3QpO1xuZXhwb3J0IHZhciBpc0FycmF5ID0gbmV3IFZhbHVlKCdpc0FycmF5JywgYm90KTtcbmV4cG9ydCB2YXIgY29uY2F0ID0gbmV3IFZhbHVlKCdjb25jYXQnLCBib3QpO1xuZXhwb3J0IHZhciBqb2luID0gbmV3IFZhbHVlKCdqb2luJywgYm90KTtcbmV4cG9ydCB2YXIgcG9wID0gbmV3IFZhbHVlKCdwb3AnLCBib3QpO1xuZXhwb3J0IHZhciBwdXNoID0gbmV3IFZhbHVlKCdwdXNoJywgYm90KTtcbmV4cG9ydCB2YXIgcmV2ZXJzZSA9IG5ldyBWYWx1ZSgncmV2ZXJzZScsIGJvdCk7XG5leHBvcnQgdmFyIHNoaWZ0ID0gbmV3IFZhbHVlKCdzaGlmdCcsIGJvdCk7XG5leHBvcnQgdmFyIHNsaWNlID0gbmV3IFZhbHVlKCdzbGljZScsIGJvdCk7XG5leHBvcnQgdmFyIHNvcnQgPSBuZXcgVmFsdWUoJ3NvcnQnLCBib3QpO1xuZXhwb3J0IHZhciBzcGxpY2UgPSBuZXcgVmFsdWUoJ3NwbGljZScsIGJvdCk7XG5leHBvcnQgdmFyIHVuc2hpZnQgPSBuZXcgVmFsdWUoJ3Vuc2hpZnQnLCBib3QpO1xuZXhwb3J0IHZhciBpbmRleE9mID0gbmV3IFZhbHVlKCdpbmRleE9mJywgYm90KTtcbmV4cG9ydCB2YXIgbGFzdEluZGV4T2YgPSBuZXcgVmFsdWUoJ2xhc3RJbmRleE9mJywgYm90KTtcbmV4cG9ydCB2YXIgZXZlcnkgPSBuZXcgVmFsdWUoJ2V2ZXJ5JywgYm90KTtcbmV4cG9ydCB2YXIgc29tZSA9IG5ldyBWYWx1ZSgnc29tZScsIGJvdCk7XG5leHBvcnQgdmFyIGZvckVhY2ggPSBuZXcgVmFsdWUoJ2ZvckVhY2gnLCBib3QpO1xuZXhwb3J0IHZhciBtYXAgPSBuZXcgVmFsdWUoJ21hcCcsIGJvdCk7XG5leHBvcnQgdmFyIGZpbHRlciA9IG5ldyBWYWx1ZSgnZmlsdGVyJywgYm90KTtcbmV4cG9ydCB2YXIgcmVkdWNlID0gbmV3IFZhbHVlKCdyZWR1Y2UnLCBib3QpO1xuZXhwb3J0IHZhciByZWR1Y2VSaWdodCA9IG5ldyBWYWx1ZSgncmVkdWNlUmlnaHQnLCBib3QpO1xuZXhwb3J0IHZhciBmcm9tQ2hhckNvZGUgPSBuZXcgVmFsdWUoJ2Zyb21DaGFyQ29kZScsIGJvdCk7XG5leHBvcnQgdmFyIGNoYXJBdCA9IG5ldyBWYWx1ZSgnY2hhckF0JywgYm90KTtcbmV4cG9ydCB2YXIgY2hhckNvZGVBdCA9IG5ldyBWYWx1ZSgnY2hhckNvZGVBdCcsIGJvdCk7XG5leHBvcnQgdmFyIGxvY2FsZUNvbXBhcmUgPSBuZXcgVmFsdWUoJ2xvY2FsZUNvbXBhcmUnLCBib3QpO1xuZXhwb3J0IHZhciBtYXRjaCA9IG5ldyBWYWx1ZSgnbWF0Y2gnLCBib3QpO1xuZXhwb3J0IHZhciByZXBsYWNlID0gbmV3IFZhbHVlKCdyZXBsYWNlJywgYm90KTtcbmV4cG9ydCB2YXIgc2VhcmNoID0gbmV3IFZhbHVlKCdzZWFyY2gnLCBib3QpO1xuZXhwb3J0IHZhciBzcGxpdCA9IG5ldyBWYWx1ZSgnc3BsaXQnLCBib3QpO1xuZXhwb3J0IHZhciBzdWJzdHJpbmcgPSBuZXcgVmFsdWUoJ3N1YnN0cmluZycsIGJvdCk7XG5leHBvcnQgdmFyIHN1YnN0ciA9IG5ldyBWYWx1ZSgnc3Vic3RyJywgYm90KTtcbmV4cG9ydCB2YXIgdG9Mb3dlckNhc2UgPSBuZXcgVmFsdWUoJ3RvTG93ZXJDYXNlJywgYm90KTtcbmV4cG9ydCB2YXIgdG9Mb2NhbGVMb3dlckNhc2UgPSBuZXcgVmFsdWUoJ3RvTG9jYWxlTG93ZXJDYXNlJywgYm90KTtcbmV4cG9ydCB2YXIgdG9VcHBlckNhc2UgPSBuZXcgVmFsdWUoJ3RvVXBwZXJDYXNlJywgYm90KTtcbmV4cG9ydCB2YXIgdG9Mb2NhbGVVcHBlckNhc2UgPSBuZXcgVmFsdWUoJ3RvTG9jYWxlVXBwZXJDYXNlJywgYm90KTtcbmV4cG9ydCB2YXIgdHJpbSA9IG5ldyBWYWx1ZSgndHJpbScsIGJvdCk7XG5leHBvcnQgdmFyIE1BWF9WQUxVRSA9IG5ldyBWYWx1ZSgnTUFYX1ZBTFVFJywgYm90KTtcbmV4cG9ydCB2YXIgTUlOX1ZBTFVFID0gbmV3IFZhbHVlKCdNSU5fVkFMVUUnLCBib3QpO1xuZXhwb3J0IHZhciBORUdBVElWRV9JTkZJTklUWSA9IG5ldyBWYWx1ZSgnTkVHQVRJVkVfSU5GSU5JVFknLCBib3QpO1xuZXhwb3J0IHZhciBQT1NJVElWRV9JTkZJTklUWSA9IG5ldyBWYWx1ZSgnUE9TSVRJVkVfSU5GSU5JVFknLCBib3QpO1xuZXhwb3J0IHZhciB0b0ZpeGVkID0gbmV3IFZhbHVlKCd0b0ZpeGVkJywgYm90KTtcbmV4cG9ydCB2YXIgdG9FeHBvbmVudGlhbCA9IG5ldyBWYWx1ZSgndG9FeHBvbmVudGlhbCcsIGJvdCk7XG5leHBvcnQgdmFyIHRvUHJlY2lzaW9uID0gbmV3IFZhbHVlKCd0b1ByZWNpc2lvbicsIGJvdCk7XG5leHBvcnQgdmFyIEUgPSBuZXcgVmFsdWUoJ0UnLCBib3QpO1xuZXhwb3J0IHZhciBMTjEwID0gbmV3IFZhbHVlKCdMTjEwJywgYm90KTtcbmV4cG9ydCB2YXIgTE4yID0gbmV3IFZhbHVlKCdMTjInLCBib3QpO1xuZXhwb3J0IHZhciBMT0cyRSA9IG5ldyBWYWx1ZSgnTE9HMkUnLCBib3QpO1xuZXhwb3J0IHZhciBMT0cxMEUgPSBuZXcgVmFsdWUoJ0xPRzEwRScsIGJvdCk7XG5leHBvcnQgdmFyIFBJID0gbmV3IFZhbHVlKCdQSScsIGJvdCk7XG5leHBvcnQgdmFyIFNRUlQxXzIgPSBuZXcgVmFsdWUoJ1NRUlQxXzInLCBib3QpO1xuZXhwb3J0IHZhciBTUVJUMiA9IG5ldyBWYWx1ZSgnU1FSVDInLCBib3QpO1xuZXhwb3J0IHZhciBhYnMgPSBuZXcgVmFsdWUoJ2FicycsIGJvdCk7XG5leHBvcnQgdmFyIGFjb3MgPSBuZXcgVmFsdWUoJ2Fjb3MnLCBib3QpO1xuZXhwb3J0IHZhciBhc2luID0gbmV3IFZhbHVlKCdhc2luJywgYm90KTtcbmV4cG9ydCB2YXIgYXRhbiA9IG5ldyBWYWx1ZSgnYXRhbicsIGJvdCk7XG5leHBvcnQgdmFyIGF0YW4yID0gbmV3IFZhbHVlKCdhdGFuMicsIGJvdCk7XG5leHBvcnQgdmFyIGNlaWwgPSBuZXcgVmFsdWUoJ2NlaWwnLCBib3QpO1xuZXhwb3J0IHZhciBjb3MgPSBuZXcgVmFsdWUoJ2NvcycsIGJvdCk7XG5leHBvcnQgdmFyIGV4cCA9IG5ldyBWYWx1ZSgnZXhwJywgYm90KTtcbmV4cG9ydCB2YXIgZmxvb3IgPSBuZXcgVmFsdWUoJ2Zsb29yJywgYm90KTtcbmV4cG9ydCB2YXIgbG9nID0gbmV3IFZhbHVlKCdsb2cnLCBib3QpO1xuZXhwb3J0IHZhciBtYXggPSBuZXcgVmFsdWUoJ21heCcsIGJvdCk7XG5leHBvcnQgdmFyIG1pbiA9IG5ldyBWYWx1ZSgnbWluJywgYm90KTtcbmV4cG9ydCB2YXIgcG93ID0gbmV3IFZhbHVlKCdwb3cnLCBib3QpO1xuZXhwb3J0IHZhciByYW5kb20gPSBuZXcgVmFsdWUoJ3JhbmRvbScsIGJvdCk7XG5leHBvcnQgdmFyIHJvdW5kID0gbmV3IFZhbHVlKCdyb3VuZCcsIGJvdCk7XG5leHBvcnQgdmFyIHNpbiA9IG5ldyBWYWx1ZSgnc2luJywgYm90KTtcbmV4cG9ydCB2YXIgc3FydCA9IG5ldyBWYWx1ZSgnc3FydCcsIGJvdCk7XG5leHBvcnQgdmFyIHRhbiA9IG5ldyBWYWx1ZSgndGFuJywgYm90KTtcbmV4cG9ydCB2YXIgdG9EYXRlU3RyaW5nID0gbmV3IFZhbHVlKCd0b0RhdGVTdHJpbmcnLCBib3QpO1xuZXhwb3J0IHZhciB0b1RpbWVTdHJpbmcgPSBuZXcgVmFsdWUoJ3RvVGltZVN0cmluZycsIGJvdCk7XG5leHBvcnQgdmFyIHRvTG9jYWxlRGF0ZVN0cmluZyA9IG5ldyBWYWx1ZSgndG9Mb2NhbGVEYXRlU3RyaW5nJywgYm90KTtcbmV4cG9ydCB2YXIgdG9Mb2NhbGVUaW1lU3RyaW5nID0gbmV3IFZhbHVlKCd0b0xvY2FsZVRpbWVTdHJpbmcnLCBib3QpO1xuZXhwb3J0IHZhciBnZXRUaW1lID0gbmV3IFZhbHVlKCdnZXRUaW1lJywgYm90KTtcbmV4cG9ydCB2YXIgZ2V0RnVsbFllYXIgPSBuZXcgVmFsdWUoJ2dldEZ1bGxZZWFyJywgYm90KTtcbmV4cG9ydCB2YXIgZ2V0VVRDRnVsbFllYXIgPSBuZXcgVmFsdWUoJ2dldFVUQ0Z1bGxZZWFyJywgYm90KTtcbmV4cG9ydCB2YXIgZ2V0TW9udGggPSBuZXcgVmFsdWUoJ2dldE1vbnRoJywgYm90KTtcbmV4cG9ydCB2YXIgZ2V0VVRDTW9udGggPSBuZXcgVmFsdWUoJ2dldFVUQ01vbnRoJywgYm90KTtcbmV4cG9ydCB2YXIgZ2V0RGF0ZSA9IG5ldyBWYWx1ZSgnZ2V0RGF0ZScsIGJvdCk7XG5leHBvcnQgdmFyIGdldFVUQ0RhdGUgPSBuZXcgVmFsdWUoJ2dldFVUQ0RhdGUnLCBib3QpO1xuZXhwb3J0IHZhciBnZXREYXkgPSBuZXcgVmFsdWUoJ2dldERheScsIGJvdCk7XG5leHBvcnQgdmFyIGdldFVUQ0RheSA9IG5ldyBWYWx1ZSgnZ2V0VVRDRGF5JywgYm90KTtcbmV4cG9ydCB2YXIgZ2V0SG91cnMgPSBuZXcgVmFsdWUoJ2dldEhvdXJzJywgYm90KTtcbmV4cG9ydCB2YXIgZ2V0VVRDSG91cnMgPSBuZXcgVmFsdWUoJ2dldFVUQ0hvdXJzJywgYm90KTtcbmV4cG9ydCB2YXIgZ2V0TWludXRlcyA9IG5ldyBWYWx1ZSgnZ2V0TWludXRlcycsIGJvdCk7XG5leHBvcnQgdmFyIGdldFVUQ01pbnV0ZXMgPSBuZXcgVmFsdWUoJ2dldFVUQ01pbnV0ZXMnLCBib3QpO1xuZXhwb3J0IHZhciBnZXRTZWNvbmRzID0gbmV3IFZhbHVlKCdnZXRTZWNvbmRzJywgYm90KTtcbmV4cG9ydCB2YXIgZ2V0VVRDU2Vjb25kcyA9IG5ldyBWYWx1ZSgnZ2V0VVRDU2Vjb25kcycsIGJvdCk7XG5leHBvcnQgdmFyIGdldE1pbGxpc2Vjb25kcyA9IG5ldyBWYWx1ZSgnZ2V0TWlsbGlzZWNvbmRzJywgYm90KTtcbmV4cG9ydCB2YXIgZ2V0VVRDTWlsbGlzZWNvbmRzID0gbmV3IFZhbHVlKCdnZXRVVENNaWxsaXNlY29uZHMnLCBib3QpO1xuZXhwb3J0IHZhciBnZXRUaW1lem9uZU9mZnNldCA9IG5ldyBWYWx1ZSgnZ2V0VGltZXpvbmVPZmZzZXQnLCBib3QpO1xuZXhwb3J0IHZhciBzZXRUaW1lID0gbmV3IFZhbHVlKCdzZXRUaW1lJywgYm90KTtcbmV4cG9ydCB2YXIgc2V0TWlsbGlzZWNvbmRzID0gbmV3IFZhbHVlKCdzZXRNaWxsaXNlY29uZHMnLCBib3QpO1xuZXhwb3J0IHZhciBzZXRVVENNaWxsaXNlY29uZHMgPSBuZXcgVmFsdWUoJ3NldFVUQ01pbGxpc2Vjb25kcycsIGJvdCk7XG5leHBvcnQgdmFyIHNldFNlY29uZHMgPSBuZXcgVmFsdWUoJ3NldFNlY29uZHMnLCBib3QpO1xuZXhwb3J0IHZhciBzZXRVVENTZWNvbmRzID0gbmV3IFZhbHVlKCdzZXRVVENTZWNvbmRzJywgYm90KTtcbmV4cG9ydCB2YXIgc2V0TWludXRlcyA9IG5ldyBWYWx1ZSgnc2V0TWludXRlcycsIGJvdCk7XG5leHBvcnQgdmFyIHNldFVUQ01pbnV0ZXMgPSBuZXcgVmFsdWUoJ3NldFVUQ01pbnV0ZXMnLCBib3QpO1xuZXhwb3J0IHZhciBzZXRIb3VycyA9IG5ldyBWYWx1ZSgnc2V0SG91cnMnLCBib3QpO1xuZXhwb3J0IHZhciBzZXRVVENIb3VycyA9IG5ldyBWYWx1ZSgnc2V0VVRDSG91cnMnLCBib3QpO1xuZXhwb3J0IHZhciBzZXREYXRlID0gbmV3IFZhbHVlKCdzZXREYXRlJywgYm90KTtcbmV4cG9ydCB2YXIgc2V0VVRDRGF0ZSA9IG5ldyBWYWx1ZSgnc2V0VVRDRGF0ZScsIGJvdCk7XG5leHBvcnQgdmFyIHNldE1vbnRoID0gbmV3IFZhbHVlKCdzZXRNb250aCcsIGJvdCk7XG5leHBvcnQgdmFyIHNldFVUQ01vbnRoID0gbmV3IFZhbHVlKCdzZXRVVENNb250aCcsIGJvdCk7XG5leHBvcnQgdmFyIHNldEZ1bGxZZWFyID0gbmV3IFZhbHVlKCdzZXRGdWxsWWVhcicsIGJvdCk7XG5leHBvcnQgdmFyIHNldFVUQ0Z1bGxZZWFyID0gbmV3IFZhbHVlKCdzZXRVVENGdWxsWWVhcicsIGJvdCk7XG5leHBvcnQgdmFyIHRvVVRDU3RyaW5nID0gbmV3IFZhbHVlKCd0b1VUQ1N0cmluZycsIGJvdCk7XG5leHBvcnQgdmFyIHRvSVNPU3RyaW5nID0gbmV3IFZhbHVlKCd0b0lTT1N0cmluZycsIGJvdCk7XG5leHBvcnQgdmFyIHRvSlNPTiA9IG5ldyBWYWx1ZSgndG9KU09OJywgYm90KTtcbmV4cG9ydCB2YXIgVVRDID0gbmV3IFZhbHVlKCdVVEMnLCBib3QpO1xuZXhwb3J0IHZhciBub3cgPSBuZXcgVmFsdWUoJ25vdycsIGJvdCk7XG5leHBvcnQgdmFyIGV4ZWMgPSBuZXcgVmFsdWUoJ2V4ZWMnLCBib3QpO1xuZXhwb3J0IHZhciB0ZXN0ID0gbmV3IFZhbHVlKCd0ZXN0JywgYm90KTtcbmV4cG9ydCB2YXIgc291cmNlID0gbmV3IFZhbHVlKCdzb3VyY2UnLCBib3QpO1xuZXhwb3J0IHZhciBnbG9iYWwgPSBuZXcgVmFsdWUoJ2dsb2JhbCcsIGJvdCk7XG5leHBvcnQgdmFyIGlnbm9yZUNhc2UgPSBuZXcgVmFsdWUoJ2lnbm9yZUNhc2UnLCBib3QpO1xuZXhwb3J0IHZhciBtdWx0aWxpbmUgPSBuZXcgVmFsdWUoJ211bHRpbGluZScsIGJvdCk7XG5leHBvcnQgdmFyIGxhc3RJbmRleCA9IG5ldyBWYWx1ZSgnbGFzdEluZGV4JywgYm90KTtcbmV4cG9ydCB2YXIgZ2V0WWVhciA9IG5ldyBWYWx1ZSgnZ2V0WWVhcicsIGJvdCk7XG5leHBvcnQgdmFyIHNldFllYXIgPSBuZXcgVmFsdWUoJ3NldFllYXInLCBib3QpO1xuZXhwb3J0IHZhciB0b0dNVFN0cmluZyA9IG5ldyBWYWx1ZSgndG9HTVRTdHJpbmcnLCBib3QpO1xuZXhwb3J0IHZhciBlc2NhcGUgPSBuZXcgVmFsdWUoJ2VzY2FwZScsIGJvdCk7XG5leHBvcnQgdmFyIHVuZXNjYXBlID0gbmV3IFZhbHVlKCd1bmVzY2FwZScsIGJvdCk7XG5leHBvcnQgdmFyIG9mID0gbmV3IFZhbHVlKCdvZicsIGJvdCk7IiwiaW1wb3J0IHsgVmFsdWUgfSBmcm9tIFwiLi4vVmFsdWVcIjtcbmltcG9ydCAqIGFzIGNvbnN0YW50cyBmcm9tICcuLi9Db25zdGFudHMnO1xuaW1wb3J0IHsgQnVpbHRpbkZ1bmN0aW9uT2JqZWN0IH0gZnJvbSBcIi4uL09iamVjdHMvQnVpbHRpbkZ1bmN0aW9uT2JqZWN0XCI7XG5pbXBvcnQgeyBib3QsIExhYmVsLCBsdWIgfSBmcm9tICcuLi9MYWJlbCc7XG5pbXBvcnQgeyBEZWZpbmVGRkYsIERlZmluZVRGVCB9IGZyb20gJy4uL0RlZmluZSc7XG5pbXBvcnQgeyBFY21hT2JqZWN0IH0gZnJvbSAnLi4vT2JqZWN0cy9FY21hT2JqZWN0JztcbmltcG9ydCB7IEFycmF5T2JqZWN0IH0gZnJvbSAnLi4vT2JqZWN0cy9BcnJheU9iamVjdCc7XG5pbXBvcnQgeyBIYXNJbnN0YW5jZSB9IGZyb20gJy4uL0hhc0luc3RhbmNlJztcblxuaW1wb3J0IHsgTW9uaXRvckJhc2UgfSBmcm9tICcuLi9Nb25pdG9yQmFzZSc7XG5pbXBvcnQgeyBJRWNtYUZ1bmN0aW9uLCBWYWx1ZVR5cGVzLCBJRWNtYU9iamVjdCB9IGZyb20gJy4uL0ludGVyZmFjZXMnO1xuaW1wb3J0IHsgSXNDb25zdHJ1Y3RvciB9IGZyb20gXCIuLi9VdGlsaXR5L0lzQ29uc3RydWN0b3JcIjtcbmltcG9ydCB7IFRvU3RyaW5nIH0gZnJvbSBcIi4uL0NvbnZlcnNpb24vVG9TdHJpbmdcIjtcbmRlY2xhcmUgdmFyIG1vbml0b3I6IE1vbml0b3JCYXNlO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIDE1LjQuMyBcblxuZXhwb3J0IGNsYXNzIEFycmF5Q29uc3RydWN0b3IgZXh0ZW5kcyBFY21hT2JqZWN0IGltcGxlbWVudHMgSUVjbWFGdW5jdGlvbiB7XG5cbiAgICBob3N0OiBhbnk7XG5cbiAgICBjb25zdHJ1Y3Rvcihob3N0OiBBcnJheTxhbnk+KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuQ2xhc3MgPSAnRnVuY3Rpb24nO1xuICAgICAgICB0aGlzLkV4dGVuc2libGUgPSB0cnVlO1xuICAgICAgICB0aGlzLmhvc3QgPSBob3N0O1xuICAgIH1cblxuICAgIFNldHVwKCkge1xuICAgICAgICB0aGlzLlByb3RvdHlwZSA9IG5ldyBWYWx1ZShtb25pdG9yLmluc3RhbmNlcy5GdW5jdGlvblByb3RvdHlwZSwgYm90KTtcblxuICAgICAgICBEZWZpbmVGRkYodGhpcywgY29uc3RhbnRzLmxlbmd0aCwgMSk7XG4gICAgICAgIERlZmluZUZGRih0aGlzLCBjb25zdGFudHMucHJvdG90eXBlLCBtb25pdG9yLmluc3RhbmNlcy5BcnJheVByb3RvdHlwZSk7XG5cbiAgICAgICAgRGVmaW5lVEZUKHRoaXMsIGNvbnN0YW50cy5pc0FycmF5LCBuZXcgQnVpbHRpbkZ1bmN0aW9uT2JqZWN0KGlzQXJyYXksIDEsIEFycmF5LmlzQXJyYXkpKTtcblxuICAgICAgICAvLyBFUzYsIDIyLjEuMi4zXG4gICAgICAgIERlZmluZVRGVCh0aGlzLCBjb25zdGFudHMub2YsIG5ldyBCdWlsdGluRnVuY3Rpb25PYmplY3Qob2YsIDEsIEFycmF5Lm9mKSk7XG4gICAgfVxuXG5cbiAgICBIYXNJbnN0YW5jZShWOiBWYWx1ZTxWYWx1ZVR5cGVzPik6IFZhbHVlPGJvb2xlYW4+IHtcbiAgICAgICAgcmV0dXJuIEhhc0luc3RhbmNlLmNhbGwodGhpcywgVik7XG4gICAgfVxuXG4gICAgQ2FsbCh0aGlzQXJnOiBWYWx1ZTxWYWx1ZVR5cGVzPiwgYXJnczogVmFsdWU8VmFsdWVUeXBlcz5bXSk6IFZhbHVlPEFycmF5T2JqZWN0PiB7XG4gICAgICAgIHJldHVybiB0aGlzLkNvbnN0cnVjdChhcmdzKTtcbiAgICB9XG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIENvbnN0cnVjdChhcmdzOiBWYWx1ZTxWYWx1ZVR5cGVzPltdKTogVmFsdWU8QXJyYXlPYmplY3Q+IHtcblxuICAgICAgICBsZXQgYXJyYXk6IEFycmF5T2JqZWN0O1xuICAgICAgICBsZXQgbGVuID0gYXJncy5sZW5ndGg7XG5cbiAgICAgICAgaWYgKGxlbiA9PT0gMCB8fCBsZW4gPj0gMikge1xuICAgICAgICAgICAgYXJyYXkgPSBBcnJheU9iamVjdC5mcm9tVmFsdWVBcnJheShhcmdzLCBib3QpO1xuICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICBsZXQgYXJnID0gYXJnc1swXTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgYXJnLnZhbHVlID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgIGFycmF5ID0gbmV3IEFycmF5T2JqZWN0KCk7XG4gICAgICAgICAgICAgICAgYXJyYXkucHJvcGVydGllcy5sZW5ndGggPSBhcmcudmFsdWU7XG4gICAgICAgICAgICAgICAgYXJyYXkubGFiZWxzLmxlbmd0aCA9IHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGFyZy5sYWJlbCxcbiAgICAgICAgICAgICAgICAgICAgZXhpc3RlbmNlOiBib3RcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBhcnJheSA9IEFycmF5T2JqZWN0LmZyb21WYWx1ZUFycmF5KGFyZ3MsIGJvdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IFZhbHVlKGFycmF5LCBib3QpO1xuICAgIH1cbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBpc0FycmF5LCAxNS40LjMuMVxuXG5mdW5jdGlvbiBpc0FycmF5KHRoaXNBcmc6IFZhbHVlPFZhbHVlVHlwZXM+LCBhcmdzOiBWYWx1ZTxWYWx1ZVR5cGVzPltdKSB7XG4gICAgbGV0IGFyZyA9IGFyZ3NbMF0gfHwgbmV3IFZhbHVlKHVuZGVmaW5lZCwgYm90KTtcblxuICAgIGlmIChhcmcudmFsdWUgPT09IG51bGwgfHwgdHlwZW9mIGFyZy52YWx1ZSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBWYWx1ZShmYWxzZSwgYXJnLmxhYmVsKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IFZhbHVlKGFyZy52YWx1ZS5DbGFzcyA9PT0gJ0FycmF5JywgYXJnLmxhYmVsKTtcbn07XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gRVM2OiBvZiwgMjIuMS4yLjNcblxuZnVuY3Rpb24gb2YodGhpc0FyZzogVmFsdWU8VmFsdWVUeXBlcz4sIGFyZ3M6IFZhbHVlPFZhbHVlVHlwZXM+W10pIHtcbiAgICBsZXQgbGVuID0gYXJncy5sZW5ndGg7XG4gICAgbGV0IGxibCA9IG5ldyBMYWJlbCgpO1xuICAgIGZvciAobGV0IGFyZyBvZiBhcmdzKSB7XG4gICAgICAgIGxibCA9IGx1YihsYmwsIGFyZy5sYWJlbCk7XG4gICAgfVxuXG4gICAgbGV0IEE7XG4gICAgaWYgKElzQ29uc3RydWN0b3IodGhpc0FyZykpIHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBBID0gdGhpc0FyZy52YWx1ZS5Db25zdHJ1Y3QoW25ldyBWYWx1ZShsZW4sIGxibCldKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBBID0gbmV3IEFycmF5T2JqZWN0KCk7XG4gICAgICAgIEEucHJvcGVydGllcy5sZW5ndGggPSBsZW47XG4gICAgICAgIEEubGFiZWxzLmxlbmd0aCA9IHtcbiAgICAgICAgICAgIHZhbHVlOiBsYmwsXG4gICAgICAgICAgICBleGlzdGVuY2U6IGJvdFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGxldCBrID0gMDtcbiAgICB3aGlsZSAoayA8IGxlbikge1xuICAgICAgICBsZXQga1ZhbHVlID0gYXJnc1trXTtcbiAgICAgICAgbGV0IFBrID0gVG9TdHJpbmcobmV3IFZhbHVlKGssIGtWYWx1ZS5sYWJlbCkpO1xuXG4gICAgICAgIC8vIDcuMy40IGluIEVTNiB3aWxsIG1ha2UgdGhpcy4uXG4gICAgICAgIGxldCBkZXNjID0ge1xuICAgICAgICAgICAgdmFsdWU6IGtWYWx1ZS52YWx1ZSxcbiAgICAgICAgICAgIGxhYmVsOiBrVmFsdWUubGFiZWwsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgICAgfTtcblxuICAgICAgICBBLkRlZmluZU93blByb3BlcnR5KFBrLCBkZXNjKTtcbiAgICAgICAgaysrO1xuICAgIH1cblxuICAgIHJldHVybiBBO1xufTtcbiIsImltcG9ydCB7IFZhbHVlIH0gZnJvbSBcIi4uL1ZhbHVlXCI7XG5pbXBvcnQgKiBhcyBjb25zdGFudHMgZnJvbSAnLi4vQ29uc3RhbnRzJztcbmltcG9ydCB7IEhhc0luc3RhbmNlIH0gZnJvbSAnLi4vSGFzSW5zdGFuY2UnO1xuaW1wb3J0IHsgRGVmaW5lRkZGIH0gZnJvbSAnLi4vRGVmaW5lJztcbmltcG9ydCB7IEVjbWFPYmplY3QgfSBmcm9tICcuLi9PYmplY3RzL0VjbWFPYmplY3QnO1xuaW1wb3J0IHsgYm90IH0gZnJvbSAnLi4vTGFiZWwnO1xuaW1wb3J0IHsgQm9vbGVhbk9iamVjdCB9IGZyb20gJy4uL09iamVjdHMvQm9vbGVhbk9iamVjdCc7XG5pbXBvcnQgeyBUb0Jvb2xlYW4gfSBmcm9tICcuLi9Db252ZXJzaW9uL1RvQm9vbGVhbic7XG5cbmltcG9ydCB7IE1vbml0b3JCYXNlIH0gZnJvbSAnLi4vTW9uaXRvckJhc2UnO1xuaW1wb3J0IHsgVmFsdWVUeXBlcyB9IGZyb20gXCIuLi9JbnRlcmZhY2VzXCI7XG5kZWNsYXJlIHZhciBtb25pdG9yOiBNb25pdG9yQmFzZTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyAxNS42LjIgXG5cbmV4cG9ydCBjbGFzcyBCb29sZWFuQ29uc3RydWN0b3IgZXh0ZW5kcyBFY21hT2JqZWN0IHtcblxuICAgIGhvc3Q6IGFueTtcblxuICAgIGNvbnN0cnVjdG9yKGhvc3Q6IEJvb2xlYW4pIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5DbGFzcyA9ICdGdW5jdGlvbic7XG4gICAgICAgIHRoaXMuRXh0ZW5zaWJsZSA9IHRydWU7XG4gICAgICAgIHRoaXMuaG9zdCA9IGhvc3Q7XG4gICAgfVxuXG4gICAgU2V0dXAoKSB7XG4gICAgICAgIHRoaXMuUHJvdG90eXBlID0gbmV3IFZhbHVlKG1vbml0b3IuaW5zdGFuY2VzLkZ1bmN0aW9uUHJvdG90eXBlLCBib3QpO1xuICAgICAgICBEZWZpbmVGRkYodGhpcywgY29uc3RhbnRzLmxlbmd0aCwgMSk7IC8vUkVNT1ZFID9cbiAgICAgICAgRGVmaW5lRkZGKHRoaXMsIGNvbnN0YW50cy5wcm90b3R5cGUsIG1vbml0b3IuaW5zdGFuY2VzLkJvb2xlYW5Qcm90b3R5cGUpO1xuICAgIH1cblxuICAgIEhhc0luc3RhbmNlKFY6IFZhbHVlPFZhbHVlVHlwZXM+KTogVmFsdWU8Ym9vbGVhbj4ge1xuICAgICAgICByZXR1cm4gSGFzSW5zdGFuY2UuY2FsbCh0aGlzLCBWKTtcbiAgICB9XG5cbiAgICAvLyAxNS42LjEuMVxuICAgIENhbGwodGhpc0FyZzogVmFsdWU8VmFsdWVUeXBlcz4sIGFyZ3M6IFZhbHVlPFZhbHVlVHlwZXM+W10pOiBWYWx1ZTxib29sZWFuPiB7XG4gICAgICAgIGxldCBhcmcwID0gYXJnc1swXSA/IGFyZ3NbMF0gOiBuZXcgVmFsdWUodW5kZWZpbmVkLCBib3QpO1xuXG4gICAgICAgIHJldHVybiBUb0Jvb2xlYW4oYXJnMCk7XG4gICAgfVxuXG4gICAgLy8gMTUuNi4yLjFcbiAgICBDb25zdHJ1Y3QoYXJnczogVmFsdWU8VmFsdWVUeXBlcz5bXSk6IFZhbHVlPEJvb2xlYW5PYmplY3Q+IHtcbiAgICAgICAgbGV0IGFyZzAgPSBhcmdzWzBdID8gYXJnc1swXSA6IG5ldyBWYWx1ZSh1bmRlZmluZWQsIGJvdCk7XG5cbiAgICAgICAgbGV0IGIgPSBUb0Jvb2xlYW4oYXJnMCk7XG4gICAgICAgIGxldCBvYmogPSBuZXcgQm9vbGVhbk9iamVjdChiLnZhbHVlLCBiLmxhYmVsKTtcblxuICAgICAgICByZXR1cm4gbmV3IFZhbHVlKG9iaiwgYm90KTtcbiAgICB9XG59IiwiaW1wb3J0IHsgVmFsdWUgfSBmcm9tIFwiLi4vVmFsdWVcIjtcbmltcG9ydCAqIGFzIGNvbnN0YW50cyBmcm9tICcuLi9Db25zdGFudHMnO1xuaW1wb3J0IHsgQnVpbHRpbkZ1bmN0aW9uT2JqZWN0IH0gZnJvbSBcIi4uL09iamVjdHMvQnVpbHRpbkZ1bmN0aW9uT2JqZWN0XCI7XG5pbXBvcnQgeyBIYXNJbnN0YW5jZSB9IGZyb20gJy4uL0hhc0luc3RhbmNlJztcbmltcG9ydCB7IFRvUHJpbWl0aXZlIH0gZnJvbSAnLi4vQ29udmVyc2lvbi9Ub1ByaW1pdGl2ZSc7XG5pbXBvcnQgeyBUb051bWJlciB9IGZyb20gJy4uL0NvbnZlcnNpb24vVG9OdW1iZXInO1xuaW1wb3J0IHsgVG9TdHJpbmcgfSBmcm9tICcuLi9Db252ZXJzaW9uL1RvU3RyaW5nJztcbmltcG9ydCB7IERlZmluZUZGRiwgRGVmaW5lVEZUIH0gZnJvbSAnLi4vRGVmaW5lJztcbmltcG9ydCB7IEVjbWFPYmplY3QgfSBmcm9tICcuLi9PYmplY3RzL0VjbWFPYmplY3QnO1xuaW1wb3J0IHsgYm90LCBMYWJlbCwgbHViIH0gZnJvbSAnLi4vTGFiZWwnO1xuaW1wb3J0IHsgRGF0ZU9iamVjdCB9IGZyb20gJy4uL09iamVjdHMvRGF0ZU9iamVjdCc7XG5cbmltcG9ydCB7IE1vbml0b3JCYXNlIH0gZnJvbSAnLi4vTW9uaXRvckJhc2UnO1xuaW1wb3J0IHsgVmFsdWVUeXBlcyB9IGZyb20gXCIuLi9JbnRlcmZhY2VzXCI7XG5kZWNsYXJlIHZhciBtb25pdG9yOiBNb25pdG9yQmFzZTtcblxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFRoZSBEYXRlIENvbnN0cnVjdG9yLCAxNS45LjNcblxuZXhwb3J0IGNsYXNzIERhdGVDb25zdHJ1Y3RvciBleHRlbmRzIEVjbWFPYmplY3Qge1xuXG4gICAgaG9zdDogYW55O1xuXG4gICAgY29uc3RydWN0b3IoaG9zdDogRGF0ZSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLkNsYXNzID0gJ0Z1bmN0aW9uJztcbiAgICAgICAgdGhpcy5FeHRlbnNpYmxlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5ob3N0ID0gaG9zdDtcbiAgICB9XG5cbiAgICBTZXR1cCgpIHtcbiAgICAgICAgdGhpcy5Qcm90b3R5cGUgPSBuZXcgVmFsdWUobW9uaXRvci5pbnN0YW5jZXMuRnVuY3Rpb25Qcm90b3R5cGUsIGJvdCk7XG5cbiAgICAgICAgRGVmaW5lRkZGKHRoaXMsIGNvbnN0YW50cy5sZW5ndGgsIDcpO1xuICAgICAgICBEZWZpbmVGRkYodGhpcywgY29uc3RhbnRzLnByb3RvdHlwZSwgbW9uaXRvci5pbnN0YW5jZXMuRGF0ZVByb3RvdHlwZSk7XG5cbiAgICAgICAgRGVmaW5lVEZUKHRoaXMsIGNvbnN0YW50cy5wYXJzZSwgbmV3IEJ1aWx0aW5GdW5jdGlvbk9iamVjdChwYXJzZSwgMCwgRGF0ZS5wYXJzZSkpO1xuICAgICAgICBEZWZpbmVURlQodGhpcywgY29uc3RhbnRzLlVUQywgbmV3IEJ1aWx0aW5GdW5jdGlvbk9iamVjdChVVEMsIDAsIERhdGUuVVRDKSk7XG4gICAgICAgIERlZmluZVRGVCh0aGlzLCBjb25zdGFudHMubm93LCBuZXcgQnVpbHRpbkZ1bmN0aW9uT2JqZWN0KG5vdywgMCwgRGF0ZS5ub3cpKTtcbiAgICB9XG5cbiAgICBIYXNJbnN0YW5jZShWOiBWYWx1ZTxWYWx1ZVR5cGVzPik6IFZhbHVlPGJvb2xlYW4+IHtcbiAgICAgICAgcmV0dXJuIEhhc0luc3RhbmNlLmNhbGwodGhpcywgVik7XG4gICAgfVxuXG4gICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gMTUuOS4xLjFcbiAgICBDYWxsKHRoaXNBcmc6IFZhbHVlPFZhbHVlVHlwZXM+LCBhcmdzOiBWYWx1ZTxWYWx1ZVR5cGVzPltdKTogVmFsdWU8c3RyaW5nPiB7XG4gICAgICAgIGxldCBzdHIgPSB0aGlzLmhvc3QoKTtcbiAgICAgICAgcmV0dXJuIG5ldyBWYWx1ZShzdHIsIGJvdCk7XG4gICAgfVxuXG4gICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICAvLyAxNS45LjMuMVxuICAgIENvbnN0cnVjdChhcmdzOiBWYWx1ZTxWYWx1ZVR5cGVzPltdKTogVmFsdWU8RGF0ZU9iamVjdD4ge1xuICAgICAgICBsZXQgX2FyZ3M6IG51bWJlcltdID0gW107XG4gICAgICAgIGxldCBsYWJlbCA9IG5ldyBMYWJlbCgpO1xuICAgICAgICBsZXQgb2JqOiBEYXRlT2JqZWN0O1xuXG4gICAgICAgIHN3aXRjaCAoYXJncy5sZW5ndGgpIHtcblxuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIG9iaiA9IG5ldyBEYXRlT2JqZWN0KG5ldyB0aGlzLmhvc3QoKSwgbmV3IExhYmVsKCdEYXRlJykpO1xuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICBsZXQgdiA9IFRvUHJpbWl0aXZlKGFyZ3NbMF0pO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygdi52YWx1ZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgdiA9IFRvTnVtYmVyKHYpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIG9iaiA9IG5ldyBEYXRlT2JqZWN0KG5ldyB0aGlzLmhvc3Qodi52YWx1ZSksIHYubGFiZWwpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGxldCBsZW4gPSBhcmdzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgICAgICAgICAgZm9yICg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBsZXQgdmFsID0gVG9OdW1iZXIoYXJnc1tpXSk7XG4gICAgICAgICAgICAgICAgICAgIF9hcmdzW2ldID0gdmFsLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBsdWIodmFsLmxhYmVsKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAobGVuID09IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgX2FyZ3NbMl0gPSAxO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGZvciAoOyBpIDwgNzsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIF9hcmdzW2ldID0gMDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBsZXQgZGF0ZSA9IG5ldyB0aGlzLmhvc3QoXG4gICAgICAgICAgICAgICAgICAgIF9hcmdzWzBdLCBfYXJnc1sxXSwgX2FyZ3NbMl0sIF9hcmdzWzNdLCBfYXJnc1s0XSwgX2FyZ3NbNV0sIF9hcmdzWzZdXG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgIG9iaiA9IG5ldyBEYXRlT2JqZWN0KGRhdGUsIGxhYmVsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXcgVmFsdWUob2JqLCBib3QpO1xuICAgIH07XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gcGFyc2UsIDE1LjkuNC4yXG5mdW5jdGlvbiBwYXJzZSh0aGlzQXJnOiBWYWx1ZTxWYWx1ZVR5cGVzPiwgYXJnczogVmFsdWU8VmFsdWVUeXBlcz5bXSk6IFZhbHVlPG51bWJlcj4ge1xuICAgIGxldCBhcmcgPSBhcmdzWzBdIHx8IG5ldyBWYWx1ZSh1bmRlZmluZWQsIGJvdCk7XG4gICAgbGV0IHN0cmluZyA9IFRvU3RyaW5nKGFyZyk7XG5cbiAgICBsZXQgbnVtYmVyID0gbW9uaXRvci5pbnN0YW5jZXMuRGF0ZUNvbnN0cnVjdG9yLmhvc3QucGFyc2Uoc3RyaW5nLnZhbHVlKTtcbiAgICByZXR1cm4gbmV3IFZhbHVlKG51bWJlciwgc3RyaW5nLmxhYmVsKTtcbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBVVEMsIDE1LjkuNC4zXG5mdW5jdGlvbiBVVEModGhpc0FyZzogVmFsdWU8VmFsdWVUeXBlcz4sIGFyZ3M6IFZhbHVlPFZhbHVlVHlwZXM+W10pOiBWYWx1ZTxudW1iZXI+IHtcbiAgICBsZXQgX2FyZ3M6IG51bWJlcltdID0gW107XG4gICAgbGV0IGxhYmVsID0gbmV3IExhYmVsKCk7XG5cbiAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gYXJncy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBsZXQgdmFsID0gVG9OdW1iZXIoYXJnc1tpXSk7XG4gICAgICAgIF9hcmdzW2ldID0gdmFsLnZhbHVlO1xuICAgICAgICBsdWIodmFsLmxhYmVsKTtcbiAgICB9XG5cbiAgICBsZXQgbnVtYmVyID0gbW9uaXRvci5pbnN0YW5jZXMuRGF0ZUNvbnN0cnVjdG9yLmhvc3QuVVRDLmFwcGx5KG51bGwsIF9hcmdzKTtcbiAgICByZXR1cm4gbmV3IFZhbHVlKG51bWJlciwgbGFiZWwpO1xufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIG5vdywgMTUuOS40LjRcbmZ1bmN0aW9uIG5vdyh0aGlzQXJnOiBWYWx1ZTxWYWx1ZVR5cGVzPiwgYXJnczogVmFsdWU8VmFsdWVUeXBlcz5bXSk6IFZhbHVlPG51bWJlcj57XG4gICAgbGV0IG51bWJlciA9IG1vbml0b3IuaW5zdGFuY2VzLkRhdGVDb25zdHJ1Y3Rvci5ob3N0Lm5vdygpO1xuICAgIHJldHVybiBuZXcgVmFsdWUobnVtYmVyLCBib3QvKnRvcCovKTtcbn1cbiIsImltcG9ydCB7IFZhbHVlIH0gZnJvbSBcIi4uL1ZhbHVlXCI7XG5pbXBvcnQgKiBhcyBjb25zdGFudHMgZnJvbSAnLi4vQ29uc3RhbnRzJztcbmltcG9ydCB7IEhhc0luc3RhbmNlIH0gZnJvbSAnLi4vSGFzSW5zdGFuY2UnO1xuaW1wb3J0IHsgTW9uaXRvckJhc2UgfSBmcm9tICcuLi9Nb25pdG9yQmFzZSc7XG5pbXBvcnQgeyBFY21hT2JqZWN0IH0gZnJvbSAnLi4vT2JqZWN0cy9FY21hT2JqZWN0JztcbmltcG9ydCB7IERlZmluZUZGRiB9IGZyb20gJy4uL0RlZmluZSc7XG5pbXBvcnQgeyBib3QgfSBmcm9tICcuLi9MYWJlbCc7XG5pbXBvcnQgeyBFcnJvck9iamVjdCB9IGZyb20gJy4uL09iamVjdHMvRXJyb3JPYmplY3QnO1xuaW1wb3J0IHsgRXJyb3JQcm90b3R5cGUgfSBmcm9tICcuLi9Qcm90b3R5cGVzL0Vycm9yUHJvdG90eXBlJztcbmltcG9ydCB7IFZhbHVlVHlwZXMgfSBmcm9tIFwiLi4vSW50ZXJmYWNlc1wiO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZGVjbGFyZSB2YXIgbW9uaXRvcjogTW9uaXRvckJhc2U7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gMTUuMTEgLSBUaGUgRXJyb3IgQ29uc3RydWN0b3JcblxuZXhwb3J0IGNsYXNzIEVycm9yQ29uc3RydWN0b3IgZXh0ZW5kcyBFY21hT2JqZWN0IHtcblxuICAgIGhvc3Q6IGFueTtcbiAgICBuYW1lOiBTdHJpbmc7XG5cbiAgICBjb25zdHJ1Y3Rvcihob3N0IDogRXJyb3IpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5DbGFzcyA9ICdGdW5jdGlvbic7XG4gICAgICAgIHRoaXMuaG9zdCA9IGhvc3Q7XG4gICAgICAgIHRoaXMuRXh0ZW5zaWJsZSA9IHRydWU7XG4gICAgICAgIHRoaXMubmFtZSA9ICdFcnJvcic7XG4gICAgfVxuXG4gICAgU2V0dXAoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuU2V0dXBCYXNlKG1vbml0b3IuaW5zdGFuY2VzLkVycm9yUHJvdG90eXBlKTtcbiAgICB9XG5cbiAgICBTZXR1cEJhc2UocHJvdG90eXBlIDogRXJyb3JQcm90b3R5cGUpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5Qcm90b3R5cGUgPSBuZXcgVmFsdWUobW9uaXRvci5pbnN0YW5jZXMuRnVuY3Rpb25Qcm90b3R5cGUsIGJvdCk7XG5cbiAgICAgICAgRGVmaW5lRkZGKHRoaXMsIGNvbnN0YW50cy5sZW5ndGgsIDEpO1xuICAgICAgICBEZWZpbmVGRkYodGhpcywgY29uc3RhbnRzLnByb3RvdHlwZSwgcHJvdG90eXBlKTtcbiAgICB9XG5cbiAgICBIYXNJbnN0YW5jZShWOiBWYWx1ZTxWYWx1ZVR5cGVzPik6IFZhbHVlPGJvb2xlYW4+IHtcbiAgICAgICAgcmV0dXJuIEhhc0luc3RhbmNlLmNhbGwodGhpcywgVik7XG4gICAgfVxuXG4gICAgLy8gMTUuMTEuMlxuICAgIENhbGwodGhpc0FyZzogVmFsdWU8VmFsdWVUeXBlcz4sIGFyZ3M6IFZhbHVlPFZhbHVlVHlwZXM+W10pOiBWYWx1ZTxFcnJvck9iamVjdD4ge1xuICAgICAgICByZXR1cm4gdGhpcy5Db25zdHJ1Y3QoYXJncyk7XG4gICAgfVxuXG4gICAgLy8gMTUuMTEuMi4xXG4gICAgQ29uc3RydWN0KGFyZ3M6IFZhbHVlPFZhbHVlVHlwZXM+W10pOiBWYWx1ZTxFcnJvck9iamVjdD4ge1xuICAgICAgICB2YXIgYXJnMCA9IGFyZ3NbMF0gPyBhcmdzWzBdIDogbmV3IFZhbHVlKHVuZGVmaW5lZCwgYm90KTtcbiAgICAgICAgdmFyIG8gPSBuZXcgRXJyb3JPYmplY3QoYXJnMCk7XG4gICAgICAgIHJldHVybiBuZXcgVmFsdWUobywgYm90KTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBFcnJvckNvbnN0cnVjdG9yIH0gZnJvbSBcIi4vRXJyb3JDb25zdHJ1Y3RvclwiO1xuaW1wb3J0IHsgYm90IH0gZnJvbSBcIi4uL0xhYmVsXCI7XG5pbXBvcnQgeyBWYWx1ZSB9IGZyb20gXCIuLi9WYWx1ZVwiO1xuaW1wb3J0IHsgRXZhbEVycm9yT2JqZWN0IH0gZnJvbSBcIi4uL09iamVjdHMvRXZhbEVycm9yT2JqZWN0XCI7XG5pbXBvcnQgeyBNb25pdG9yQmFzZSB9IGZyb20gXCIuLi9Nb25pdG9yQmFzZVwiO1xuaW1wb3J0IHsgVmFsdWVUeXBlcyB9IGZyb20gXCIuLi9JbnRlcmZhY2VzXCI7XG5cbmRlY2xhcmUgdmFyIG1vbml0b3I6IE1vbml0b3JCYXNlO1xuXG5leHBvcnQgY2xhc3MgRXZhbEVycm9yQ29uc3RydWN0b3IgZXh0ZW5kcyBFcnJvckNvbnN0cnVjdG9yIHtcblxuICAgIGNvbnN0cnVjdG9yKGhvc3QgOiBFdmFsRXJyb3IpIHtcbiAgICAgICAgc3VwZXIoaG9zdCk7XG4gICAgfVxuXG4gICAgU2V0dXAoKSA6IHZvaWQge1xuICAgICAgICB0aGlzLlNldHVwQmFzZShtb25pdG9yLmluc3RhbmNlcy5FdmFsRXJyb3JQcm90b3R5cGUpO1xuICAgIH1cblxuICAgIENvbnN0cnVjdChhcmdzOiBWYWx1ZTxWYWx1ZVR5cGVzPltdKTogVmFsdWU8RXZhbEVycm9yT2JqZWN0PntcbiAgICAgICAgdmFyIG1lc3NhZ2UgPSBhcmdzWzBdIHx8IG5ldyBWYWx1ZSh1bmRlZmluZWQsIGJvdCk7XG4gICAgICAgIHZhciBvID0gbmV3IEV2YWxFcnJvck9iamVjdChtZXNzYWdlKTtcbiAgICAgICAgcmV0dXJuIG5ldyBWYWx1ZShvLCBib3QpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IGx1YiwgYm90IH0gZnJvbSAnLi4vTGFiZWwnO1xuaW1wb3J0IHsgVmFsdWUgfSBmcm9tIFwiLi4vVmFsdWVcIjtcbmltcG9ydCB7IERlZmluZUZGRiB9IGZyb20gJy4uL0RlZmluZSc7XG5pbXBvcnQgeyBFY21hT2JqZWN0IH0gZnJvbSAnLi4vT2JqZWN0cy9FY21hT2JqZWN0JztcbmltcG9ydCAqIGFzIGNvbnN0YW50cyBmcm9tICcuLi9Db25zdGFudHMnO1xuaW1wb3J0IHsgTW9uaXRvckJhc2UgfSBmcm9tICcuLi9Nb25pdG9yQmFzZSc7XG5cbmltcG9ydCB7IEZ1bmN0aW9uT2JqZWN0IH0gZnJvbSAnLi4vT2JqZWN0cy9GdW5jdGlvbk9iamVjdCc7XG5pbXBvcnQgeyBIYXNJbnN0YW5jZSB9IGZyb20gJy4uL0hhc0luc3RhbmNlJztcblxuaW1wb3J0ICogYXMgZXNwcmltYSBmcm9tICdlc3ByaW1hJztcbmltcG9ydCB7IFRvU3RyaW5nIH0gZnJvbSAnLi4vQ29udmVyc2lvbi9Ub1N0cmluZyc7XG5pbXBvcnQgeyBWYWx1ZVR5cGVzIH0gZnJvbSAnLi4vSW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBleGlzdHMgfSBmcm9tICdmcyc7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5kZWNsYXJlIHZhciBtb25pdG9yOiBNb25pdG9yQmFzZTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBGdW5jdGlvbiBDb25zdHJ1Y3RvciwgMTUuMy4yICgxNS4zLjEsIDE1LjMuMS4xKVxuXG5leHBvcnQgY2xhc3MgRnVuY3Rpb25Db25zdHJ1Y3RvciBleHRlbmRzIEVjbWFPYmplY3Qge1xuXG4gICAgaG9zdCA6IGFueTtcblxuICAgIGNvbnN0cnVjdG9yKGhvc3QgOiBGdW5jdGlvbikge1xuICAgICAgc3VwZXIoKTtcbiAgXG4gICAgICAvLyBQcm9wZXJ0aWVzLCAxNS4zLjMuXG4gICAgICB0aGlzLkNsYXNzID0gJ0Z1bmN0aW9uJztcbiAgICAgIHRoaXMuaG9zdCA9IGhvc3Q7XG4gICAgICB0aGlzLkV4dGVuc2libGUgPSB0cnVlO1xuICBcbiAgICB9XG4gIFxuICAgIFNldHVwKCkgOiB2b2lkIHtcbiAgICAgIC8vIDE1LjMuMy4xIFxuICAgICAgRGVmaW5lRkZGKHRoaXMsIGNvbnN0YW50cy5wcm90b3R5cGUsIG1vbml0b3IuaW5zdGFuY2VzLkZ1bmN0aW9uUHJvdG90eXBlKTtcbiAgICAgIHRoaXMuUHJvdG90eXBlID0gbmV3IFZhbHVlKG1vbml0b3IuaW5zdGFuY2VzLkZ1bmN0aW9uUHJvdG90eXBlLCBib3QpO1xuICBcbiAgICAgIC8vIDE1LjMuMy4yIFxuICAgICAgRGVmaW5lRkZGKHRoaXMsIGNvbnN0YW50cy5sZW5ndGgsIDEpO1xuICAgIH1cbiAgXG4gIFxuICAgIC8vIC0tLVxuICBcbiAgICBIYXNJbnN0YW5jZShWOiBWYWx1ZTxWYWx1ZVR5cGVzPik6IFZhbHVlPGJvb2xlYW4+IHtcbiAgICAgIHJldHVybiBIYXNJbnN0YW5jZS5jYWxsKHRoaXMsIFYpO1xuICAgIH1cbiAgXG4gICAgLy8gMTUuMy4xXG4gICAgQ2FsbCh0aGlzQXJnOiBWYWx1ZTxWYWx1ZVR5cGVzPiwgYXJnczogVmFsdWU8VmFsdWVUeXBlcz5bXSk6IFZhbHVlPEZ1bmN0aW9uT2JqZWN0PiB7XG4gICAgICByZXR1cm4gdGhpcy5Db25zdHJ1Y3QoYXJncyk7XG4gICAgfVxuICBcbiAgICAvLyAxNS4zLjJcbiAgICBDb25zdHJ1Y3QoYXJnczogVmFsdWU8VmFsdWVUeXBlcz5bXSk6IFZhbHVlPEZ1bmN0aW9uT2JqZWN0PiB7XG4gICAgICB2YXIgYXJnQ291bnQgPSBhcmdzLmxlbmd0aDtcbiAgICAgIHZhciBQID0gJyc7XG4gICAgICB2YXIgYm9keSA6ICBWYWx1ZTxWYWx1ZVR5cGVzPjtcbiAgICAgIHZhciBsYWJlbCA9IGJvdDtcbiAgXG4gICAgICBpZiAoYXJnQ291bnQgPT09IDApIHtcbiAgICAgICAgYm9keSA9IG5ldyBWYWx1ZSgnJywgYm90KTtcbiAgICAgIH0gZWxzZSBpZiAoYXJnQ291bnQgPT09IDEpIHtcbiAgICAgICAgYm9keSA9IGFyZ3NbMF07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgZmlyc3RBcmcgPSBUb1N0cmluZyhhcmdzWzBdKTtcbiAgICAgICAgbGFiZWwgPSBsdWIobGFiZWwsIGZpcnN0QXJnLmxhYmVsKTtcbiAgICAgICAgUCA9IGZpcnN0QXJnLnZhbHVlO1xuICBcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmdDb3VudCAtIDE7IGkrKykge1xuICAgICAgICAgIHZhciBuZXh0QXJnID0gVG9TdHJpbmcoYXJnc1tpXSk7XG4gICAgICAgICAgbGFiZWwgPSBsdWIobGFiZWwsIGZpcnN0QXJnLmxhYmVsKTtcbiAgICAgICAgICBQICs9ICcsICcgKyBuZXh0QXJnLnZhbHVlO1xuICAgICAgICB9XG4gIFxuICAgICAgICBib2R5ID0gYXJnc1thcmdDb3VudCAtIDFdO1xuICAgICAgfVxuICBcbiAgICAgIGxldCBzdHJib2R5ID0gVG9TdHJpbmcoYm9keSk7XG4gICAgICBsYWJlbCA9IGx1YihsYWJlbCwgc3RyYm9keS5sYWJlbCk7XG5cbiAgICAgIC8vIHRyYW5zZm9ybSBtYXkgdXNlIGEgcGFyc2VyLCB3aGljaCBtZWFucyB3ZSBjYW5ub3QgdHJhbnNmb3JtIHRoZSBib2R5XG4gICAgICAvLyBpbiBpc29sYXRpb24gKGUuZy4sIGl0IG1heSBjb250YWluIHJldHVybiksIGFuZCB3ZSBjYW5ub3QgYXNzdW1lIHRoYXQgdGhlXG4gICAgICAvLyB0cmFuc2Zvcm1hdGlvbiByZXR1cm5zIGEgZnVuY3Rpb25cbiAgICAgIHZhciB0cmFuc2Zvcm1lZCA9IG1vbml0b3IudHJhbnNmb3JtKGBmdW5jdGlvbiBfX2pzZmxvd190cmFuc2Zvcm1lZCgpIHtcbiAgICAgICAgYXJndW1lbnRzLmNhbGxlZSA9IF9fanNmbG93X2NhbGxlZTtcbiAgICAgICAgYXJndW1lbnRzLmNhbGxlciA9IF9fanNmbG93X2NhbGxlcjtcbiAgICAgICAgJHtzdHJib2R5LnZhbHVlfVxuICAgICAgfWApO1xuXG4gICAgICBQID0gYChmdW5jdGlvbiAoICR7UH0gKSB7XG4gICAgICAgIGxldCBfX2pzZmxvd19jYWxsZWUgPSBhcmd1bWVudHMuY2FsbGVlO1xuICAgICAgICBsZXQgX19qc2Zsb3dfY2FsbGVyID0gYXJndW1lbnRzLmNhbGxlcjtcbiAgICAgICAgJHt0cmFuc2Zvcm1lZH07XG4gICAgICAgIHJldHVybiBfX2pzZmxvd190cmFuc2Zvcm1lZC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfSlgO1xuXG4gICAgICB2YXIgcHJvZztcbiAgICAgIHRyeSB7XG4gICAgICAgIHByb2cgPSBlc3ByaW1hLnBhcnNlKFAsIHsgbG9jOiB0cnVlIH0pO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBtb25pdG9yLlRocm93KFxuICAgICAgICAgIFwiU3ludGF4RXJyb3JcIixcbiAgICAgICAgICBlLm1lc3NhZ2UsXG4gICAgICAgICAgbGFiZWxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgXG4gICAgICAvLyBwYXJzaW5nIHJldHVybnMgYSBwcm9ncmFtIC0tLSB3ZSBhcmUgaW50ZXJlc3RlZCBpbiBmdW5jdGlvbiBkZWNsYXJhdGlvblxuICAgICAgdmFyIGZ1bmMgPSBwcm9nLmJvZHlbMF0uZXhwcmVzc2lvbjtcbiAgXG4gICAgICB2YXIgRiA9IG5ldyBGdW5jdGlvbk9iamVjdChcbiAgICAgICAgZnVuYy5wYXJhbXMsXG4gICAgICAgIGZ1bmMuYm9keSxcbiAgICAgICAgbmV3IFZhbHVlKG1vbml0b3IuR2xvYmFsRW52aXJvbm1lbnQsIGJvdClcbiAgICAgICk7XG4gIFxuICAgICAgLy8gRm9yIHByZXR0eSBwcmludGluZ1xuICAgICAgRi5Tb3VyY2UgPSBmdW5jO1xuICBcbiAgICAgIHJldHVybiBuZXcgVmFsdWUoRiwgbGFiZWwpO1xuICAgIH1cbiAgfSIsIlxuaW1wb3J0IHsgYm90IH0gZnJvbSAnLi4vTGFiZWwnO1xuaW1wb3J0IHsgVmFsdWUgfSBmcm9tIFwiLi4vVmFsdWVcIjtcbmltcG9ydCB7IERlZmluZUZGRiB9IGZyb20gJy4uL0RlZmluZSc7XG5pbXBvcnQgeyBFY21hT2JqZWN0IH0gZnJvbSAnLi4vT2JqZWN0cy9FY21hT2JqZWN0JztcbmltcG9ydCAqIGFzIGNvbnN0YW50cyBmcm9tICcuLi9Db25zdGFudHMnO1xuaW1wb3J0IHsgSGFzSW5zdGFuY2UgfSBmcm9tICcuLi9IYXNJbnN0YW5jZSc7XG5pbXBvcnQgeyBOdW1iZXJPYmplY3QgfSBmcm9tICcuLi9PYmplY3RzL051bWJlck9iamVjdCc7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5pbXBvcnQgeyBNb25pdG9yQmFzZSB9IGZyb20gJy4uL01vbml0b3JCYXNlJztcblxuaW1wb3J0IHsgVG9OdW1iZXIgfSBmcm9tICcuLi9Db252ZXJzaW9uL1RvTnVtYmVyJztcbmltcG9ydCB7IFZhbHVlVHlwZXMgfSBmcm9tICcuLi9JbnRlcmZhY2VzJztcbmRlY2xhcmUgdmFyIG1vbml0b3I6IE1vbml0b3JCYXNlO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFRoZSBOdW1iZXIgQ29uc3RydWN0b3IsIDE1LjcuMlxuXG5leHBvcnQgY2xhc3MgTnVtYmVyQ29uc3RydWN0b3IgZXh0ZW5kcyBFY21hT2JqZWN0IHtcblxuICAgIGhvc3Q6IGFueTtcblxuICAgIGNvbnN0cnVjdG9yKGhvc3Q6IE51bWJlcikge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMuQ2xhc3MgPSAnRnVuY3Rpb24nO1xuICAgICAgICAvLyBub3QgbWFuZGF0ZWQgYnkgc3RhbmRhcmRcbiAgICAgICAgdGhpcy5FeHRlbnNpYmxlID0gdHJ1ZTtcblxuICAgICAgICB0aGlzLmhvc3QgPSBob3N0XG4gICAgfVxuXG4gICAgU2V0dXAoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuUHJvdG90eXBlID0gbmV3IFZhbHVlKG1vbml0b3IuaW5zdGFuY2VzLkZ1bmN0aW9uUHJvdG90eXBlLCBib3QpO1xuXG4gICAgICAgIERlZmluZUZGRih0aGlzLCBjb25zdGFudHMucHJvdG90eXBlLCBtb25pdG9yLmluc3RhbmNlcy5OdW1iZXJQcm90b3R5cGUpO1xuICAgICAgICBEZWZpbmVGRkYodGhpcywgY29uc3RhbnRzLmxlbmd0aCwgMSk7XG4gICAgICAgIERlZmluZUZGRih0aGlzLCBjb25zdGFudHMuTUFYX1ZBTFVFLCB0aGlzLmhvc3QuTUFYX1ZBTFVFKTtcbiAgICAgICAgRGVmaW5lRkZGKHRoaXMsIGNvbnN0YW50cy5NSU5fVkFMVUUsIHRoaXMuaG9zdC5NSU5fVkFMVUUpO1xuICAgICAgICBEZWZpbmVGRkYodGhpcywgY29uc3RhbnRzLk5hTiwgdGhpcy5ob3N0Lk5hTik7XG4gICAgICAgIERlZmluZUZGRih0aGlzLCBjb25zdGFudHMuTkVHQVRJVkVfSU5GSU5JVFksIHRoaXMuaG9zdC5ORUdBVElWRV9JTkZJTklUWSk7XG4gICAgICAgIERlZmluZUZGRih0aGlzLCBjb25zdGFudHMuUE9TSVRJVkVfSU5GSU5JVFksIHRoaXMuaG9zdC5QT1NJVElWRV9JTkZJTklUWSk7XG4gICAgfVxuXG4gICAgSGFzSW5zdGFuY2UoVjogVmFsdWU8VmFsdWVUeXBlcz4pOiBWYWx1ZTxib29sZWFuPiB7XG4gICAgICAgIHJldHVybiBIYXNJbnN0YW5jZS5jYWxsKHRoaXMsIFYpO1xuICAgIH1cblxuICAgIC8vIDE1LjcuMS4xXG4gICAgQ2FsbCh0aGlzQXJnOiBWYWx1ZTxWYWx1ZVR5cGVzPiwgYXJnczogVmFsdWU8VmFsdWVUeXBlcz5bXSk6IFZhbHVlPG51bWJlcj4ge1xuICAgICAgICBpZiAoIWFyZ3NbMF0pIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgVmFsdWUoMCwgYm90KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBUb051bWJlcihhcmdzWzBdKTtcbiAgICB9XG5cbiAgICAvLyAxNS43LjIuMVxuICAgIENvbnN0cnVjdChhcmdzOiBWYWx1ZTxWYWx1ZVR5cGVzPltdKTogVmFsdWU8TnVtYmVyT2JqZWN0PiB7XG4gICAgICAgIGxldCBhcmcwID0gYXJnc1swXSA/IFRvTnVtYmVyKGFyZ3NbMF0pIDogbmV3IFZhbHVlKDAsIGJvdCk7XG4gICAgICAgIGxldCByZXMgPSBuZXcgTnVtYmVyT2JqZWN0KGFyZzAudmFsdWUsIGFyZzAubGFiZWwpO1xuICAgICAgICByZXR1cm4gbmV3IFZhbHVlKHJlcywgYm90KTtcbiAgICB9XG59IiwiXG5pbXBvcnQgeyBMYWJlbCwgbHViLCBsZSwgYm90IH0gZnJvbSAnLi4vTGFiZWwnO1xuaW1wb3J0IHsgVmFsdWUgfSBmcm9tIFwiLi4vVmFsdWVcIjtcbmltcG9ydCB7IERlZmluZVRGVCwgRGVmaW5lRkZGIH0gZnJvbSAnLi4vRGVmaW5lJztcbmltcG9ydCB7IEVjbWFPYmplY3QgfSBmcm9tICcuLi9PYmplY3RzL0VjbWFPYmplY3QnO1xuXG5pbXBvcnQgKiBhcyBjb25zdGFudHMgZnJvbSAnLi4vQ29uc3RhbnRzJztcbmltcG9ydCB7IEJ1aWx0aW5GdW5jdGlvbk9iamVjdCB9IGZyb20gXCIuLi9PYmplY3RzL0J1aWx0aW5GdW5jdGlvbk9iamVjdFwiO1xuaW1wb3J0IHsgTW9uaXRvckJhc2UgfSBmcm9tICcuLi9Nb25pdG9yQmFzZSc7XG5cbmltcG9ydCB7IE9iamVjdE9iamVjdCB9IGZyb20gJy4uL09iamVjdHMvT2JqZWN0T2JqZWN0JztcbmltcG9ydCB7IEFycmF5T2JqZWN0IH0gZnJvbSAnLi4vT2JqZWN0cy9BcnJheU9iamVjdCc7XG5pbXBvcnQgeyBUb0Jvb2xlYW4gfSBmcm9tICcuLi9Db252ZXJzaW9uL1RvQm9vbGVhbic7XG5pbXBvcnQgeyBIYXNJbnN0YW5jZSB9IGZyb20gJy4uL0hhc0luc3RhbmNlJztcbmltcG9ydCB7IFRvU3RyaW5nIH0gZnJvbSAnLi4vQ29udmVyc2lvbi9Ub1N0cmluZyc7XG5pbXBvcnQgeyBUb09iamVjdCB9IGZyb20gJy4uL0NvbnZlcnNpb24vVG9PYmplY3QnO1xuaW1wb3J0IHsgSXNEYXRhRGVzY3JpcHRvciwgSlNGUHJvcGVydHlEZXNjcmlwdG9yIH0gZnJvbSAnLi4vUHJvcGVydHlEZXNjcmlwdG9yJztcbmltcG9ydCB7IFZhbHVlVHlwZXMsIElFY21hT2JqZWN0LCBJc0lFY21hT2JqZWN0IH0gZnJvbSAnLi4vSW50ZXJmYWNlcyc7XG5cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmRlY2xhcmUgdmFyIG1vbml0b3I6IE1vbml0b3JCYXNlO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIE9iamVjdCBDb25zdHJ1Y3RvciwgMTUuMi4zXG5cbmV4cG9ydCBjbGFzcyBPYmplY3RDb25zdHJ1Y3RvciBleHRlbmRzIEVjbWFPYmplY3Qge1xuXG4gIGhvc3Q6IGFueTtcblxuICBjb25zdHJ1Y3Rvcihob3N0OiBPYmplY3QpIHtcbiAgICBzdXBlcigpO1xuXG4gICAgdGhpcy5DbGFzcyA9ICdGdW5jdGlvbic7XG4gICAgdGhpcy5ob3N0ID0gaG9zdDtcbiAgfVxuXG4gIFNldHVwKCk6IHZvaWQge1xuXG4gICAgRGVmaW5lRkZGKHRoaXMsIGNvbnN0YW50cy5sZW5ndGgsIDEpO1xuXG4gICAgLy8gMTUuMi4zXG4gICAgdGhpcy5Qcm90b3R5cGUgPSBuZXcgVmFsdWUobW9uaXRvci5pbnN0YW5jZXMuRnVuY3Rpb25Qcm90b3R5cGUsIGJvdCk7XG4gICAgLy8gMTUuMi4zLjFcbiAgICBEZWZpbmVGRkYodGhpcywgY29uc3RhbnRzLnByb3RvdHlwZSwgbW9uaXRvci5pbnN0YW5jZXMuT2JqZWN0UHJvdG90eXBlKTtcblxuICAgIERlZmluZVRGVCh0aGlzLCBjb25zdGFudHMuZ2V0UHJvdG90eXBlT2YsIG5ldyBCdWlsdGluRnVuY3Rpb25PYmplY3QoZ2V0UHJvdG90eXBlT2YsIDEsIE9iamVjdC5nZXRQcm90b3R5cGVPZikpO1xuICAgIERlZmluZVRGVCh0aGlzLCBjb25zdGFudHMuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLCBuZXcgQnVpbHRpbkZ1bmN0aW9uT2JqZWN0KGdldE93blByb3BlcnR5RGVzY3JpcHRvciwgMiwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcikpO1xuICAgIERlZmluZVRGVCh0aGlzLCBjb25zdGFudHMuZ2V0T3duUHJvcGVydHlOYW1lcywgbmV3IEJ1aWx0aW5GdW5jdGlvbk9iamVjdChnZXRPd25Qcm9wZXJ0eU5hbWVzLCAxLCBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcykpO1xuICAgIERlZmluZVRGVCh0aGlzLCBjb25zdGFudHMuY3JlYXRlLCBuZXcgQnVpbHRpbkZ1bmN0aW9uT2JqZWN0KGNyZWF0ZSwgMiwgT2JqZWN0LmNyZWF0ZSkpO1xuICAgIERlZmluZVRGVCh0aGlzLCBjb25zdGFudHMuZGVmaW5lUHJvcGVydHksIG5ldyBCdWlsdGluRnVuY3Rpb25PYmplY3QoZGVmaW5lUHJvcGVydHksIDMsIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSkpO1xuICAgIERlZmluZVRGVCh0aGlzLCBjb25zdGFudHMuZGVmaW5lUHJvcGVydGllcywgbmV3IEJ1aWx0aW5GdW5jdGlvbk9iamVjdChkZWZpbmVQcm9wZXJ0aWVzLCAyLCBPYmplY3QuZGVmaW5lUHJvcGVydGllcykpO1xuICAgIERlZmluZVRGVCh0aGlzLCBjb25zdGFudHMuc2VhbCwgbmV3IEJ1aWx0aW5GdW5jdGlvbk9iamVjdChzZWFsLCAxLCBPYmplY3Quc2VhbCkpO1xuICAgIERlZmluZVRGVCh0aGlzLCBjb25zdGFudHMuZnJlZXplLCBuZXcgQnVpbHRpbkZ1bmN0aW9uT2JqZWN0KGZyZWV6ZSwgMSwgT2JqZWN0LmZyZWV6ZSkpO1xuICAgIERlZmluZVRGVCh0aGlzLCBjb25zdGFudHMucHJldmVudEV4dGVuc2lvbnMsIG5ldyBCdWlsdGluRnVuY3Rpb25PYmplY3QocHJldmVudEV4dGVuc2lvbnMsIDEsIE9iamVjdC5wcmV2ZW50RXh0ZW5zaW9ucykpO1xuICAgIERlZmluZVRGVCh0aGlzLCBjb25zdGFudHMuaXNTZWFsZWQsIG5ldyBCdWlsdGluRnVuY3Rpb25PYmplY3QoaXNTZWFsZWQsIDEsIE9iamVjdC5pc1NlYWxlZCkpO1xuICAgIERlZmluZVRGVCh0aGlzLCBjb25zdGFudHMuaXNGcm96ZW4sIG5ldyBCdWlsdGluRnVuY3Rpb25PYmplY3QoaXNGcm96ZW4sIDEsIE9iamVjdC5pc0Zyb3plbikpO1xuICAgIERlZmluZVRGVCh0aGlzLCBjb25zdGFudHMuaXNFeHRlbnNpYmxlLCBuZXcgQnVpbHRpbkZ1bmN0aW9uT2JqZWN0KGlzRXh0ZW5zaWJsZSwgMSwgT2JqZWN0LmlzRXh0ZW5zaWJsZSkpO1xuICAgIERlZmluZVRGVCh0aGlzLCBjb25zdGFudHMua2V5cywgbmV3IEJ1aWx0aW5GdW5jdGlvbk9iamVjdChrZXlzLCAxLCBPYmplY3Qua2V5cykpO1xuXG4gIH1cblxuICBIYXNJbnN0YW5jZShWOiBWYWx1ZTxWYWx1ZVR5cGVzPik6IFZhbHVlPGJvb2xlYW4+IHtcbiAgICByZXR1cm4gSGFzSW5zdGFuY2UuY2FsbCh0aGlzLCBWKTtcbiAgfVxuXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyAxNS4yLjEuMVxuICBDYWxsKHRoaXNBcmc6IFZhbHVlPFZhbHVlVHlwZXM+LCBhcmdzOiBWYWx1ZTxWYWx1ZVR5cGVzPltdKTogVmFsdWU8RWNtYU9iamVjdD4ge1xuICAgIGxldCBhcmcwID0gYXJnc1swXSB8fCBuZXcgVmFsdWUodW5kZWZpbmVkLCBib3QpO1xuXG4gICAgbGV0IHJlczogVmFsdWU8RWNtYU9iamVjdD47XG4gICAgbW9uaXRvci5jb250ZXh0LnB1c2hQQyhhcmcwLmxhYmVsKTtcbiAgICBpZiAoYXJnMC52YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IGFyZzAudmFsdWUgPT09IG51bGwpIHtcbiAgICAgIHJlcyA9IHRoaXMuQ29uc3RydWN0KGFyZ3MpO1xuICAgICAgcmVzLnJhaXNlKGFyZzAubGFiZWwpO1xuICAgICAgbW9uaXRvci5jb250ZXh0LnBvcFBDKCk7XG4gICAgICByZXR1cm4gcmVzO1xuICAgIH1cblxuICAgIHJlcyA9IFRvT2JqZWN0KGFyZzApO1xuICAgIG1vbml0b3IuY29udGV4dC5wb3BQQygpO1xuICAgIHJldHVybiByZXM7XG4gIH1cblxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gMTUuMi4yLjFcbiAgQ29uc3RydWN0KGFyZ3M6IFZhbHVlPFZhbHVlVHlwZXM+W10pOiBWYWx1ZTxPYmplY3RPYmplY3Q+IHtcblxuICAgIGxldCBhcmcwID0gYXJnc1swXSB8fCBuZXcgVmFsdWUodW5kZWZpbmVkLCBib3QpO1xuXG4gICAgbW9uaXRvci5jb250ZXh0LnB1c2hQQyhhcmcwLmxhYmVsKTtcblxuICAgIGxldCByZXM6IFZhbHVlPE9iamVjdE9iamVjdD47XG4gICAgaWYgKGFyZzAudmFsdWUgPT09IHVuZGVmaW5lZCB8fCBhcmcwLnZhbHVlID09PSBudWxsKSB7XG4gICAgICBsZXQgbyA9IG5ldyBPYmplY3RPYmplY3QoKTtcblxuICAgICAgcmVzID0gbmV3IFZhbHVlKG8sIGFyZzAubGFiZWwpO1xuICAgICAgbW9uaXRvci5jb250ZXh0LnBvcFBDKCk7XG4gICAgICByZXR1cm4gcmVzO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgYXJnMC52YWx1ZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgIHJlcyA9IG5ldyBWYWx1ZShhcmcwLnZhbHVlLCBhcmcwLmxhYmVsKTtcbiAgICAgIG1vbml0b3IuY29udGV4dC5wb3BQQygpO1xuICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG5cbiAgICByZXMgPSBUb09iamVjdChhcmcwKTtcbiAgICBtb25pdG9yLmNvbnRleHQucG9wUEMoKTtcbiAgICByZXR1cm4gcmVzO1xuICB9XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5mdW5jdGlvbiBBc3NlcnRPYmplY3QoYXJnOiBWYWx1ZTxWYWx1ZVR5cGVzPiwgY2FsbGVlOiBzdHJpbmcpOiB2b2lkIHtcblxuICBtb25pdG9yLmNvbnRleHQucHVzaFBDKGFyZy5sYWJlbCk7XG5cbiAgbW9uaXRvci5UaHJvdyhcbiAgICBcIlR5cGVFcnJvclwiLFxuICAgIGNhbGxlZSArICcgY2FsbGVkIG9uIG5vbi1vYmplY3QgKCcgKyBTdHJpbmcoYXJnLnZhbHVlKSArICcpJywgXG4gICAgYXJnLmxhYmVsXG4gICk7XG59XG5cblxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIDE1LjIuMy4yXG5mdW5jdGlvbiBnZXRQcm90b3R5cGVPZih0aGlzQXJnOiBWYWx1ZTxWYWx1ZVR5cGVzPiwgYXJnczogVmFsdWU8VmFsdWVUeXBlcz5bXSk6IFZhbHVlPElFY21hT2JqZWN0IHwgbnVsbD4ge1xuICBsZXQgTyA9IGFyZ3NbMF0gfHwgbmV3IFZhbHVlKHVuZGVmaW5lZCwgYm90KTtcblxuICBpZiAoIUlzSUVjbWFPYmplY3QoTykpIHtcbiAgICBBc3NlcnRPYmplY3QoTywgJ09iamVjdC5nZXRQcm90b3R5cGVPZicpO1xuICAgIHRocm93ICdUeXBlU2NyaXB0JztcbiAgfVxuXG4gIGxldCBwcm90byA9IE8udmFsdWUuUHJvdG90eXBlO1xuICByZXR1cm4gbmV3IFZhbHVlKHByb3RvLnZhbHVlLCBsdWIocHJvdG8ubGFiZWwsIE8ubGFiZWwpKTtcbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyAxNS4yLjMuM1xuXG5sZXQgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID0gZnVuY3Rpb24gKHRoaXNBcmc6IFZhbHVlPFZhbHVlVHlwZXM+LCBhcmdzOiBWYWx1ZTxWYWx1ZVR5cGVzPltdKTogVmFsdWU8T2JqZWN0T2JqZWN0IHwgdW5kZWZpbmVkPiB7XG4gIGxldCBPID0gYXJnc1swXSB8fCBuZXcgVmFsdWUodW5kZWZpbmVkLCBib3QpO1xuICBsZXQgUCA9IGFyZ3NbMV0gfHwgbmV3IFZhbHVlKHVuZGVmaW5lZCwgYm90KTtcblxuICBpZiAoIUlzSUVjbWFPYmplY3QoTykpIHtcbiAgICBBc3NlcnRPYmplY3QoTywgJ09iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3InKTtcbiAgICB0aHJvdyAnVHlwZVNjcmlwdCc7XG4gIH1cblxuICBsZXQgbmFtZSA9IFRvU3RyaW5nKFApO1xuICBsZXQgZGVzYyA9IE8uR2V0T3duUHJvcGVydHkobmFtZSk7XG5cbiAgaWYgKGRlc2MudmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiBuZXcgVmFsdWUodW5kZWZpbmVkLCBkZXNjLmxhYmVsKTtcbiAgfVxuXG4gIGxldCBvYmogPSBuZXcgT2JqZWN0T2JqZWN0KCk7XG4gIGlmIChJc0RhdGFEZXNjcmlwdG9yKGRlc2MudmFsdWUpKSB7XG4gICAgb2JqLkRlZmluZU93blByb3BlcnR5KFxuICAgICAgY29uc3RhbnRzLnZhbHVlLFxuICAgICAge1xuICAgICAgICB2YWx1ZTogZGVzYy52YWx1ZS52YWx1ZSxcbiAgICAgICAgd3JpdGFibGU6IHRydWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgbGFiZWw6IGRlc2MudmFsdWUubGFiZWxcbiAgICAgIH0sXG4gICAgICBmYWxzZVxuICAgICk7XG5cbiAgICBvYmouRGVmaW5lT3duUHJvcGVydHkoXG4gICAgICBjb25zdGFudHMud3JpdGFibGUsXG4gICAgICB7XG4gICAgICAgIHZhbHVlOiBkZXNjLnZhbHVlLndyaXRhYmxlLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICBsYWJlbDogZGVzYy52YWx1ZS5sYWJlbFxuICAgICAgfSxcbiAgICAgIGZhbHNlXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICAvL0B0cy1pZ25vcmUgREVTQyBIRUxMXG4gICAgbGV0IGdldCA9IGRlc2MudmFsdWUuZ2V0ID8gZGVzYy52YWx1ZS5nZXQuYWN0dWFsRnVuY3Rpb24gOiBkZXNjLnZhbHVlLmdldDtcbiAgICBvYmouRGVmaW5lT3duUHJvcGVydHkoXG4gICAgICBjb25zdGFudHMuZ2V0LFxuICAgICAge1xuICAgICAgICB2YWx1ZTogZ2V0LFxuICAgICAgICB3cml0YWJsZTogdHJ1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICBsYWJlbDogZGVzYy52YWx1ZS5sYWJlbFxuICAgICAgfSxcbiAgICAgIGZhbHNlXG4gICAgKTtcblxuICAgIC8vQHRzLWlnbm9yZSBERVNDIEhFTExcbiAgICBsZXQgc2V0ID0gZGVzYy52YWx1ZS5zZXQgPyBkZXNjLnZhbHVlLnNldC5hY3R1YWxGdW5jdGlvbiA6IGRlc2MudmFsdWUuc2V0O1xuICAgIG9iai5EZWZpbmVPd25Qcm9wZXJ0eShcbiAgICAgIGNvbnN0YW50cy5zZXQsXG4gICAgICB7XG4gICAgICAgIHZhbHVlOiBzZXQsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIGxhYmVsOiBkZXNjLnZhbHVlLmxhYmVsXG4gICAgICB9LFxuICAgICAgZmFsc2VcbiAgICApO1xuICB9XG5cbiAgb2JqLkRlZmluZU93blByb3BlcnR5KFxuICAgIGNvbnN0YW50cy5lbnVtZXJhYmxlLFxuICAgIHtcbiAgICAgIHZhbHVlOiBkZXNjLnZhbHVlLmVudW1lcmFibGUsXG4gICAgICB3cml0YWJsZTogdHJ1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgbGFiZWw6IGRlc2MudmFsdWUubGFiZWxcbiAgICB9LFxuICAgIGZhbHNlXG4gICk7XG5cbiAgb2JqLkRlZmluZU93blByb3BlcnR5KFxuICAgIGNvbnN0YW50cy5jb25maWd1cmFibGUsXG4gICAge1xuICAgICAgdmFsdWU6IGRlc2MudmFsdWUuY29uZmlndXJhYmxlLFxuICAgICAgd3JpdGFibGU6IHRydWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIGxhYmVsOiBkZXNjLnZhbHVlLmxhYmVsXG4gICAgfSxcbiAgICBmYWxzZVxuICApO1xuXG4gIHJldHVybiBuZXcgVmFsdWUob2JqLCBkZXNjLmxhYmVsKTtcbn07XG5cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyAxNS4yLjMuNFxuXG5mdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eU5hbWVzKHRoaXNBcmc6IFZhbHVlPFZhbHVlVHlwZXM+LCBhcmdzOiBWYWx1ZTxWYWx1ZVR5cGVzPltdKTogVmFsdWU8QXJyYXlPYmplY3Q+IHtcbiAgbGV0IE8gPSBhcmdzWzBdIHx8IG5ldyBWYWx1ZSh1bmRlZmluZWQsIGJvdCk7XG4gIGlmICghSXNJRWNtYU9iamVjdChPKSkge1xuICAgIEFzc2VydE9iamVjdChPLCAnT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMnKTtcbiAgICB0aHJvdyAnVHlwZVNjcmlwdCc7XG4gIH1cblxuICBsZXQgcHJvcGVydHlOYW1lcyA9IE8udmFsdWUuZ2V0T3duUHJvcGVydHlOYW1lcyhPLmxhYmVsKTtcbiAgbGV0IGFycmF5ID0gQXJyYXlPYmplY3QuZnJvbVByb3BlcnR5QXJyYXkocHJvcGVydHlOYW1lcywgTy52YWx1ZS5zdHJ1Y3QpO1xuICByZXR1cm4gbmV3IFZhbHVlKGFycmF5LCBib3QpO1xufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIDE1LjIuMy41XG5cbmZ1bmN0aW9uIGNyZWF0ZSh0aGlzQXJnOiBWYWx1ZTxWYWx1ZVR5cGVzPiwgYXJnczogVmFsdWU8VmFsdWVUeXBlcz5bXSk6IFZhbHVlPE9iamVjdE9iamVjdD4ge1xuICBsZXQgTyA9IGFyZ3NbMF0gfHwgbmV3IFZhbHVlKHVuZGVmaW5lZCwgYm90KTtcbiAgbGV0IFByb3BlcnRpZXMgPSBhcmdzWzFdIHx8IG5ldyBWYWx1ZSh1bmRlZmluZWQsIGJvdCk7XG5cbiAgaWYgKE8udmFsdWUgIT09IG51bGwgJiYgIUlzSUVjbWFPYmplY3QoTykpIHtcbiAgICBBc3NlcnRPYmplY3QoTywgJ09iamVjdC5jcmVhdGUnKTtcbiAgICB0aHJvdyAnVHlwZVNjcmlwdCc7XG4gIH1cblxuICBsZXQgb2JqID0gbmV3IE9iamVjdE9iamVjdCgpO1xuICBvYmouUHJvdG90eXBlID0gTztcbiAgbGV0IG9ialZhbHVlID0gbmV3IFZhbHVlKG9iaiwgYm90KTtcblxuICBpZiAoUHJvcGVydGllcy52YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgZGVmaW5lUHJvcGVydGllcyh0aGlzQXJnLCBbb2JqVmFsdWUsIFByb3BlcnRpZXNdKTtcbiAgfVxuICByZXR1cm4gb2JqVmFsdWU7XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5mdW5jdGlvbiBUb1Byb3BlcnR5RGVzY3JpcHRvcihPYmo6IFZhbHVlPEVjbWFPYmplY3Q+KTogSlNGUHJvcGVydHlEZXNjcmlwdG9yIHtcbiAgaWYgKCFJc0lFY21hT2JqZWN0KE9iaikpIHtcbiAgICBBc3NlcnRPYmplY3QoT2JqLCAnT2JqZWN0LlRvUHJvcGVydHlEZXNjcmlwdG9yJyk7XG4gICAgdGhyb3cgJ1R5cGVTY3JpcHQnO1xuICB9XG5cbiAgbGV0IGMgPSBtb25pdG9yLmNvbnRleHQ7XG5cbiAgbGV0IGxibCA9IG5ldyBMYWJlbCgpO1xuICBsZXQgZGVzYzogSlNGUHJvcGVydHlEZXNjcmlwdG9yID0geyBsYWJlbDogYm90IH07XG5cbiAgbGV0IGI6IFZhbHVlPGJvb2xlYW4+O1xuICBsZXQgeDogVmFsdWU8VmFsdWVUeXBlcz47XG4gIGxldCBwcm9wZXJ0eU5hbWU6IFZhbHVlPHN0cmluZyB8IG51bWJlcj47XG5cbiAgLy8gZW51bWVyYWJsZVxuICBwcm9wZXJ0eU5hbWUgPSBjb25zdGFudHMuZW51bWVyYWJsZTtcbiAgYiA9IE9iai5IYXNQcm9wZXJ0eShwcm9wZXJ0eU5hbWUpO1xuXG4gIGxibCA9IGx1YihsYmwsIGIubGFiZWwpO1xuICBpZiAoYi52YWx1ZSkge1xuICAgIGMucHVzaFBDKGIubGFiZWwpO1xuICAgIHggPSBUb0Jvb2xlYW4oT2JqLkdldChwcm9wZXJ0eU5hbWUpKTtcbiAgICBjLnBvcFBDKCk7XG4gICAgbGJsID0gbHViKGxibCwgeC5sYWJlbCk7XG4gICAgZGVzY1twcm9wZXJ0eU5hbWUudmFsdWVdID0geC52YWx1ZTtcbiAgfVxuXG4gIC8vIGNvbmZpZ3VyYWJsZVxuICBwcm9wZXJ0eU5hbWUgPSBjb25zdGFudHMuY29uZmlndXJhYmxlO1xuICBiID0gT2JqLkhhc1Byb3BlcnR5KHByb3BlcnR5TmFtZSk7XG5cbiAgbGJsID0gbHViKGxibCwgYi5sYWJlbCk7XG4gIGlmIChiLnZhbHVlKSB7XG4gICAgYy5wdXNoUEMoYi5sYWJlbCk7XG4gICAgeCA9IFRvQm9vbGVhbihPYmouR2V0KHByb3BlcnR5TmFtZSkpO1xuICAgIGMucG9wUEMoKTtcbiAgICBsYmwgPSBsdWIobGJsLCB4LmxhYmVsKTtcbiAgICBkZXNjW3Byb3BlcnR5TmFtZS52YWx1ZV0gPSB4LnZhbHVlO1xuICB9XG5cbiAgLy8gdmFsdWVcbiAgcHJvcGVydHlOYW1lID0gY29uc3RhbnRzLnZhbHVlO1xuICBiID0gT2JqLkhhc1Byb3BlcnR5KHByb3BlcnR5TmFtZSk7XG5cbiAgbGJsID0gbHViKGxibCwgYi5sYWJlbCk7XG4gIGlmIChiLnZhbHVlKSB7XG4gICAgYy5wdXNoUEMoYi5sYWJlbCk7XG4gICAgeCA9IE9iai5HZXQocHJvcGVydHlOYW1lKTtcbiAgICBjLnBvcFBDKCk7XG4gICAgbGJsID0gbHViKGxibCwgeC5sYWJlbCk7XG4gICAgZGVzY1twcm9wZXJ0eU5hbWUudmFsdWVdID0geC52YWx1ZTtcbiAgfVxuXG4gIC8vIHdyaXRhYmxlXG4gIHByb3BlcnR5TmFtZSA9IGNvbnN0YW50cy53cml0YWJsZTtcbiAgYiA9IE9iai5IYXNQcm9wZXJ0eShwcm9wZXJ0eU5hbWUpO1xuXG4gIGxibCA9IGx1YihsYmwsIGIubGFiZWwpO1xuICBpZiAoYi52YWx1ZSkge1xuICAgIGMucHVzaFBDKGIubGFiZWwpO1xuICAgIHggPSBUb0Jvb2xlYW4oT2JqLkdldChwcm9wZXJ0eU5hbWUpKTtcbiAgICBjLnBvcFBDKCk7XG4gICAgbGJsID0gbHViKGxibCwgeC5sYWJlbCk7XG4gICAgZGVzY1twcm9wZXJ0eU5hbWUudmFsdWVdID0geC52YWx1ZTtcbiAgfVxuXG4gIC8vIGdldFxuICBwcm9wZXJ0eU5hbWUgPSBjb25zdGFudHMuZ2V0O1xuICBiID0gT2JqLkhhc1Byb3BlcnR5KHByb3BlcnR5TmFtZSk7XG5cbiAgbGJsID0gbHViKGxibCwgYi5sYWJlbCk7XG4gIGlmIChiLnZhbHVlKSB7XG4gICAgYy5wdXNoUEMoYi5sYWJlbCk7XG4gICAgeCA9IE9iai5HZXQocHJvcGVydHlOYW1lKTtcbiAgICBjLnBvcFBDKCk7XG4gICAgbGJsID0gbHViKGxibCwgeC5sYWJlbCk7XG4gICAgZGVzY1twcm9wZXJ0eU5hbWUudmFsdWVdID0geC52YWx1ZTtcbiAgfVxuXG4gIC8vIHNldFxuICBwcm9wZXJ0eU5hbWUgPSBjb25zdGFudHMuc2V0O1xuICBiID0gT2JqLkhhc1Byb3BlcnR5KHByb3BlcnR5TmFtZSk7XG5cbiAgbGJsID0gbHViKGxibCwgYi5sYWJlbCk7XG4gIGlmIChiLnZhbHVlKSB7XG4gICAgYy5wdXNoUEMoYi5sYWJlbCk7XG4gICAgeCA9IE9iai5HZXQocHJvcGVydHlOYW1lKTtcbiAgICBjLnBvcFBDKCk7XG4gICAgbGJsID0gbHViKGxibCwgeC5sYWJlbCk7XG4gICAgZGVzY1twcm9wZXJ0eU5hbWUudmFsdWVdID0geC52YWx1ZTtcbiAgfVxuXG4gIGRlc2MubGFiZWwgPSBsYmw7XG4gIHJldHVybiBkZXNjO1xufVxuXG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gMTUuMi4zLjZcblxuZnVuY3Rpb24gZGVmaW5lUHJvcGVydHkodGhpc0FyZzogVmFsdWU8VmFsdWVUeXBlcz4sIGFyZ3M6IFZhbHVlPFZhbHVlVHlwZXM+W10pOiBWYWx1ZTxJRWNtYU9iamVjdD4ge1xuICBsZXQgTyA9IGFyZ3NbMF0gfHwgbmV3IFZhbHVlKHVuZGVmaW5lZCwgYm90KTtcbiAgbGV0IFAgPSBhcmdzWzFdIHx8IG5ldyBWYWx1ZSh1bmRlZmluZWQsIGJvdCk7XG4gIGxldCBBdHRyaWJ1dGVzID0gYXJnc1syXSB8fCBuZXcgVmFsdWUodW5kZWZpbmVkLCBib3QpO1xuXG4gIGlmICghSXNJRWNtYU9iamVjdChPKSkge1xuICAgIEFzc2VydE9iamVjdChPLCAnT2JqZWN0LmRlZmluZVByb3BlcnR5Jyk7XG4gICAgdGhyb3cgJ1R5cGVTY3JpcHQnO1xuICB9XG5cbiAgbGV0IG5hbWUgPSBUb1N0cmluZyhQKTtcbiAgbGV0IGRlc2MgPSBUb1Byb3BlcnR5RGVzY3JpcHRvcihBdHRyaWJ1dGVzKTtcbiAgTy5EZWZpbmVPd25Qcm9wZXJ0eShuYW1lLCBkZXNjLCB0cnVlKTtcbiAgcmV0dXJuIE87XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gMTUuMi4zLjdcblxuZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0aGlzQXJnOiBWYWx1ZTxWYWx1ZVR5cGVzPiwgYXJnczogVmFsdWU8VmFsdWVUeXBlcz5bXSk6IFZhbHVlPElFY21hT2JqZWN0PiB7XG4gIGxldCBPID0gYXJnc1swXSB8fCBuZXcgVmFsdWUodW5kZWZpbmVkLCBib3QpO1xuICBsZXQgUHJvcGVydGllcyA9IGFyZ3NbMV0gfHwgbmV3IFZhbHVlKHVuZGVmaW5lZCwgYm90KTtcblxuICBpZiAoIUlzSUVjbWFPYmplY3QoTykpIHtcbiAgICBBc3NlcnRPYmplY3QoTywgJ09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzJyk7XG4gICAgdGhyb3cgJ1R5cGVTY3JpcHQnO1xuICB9XG5cbiAgbGV0IHByb3BzID0gVG9PYmplY3QoUHJvcGVydGllcyk7XG4gIGxldCBuYW1lcyA9IHByb3BzLnZhbHVlLmdldE93bkVudW1lcmFibGVQcm9wZXJ0eU5hbWVzKHByb3BzLmxhYmVsKTtcblxuICBsZXQgZGVzY3JpcHRvcnM6IHsgbmFtZTogVmFsdWU8c3RyaW5nPiwgZGVzY3JpcHRvcjogSlNGUHJvcGVydHlEZXNjcmlwdG9yIH1bXSA9IFtdO1xuXG4gIGZvciAobGV0IGkgPSAwLCBsZW4gPSBuYW1lcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIGxldCBQID0gbmFtZXNbaV07XG4gICAgbGV0IGRlc2NPYmplY3QgPSBwcm9wcy5HZXQoUCk7XG4gICAgLy9AdHMtaWdub3JlIERFQyBIRUxMXG4gICAgbGV0IGRlc2MgPSBUb1Byb3BlcnR5RGVzY3JpcHRvcihkZXNjT2JqZWN0KTtcblxuICAgIGRlc2NyaXB0b3JzLnB1c2goeyBuYW1lOiBQLCBkZXNjcmlwdG9yOiBkZXNjIH0pO1xuICB9XG5cbiAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IGRlc2NyaXB0b3JzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgbGV0IFAgPSBkZXNjcmlwdG9yc1tpXS5uYW1lO1xuICAgIGxldCBkZXNjID0gZGVzY3JpcHRvcnNbaV0uZGVzY3JpcHRvcjtcbiAgICBPLkRlZmluZU93blByb3BlcnR5KFAsIGRlc2MsIHRydWUpO1xuICB9XG5cbiAgcmV0dXJuIE87XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gMTUuMi4zLjhcblxuZnVuY3Rpb24gc2VhbCh0aGlzQXJnOiBWYWx1ZTxWYWx1ZVR5cGVzPiwgYXJnczogVmFsdWU8VmFsdWVUeXBlcz5bXSk6IFZhbHVlPElFY21hT2JqZWN0PiB7XG4gIGxldCBPID0gYXJnc1swXSB8fCBuZXcgVmFsdWUodW5kZWZpbmVkLCBib3QpO1xuXG4gIGlmICghSXNJRWNtYU9iamVjdChPKSkge1xuICAgIEFzc2VydE9iamVjdChPLCAnT2JqZWN0LmRlZmluZVByb3BlcnRpZXMnKTtcbiAgICB0aHJvdyAnVHlwZVNjcmlwdCc7XG4gIH1cblxuICBsZXQgY29udGV4dCA9IGx1Yihtb25pdG9yLmNvbnRleHQuZWZmZWN0aXZlUEMsIE8ubGFiZWwpO1xuXG4gIG1vbml0b3IuYXNzZXJ0KFxuICAgIGxlKGNvbnRleHQsIE8udmFsdWUuc3RydWN0KSxcbiAgICAnT2JqZWN0LnNlYWw6IGNvbnRleHQgbGFiZWwgJyArIGNvbnRleHQgKyAnIG5vdCBiZWxvdyBzdHJ1Y3R1cmFsIGxhYmVsICcgKyBPLnZhbHVlLnN0cnVjdCArICcgb2Ygb2JqZWN0J1xuICApO1xuXG4gIGxldCBsYWJlbHMgPSBPLnZhbHVlLmxhYmVscztcbiAgZm9yIChsZXQgeCBpbiBsYWJlbHMpIHtcbiAgICBpZiAoT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwobGFiZWxzLCB4KSkge1xuICAgICAgbW9uaXRvci5hc3NlcnQoXG4gICAgICAgIGxlKGNvbnRleHQsIGxhYmVsc1t4XS52YWx1ZSksXG4gICAgICAgICdPYmplY3Quc2VhbDogY29udGV4dCBsYWJlbCAnICsgY29udGV4dCArICcgbm90IGJlbG93IGxhYmVsICcgKyBsYWJlbHNbeF0udmFsdWUgKyAnIG9mICcgKyB4XG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIE9iamVjdC5zZWFsKE8udmFsdWUucHJvcGVydGllcyk7XG4gIE8udmFsdWUuRXh0ZW5zaWJsZSA9IGZhbHNlO1xuICByZXR1cm4gTztcbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyAxNS4yLjMuOVxuXG5mdW5jdGlvbiBmcmVlemUodGhpc0FyZzogVmFsdWU8VmFsdWVUeXBlcz4sIGFyZ3M6IFZhbHVlPFZhbHVlVHlwZXM+W10pOiBWYWx1ZTxJRWNtYU9iamVjdD4ge1xuICBsZXQgTyA9IGFyZ3NbMF0gfHwgbmV3IFZhbHVlKHVuZGVmaW5lZCwgYm90KTtcbiAgaWYgKCFJc0lFY21hT2JqZWN0KE8pKSB7XG4gICAgQXNzZXJ0T2JqZWN0KE8sICdPYmplY3QuZnJlZXplJyk7XG4gICAgdGhyb3cgJ1R5cGVTY3JpcHQnO1xuICB9XG5cbiAgbGV0IGNvbnRleHQgPSBsdWIobW9uaXRvci5jb250ZXh0LmVmZmVjdGl2ZVBDLCBPLmxhYmVsKTtcblxuICBtb25pdG9yLmFzc2VydChcbiAgICBsZShjb250ZXh0LCBPLnZhbHVlLnN0cnVjdCksXG4gICAgJ09iamVjdC5mcmVlemU6IGNvbnRleHQgbGFiZWwgJyArIGNvbnRleHQgKyAnIG5vdCBiZWxvdyBzdHJ1Y3R1cmFsIGxhYmVsICcgKyBPLnZhbHVlLnN0cnVjdCArICcgb2Ygb2JqZWN0J1xuICApO1xuXG4gIGxldCBsYWJlbHMgPSBPLnZhbHVlLmxhYmVscztcbiAgbGV0IHByb3BlcnRpZXMgPSBPLnZhbHVlLnByb3BlcnRpZXM7XG5cbiAgZm9yIChsZXQgeCBpbiBwcm9wZXJ0aWVzKSB7XG4gICAgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKHByb3BlcnRpZXMsIHgpKSB7XG4gICAgICBsZXQgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IocHJvcGVydGllcywgeCk7XG4gICAgICBpZiAoZGVzYy5lbnVtZXJhYmxlKSB7XG4gICAgICAgIG1vbml0b3IuYXNzZXJ0KFxuICAgICAgICAgIGxlKGNvbnRleHQsIGxhYmVsc1t4XS52YWx1ZSksXG4gICAgICAgICAgJ09iamVjdC5mcmVlemU6IGNvbnRleHQgbGFiZWwgJyArIGNvbnRleHQgKyAnIG5vdCBiZWxvdyBsYWJlbCAnICsgbGFiZWxzW3hdLnZhbHVlICsgJyBvZiAnICsgeFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIE9iamVjdC5mcmVlemUoTy52YWx1ZS5wcm9wZXJ0aWVzKTtcbiAgTy52YWx1ZS5FeHRlbnNpYmxlID0gZmFsc2U7XG4gIHJldHVybiBPO1xuXG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gMTUuMi4zLjEwXG5cbmZ1bmN0aW9uIHByZXZlbnRFeHRlbnNpb25zKHRoaXNBcmc6IFZhbHVlPFZhbHVlVHlwZXM+LCBhcmdzOiBWYWx1ZTxWYWx1ZVR5cGVzPltdKTogVmFsdWU8SUVjbWFPYmplY3Q+IHtcbiAgbGV0IE8gPSBhcmdzWzBdIHx8IG5ldyBWYWx1ZSh1bmRlZmluZWQsIGJvdCk7XG4gIGlmICghSXNJRWNtYU9iamVjdChPKSkge1xuICAgIEFzc2VydE9iamVjdChPLCAnT2JqZWN0LnByZXZlbnRFeHRlbnNpb25zJyk7XG4gICAgdGhyb3cgJ1R5cGVTY3JpcHQnO1xuICB9XG5cbiAgbGV0IGNvbnRleHQgPSBsdWIobW9uaXRvci5jb250ZXh0LmVmZmVjdGl2ZVBDLCBPLmxhYmVsKTtcblxuICBtb25pdG9yLmFzc2VydChcbiAgICBsZShjb250ZXh0LCBPLnZhbHVlLnN0cnVjdCksXG4gICAgJ09iamVjdC5wcmV2ZW50RXh0ZW5zaW9uczogY29udGV4dCBsYWJlbCAnICsgY29udGV4dCArICcgbm90IGJlbG93IHN0cnVjdHVyYWwgbGFiZWwgJyArIE8udmFsdWUuc3RydWN0ICsgJyBvZiBvYmplY3QnXG4gICk7XG5cbiAgT2JqZWN0LnByZXZlbnRFeHRlbnNpb25zKE8udmFsdWUucHJvcGVydGllcyk7XG4gIE8udmFsdWUuRXh0ZW5zaWJsZSA9IGZhbHNlO1xuICByZXR1cm4gTztcbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyAxNS4yLjMuMTFcblxuZnVuY3Rpb24gaXNTZWFsZWQodGhpc0FyZzogVmFsdWU8VmFsdWVUeXBlcz4sIGFyZ3M6IFZhbHVlPFZhbHVlVHlwZXM+W10pOiBWYWx1ZTxib29sZWFuPiB7XG4gIGxldCBPID0gYXJnc1swXSB8fCBuZXcgVmFsdWUodW5kZWZpbmVkLCBib3QpO1xuICBpZiAoIUlzSUVjbWFPYmplY3QoTykpIHtcbiAgICBBc3NlcnRPYmplY3QoTywgJ09iamVjdC5pc1NlYWxlZCcpO1xuICAgIHRocm93ICdUeXBlU2NyaXB0JztcbiAgfVxuXG4gIGxldCByZXN1bHQgPSBPYmplY3QuaXNTZWFsZWQoTy52YWx1ZS5wcm9wZXJ0aWVzKTtcbiAgcmV0dXJuIG5ldyBWYWx1ZShyZXN1bHQsIGx1YihPLmxhYmVsLCBPLnZhbHVlLnN0cnVjdCkpO1xufVxuXG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gMTUuMi4zLjEyXG5cbmZ1bmN0aW9uIGlzRnJvemVuKHRoaXNBcmc6IFZhbHVlPFZhbHVlVHlwZXM+LCBhcmdzOiBWYWx1ZTxWYWx1ZVR5cGVzPltdKTogVmFsdWU8Ym9vbGVhbj4ge1xuICBsZXQgTyA9IGFyZ3NbMF0gfHwgbmV3IFZhbHVlKHVuZGVmaW5lZCwgYm90KTtcbiAgaWYgKCFJc0lFY21hT2JqZWN0KE8pKSB7XG4gICAgQXNzZXJ0T2JqZWN0KE8sICdPYmplY3QuaXNGcm96ZW4nKTtcbiAgICB0aHJvdyAnVHlwZVNjcmlwdCc7XG4gIH1cblxuICBsZXQgcmVzdWx0ID0gT2JqZWN0LmlzRnJvemVuKE8udmFsdWUucHJvcGVydGllcyk7XG4gIHJldHVybiBuZXcgVmFsdWUocmVzdWx0LCBsdWIoTy5sYWJlbCwgTy52YWx1ZS5zdHJ1Y3QpKTtcbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyAxNS4yLjMuMTNcblxuZnVuY3Rpb24gaXNFeHRlbnNpYmxlKHRoaXNBcmc6IFZhbHVlPFZhbHVlVHlwZXM+LCBhcmdzOiBWYWx1ZTxWYWx1ZVR5cGVzPltdKTogVmFsdWU8Ym9vbGVhbj4ge1xuICBsZXQgTyA9IGFyZ3NbMF0gfHwgbmV3IFZhbHVlKHVuZGVmaW5lZCwgYm90KTtcbiAgaWYgKCFJc0lFY21hT2JqZWN0KE8pKSB7XG4gICAgQXNzZXJ0T2JqZWN0KE8sICdPYmplY3QuaXNFeHRlbnNpYmxlJyk7XG4gICAgdGhyb3cgJ1R5cGVTY3JpcHQnO1xuICB9XG5cbiAgbGV0IHJlc3VsdCA9IE9iamVjdC5pc0V4dGVuc2libGUoTy52YWx1ZS5wcm9wZXJ0aWVzKTtcbiAgcmV0dXJuIG5ldyBWYWx1ZShyZXN1bHQsIGx1YihPLmxhYmVsLCBPLnZhbHVlLnN0cnVjdCkpO1xufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIDE1LjIuMy4xNFxuZnVuY3Rpb24ga2V5cyh0aGlzQXJnOiBWYWx1ZTxWYWx1ZVR5cGVzPiwgYXJnczogVmFsdWU8VmFsdWVUeXBlcz5bXSk6IFZhbHVlPEFycmF5T2JqZWN0PiB7XG4gIGxldCBPPSBhcmdzWzBdIHx8IG5ldyBWYWx1ZSh1bmRlZmluZWQsIGJvdCk7XG5cbiAgaWYgKCFJc0lFY21hT2JqZWN0KE8pKSB7XG4gICAgQXNzZXJ0T2JqZWN0KE8sICdPYmplY3QuaXNFeHRlbnNpYmxlJyk7XG4gICAgdGhyb3cgJ1R5cGVTY3JpcHQnO1xuICB9XG5cbiAgbGV0IGVudW1lcmFibGUgPSBPLnZhbHVlLmdldE93bkVudW1lcmFibGVQcm9wZXJ0eU5hbWVzKE8ubGFiZWwpO1xuICBsZXQgYXJyYXkgPSBBcnJheU9iamVjdC5mcm9tUHJvcGVydHlBcnJheShlbnVtZXJhYmxlLCBPLnZhbHVlLnN0cnVjdCk7XG5cbiAgcmV0dXJuIG5ldyBWYWx1ZShhcnJheSwgYm90KTtcbn0iLCJpbXBvcnQgeyBFcnJvckNvbnN0cnVjdG9yIH0gZnJvbSBcIi4vRXJyb3JDb25zdHJ1Y3RvclwiO1xuaW1wb3J0IHsgYm90IH0gZnJvbSBcIi4uL0xhYmVsXCI7XG5pbXBvcnQgeyBWYWx1ZSB9IGZyb20gXCIuLi9WYWx1ZVwiO1xuaW1wb3J0IHsgUmFuZ2VFcnJvck9iamVjdCB9IGZyb20gXCIuLi9PYmplY3RzL1JhbmdlRXJyb3JPYmplY3RcIjtcbmltcG9ydCB7IE1vbml0b3JCYXNlIH0gZnJvbSBcIi4uL01vbml0b3JCYXNlXCI7XG5pbXBvcnQgeyBWYWx1ZVR5cGVzIH0gZnJvbSBcIi4uL0ludGVyZmFjZXNcIjtcblxuZGVjbGFyZSB2YXIgbW9uaXRvcjogTW9uaXRvckJhc2U7XG5cbmV4cG9ydCBjbGFzcyBSYW5nZUVycm9yQ29uc3RydWN0b3IgZXh0ZW5kcyBFcnJvckNvbnN0cnVjdG9yIHtcblxuICAgIGNvbnN0cnVjdG9yKGhvc3QgOiBSYW5nZUVycm9yKSB7XG4gICAgICAgIHN1cGVyKGhvc3QpO1xuICAgIH1cblxuICAgIFNldHVwKCkgOiB2b2lkIHtcbiAgICAgICAgdGhpcy5TZXR1cEJhc2UobW9uaXRvci5pbnN0YW5jZXMuUmFuZ2VFcnJvclByb3RvdHlwZSk7XG4gICAgfVxuXG4gICAgQ29uc3RydWN0KGFyZ3M6IFZhbHVlPFZhbHVlVHlwZXM+W10pOiBWYWx1ZTxSYW5nZUVycm9yT2JqZWN0PiB7XG4gICAgICAgIHZhciBtZXNzYWdlID0gYXJnc1swXSB8fCBuZXcgVmFsdWUodW5kZWZpbmVkLCBib3QpO1xuICAgICAgICB2YXIgbyA9IG5ldyBSYW5nZUVycm9yT2JqZWN0KG1lc3NhZ2UpO1xuICAgICAgICByZXR1cm4gbmV3IFZhbHVlKG8sIGJvdCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgRXJyb3JDb25zdHJ1Y3RvciB9IGZyb20gXCIuL0Vycm9yQ29uc3RydWN0b3JcIjtcbmltcG9ydCB7IGJvdCB9IGZyb20gXCIuLi9MYWJlbFwiO1xuaW1wb3J0IHsgVmFsdWUgfSBmcm9tIFwiLi4vVmFsdWVcIjtcbmltcG9ydCB7IFJlZmVyZW5jZUVycm9yT2JqZWN0IH0gZnJvbSBcIi4uL09iamVjdHMvUmVmZXJlbmNlRXJyb3JPYmplY3RcIjtcbmltcG9ydCB7IE1vbml0b3JCYXNlIH0gZnJvbSBcIi4uL01vbml0b3JCYXNlXCI7XG5pbXBvcnQgeyBWYWx1ZVR5cGVzIH0gZnJvbSBcIi4uL0ludGVyZmFjZXNcIjtcblxuZGVjbGFyZSB2YXIgbW9uaXRvcjogTW9uaXRvckJhc2U7XG5cbmV4cG9ydCBjbGFzcyBSZWZlcmVuY2VFcnJvckNvbnN0cnVjdG9yIGV4dGVuZHMgRXJyb3JDb25zdHJ1Y3RvciB7XG5cbiAgICBjb25zdHJ1Y3Rvcihob3N0IDogUmVmZXJlbmNlRXJyb3IpIHtcbiAgICAgICAgc3VwZXIoaG9zdCk7XG4gICAgfVxuXG4gICAgU2V0dXAoKSA6IHZvaWQge1xuICAgICAgICB0aGlzLlNldHVwQmFzZShtb25pdG9yLmluc3RhbmNlcy5SZWZlcmVuY2VFcnJvclByb3RvdHlwZSk7XG4gICAgfVxuXG4gICAgQ29uc3RydWN0KGFyZ3M6IFZhbHVlPFZhbHVlVHlwZXM+W10pOiBWYWx1ZTxSZWZlcmVuY2VFcnJvck9iamVjdD4ge1xuICAgICAgICB2YXIgbWVzc2FnZSA9IGFyZ3NbMF0gfHwgbmV3IFZhbHVlKHVuZGVmaW5lZCwgYm90KTtcbiAgICAgICAgdmFyIG8gPSBuZXcgUmVmZXJlbmNlRXJyb3JPYmplY3QobWVzc2FnZSk7XG4gICAgICAgIHJldHVybiBuZXcgVmFsdWUobywgYm90KTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBWYWx1ZSB9IGZyb20gXCIuLi9WYWx1ZVwiO1xuaW1wb3J0ICogYXMgY29uc3RhbnRzIGZyb20gJy4uL0NvbnN0YW50cyc7XG5pbXBvcnQgeyBIYXNJbnN0YW5jZSB9IGZyb20gJy4uL0hhc0luc3RhbmNlJztcbmltcG9ydCB7IFRvU3RyaW5nIH0gZnJvbSAnLi4vQ29udmVyc2lvbi9Ub1N0cmluZyc7XG5pbXBvcnQgeyBNb25pdG9yQmFzZSB9IGZyb20gJy4uL01vbml0b3JCYXNlJztcblxuaW1wb3J0IHsgYm90LCBsdWIgfSBmcm9tICcuLi9MYWJlbCc7XG5pbXBvcnQgeyBSZWdFeHBPYmplY3QsIElzUmVnRXhwT2JqZWN0IH0gZnJvbSAnLi4vT2JqZWN0cy9SZWdFeHBPYmplY3QnO1xuaW1wb3J0IHsgRGVmaW5lRkZGIH0gZnJvbSAnLi4vRGVmaW5lJztcbmltcG9ydCB7IEVjbWFPYmplY3QgfSBmcm9tIFwiLi4vT2JqZWN0cy9FY21hT2JqZWN0XCI7XG5pbXBvcnQgeyBWYWx1ZVR5cGVzIH0gZnJvbSBcIi4uL0ludGVyZmFjZXNcIjtcblxuZGVjbGFyZSB2YXIgbW9uaXRvcjogTW9uaXRvckJhc2U7XG5cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBUaGUgUmVnRXhwIENvbnN0cnVjdG9yLCAxNS4xMC41XG5cbmV4cG9ydCBjbGFzcyBSZWdFeHBDb25zdHJ1Y3RvciBleHRlbmRzIEVjbWFPYmplY3Qge1xuXG4gICAgaG9zdDogYW55O1xuXG4gICAgY29uc3RydWN0b3IoaG9zdDogUmVnRXhwKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuQ2xhc3MgPSAnRnVuY3Rpb24nO1xuICAgICAgICAvLyBub3QgbWFuZGF0ZWQgYnkgc3RhbmRhcmRcbiAgICAgICAgdGhpcy5FeHRlbnNpYmxlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5ob3N0ID0gaG9zdDtcbiAgICB9XG5cbiAgICBTZXR1cCgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5Qcm90b3R5cGUgPSBuZXcgVmFsdWUobW9uaXRvci5pbnN0YW5jZXMuRnVuY3Rpb25Qcm90b3R5cGUsIGJvdCk7XG5cbiAgICAgICAgRGVmaW5lRkZGKHRoaXMsIGNvbnN0YW50cy5sZW5ndGgsIDIpO1xuICAgICAgICBEZWZpbmVGRkYodGhpcywgY29uc3RhbnRzLnByb3RvdHlwZSwgbW9uaXRvci5pbnN0YW5jZXMuUmVnRXhwUHJvdG90eXBlKTtcbiAgICB9XG5cblxuICAgIEhhc0luc3RhbmNlKFY6IFZhbHVlPFZhbHVlVHlwZXM+KTogVmFsdWU8Ym9vbGVhbj4ge1xuICAgICAgICByZXR1cm4gSGFzSW5zdGFuY2UuY2FsbCh0aGlzLCBWKTtcbiAgICB9XG5cblxuICAgIC8vIDE1LjEwLjMuMVxuICAgIENhbGwodGhpc0FyZzogVmFsdWU8VmFsdWVUeXBlcz4sIGFyZ3M6IFZhbHVlPFZhbHVlVHlwZXM+W10pOiBWYWx1ZTxSZWdFeHBPYmplY3Q+IHtcbiAgICAgICAgdmFyIHBhdHRlcm4gPSBhcmdzWzBdIHx8IG5ldyBWYWx1ZSh1bmRlZmluZWQsIGJvdCk7XG4gICAgICAgIHZhciBmbGFncyA9IGFyZ3NbMV0gfHwgbmV3IFZhbHVlKHVuZGVmaW5lZCwgYm90KTtcblxuICAgICAgICBpZiAoSXNSZWdFeHBPYmplY3QocGF0dGVybikgJiYgZmxhZ3MudmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHBhdHRlcm47XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5Db25zdHJ1Y3QoYXJncyk7XG4gICAgfVxuXG4gICAgLy8gMTUuMTAuNC4xXG4gICAgQ29uc3RydWN0KGFyZ3M6IFZhbHVlPFZhbHVlVHlwZXM+W10pOiBWYWx1ZTxSZWdFeHBPYmplY3Q+IHtcbiAgICAgICAgdmFyIGMgPSBtb25pdG9yLmNvbnRleHQ7XG5cbiAgICAgICAgdmFyIHBhdHRlcm4gPSBhcmdzWzBdIHx8IG5ldyBWYWx1ZSh1bmRlZmluZWQsIGJvdCk7XG4gICAgICAgIHZhciBmbGFncyA9IGFyZ3NbMV0gfHwgbmV3IFZhbHVlKHVuZGVmaW5lZCwgYm90KTtcblxuICAgICAgICB2YXIgUCA9IFwiXCI7XG4gICAgICAgIHZhciBGID0gXCJcIjtcblxuICAgICAgICB2YXIgbCA9IGx1YihwYXR0ZXJuLmxhYmVsLCBmbGFncy5sYWJlbCk7XG4gICAgICAgIGMucHVzaFBDKGwpO1xuXG4gICAgICAgIGlmIChJc1JlZ0V4cE9iamVjdChwYXR0ZXJuKSkge1xuICAgICAgICAgICAgaWYgKGZsYWdzLnZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB2YXIgcnggPSBwYXR0ZXJuLnZhbHVlLlByaW1pdGl2ZVZhbHVlO1xuICAgICAgICAgICAgICAgIFAgPSByeC5zb3VyY2U7XG4gICAgICAgICAgICAgICAgRiA9IChyeC5nbG9iYWwgPyAnZycgOiAnJykgKyAocnguaWdub3JlQ2FzZSA/ICdpJyA6ICcnKSArIChyeC5tdWx0aWxpbmUgPyAnbScgOiAnJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBtb25pdG9yLlRocm93KFxuICAgICAgICAgICAgICAgICAgICBcIlR5cGVFcnJvclwiLFxuICAgICAgICAgICAgICAgICAgICAnJyxcbiAgICAgICAgICAgICAgICAgICAgYm90XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBfUCA9IHBhdHRlcm4udmFsdWUgPT09IHVuZGVmaW5lZCA/IG5ldyBWYWx1ZShcIlwiLCBsKSA6IFRvU3RyaW5nKHBhdHRlcm4pO1xuICAgICAgICAgICAgdmFyIF9GID0gZmxhZ3MudmFsdWUgPT09IHVuZGVmaW5lZCA/IG5ldyBWYWx1ZShcIlwiLCBsKSA6IFRvU3RyaW5nKGZsYWdzKTtcblxuICAgICAgICAgICAgbCA9IGx1YihsLCBfUC5sYWJlbCwgX0YubGFiZWwpO1xuICAgICAgICAgICAgUCA9IF9QLnZhbHVlO1xuICAgICAgICAgICAgRiA9IF9GLnZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHJlcyA7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmVzID0gbmV3IFJlZ0V4cE9iamVjdChuZXcgUmVnRXhwKFAsIEYpLCBsKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgbW9uaXRvci50cnlSZXRocm93KGUsdHJ1ZSk7XG4gICAgICAgICAgICBtb25pdG9yLmZhdGFsKGBSZWdFeHAuQ29uc3RydWN0LCB1bmFibGUgdG8gbGlmdCAke2V9IG9mIHR5cGUgJHt0eXBlb2YgZX0gZm9yIFJlZ0V4cCgke1B9LCAke0Z9KWApO1xuICAgICAgICB9XG4gICAgICAgIGMucG9wUEMoKTtcbiAgICAgICAgcmV0dXJuIG5ldyBWYWx1ZShyZXMsIGJvdCk7XG4gICAgfVxufVxuIiwiXG5pbXBvcnQgeyBWYWx1ZSB9IGZyb20gXCIuLi9WYWx1ZVwiO1xuaW1wb3J0ICogYXMgY29uc3RhbnRzIGZyb20gJy4uL0NvbnN0YW50cyc7XG5pbXBvcnQgeyBCdWlsdGluRnVuY3Rpb25PYmplY3QgfSBmcm9tIFwiLi4vT2JqZWN0cy9CdWlsdGluRnVuY3Rpb25PYmplY3RcIjtcbmltcG9ydCB7IEhhc0luc3RhbmNlIH0gZnJvbSAnLi4vSGFzSW5zdGFuY2UnO1xuaW1wb3J0IHsgVG9VSW50MTYgfSBmcm9tICcuLi9Db252ZXJzaW9uL1RvVUludDE2JztcbmltcG9ydCB7IFRvU3RyaW5nIH0gZnJvbSAnLi4vQ29udmVyc2lvbi9Ub1N0cmluZyc7XG5pbXBvcnQgeyBNb25pdG9yQmFzZSB9IGZyb20gJy4uL01vbml0b3JCYXNlJztcbmltcG9ydCB7IERlZmluZUZGRiwgRGVmaW5lVEZUIH0gZnJvbSAnLi4vRGVmaW5lJztcbmltcG9ydCB7IEVjbWFPYmplY3QgfSBmcm9tICcuLi9PYmplY3RzL0VjbWFPYmplY3QnO1xuaW1wb3J0IHsgYm90LCBMYWJlbCwgbHViIH0gZnJvbSAnLi4vTGFiZWwnO1xuaW1wb3J0IHsgU3RyaW5nT2JqZWN0IH0gZnJvbSAnLi4vT2JqZWN0cy9TdHJpbmdPYmplY3QnO1xuaW1wb3J0IHsgVmFsdWVUeXBlcyB9IGZyb20gXCIuLi9JbnRlcmZhY2VzXCI7XG5cbmRlY2xhcmUgdmFyIG1vbml0b3I6IE1vbml0b3JCYXNlO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFRoZSBTdHJpbmcgQ29uc3RydWN0b3IsIDE1LjUuMlxuXG5leHBvcnQgY2xhc3MgU3RyaW5nQ29uc3RydWN0b3IgZXh0ZW5kcyBFY21hT2JqZWN0IHtcblxuICAgIGhvc3Q6IGFueTtcblxuICAgIGNvbnN0cnVjdG9yKGhvc3Q6IFN0cmluZykge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMuQ2xhc3MgPSAnRnVuY3Rpb24nO1xuICAgICAgICAvLyBub3QgbWFuZGF0ZWQgYnkgc3RhbmRhcmRcbiAgICAgICAgdGhpcy5FeHRlbnNpYmxlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5ob3N0ID0gaG9zdDtcbiAgICB9XG5cbiAgICBTZXR1cCgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5Qcm90b3R5cGUgPSBuZXcgVmFsdWUobW9uaXRvci5pbnN0YW5jZXMuRnVuY3Rpb25Qcm90b3R5cGUsIGJvdCk7XG5cbiAgICAgICAgRGVmaW5lRkZGKHRoaXMsIGNvbnN0YW50cy5sZW5ndGgsIDEpO1xuICAgICAgICBEZWZpbmVGRkYodGhpcywgY29uc3RhbnRzLnByb3RvdHlwZSwgbW9uaXRvci5pbnN0YW5jZXMuU3RyaW5nUHJvdG90eXBlKTtcbiAgICAgICAgRGVmaW5lVEZUKHRoaXMsIGNvbnN0YW50cy5mcm9tQ2hhckNvZGUsIG5ldyBCdWlsdGluRnVuY3Rpb25PYmplY3QoZnJvbUNoYXJDb2RlLCAxLCB0aGlzLmhvc3QuZnJvbUNoYXJDb2RlKSk7XG4gICAgfVxuXG4gICAgSGFzSW5zdGFuY2UoVjogVmFsdWU8VmFsdWVUeXBlcz4pOiBWYWx1ZTxib29sZWFuPiB7XG4gICAgICAgIHJldHVybiBIYXNJbnN0YW5jZS5jYWxsKHRoaXMsIFYpO1xuICAgIH1cblxuICAgIC8vIDE1LjUuMS4xIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgQ2FsbCh0aGlzQXJnOiBWYWx1ZTxWYWx1ZVR5cGVzPiwgYXJnczogVmFsdWU8VmFsdWVUeXBlcz5bXSk6IFZhbHVlPHN0cmluZz4ge1xuXG4gICAgICAgIGlmICghYXJnc1swXSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBWYWx1ZSgnJywgYm90KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzdHIgPSBUb1N0cmluZyhhcmdzWzBdKTtcbiAgICAgICAgcmV0dXJuIHN0cjtcbiAgICB9XG5cbiAgICAvLyAxNS41LjIuMSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBcbiAgICBDb25zdHJ1Y3QoYXJnczogVmFsdWU8VmFsdWVUeXBlcz5bXSk6IFZhbHVlPFN0cmluZ09iamVjdD4ge1xuICAgICAgICB2YXIgdmFsdWUgPSBhcmdzWzBdO1xuXG4gICAgICAgIHZhciBzdHIgOiBTdHJpbmdPYmplY3Q7XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgdmFyIHggPSBUb1N0cmluZyh2YWx1ZSk7XG4gICAgICAgICAgICBzdHIgPSBuZXcgU3RyaW5nT2JqZWN0KHgudmFsdWUsIHgubGFiZWwpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3RyID0gbmV3IFN0cmluZ09iamVjdCgnJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBWYWx1ZShzdHIsIGJvdCk7XG4gICAgfVxufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gZnJvbUNoYXJDb2RlLCAxNS41LjMuMiBcblxuZnVuY3Rpb24gZnJvbUNoYXJDb2RlKHRoaXNBcmc6IFZhbHVlPFZhbHVlVHlwZXM+LCBhcmdzOiBWYWx1ZTxWYWx1ZVR5cGVzPltdKTogVmFsdWU8c3RyaW5nPiB7XG5cbiAgICB2YXIgbGJsID0gbmV3IExhYmVsKCk7XG4gICAgdmFyIF9hcmdzOiBudW1iZXJbXSA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBhcmdzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIHZhciBhcmcgPSBUb1VJbnQxNihhcmdzW2ldKTtcbiAgICAgICAgbGJsID0gbHViKGxibCwgYXJnLmxhYmVsKTtcbiAgICAgICAgX2FyZ3NbaV0gPSBhcmcudmFsdWU7XG4gICAgfVxuXG4gICAgdmFyIF9TdHJpbmcgPSBtb25pdG9yLmluc3RhbmNlcy5TdHJpbmdDb25zdHJ1Y3Rvci5ob3N0O1xuICAgIHZhciB2ID0gX1N0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoX1N0cmluZywgX2FyZ3MpO1xuICAgIHJldHVybiBuZXcgVmFsdWUodiwgbGJsKTtcbn0iLCJpbXBvcnQgeyBFcnJvckNvbnN0cnVjdG9yIH0gZnJvbSBcIi4vRXJyb3JDb25zdHJ1Y3RvclwiO1xuaW1wb3J0IHsgYm90IH0gZnJvbSBcIi4uL0xhYmVsXCI7XG5pbXBvcnQgeyBWYWx1ZSB9IGZyb20gXCIuLi9WYWx1ZVwiO1xuaW1wb3J0IHsgU3ludGF4RXJyb3JPYmplY3QgfSBmcm9tIFwiLi4vT2JqZWN0cy9TeW50YXhFcnJvck9iamVjdFwiO1xuaW1wb3J0IHsgVmFsdWVUeXBlcyB9IGZyb20gXCIuLi9JbnRlcmZhY2VzXCI7XG5pbXBvcnQgeyBNb25pdG9yQmFzZSB9IGZyb20gXCIuLi9Nb25pdG9yQmFzZVwiO1xuXG5kZWNsYXJlIHZhciBtb25pdG9yOiBNb25pdG9yQmFzZTtcblxuZXhwb3J0IGNsYXNzIFN5bnRheEVycm9yQ29uc3RydWN0b3IgZXh0ZW5kcyBFcnJvckNvbnN0cnVjdG9yIHtcblxuICAgIGNvbnN0cnVjdG9yKGhvc3QgOiBTeW50YXhFcnJvcikge1xuICAgICAgICBzdXBlcihob3N0KTtcbiAgICB9XG5cbiAgICBTZXR1cCgpIDogdm9pZCB7XG4gICAgICAgIHRoaXMuU2V0dXBCYXNlKG1vbml0b3IuaW5zdGFuY2VzLlN5bnRheEVycm9yUHJvdG90eXBlKTtcbiAgICB9XG5cbiAgICBDb25zdHJ1Y3QoYXJnczogVmFsdWU8VmFsdWVUeXBlcz5bXSk6IFZhbHVlPFN5bnRheEVycm9yT2JqZWN0PiB7XG4gICAgICAgIHZhciBtZXNzYWdlID0gYXJnc1swXSB8fCBuZXcgVmFsdWUodW5kZWZpbmVkLCBib3QpO1xuICAgICAgICB2YXIgbyA9IG5ldyBTeW50YXhFcnJvck9iamVjdChtZXNzYWdlKTtcbiAgICAgICAgcmV0dXJuIG5ldyBWYWx1ZShvLCBib3QpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEVycm9yQ29uc3RydWN0b3IgfSBmcm9tIFwiLi9FcnJvckNvbnN0cnVjdG9yXCI7XG5pbXBvcnQgeyBib3QgfSBmcm9tIFwiLi4vTGFiZWxcIjtcbmltcG9ydCB7IFZhbHVlIH0gZnJvbSBcIi4uL1ZhbHVlXCI7XG5pbXBvcnQgeyBUeXBlRXJyb3JPYmplY3QgfSBmcm9tIFwiLi4vT2JqZWN0cy9UeXBlRXJyb3JPYmplY3RcIjtcbmltcG9ydCB7IFZhbHVlVHlwZXMgfSBmcm9tIFwiLi4vSW50ZXJmYWNlc1wiO1xuaW1wb3J0IHsgTW9uaXRvckJhc2UgfSBmcm9tIFwiLi4vTW9uaXRvckJhc2VcIjtcblxuZGVjbGFyZSB2YXIgbW9uaXRvcjogTW9uaXRvckJhc2U7XG5cbmV4cG9ydCBjbGFzcyBUeXBlRXJyb3JDb25zdHJ1Y3RvciBleHRlbmRzIEVycm9yQ29uc3RydWN0b3Ige1xuXG4gICAgY29uc3RydWN0b3IoaG9zdCA6IFR5cGVFcnJvcikge1xuICAgICAgICBzdXBlcihob3N0KTtcbiAgICB9XG5cbiAgICBTZXR1cCgpIDogdm9pZCB7XG4gICAgICAgIHRoaXMuU2V0dXBCYXNlKG1vbml0b3IuaW5zdGFuY2VzLlR5cGVFcnJvclByb3RvdHlwZSk7XG4gICAgfVxuXG4gICAgQ29uc3RydWN0KGFyZ3M6IFZhbHVlPFZhbHVlVHlwZXM+W10pOiBWYWx1ZTxUeXBlRXJyb3JPYmplY3Q+IHtcbiAgICAgICAgdmFyIG1lc3NhZ2UgPSBhcmdzWzBdIHx8IG5ldyBWYWx1ZSh1bmRlZmluZWQsIGJvdCk7XG4gICAgICAgIHZhciBvID0gbmV3IFR5cGVFcnJvck9iamVjdChtZXNzYWdlKTtcbiAgICAgICAgcmV0dXJuIG5ldyBWYWx1ZShvLCBib3QpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEVycm9yQ29uc3RydWN0b3IgfSBmcm9tIFwiLi9FcnJvckNvbnN0cnVjdG9yXCI7XG5pbXBvcnQgeyBib3QgfSBmcm9tIFwiLi4vTGFiZWxcIjtcbmltcG9ydCB7IFZhbHVlIH0gZnJvbSBcIi4uL1ZhbHVlXCI7XG5pbXBvcnQgeyBVUklFcnJvck9iamVjdCB9IGZyb20gXCIuLi9PYmplY3RzL1VSSUVycm9yT2JqZWN0XCI7XG5pbXBvcnQgeyBNb25pdG9yQmFzZSB9IGZyb20gXCIuLi9Nb25pdG9yQmFzZVwiO1xuaW1wb3J0IHsgVmFsdWVUeXBlcyB9IGZyb20gXCIuLi9JbnRlcmZhY2VzXCI7XG5cbmRlY2xhcmUgdmFyIG1vbml0b3I6IE1vbml0b3JCYXNlO1xuXG5leHBvcnQgY2xhc3MgVVJJRXJyb3JDb25zdHJ1Y3RvciBleHRlbmRzIEVycm9yQ29uc3RydWN0b3Ige1xuXG4gICAgY29uc3RydWN0b3IoaG9zdCkge1xuICAgICAgICBzdXBlcihob3N0KTtcbiAgICB9XG5cbiAgICBTZXR1cCgpIDogdm9pZCB7XG4gICAgICAgIHRoaXMuU2V0dXBCYXNlKG1vbml0b3IuaW5zdGFuY2VzLlVSSUVycm9yUHJvdG90eXBlKTtcbiAgICB9XG5cbiAgICBDb25zdHJ1Y3QoYXJnczogVmFsdWU8VmFsdWVUeXBlcz5bXSk6IFZhbHVlPFVSSUVycm9yT2JqZWN0PntcbiAgICAgICAgdmFyIG1lc3NhZ2UgPSBhcmdzWzBdIHx8IG5ldyBWYWx1ZSh1bmRlZmluZWQsIGJvdCk7XG4gICAgICAgIHZhciBvID0gbmV3IFVSSUVycm9yT2JqZWN0KG1lc3NhZ2UpO1xuICAgICAgICByZXR1cm4gbmV3IFZhbHVlKG8sIGJvdCk7XG4gICAgfVxufVxuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpc1xuICogZmlsZSwgWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IHsgTGFiZWwsIGx1YiwgYm90IH0gZnJvbSBcIi4vTGFiZWxcIjtcbmltcG9ydCB7IFN0YWNrLCBTdGFja01hcmtlciB9IGZyb20gXCIuL1N0YWNrXCI7XG5pbXBvcnQgeyBwcmV0dHkgfSBmcm9tIFwiLi9QUFwiO1xuaW1wb3J0IHsgVmFsdWUgfSBmcm9tIFwiLi9WYWx1ZVwiO1xuaW1wb3J0IHsgRWNtYU9iamVjdCB9IGZyb20gJy4vT2JqZWN0cy9FY21hT2JqZWN0JztcbmltcG9ydCB7IE1vbml0b3JCYXNlIH0gZnJvbSBcIi4vTW9uaXRvckJhc2VcIjtcbmltcG9ydCB7IExleGljYWxFbnZpcm9ubWVudCB9IGZyb20gXCIuL0xleGljYWxFbnZpcm9ubWVudFwiO1xuaW1wb3J0IHsgUmVzdWx0IH0gZnJvbSBcIi4vUmVzdWx0XCI7XG5pbXBvcnQgKiBhcyBlc3RyZWUgZnJvbSAnZXN0cmVlJztcbmltcG9ydCB7IFZhbHVlVHlwZXMsIElFY21hRnVuY3Rpb24sIElFY21hT2JqZWN0IH0gZnJvbSBcIi4vSW50ZXJmYWNlc1wiO1xuaW1wb3J0IHsgUmVmZXJlbmNlIH0gZnJvbSBcIi4vUmVmZXJlbmNlXCI7XG5pbXBvcnQgeyBBcnJheU9iamVjdCB9IGZyb20gXCIuL09iamVjdHMvQXJyYXlPYmplY3RcIjtcbmltcG9ydCB7IE9iamVjdE9iamVjdCB9IGZyb20gXCIuL09iamVjdHMvT2JqZWN0T2JqZWN0XCI7XG5pbXBvcnQgeyBUYXNrIH0gZnJvbSBcIi4vRW5naW5lL1Rhc2tcIjtcbmltcG9ydCB7IE5vZGUgfSBmcm9tIFwiZXN0cmVlXCI7XG5cbi8vIC0tLSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5kZWNsYXJlIHZhciBtb25pdG9yOiBNb25pdG9yQmFzZTtcblxuLy8gLS0tIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmNsYXNzIEJ1Y2tldDxUPiB7XG4gIGVsZW1lbnQ6IFQ7XG4gIG5leHQ6IEJ1Y2tldDxUPiB8IG51bGw7XG4gIHByZXY6IEJ1Y2tldDxUPiB8IG51bGw7XG5cbiAgY29uc3RydWN0b3IoZWxlbWVudCA6IFQsIHByZXYgOiBCdWNrZXQ8VD4gfCBudWxsLCBuZXh0IDogQnVja2V0PFQ+IHwgbnVsbCkge1xuICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgdGhpcy5uZXh0ID0gbmV4dCB8fCBudWxsO1xuICAgIHRoaXMucHJldiA9IHByZXYgfHwgbnVsbDtcbiAgfVxufVxuXG4vLyAtLS0gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZXhwb3J0IGludGVyZmFjZSBGdW5jdGlvbkd1YXJkIHtcbiAgdGhyb3c/OiBib29sZWFuLFxuICBjb250aW51ZT86IGJvb2xlYW4sXG4gIGJyZWFrPzogYm9vbGVhblxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEd1YXJkZWRGdW5jdGlvbiBleHRlbmRzIEZ1bmN0aW9uIHtcbiAgcnVuZm9yPzogRnVuY3Rpb25HdWFyZDtcbn1cblxuZXhwb3J0IHR5cGUgQXJyYXlFeHByZXNzaW9uQ2xvc3VyZURhdGEgPSB7IGFycmF5IDogVmFsdWU8QXJyYXlPYmplY3Q+LCBpbmRleCA6IG51bWJlciB9O1xuZXhwb3J0IHR5cGUgT2JqZWN0RXhwcmVzc2lvbkNsb3N1cmVEYXRhID0geyBwcm9wZXJ0aWVzOiBlc3RyZWUuUHJvcGVydHlbXSwgb2JqZWN0OiBWYWx1ZTxPYmplY3RPYmplY3Q+LCBpbmRleDogbnVtYmVyIH07XG5leHBvcnQgdHlwZSBTZXF1ZW5jZUV4cHJlc3Npb25DbG9zdXJlRGF0YSA9IHsgbGVuZ3RoIDogbnVtYmVyIH07XG5leHBvcnQgdHlwZSBDb25kaXRpb25hbEV4cHJlc3Npb25DaG9pY2VEYXRhID0geyBub2RlIDogZXN0cmVlLkNvbmRpdGlvbmFsRXhwcmVzc2lvbiB9O1xuZXhwb3J0IHR5cGUgQ29uZGl0aW9uYWxFeHByZXNzaW9uQ2xvc3VyZURhdGEgPSB7IHRlc3QgOiBWYWx1ZTxWYWx1ZVR5cGVzPiB9OyBcbmV4cG9ydCB0eXBlIENhbGxFeHByZXNzaW9uRXhlY3V0ZUNsb3N1cmVEYXRhID0geyBsZW5ndGggOiBudW1iZXIsIG5vZGUgOiBlc3RyZWUuQ2FsbEV4cHJlc3Npb24gfTtcbmV4cG9ydCB0eXBlIENhbGxFeHByZXNzaW9uQ2xvc3VyZURhdGEgPSB7IGxhYmVsIDogTGFiZWwgfTtcbmV4cG9ydCB0eXBlIE1lbWJlckV4cHJlc3Npb25DbG9zdXJlRGF0YSA9IHsgbm9kZSA6IGVzdHJlZS5NZW1iZXJFeHByZXNzaW9uIH07XG5leHBvcnQgdHlwZSBJZlN0YXRlbWVudENob2ljZURhdGEgPSB7IG5vZGUgOiBlc3RyZWUuSWZTdGF0ZW1lbnQgfTtcbmV4cG9ydCB0eXBlIElmU3RhdGVtZW50Q2xvc3VyZURhdGEgPSB7IGxhYmVsIDogTGFiZWwgfTtcbmV4cG9ydCB0eXBlIFN3aXRjaFN0YXRlbWVudENsb3N1cmVEYXRhID0geyBub2RlIDogZXN0cmVlLlN3aXRjaFN0YXRlbWVudCwgb3V0ZXJFbXB0eUxhYmVsRGF0YSA6IHsgbGFiZWwgOiBMYWJlbCwgcGNtYXJrZXIgOlN0YWNrTWFya2VyfSwgZGVmYXVsdENhc2VJbmRleCA6IG51bWJlciB8IG51bGwsIG5leHRDYXNlIDogbnVtYmVyIH07XG5leHBvcnQgdHlwZSBMYWJlbGVkU3RhdGVtZW50Q2xvc3VyZURhdGEgPSB7IG5hbWUgOiBzdHJpbmcsIG91dGVybGFiZWwgOiBMYWJlbCwgcGNtYXJrZXIgOlN0YWNrTWFya2VyLCB2c21hcmtlcjogU3RhY2tNYXJrZXIgfTtcbmV4cG9ydCB0eXBlIFdpdGhTdGF0ZW1lbnRCb2R5Q2xvc3VyZURhdGEgPSB7IG5vZGUgOiBlc3RyZWUuV2l0aFN0YXRlbWVudCB9O1xuZXhwb3J0IHR5cGUgV2l0aFN0YXRlbWVudENsb3N1cmVEYXRhID0geyBsZXhpY2FsRW52IDogVmFsdWU8TGV4aWNhbEVudmlyb25tZW50PiB9O1xuZXhwb3J0IHR5cGUgVHJ5U3RhdGVtZW50Q2F0Y2hDbG9zdXJlRGF0YSA9IHsgaGFuZGxlciA6IGVzdHJlZS5DYXRjaENsYXVzZSwgcGNtYXJrZXIgOlN0YWNrTWFya2VyLCB2c21hcmtlcjogU3RhY2tNYXJrZXIsIGV4YyA6IExhYmVsIH07XG5leHBvcnQgdHlwZSBUcnlTdGF0ZW1lbnRGaW5hbGx5Q2xvc3VyZURhdGEgPSB7IGJvZHkgOiBlc3RyZWUuQmxvY2tTdGF0ZW1lbnQgfCBudWxsIHwgdW5kZWZpbmVkLCBwY21hcmtlciA6U3RhY2tNYXJrZXIsIHZzbWFya2VyOiBTdGFja01hcmtlciwgbGV4aWNhbEVudiA6IFZhbHVlPExleGljYWxFbnZpcm9ubWVudD4gfTtcbmV4cG9ydCB0eXBlIFRyeVN0YXRlbWVudENsb3N1cmVEYXRhID0geyByZXN1bHQgOiBSZXN1bHQgfTtcbmV4cG9ydCB0eXBlIFdoaWxlU3RhdGVtZW50Q2xvc3VyZURhdGEgPSB7IG5vZGUgOiBlc3RyZWUuV2hpbGVTdGF0ZW1lbnQgfCBlc3RyZWUuRG9XaGlsZVN0YXRlbWVudCwgb3V0ZXJFbXB0eUxhYmVsRGF0YSA6IHsgbGFiZWwgOiBMYWJlbCwgcGNtYXJrZXIgOiBTdGFja01hcmtlciB9fTtcbmV4cG9ydCB0eXBlIEZvclN0YXRlbWVudE1haW5DbG9zdXJlRGF0YSA9IHsgbm9kZSA6IGVzdHJlZS5Gb3JTdGF0ZW1lbnQgfTtcbmV4cG9ydCB0eXBlIEZvclN0YXRlbWVudENsb3N1cmVEYXRhID0geyBvdXRlckVtcHR5TGFiZWxEYXRhIDogeyBsYWJlbCA6IExhYmVsLCBwY21hcmtlciA6IFN0YWNrTWFya2VyIH19O1xuZXhwb3J0IHR5cGUgRm9ySW5TdGF0ZW1lbnRTZXR1cENsb3N1cmVEYXRhID0geyBub2RlIDogZXN0cmVlLkZvckluU3RhdGVtZW50LCBsZWZ0IDogZXN0cmVlLlBhdHRlcm59O1xuZXhwb3J0IHR5cGUgRm9ySW5FeGVjdXRlQ2xvc3VyZURhdGEgPSB7IG5vZGUgOiBlc3RyZWUuRm9ySW5TdGF0ZW1lbnQsIGxlZnQgOiBlc3RyZWUuUGF0dGVybiwgcHJvcGVydGllczogIFZhbHVlPHN0cmluZz5bXSwgb3V0ZXJFbXB0eUxhYmVsRGF0YSA6IHsgbGFiZWwgOiBMYWJlbCwgcGNtYXJrZXIgOiBTdGFja01hcmtlciB9fTtcbmV4cG9ydCB0eXBlIFZhcmlhYmxlRGVjbGFyYXRpb25DbG9zdXJlRGF0YSA9IHsgbGhzIDogUmVmZXJlbmNlIH07XG5leHBvcnQgdHlwZSBBc3luY0NvbnN0cnVjdENsb3N1cmVEYXRhID0geyBvYmplY3Q6IEVjbWFPYmplY3QgfTtcblxudHlwZSBDbG9zdXJlRGF0YSA9IFxuICAgIEFycmF5RXhwcmVzc2lvbkNsb3N1cmVEYXRhXG4gIHwgT2JqZWN0RXhwcmVzc2lvbkNsb3N1cmVEYXRhXG4gIHwgU2VxdWVuY2VFeHByZXNzaW9uQ2xvc3VyZURhdGFcbiAgfCBDb25kaXRpb25hbEV4cHJlc3Npb25DaG9pY2VEYXRhIFxuICB8IENvbmRpdGlvbmFsRXhwcmVzc2lvbkNsb3N1cmVEYXRhXG4gIHwgQ2FsbEV4cHJlc3Npb25FeGVjdXRlQ2xvc3VyZURhdGFcbiAgfCBDYWxsRXhwcmVzc2lvbkNsb3N1cmVEYXRhXG4gIHwgTWVtYmVyRXhwcmVzc2lvbkNsb3N1cmVEYXRhXG4gIHwgSWZTdGF0ZW1lbnRDaG9pY2VEYXRhXG4gIHwgSWZTdGF0ZW1lbnRDbG9zdXJlRGF0YVxuICB8IFN3aXRjaFN0YXRlbWVudENsb3N1cmVEYXRhXG4gIHwgTGFiZWxlZFN0YXRlbWVudENsb3N1cmVEYXRhXG4gIHwgV2l0aFN0YXRlbWVudEJvZHlDbG9zdXJlRGF0YVxuICB8IFdpdGhTdGF0ZW1lbnRDbG9zdXJlRGF0YVxuICB8IFRyeVN0YXRlbWVudENhdGNoQ2xvc3VyZURhdGEgXG4gIHwgVHJ5U3RhdGVtZW50RmluYWxseUNsb3N1cmVEYXRhXG4gIHwgVHJ5U3RhdGVtZW50Q2xvc3VyZURhdGFcbiAgfCBXaGlsZVN0YXRlbWVudENsb3N1cmVEYXRhXG4gIHwgRm9yU3RhdGVtZW50TWFpbkNsb3N1cmVEYXRhXG4gIHwgRm9yU3RhdGVtZW50Q2xvc3VyZURhdGFcbiAgfCBGb3JJblN0YXRlbWVudFNldHVwQ2xvc3VyZURhdGFcbiAgfCBGb3JJbkV4ZWN1dGVDbG9zdXJlRGF0YVxuICB8IFZhcmlhYmxlRGVjbGFyYXRpb25DbG9zdXJlRGF0YVxuICB8IEFzeW5jQ29uc3RydWN0Q2xvc3VyZURhdGE7XG5cblxuZXhwb3J0IHR5cGUgVmFsdWVTdGFjayA9IFN0YWNrPFZhbHVlPFZhbHVlVHlwZXM+IHwgUmVmZXJlbmNlIHwgUmVzdWx0PjtcblxuZXhwb3J0IGludGVyZmFjZSBDbG9zdXJlIHtcbiAgZnVuYzogR3VhcmRlZEZ1bmN0aW9uIC8qfCBlc3RyZWUuU3RhdGVtZW50IHwgZXN0cmVlLkV4cHJlc3Npb24qLywgZGF0YTogQ2xvc3VyZURhdGFcbn1cblxudHlwZSBXb3JrTGlzdFNvdXJjZVR5cGUgPSBcbiAgICBlc3RyZWUuUHJvZ3JhbSBcbiAgfCBlc3RyZWUuU3RhdGVtZW50IFxuICB8IGVzdHJlZS5FeHByZXNzaW9uIFxuICB8IGVzdHJlZS5TcHJlYWRFbGVtZW50IFxuICB8IGVzdHJlZS5PYmplY3RQYXR0ZXJuXG4gIHwgZXN0cmVlLkFycmF5UGF0dGVyblxuICB8IGVzdHJlZS5SZXN0RWxlbWVudFxuICB8IGVzdHJlZS5Bc3NpZ25tZW50UGF0dGVyblxuICB8IGVzdHJlZS5TdXBlclxuICA7XG5cbmV4cG9ydCB0eXBlIFdvcmtMaXN0RWxlbWVudFR5cGUgPVxuICAgIEd1YXJkZWRGdW5jdGlvbiBcbiAgfCBDbG9zdXJlXG4gIHwgV29ya0xpc3RTb3VyY2VUeXBlXG4gIHwgVGFza1xuICA7XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0d1YXJkZWRGdW5jdGlvbihlbDogV29ya0xpc3RFbGVtZW50VHlwZSk6IGVsIGlzIEd1YXJkZWRGdW5jdGlvbiB7XG4gIHJldHVybiAoPEd1YXJkZWRGdW5jdGlvbj5lbCkucnVuZm9yICE9PSB1bmRlZmluZWQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0Nsb3N1cmUoZWw6IFdvcmtMaXN0RWxlbWVudFR5cGUpOiBlbCBpcyBDbG9zdXJlIHtcbiAgcmV0dXJuICg8Q2xvc3VyZT5lbCkuZnVuYyAhPT0gdW5kZWZpbmVkO1xufVxuXG5leHBvcnQgY2xhc3MgV29ya0xpc3Qge1xuXG4gIGxlbmd0aDogbnVtYmVyID0gMDtcbiAgaGVhZDogQnVja2V0PFdvcmtMaXN0RWxlbWVudFR5cGU+IHwgbnVsbCA9IG51bGw7XG4gIHRoZW5sb2M6IEJ1Y2tldDxXb3JrTGlzdEVsZW1lbnRUeXBlPiB8IG51bGwgPSBudWxsO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICB9XG5cbiAgLy8gLS0tXG5cbiAgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICB2YXIgcG9zID0gdGhpcy5oZWFkO1xuICAgIHZhciBzdHIgPSAnd29ya2xpc3Q6JztcbiAgICB2YXIgY250ID0gMTtcbiAgICB3aGlsZSAocG9zKSB7XG4gICAgICB2YXIgZWxlbWVudCA9IHBvcy5lbGVtZW50O1xuICAgICAgdmFyIGxpbmU7XG4gICAgICBpZiAodHlwZW9mIGVsZW1lbnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgbGluZSA9IGNudCArICc6ICcgKyBTdHJpbmcoZWxlbWVudCk7XG4gICAgICB9IGVsc2UgaWYgKCdmdW5jJyBpbiBlbGVtZW50ICYmICdkYXRhJyBpbiBlbGVtZW50KSB7XG4gICAgICAgIGxpbmUgPSBjbnQgKyAnOiAnICsgU3RyaW5nKGVsZW1lbnQuZnVuYyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvL0B0cy1pZ25vcmUgVFlQRVNcbiAgICAgICAgbGluZSA9IGNudCArICc6ICcgKyBlbGVtZW50LnR5cGUgKyAnICcgKyBwcmV0dHkoZWxlbWVudCk7XG4gICAgICB9XG5cbiAgICAgIGxldCBpeCA9IGxpbmUuaW5kZXhPZignXFxuJyk7XG4gICAgICBpZiAoaXggPiAwKSB7XG4gICAgICAgIGxpbmUgPSBsaW5lLnNsaWNlKDAsIGl4KTtcbiAgICAgIH1cblxuICAgICAgc3RyID0gc3RyICsgJ1xcbicgKyBsaW5lO1xuICAgICAgcG9zID0gcG9zLm5leHQ7XG4gICAgICBjbnQrKztcbiAgICB9XG4gICAgcmV0dXJuIHN0cjtcbiAgfVxuXG4gIC8vIC0tLVxuXG4gIHB1c2goZWxlbWVudDogV29ya0xpc3RFbGVtZW50VHlwZSk6IHZvaWQge1xuICAgIHRoaXMuaGVhZCA9IG5ldyBCdWNrZXQoZWxlbWVudCwgbnVsbCwgdGhpcy5oZWFkKTtcblxuICAgIGlmICh0aGlzLmhlYWQubmV4dCAhPT0gbnVsbCkge1xuICAgICAgdGhpcy5oZWFkLm5leHQucHJldiA9IHRoaXMuaGVhZDtcbiAgICB9XG5cbiAgICB0aGlzLmxlbmd0aCsrO1xuICB9XG5cbiAgLy8gLS0tXG5cbiAgcHJlcGVuZChlbGVtZW50czogV29ya0xpc3RFbGVtZW50VHlwZVtdKSB7XG4gICAgZm9yICh2YXIgaSA9IGVsZW1lbnRzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICB0aGlzLnB1c2goZWxlbWVudHNbaV0pO1xuICAgIH1cbiAgfVxuXG4gIC8vIC0tLVxuXG4gIHBlZWsoKTogV29ya0xpc3RFbGVtZW50VHlwZSB7XG4gICAgaWYgKHRoaXMuaGVhZCA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIG1vbml0b3IuZmF0YWwoXCJXb3JrTGlzdC5wZWVrKCkgZW1wdHkgd29yayBsaXN0XCIpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5oZWFkLmVsZW1lbnQ7XG4gIH1cblxuICAvLyAtLS1cblxuICBwb3AoKTogV29ya0xpc3RFbGVtZW50VHlwZSB7XG4gICAgaWYgKHRoaXMuaGVhZCA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIG1vbml0b3IuZmF0YWwoXCJXb3JrTGlzdC5wb3AoKSBlbXB0eSB3b3JrIGxpc3RcIik7XG4gICAgfVxuICAgIGxldCBlbGVtZW50ID0gdGhpcy5oZWFkLmVsZW1lbnQ7XG4gICAgdGhpcy5oZWFkID0gdGhpcy5oZWFkLm5leHQ7XG4gICAgdGhpcy5sZW5ndGgtLTtcbiAgICByZXR1cm4gZWxlbWVudDtcbiAgfVxuXG4gIC8vIC0tLVxuXG4gIGVtcHR5KCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAodGhpcy5oZWFkID09PSBudWxsKTtcbiAgfVxuXG4gIC8vIC0tLVxuXG4gIHRvcCgpOiBXb3JrTGlzdFB0ciB7XG4gICAgcmV0dXJuIG5ldyBXb3JrTGlzdFB0cih0aGlzLCBudWxsKTtcbiAgfVxuXG4gIC8vIC0tLVxuXG4gIGZpcnN0KGVsZW1lbnQ/OiBXb3JrTGlzdEVsZW1lbnRUeXBlKTogdm9pZCB7XG4gICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgIHRoaXMucHVzaChlbGVtZW50KTtcbiAgICAgIHRoaXMudGhlbmxvYyA9IHRoaXMuaGVhZDtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gaWYgbm8gZWxlbWVudCBnaXZlbiwgcmVzZXQgdGhlbmxvYyB0byBmb3JjZSBuZXh0IGNhbGxlZCAndGhlbidcbiAgICAgIC8vIHRvIGJlIGEgJ2ZpcnN0J1xuICAgICAgdGhpcy50aGVubG9jID0gbnVsbDtcbiAgICB9XG4gIH1cblxuICAvLyAtLS1cblxuICB0aGVuKGVsZW1lbnQ6IFdvcmtMaXN0RWxlbWVudFR5cGUpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMudGhlbmxvYykge1xuXG4gICAgICB0aGlzLmZpcnN0KGVsZW1lbnQpO1xuXG4gICAgfSBlbHNlIHtcblxuICAgICAgbGV0IGJlZm9yZSA9IHRoaXMudGhlbmxvYztcbiAgICAgIGxldCBhZnRlciA9IHRoaXMudGhlbmxvYy5uZXh0O1xuXG4gICAgICBsZXQgYnVja2V0ID0gbmV3IEJ1Y2tldDxXb3JrTGlzdEVsZW1lbnRUeXBlPihlbGVtZW50LCBiZWZvcmUsIGFmdGVyKTtcblxuICAgICAgYmVmb3JlLm5leHQgPSBidWNrZXQ7XG4gICAgICB0aGlzLnRoZW5sb2MgPSBiZWZvcmUubmV4dDtcblxuICAgICAgaWYgKGFmdGVyKSB7XG4gICAgICAgIGFmdGVyLnByZXYgPSBiZWZvcmUubmV4dDtcbiAgICAgIH1cblxuICAgICAgdGhpcy5sZW5ndGgrKztcbiAgICB9XG4gIH1cblxufVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5leHBvcnQgY2xhc3MgV29ya0xpc3RQdHIge1xuXG4gIHdvcmtsaXN0OiBXb3JrTGlzdDtcbiAgcG9zOiBCdWNrZXQ8V29ya0xpc3RFbGVtZW50VHlwZT4gfCBudWxsO1xuXG4gIGNvbnN0cnVjdG9yKHdvcmtsaXN0OiBXb3JrTGlzdCwgcG9zOiBCdWNrZXQ8RnVuY3Rpb24+IHwgbnVsbCkge1xuICAgIHRoaXMud29ya2xpc3QgPSB3b3JrbGlzdDtcbiAgICB0aGlzLnBvcyA9IHBvcztcbiAgfVxuXG4gIHRoZW4oZWxlbWVudDogV29ya0xpc3RFbGVtZW50VHlwZSwgZGF0YT86IENsb3N1cmVEYXRhKSA6IFdvcmtMaXN0UHRyIHtcblxuICAgIGlmICghZWxlbWVudCkge1xuICAgICAgdGhyb3cgRXJyb3IoKTtcbiAgICB9XG5cbiAgICBsZXQgdGhpbmc6IFdvcmtMaXN0RWxlbWVudFR5cGUgPSBlbGVtZW50O1xuICAgIGlmICh0eXBlb2YgZWxlbWVudCA9PT0gJ2Z1bmN0aW9uJyAmJiBkYXRhKSB7XG4gICAgICB0aGluZyA9IHsgZnVuYzogZWxlbWVudCwgZGF0YTogZGF0YSB9O1xuICAgIH1cblxuICAgIGlmICh0aGlzLnBvcykge1xuICAgICAgbGV0IGJlZm9yZSA9IHRoaXMucG9zO1xuICAgICAgbGV0IGFmdGVyID0gdGhpcy5wb3MubmV4dDtcblxuICAgICAgbGV0IGJ1Y2tldCA9IG5ldyBCdWNrZXQ8V29ya0xpc3RFbGVtZW50VHlwZT4odGhpbmcsIGJlZm9yZSwgYWZ0ZXIpO1xuXG4gICAgICBiZWZvcmUubmV4dCA9IGJ1Y2tldDtcbiAgICAgIHRoaXMucG9zID0gYmVmb3JlLm5leHQ7XG5cbiAgICAgIGlmIChhZnRlcikge1xuICAgICAgICBhZnRlci5wcmV2ID0gYmVmb3JlLm5leHQ7XG4gICAgICB9XG5cbiAgICAgIHRoaXMud29ya2xpc3QubGVuZ3RoKys7XG5cbiAgICB9IGVsc2Uge1xuXG4gICAgICB0aGlzLndvcmtsaXN0LnB1c2godGhpbmcpO1xuICAgICAgdGhpcy5wb3MgPSB0aGlzLndvcmtsaXN0LmhlYWQ7XG5cbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBUaGUgRXhlY3V0aW9uIENvbnRleHRcblxuXG5leHBvcnQgY2xhc3MgQ29udGV4dCB7XG5cbiAgdGhpc1ZhbHVlOiBWYWx1ZTxJRWNtYU9iamVjdD47XG4gIHZhcmlhYmxlRW52OiBWYWx1ZTxMZXhpY2FsRW52aXJvbm1lbnQ+O1xuICBsZXhpY2FsRW52OiBWYWx1ZTxMZXhpY2FsRW52aXJvbm1lbnQ+O1xuXG4gIHBjU3RhY2s6IFN0YWNrPExhYmVsPjtcblxuICAvLyBmb3Igc3RhY2sgdHJhY2VcbiAgb3duZXI/OiBzdHJpbmc7XG5cbiAgY29kZVN0YWNrIDogU3RhY2s8Tm9kZT47XG5cbiAgLy8gd2h5IGJvdGg/XG4gIGN1cnJlbnRDYWxsPyA6IHsgXG4gICAgcmVmZXJlbmNlIDogVmFsdWU8VmFsdWVUeXBlcz4gfCBSZWZlcmVuY2UsXG4gICAgdGFyZ2V0IDogSUVjbWFGdW5jdGlvbixcbiAgICBzb3VyY2UgOiBlc3RyZWUuQ2FsbEV4cHJlc3Npb25cbiAgfVxuXG4gIC8vIHdoeSBib3RoP1xuICBjYWxsPyA6IHtcbiAgICByZWYgOiBWYWx1ZTxWYWx1ZVR5cGVzPiB8IFJlZmVyZW5jZSxcbiAgICBmdW5jIDogVmFsdWU8SUVjbWFGdW5jdGlvbj5cbiAgfVxuXG4gIGxhYmVscyA9IG5ldyBjbGFzcyB7XG5cbiAgICBwcml2YXRlIGV4Y0xibDogTGFiZWwgPSBib3Q7XG4gICAgcHJpdmF0ZSByZXRMYmw6IExhYmVsID0gYm90O1xuXG4gICAgbGFiZWxtYXA6IHsgW2tleTogc3RyaW5nXTogeyBsYWJlbCA6IExhYmVsLCBwY21hcmtlciA6IFN0YWNrTWFya2VyfSB9ID0ge307XG5cbiAgICBvdXRlcjogQ29udGV4dDtcblxuICAgIGNvbnN0cnVjdG9yKG91dGVyOiBDb250ZXh0KSB7XG4gICAgICB0aGlzLm91dGVyID0gb3V0ZXI7XG4gICAgfVxuXG4gICAgZ2V0IGV4YygpOiBMYWJlbCB7XG4gICAgICBpZiAobW9uaXRvci5vcHRpb25zLmdldCgnbW9uaXRvci50YWludE1vZGUnKSkge1xuICAgICAgICByZXR1cm4gYm90O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5leGNMYmw7XG4gICAgfVxuXG4gICAgc2V0IGV4YyhsOiBMYWJlbCkge1xuICAgICAgdGhpcy5leGNMYmwgPSBsO1xuICAgIH1cblxuICAgIGdldCByZXQoKTogTGFiZWwge1xuICAgICAgaWYgKG1vbml0b3Iub3B0aW9ucy5nZXQoJ21vbml0b3IudGFpbnRNb2RlJykpIHtcbiAgICAgICAgcmV0dXJuIGJvdDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMucmV0TGJsO1xuICAgIH1cblxuICAgIHNldCByZXQobDogTGFiZWwpIHtcbiAgICAgIHRoaXMucmV0TGJsID0gbDtcbiAgICB9XG5cbiAgICBnZXQgcGMoKTogTGFiZWwge1xuICAgICAgaWYgKG1vbml0b3Iub3B0aW9ucy5nZXQoJ21vbml0b3IudGFpbnRNb2RlJykpIHtcbiAgICAgICAgcmV0dXJuIGJvdDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMub3V0ZXIucGNTdGFjay5wZWVrKCk7XG4gICAgfVxuXG4gICAgc2V0IHBjKGw6IExhYmVsKSB7XG4gICAgICB0aGlzLm91dGVyLnBjU3RhY2sucG9wKCk7XG4gICAgICB0aGlzLm91dGVyLnBjU3RhY2sucHVzaChsKTtcbiAgICB9XG4gIH0odGhpcyk7XG5cblxuICB3b3JrTGlzdDogV29ya0xpc3Q7XG4gIC8vIFRPRE86IG1ha2UgYW55IG1vcmUgcHJlY2lzZVxuICByZXN1bHQ6IFJlc3VsdDtcbiAgdmFsdWVTdGFjazogU3RhY2s8VmFsdWU8VmFsdWVUeXBlcz4gfCBSZWZlcmVuY2UgfCBSZXN1bHQ+O1xuXG5cbiAgY29uc3RydWN0b3IodGhpc1ZhbHVlOiBWYWx1ZTxJRWNtYU9iamVjdD4sIHZhcmlhYmxlRW52OiBWYWx1ZTxMZXhpY2FsRW52aXJvbm1lbnQ+LCBsZXhpY2FsRW52OiBWYWx1ZTxMZXhpY2FsRW52aXJvbm1lbnQ+KSB7XG5cbiAgICB0aGlzLnRoaXNWYWx1ZSA9IHRoaXNWYWx1ZTtcbiAgICB0aGlzLnZhcmlhYmxlRW52ID0gdmFyaWFibGVFbnY7XG4gICAgdGhpcy5sZXhpY2FsRW52ID0gbGV4aWNhbEVudjtcblxuICAgIHRoaXMucGNTdGFjayA9IG5ldyBTdGFjaygpO1xuICAgIHRoaXMucGNTdGFjay5wdXNoKGJvdCk7XG5cbiAgICB0aGlzLndvcmtMaXN0ID0gbmV3IFdvcmtMaXN0KCk7XG4gICAgdGhpcy5yZXN1bHQgPSBuZXcgUmVzdWx0KCk7XG4gICAgdGhpcy52YWx1ZVN0YWNrID0gbmV3IFN0YWNrKCk7XG5cbiAgICB0aGlzLmNvZGVTdGFjayA9IG5ldyBTdGFjaygpO1xuICB9XG5cbiAgLy8gLS0tXG5cbiAgZ2V0IGVmZmVjdGl2ZVBDKCk6IExhYmVsIHtcbiAgICBpZiAobW9uaXRvci5vcHRpb25zLmdldCgnbW9uaXRvci50YWludE1vZGUnKSkge1xuICAgICAgcmV0dXJuIGJvdDtcbiAgICB9XG5cbiAgICByZXR1cm4gbHViKHRoaXMubGFiZWxzLnBjLCB0aGlzLmxhYmVscy5leGMsIHRoaXMubGFiZWxzLnJldCk7XG4gIH1cblxuICAvLyAtLS1cblxuICBjbG9uZSh0aGlzVmFsdWU/OiBWYWx1ZTxJRWNtYU9iamVjdD4sIHZhcmlhYmxlRW52PzogVmFsdWU8TGV4aWNhbEVudmlyb25tZW50PiwgbGV4aWNhbEVudj86IFZhbHVlPExleGljYWxFbnZpcm9ubWVudD4pIHtcblxuICAgIGxldCB0ViA9IHRoaXNWYWx1ZSB8fCB0aGlzLnRoaXNWYWx1ZTtcbiAgICBsZXQgbEUgPSBsZXhpY2FsRW52IHx8IHRoaXMubGV4aWNhbEVudjtcbiAgICBsZXQgdkUgPSB2YXJpYWJsZUVudiB8fCB0aGlzLnZhcmlhYmxlRW52O1xuXG4gICAgbGV0IG5ld0N0eCA9IG5ldyBDb250ZXh0KHRWLCB2RSwgbEUpO1xuICAgIG5ld0N0eC5sYWJlbHMucGMgPSB0aGlzLmVmZmVjdGl2ZVBDO1xuICAgIG5ld0N0eC5sYWJlbHMuZXhjID0gdGhpcy5sYWJlbHMuZXhjO1xuICAgIG5ld0N0eC5sYWJlbHMucmV0ID0gdGhpcy5sYWJlbHMucmV0O1xuICAgIHJldHVybiBuZXdDdHg7XG4gIH1cblxuICAvLyAtLS1cblxuICBwdXNoUEMobDogTGFiZWwpOiB2b2lkIHtcbiAgICB0aGlzLnBjU3RhY2sucHVzaChsdWIobCwgdGhpcy5sYWJlbHMucGMpKTtcbiAgfVxuXG4gIC8vIC0tLVxuXG4gIHJhaXNlUEMobDogTGFiZWwpOiB2b2lkIHtcbiAgICB0aGlzLmxhYmVscy5wYyA9IGx1Yih0aGlzLmxhYmVscy5wYywgbCk7XG4gIH1cblxuICAvLyAtLS1cblxuICBwb3BQQygpOiBMYWJlbCB7XG4gICAgcmV0dXJuIHRoaXMucGNTdGFjay5wb3AoKTtcbiAgfVxuXG59IiwiaW1wb3J0IHsgVmFsdWUgfSBmcm9tIFwiLi4vVmFsdWVcIjtcbmltcG9ydCB7IFZhbHVlVHlwZXMgfSBmcm9tIFwiLi4vSW50ZXJmYWNlc1wiO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBUb0Jvb2xlYW4sIDkuMlxuXG5leHBvcnQgZnVuY3Rpb24gVG9Cb29sZWFuKHg6IFZhbHVlPFZhbHVlVHlwZXM+KTogVmFsdWU8Ym9vbGVhbj4ge1xuICByZXR1cm4gbmV3IFZhbHVlKEJvb2xlYW4oeC52YWx1ZSksIHgubGFiZWwpO1xufSIsImltcG9ydCB7IFRvTnVtYmVyIH0gZnJvbSBcIi4vVG9OdW1iZXJcIjtcbmltcG9ydCB7IFZhbHVlIH0gZnJvbSBcIi4uL1ZhbHVlXCI7XG5pbXBvcnQgeyBWYWx1ZVR5cGVzIH0gZnJvbSBcIi4uL0ludGVyZmFjZXNcIjtcblxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vIFRvSW50MzIsIDkuNVxuXG4gIGV4cG9ydCBmdW5jdGlvbiBUb0ludDMyKHggOiBWYWx1ZTxWYWx1ZVR5cGVzPikgOiBWYWx1ZTxudW1iZXI+IHtcbiAgICByZXR1cm4gVG9OdW1iZXIoeCk7XG4gIH1cbiIsImltcG9ydCB7IFZhbHVlIH0gZnJvbSBcIi4uL1ZhbHVlXCI7XG5pbXBvcnQgeyBUb051bWJlciB9IGZyb20gXCIuL1RvTnVtYmVyXCI7XG5pbXBvcnQgeyBWYWx1ZVR5cGVzIH0gZnJvbSBcIi4uL0ludGVyZmFjZXNcIjtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gVG9JbnRlZ2VyLCA5LjRcbi8vICAgICAgICBVc2luZyBUb051bWJlciB0byBjYXB0dXJlIHRoZSBUb1ByaW1pdGl2ZVxuLy8gICAgICAgIGFuZCByZWx5IG9uIHRoZSBpbnRlcm5hbCBjb252ZXJzaW9uIGF0IHRoZSBwb2ludCBvZiB1c2Vcbi8vICAgICAgICBzaG91bGQgc3VmZmljZS5cblxuZXhwb3J0IGZ1bmN0aW9uIFRvSW50ZWdlcih4OiBWYWx1ZTxWYWx1ZVR5cGVzPik6IFZhbHVlPG51bWJlcj4ge1xuICBsZXQgbnVtYmVyID0gVG9OdW1iZXIoeCk7XG5cbiAgaWYgKGlzTmFOKG51bWJlci52YWx1ZSkpIHtcbiAgICByZXR1cm4gbmV3IFZhbHVlKDAsIG51bWJlci5sYWJlbCk7XG4gIH1cbiAgZWxzZSBpZiAobnVtYmVyLnZhbHVlID09PSAwIHx8XG4gICAgbnVtYmVyLnZhbHVlID09PSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkgfHxcbiAgICBudW1iZXIudmFsdWUgPT09IE51bWJlci5ORUdBVElWRV9JTkZJTklUWSkge1xuICAgIHJldHVybiBudW1iZXI7XG4gIH1cbiAgZWxzZSB7XG4gICAgcmV0dXJuIG5ldyBWYWx1ZShcbiAgICAgIHNpZ24obnVtYmVyLnZhbHVlKSAqIE1hdGguZmxvb3IoTWF0aC5hYnMobnVtYmVyLnZhbHVlKSksXG4gICAgICBudW1iZXIubGFiZWxcbiAgICApO1xuICB9XG59XG5cbmZ1bmN0aW9uIHNpZ24objogbnVtYmVyKTogMSB8IDAgfCAtMSB7XG4gIGlmIChuID4gMCkge1xuICAgIHJldHVybiAxO1xuICB9XG4gIGVsc2UgaWYgKG4gPCAwKSB7XG4gICAgcmV0dXJuIC0xO1xuICB9XG5cbiAgcmV0dXJuIDA7XG59IiwiaW1wb3J0IHsgVmFsdWUgfSBmcm9tIFwiLi4vVmFsdWVcIjtcbmltcG9ydCB7IE1vbml0b3JCYXNlIH0gZnJvbSAnLi4vTW9uaXRvckJhc2UnO1xuXG5pbXBvcnQgeyBUb1ByaW1pdGl2ZSB9IGZyb20gJy4vVG9QcmltaXRpdmUnO1xuaW1wb3J0IHsgVmFsdWVUeXBlcyB9IGZyb20gXCIuLi9JbnRlcmZhY2VzXCI7XG5cbmRlY2xhcmUgdmFyIG1vbml0b3I6IE1vbml0b3JCYXNlO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBUb051bWJlciwgOS4zXG5cbmV4cG9ydCBmdW5jdGlvbiBUb051bWJlcih4IDogVmFsdWU8VmFsdWVUeXBlcz4pIHtcbiAgICBpZiAodHlwZW9mIHgudmFsdWUgIT09ICdvYmplY3QnKSB7XG4gICAgICAgIHJldHVybiBuZXcgVmFsdWUoTnVtYmVyKHgudmFsdWUpLCB4LmxhYmVsKTtcbiAgICB9XG5cbiAgICBtb25pdG9yLmNvbnRleHQucHVzaFBDKHgubGFiZWwpO1xuICAgIHZhciBwcmltVmFsdWUgPSBUb1ByaW1pdGl2ZSh4LCAnbnVtYmVyJyk7XG4gICAgbW9uaXRvci5jb250ZXh0LnBvcFBDKCk7XG5cbiAgICByZXR1cm4gbmV3IFZhbHVlKE51bWJlcihwcmltVmFsdWUudmFsdWUpLCBwcmltVmFsdWUubGFiZWwpO1xufSIsImltcG9ydCB7IFZhbHVlIH0gZnJvbSBcIi4uL1ZhbHVlXCI7XG5pbXBvcnQgeyBNb25pdG9yQmFzZSB9IGZyb20gJy4uL01vbml0b3JCYXNlJztcblxuaW1wb3J0IHsgYm90IH0gZnJvbSAnLi4vTGFiZWwnO1xuaW1wb3J0IHsgQm9vbGVhbk9iamVjdCB9IGZyb20gJy4uL09iamVjdHMvQm9vbGVhbk9iamVjdCc7XG5pbXBvcnQgeyBOdW1iZXJPYmplY3QgfSBmcm9tICcuLi9PYmplY3RzL051bWJlck9iamVjdCc7XG5pbXBvcnQgeyBTdHJpbmdPYmplY3QgfSBmcm9tICcuLi9PYmplY3RzL1N0cmluZ09iamVjdCc7XG5pbXBvcnQgeyBWYWx1ZVR5cGVzIH0gZnJvbSBcIi4uL0ludGVyZmFjZXNcIjtcbmltcG9ydCB7IEVjbWFPYmplY3QgfSBmcm9tIFwiLi4vT2JqZWN0cy9FY21hT2JqZWN0XCI7XG5cbmRlY2xhcmUgdmFyIG1vbml0b3I6IE1vbml0b3JCYXNlO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBUb09iamVjdCwgOS45XG5cbmV4cG9ydCBmdW5jdGlvbiBUb09iamVjdCh4OiBWYWx1ZTxWYWx1ZVR5cGVzPik6IFZhbHVlPEVjbWFPYmplY3Q+IHtcbiAgICAvLyBudWxsIG9yIHVuZGVmaW5lZCwgaGVuY2UgPT1cbiAgICBsZXQgdmFsdWUgPSB4LnZhbHVlO1xuICAgIGlmICh2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIG1vbml0b3IuY29udGV4dC5wdXNoUEMoeC5sYWJlbCk7XG5cbiAgICAgICAgbW9uaXRvci5UaHJvdyhcbiAgICAgICAgICAgIFwiVHlwZUVycm9yXCIsXG4gICAgICAgICAgICAnY2Fubm90IGNvbnZlcnQgJyArIFN0cmluZyh4LnZhbHVlKSArICcgdG8gb2JqZWN0JyxcbiAgICAgICAgICAgIGJvdFxuICAgICAgICApO1xuICAgIH1cblxuICAgIG1vbml0b3IuY29udGV4dC5wdXNoUEMoeC5sYWJlbCk7XG4gICAgbGV0IHJlczogVmFsdWU8RWNtYU9iamVjdD4gPSB1bmRlZmluZWQ7XG4gICAgc3dpdGNoICh0eXBlb2YgeC52YWx1ZSkge1xuICAgICAgICBjYXNlICdib29sZWFuJzpcbiAgICAgICAgICAgIHJlcyA9IG5ldyBWYWx1ZShuZXcgQm9vbGVhbk9iamVjdCh4LnZhbHVlLCB4LmxhYmVsKSwgeC5sYWJlbCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgICAgICAgIHJlcyA9IG5ldyBWYWx1ZShuZXcgTnVtYmVyT2JqZWN0KHgudmFsdWUsIHgubGFiZWwpLCB4LmxhYmVsKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAgICAgICByZXMgPSBuZXcgVmFsdWUobmV3IFN0cmluZ09iamVjdCh4LnZhbHVlLCB4LmxhYmVsKSwgeC5sYWJlbCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG5cbiAgICBtb25pdG9yLmNvbnRleHQucG9wUEMoKTtcbiAgICBpZiAocmVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9IGVsc2Uge1xuICAgICAgICAvL0B0cy1pZ25vcmVcbiAgICAgICAgcmV0dXJuIG5ldyBWYWx1ZSh4LnZhbHVlLCB4LmxhYmVsKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgVmFsdWVUeXBlcywgUHJpbWl0aXZlVmFsdWVUeXBlcyB9IGZyb20gXCIuLi9JbnRlcmZhY2VzXCI7XG5pbXBvcnQgeyBWYWx1ZSB9IGZyb20gXCIuLi9WYWx1ZVwiO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBUb1ByaW1pdGl2ZSwgOS4xICBcblxuZXhwb3J0IGZ1bmN0aW9uIFRvUHJpbWl0aXZlKHggOiBWYWx1ZTxWYWx1ZVR5cGVzPiwgUHJlZmVycmVkVHlwZT86IFwic3RyaW5nXCIgfCBcIm51bWJlclwiKSA6IFZhbHVlPFByaW1pdGl2ZVZhbHVlVHlwZXM+IHtcbiAgICBpZiAoeC52YWx1ZSA9PT0gbnVsbCB8fCB0eXBlb2YgeC52YWx1ZSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICByZXR1cm4geDtcbiAgICB9XG5cbiAgICAvLyB3aWxsIHJ1biBpbnQgdGhlIGNvbnRleHQgb2YgeCBkdWUgdG8gdmFsdWUgbGlmdGluZ1xuICAgIHZhciByZXMgPSB4LkRlZmF1bHRWYWx1ZShQcmVmZXJyZWRUeXBlKTtcbiAgICByZXR1cm4gcmVzO1xufSIsImltcG9ydCB7IFZhbHVlIH0gZnJvbSBcIi4uL1ZhbHVlXCI7XG5pbXBvcnQgeyBUb1ByaW1pdGl2ZSB9IGZyb20gXCIuL1RvUHJpbWl0aXZlXCI7XG5pbXBvcnQgeyBNb25pdG9yQmFzZSB9IGZyb20gXCIuLi9Nb25pdG9yQmFzZVwiO1xuaW1wb3J0IHsgVmFsdWVUeXBlcyB9IGZyb20gXCIuLi9JbnRlcmZhY2VzXCI7XG5cbmRlY2xhcmUgdmFyIG1vbml0b3I6IE1vbml0b3JCYXNlO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBUb1N0cmluZywgOS44XG5cbmV4cG9ydCBmdW5jdGlvbiBUb1N0cmluZyh4OiBWYWx1ZTxWYWx1ZVR5cGVzPik6IFZhbHVlPHN0cmluZz4ge1xuICBpZiAodHlwZW9mIHgudmFsdWUgIT09ICdvYmplY3QnKVxuICAgIHJldHVybiBuZXcgVmFsdWUoU3RyaW5nKHgudmFsdWUpLCB4LmxhYmVsKTtcblxuICBtb25pdG9yLmNvbnRleHQucHVzaFBDKHgubGFiZWwpO1xuICB2YXIgcHJpbVZhbHVlID0gVG9QcmltaXRpdmUoeCwgJ3N0cmluZycpO1xuICBtb25pdG9yLmNvbnRleHQucG9wUEMoKTtcbiAgcmV0dXJuIG5ldyBWYWx1ZShTdHJpbmcocHJpbVZhbHVlLnZhbHVlKSwgcHJpbVZhbHVlLmxhYmVsKTtcbn0iLCJpbXBvcnQgeyBWYWx1ZSB9IGZyb20gXCIuLi9WYWx1ZVwiO1xuaW1wb3J0IHsgVG9OdW1iZXIgfSBmcm9tIFwiLi9Ub051bWJlclwiO1xuaW1wb3J0IHsgVmFsdWVUeXBlcyB9IGZyb20gXCIuLi9JbnRlcmZhY2VzXCI7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFRvVUludDE2LCA5LjdcblxuZXhwb3J0IGZ1bmN0aW9uIFRvVUludDE2KHg6IFZhbHVlPFZhbHVlVHlwZXM+KTogVmFsdWU8bnVtYmVyPiB7XG4gIGxldCBudW1iZXIgPSBUb051bWJlcih4KTtcbiAgaWYgKGlzTmFOKG51bWJlci52YWx1ZSkgfHxcbiAgICBudW1iZXIudmFsdWUgPT09IDAgfHxcbiAgICBudW1iZXIudmFsdWUgPT09IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSB8fFxuICAgIG51bWJlci52YWx1ZSA9PT0gTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZKSB7XG4gICAgcmV0dXJuIG5ldyBWYWx1ZSgwLCBudW1iZXIubGFiZWwpO1xuICB9XG5cbiAgbGV0IHBvc0ludCA9IHNpZ24obnVtYmVyLnZhbHVlKSAqIE1hdGguZmxvb3IoTWF0aC5hYnMobnVtYmVyLnZhbHVlKSk7XG4gIGxldCBpbnQxNmJpdCA9IHBvc0ludCAlIE1hdGgucG93KDIsIDE2KTtcbiAgcmV0dXJuIG5ldyBWYWx1ZShpbnQxNmJpdCwgbnVtYmVyLmxhYmVsKTtcbn1cblxuZnVuY3Rpb24gc2lnbihuOiBudW1iZXIpOiAxIHwgMCB8IC0xIHtcbiAgaWYgKG4gPiAwKSB7XG4gICAgcmV0dXJuIDE7XG4gIH1cbiAgZWxzZSBpZiAobiA8IDApIHtcbiAgICByZXR1cm4gLTE7XG4gIH1cblxuICByZXR1cm4gMDtcbn07XG4iLCJpbXBvcnQgeyBUb051bWJlciB9IGZyb20gXCIuL1RvTnVtYmVyXCI7XG5pbXBvcnQgeyBWYWx1ZSB9IGZyb20gXCIuLi9WYWx1ZVwiO1xuaW1wb3J0IHsgVmFsdWVUeXBlcyB9IGZyb20gXCIuLi9JbnRlcmZhY2VzXCI7XG5cbiAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vIFRvVUludDMyLCA5LjZcblxuICBleHBvcnQgZnVuY3Rpb24gVG9VSW50MzIoeCA6IFZhbHVlPFZhbHVlVHlwZXM+KSA6IFZhbHVlPG51bWJlcj4ge1xuICAgIHJldHVybiBUb051bWJlcih4KTtcbiAgfVxuIiwiaW1wb3J0IHsgYm90IH0gZnJvbSBcIi4vTGFiZWxcIjtcbmltcG9ydCB7IFZhbHVlIH0gZnJvbSBcIi4vVmFsdWVcIjtcbmltcG9ydCB7IEVjbWFPYmplY3QgfSBmcm9tICcuL09iamVjdHMvRWNtYU9iamVjdCc7XG5pbXBvcnQgeyBWYWx1ZVR5cGVzLCBJRW52aXJvbm1lbnRSZWNvcmQsIElFY21hT2JqZWN0IH0gZnJvbSBcIi4vSW50ZXJmYWNlc1wiO1xuaW1wb3J0IHsgTGV4aWNhbEVudmlyb25tZW50IH0gZnJvbSBcIi4vTGV4aWNhbEVudmlyb25tZW50XCI7XG5pbXBvcnQgeyBNb25pdG9yQmFzZSB9IGZyb20gXCIuL01vbml0b3JCYXNlXCI7XG5cbmRlY2xhcmUgdmFyIG1vbml0b3I6IE1vbml0b3JCYXNlO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIDEwLjIuMi4yXG5cbmV4cG9ydCBmdW5jdGlvbiBOZXdEZWNsYXJhdGl2ZUVudmlyb25tZW50KGUgOiBWYWx1ZTxMZXhpY2FsRW52aXJvbm1lbnQ+KSB7XG4gICAgdmFyIGVudlJlYyA9IG5ldyBEZWNsYXJhdGl2ZUVudmlyb25tZW50UmVjb3JkKCk7XG4gICAgdmFyIGVudiA9IG5ldyBMZXhpY2FsRW52aXJvbm1lbnQoZW52UmVjLCBlKTtcbiAgICByZXR1cm4gZW52O1xufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIERlY2xhcmF0aXZlIEVudmlyb25tZW50IFJlY29yZCwgMTAuMi4xLjFcblxuZXhwb3J0IGNsYXNzIERlY2xhcmF0aXZlRW52aXJvbm1lbnRSZWNvcmQgZXh0ZW5kcyBFY21hT2JqZWN0IGltcGxlbWVudHMgSUVudmlyb25tZW50UmVjb3JkIHtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgIH1cblxuICAgIC8vIEhhc0JpbmRpbmcsIDEwLjIuMS4xLjFcbiAgICBIYXNCaW5kaW5nKHM6IFZhbHVlPHN0cmluZz4pOiBWYWx1ZTxib29sZWFuPiB7XG4gICAgICAgIHJldHVybiB0aGlzLkhhc1Byb3BlcnR5KHMpO1xuICAgIH1cblxuICAgIC8vIENyZWF0ZU11dGFibGVCaW5kaW5nLCAxMC4yLjEuMS4yXG4gICAgQ3JlYXRlTXV0YWJsZUJpbmRpbmcocDogVmFsdWU8c3RyaW5nPiwgZD86IGJvb2xlYW4pOiB2b2lkIHtcblxuICAgICAgICB2YXIgZGVzYyA9IHtcbiAgICAgICAgICAgIHZhbHVlOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBsYWJlbDogbW9uaXRvci5jb250ZXh0LmVmZmVjdGl2ZVBDLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiBkXG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5EZWZpbmVPd25Qcm9wZXJ0eShwLCBkZXNjLCB0cnVlKTtcbiAgICB9XG5cbiAgICAvLyBHZXRCaW5kaW5nVmFsdWUgMTAuMi4xLjEuNFxuICAgIEdldEJpbmRpbmdWYWx1ZShwOiBWYWx1ZTxzdHJpbmc+LCBzPzogYm9vbGVhbik6IFZhbHVlPFZhbHVlVHlwZXM+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuR2V0KHApO1xuICAgIH1cblxuICAgIC8vIFNldE11dGFibGVCaW5kaW5nLCAxMC4yLjEuMS4zXG4gICAgU2V0TXV0YWJsZUJpbmRpbmcocDogVmFsdWU8c3RyaW5nPiwgdjogVmFsdWU8VmFsdWVUeXBlcz4sIHM/OiBib29sZWFuKTogdm9pZCB7XG4gICAgICAgIHRoaXMuUHV0KHAsIHYsIHMgPT09IHRydWUpO1xuICAgIH1cblxuICAgIC8vIERlbGV0ZUJpbmRpbmcsIDEwLjIuMS4xLjVcbiAgICBEZWxldGVCaW5kaW5nKHA6IFZhbHVlPHN0cmluZz4pOiBWYWx1ZTxib29sZWFuPiB7XG4gICAgICAgIHJldHVybiB0aGlzLkRlbGV0ZShwKTtcbiAgICB9XG5cbiAgICAvLyBJbXBsaWNpdFRoaXNWYWxpZS4gMTAuMi4xLjEuNlxuICAgIEltcGxpY2l0VGhpc1ZhbHVlKCk6IFZhbHVlPElFY21hT2JqZWN0IHwgdW5kZWZpbmVkPiB7XG4gICAgICAgIHJldHVybiBuZXcgVmFsdWUodW5kZWZpbmVkLCBib3QpO1xuICAgIH1cblxuICAgIC8vIENyZWF0ZUltbXV0YWJsZUJpbmRpbmcsIDEwLjIuMS4xLjdcbiAgICBDcmVhdGVJbW11dGFibGVCaW5kaW5nKHA6IFZhbHVlPHN0cmluZz4pOiB2b2lkIHtcblxuICAgICAgICB2YXIgZGVzYyA9IHtcbiAgICAgICAgICAgIHZhbHVlOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBsYWJlbDogYm90LFxuICAgICAgICAgICAgd3JpdGFibGU6IGZhbHNlLFxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuRGVmaW5lT3duUHJvcGVydHkocCwgZGVzYywgZmFsc2UpO1xuICAgIH1cblxuICAgIC8vIEluaXRpYWxpemVJbW11dGFibGVCaW5kaW5nLCAxMC4yLjEuMS44XG4gICAgSW5pdGlhbGl6ZUltbXV0YWJsZUJpbmRpbmcocDogVmFsdWU8c3RyaW5nPiwgdjogVmFsdWU8VmFsdWVUeXBlcz4pOiB2b2lkIHtcbiAgICAgICAgdmFyIGRlc2MgPSB0aGlzLkdldE93blByb3BlcnR5KHApLnZhbHVlO1xuICAgICAgICBpZiAoZGVzYyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBtb25pdG9yLmZhdGFsKGBJbml0aWFsaXplSW1tdXRhYmxlQmluZGluZzogbm8gYmluZGluZ2luZyBmb3Ige3AudmFsdWV9YCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkZXNjLnZhbHVlID0gdi52YWx1ZTtcbiAgICAgICAgICAgIGRlc2MubGFiZWwgPSB2LmxhYmVsO1xuXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlIGRlc2Mgc2hvdWxkIGJlIGEgZGF0YSBkZXNjcmlwdG9yIGNyZWF0ZWQgYnkgQ3JlYXRlSW1tdXRhYmxlQmluZGluZ1xuICAgICAgICAgICAgdGhpcy5EZWZpbmVPd25Qcm9wZXJ0eShwLCBkZXNjLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9XG59IiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpc1xuICogZmlsZSwgWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IHsgYm90LCBMYWJlbCB9IGZyb20gJy4vTGFiZWwnO1xuXG5pbXBvcnQgeyBJRWNtYU9iamVjdCwgVmFsdWVUeXBlcyB9IGZyb20gJy4vSW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBWYWx1ZSB9IGZyb20gJy4vVmFsdWUnO1xuXG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5pbnRlcmZhY2UgTGFiZWxPcHRpb25zIHtcbiAgbGFiZWw/OiBMYWJlbCxcbiAgZXhpc3RlbmNlPzogTGFiZWxcbn1cblxuaW50ZXJmYWNlIERlZmluZU9wdGlvbnMgZXh0ZW5kcyBMYWJlbE9wdGlvbnMge1xuICBlbnVtZXJhYmxlPzogYm9vbGVhbixcbiAgY29uZmlndXJhYmxlPzogYm9vbGVhbixcbiAgd3JpdGFibGU/OiBib29sZWFuXG59XG5cbi8vIFRPRE86IGxhYmVsIG9mIG5hbWUgbm90IHVzZWQ7IG9ubHkgVmFsdWUgdG8gYmUgY29tcGF0aWJsZSB3aXRoIGNvbnN0YW50cyAtIHJlYXNvbmFibGU/XG5leHBvcnQgZnVuY3Rpb24gRGVmaW5lKF90aGlzOiBJRWNtYU9iamVjdCwgbmFtZTogVmFsdWU8c3RyaW5nPiwgdjogVmFsdWVUeXBlcywgb3B0cz86IERlZmluZU9wdGlvbnMpOiB2b2lkIHtcbiAgb3B0cyA9IG9wdHMgfHwge307XG5cbiAgdmFyIHBkOiBQcm9wZXJ0eURlc2NyaXB0b3IgPVxuICB7XG4gICAgdmFsdWU6IHYsXG4gICAgd3JpdGFibGU6IG9wdHMud3JpdGFibGUgPT09IHRydWUsXG4gICAgZW51bWVyYWJsZTogb3B0cy5lbnVtZXJhYmxlID09PSB0cnVlLFxuICAgIGNvbmZpZ3VyYWJsZTogb3B0cy5jb25maWd1cmFibGUgPT09IHRydWVcbiAgfVxuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShfdGhpcy5wcm9wZXJ0aWVzLCBuYW1lLnZhbHVlLCBwZCk7XG4gIF90aGlzLmxhYmVsc1tuYW1lLnZhbHVlXSA9IHsgdmFsdWU6IG9wdHMubGFiZWwgfHwgYm90LCBleGlzdGVuY2U6IG9wdHMuZXhpc3RlbmNlIHx8IGJvdCB9O1xufVxuXG4vLyAtLS1cblxuZXhwb3J0IGZ1bmN0aW9uIERlZmluZUZGVChfdGhpczogSUVjbWFPYmplY3QsIG5hbWU6IFZhbHVlPHN0cmluZz4sIHY6IFZhbHVlVHlwZXMsIG9wdHM/OiBMYWJlbE9wdGlvbnMpOiB2b2lkIHtcbiAgb3B0cyA9IG9wdHMgfHwge307XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShfdGhpcy5wcm9wZXJ0aWVzLCBuYW1lLnZhbHVlLFxuICAgIHtcbiAgICAgIHZhbHVlOiB2LFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfVxuICApO1xuICBfdGhpcy5sYWJlbHNbbmFtZS52YWx1ZV0gPSB7IHZhbHVlOiBvcHRzLmxhYmVsIHx8IGJvdCwgZXhpc3RlbmNlOiBvcHRzLmV4aXN0ZW5jZSB8fCBib3QgfTtcbn1cblxuLy8gLS0tXG5cbmV4cG9ydCBmdW5jdGlvbiBEZWZpbmVGRkYoX3RoaXM6IElFY21hT2JqZWN0LCBuYW1lOiBWYWx1ZTxzdHJpbmc+LCB2OiBWYWx1ZVR5cGVzLCBvcHRzPzogTGFiZWxPcHRpb25zKTogdm9pZCB7XG4gIG9wdHMgPSBvcHRzIHx8IHt9O1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoX3RoaXMucHJvcGVydGllcywgbmFtZS52YWx1ZSwgeyB2YWx1ZTogdiB9KTtcbiAgX3RoaXMubGFiZWxzW25hbWUudmFsdWVdID0geyB2YWx1ZTogb3B0cy5sYWJlbCB8fCBib3QsIGV4aXN0ZW5jZTogb3B0cy5leGlzdGVuY2UgfHwgYm90IH07XG59XG5cbi8vIC0tLVxuXG5leHBvcnQgZnVuY3Rpb24gRGVmaW5lVEZGKF90aGlzOiBJRWNtYU9iamVjdCwgbmFtZTogVmFsdWU8c3RyaW5nPiwgdjogVmFsdWVUeXBlcywgb3B0cz86IExhYmVsT3B0aW9ucyk6IHZvaWQge1xuICBvcHRzID0gb3B0cyB8fCB7fTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KF90aGlzLnByb3BlcnRpZXMsIG5hbWUudmFsdWUsXG4gICAge1xuICAgICAgdmFsdWU6IHYsXG4gICAgICB3cml0YWJsZTogdHJ1ZVxuICAgIH1cbiAgKTtcbiAgX3RoaXMubGFiZWxzW25hbWUudmFsdWVdID0geyB2YWx1ZTogb3B0cy5sYWJlbCB8fCBib3QsIGV4aXN0ZW5jZTogb3B0cy5leGlzdGVuY2UgfHwgYm90IH07XG59XG5cbi8vIC0tLVxuXG5leHBvcnQgZnVuY3Rpb24gRGVmaW5lVEZUKF90aGlzOiBJRWNtYU9iamVjdCwgbmFtZTogVmFsdWU8c3RyaW5nPiwgdjogVmFsdWVUeXBlcywgb3B0cz86IExhYmVsT3B0aW9ucyk6IHZvaWQge1xuICBvcHRzID0gb3B0cyB8fCB7fTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KF90aGlzLnByb3BlcnRpZXMsIG5hbWUudmFsdWUsXG4gICAge1xuICAgICAgdmFsdWU6IHYsXG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH1cbiAgKTtcbiAgX3RoaXMubGFiZWxzW25hbWUudmFsdWVdID0geyB2YWx1ZTogb3B0cy5sYWJlbCB8fCBib3QsIGV4aXN0ZW5jZTogb3B0cy5leGlzdGVuY2UgfHwgYm90IH07XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuIiwiaW1wb3J0IHsgV29ya0xpc3QsIFZhbHVlU3RhY2sgfSBmcm9tIFwiLi4vQ29udGV4dFwiO1xuaW1wb3J0IHsgVmFsdWUgfSBmcm9tIFwiLi4vVmFsdWVcIjtcbmltcG9ydCB7IFZhbHVlVHlwZXMgfSBmcm9tIFwiLi4vSW50ZXJmYWNlc1wiO1xuaW1wb3J0IHsgbHViIH0gZnJvbSBcIi4uL0xhYmVsXCI7XG5pbXBvcnQgeyBUb051bWJlciB9IGZyb20gXCIuLi9Db252ZXJzaW9uL1RvTnVtYmVyXCI7XG5pbXBvcnQgeyBUb1ByaW1pdGl2ZSB9IGZyb20gXCIuLi9Db252ZXJzaW9uL1RvUHJpbWl0aXZlXCI7XG5pbXBvcnQgeyBUb1VJbnQzMiB9IGZyb20gXCIuLi9Db252ZXJzaW9uL1RvVUludDMyXCI7XG5pbXBvcnQgeyBUb0ludDMyIH0gZnJvbSBcIi4uL0NvbnZlcnNpb24vVG9JbnQzMlwiO1xuaW1wb3J0IHsgVG9TdHJpbmcgfSBmcm9tIFwiLi4vQ29udmVyc2lvbi9Ub1N0cmluZ1wiO1xuaW1wb3J0IHsgTW9uaXRvckJhc2UgfSBmcm9tIFwiLi4vTW9uaXRvckJhc2VcIjtcbmltcG9ydCB7IEdldFZhbHVlIH0gZnJvbSBcIi4uL0dldFZhbHVlXCI7XG5pbXBvcnQgeyBUb0Jvb2xlYW4gfSBmcm9tIFwiLi4vQ29udmVyc2lvbi9Ub0Jvb2xlYW5cIjtcblxuXG5kZWNsYXJlIHZhciBtb25pdG9yOiBNb25pdG9yQmFzZTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gRXF1YWxpdHkgT3BlcmF0b3JzLCAxMS45XG5cbmZ1bmN0aW9uIGJpbmFyeUVxcyhvcDogXCI9PVwiIHwgXCIhPVwiLCB3bDogV29ya0xpc3QsIHZzOiBWYWx1ZVN0YWNrKTogdm9pZCB7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGxldCBydmFsOiBWYWx1ZTxWYWx1ZVR5cGVzPiA9IHZzLnBvcCgpO1xuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBsZXQgbHZhbDogVmFsdWU8VmFsdWVUeXBlcz4gPSB2cy5wb3AoKTtcbiAgXG4gICAgbGV0IHJlczogVmFsdWU8Ym9vbGVhbj47XG4gIFxuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICBsZXQgbHQ6IFwic3RyaW5nXCIgfCBcIm51bWJlclwiIHwgXCJiaWdpbnRcIiB8IFwiYm9vbGVhblwiIHwgXCJzeW1ib2xcIiB8IFwidW5kZWZpbmVkXCIgfCBcIm9iamVjdFwiIHwgXCJmdW5jdGlvblwiIHwgXCJudWxsXCIgPSB0eXBlb2YgbHZhbC52YWx1ZTtcbiAgICAgIGxldCBydDogXCJzdHJpbmdcIiB8IFwibnVtYmVyXCIgfCBcImJpZ2ludFwiIHwgXCJib29sZWFuXCIgfCBcInN5bWJvbFwiIHwgXCJ1bmRlZmluZWRcIiB8IFwib2JqZWN0XCIgfCBcImZ1bmN0aW9uXCIgfCBcIm51bGxcIiA9IHR5cGVvZiBydmFsLnZhbHVlO1xuICBcbiAgICAgIGx0ID0gbHZhbC52YWx1ZSA9PT0gdW5kZWZpbmVkID8gJ3VuZGVmaW5lZCcgOiBsdDtcbiAgICAgIHJ0ID0gcnZhbC52YWx1ZSA9PT0gdW5kZWZpbmVkID8gJ3VuZGVmaW5lZCcgOiBydDtcbiAgXG4gICAgICBsdCA9IGx2YWwudmFsdWUgPT09IG51bGwgPyAnbnVsbCcgOiBsdDtcbiAgICAgIHJ0ID0gcnZhbC52YWx1ZSA9PT0gbnVsbCA/ICdudWxsJyA6IHJ0O1xuICBcbiAgICAgIC8vIG11c3QgdXNlIHN0cmljdCBpbiBvcmRlciBub3QgdG8gdHJpZ2dlciBjb252ZXJzaW9uXG4gICAgICAvLyAgIGJ1dCB0aGVuIG51bGwgYW5kIHVuZGVmaW5lZCBtdXN0IGJlIGhhbmRsZWQgc2VwYXJhdGVseVxuICAgICAgaWYgKGx0ID09PSBydCkge1xuICAgICAgICByZXMgPSBuZXcgVmFsdWUobHZhbC52YWx1ZSA9PT0gcnZhbC52YWx1ZSxcbiAgICAgICAgICBsdWIobHZhbC5sYWJlbCwgcnZhbC5sYWJlbCkpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgXG4gICAgICBpZiAoKGx2YWwudmFsdWUgPT09IG51bGwgJiYgcnZhbC52YWx1ZSA9PT0gdW5kZWZpbmVkKSB8fFxuICAgICAgICAobHZhbC52YWx1ZSA9PT0gdW5kZWZpbmVkICYmIHJ2YWwudmFsdWUgPT09IG51bGwpKSB7XG4gICAgICAgIHJlcyA9IG5ldyBWYWx1ZSh0cnVlLCBsdWIobHZhbC5sYWJlbCwgcnZhbC5sYWJlbCkpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgXG4gICAgICBpZiAobHQgPT09ICdudW1iZXInICYmIHJ0ID09PSAnc3RyaW5nJykge1xuICAgICAgICBydmFsID0gVG9OdW1iZXIocnZhbCk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICBcbiAgICAgIGlmIChsdCA9PT0gJ3N0cmluZycgJiYgcnQgPT09ICdudW1iZXInKSB7XG4gICAgICAgIGx2YWwgPSBUb051bWJlcihsdmFsKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gIFxuICAgICAgaWYgKGx0ID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgbHZhbCA9IFRvTnVtYmVyKGx2YWwpO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgXG4gICAgICBpZiAocnQgPT09ICdib29sZWFuJykge1xuICAgICAgICBydmFsID0gVG9OdW1iZXIocnZhbCk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICBcbiAgICAgIGlmICgobHQgPT09ICdzdHJpbmcnIHx8IGx0ID09PSAnbnVtYmVyJykgJiZcbiAgICAgICAgcnQgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIHJ2YWwgPSBUb1ByaW1pdGl2ZShydmFsKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gIFxuICAgICAgaWYgKGx0ID09PSAnb2JqZWN0JyAmJlxuICAgICAgICAocnQgPT09ICdzdHJpbmcnIHx8IHJ0ID09PSAnbnVtYmVyJykpIHtcbiAgICAgICAgbHZhbCA9IFRvUHJpbWl0aXZlKGx2YWwpO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIHJlcyA9IG5ldyBWYWx1ZShmYWxzZSwgbHViKGx2YWwubGFiZWwsIHJ2YWwubGFiZWwpKTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgXG4gICAgaWYgKG9wID09PSAnIT0nKSB7XG4gICAgICByZXMudmFsdWUgPSAhcmVzLnZhbHVlO1xuICAgIH1cbiAgXG4gICAgdnMucHVzaChyZXMpO1xuICB9XG4gIFxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vIFN0cmljdCBFcXVhbGl0eSBPcGVyYXRvcnMsIDExLjkuNCwgMTEuOS41XG4gIFxuICBleHBvcnQgZnVuY3Rpb24gYmluYXJ5U3RyaWN0RXFzKG9wOiBcIj09PVwiIHwgXCIhPT1cIiwgd2w6IFdvcmtMaXN0LCB2czogVmFsdWVTdGFjayk6IHZvaWQge1xuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBsZXQgcnZhbDogVmFsdWU8VmFsdWVUeXBlcz4gPSB2cy5wb3AoKTtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgbGV0IGx2YWw6IFZhbHVlPFZhbHVlVHlwZXM+ID0gdnMucG9wKCk7XG4gIFxuICAgIGxldCByZXMgPSBuZXcgVmFsdWUobHZhbC52YWx1ZSA9PT0gcnZhbC52YWx1ZSxcbiAgICAgIGx1YihsdmFsLmxhYmVsLCBydmFsLmxhYmVsKSk7XG4gIFxuICAgIGlmIChvcCA9PT0gJyE9PScpIHtcbiAgICAgIHJlcy52YWx1ZSA9ICFyZXMudmFsdWU7XG4gICAgfVxuICBcbiAgICB2cy5wdXNoKHJlcyk7XG4gIH1cbiAgXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gUmVsYXRpb25hbCBPcGVyYXRvcnMsIDExLjhcbiAgLy8gIFRoZSBldmFsdWF0aW9uIG9yZGVyIGlzIGltcG9ydGFudCwgMTEuOC41XG4gIFxuICBmdW5jdGlvbiBiaW5hcnlPcmRzKFxuICAgIG9wOiBcIjxcIiB8IFwiPlwiIHwgXCI8PVwiIHwgXCI+PVwiIHwgXCJpbnN0YW5jZW9mXCIgfCBcImluXCIsXG4gICAgd2w6IFdvcmtMaXN0LFxuICAgIHZzOiBWYWx1ZVN0YWNrXG4gICk6IHZvaWQge1xuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBsZXQgcnZhbDogVmFsdWU8VmFsdWVUeXBlcz4gPSB2cy5wb3AoKTtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgbGV0IGx2YWw6IFZhbHVlPFZhbHVlVHlwZXM+ID0gdnMucG9wKCk7XG5cbiAgICBsZXQgbHByaW0sIHJwcmltO1xuICAgIGlmIChvcC5jaGFyQXQoMCkgPT09ICc8JyB8fCBvcC5jaGFyQXQoMCkgPT09ICc+Jykge1xuICAgICAgbHByaW0gPSBUb1ByaW1pdGl2ZShsdmFsLCAnbnVtYmVyJyk7XG4gICAgICBycHJpbSA9IFRvUHJpbWl0aXZlKHJ2YWwsICdudW1iZXInKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbHByaW0gPSBUb1ByaW1pdGl2ZShsdmFsKTtcbiAgICAgIHJwcmltID0gVG9QcmltaXRpdmUocnZhbCk7XG4gICAgfVxuXG5cbiAgICBsZXQgcmVzOiBWYWx1ZTxib29sZWFuPjtcblxuICAgIGlmICh0eXBlb2YgbHByaW0udmFsdWUgIT09ICdzdHJpbmcnICYmXG4gICAgICB0eXBlb2YgcnByaW0udmFsdWUgIT09ICdzdHJpbmcnKSB7XG4gICAgICBsZXQgbG51bSA9IFRvTnVtYmVyKGxwcmltKTtcbiAgICAgIGxldCBybnVtID0gVG9OdW1iZXIocnByaW0pO1xuICAgICAgbGV0IHZhbCA9IGV2YWwoJ2xudW0udmFsdWUgJyArIG9wICsgJyBybnVtLnZhbHVlJyk7XG4gICAgICByZXMgPSBuZXcgVmFsdWUodmFsLCBsdWIobG51bS5sYWJlbCwgcm51bS5sYWJlbCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgdmFsID0gZXZhbCgnbHByaW0udmFsdWUgJyArIG9wICsgJyBycHJpbS52YWx1ZScpO1xuICAgICAgcmVzID0gbmV3IFZhbHVlKHZhbCwgbHViKGxwcmltLmxhYmVsLCBycHJpbS5sYWJlbCkpO1xuICAgIH1cblxuICAgIHZzLnB1c2gocmVzKTtcbiAgfVxuICBcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyBCaXR3aXNlIFNoaWZ0IE9wZXJhdG9ycywgMTEuN1xuICBcbiAgZnVuY3Rpb24gYmluYXJ5U2hpZnRzKFxuICAgIG9wOiBcIjw8XCIgfCBcIj4+XCIgfCBcIj4+PlwiLFxuICAgIHdsOiBXb3JrTGlzdCxcbiAgICB2czogVmFsdWVTdGFja1xuICApOiB2b2lkIHtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgbGV0IHJ2YWw6IFZhbHVlPFZhbHVlVHlwZXM+ID0gdnMucG9wKCk7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGxldCBsdmFsOiBWYWx1ZTxWYWx1ZVR5cGVzPiA9IHZzLnBvcCgpO1xuICBcbiAgICBsZXQgbG51bSA9IChvcCA9PT0gJz4+PicpID8gVG9VSW50MzIobHZhbCkgOiBUb0ludDMyKGx2YWwpO1xuICAgIGxldCBybnVtID0gVG9VSW50MzIocnZhbCk7XG4gICAgbGV0IHZhbCA9IGV2YWwoJ2xudW0udmFsdWUgJyArIG9wICsgJyBybnVtLnZhbHVlJyk7XG4gIFxuICAgIHZzLnB1c2gobmV3IFZhbHVlKHZhbCwgbHViKGxudW0ubGFiZWwsIHJudW0ubGFiZWwpKSk7XG4gIH1cbiAgXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gQmluYXJ5IEJpdHdpc2UgT3BlcmF0b3JzLCAxMS4xMFxuICBcbiAgZnVuY3Rpb24gYmluYXJ5Qml0d2lzZU9wcyhcbiAgICBvcDogXCImXCIgfCBcIl5cIiB8IFwifFwiLFxuICAgIHdsOiBXb3JrTGlzdCxcbiAgICB2czogVmFsdWVTdGFja1xuICApOiB2b2lkIHtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgbGV0IHJ2YWw6IFZhbHVlPFZhbHVlVHlwZXM+ID0gdnMucG9wKCk7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGxldCBsdmFsOiBWYWx1ZTxWYWx1ZVR5cGVzPiA9IHZzLnBvcCgpO1xuICBcbiAgICBsZXQgbG51bSA9IFRvSW50MzIobHZhbCk7XG4gICAgbGV0IHJudW0gPSBUb0ludDMyKHJ2YWwpO1xuICAgIGxldCB2YWwgPSBldmFsKCdsbnVtLnZhbHVlICcgKyBvcCArICcgcm51bS52YWx1ZScpO1xuICBcbiAgICB2cy5wdXNoKG5ldyBWYWx1ZSh2YWwsIGx1YihsbnVtLmxhYmVsLCBybnVtLmxhYmVsKSkpO1xuICB9XG4gIFxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vIFBsdXMsIDExLjZcbiAgXG4gIGZ1bmN0aW9uIGJpbmFyeVBsdXMoXG4gICAgd2w6IFdvcmtMaXN0LFxuICAgIHZzOiBWYWx1ZVN0YWNrXG4gICk6IHZvaWQge1xuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBsZXQgcnZhbDogVmFsdWU8VmFsdWVUeXBlcz4gPSB2cy5wb3AoKTtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgbGV0IGx2YWw6IFZhbHVlPFZhbHVlVHlwZXM+ID0gdnMucG9wKCk7XG4gIFxuICAgIGxldCBscHJpbSA9IFRvUHJpbWl0aXZlKGx2YWwpO1xuICAgIGxldCBycHJpbSA9IFRvUHJpbWl0aXZlKHJ2YWwpO1xuICAgIGxldCByZXM6IFZhbHVlPG51bWJlciB8IHN0cmluZz47XG4gIFxuICAgIGlmICgodHlwZW9mIGxwcmltLnZhbHVlKSA9PT0gJ3N0cmluZycgfHxcbiAgICAgICh0eXBlb2YgcnByaW0udmFsdWUpID09PSAnc3RyaW5nJykge1xuICAgICAgbGV0IGxzdHIgPSBUb1N0cmluZyhscHJpbSk7XG4gICAgICBsZXQgcnN0ciA9IFRvU3RyaW5nKHJwcmltKTtcbiAgICAgIHJlcyA9IG5ldyBWYWx1ZShsc3RyLnZhbHVlICsgcnN0ci52YWx1ZSxcbiAgICAgICAgbHViKGxwcmltLmxhYmVsLCBycHJpbS5sYWJlbCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgbG51bSA9IFRvTnVtYmVyKGxwcmltKTtcbiAgICAgIGxldCBybnVtID0gVG9OdW1iZXIocnByaW0pO1xuICAgICAgcmVzID0gbmV3IFZhbHVlKGxudW0udmFsdWUgKyBybnVtLnZhbHVlLFxuICAgICAgICBsdWIobG51bS5sYWJlbCwgcm51bS5sYWJlbCkpO1xuICAgIH1cbiAgXG4gICAgdnMucHVzaChyZXMpO1xuICB9XG4gIFxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vIE11bHRpcGxpY2F0aXZlIG9wZXJhdG9ycywgMTEuNSwgYW5kIG1pbnVzLCAxMS42XG4gIFxuICBmdW5jdGlvbiBiaW5hcnlBcml0aG1ldGljT3BzKFxuICAgIG9wOiBcIi1cIiB8IFwiKlwiIHwgXCIvXCIgfCBcIiVcIixcbiAgICB3bDogV29ya0xpc3QsXG4gICAgdnM6IFZhbHVlU3RhY2tcbiAgKTogdm9pZCB7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGxldCBydmFsOiBWYWx1ZTxWYWx1ZVR5cGVzPiA9IHZzLnBvcCgpO1xuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBsZXQgbHZhbDogVmFsdWU8VmFsdWVUeXBlcz4gPSB2cy5wb3AoKTtcbiAgXG4gICAgbGV0IGxlZnROdW0gPSBUb051bWJlcihsdmFsKTtcbiAgICBsZXQgcmlnaHROdW0gPSBUb051bWJlcihydmFsKTtcbiAgICBsZXQgdmFsID0gZXZhbCgnbGVmdE51bS52YWx1ZSAnICsgb3AgKyAnIHJpZ2h0TnVtLnZhbHVlJyk7XG4gIFxuICAgIHZzLnB1c2gobmV3IFZhbHVlKHZhbCwgbHViKGxlZnROdW0ubGFiZWwsIHJpZ2h0TnVtLmxhYmVsKSkpO1xuICB9XG4gIFxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vIFRoZSBpbiBvcGVyYXRvciwgMTEuOC43XG4gIFxuICBmdW5jdGlvbiBiaW5hcnlJbihcbiAgICB3bDogV29ya0xpc3QsXG4gICAgdnM6IFZhbHVlU3RhY2tcbiAgKTogdm9pZCB7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGxldCBydmFsOiBWYWx1ZTxWYWx1ZVR5cGVzPiA9IHZzLnBvcCgpO1xuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBsZXQgbHZhbDogVmFsdWU8VmFsdWVUeXBlcz4gPSB2cy5wb3AoKTtcbiAgXG4gICAgaWYgKHR5cGVvZiBydmFsLnZhbHVlICE9PSAnb2JqZWN0Jykge1xuICAgICAgaWYgKGZhbHNlKSB7IC8vIFNJTEVOVCBFUlJPUlxuICAgICAgICB2cy5wdXNoKG5ldyBWYWx1ZShmYWxzZSwgbHViKGx2YWwubGFiZWwsIHJ2YWwubGFiZWwpKSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgXG4gICAgICBtb25pdG9yLlRocm93KFxuICAgICAgICBcIlR5cGVFcnJvclwiLFxuICAgICAgICBcImludmFsaWQgJ2luJyBwYXJhbWV0ZXJcIixcbiAgICAgICAgcnZhbC5sYWJlbFxuICAgICAgKTtcbiAgICB9XG4gICAgdnMucHVzaChydmFsLkhhc1Byb3BlcnR5KFRvU3RyaW5nKGx2YWwpKSk7XG4gIH1cbiAgXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gVGhlIGluc3RhbmNlb2Ygb3BlcmF0b3IsIDExLjguNlxuICBcbiAgZnVuY3Rpb24gYmluYXJ5SW5zdGFuY2VvZihcbiAgICB3bDogV29ya0xpc3QsXG4gICAgdnM6IFZhbHVlU3RhY2tcbiAgKTogdm9pZCB7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGxldCBydmFsOiBWYWx1ZTxWYWx1ZVR5cGVzPiA9IHZzLnBvcCgpO1xuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBsZXQgbHZhbDogVmFsdWU8VmFsdWVUeXBlcz4gPSB2cy5wb3AoKTtcbiAgXG4gICAgaWYgKHJ2YWwudmFsdWUgPT09IG51bGwgfHwgdHlwZW9mIHJ2YWwudmFsdWUgIT09ICdvYmplY3QnKSB7XG4gICAgICBpZiAoZmFsc2UpIHsgLy8gU0lMRU5UIEVSUk9SXG4gICAgICAgIHZzLnB1c2gobmV3IFZhbHVlKGZhbHNlLCBsdWIobHZhbC5sYWJlbCwgcnZhbC5sYWJlbCkpKTtcbiAgICAgIH1cbiAgXG4gICAgICBtb25pdG9yLlRocm93KFxuICAgICAgICBcIlR5cGVFcnJvclwiLFxuICAgICAgICBcImludmFsaWQgJ2luc3RhbmNlb2YnIHBhcmFtZXRlclwiLFxuICAgICAgICBydmFsLmxhYmVsXG4gICAgICApO1xuICBcbiAgICAgIHRocm93ICdUeXBlU2NyaXB0JztcbiAgICB9XG4gIFxuICAgIGlmICghKCdIYXNJbnN0YW5jZScgaW4gcnZhbC52YWx1ZSkpIHtcbiAgICAgIGlmIChmYWxzZSkgeyAvLyBTSUxFTlQgRVJST1JcbiAgICAgICAgdnMucHVzaChuZXcgVmFsdWUoZmFsc2UsIGx1YihsdmFsLmxhYmVsLCBydmFsLmxhYmVsKSkpO1xuICAgICAgfVxuICBcbiAgICAgIG1vbml0b3IuVGhyb3coXG4gICAgICAgIFwiVHlwZUVycm9yXCIsXG4gICAgICAgIFwiaW52YWxpZCAnaW5zdGFuY2VvZicgcGFyYW1ldGVyXCIsXG4gICAgICAgIHJ2YWwubGFiZWxcbiAgICAgICk7XG4gICAgfVxuICBcbiAgICB2cy5wdXNoKHJ2YWwuSGFzSW5zdGFuY2UobHZhbCkpO1xuICB9XG4gIFxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIFxuICBleHBvcnQgdmFyIGJpbmFyeXRibCA9IHtcbiAgICAnPT0nOiBiaW5hcnlFcXMuYmluZChudWxsLCAnPT0nKSxcbiAgICAnIT0nOiBiaW5hcnlFcXMuYmluZChudWxsLCAnIT0nKSxcbiAgICAnPT09JzogYmluYXJ5U3RyaWN0RXFzLmJpbmQobnVsbCwgJz09PScpLFxuICAgICchPT0nOiBiaW5hcnlTdHJpY3RFcXMuYmluZChudWxsLCAnIT09JyksXG4gICAgJzwnOiBiaW5hcnlPcmRzLmJpbmQobnVsbCwgJzwnKSxcbiAgICAnPD0nOiBiaW5hcnlPcmRzLmJpbmQobnVsbCwgJzw9JyksXG4gICAgJz4nOiBiaW5hcnlPcmRzLmJpbmQobnVsbCwgJz4nKSxcbiAgICAnPj0nOiBiaW5hcnlPcmRzLmJpbmQobnVsbCwgJz49JyksXG4gICAgJzw8JzogYmluYXJ5U2hpZnRzLmJpbmQobnVsbCwgJzw8JyksXG4gICAgJz4+JzogYmluYXJ5U2hpZnRzLmJpbmQobnVsbCwgJz4+JyksXG4gICAgJz4+Pic6IGJpbmFyeVNoaWZ0cy5iaW5kKG51bGwsICc+Pj4nKSxcbiAgICAnKyc6IGJpbmFyeVBsdXMsXG4gICAgJy0nOiBiaW5hcnlBcml0aG1ldGljT3BzLmJpbmQobnVsbCwgJy0nKSxcbiAgICAnKic6IGJpbmFyeUFyaXRobWV0aWNPcHMuYmluZChudWxsLCAnKicpLFxuICAgICcvJzogYmluYXJ5QXJpdGhtZXRpY09wcy5iaW5kKG51bGwsICcvJyksXG4gICAgJyUnOiBiaW5hcnlBcml0aG1ldGljT3BzLmJpbmQobnVsbCwgJyUnKSxcbiAgICAnfCc6IGJpbmFyeUJpdHdpc2VPcHMuYmluZChudWxsLCAnfCcpLFxuICAgICcmJzogYmluYXJ5Qml0d2lzZU9wcy5iaW5kKG51bGwsICcmJyksXG4gICAgJ14nOiBiaW5hcnlCaXR3aXNlT3BzLmJpbmQobnVsbCwgJ14nKSxcbiAgICAnaW4nOiBiaW5hcnlJbixcbiAgICAnaW5zdGFuY2VvZic6IGJpbmFyeUluc3RhbmNlb2ZcbiAgfTtcblxuXG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEJpbmFyeSBMb2dpY2FsIHx8LCAxMS4xMVxuXG5mdW5jdGlvbiBiaW5hcnlMb2dpY2FsT3IoXG4gICAgd2w6IFdvcmtMaXN0LFxuICAgIHZzOiBWYWx1ZVN0YWNrXG4gICk6IHZvaWQge1xuICBcbiAgICAvL0B0cy1pZ25vcmUgU1RBQ0tcbiAgICBsZXQgbHZhbCA9IEdldFZhbHVlKHZzLnBvcCgpKTtcbiAgICB2cy5wdXNoKGx2YWwpO1xuICBcbiAgICBsZXQgbGIgPSBUb0Jvb2xlYW4obHZhbCk7XG4gICAgbGV0IHJpZ2h0ID0gd2wucG9wKCk7XG4gIFxuICAgIGlmIChsYi52YWx1ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgXG4gICAgbW9uaXRvci5jb250ZXh0LnB1c2hQQyhsYi5sYWJlbCk7XG4gIFxuICAgIGxldCBpcCA9IHdsLnRvcCgpO1xuICAgIGlwLnRoZW4ocmlnaHQpO1xuICAgIGlwLnRoZW4oYmluYXJ5TG9naWNhbE9yX2VuZCk7XG4gIH1cbiAgXG4gIC8vIC0tLVxuICBcbiAgZnVuY3Rpb24gYmluYXJ5TG9naWNhbE9yX2VuZChcbiAgICB3bDogV29ya0xpc3QsXG4gICAgdnM6IFZhbHVlU3RhY2tcbiAgKTogdm9pZCB7XG4gICAgLy9AdHMtaWdub3JlIFNUQUNLXG4gICAgbGV0IHJ2YWwgPSBHZXRWYWx1ZSh2cy5wb3AoKSk7XG4gICAgLy9AdHMtaWdub3JlXG4gICAgbGV0IGx2YWw6IFZhbHVlPFZhbHVlVHlwZXM+ID0gdnMucG9wKCk7XG4gIFxuICAgIG1vbml0b3IuY29udGV4dC5wb3BQQygpO1xuICBcbiAgICB2cy5wdXNoKG5ldyBWYWx1ZShydmFsLnZhbHVlLCBsdWIocnZhbC5sYWJlbCwgbHZhbC5sYWJlbCkpKTtcbiAgfVxuICBcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyBCaW5hcnkgTG9naWNhbCAmJiwgMTEuMTFcbiAgXG4gIGZ1bmN0aW9uIGJpbmFyeUxvZ2ljYWxBbmQoXG4gICAgd2w6IFdvcmtMaXN0LFxuICAgIHZzOiBWYWx1ZVN0YWNrXG4gICk6IHZvaWQge1xuICAgIC8vQHRzLWlnbm9yZSBTVEFDS1xuICAgIGxldCBsdmFsID0gR2V0VmFsdWUodnMucG9wKCkpO1xuICAgIHZzLnB1c2gobHZhbCk7XG4gICAgbGV0IGxiID0gVG9Cb29sZWFuKGx2YWwpO1xuICAgIGxldCByaWdodCA9IHdsLnBvcCgpO1xuICBcbiAgICBpZiAoIWxiLnZhbHVlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICBcbiAgICBtb25pdG9yLmNvbnRleHQucHVzaFBDKGxiLmxhYmVsKTtcbiAgXG4gICAgbGV0IGlwID0gd2wudG9wKCk7XG4gICAgaXAudGhlbihyaWdodCk7XG4gICAgaXAudGhlbihiaW5hcnlMb2dpY2FsQW5kX2VuZCk7XG4gIH1cbiAgXG4gIC8vIC0tLVxuICBcbiAgZnVuY3Rpb24gYmluYXJ5TG9naWNhbEFuZF9lbmQoXG4gICAgd2w6IFdvcmtMaXN0LFxuICAgIHZzOiBWYWx1ZVN0YWNrXG4gICk6IHZvaWQge1xuICAgIC8vQHRzLWlnbm9yZSBTVEFDS1xuICAgIGxldCBydmFsID0gR2V0VmFsdWUodnMucG9wKCkpO1xuICAgIC8vQHRzLWlnbm9yZSBTVEFDS1xuICAgIGxldCBsdmFsOiBWYWx1ZTxWYWx1ZVR5cGVzPiA9IHZzLnBvcCgpO1xuICBcbiAgICBtb25pdG9yLmNvbnRleHQucG9wUEMoKTtcbiAgXG4gICAgdnMucHVzaChuZXcgVmFsdWUocnZhbC52YWx1ZSwgbHViKHJ2YWwubGFiZWwsIGx2YWwubGFiZWwpKSk7XG4gIH1cbiAgXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgXG4gIGV4cG9ydCB2YXIgbG9naWNhbHRibCA9IHtcbiAgICAnfHwnOiBiaW5hcnlMb2dpY2FsT3IsXG4gICAgJyYmJzogYmluYXJ5TG9naWNhbEFuZFxuICB9O1xuICBcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICBcbiAgZnVuY3Rpb24gYXNzaWdubWVudE9wcyhcbiAgICBvcDogXCIrXCIgfCBcIi1cIiB8IFwiKlwiIHwgXCIvXCIgfCBcIiVcIiB8IFwiPj5cIiB8IFwiPDxcIiB8IFwiPj4+XCIgfCBcInxcIiB8IFwiJlwiIHwgXCJeXCIgfCBudWxsLFxuICAgIHdsOiBXb3JrTGlzdCxcbiAgICB2czogVmFsdWVTdGFja1xuICApOiB2b2lkIHtcbiAgICAvL0B0cy1pZ25vcmUgU1RBQ0tcbiAgICBsZXQgcnZhbCA9IEdldFZhbHVlKHZzLnBvcCgpKTtcbiAgICBsZXQgbHJlZiA9IHZzLnBvcCgpO1xuICBcbiAgICBpZiAob3AgIT09IG51bGwpIHtcbiAgICAgIHZzLnB1c2gobHJlZik7XG4gICAgICAvL0B0cy1pZ25vcmUgU1RBQ0tcbiAgICAgIHZzLnB1c2goR2V0VmFsdWUobHJlZikpO1xuICAgICAgdnMucHVzaChydmFsKTtcbiAgICAgIGJpbmFyeXRibFtvcF0od2wsIHZzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdnMucHVzaChscmVmKTtcbiAgICAgIHZzLnB1c2gocnZhbCk7XG4gICAgfVxuICB9XG4gIFxuICBleHBvcnQgdmFyIGFzc2lnbm1lbnR0YmwgPSB7XG4gICAgJz0nOiBhc3NpZ25tZW50T3BzLmJpbmQobnVsbCwgbnVsbCksXG4gICAgJys9JzogYXNzaWdubWVudE9wcy5iaW5kKG51bGwsICcrJyksXG4gICAgJy09JzogYXNzaWdubWVudE9wcy5iaW5kKG51bGwsICctJyksXG4gICAgJyo9JzogYXNzaWdubWVudE9wcy5iaW5kKG51bGwsICcqJyksXG4gICAgJy89JzogYXNzaWdubWVudE9wcy5iaW5kKG51bGwsICcvJyksXG4gICAgJyU9JzogYXNzaWdubWVudE9wcy5iaW5kKG51bGwsICclJyksXG4gICAgJz4+PSc6IGFzc2lnbm1lbnRPcHMuYmluZChudWxsLCAnPj4nKSxcbiAgICAnPDw9JzogYXNzaWdubWVudE9wcy5iaW5kKG51bGwsICc8PCcpLFxuICAgICc+Pj49JzogYXNzaWdubWVudE9wcy5iaW5kKG51bGwsICc+Pj4nKSxcbiAgICAnfD0nOiBhc3NpZ25tZW50T3BzLmJpbmQobnVsbCwgJ3wnKSxcbiAgICAnJj0nOiBhc3NpZ25tZW50T3BzLmJpbmQobnVsbCwgJyYnKSxcbiAgICAnXj0nOiBhc3NpZ25tZW50T3BzLmJpbmQobnVsbCwgJ14nKVxuICB9OyIsImltcG9ydCB7IE1vbml0b3JCYXNlIH0gZnJvbSBcIi4uL01vbml0b3JCYXNlXCI7XG5pbXBvcnQgeyBGdW5jdGlvbk9iamVjdCB9IGZyb20gXCIuLi9PYmplY3RzL0Z1bmN0aW9uT2JqZWN0XCI7XG5pbXBvcnQgeyBDcmVhdGVBcmd1bWVudHNPYmplY3QgfSBmcm9tIFwiLi4vT2JqZWN0cy9Bcmd1bWVudHNPYmplY3RcIjtcbmltcG9ydCB7IFZhbHVlIH0gZnJvbSBcIi4uL1ZhbHVlXCI7XG5pbXBvcnQgeyBib3QgfSBmcm9tIFwiLi4vTGFiZWxcIjtcblxuaW1wb3J0ICogYXMgY29uc3RhbnRzIGZyb20gXCIuLi9Db25zdGFudHNcIjtcbmltcG9ydCAqIGFzIGVzdHJhdmVyc2UgZnJvbSBcImVzdHJhdmVyc2VcIjtcblxuZGVjbGFyZSB2YXIgbW9uaXRvcjogTW9uaXRvckJhc2U7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gMTAuNSAtIHN0cmljdCBpZ25vcmVkXG5cbmV4cG9ydCBmdW5jdGlvbiBEZWNsYXJhdGlvbkJpbmRpbmdJbnN0YW50aWF0aW9uKGNvbnRleHQsIEYsIGFyZ3MpIHtcblxuICAgIHZhciBpc0Z1bmN0aW9uQ29kZSwgaXNFdmFsQ29kZSwgY29kZTtcbiAgICBpZiAoRiBpbnN0YW5jZW9mIEZ1bmN0aW9uT2JqZWN0KSB7XG4gICAgICBpc0Z1bmN0aW9uQ29kZSA9IHRydWU7XG4gICAgICBpc0V2YWxDb2RlID0gZmFsc2U7XG4gICAgICBjb2RlID0gRi5Db2RlO1xuICAgIH0gZWxzZSB7XG4gICAgICBpc0Z1bmN0aW9uQ29kZSA9IGZhbHNlO1xuICAgICAgaXNFdmFsQ29kZSA9IHRydWU7XG4gICAgICBjb2RlID0gRjtcbiAgICB9XG4gIFxuICAgIHZhciBlbnYgPSBjb250ZXh0LnZhcmlhYmxlRW52O1xuICAgIHZhciBjb25maWd1cmFibGVCaW5kaW5ncyA9IGlzRXZhbENvZGU7XG4gIFxuICAgIGlmIChpc0Z1bmN0aW9uQ29kZSkge1xuICAgICAgQmluZEFyZ3VtZW50cyhlbnYsIEYuRm9ybWFsUGFyYW1ldGVycywgYXJncyk7XG4gICAgfVxuICBcbiAgICB2YXIgcGMgPSBjb250ZXh0LmVmZmVjdGl2ZVBDO1xuICBcbiAgICBIb2lzdEZ1bmN0aW9ucyhlbnYsIGNvZGUsIGNvbmZpZ3VyYWJsZUJpbmRpbmdzLCBwYyk7XG4gIFxuICAgIHZhciBhcmd1bWVudHNBbHJlYWR5RGVjbGFyZWQgPSBlbnYuSGFzQmluZGluZyhjb25zdGFudHNbJ2FyZ3VtZW50cyddKTtcbiAgXG4gICAgaWYgKGlzRnVuY3Rpb25Db2RlICYmICFhcmd1bWVudHNBbHJlYWR5RGVjbGFyZWQudmFsdWUpIHtcbiAgICAgIC8vIG1ha2Ugc3VyZSBpdCByZXR1cm5zIGEgVmFsdWVcbiAgICAgIHZhciBhcmdzT2JqID0gQ3JlYXRlQXJndW1lbnRzT2JqZWN0KGVudiwgRiwgYXJncyk7XG4gIFxuICAgICAgLy8gU2hvdWxkIG5vIGxvbmdlciBiZSBzdXBwb3J0ZWRcbiAgICAgIC8vIEYuRGVmaW5lT3duUHJvcGVydHkoY29uc3RhbnRzWydhcmd1bWVudHMnXSwgYXJnc09iaiwgZmFsc2UpO1xuICBcbiAgICAgIGVudi5DcmVhdGVNdXRhYmxlQmluZGluZyhjb25zdGFudHNbJ2FyZ3VtZW50cyddKTtcbiAgICAgIGVudi5TZXRNdXRhYmxlQmluZGluZyhjb25zdGFudHNbJ2FyZ3VtZW50cyddLCBhcmdzT2JqLCBmYWxzZSk7XG4gICAgfVxuICBcbiAgICBIb2lzdFZhcmlhYmxlcyhlbnYsIGNvZGUsIGNvbmZpZ3VyYWJsZUJpbmRpbmdzLCBwYyk7XG4gIH1cbiAgXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyBGdW5jdGlvbiBob2lzdGluZywgcGFydCBvZiAxMC41XG4gIFxuICBleHBvcnQgZnVuY3Rpb24gSG9pc3RGdW5jdGlvbnMoZW52LCBzY3JpcHQsIGNvbmZpZ3VyYWJsZUJpbmRpbmcsIHBjKSB7XG4gIFxuICAgIGlmICghc2NyaXB0LmZ1bmN0aW9uRGVjbGFyYXRpb25zKSB7XG4gICAgICAvLyBcbiAgICAgIHNjcmlwdC5mdW5jdGlvbkRlY2xhcmF0aW9ucyA9IFtdO1xuICBcbiAgICAgIHZhciB2aXNpdG9yID0ge307XG4gICAgICAvL0B0cy1pZ25vcmUgU1lOVEFYXG4gICAgICB2aXNpdG9yLmxlYXZlID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgICAgLy9AdHMtaWdub3JlIFNZTlRBWFxuICAgICAgdmlzaXRvci5lbnRlciA9IGZ1bmN0aW9uIChcbiAgICAgICAgdGhpcyA6IHtcbiAgICAgICAgICAgIHNraXAgKCkgOiB2b2lkXG4gICAgICAgICAgfSxcbiAgICAgICAgICBub2RlXG4gICAgICAgICkge1xuICBcbiAgICAgICAgaWYgKG5vZGUudHlwZSA9PT0gJ0Z1bmN0aW9uRGVjbGFyYXRpb24nKSB7XG4gICAgICAgICAgc2NyaXB0LmZ1bmN0aW9uRGVjbGFyYXRpb25zLnB1c2gobm9kZSk7XG4gICAgICAgIH1cbiAgXG4gICAgICAgIC8vIERvIG5vdCBob2lzdCBpbnNpZGUgZnVuY3Rpb25zXG4gICAgICAgIGlmIChub2RlLnR5cGUgPT09ICdGdW5jdGlvbkRlY2xhcmF0aW9uJyB8fFxuICAgICAgICAgIG5vZGUudHlwZSA9PT0gJ0Z1bmN0aW9uRXhwcmVzc2lvbicpIHtcbiAgICAgICAgICB0aGlzLnNraXAoKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgXG4gICAgICBlc3RyYXZlcnNlLnRyYXZlcnNlKHNjcmlwdCwgdmlzaXRvcik7XG4gICAgfVxuICBcbiAgICB2YXIgZHMgPSBzY3JpcHQuZnVuY3Rpb25EZWNsYXJhdGlvbnM7XG4gICAgdmFyIGk7XG4gIFxuICAgIHZhciBsZW4gPSBkcy5sZW5ndGg7XG4gICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gIFxuICAgICAgdmFyIGZuID0gbmV3IFZhbHVlKGRzW2ldLmlkLm5hbWUsIGJvdCk7XG4gICAgICB2YXIgZm8gPSBuZXcgRnVuY3Rpb25PYmplY3QoZHNbaV0ucGFyYW1zLCBkc1tpXS5ib2R5LCBlbnYpO1xuICBcbiAgICAgIGZvLk5hbWUgPSBkc1tpXS5pZC5uYW1lO1xuICAgICAgZm8uU291cmNlID0gZHNbaV07XG4gIFxuICAgICAgdmFyIGZ1bmNBbHJlYWR5RGVjbGFyZWQgPSBlbnYuSGFzQmluZGluZyhmbik7XG4gICAgICBpZiAoIWZ1bmNBbHJlYWR5RGVjbGFyZWQudmFsdWUpIHtcbiAgICAgICAgZW52LkNyZWF0ZU11dGFibGVCaW5kaW5nKGZuLCBjb25maWd1cmFibGVCaW5kaW5nKTtcbiAgICAgIH1cbiAgXG4gICAgICBlbnYuU2V0TXV0YWJsZUJpbmRpbmcoZm4sIG5ldyBWYWx1ZShmbywgcGMpKTtcbiAgICB9XG4gIH1cbiAgXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyBWYXJpYWJsZSBob2lzdGluZywgcGFydCBvZiAxMC41XG4gIFxuICBleHBvcnQgZnVuY3Rpb24gSG9pc3RWYXJpYWJsZXMoZW52LCBzY3JpcHQsIGNvbmZpZ3VyYWJsZUJpbmRpbmdzLCBwYykge1xuICBcbiAgICBpZiAoIXNjcmlwdC52YXJpYWJsZURlY2xhcmF0aW9ucykge1xuICBcbiAgICAgIHNjcmlwdC52YXJpYWJsZURlY2xhcmF0aW9ucyA9IFtdO1xuICBcbiAgICAgIHZhciB2aXNpdG9yID0ge307XG4gICAgICAvL0B0cy1pZ25vcmUgU1lOVEFYXG4gICAgICB2aXNpdG9yLmxlYXZlID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgICAgLy9AdHMtaWdub3JlIFNZTlRBWFxuICAgICAgdmlzaXRvci5lbnRlciA9IGZ1bmN0aW9uIChcbiAgICAgICAgdGhpcyA6IHsgXG4gICAgICAgICAgICBza2lwKCk6dm9pZFxuICAgICAgICAgIH0sXG4gICAgICAgICAgbm9kZVxuICAgICAgICApIHtcbiAgXG4gICAgICAgIC8vIERvIG5vdCBob2lzdCBpbnNpZGUgZnVuY3Rpb25zXG4gICAgICAgIGlmIChub2RlLnR5cGUgPT09ICdGdW5jdGlvbkRlY2xhcmF0aW9uJyB8fFxuICAgICAgICAgIG5vZGUudHlwZSA9PT0gJ0Z1bmN0aW9uRXhwcmVzc2lvbicpIHtcbiAgICAgICAgICB0aGlzLnNraXAoKTtcbiAgICAgICAgfVxuICBcbiAgICAgICAgaWYgKG5vZGUudHlwZSA9PT0gJ1ZhcmlhYmxlRGVjbGFyYXRpb24nKSB7XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IG5vZGUuZGVjbGFyYXRpb25zLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgZGVjbGFyYXRvciA9IG5vZGUuZGVjbGFyYXRpb25zW2ldO1xuICAgICAgICAgICAgdmFyIHBhdHRlcm4gPSBkZWNsYXJhdG9yLmlkO1xuICAgICAgICAgICAgc2NyaXB0LnZhcmlhYmxlRGVjbGFyYXRpb25zLnB1c2gocGF0dGVybik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuICBcbiAgICAgIGVzdHJhdmVyc2UudHJhdmVyc2Uoc2NyaXB0LCB2aXNpdG9yKTtcbiAgICB9XG4gIFxuICAgIHZhciBkcyA9IHNjcmlwdC52YXJpYWJsZURlY2xhcmF0aW9ucztcbiAgICB2YXIgaTtcbiAgXG4gICAgdmFyIGxlbiA9IGRzLmxlbmd0aDtcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgXG4gICAgICBpZiAoZHNbaV0udHlwZSAhPT0gJ0lkZW50aWZpZXInKSB7XG4gICAgICAgIG1vbml0b3IuZmF0YWwoJ1BhdHRlcnMgaXMgdmFyaWFibGUgZGVjbGFyYXRpb25zIG5vdCBzdXBwb3J0ZWQnKTtcbiAgICAgIH1cbiAgICAgIC8vIGRlY2xhcmF0aW9ucyBhcmUgaW5kZW50aWZpZXJzLCBub3QgZ2VuZXJhbCBwYXR0ZXJuc1xuICAgICAgdmFyIGRuID0gbmV3IFZhbHVlKGRzW2ldLm5hbWUsIGJvdCk7XG4gIFxuICAgICAgdmFyIHZhckFscmVhZHlEZWNsYXJlZCA9IGVudi5IYXNCaW5kaW5nKGRuKTtcbiAgICAgIGlmICghdmFyQWxyZWFkeURlY2xhcmVkLnZhbHVlKSB7XG4gICAgICAgIGVudi5DcmVhdGVNdXRhYmxlQmluZGluZyhkbiwgY29uZmlndXJhYmxlQmluZGluZ3MpO1xuICAgICAgICBlbnYuU2V0TXV0YWJsZUJpbmRpbmcoZG4sIG5ldyBWYWx1ZSh1bmRlZmluZWQsIHBjKSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gQmluZCBBcmd1bWVudHMsIFxuZXhwb3J0IGZ1bmN0aW9uIEJpbmRBcmd1bWVudHMoZW52LCBuYW1lcywgYXJncykge1xuICAgIGlmIChhcmdzID09IHVuZGVmaW5lZCkgcmV0dXJuO1xuICBcbiAgICB2YXIgYXJnQ291bnQgPSBhcmdzLmxlbmd0aDtcbiAgICB2YXIgbmFtZUNvdW50ID0gbmFtZXMubGVuZ3RoO1xuICBcbiAgICBtb25pdG9yLmNvbnRleHQucHVzaFBDKGJvdCk7XG4gICAgZm9yICh2YXIgbiA9IDA7IG4gPCBuYW1lQ291bnQ7IG4rKykge1xuICAgICAgdmFyIHY7XG4gICAgICBpZiAobiA+PSBhcmdDb3VudClcbiAgICAgICAgdiA9IG5ldyBWYWx1ZSh1bmRlZmluZWQsIGJvdCk7XG4gICAgICBlbHNlXG4gICAgICAgIHYgPSBhcmdzW25dO1xuICBcbiAgICAgIHZhciBpZCA9IG5hbWVzW25dO1xuICAgICAgaWYgKGlkLnR5cGUgIT09ICdJZGVudGlmaWVyJykge1xuICAgICAgICBtb25pdG9yLmZhdGFsKGlkLnR5cGUgKyAnIGlzIG5vdCBzdXBwb3J0ZWQgaW4gQmluZEFyZ3VtZW50cycpO1xuICAgICAgfVxuICBcbiAgICAgIHZhciBhcmdOYW1lID0gbmV3IFZhbHVlKGlkLm5hbWUsIGJvdCk7XG4gICAgICB2YXIgYXJnQWxyZWFkeURlY2xhcmVkID0gZW52Lkhhc0JpbmRpbmcoYXJnTmFtZSk7XG4gIFxuICAgICAgbW9uaXRvci5jb250ZXh0LnJhaXNlUEMoYXJnQWxyZWFkeURlY2xhcmVkLmxhYmVsKTtcbiAgICAgIGlmICghYXJnQWxyZWFkeURlY2xhcmVkLnZhbHVlKSB7XG4gICAgICAgIGVudi5DcmVhdGVNdXRhYmxlQmluZGluZyhhcmdOYW1lKTtcbiAgICAgIH1cbiAgXG4gICAgICBlbnYuU2V0TXV0YWJsZUJpbmRpbmcoYXJnTmFtZSwgdik7XG4gICAgfVxuICAgIG1vbml0b3IuY29udGV4dC5wb3BQQygpO1xuICB9IiwiaW1wb3J0IHsgV29ya0xpc3QsIFZhbHVlU3RhY2sgfSBmcm9tIFwiLi4vQ29udGV4dFwiO1xuXG5leHBvcnQgY2xhc3MgSlNGbG93RGVidWdFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvciguLi5hcmdzOiBhbnlbXSkge1xuICAgICAgICBzdXBlciguLi5hcmdzKTtcbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBBc3NlcnRWYWx1ZVN0YWNrU2l6ZShleHBlY3RlZFNpemU6IG51bWJlciwgdnM6IFZhbHVlU3RhY2spOiB2b2lkIHtcbiAgICBpZiAodnMuc2l6ZSgpICE9PSBleHBlY3RlZFNpemUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEpTRmxvd0RlYnVnRXJyb3IoYEV4cGVjdGVkIHNpemUgb2YgdmFsdWUgc3RhY2sgdG8gYmUgJHtleHBlY3RlZFNpemV9IGJ1dCBpdCBpcyAke3ZzLnNpemUoKX1gKTtcbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBDaGVja1ZhbHVlU3RhY2tTaXplKGV4cGVjdGVkU2l6ZTogbnVtYmVyLCBtc2c/OiBzdHJpbmcpOiAod2w6IFdvcmtMaXN0LCB2czogVmFsdWVTdGFjaykgPT4gdm9pZCB7XG4gICAgbGV0IGV4YyA9IG5ldyBKU0Zsb3dEZWJ1Z0Vycm9yKCk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICh3bDogV29ya0xpc3QsIHZzOiBWYWx1ZVN0YWNrKTogdm9pZCB7XG4gICAgICAgIGlmICh2cy5zaXplKCkgIT09IGV4cGVjdGVkU2l6ZSkge1xuICAgICAgICAgICAgZXhjLm1lc3NhZ2UgPSBgRXhwZWN0ZWQgc2l6ZSBvZiB2YWx1ZSBzdGFjayB0byBiZSAke2V4cGVjdGVkU2l6ZX0gYnV0IGl0IGlzICR7dnMuc2l6ZSgpfWA7XG4gICAgICAgICAgICB0aHJvdyBleGM7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCB0eXBlIENhbmFyeSA9IHsgdG9rZW4gOiBudW1iZXIsIG93bmVyIDogc3RyaW5nLCB2c3NpemUgOiBudW1iZXIgfTtcblxuZnVuY3Rpb24gSXNDYW5hcnkoeCA6IGFueSkgOiB4IGlzIENhbmFyeSB7XG4gICAgcmV0dXJuIHR5cGVvZiB4ID09PSAnb2JqZWN0JyAmJiB4ICE9PSBudWxsICYmIHgudG9rZW4gIT09IHVuZGVmaW5lZCAmJiB4LnZzc2l6ZSAhPT0gdW5kZWZpbmVkO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gUHVzaENhbmFyeSh2cyA6IFZhbHVlU3RhY2ssIG93bmVyIDogc3RyaW5nKSB7XG4gICAgbGV0IGNhbmFyeSA9IHsgdG9rZW4gOiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUiksIG93bmVyIDogb3duZXIsIHZzc2l6ZSA6IHZzLnNpemUoKSB9O1xuICAgIC8vQHRzLWlnbm9yZSBDQU5BUllcbiAgICB2cy5wdXNoKGNhbmFyeSk7XG4gICAgcmV0dXJuIGNhbmFyeTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEFzc2VydFZhbGlkQ2FuYXJ5KHZzIDogVmFsdWVTdGFjaywgZXhwZWN0ZWQgOiBDYW5hcnkpIHtcbiAgICBsZXQgeCA9IHZzLnBvcCgpO1xuICAgIGlmICghSXNDYW5hcnkoeCkgfHwgeC50b2tlbiAhPT0gZXhwZWN0ZWQudG9rZW4pIHtcbiAgICAgICAgdnMucHVzaCh4KTtcbiAgICAgICAgY29uc29sZS5sb2coJ1tKU0Zsb3cgRkFUQUxdIENhbmFyeSB2ZXJpZmljYXRpb24gZmFpbGVkOicsIEVycm9yKCkuc3RhY2spO1xuICAgICAgICB0aHJvdyBuZXcgSlNGbG93RGVidWdFcnJvcihgQ2Fubm90IHZlcmlmeSBjYW5hcnlgKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgUmVzdWx0IH0gZnJvbSBcIi4uL1Jlc3VsdFwiO1xuaW1wb3J0IHsgVmFsdWUgfSBmcm9tIFwiLi4vVmFsdWVcIjtcbmltcG9ydCB7IGJvdCwgbGUsIGx1YiB9IGZyb20gXCIuLi9MYWJlbFwiO1xuaW1wb3J0IHsgU3ludGF4RXJyb3JPYmplY3QgfSBmcm9tIFwiLi4vT2JqZWN0cy9TeW50YXhFcnJvck9iamVjdFwiO1xuaW1wb3J0IHsgaXNHdWFyZGVkRnVuY3Rpb24sIGlzQ2xvc3VyZSwgV29ya0xpc3QsIFZhbHVlU3RhY2sgfSBmcm9tIFwiLi4vQ29udGV4dFwiO1xuaW1wb3J0IHsgZXhwcmVzc2lvbnRibCB9IGZyb20gXCIuL0V4cHJlc3Npb25cIjtcbmltcG9ydCB7IHN0YXRlbWVudHRibCB9IGZyb20gXCIuL1N0YXRlbWVudFwiO1xuaW1wb3J0IHsgTW9uaXRvckJhc2UgfSBmcm9tIFwiLi4vTW9uaXRvckJhc2VcIjtcblxuaW1wb3J0ICogYXMgZXNwcmltYSBmcm9tICdlc3ByaW1hJztcbmltcG9ydCAqIGFzIGVzdHJlZSBmcm9tICdlc3RyZWUnO1xuaW1wb3J0IHsgSG9pc3RGdW5jdGlvbnMsIEhvaXN0VmFyaWFibGVzLCBEZWNsYXJhdGlvbkJpbmRpbmdJbnN0YW50aWF0aW9uIH0gZnJvbSBcIi4vQmluZGluZ1wiO1xuaW1wb3J0IHsgRGVjbGFyYXRpdmVFbnZpcm9ubWVudFJlY29yZCB9IGZyb20gXCIuLi9EZWNsYXJhdGl2ZUVudmlyb25tZW50UmVjb3JkXCI7XG5pbXBvcnQgeyBPYmplY3RFbnZpcm9ubWVudFJlY29yZCB9IGZyb20gXCIuLi9PYmplY3RFbnZpcm9ubWVudFJlY29yZFwiO1xuaW1wb3J0IHsgVGFzayB9IGZyb20gXCIuL1Rhc2tcIjtcbmltcG9ydCB7IFByb2dyYW0gfSBmcm9tIFwiZXN0cmVlXCI7XG5pbXBvcnQgeyBJc0NyYXdsZXIgfSBmcm9tIFwiLi4vVG9wbGV2ZWwvY3Jhd2xlci9DcmF3bGVyVXRpbFwiO1xuXG5cbmRlY2xhcmUgdmFyIG1vbml0b3I6IE1vbml0b3JCYXNlO1xuZGVjbGFyZSB2YXIgSlNGTE9XX1NUQUNLX0NIRUNLOiBib29sZWFuO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZXhwb3J0IGZ1bmN0aW9uIHJ1bm5pbmcoKSB7XG4gICAgcmV0dXJuICFtb25pdG9yLmNvbnRleHQud29ya0xpc3QuZW1wdHkoKTtcbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmV4cG9ydCBmdW5jdGlvbiBleGVjdXRlKFxuICAgIGFzdDogZXN0cmVlLlByb2dyYW0gfCBlc3RyZWUuU3RhdGVtZW50IHwgZXN0cmVlLkV4cHJlc3Npb24sXG4gICAgZGVidWdFbmFibGVkPzogYm9vbGVhblxuKTogUmVzdWx0IHtcblxuICAgIG1vbml0b3IuY29udGV4dC53b3JrTGlzdC5wdXNoKGFzdCk7XG4gICAgbW9uaXRvci5jb250ZXh0LnJlc3VsdCA9IG5ldyBSZXN1bHQoKTtcblxuICAgIGlmIChkZWJ1Z0VuYWJsZWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBkZWJ1Z0VuYWJsZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIGxldCBjb250ID0gdHJ1ZTtcblxuICAgIGRvIHtcbiAgICAgICAgaWYgKGRlYnVnRW5hYmxlZCAmJiBtb25pdG9yLmRlYnVnLmFjdGl2ZSkge1xuICAgICAgICAgICAgcmV0dXJuIG1vbml0b3IuY29udGV4dC5yZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgY29udCA9IHN0ZXAoKTtcbiAgICAgICAgbW9uaXRvci5leGVjdXRpb25JbmZvLnN0ZXAoKTtcbiAgICAgICBcbiAgICB9IHdoaWxlIChjb250KTtcblxuICAgIC8vICNDUkFXTEVSXG4gICAgaWYgKElzQ3Jhd2xlcihtb25pdG9yKSkge1xuICAgICAgICBtb25pdG9yLkNyYXdsZXJEYXRhLkR1bXBUb0NyYXdsZXIoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbW9uaXRvci5jb250ZXh0LnJlc3VsdDtcbn1cblxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlc3VtZSgpOiBSZXN1bHQge1xuXG4gICAgbGV0IGNvbnQgPSB0cnVlO1xuICAgIGRvIHtcbiAgICAgICAgY29udCA9IHN0ZXAoKTtcbiAgICAgICAgaWYgKG1vbml0b3IuZGVidWcuYWN0aXZlKSB7XG4gICAgICAgICAgICByZXR1cm4gbW9uaXRvci5jb250ZXh0LnJlc3VsdDtcbiAgICAgICAgfVxuICAgIH0gd2hpbGUgKGNvbnQpO1xuXG4gICAgcmV0dXJuIG1vbml0b3IuY29udGV4dC5yZXN1bHQ7XG59XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZXhwb3J0IGZ1bmN0aW9uIGV4ZWN1dGVHbG9iYWxDb2RlKGNvZGU6IHN0cmluZywgb3JpZ2luOiBzdHJpbmcsIG9wdGlvbnM/OiB7IGRlYnVnRW5hYmxlZD86IGJvb2xlYW4gfSk6IFJlc3VsdCB7XG5cbiAgICB0cnkge1xuICAgICAgICAvKiBjb252ZXJ0IGNvZGUgdG8gZXM1LCB1c2luZyBzb3VyY2VUeXBlICd1bmFtYmlnaW91cycsIG1lYW5pbmcgaXQgd2lsbCBiZVxuICAgICAgICAgKiBpbnRlcnByZXRlZCBhcyBzY3JpcHQgaW4gYSBicm93c2VyIGFuZCBfbm90XyBhZGQgXCJ1c2Ugc3RyaWN0XCIsIGFuZFxuICAgICAgICAgKiBlaXRoZXIgYSBzY3JpcHQgb3IgbW9kdWxlIGluIG5vZGVqcyAoYW5kIGFkZCBcInVzZSBzdHJpY3RcIiBpZiBpdCBpcyBhXG4gICAgICAgICAqIG1vZHVsZSkgKi9cblxuICAgICAgICBjb25zdCB0cmFuc2Zvcm1lZCA9IG1vbml0b3IudHJhbnNmb3JtKGNvZGUpO1xuICAgICAgICBtb25pdG9yLmNvZGUgPSBjb2RlO1xuICAgICAgICBtb25pdG9yLmFzdCA9IGVzcHJpbWEucGFyc2UodHJhbnNmb3JtZWQsIHsgbG9jOiB0cnVlLCByYW5nZTogdHJ1ZSwgdG9sZXJhbnQ6IHRydWUgfSk7XG5cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGxldCBtc2cgPSBuZXcgVmFsdWUoYCR7ZS5kZXNjcmlwdGlvbn0gaW4gJHtvcmlnaW59IDogJHtlLmxpbmVOdW1iZXJ9IDogJHtlLmNvbHVtbn1gLCBib3QpO1xuXG4gICAgICAgIGxldCBvYmogPSBuZXcgU3ludGF4RXJyb3JPYmplY3QobXNnKTtcbiAgICAgICAgbGV0IHJlc3VsdCA9IG5ldyBSZXN1bHQoKTtcbiAgICAgICAgcmVzdWx0LnR5cGUgPSAndGhyb3cnO1xuICAgICAgICByZXN1bHQudmFsdWUgPSBuZXcgVmFsdWUob2JqLCBib3QpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIGxldCBkZWJ1Z0VuYWJsZWQgPSB0cnVlO1xuICAgIGlmIChvcHRpb25zICYmIHR5cGVvZiBvcHRpb25zLmRlYnVnRW5hYmxlZCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgZGVidWdFbmFibGVkID0gb3B0aW9ucy5kZWJ1Z0VuYWJsZWQ7XG4gICAgfVxuXG4gICAgZW50ZXJHbG9iYWxDb2RlKG1vbml0b3IuYXN0KTtcbiAgICBsZXQgcmVzdWx0ID0gZXhlY3V0ZShtb25pdG9yLmFzdCwgZGVidWdFbmFibGVkKTtcbiAgICBtb25pdG9yLmV4ZWN1dGlvbkluZm8ucmVwb3J0KCk7XG4gICAgXG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyAgIGNvbnRhaW5zIHRoZSBkZWNsYXJhdGlvbiBiaW5kaW5nICgxMC41KSBvZiBnbG9iYWwgY29kZVxuXG5leHBvcnQgZnVuY3Rpb24gZW50ZXJHbG9iYWxDb2RlKGFzdDogZXN0cmVlLlByb2dyYW0pOiB2b2lkIHtcblxuICAgIGxldCBjID0gbW9uaXRvci5jb250ZXh0O1xuXG4gICAgLy8gMTAuNSAtIGhvaXN0aW5nXG4gICAgSG9pc3RGdW5jdGlvbnMoYy52YXJpYWJsZUVudiwgYXN0LCBmYWxzZSwgYm90KTtcbiAgICBIb2lzdFZhcmlhYmxlcyhjLnZhcmlhYmxlRW52LCBhc3QsIGZhbHNlLCBib3QpO1xuXG59XG5cblxuXG4vLyAtLS1cblxuZXhwb3J0IGZ1bmN0aW9uIGVudGVyRXZhbENvZGUoY29kZTogUHJvZ3JhbSwgX2V2YWwpIHtcbiAgICB2YXIgYyA9IG1vbml0b3IuY29udGV4dDtcblxuICAgIC8vIDE1LjEuMi4xLjEsIGlzIGRpcmVjdCBjYWxsXG4gICAgdmFyIGlzRGlyZWN0O1xuXG4gICAgLy9AdHMtaWdub3JlIFRZUEVTXG4gICAgaXNEaXJlY3QgPSBjLmN1cnJlbnRDYWxsLnJlZmVyZW5jZS5iYXNlLnZhbHVlIGluc3RhbmNlb2YgT2JqZWN0RW52aXJvbm1lbnRSZWNvcmQgfHxcbiAgICAgICAgLy9AdHMtaWdub3JlIFRZUEVTXG4gICAgICAgIGMuY3VycmVudENhbGwucmVmZXJlbmNlLmJhc2UudmFsdWUgaW5zdGFuY2VvZiBEZWNsYXJhdGl2ZUVudmlyb25tZW50UmVjb3JkO1xuXG4gICAgLy9AdHMtaWdub3JlIFRZUEVTXG4gICAgaXNEaXJlY3QgPSBpc0RpcmVjdCAmJiBjLmN1cnJlbnRDYWxsLnJlZmVyZW5jZS5wcm9wZXJ0eU5hbWUudmFsdWUgPT09ICdldmFsJztcbiAgICAvL0B0cy1pZ25vcmUgVFlQRVNcbiAgICBpc0RpcmVjdCA9IGlzRGlyZWN0ICYmIGMuY3VycmVudENhbGwudGFyZ2V0LmFjdHVhbEZ1bmN0aW9uID09PSBfZXZhbDtcblxuICAgIHZhciBjb250ZXh0ID0gYy5jbG9uZSgpO1xuXG4gICAgLy8gMTAuNC4yIC0gbm8gY2FsbGluZyBjb250ZXh0IG9yIG5vdCBkaXJlY3QgY2FsbFxuICAgIGlmICghaXNEaXJlY3QpIHtcbiAgICAgICAgdmFyIGdsb2JhbCA9IG1vbml0b3IuR2xvYmFsT2JqZWN0O1xuICAgICAgICB2YXIgZ2xvYmFsRW52ID0gbW9uaXRvci5HbG9iYWxFbnZpcm9ubWVudDtcblxuICAgICAgICBjb250ZXh0LnRoaXNWYWx1ZSA9IG5ldyBWYWx1ZShnbG9iYWwsIGJvdCk7XG4gICAgICAgIGNvbnRleHQubGV4aWNhbEVudiA9IG5ldyBWYWx1ZShnbG9iYWxFbnYsIGJvdCk7XG4gICAgICAgIGNvbnRleHQudmFyaWFibGVFbnYgPSBuZXcgVmFsdWUoZ2xvYmFsRW52LCBib3QpO1xuICAgIH1cblxuICAgIC8vQHRzLWlnbm9yZSBUWVBFU1xuICAgIERlY2xhcmF0aW9uQmluZGluZ0luc3RhbnRpYXRpb24oY29udGV4dCwgY29kZSk7XG5cbiAgICAvLyBmb3Igc3RhY2sgdHJhY2UgXG4gICAgY29udGV4dC5vd25lciA9ICdldmFsJztcblxuICAgIHJldHVybiBjb250ZXh0O1xufVxuXG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuXG5mdW5jdGlvbiBzdGVwKCk6IGJvb2xlYW4ge1xuXG4gICAgLy9AdHMtaWdub3JlIC5MQVNUXG4gICAgaWYgKG1vbml0b3IubGFzdCA9PT0gdW5kZWZpbmVkKSBtb25pdG9yLmxhc3QgPSBbXTtcblxuICAgIGxldCBjID0gbW9uaXRvci5jb250ZXh0O1xuICAgIGxldCB3bCA9IGMud29ya0xpc3Q7XG4gICAgbGV0IHZzID0gYy52YWx1ZVN0YWNrO1xuXG4gICAgbGV0IHJlc3VsdCA9IGMucmVzdWx0O1xuXG4gICAgaWYgKHdsLmVtcHR5KCkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGxldCB0YXNrID0gd2wucG9wKCk7XG4gICAgLy9AdHMtaWdub3JlIC5MQVNUXG4gICAgaWYgKG1vbml0b3IubGFzdC5sZW5ndGggPiAxMDApIHtcbiAgICAgICAgLy9AdHMtaWdub3JlIC5MQVNUXG4gICAgICAgIG1vbml0b3IubGFzdC5zaGlmdCgpO1xuICAgIH1cbiAgICAvL0B0cy1pZ25vcmUgLkxBU1RcbiAgICBtb25pdG9yLmxhc3QucHVzaCh0YXNrKTtcblxuICAgIHRyeSB7XG5cbiAgICAgICAgLy8gdGhyb3csIGNvbnRpbnVlLCBvciBicmVhayBzdGF0ZVxuXG4gICAgICAgIGlmIChyZXN1bHQudHlwZSAhPT0gJ25vcm1hbCcpIHtcblxuICAgICAgICAgICAgd2hpbGUgKHRydWUpIHtcblxuICAgICAgICAgICAgICAgIGlmICh0YXNrIGluc3RhbmNlb2YgVGFzayAmJiB0YXNrLlJ1bkZvcihyZXN1bHQudHlwZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGFzay5FeGVjdXRlKHdsLCB2cyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChpc0d1YXJkZWRGdW5jdGlvbih0YXNrKSAmJiB0YXNrLnJ1bmZvciAhPT0gdW5kZWZpbmVkICYmIHJlc3VsdC50eXBlIGluIHRhc2sucnVuZm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2codGFzay5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgdGFzayh3bCwgdnMpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgICAgIGlmIChpc0Nsb3N1cmUodGFzaykgJiYgdGFzay5mdW5jLnJ1bmZvciAhPT0gdW5kZWZpbmVkICYmIHJlc3VsdC50eXBlIGluIHRhc2suZnVuYy5ydW5mb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyh0YXNrLmZ1bmMubmFtZSk7XG5cblxuICAgICAgICAgICAgICAgICAgICB0YXNrLmZ1bmMuY2FsbCh0YXNrLmRhdGEsIHdsLCB2cyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICh3bC5lbXB0eSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyAgICAgIGNvbnNvbGUubG9nKCdza2lwcGluZycsIHRhc2spO1xuXG4gICAgICAgICAgICAgICAgdGFzayA9IHdsLnBvcCgpO1xuICAgICAgICAgICAgICAgIC8vQHRzLWlnbm9yZSAuTEFTVFxuICAgICAgICAgICAgICAgIGlmIChtb25pdG9yLmxhc3QubGVuZ3RoID4gMTAwKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vQHRzLWlnbm9yZSAuTEFTVFxuICAgICAgICAgICAgICAgICAgICBtb25pdG9yLmxhc3Quc2hpZnQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy9AdHMtaWdub3JlIC5MQVNUXG4gICAgICAgICAgICAgICAgbW9uaXRvci5sYXN0LnB1c2godGFzayk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0YXNrIGluc3RhbmNlb2YgVGFzaykge1xuICAgICAgICAgICAgdGFzay5FeGVjdXRlKHdsLCB2cyk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGZ1bmN0aW9uP1xuICAgICAgICBpZiAodHlwZW9mIHRhc2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2codGFzay5uYW1lKTtcblxuICAgICAgICAgICAgdGFzayh3bCwgdnMpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjbG9zdXJlP1xuXG4gICAgICAgIGlmICgnZnVuYycgaW4gdGFzayAmJiAnZGF0YScgaW4gdGFzaykge1xuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyh0YXNrLmZ1bmMubmFtZSk7XG5cbiAgICAgICAgICAgIHRhc2suZnVuYy5jYWxsKHRhc2suZGF0YSwgd2wsIHZzKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cblxuICAgICAgICAvLyBvdGhlcndpc2UsIHN5bnRheFxuICAgICAgICBsZXQgbm9kZSA9IHRhc2s7XG5cblxuXG4gICAgICAgIC8vIGV4cHJlc3Npb25zXG4gICAgICAgIGlmIChub2RlLnR5cGUgaW4gZXhwcmVzc2lvbnRibCkge1xuICAgICAgICAgICAgLy9jb25zb2xlLmxvZygnZXhwcmVzc2lvbicsIG5vZGUudHlwZSk7XG4gICAgICAgICAgICBleHByZXNzaW9udGJsW25vZGUudHlwZV0obm9kZSwgd2wsIHZzKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc3RhdGVtZW50IFxuXG4gICAgICAgIC8vIGZvciBzdGFjayB0cmFjZVxuICAgICAgICBjLmNvZGVTdGFjay5wdXNoKG5vZGUpO1xuICAgICAgICB3bC50b3AoKS50aGVuKFBvcENvZGVTdGFjay5JbnN0YW5jZSk7XG5cbiAgICAgICAgaWYgKG5vZGUudHlwZSBpbiBzdGF0ZW1lbnR0YmwpIHtcbiAgICAgICAgICAgIC8vICAgY29uc29sZS5sb2coJ3N0YXRlbWVudCcsIG5vZGUudHlwZSk7XG4gICAgICAgICAgICBzdGF0ZW1lbnR0Ymxbbm9kZS50eXBlXShub2RlLCB3bCwgdnMpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBtb25pdG9yLmZhdGFsKG5vZGUudHlwZSArICcgbm90IGltcGxlbWVudGVkJyk7XG5cbiAgICB9IGNhdGNoIChlKSB7XG5cbiAgICAgICAgaWYgKGUgaW5zdGFuY2VvZiBWYWx1ZSkge1xuXG4gICAgICAgICAgICAvLyBWZXJmaXkgdGhhdCB0aGUgZXhjZXB0aW9uIGlzIGFsbG93ZWQgXG4gICAgICAgICAgICBtb25pdG9yLmFzc2VydChsZShjLmVmZmVjdGl2ZVBDLCBjLmxhYmVscy5leGMpLFxuICAgICAgICAgICAgICAgIFwiZXhjZXB0aW9uIGluIFwiICsgYy5lZmZlY3RpdmVQQyArIFwiIG5vdCBhbGxvd2VkIHdpdGggZXhjZXB0aW9uIGxhYmVsIFwiICsgYy5sYWJlbHMuZXhjKTtcblxuICAgICAgICAgICAgLy8gRm9yIG9ic2VydmFibGUgZmxvd3NcbiAgICAgICAgICAgIGMubGFiZWxzLmV4YyA9IGx1YihjLmxhYmVscy5leGMsIGMuZWZmZWN0aXZlUEMpO1xuXG4gICAgICAgICAgICByZXN1bHQudHlwZSA9ICd0aHJvdyc7XG4gICAgICAgICAgICByZXN1bHQudmFsdWUgPSBlO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICB0aHJvdyBlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxuXG5jbGFzcyBQb3BDb2RlU3RhY2sgZXh0ZW5kcyBUYXNrIHtcbiAgICBzdGF0aWMgSW5zdGFuY2UgPSBuZXcgUG9wQ29kZVN0YWNrKCk7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKFRhc2sucnVuZm9yX2FsbCk7XG4gICAgfVxuXG4gICAgRXhlY3V0ZSh3bDogV29ya0xpc3QsIHZzOiBWYWx1ZVN0YWNrKTogdm9pZCB7XG4gICAgICAgIG1vbml0b3IuY29udGV4dC5jb2RlU3RhY2sucG9wKCk7XG4gICAgfVxufSIsImltcG9ydCB7IFdvcmtMaXN0LCBWYWx1ZVN0YWNrIH0gZnJvbSBcIi4uL0NvbnRleHRcIjtcbmltcG9ydCB7IFZhbHVlIH0gZnJvbSBcIi4uL1ZhbHVlXCI7XG5pbXBvcnQgeyBWYWx1ZVR5cGVzIH0gZnJvbSBcIi4uL0ludGVyZmFjZXNcIjtcbmltcG9ydCB7IFJlZmVyZW5jZSwgUmVmZXJlbmNlVHlwZSB9IGZyb20gXCIuLi9SZWZlcmVuY2VcIjtcbmltcG9ydCB7IEFycmF5T2JqZWN0IH0gZnJvbSBcIi4uL09iamVjdHMvQXJyYXlPYmplY3RcIjtcbmltcG9ydCB7IGJvdCwgbHViLCBsZSwgTGFiZWwgfSBmcm9tIFwiLi4vTGFiZWxcIjtcbmltcG9ydCB7IEdldFZhbHVlIH0gZnJvbSBcIi4uL0dldFZhbHVlXCI7XG5pbXBvcnQgeyBPYmplY3RPYmplY3QgfSBmcm9tIFwiLi4vT2JqZWN0cy9PYmplY3RPYmplY3RcIjtcbmltcG9ydCB7IEpTRlByb3BlcnR5RGVzY3JpcHRvciwgSXNEYXRhRGVzY3JpcHRvciwgSXNBY2Nlc3NvckRlc2NyaXB0b3IgfSBmcm9tIFwiLi4vUHJvcGVydHlEZXNjcmlwdG9yXCI7XG5pbXBvcnQgeyBGdW5jdGlvbk9iamVjdCB9IGZyb20gXCIuLi9PYmplY3RzL0Z1bmN0aW9uT2JqZWN0XCI7XG5pbXBvcnQgeyBOZXdEZWNsYXJhdGl2ZUVudmlyb25tZW50IH0gZnJvbSBcIi4uL0RlY2xhcmF0aXZlRW52aXJvbm1lbnRSZWNvcmRcIjtcbmltcG9ydCB7IHVuYXJ5dGJsLCBwcmVmaXh0YmwsIHBvc3RmaXh0YmwgfSBmcm9tIFwiLi9VbmFyeU9wZXJhdG9yc1wiO1xuaW1wb3J0IHsgYmluYXJ5dGJsLCBsb2dpY2FsdGJsLCBhc3NpZ25tZW50dGJsIH0gZnJvbSBcIi4vQmluYXJ5T3BlcmF0b3JzXCI7XG5pbXBvcnQgeyBQdXRWYWx1ZSB9IGZyb20gXCIuLi9QdXRWYWx1ZVwiO1xuaW1wb3J0IHsgVG9Cb29sZWFuIH0gZnJvbSBcIi4uL0NvbnZlcnNpb24vVG9Cb29sZWFuXCI7XG5pbXBvcnQgeyBJc0NhbGxhYmxlIH0gZnJvbSBcIi4uL1V0aWxpdHkvSXNDYWxsYWJsZVwiO1xuaW1wb3J0IHsgQ2hlY2tPYmplY3RDb2VyY2libGUgfSBmcm9tIFwiLi4vVXRpbGl0eS9DaGVja09iamVjdENvZXJjaWJsZVwiO1xuaW1wb3J0IHsgVG9TdHJpbmcgfSBmcm9tIFwiLi4vQ29udmVyc2lvbi9Ub1N0cmluZ1wiO1xuaW1wb3J0IHsgR2V0SWRlbnRpZmllclJlZmVyZW5jZSB9IGZyb20gXCIuLi9HZXRJZGVudGlmaWVyUmVmZXJlbmNlXCI7XG5pbXBvcnQgeyBSZWdFeHBPYmplY3QgfSBmcm9tIFwiLi4vT2JqZWN0cy9SZWdFeHBPYmplY3RcIjtcbmltcG9ydCB7IE1vbml0b3JCYXNlIH0gZnJvbSBcIi4uL01vbml0b3JCYXNlXCI7XG5cbmltcG9ydCAqIGFzIHBwIGZyb20gJy4uL1BQJztcbmltcG9ydCAqIGFzIGVzdHJlZSBmcm9tICdlc3RyZWUnO1xuaW1wb3J0ICogYXMgY29uc3RhbnRzIGZyb20gJy4uL0NvbnN0YW50cyc7XG5pbXBvcnQgeyBDYW5hcnksIFB1c2hDYW5hcnksIEFzc2VydFZhbGlkQ2FuYXJ5IH0gZnJvbSBcIi4vRGVidWdcIjtcblxuZGVjbGFyZSB2YXIgbW9uaXRvcjogTW9uaXRvckJhc2U7XG5kZWNsYXJlIHZhciBKU0ZMT1dfU1RBQ0tfQ0hFQ0s6IGJvb2xlYW47XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZnVuY3Rpb24gX0dldFZhbHVlKCk6IHZvaWQge1xuICBsZXQgdnMgPSBtb25pdG9yLmNvbnRleHQudmFsdWVTdGFjaztcbiAgLy8gQHRzLWlnbm9yZVxuICBsZXQgdmFsOiBWYWx1ZTxWYWx1ZVR5cGVzPiA9IHZzLnBvcCgpO1xuXG4gIHZzLnB1c2goR2V0VmFsdWUodmFsKSk7XG59XG5cbi8vIGV4cHJlc3Npb24gaGFuZGxlciBmdW5jdGlvbnMgXG5cbmV4cG9ydCB2YXIgZXhwcmVzc2lvbnRibCA9IHtcbiAgJ1RoaXNFeHByZXNzaW9uJzogdGhpc0V4cHJlc3Npb24sXG4gICdBcnJheUV4cHJlc3Npb24nOiBhcnJheUV4cHJlc3Npb24sXG4gICdPYmplY3RFeHByZXNzaW9uJzogb2JqZWN0RXhwcmVzc2lvbixcbiAgJ0Z1bmN0aW9uRXhwcmVzc2lvbic6IGZ1bmN0aW9uRXhwcmVzc2lvbixcbiAgJ1NlcXVlbmNlRXhwcmVzc2lvbic6IHNlcXVlbmNlRXhwcmVzc2lvbixcbiAgJ1VuYXJ5RXhwcmVzc2lvbic6IHVuYXJ5RXhwcmVzc2lvbixcbiAgJ0JpbmFyeUV4cHJlc3Npb24nOiBiaW5hcnlFeHByZXNzaW9uLFxuICAnVXBkYXRlRXhwcmVzc2lvbic6IHVwZGF0ZUV4cHJlc3Npb24sXG4gICdMb2dpY2FsRXhwcmVzc2lvbic6IGxvZ2ljYWxFeHByZXNzaW9uLFxuICAnQXNzaWdubWVudEV4cHJlc3Npb24nOiBhc3NpZ25tZW50RXhwcmVzc2lvbixcbiAgJ0NvbmRpdGlvbmFsRXhwcmVzc2lvbic6IGNvbmRpdGlvbmFsRXhwcmVzc2lvbixcbiAgJ05ld0V4cHJlc3Npb24nOiBuZXdFeHByZXNzaW9uLFxuICAnQ2FsbEV4cHJlc3Npb24nOiBjYWxsRXhwcmVzc2lvbixcbiAgJ01lbWJlckV4cHJlc3Npb24nOiBtZW1iZXJFeHByZXNzaW9uLFxuICAnSWRlbnRpZmllcic6IGlkZW50aWZpZXJFeHByZXNzaW9uLFxuICAnTGl0ZXJhbCc6IGxpdGVyYWxFeHByZXNzaW9uXG59O1xuXG5cbmZ1bmN0aW9uIENoZWNrQ2FuYXJ5KFxuICB0aGlzOiB2b2lkLFxuICB3bDogV29ya0xpc3QsXG4gIHZzOiBWYWx1ZVN0YWNrLFxuICBjYW5hcnk6IENhbmFyeVxuKSB7XG4gIGxldCByZXN1bHQgPSB2cy5wb3AoKTtcbiAgQXNzZXJ0VmFsaWRDYW5hcnkodnMsIGNhbmFyeSk7XG4gIHZzLnB1c2gocmVzdWx0KTtcbn1cblxuLy8gVGhpcywgMTEuMS4xIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIFxuXG5mdW5jdGlvbiB0aGlzRXhwcmVzc2lvbihcbiAgdGhpczogdm9pZCxcbiAgbm9kZTogZXN0cmVlLlRoaXNFeHByZXNzaW9uLFxuICB3bDogV29ya0xpc3QsXG4gIHZzOiBWYWx1ZVN0YWNrXG4pOiB2b2lkIHtcbiAgbGV0IGMgPSBtb25pdG9yLmNvbnRleHQ7XG4gIHZzLnB1c2goYy50aGlzVmFsdWUuY2xvbmUoKSk7XG59XG5cbi8vIEFycmF5IEluaXRpYWxpemVyLCAxMS4xLjQgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5mdW5jdGlvbiBhcnJheUV4cHJlc3Npb24oXG4gIHRoaXM6IHZvaWQsXG4gIG5vZGU6IGVzdHJlZS5BcnJheUV4cHJlc3Npb24sXG4gIHdsOiBXb3JrTGlzdCxcbiAgdnM6IFZhbHVlU3RhY2tcbik6IHZvaWQge1xuICBsZXQgY2FuYXJ5OiBDYW5hcnk7XG4gIGlmIChKU0ZMT1dfU1RBQ0tfQ0hFQ0spIHtcbiAgICBjYW5hcnkgPSBQdXNoQ2FuYXJ5KHZzLCBgYXJyYXlFeHByZXNzaW9uIDogJHtwcC5wcmV0dHkobm9kZSl9YCk7XG4gIH1cblxuICBsZXQgaXAgPSB3bC50b3AoKTtcblxuICBsZXQgYXJyID0gbmV3IFZhbHVlKG5ldyBBcnJheU9iamVjdCgpLCBib3QpO1xuICBsZXQgZXMgPSBub2RlLmVsZW1lbnRzO1xuICBsZXQgbGVuID0gZXMubGVuZ3RoO1xuXG4gIGFyci5QdXQoY29uc3RhbnRzLmxlbmd0aCwgbmV3IFZhbHVlKGxlbiwgYm90KSk7XG4gIHZzLnB1c2goYXJyKTtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgaWYgKGVzW2ldKSB7XG4gICAgICBpcC50aGVuKGVzW2ldKTtcbiAgICAgIGlwLnRoZW4oKHdsOiBXb3JrTGlzdCwgdnM6IFZhbHVlU3RhY2spID0+IGFycmF5RXhwcmVzc2lvblVwZGF0ZShhcnIsIGksIHdsLCB2cykpO1xuICAgIH1cbiAgfVxuXG4gIGlmIChKU0ZMT1dfU1RBQ0tfQ0hFQ0spIHtcbiAgICBpcC50aGVuKCh3bDogV29ya0xpc3QsIHZzOiBWYWx1ZVN0YWNrKSA9PiBDaGVja0NhbmFyeSh3bCwgdnMsIGNhbmFyeSkpO1xuICB9XG59XG5cbi8vIC0tLVxuXG5mdW5jdGlvbiBhcnJheUV4cHJlc3Npb25VcGRhdGUoXG4gIHRoaXM6IHZvaWQsXG4gIGFycmF5OiBWYWx1ZTxBcnJheU9iamVjdD4sXG4gIGluZGV4OiBudW1iZXIsXG4gIHdsOiBXb3JrTGlzdCxcbiAgdnM6IFZhbHVlU3RhY2tcbik6IHZvaWQge1xuICAvL0B0cy1pZ25vcmUgU1RBQ0tcbiAgbGV0IGluaXRWYWx1ZSA9IEdldFZhbHVlKHZzLnBvcCgpKTtcbiAgYXJyYXkuUHV0KG5ldyBWYWx1ZShpbmRleCwgYm90KSwgaW5pdFZhbHVlKTtcbn1cblxuLy8gT2JqZWN0IEluaXRpYWxpemVyLCAxMS4xLjUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmZ1bmN0aW9uIG9iamVjdEV4cHJlc3Npb24oXG4gIHRoaXM6IHZvaWQsXG4gIG5vZGU6IGVzdHJlZS5PYmplY3RFeHByZXNzaW9uLFxuICB3bDogV29ya0xpc3QsXG4gIHZzOiBWYWx1ZVN0YWNrXG4pOiB2b2lkIHtcbiAgbGV0IGNhbmFyeTogQ2FuYXJ5O1xuICBpZiAoSlNGTE9XX1NUQUNLX0NIRUNLKSB7XG4gICAgY2FuYXJ5ID0gUHVzaENhbmFyeSh2cywgYG9iamVjdEV4cHJlc3Npb24gOiAke3BwLnByZXR0eShub2RlKX1gKTtcbiAgfVxuXG4gIGxldCBpcCA9IHdsLnRvcCgpO1xuXG4gIGxldCBvYmogPSBuZXcgVmFsdWUobmV3IE9iamVjdE9iamVjdCgpLCBib3QpO1xuICB2cy5wdXNoKG9iaik7XG5cbiAgbGV0IHBzID0gbm9kZS5wcm9wZXJ0aWVzO1xuXG4gIGZvciAobGV0IGkgPSAwLCBsZW4gPSBwcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIGlwLnRoZW4ocHNbaV0udmFsdWUpO1xuICAgIGlwLnRoZW4oKHdsOiBXb3JrTGlzdCwgdnM6IFZhbHVlU3RhY2spID0+IG9iamVjdEV4cHJlc3Npb25VcGRhdGUocHMsIG9iaiwgaSwgd2wsIHZzKSk7XG4gIH1cblxuICBpZiAoSlNGTE9XX1NUQUNLX0NIRUNLKSB7XG4gICAgaXAudGhlbigod2w6IFdvcmtMaXN0LCB2czogVmFsdWVTdGFjaykgPT4gQ2hlY2tDYW5hcnkod2wsIHZzLCBjYW5hcnkpKTtcbiAgfVxufVxuXG4vLyAtLS1cblxuZnVuY3Rpb24gb2JqZWN0RXhwcmVzc2lvblVwZGF0ZShcbiAgdGhpczogdm9pZCxcbiAgcHJvcGVydGllczogZXN0cmVlLlByb3BlcnR5W10sXG4gIG9iamVjdDogVmFsdWU8T2JqZWN0T2JqZWN0PixcbiAgaW5kZXg6IG51bWJlcixcbiAgd2w6IFdvcmtMaXN0LFxuICB2czogVmFsdWVTdGFja1xuKTogdm9pZCB7XG5cbiAgbGV0IHByb3AgPSBwcm9wZXJ0aWVzW2luZGV4XTtcbiAgbGV0IHByb3BOYW1lOiBWYWx1ZTxzdHJpbmcgfCBudW1iZXI+O1xuXG4gIHN3aXRjaCAocHJvcC5rZXkudHlwZSkge1xuICAgIGNhc2UgJ0lkZW50aWZpZXInOlxuICAgICAgcHJvcE5hbWUgPSBuZXcgVmFsdWUocHJvcC5rZXkubmFtZSwgYm90KTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAnTGl0ZXJhbCc6XG4gICAgICAvLyBjYW4gb25seSBiZSBzdHJpbmcgb3IgbnVtYmVyOyBjb252ZXJzaW9uIHdpbGwgb2NjdXIgb25jZSBhc3NpZ25lZCB0byB0aGUgb2JqZWN0XG4gICAgICAvLyBUT0RPOiBmaXhcbiAgICAgIC8vQHRzLWlnbm9yZSBTWU5UQVhcbiAgICAgIHByb3BOYW1lID0gbmV3IFZhbHVlKHByb3Aua2V5LnZhbHVlLCBib3QpO1xuICAgICAgYnJlYWs7XG4gIH1cblxuICAvL0B0cy1pZ25vcmUgU1RBQ0tcbiAgbGV0IHByb3BWYWx1ZSA9IEdldFZhbHVlKHZzLnBvcCgpKTtcbiAgbGV0IHByb3BEZXNjOiBKU0ZQcm9wZXJ0eURlc2NyaXB0b3IgPSB7IGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgbGFiZWw6IGJvdCB9O1xuXG4gIHN3aXRjaCAocHJvcC5raW5kKSB7XG5cbiAgICBjYXNlICdpbml0JzpcbiAgICAgIHByb3BEZXNjLnZhbHVlID0gcHJvcFZhbHVlLnZhbHVlO1xuICAgICAgcHJvcERlc2MubGFiZWwgPSBwcm9wVmFsdWUubGFiZWw7XG4gICAgICBwcm9wRGVzYy53cml0YWJsZSA9IHRydWU7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ2dldCc6XG4gICAgICAvLyBUT0RPOiBmaXggXG4gICAgICAvL0B0cy1pZ25vcmUgREVTQyBIRUxMXG4gICAgICBwcm9wRGVzYy5nZXQgPSBwcm9wVmFsdWUudmFsdWU7XG4gICAgICBwcm9wRGVzYy5sYWJlbCA9IHByb3BWYWx1ZS5sYWJlbDtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAnc2V0JzpcbiAgICAgIC8vIFRPRE86IGZpeCBcbiAgICAgIC8vQHRzLWlnbm9yZSBERVNDIEhFTExcbiAgICAgIHByb3BEZXNjLnNldCA9IHByb3BWYWx1ZS52YWx1ZTtcbiAgICAgIHByb3BEZXNjLmxhYmVsID0gcHJvcFZhbHVlLmxhYmVsO1xuICAgICAgYnJlYWs7XG5cbiAgfVxuXG4gIGxldCBwcmV2aW91cyA9IG9iamVjdC5HZXRPd25Qcm9wZXJ0eShwcm9wTmFtZSk7XG5cbiAgbW9uaXRvci5jb250ZXh0LnB1c2hQQyhwcmV2aW91cy5sYWJlbCk7XG4gIGlmIChwcmV2aW91cy52YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgaWYgKChJc0RhdGFEZXNjcmlwdG9yKHByZXZpb3VzKSAmJiBJc0FjY2Vzc29yRGVzY3JpcHRvcihwcm9wRGVzYykpIHx8XG4gICAgICAoSXNBY2Nlc3NvckRlc2NyaXB0b3IocHJldmlvdXMpICYmIElzRGF0YURlc2NyaXB0b3IocHJvcERlc2MpKSB8fFxuICAgICAgKElzQWNjZXNzb3JEZXNjcmlwdG9yKHByZXZpb3VzKSAmJiBJc0FjY2Vzc29yRGVzY3JpcHRvcihwcm9wRGVzYykgJiZcbiAgICAgICAgLy9AdHMtaWdub3JlIERFU0MgSEVMTFxuICAgICAgICAoKHByZXZpb3VzLmdldCAmJiBwcm9wRGVzYy5nZXQpIHx8IChwcmV2aW91cy5zZXQgJiYgcHJvcERlc2Muc2V0KSlcbiAgICAgIClcbiAgICApIHtcbiAgICAgIG1vbml0b3IuVGhyb3coXG4gICAgICAgIFwiU3ludGF4RXJyb3JcIixcbiAgICAgICAgJ09iamVjdCBpbml0aWFsaXplcjogaWxsZWdhbCByZWRlZmluZSBvZiBwcm9wZXJ0eScsXG4gICAgICAgIGJvdFxuICAgICAgKTtcbiAgICB9XG4gIH1cbiAgbW9uaXRvci5jb250ZXh0LnBvcFBDKCk7XG4gIGxldCBvYmogPSBvYmplY3Q7XG4gIC8vQHRzLWlnbm9yZSBUWVBFU1xuICBvYmouRGVmaW5lT3duUHJvcGVydHkocHJvcE5hbWUsIHByb3BEZXNjKTtcbn1cblxuLy8gRnVuY3Rpb24gRGVmaW5pdGlvbiwgMTMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5mdW5jdGlvbiBmdW5jdGlvbkV4cHJlc3Npb24oXG4gIHRoaXM6IHZvaWQsXG4gIG5vZGU6IGVzdHJlZS5GdW5jdGlvbkV4cHJlc3Npb24sXG4gIHdsOiBXb3JrTGlzdCxcbiAgdnM6IFZhbHVlU3RhY2tcbik6IHZvaWQge1xuICBsZXQgZnVuOiBGdW5jdGlvbk9iamVjdDtcblxuICBpZiAobm9kZS5pZCkge1xuICAgIGxldCBmdW5jRW52ID0gTmV3RGVjbGFyYXRpdmVFbnZpcm9ubWVudChtb25pdG9yLmNvbnRleHQubGV4aWNhbEVudik7XG4gICAgbGV0IGlkZW50aWZpZXIgPSBuZXcgVmFsdWUobm9kZS5pZC5uYW1lLCBib3QpO1xuICAgIGZ1bmNFbnYuQ3JlYXRlSW1tdXRhYmxlQmluZGluZyhpZGVudGlmaWVyKTtcblxuICAgIGZ1biA9IG5ldyBGdW5jdGlvbk9iamVjdChub2RlLnBhcmFtcywgbm9kZS5ib2R5LCBuZXcgVmFsdWUoZnVuY0VudiwgYm90KSk7XG4gICAgZnVuLk5hbWUgPSBub2RlLmlkLm5hbWU7XG4gICAgZnVuLlNvdXJjZSA9IG5vZGU7XG5cbiAgICBmdW5jRW52LkluaXRpYWxpemVJbW11dGFibGVCaW5kaW5nKGlkZW50aWZpZXIsIG5ldyBWYWx1ZShmdW4sIGJvdCkpO1xuICB9IGVsc2Uge1xuICAgIGZ1biA9IG5ldyBGdW5jdGlvbk9iamVjdChub2RlLnBhcmFtcywgbm9kZS5ib2R5LCBtb25pdG9yLmNvbnRleHQubGV4aWNhbEVudik7XG4gICAgZnVuLlNvdXJjZSA9IG5vZGU7XG4gIH1cblxuICB2cy5wdXNoKG5ldyBWYWx1ZShmdW4sIGJvdCkpO1xufVxuXG4vLyBDb21tYSBPcGVyYXRvciwgMTEuMTQgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmZ1bmN0aW9uIHNlcXVlbmNlRXhwcmVzc2lvbihcbiAgdGhpczogdm9pZCxcbiAgbm9kZTogZXN0cmVlLlNlcXVlbmNlRXhwcmVzc2lvbixcbiAgd2w6IFdvcmtMaXN0LFxuICB2czogVmFsdWVTdGFja1xuKTogdm9pZCB7XG4gIGxldCBjYW5hcnk6IENhbmFyeTtcbiAgaWYgKEpTRkxPV19TVEFDS19DSEVDSykge1xuICAgIGNhbmFyeSA9IFB1c2hDYW5hcnkodnMsIGBzZXF1ZW5jZUV4cHJlc3Npb24gOiAke3BwLnByZXR0eShub2RlKX1gKTtcbiAgfVxuXG4gIGxldCBpcCA9IHdsLnRvcCgpO1xuICBsZXQgZXMgPSBub2RlLmV4cHJlc3Npb25zO1xuICBsZXQgbGVuID0gZXMubGVuZ3RoO1xuXG4gIGxldCBpID0gMDtcbiAgZm9yICg7IGkgPCBsZW4gLSAxOyBpKyspIHtcbiAgICBpcC50aGVuKGVzW2ldKTtcbiAgfVxuXG4gIGlmIChpIDwgbGVuKSB7XG4gICAgaXAudGhlbihlc1tpXSk7XG4gICAgaXAudGhlbigod2w6IFdvcmtMaXN0LCB2czogVmFsdWVTdGFjaykgPT4gc2VxdWVuY2VFeHByZXNzaW9uRW5kKGxlbiwgd2wsIHZzKSk7XG4gIH1cblxuICBpZiAoSlNGTE9XX1NUQUNLX0NIRUNLKSB7XG4gICAgaXAudGhlbigod2w6IFdvcmtMaXN0LCB2czogVmFsdWVTdGFjaykgPT4gQ2hlY2tDYW5hcnkod2wsIHZzLCBjYW5hcnkpKTtcbiAgfVxufVxuXG4vLyAtLS1cblxuZnVuY3Rpb24gc2VxdWVuY2VFeHByZXNzaW9uRW5kKFxuICB0aGlzOiB2b2lkLFxuICBsZW5ndGg6IG51bWJlcixcbiAgd2w6IFdvcmtMaXN0LFxuICB2czogVmFsdWVTdGFja1xuKTogdm9pZCB7XG4gIGxldCByZXN1bHQgPSB2cy5wb3AoKTtcblxuICAvLyBQb3AgYWxsIGJ1dCBsYXN0IGFuZCBleGVjdXRlIEdldFZhbHVlIG9uIHJlc3VsdCBmb3IgZXZlbnR1YWwgc2lkZSBlZmZlY3RzLlxuICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aCAtIDE7IGkrKykge1xuICAgIC8vQHRzLWlnbm9yZSBTVEFDS1xuICAgIEdldFZhbHVlKHZzLnBvcCgpKTtcbiAgfVxuXG4gIHZzLnB1c2gocmVzdWx0KTtcbn1cblxuLy8gVW5hcnkgT3BlcmF0b3JzLCAxMS40IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5mdW5jdGlvbiB1bmFyeUV4cHJlc3Npb24oXG4gIHRoaXM6IHZvaWQsXG4gIG5vZGU6IGVzdHJlZS5VbmFyeUV4cHJlc3Npb24sXG4gIHdsOiBXb3JrTGlzdCxcbiAgdnM6IFZhbHVlU3RhY2tcbik6IHZvaWQge1xuICBsZXQgY2FuYXJ5OiBDYW5hcnk7XG4gIGlmIChKU0ZMT1dfU1RBQ0tfQ0hFQ0spIHtcbiAgICBjYW5hcnkgPSBQdXNoQ2FuYXJ5KHZzLCBgdW5hcnlFeHByZXNzaW9uIDogJHtwcC5wcmV0dHkobm9kZSl9YCk7XG4gIH1cblxuICBsZXQgaXAgPSB3bC50b3AoKTtcbiAgaXAudGhlbihub2RlLmFyZ3VtZW50KTtcbiAgaXAudGhlbih1bmFyeXRibFtub2RlLm9wZXJhdG9yXSk7XG5cbiAgaWYgKEpTRkxPV19TVEFDS19DSEVDSykge1xuICAgIGlwLnRoZW4oKHdsOiBXb3JrTGlzdCwgdnM6IFZhbHVlU3RhY2spID0+IENoZWNrQ2FuYXJ5KHdsLCB2cywgY2FuYXJ5KSk7XG4gIH1cbn1cblxuLy8gQmluYXJ5IE9wZXJhdG9ycywgMTEuNS0xMS45IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmZ1bmN0aW9uIGJpbmFyeUV4cHJlc3Npb24oXG4gIHRoaXM6IHZvaWQsXG4gIG5vZGU6IGVzdHJlZS5CaW5hcnlFeHByZXNzaW9uLFxuICB3bDogV29ya0xpc3QsXG4gIHZzOiBWYWx1ZVN0YWNrXG4pOiB2b2lkIHtcbiAgbGV0IGNhbmFyeTogQ2FuYXJ5O1xuICBpZiAoSlNGTE9XX1NUQUNLX0NIRUNLKSB7XG4gICAgY2FuYXJ5ID0gUHVzaENhbmFyeSh2cywgYGJpbmFyeUV4cHJlc3Npb24gOiAke3BwLnByZXR0eShub2RlKX1gKTtcbiAgfVxuXG4gIGxldCBpcCA9IHdsLnRvcCgpO1xuICBpcC50aGVuKG5vZGUubGVmdCk7XG4gIGlwLnRoZW4oX0dldFZhbHVlKTtcbiAgaXAudGhlbihub2RlLnJpZ2h0KTtcbiAgaXAudGhlbihfR2V0VmFsdWUpO1xuICBpcC50aGVuKGJpbmFyeXRibFtub2RlLm9wZXJhdG9yXSk7XG5cbiAgaWYgKEpTRkxPV19TVEFDS19DSEVDSykge1xuICAgIGlwLnRoZW4oKHdsOiBXb3JrTGlzdCwgdnM6IFZhbHVlU3RhY2spID0+IENoZWNrQ2FuYXJ5KHdsLCB2cywgY2FuYXJ5KSk7XG4gIH1cbn1cblxuLy8gUHJlZml4LCBhbmQgUG9zdGZpeCBFeHByZXNzaW9ucywgMTEuMywgMTEuNC40LCAxMS40LjUgLS0tLS0tLS0tLS0tLS0tLS1cblxuZnVuY3Rpb24gdXBkYXRlRXhwcmVzc2lvbihcbiAgdGhpczogdm9pZCxcbiAgbm9kZTogZXN0cmVlLlVwZGF0ZUV4cHJlc3Npb24sXG4gIHdsOiBXb3JrTGlzdCxcbiAgdnM6IFZhbHVlU3RhY2tcbik6IHZvaWQge1xuICBsZXQgY2FuYXJ5OiBDYW5hcnk7XG4gIGlmIChKU0ZMT1dfU1RBQ0tfQ0hFQ0spIHtcbiAgICBjYW5hcnkgPSBQdXNoQ2FuYXJ5KHZzLCBgdXBkYXRlRXhwcmVzc2lvbiA6ICR7cHAucHJldHR5KG5vZGUpfWApO1xuICB9XG5cbiAgbGV0IGlwID0gd2wudG9wKCk7XG4gIGlwLnRoZW4obm9kZS5hcmd1bWVudCk7XG4gIGlmIChub2RlLnByZWZpeCkge1xuICAgIGlwLnRoZW4ocHJlZml4dGJsW25vZGUub3BlcmF0b3JdKTtcbiAgfSBlbHNlIHtcbiAgICBpcC50aGVuKHBvc3RmaXh0Ymxbbm9kZS5vcGVyYXRvcl0pO1xuICB9XG5cbiAgaWYgKEpTRkxPV19TVEFDS19DSEVDSykge1xuICAgIGlwLnRoZW4oKHdsOiBXb3JrTGlzdCwgdnM6IFZhbHVlU3RhY2spID0+IENoZWNrQ2FuYXJ5KHdsLCB2cywgY2FuYXJ5KSk7XG4gIH1cbn1cblxuLy8gQmluYXJ5IE9wZXJhdG9ycywgMTEuNS0xMS45IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmZ1bmN0aW9uIGxvZ2ljYWxFeHByZXNzaW9uKFxuICB0aGlzOiB2b2lkLFxuICBub2RlOiBlc3RyZWUuTG9naWNhbEV4cHJlc3Npb24sXG4gIHdsOiBXb3JrTGlzdCxcbiAgdnM6IFZhbHVlU3RhY2tcbik6IHZvaWQge1xuICBsZXQgY2FuYXJ5OiBDYW5hcnk7XG4gIGlmIChKU0ZMT1dfU1RBQ0tfQ0hFQ0spIHtcbiAgICBjYW5hcnkgPSBQdXNoQ2FuYXJ5KHZzLCBgbG9naWNhbEV4cHJlc3Npb24gOiAke3BwLnByZXR0eShub2RlKX1gKTtcbiAgfVxuXG4gIGxldCBpcCA9IHdsLnRvcCgpO1xuICBpcC50aGVuKG5vZGUubGVmdCk7XG4gIGlwLnRoZW4obG9naWNhbHRibFtub2RlLm9wZXJhdG9yXSk7XG4gIGlwLnRoZW4obm9kZS5yaWdodCk7XG5cbiAgaWYgKEpTRkxPV19TVEFDS19DSEVDSykge1xuICAgIGlwLnRoZW4oKHdsOiBXb3JrTGlzdCwgdnM6IFZhbHVlU3RhY2spID0+IENoZWNrQ2FuYXJ5KHdsLCB2cywgY2FuYXJ5KSk7XG4gIH1cbn1cblxuLy8gQXNzaWdubWVudCwgMTEuMTMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZnVuY3Rpb24gYXNzaWdubWVudEV4cHJlc3Npb24oXG4gIHRoaXM6IHZvaWQsXG4gIG5vZGU6IGVzdHJlZS5Bc3NpZ25tZW50RXhwcmVzc2lvbixcbiAgd2w6IFdvcmtMaXN0LFxuICB2czogVmFsdWVTdGFja1xuKTogdm9pZCB7XG4gIGxldCBjYW5hcnk6IENhbmFyeTtcbiAgaWYgKEpTRkxPV19TVEFDS19DSEVDSykge1xuICAgIGNhbmFyeSA9IFB1c2hDYW5hcnkodnMsIGBhc3NpZ25tZW50RXhwcmVzc2lvbiA6ICR7cHAucHJldHR5KG5vZGUpfWApO1xuICB9XG5cbiAgbGV0IGlwID0gd2wudG9wKCk7XG4gIGlwLnRoZW4obm9kZS5sZWZ0KTtcbiAgaXAudGhlbihub2RlLnJpZ2h0KTtcbiAgaXAudGhlbihhc3NpZ25tZW50dGJsW25vZGUub3BlcmF0b3JdKTtcbiAgaXAudGhlbihhc3NpZ25tZW50RXhwcmVzc2lvbkVuZCk7XG5cbiAgaWYgKEpTRkxPV19TVEFDS19DSEVDSykge1xuICAgIGlwLnRoZW4oKHdsOiBXb3JrTGlzdCwgdnM6IFZhbHVlU3RhY2spID0+IENoZWNrQ2FuYXJ5KHdsLCB2cywgY2FuYXJ5KSk7XG4gIH1cbn1cblxuLy8gLS0tXG5cbmZ1bmN0aW9uIGFzc2lnbm1lbnRFeHByZXNzaW9uRW5kKFxuICB0aGlzOiB2b2lkLFxuICB3bDogV29ya0xpc3QsXG4gIHZzOiBWYWx1ZVN0YWNrXG4pOiB2b2lkIHtcbiAgLy9AdHMtaWdub3JlXG4gIGxldCBydmFsOiBWYWx1ZTxWYWx1ZVR5cGVzPiA9IHZzLnBvcCgpO1xuICAvL0B0cy1pZ25vcmVcbiAgbGV0IGxyZWY6IFJlZmVyZW5jZSA9IHZzLnBvcCgpO1xuICBQdXRWYWx1ZShscmVmLCBydmFsKTtcblxuICB2cy5wdXNoKHJ2YWwpO1xufVxuXG4vLyBDb25kaXRpb25hbCBPcGVyYXRvciwgMTEuMTIgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmZ1bmN0aW9uIGNvbmRpdGlvbmFsRXhwcmVzc2lvbihcbiAgdGhpczogdm9pZCxcbiAgbm9kZTogZXN0cmVlLkNvbmRpdGlvbmFsRXhwcmVzc2lvbixcbiAgd2w6IFdvcmtMaXN0LFxuICB2czogVmFsdWVTdGFja1xuKTogdm9pZCB7XG4gIGxldCBjYW5hcnk6IENhbmFyeTtcbiAgaWYgKEpTRkxPV19TVEFDS19DSEVDSykge1xuICAgIGNhbmFyeSA9IFB1c2hDYW5hcnkodnMsIGBjb25kaXRpb25hbEV4cHJlc3Npb24gOiAke3BwLnByZXR0eShub2RlKX1gKTtcbiAgfVxuXG4gIGxldCBpcCA9IHdsLnRvcCgpO1xuICBpcC50aGVuKG5vZGUudGVzdCk7XG4gIGlwLnRoZW4oKHdsOiBXb3JrTGlzdCwgdnM6IFZhbHVlU3RhY2spID0+IGNvbmRpdGlvbmFsRXhwcmVzc2lvbkNob29zZShub2RlLCB3bCwgdnMpKTtcblxuICBpZiAoSlNGTE9XX1NUQUNLX0NIRUNLKSB7XG4gICAgaXAudGhlbigod2w6IFdvcmtMaXN0LCB2czogVmFsdWVTdGFjaykgPT4gQ2hlY2tDYW5hcnkod2wsIHZzLCBjYW5hcnkpKTtcbiAgfVxufVxuXG4vLyAtLS1cblxuZnVuY3Rpb24gY29uZGl0aW9uYWxFeHByZXNzaW9uQ2hvb3NlKFxuICB0aGlzOiB2b2lkLFxuICBub2RlOiBlc3RyZWUuQ29uZGl0aW9uYWxFeHByZXNzaW9uLFxuICB3bDogV29ya0xpc3QsXG4gIHZzOiBWYWx1ZVN0YWNrXG4pOiB2b2lkIHtcbiAgbGV0IGlwID0gd2wudG9wKCk7XG4gIC8vQHRzLWlnbm9yZSBTVEFDS1xuICBsZXQgbHZhbCA9IEdldFZhbHVlKHZzLnBvcCgpKTtcbiAgbGV0IGxiID0gVG9Cb29sZWFuKGx2YWwpO1xuXG4gIG1vbml0b3IuY29udGV4dC5wdXNoUEMobGIubGFiZWwpO1xuXG4gIGlmIChsYi52YWx1ZSkge1xuICAgIGlwLnRoZW4obm9kZS5jb25zZXF1ZW50KTtcbiAgfVxuICBlbHNlIHtcbiAgICBpcC50aGVuKG5vZGUuYWx0ZXJuYXRlKTtcbiAgfVxuXG4gIGlwLnRoZW4oKHdsOiBXb3JrTGlzdCwgdnM6IFZhbHVlU3RhY2spID0+IGNvbmRpdGlvbmFsRXhwcmVzc2lvbkVuZChsdmFsLCB3bCwgdnMpKTtcbn1cblxuLy8gLS0tXG5cbmZ1bmN0aW9uIGNvbmRpdGlvbmFsRXhwcmVzc2lvbkVuZChcbiAgdGhpczogdm9pZCxcbiAgdGVzdDogVmFsdWU8VmFsdWVUeXBlcz4sXG4gIHdsOiBXb3JrTGlzdCxcbiAgdnM6IFZhbHVlU3RhY2tcbik6IHZvaWQge1xuICAvL0B0cy1pZ25vcmUgU1RBQ0tcbiAgbGV0IHZhbCA9IEdldFZhbHVlKHZzLnBvcCgpKTtcblxuICBtb25pdG9yLmNvbnRleHQucG9wUEMoKTtcbiAgdnMucHVzaChuZXcgVmFsdWUodmFsLnZhbHVlLCBsdWIodmFsLmxhYmVsLCB0ZXN0LmxhYmVsKSkpO1xufVxuXG4vLyBUaGUgbmV3IE9wZXJhdG9yLCAxMS4yLjIgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmZ1bmN0aW9uIG5ld0V4cHJlc3Npb24oXG4gIHRoaXM6IHZvaWQsXG4gIG5vZGU6IGVzdHJlZS5OZXdFeHByZXNzaW9uLFxuICB3bDogV29ya0xpc3QsXG4gIHZzOiBWYWx1ZVN0YWNrXG4pOiB2b2lkIHtcbiAgbGV0IGNhbmFyeTogQ2FuYXJ5O1xuICBpZiAoSlNGTE9XX1NUQUNLX0NIRUNLKSB7XG4gICAgY2FuYXJ5ID0gUHVzaENhbmFyeSh2cywgYG5ld0V4cHJlc3Npb24gOiAke3BwLnByZXR0eShub2RlKX1gKTtcbiAgfVxuXG4gIGxldCBpcCA9IHdsLnRvcCgpO1xuICBpcC50aGVuKG5vZGUuY2FsbGVlKTtcblxuICBsZXQgYXMgPSBub2RlLmFyZ3VtZW50cztcbiAgbGV0IGxlbiA9IGFzLmxlbmd0aDtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgaXAudGhlbihhc1tpXSk7XG4gIH1cblxuICBpcC50aGVuKCh3bDogV29ya0xpc3QsIHZzOiBWYWx1ZVN0YWNrKSA9PiBuZXdFeHByZXNzaW9uRXhlY3V0ZShsZW4sIHdsLCB2cywgcHAucHJldHR5KG5vZGUpKSk7XG5cbiAgaWYgKEpTRkxPV19TVEFDS19DSEVDSykge1xuICAgIGlwLnRoZW4oKHdsOiBXb3JrTGlzdCwgdnM6IFZhbHVlU3RhY2spID0+IENoZWNrQ2FuYXJ5KHdsLCB2cywgY2FuYXJ5KSk7XG4gIH1cbn1cblxuLy8gLS0tXG5cbmZ1bmN0aW9uIG5ld0V4cHJlc3Npb25FeGVjdXRlKFxuICB0aGlzOiB2b2lkLFxuICBsZW5ndGg6IG51bWJlcixcbiAgd2w6IFdvcmtMaXN0LFxuICB2czogVmFsdWVTdGFjayxcbiAgZGF0YSA6IHN0cmluZ1xuKTogdm9pZCB7XG4gIGxldCBjID0gbW9uaXRvci5jb250ZXh0O1xuICBsZXQgaXAgPSB3bC50b3AoKTtcblxuICBsZXQgYXJnTGlzdDogVmFsdWU8VmFsdWVUeXBlcz5bXSA9IFtdO1xuICBmb3IgKGxldCBpID0gbGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAvL0B0cy1pZ25vcmUgU1RBQ0tcbiAgICBhcmdMaXN0W2ldID0gR2V0VmFsdWUodnMucG9wKCkpO1xuICB9XG5cbiAgLy9AdHMtaWdub3JlIFNUQUNLXG4gIGxldCBjb25zdHJ1Y3RvciA9IEdldFZhbHVlKHZzLnBvcCgpKTtcblxuICBpZiAoY29uc3RydWN0b3IudmFsdWUgPT09IG51bGwgfHwgdHlwZW9mIGNvbnN0cnVjdG9yLnZhbHVlICE9PSAnb2JqZWN0Jykge1xuICAgIGlmIChmYWxzZSkgeyAvLyBTSUxFTlQgRVJST1JcbiAgICAgIGxldCB2ID0gbmV3IFZhbHVlKHVuZGVmaW5lZCwgY29uc3RydWN0b3IubGFiZWwpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBtb25pdG9yLlRocm93KFxuICAgICAgXCJUeXBlRXJyb3JcIixcbiAgICAgIFwiaW52YWxpZCAnbmV3JyBwYXJhbWV0ZXI6IG5vdCBhIGNvbnN0cnVjdG9yXCIsXG4gICAgICBjb25zdHJ1Y3Rvci5sYWJlbFxuICAgICk7XG5cbiAgICB0aHJvdyAnVHlwZVNjcmlwdCc7XG4gIH1cblxuICBpZiAoISgnQ29uc3RydWN0JyBpbiBjb25zdHJ1Y3Rvci52YWx1ZSkpIHtcbiAgICBpZiAoZmFsc2UpIHsgLy8gU0lMRU5UIEVSUk9SXG4gICAgICBsZXQgdiA9IG5ldyBWYWx1ZSh1bmRlZmluZWQsIGNvbnN0cnVjdG9yLmxhYmVsKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbW9uaXRvci5UaHJvdyhcbiAgICAgIFwiVHlwZUVycm9yXCIsXG4gICAgICBcImludmFsaWQgJ25ldycgcGFyYW1ldGVyOiBub3QgYSBjb25zdHJ1Y3RvclwiLFxuICAgICAgY29uc3RydWN0b3IubGFiZWxcbiAgICApO1xuXG4gICAgdGhyb3cgJ1R5cGVTY3JpcHQnO1xuICB9XG5cbiAgaWYgKGNvbnN0cnVjdG9yLnZhbHVlLkFzeW5jQ29uc3RydWN0KSB7XG4gICAgYy5wdXNoUEMoY29uc3RydWN0b3IubGFiZWwpO1xuXG4gICAgaXAgPSBjb25zdHJ1Y3Rvci52YWx1ZS5Bc3luY0NvbnN0cnVjdChhcmdMaXN0KTtcblxuICAgIGlwLnRoZW4oKHdsOiBXb3JrTGlzdCwgdnM6IFZhbHVlU3RhY2spID0+IGNhbGxFeHByZXNzaW9uRW5kKGNvbnN0cnVjdG9yLmxhYmVsLCB3bCwgdnMsIGRhdGEpKTtcblxuICB9IGVsc2Uge1xuICAgIHRyeSB7XG4gICAgICBsZXQgcmV0dmFsID0gY29uc3RydWN0b3IuQ29uc3RydWN0KGFyZ0xpc3QpO1xuICAgICAgcmV0dmFsLnJhaXNlKGNvbnN0cnVjdG9yLmxhYmVsKTtcbiAgICAgIHZzLnB1c2gocmV0dmFsKTtcbiAgICB9IGNhdGNoIChlKSB7XG5cbiAgICAgIGlmICghKGUgaW5zdGFuY2VvZiBWYWx1ZSkpIHtcbiAgICAgICAgdGhyb3cgZTtcbiAgICAgIH1cblxuICAgICAgbGV0IHJlc3VsdCA9IGMucmVzdWx0O1xuXG4gICAgICAvLyBWZXJmaXkgdGhhdCB0aGUgZXhjZXB0aW9uIGlzIGFsbG93ZWQgXG4gICAgICBtb25pdG9yLmFzc2VydChsZShjLmVmZmVjdGl2ZVBDLCBjLmxhYmVscy5leGMpLFxuICAgICAgICBcImV4Y2VwdGlvbiBpbiBcIiArIGMuZWZmZWN0aXZlUEMgKyBcIiBub3QgYWxsb3dlZCB3aXRoIGV4Y2VwdGlvbiBsYWJlbCBcIiArIGMubGFiZWxzLmV4Yyk7XG5cbiAgICAgIC8vIEZvciBvYnNlcnZhYmxlIGZsb3dzXG4gICAgICBjLmxhYmVscy5leGMgPSBsdWIoYy5sYWJlbHMuZXhjLCBjLmVmZmVjdGl2ZVBDKTtcblxuICAgICAgcmVzdWx0LnR5cGUgPSAndGhyb3cnO1xuICAgICAgcmVzdWx0LnZhbHVlID0gZTtcbiAgICB9XG4gIH1cbn1cblxuLy8gRnVuY3Rpb24gQ2FsbHMsIDExLjIuMyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5mdW5jdGlvbiBjYWxsRXhwcmVzc2lvbihcbiAgdGhpczogdm9pZCxcbiAgbm9kZTogZXN0cmVlLkNhbGxFeHByZXNzaW9uLFxuICB3bDogV29ya0xpc3QsXG4gIHZzOiBWYWx1ZVN0YWNrXG4pOiB2b2lkIHtcbiAgbGV0IGNhbmFyeTogQ2FuYXJ5O1xuICBpZiAoSlNGTE9XX1NUQUNLX0NIRUNLKSB7XG4gICAgY2FuYXJ5ID0gUHVzaENhbmFyeSh2cywgYGNhbGxFeHByZXNzaW9uIDogJHtwcC5wcmV0dHkobm9kZSl9YCk7XG4gIH1cblxuICBsZXQgaXAgPSB3bC50b3AoKTtcblxuICBsZXQgYXMgPSBub2RlLmFyZ3VtZW50cztcbiAgbGV0IGxlbiA9IGFzLmxlbmd0aDtcblxuICBpcC50aGVuKG5vZGUuY2FsbGVlKTtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgaXAudGhlbihhc1tpXSk7XG4gIH1cblxuICBpcC50aGVuKCh3bDogV29ya0xpc3QsIHZzOiBWYWx1ZVN0YWNrKSA9PiBjYWxsRXhwcmVzc2lvbkV4ZWN1dGUobGVuLCBub2RlLCB3bCwgdnMsIHBwLnByZXR0eShub2RlKSkpO1xuXG4gIGlmIChKU0ZMT1dfU1RBQ0tfQ0hFQ0spIHtcbiAgICBpcC50aGVuKCh3bDogV29ya0xpc3QsIHZzOiBWYWx1ZVN0YWNrKSA9PiBDaGVja0NhbmFyeSh3bCwgdnMsIGNhbmFyeSkpO1xuICB9XG59XG5cbi8vIGNhbGxFeHByZXNzaW9uRXhlY3V0ZVxuXG5mdW5jdGlvbiBjYWxsRXhwcmVzc2lvbkV4ZWN1dGUoXG4gIHRoaXM6IHZvaWQsXG4gIGxlbmd0aDogbnVtYmVyLFxuICBub2RlOiBlc3RyZWUuQ2FsbEV4cHJlc3Npb24sXG4gIHdsOiBXb3JrTGlzdCxcbiAgdnM6IFZhbHVlU3RhY2ssXG4gIGRhdGEgOiBzdHJpbmdcbik6IHZvaWQge1xuICBsZXQgYyA9IG1vbml0b3IuY29udGV4dDtcbiAgbGV0IGlwID0gd2wudG9wKCk7XG5cbiAgbGV0IGFyZ0xpc3Q6IFZhbHVlPFZhbHVlVHlwZXM+W10gPSBbXTtcbiAgZm9yIChsZXQgaSA9IGxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgbGV0IGFyZyA9IHZzLnBvcCgpO1xuICAgIC8vQHRzLWlnbm9yZSBTVEFDS1xuICAgIGFyZ0xpc3RbaV0gPSBHZXRWYWx1ZShhcmcpO1xuICB9XG5cbiAgbGV0IHJlZiA9IHZzLnBvcCgpO1xuICAvL0B0cy1pZ25vcmUgU1RBQ0tcbiAgbGV0IGZ1bmMgPSBHZXRWYWx1ZShyZWYpO1xuXG4gIGlmICghSXNDYWxsYWJsZShmdW5jKSkge1xuICAgIGlmIChmYWxzZSkgeyAvLyBTSUxFTlQgRVJST1JTXG4gICAgICBsZXQgdiA9IG5ldyBWYWx1ZSh1bmRlZmluZWQsIGZ1bmMubGFiZWwpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBtb25pdG9yLlRocm93KFxuICAgICAgXCJUeXBlRXJyb3JcIixcbiAgICAgICdJbnZhbGlkIGNhbGwgdGFyZ2V0OyAnICsgcHAucHJldHR5KG5vZGUuY2FsbGVlKSArICcgZXZhbHVhdGVzIHRvICcgKyBmdW5jLnZhbHVlICsgJyBpbiAnICsgcHAucHJldHR5KG5vZGUpLFxuICAgICAgZnVuYy5sYWJlbFxuICAgICk7XG5cbiAgICB0aHJvdyAnVHlwZVNjcmlwdCc7XG4gIH1cblxuICAvLyB1c2VkIHRvIGRlY2lkZSBpZiBldmFsIGlzIGEgZGlyZWN0IGNhbGwgaW4gZnVuY3Rpb24uZW50ZXJFdmFsQ29kZVxuICAvL0B0cy1pZ25vcmUgVFlQRVNcbiAgYy5jdXJyZW50Q2FsbCA9IHsgcmVmZXJlbmNlOiByZWYsIHRhcmdldDogZnVuYy52YWx1ZSwgc291cmNlOiBub2RlIH07XG5cbiAgLy8gZm9yIGV2YWxcbiAgLy9AdHMtaWdub3JlIFRZUEVTXG4gIGMuY2FsbCA9IHsgcmVmOiByZWYsIGZ1bmM6IGZ1bmMgfTtcblxuICBsZXQgdGhpc1ZhbHVlOiBWYWx1ZTxSZWZlcmVuY2VUeXBlPjtcbiAgaWYgKHJlZiBpbnN0YW5jZW9mIFJlZmVyZW5jZSkge1xuICAgIGlmIChyZWYuSXNQcm9wZXJ0eVJlZmVyZW5jZSgpKSB7XG4gICAgICB0aGlzVmFsdWUgPSByZWYuYmFzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy9AdHMtaWdub3JlIFRZUEVTXG4gICAgICB0aGlzVmFsdWUgPSByZWYuYmFzZS5JbXBsaWNpdFRoaXNWYWx1ZSgpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvL0B0cy1pZ25vcmUgVFlQRVNcbiAgICB0aGlzVmFsdWUgPSBuZXcgVmFsdWUodW5kZWZpbmVkLCByZWYubGFiZWwpO1xuICB9XG5cbiAgaWYgKGZ1bmMudmFsdWUuQXN5bmNDYWxsKSB7XG5cbiAgICBtb25pdG9yLmNvbnRleHQucHVzaFBDKGZ1bmMubGFiZWwpO1xuXG4gICAgZnVuYy52YWx1ZS5Bc3luY0NhbGwodGhpc1ZhbHVlLCBhcmdMaXN0KTtcbiAgICBpcC50aGVuKCh3bDogV29ya0xpc3QsIHZzOiBWYWx1ZVN0YWNrKSA9PiBjYWxsRXhwcmVzc2lvbkVuZChmdW5jLmxhYmVsLCB3bCwgdnMsIGRhdGEpKTtcblxuICB9IGVsc2Uge1xuXG4gICAgdHJ5IHtcbiAgICAgIGxldCByZXR2YWwgPSBmdW5jLkNhbGwodGhpc1ZhbHVlLCBhcmdMaXN0KTtcbiAgICAgIHJldHZhbC5yYWlzZShmdW5jLmxhYmVsKTtcbiAgICAgIHZzLnB1c2gocmV0dmFsKTtcblxuICAgIH0gY2F0Y2ggKGUpIHtcblxuICAgICAgaWYgKCEoZSBpbnN0YW5jZW9mIFZhbHVlKSkge1xuICAgICAgICB0aHJvdyBlO1xuICAgICAgfVxuXG4gICAgICBsZXQgcmVzdWx0ID0gYy5yZXN1bHQ7XG5cbiAgICAgIC8vIFZlcmZpeSB0aGF0IHRoZSBleGNlcHRpb24gaXMgYWxsb3dlZCBcbiAgICAgIG1vbml0b3IuYXNzZXJ0KGxlKGMuZWZmZWN0aXZlUEMsIGMubGFiZWxzLmV4YyksXG4gICAgICAgIFwiZXhjZXB0aW9uIGluIFwiICsgYy5lZmZlY3RpdmVQQyArIFwiIG5vdCBhbGxvd2VkIHdpdGggZXhjZXB0aW9uIGxhYmVsIFwiICsgYy5sYWJlbHMuZXhjKTtcblxuICAgICAgLy8gRm9yIG9ic2VydmFibGUgZmxvd3NcbiAgICAgIGMubGFiZWxzLmV4YyA9IGx1YihjLmxhYmVscy5leGMsIGMuZWZmZWN0aXZlUEMpO1xuXG4gICAgICByZXN1bHQudHlwZSA9ICd0aHJvdyc7XG4gICAgICByZXN1bHQudmFsdWUgPSBlO1xuICAgIH1cbiAgfVxufVxuXG4vLyBjYWxsRXhwcmVzc2lvbkVuZCBcblxuZnVuY3Rpb24gY2FsbEV4cHJlc3Npb25FbmQoXG4gIHRoaXM6IHZvaWQsXG4gIGxhYmVsOiBMYWJlbCxcbiAgd2w6IFdvcmtMaXN0LFxuICB2czogVmFsdWVTdGFjayxcbiAgZGF0YSA6IHN0cmluZ1xuKTogdm9pZCB7XG4gIC8vIEB0cy1pZ25vcmVcbiAgbGV0IGNhbGxSZXN1bHQ6IFJlc3VsdCA9IHZzLnBvcCgpO1xuICBsZXQgYyA9IG1vbml0b3IuY29udGV4dDtcbiAgbGV0IHJlc3VsdCA9IGMucmVzdWx0O1xuXG4gIGlmIChjYWxsUmVzdWx0ID09PSB1bmRlZmluZWQgfHwgY2FsbFJlc3VsdC52YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgbW9uaXRvci5lcnJvcihkYXRhKTtcbiAgICBtb25pdG9yLmVycm9yKGNhbGxSZXN1bHQpO1xuICB9XG5cbiAgY2FsbFJlc3VsdC52YWx1ZS5yYWlzZShsYWJlbCk7XG5cbiAgaWYgKGNhbGxSZXN1bHQudHlwZSA9PT0gJ3Rocm93Jykge1xuICAgIHJlc3VsdC50eXBlID0gJ3Rocm93JztcbiAgICByZXN1bHQudmFsdWUgPSBjYWxsUmVzdWx0LnZhbHVlO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGMucG9wUEMoKTtcbiAgdnMucHVzaChjYWxsUmVzdWx0LnZhbHVlKTtcbn1cblxuLy8gUHJvcGVydHkgQWNjZXNzb3JzLCAxMS4yLjEgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5mdW5jdGlvbiBtZW1iZXJFeHByZXNzaW9uKFxuICB0aGlzIDogdm9pZCxcbiAgbm9kZTogZXN0cmVlLk1lbWJlckV4cHJlc3Npb24sXG4gIHdsOiBXb3JrTGlzdCxcbiAgdnM6IFZhbHVlU3RhY2tcbik6IHZvaWQge1xuICBsZXQgY2FuYXJ5OiBDYW5hcnk7XG4gIGlmIChKU0ZMT1dfU1RBQ0tfQ0hFQ0spIHtcbiAgICBjYW5hcnkgPSBQdXNoQ2FuYXJ5KHZzLCBgbWVtYmVyRXhwcmVzc2lvbiA6ICR7cHAucHJldHR5KG5vZGUpfWApO1xuICB9XG5cbiAgbGV0IGlwID0gd2wudG9wKCk7XG5cbiAgaXAudGhlbihub2RlLm9iamVjdCk7XG4gIGlwLnRoZW4oX0dldFZhbHVlKTtcblxuICBpZiAobm9kZS5jb21wdXRlZCkge1xuICAgIGlwLnRoZW4obm9kZS5wcm9wZXJ0eSk7XG4gICAgaXAudGhlbihfR2V0VmFsdWUpO1xuICB9XG5cbiAgaXAudGhlbigod2w6IFdvcmtMaXN0LCB2czogVmFsdWVTdGFjaykgPT4gbWVtYmVyRXhwcmVzc2lvbkV4ZWN1dGUobm9kZSwgd2wsIHZzKSk7XG5cbiAgaWYgKEpTRkxPV19TVEFDS19DSEVDSykge1xuICAgIGlwLnRoZW4oKHdsOiBXb3JrTGlzdCwgdnM6IFZhbHVlU3RhY2spID0+IENoZWNrQ2FuYXJ5KHdsLCB2cywgY2FuYXJ5KSk7XG4gIH1cbn1cblxuLy8gLS0tXG5cbmZ1bmN0aW9uIG1lbWJlckV4cHJlc3Npb25FeGVjdXRlKFxuICB0aGlzOiB2b2lkLFxuICBub2RlIDogZXN0cmVlLk1lbWJlckV4cHJlc3Npb24sXG4gIHdsOiBXb3JrTGlzdCxcbiAgdnM6IFZhbHVlU3RhY2tcbik6IHZvaWQge1xuXG4gIGxldCBwcm9wZXJ0eU5hbWVWYWx1ZTtcblxuICBpZiAobm9kZS5jb21wdXRlZCkge1xuICAgIHByb3BlcnR5TmFtZVZhbHVlID0gdnMucG9wKCk7XG4gIH0gZWxzZSB7XG4gICAgLy9AdHMtaWdub3JlIFRZUEVTXG4gICAgcHJvcGVydHlOYW1lVmFsdWUgPSBuZXcgVmFsdWUobm9kZS5wcm9wZXJ0eS5uYW1lLCBib3QpO1xuICB9XG5cbiAgLy8gQHRzLWlnbm9yZVxuICBsZXQgYmFzZVZhbHVlOiBWYWx1ZTxWYWx1ZVR5cGVzPiA9IHZzLnBvcCgpO1xuXG4gIC8qXG4gIGlmIChiYXNlVmFsdWUudmFsdWUgPT09IHVuZGVmaW5lZCB8fCBiYXNlVmFsdWUudmFsdWUgPT09IG51bGwpIHtcbiAgICBtb25pdG9yLndhcm4ocHAucHJldHR5KG5vZGUub2JqZWN0KSArICcgZXZhbHVhdGVzIHRvICcgKyBTdHJpbmcoYmFzZVZhbHVlLnZhbHVlKSArICcgaW4gJyArIHBwLnByZXR0eShub2RlKSwgbm9kZSk7XG4gIH1cbiAgKi9cbiAgXG5cbiAgQ2hlY2tPYmplY3RDb2VyY2libGUoYmFzZVZhbHVlKTtcbiAgLy9AdHMtaWdub3JlIFRZUEVTXG4gIHZzLnB1c2gobmV3IFJlZmVyZW5jZShiYXNlVmFsdWUsIFRvU3RyaW5nKHByb3BlcnR5TmFtZVZhbHVlKSkpO1xufVxuXG4vLyBJZGVudGlmaWVyLCAxMS4xLjIgLT4gMTAuMy4xIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmZ1bmN0aW9uIGlkZW50aWZpZXJFeHByZXNzaW9uKFxuICBub2RlOiBlc3RyZWUuSWRlbnRpZmllcixcbiAgd2w6IFdvcmtMaXN0LFxuICB2czogVmFsdWVTdGFja1xuKTogdm9pZCB7XG4gIHZzLnB1c2goR2V0SWRlbnRpZmllclJlZmVyZW5jZShtb25pdG9yLmNvbnRleHQubGV4aWNhbEVudiwgbm9kZS5uYW1lKSk7XG59XG5cbi8vIExpdGVyYWxzLCAxMS4xLjMgLT4gNy44IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZnVuY3Rpb24gbGl0ZXJhbEV4cHJlc3Npb24oXG4gIG5vZGU6IGVzdHJlZS5MaXRlcmFsLFxuICB3bDogV29ya0xpc3QsXG4gIHZzOiBWYWx1ZVN0YWNrXG4pOiB2b2lkIHtcbiAgLy8gQHRzLWlnbm9yZVxuICBsZXQgcmVzOiBWYWx1ZTxWYWx1ZVR5cGVzPiA9IG5ldyBWYWx1ZShub2RlLnZhbHVlLCBib3QpO1xuXG4gIGlmIChub2RlLnZhbHVlIGluc3RhbmNlb2YgUmVnRXhwKSB7XG4gICAgcmVzLnZhbHVlID0gbmV3IFJlZ0V4cE9iamVjdChub2RlLnZhbHVlLCBib3QpO1xuICB9XG5cbiAgdnMucHVzaChyZXMpO1xufSIsIlxuaW1wb3J0IHsgTW9uaXRvckJhc2UgfSBmcm9tIFwiLi4vTW9uaXRvckJhc2VcIjtcblxuaW1wb3J0IHsgc3dpdGNoU3RhdGVtZW50IH0gZnJvbSBcIi4vVHJhY2luZy9Td2l0Y2hTdGF0ZW1lbnRcIjtcbmltcG9ydCB7IGJsb2NrU3RhdGVtZW50IH0gZnJvbSBcIi4vVHJhY2luZy9CbG9ja1N0YXRlbWVudFwiO1xuaW1wb3J0IHsgZW1wdHlTdGF0ZW1lbnQgfSBmcm9tIFwiLi9UcmFjaW5nL0VtcHR5U3RhdGVtZW50XCI7XG5pbXBvcnQgeyBleHByZXNzaW9uU3RhdGVtZW50IH0gZnJvbSBcIi4vVHJhY2luZy9FeHByZXNzaW9uU3RhdGVtZW50XCI7XG5pbXBvcnQgeyBpZlN0YXRlbWVudCB9IGZyb20gXCIuL1RyYWNpbmcvSWZTdGF0ZW1lbnRcIjtcbmltcG9ydCB7IGxhYmVsZWRTdGF0ZW1lbnQgfSBmcm9tIFwiLi9UcmFjaW5nL0xhYmVsZWRTdGF0ZW1lbnRcIjtcbmltcG9ydCB7IGJyZWFrU3RhdGVtZW50IH0gZnJvbSBcIi4vVHJhY2luZy9CcmVha1N0YXRlbWVudFwiO1xuaW1wb3J0IHsgY29udGludWVTdGF0ZW1lbnQgfSBmcm9tIFwiLi9UcmFjaW5nL0NvbnRpbnVlU3RhdGVtZW50XCI7XG5pbXBvcnQgeyB3aXRoU3RhdGVtZW50IH0gZnJvbSBcIi4vVHJhY2luZy9XaXRoU3RhdGVtZW50XCI7XG5pbXBvcnQgeyByZXR1cm5TdGF0ZW1lbnQgfSBmcm9tIFwiLi9UcmFjaW5nL1JldHVyblN0YXRlbWVudFwiO1xuaW1wb3J0IHsgdGhyb3dTdGF0ZW1lbnQgfSBmcm9tIFwiLi9UcmFjaW5nL1Rocm93U3RhdGVtZW50XCI7XG5pbXBvcnQgeyB3aGlsZVN0YXRlbWVudCwgZG9XaGlsZVN0YXRlbWVudCB9IGZyb20gXCIuL1RyYWNpbmcvV2hpbGVTdGF0ZW1lbnRcIjtcbmltcG9ydCB7IGZvclN0YXRlbWVudCB9IGZyb20gXCIuL1RyYWNpbmcvRm9yU3RhdGVtZW50XCI7XG5pbXBvcnQgeyBmb3JJblN0YXRlbWVudCB9IGZyb20gXCIuL1RyYWNpbmcvRm9ySW5TdGF0ZW1lbnRcIjtcbmltcG9ydCB7IHZhcmlhYmxlRGVjbGFyYXRpb24gfSBmcm9tIFwiLi9UcmFjaW5nL1ZhcmlhYmxlRGVjbGFyYXRpb25cIjtcbmltcG9ydCB7IGRlYnVnZ2VyU3RhdGVtZW50IH0gZnJvbSBcIi4vVHJhY2luZy9EZWJ1Z2dlclN0YXRlbWVudFwiO1xuaW1wb3J0IHsgdHJ5U3RhdGVtZW50IH0gZnJvbSBcIi4vVHJhY2luZy9UcnlDYXRjaFN0YXRlbWVudFwiO1xuXG5pbXBvcnQgKiBhcyBlc3RyZWUgZnJvbSBcImVzdHJlZVwiO1xuaW1wb3J0IHsgV29ya0xpc3QsIFZhbHVlU3RhY2sgfSBmcm9tIFwiLi4vQ29udGV4dFwiO1xuXG5kZWNsYXJlIHZhciBtb25pdG9yOiBNb25pdG9yQmFzZTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmV4cG9ydCBmdW5jdGlvbiBFeGVjdXRlU3RhdGVtZW50KHN0YXRlbWVudDogZXN0cmVlLlN0YXRlbWVudCwgd2w6IFdvcmtMaXN0LCB2czogVmFsdWVTdGFjayk6IHZvaWQge1xuXG4gICAgc3dpdGNoIChzdGF0ZW1lbnQudHlwZSkge1xuICAgICAgICBjYXNlIFwiQmxvY2tTdGF0ZW1lbnRcIjpcbiAgICAgICAgICAgIGJsb2NrU3RhdGVtZW50KHN0YXRlbWVudCwgd2wsIHZzKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgXCJCcmVha1N0YXRlbWVudFwiOlxuICAgICAgICAgICAgYnJlYWtTdGF0ZW1lbnQoc3RhdGVtZW50LCB3bCwgdnMpO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBcIkNsYXNzRGVjbGFyYXRpb25cIjogdGhyb3cgXCJUT0RPXCI7XG5cbiAgICAgICAgY2FzZSBcIkNvbnRpbnVlU3RhdGVtZW50XCI6XG4gICAgICAgICAgICBjb250aW51ZVN0YXRlbWVudChzdGF0ZW1lbnQsIHdsLCB2cyk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIFwiRGVidWdnZXJTdGF0ZW1lbnRcIjpcbiAgICAgICAgICAgIGRlYnVnZ2VyU3RhdGVtZW50KHN0YXRlbWVudCwgd2wsIHZzKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgXCJEb1doaWxlU3RhdGVtZW50XCI6XG4gICAgICAgICAgICBkb1doaWxlU3RhdGVtZW50KHN0YXRlbWVudCwgd2wsIHZzKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgXCJFbXB0eVN0YXRlbWVudFwiOlxuICAgICAgICAgICAgZW1wdHlTdGF0ZW1lbnQoc3RhdGVtZW50LCB3bCwgdnMpO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAnRXhwcmVzc2lvblN0YXRlbWVudCc6XG4gICAgICAgICAgICBleHByZXNzaW9uU3RhdGVtZW50KHN0YXRlbWVudCwgd2wsIHZzKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgXCJGb3JJblN0YXRlbWVudFwiOlxuICAgICAgICAgICAgZm9ySW5TdGF0ZW1lbnQoc3RhdGVtZW50LCB3bCwgdnMpO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBcIkZvck9mU3RhdGVtZW50XCI6IHRocm93IFwiVE9ET1wiO1xuXG4gICAgICAgIGNhc2UgXCJGb3JTdGF0ZW1lbnRcIjpcbiAgICAgICAgICAgIGZvclN0YXRlbWVudChzdGF0ZW1lbnQsIHdsLCB2cyk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIFwiRnVuY3Rpb25EZWNsYXJhdGlvblwiOlxuICAgICAgICAgICAgLy8gaGFuZGxlZCB2aWEgZnVuY3Rpb24gaG9pc3RpbmdcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgXCJJZlN0YXRlbWVudFwiOlxuICAgICAgICAgICAgaWZTdGF0ZW1lbnQoc3RhdGVtZW50LCB3bCwgdnMpO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBcIkxhYmVsZWRTdGF0ZW1lbnRcIjpcbiAgICAgICAgICAgIGxhYmVsZWRTdGF0ZW1lbnQoc3RhdGVtZW50LCB3bCwgdnMpO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBcIlJldHVyblN0YXRlbWVudFwiOlxuICAgICAgICAgICAgcmV0dXJuU3RhdGVtZW50KHN0YXRlbWVudCwgd2wsIHZzKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgXCJTd2l0Y2hTdGF0ZW1lbnRcIjpcbiAgICAgICAgICAgIHN3aXRjaFN0YXRlbWVudChzdGF0ZW1lbnQsIHdsLCB2cyk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIFwiVGhyb3dTdGF0ZW1lbnRcIjpcbiAgICAgICAgICAgIHRocm93U3RhdGVtZW50KHN0YXRlbWVudCwgd2wsIHZzKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgXCJUcnlTdGF0ZW1lbnRcIjpcbiAgICAgICAgICAgIHRyeVN0YXRlbWVudChzdGF0ZW1lbnQsIHdsLCB2cyk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIFwiVmFyaWFibGVEZWNsYXJhdGlvblwiOlxuICAgICAgICAgICAgdmFyaWFibGVEZWNsYXJhdGlvbihzdGF0ZW1lbnQsIHdsLCB2cyk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIFwiV2hpbGVTdGF0ZW1lbnRcIjpcbiAgICAgICAgICAgIHdoaWxlU3RhdGVtZW50KHN0YXRlbWVudCwgd2wsIHZzKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgXCJXaXRoU3RhdGVtZW50XCI6XG4gICAgICAgICAgICB3aXRoU3RhdGVtZW50KHN0YXRlbWVudCwgd2wsIHZzKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIG1vbml0b3IuZmF0YWwoc3RhdGVtZW50LnR5cGUgKyAnIG5vdCBpbXBsZW1lbnRlZCcpO1xufVxuXG5cbi8vIHN0YXRlbWVudCBoYW5kbGVyIGZ1bmN0aW9uc1xuXG5leHBvcnQgdmFyIHN0YXRlbWVudHRibCA9IHtcbiAgICAnUHJvZ3JhbSc6IGJsb2NrU3RhdGVtZW50LFxuICAgICdCbG9ja1N0YXRlbWVudCc6IGJsb2NrU3RhdGVtZW50LFxuICAgICdFbXB0eVN0YXRlbWVudCc6IGVtcHR5U3RhdGVtZW50LFxuICAgICdFeHByZXNzaW9uU3RhdGVtZW50JzogZXhwcmVzc2lvblN0YXRlbWVudCxcbiAgICAnSWZTdGF0ZW1lbnQnOiBpZlN0YXRlbWVudCxcbiAgICAnU3dpdGNoU3RhdGVtZW50Jzogc3dpdGNoU3RhdGVtZW50LFxuICAgICdMYWJlbGVkU3RhdGVtZW50JzogbGFiZWxlZFN0YXRlbWVudCxcbiAgICAnQnJlYWtTdGF0ZW1lbnQnOiBicmVha1N0YXRlbWVudCxcbiAgICAnQ29udGludWVTdGF0ZW1lbnQnOiBjb250aW51ZVN0YXRlbWVudCxcbiAgICAnV2l0aFN0YXRlbWVudCc6IHdpdGhTdGF0ZW1lbnQsXG4gICAgJ1JldHVyblN0YXRlbWVudCc6IHJldHVyblN0YXRlbWVudCxcbiAgICAnVGhyb3dTdGF0ZW1lbnQnOiB0aHJvd1N0YXRlbWVudCxcbiAgICAnVHJ5U3RhdGVtZW50JzogdHJ5U3RhdGVtZW50LFxuICAgICdXaGlsZVN0YXRlbWVudCc6IHdoaWxlU3RhdGVtZW50LFxuICAgICdEb1doaWxlU3RhdGVtZW50JzogZG9XaGlsZVN0YXRlbWVudCxcbiAgICAnRm9yU3RhdGVtZW50JzogZm9yU3RhdGVtZW50LFxuICAgICdGb3JJblN0YXRlbWVudCc6IGZvckluU3RhdGVtZW50LFxuXG4gICAgJ1ZhcmlhYmxlRGVjbGFyYXRpb24nOiB2YXJpYWJsZURlY2xhcmF0aW9uLFxuICAgICdGdW5jdGlvbkRlY2xhcmF0aW9uJzogZW1wdHlTdGF0ZW1lbnQsXG4gICAgJ0RlYnVnZ2VyU3RhdGVtZW50JzogZGVidWdnZXJTdGF0ZW1lbnRcbn07XG5cbmxldCBlbXB0eUxhYmVsID0gJ2RlZmF1bHQnOyAvLyBkZWZhdWx0IGlzIGEgcmVzZXJ2ZWQgd29yZCBzbyBubyBhY3R1YWwgbGFiZWwgY2FuIGJlIG5hbWVkIGRlZmF1bHQgXG5cblxuXG4iLCJpbXBvcnQgeyBSZXN1bHRUeXBlIH0gZnJvbSBcIi4uL1Jlc3VsdFwiO1xuaW1wb3J0IHsgV29ya0xpc3QsIFZhbHVlU3RhY2sgfSBmcm9tIFwiLi4vQ29udGV4dFwiO1xuaW1wb3J0IHsgQ2FuYXJ5LCBQdXNoQ2FuYXJ5LCBBc3NlcnRWYWxpZENhbmFyeSB9IGZyb20gXCIuL0RlYnVnXCI7XG5pbXBvcnQgeyBNb25pdG9yQmFzZSB9IGZyb20gXCIuLi9Nb25pdG9yQmFzZVwiO1xuXG5cbmRlY2xhcmUgdmFyIG1vbml0b3I6IE1vbml0b3JCYXNlO1xuZGVjbGFyZSB2YXIgSlNGTE9XX1NUQUNLX0NIRUNLOiBib29sZWFuO1xuXG5leHBvcnQgdHlwZSBSdW5Gb3IgPSB7IFtrZXkgaW4gUmVzdWx0VHlwZV0/OiBib29sZWFuIH1cblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFRhc2sge1xuXG4gICAgcnVuZm9yOiBSdW5Gb3I7XG5cbiAgICBzdGF0aWMgcnVuZm9yX2FsbCA9IHsgJ3Rocm93JzogdHJ1ZSwgJ2NvbnRpbnVlJzogdHJ1ZSwgJ2JyZWFrJzogdHJ1ZSwgJ3JldHVybicgOiB0cnVlIH07XG4gICAgc3RhdGljIHJ1bmZvcl90aHJvdyA9IHsgJ3Rocm93JzogdHJ1ZSB9O1xuICAgIHN0YXRpYyBydW5mb3JfY29udGludWUgPSB7ICdjb250aW51ZSc6IHRydWUgfTtcbiAgICBzdGF0aWMgcnVuZm9yX2JyZWFrID0geyAnYnJlYWsnOiB0cnVlIH07XG4gICAgc3RhdGljIHJ1bmZvcl9jb250aW51ZV9icmVhayA9IHsgJ2JyZWFrJzogdHJ1ZSwgJ2NvbnRpbnVlJzogdHJ1ZSB9O1xuXG4gICAgY29uc3RydWN0b3IocnVuZm9yPzogUnVuRm9yKSB7XG4gICAgICAgIHRoaXMucnVuZm9yID0gcnVuZm9yIHx8IHt9O1xuICAgIH1cblxuICAgIFJ1bkZvcih4OiBSZXN1bHRUeXBlKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB4IGluIHRoaXMucnVuZm9yO1xuICAgIH1cblxuICAgIGFic3RyYWN0IEV4ZWN1dGUod2w6IFdvcmtMaXN0LCB2czogVmFsdWVTdGFjayk6IHZvaWQ7XG5cbn1cblxuLy8gLS0tXG5cbmZ1bmN0aW9uIENoZWNrQ2FuYXJ5KFxuICAgIHRoaXM6IHZvaWQsXG4gICAgd2w6IFdvcmtMaXN0LFxuICAgIHZzOiBWYWx1ZVN0YWNrLFxuICAgIGNhbmFyeTogQ2FuYXJ5XG4pIHtcbiAgICBBc3NlcnRWYWxpZENhbmFyeSh2cywgY2FuYXJ5KTtcbn0iLCJpbXBvcnQgeyBXb3JrTGlzdCwgVmFsdWVTdGFjayB9IGZyb20gXCIuLi8uLi9Db250ZXh0XCI7XG5cbmltcG9ydCAqIGFzIGVzdHJlZSBmcm9tICdlc3RyZWUnO1xuXG5leHBvcnQgZnVuY3Rpb24gYmxvY2tTdGF0ZW1lbnQoXG4gICAgbm9kZTogZXN0cmVlLkJsb2NrU3RhdGVtZW50LFxuICAgIHdsOiBXb3JrTGlzdCxcbiAgICB2czogVmFsdWVTdGFja1xuKTogdm9pZCB7XG4gICAgd2wucHJlcGVuZChub2RlLmJvZHkpO1xufSIsImltcG9ydCB7IE1vbml0b3JCYXNlIH0gZnJvbSBcIi4uLy4uL01vbml0b3JCYXNlXCI7XG5pbXBvcnQgeyBXb3JrTGlzdCwgVmFsdWVTdGFjayB9IGZyb20gXCIuLi8uLi9Db250ZXh0XCI7XG5pbXBvcnQgeyBsdWIsIGxlIH0gZnJvbSBcIi4uLy4uL0xhYmVsXCI7XG5cbmltcG9ydCAqIGFzIGVzdHJlZSBmcm9tICdlc3RyZWUnO1xuXG5kZWNsYXJlIHZhciBtb25pdG9yOiBNb25pdG9yQmFzZTtcblxubGV0IGVtcHR5TGFiZWwgPSAnZGVmYXVsdCc7IC8vIGRlZmF1bHQgaXMgYSByZXNlcnZlZCB3b3JkIHNvIG5vIGFjdHVhbCBsYWJlbCBjYW4gYmUgbmFtZWQgZGVmYXVsdCBcblxuLy8gMTIuOCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmV4cG9ydCBmdW5jdGlvbiBicmVha1N0YXRlbWVudChcbiAgICBub2RlOiBlc3RyZWUuQnJlYWtTdGF0ZW1lbnQsXG4gICAgd2w6IFdvcmtMaXN0LFxuICAgIHZzOiBWYWx1ZVN0YWNrXG4pOiB2b2lkIHtcbiAgICBsZXQgYyA9IG1vbml0b3IuY29udGV4dDtcbiAgICBsZXQgcmVzdWx0ID0gbW9uaXRvci5jb250ZXh0LnJlc3VsdDtcblxuICAgIGxldCBuYW1lID0gbm9kZS5sYWJlbCA/IG5vZGUubGFiZWwubmFtZSA6IGVtcHR5TGFiZWw7XG4gICAgbGV0IGxibGNvbnRleHQgPSBjLmxhYmVscy5sYWJlbG1hcFtuYW1lXS5sYWJlbDtcblxuICAgIGxldCBkaXNwbGF5TmFtZSA9IG5vZGUubGFiZWwgPyAnKCcgKyBuYW1lICsgJyknIDogJyc7XG4gICAgbW9uaXRvci5hc3NlcnQobGUoYy5lZmZlY3RpdmVQQywgbGJsY29udGV4dCksXG4gICAgICAgICd3cml0ZSBjb250ZXh0ICcgKyBjLmVmZmVjdGl2ZVBDICsgJyBub3QgYmVsb3cgJyArXG4gICAgICAgICdsYWJlbCBjb250ZXh0ICcgKyBsYmxjb250ZXh0ICsgJyAnICsgZGlzcGxheU5hbWVcbiAgICApO1xuXG4gICAgLy8gRm9yIG9ic2VydmFibGUgZmxvd3NcbiAgICBjLmxhYmVscy5sYWJlbG1hcFtuYW1lXS5sYWJlbCA9IGx1YihsYmxjb250ZXh0LCBjLmVmZmVjdGl2ZVBDKTtcblxuICAgIHJlc3VsdC50eXBlID0gJ2JyZWFrJztcbiAgICByZXN1bHQudGFyZ2V0ID0gbmFtZTtcbn0iLCJpbXBvcnQgeyBNb25pdG9yQmFzZSB9IGZyb20gXCIuLi8uLi9Nb25pdG9yQmFzZVwiO1xuaW1wb3J0IHsgV29ya0xpc3QsIFZhbHVlU3RhY2sgfSBmcm9tIFwiLi4vLi4vQ29udGV4dFwiO1xuaW1wb3J0IHsgbHViLCBsZSB9IGZyb20gXCIuLi8uLi9MYWJlbFwiO1xuXG5pbXBvcnQgKiBhcyBlc3RyZWUgZnJvbSAnZXN0cmVlJztcblxuZGVjbGFyZSB2YXIgbW9uaXRvcjogTW9uaXRvckJhc2U7XG5cbmxldCBlbXB0eUxhYmVsID0gJ2RlZmF1bHQnOyAvLyBkZWZhdWx0IGlzIGEgcmVzZXJ2ZWQgd29yZCBzbyBubyBhY3R1YWwgbGFiZWwgY2FuIGJlIG5hbWVkIGRlZmF1bHQgXG5cbi8vIDEyLjcgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5leHBvcnQgZnVuY3Rpb24gY29udGludWVTdGF0ZW1lbnQoXG4gICAgbm9kZTogZXN0cmVlLkNvbnRpbnVlU3RhdGVtZW50LFxuICAgIHdsOiBXb3JrTGlzdCxcbiAgICB2czogVmFsdWVTdGFja1xuKTogdm9pZCB7XG4gICAgbGV0IGMgPSBtb25pdG9yLmNvbnRleHQ7XG4gICAgbGV0IHJlc3VsdCA9IG1vbml0b3IuY29udGV4dC5yZXN1bHQ7XG5cbiAgICBsZXQgbmFtZSA9IG5vZGUubGFiZWwgPyBub2RlLmxhYmVsLm5hbWUgOiBlbXB0eUxhYmVsO1xuICAgIGxldCBsYmxjb250ZXh0ID0gYy5sYWJlbHMubGFiZWxtYXBbbmFtZV0ubGFiZWw7XG5cbiAgICBsZXQgZGlzcGxheU5hbWUgPSBub2RlLmxhYmVsID8gJygnICsgbmFtZSArICcpJyA6ICcnO1xuICAgIG1vbml0b3IuYXNzZXJ0KGxlKGMuZWZmZWN0aXZlUEMsIGxibGNvbnRleHQpLFxuICAgICAgICAnd3JpdGUgY29udGV4dCAnICsgYy5lZmZlY3RpdmVQQyArICcgbm90IGJlbG93ICcgK1xuICAgICAgICAnbGFiZWwgY29udGV4dCAnICsgbGJsY29udGV4dCArIGRpc3BsYXlOYW1lXG4gICAgKTtcblxuICAgIC8vIEZvciBvYnNlcnZhYmxlIGZsb3dzXG4gICAgYy5sYWJlbHMubGFiZWxtYXBbbmFtZV0ubGFiZWwgPSBsdWIobGJsY29udGV4dCwgYy5lZmZlY3RpdmVQQyk7XG5cbiAgICByZXN1bHQudHlwZSA9ICdjb250aW51ZSc7XG4gICAgcmVzdWx0LnRhcmdldCA9IG5hbWU7XG59IiwiaW1wb3J0IHsgTW9uaXRvckJhc2UgfSBmcm9tIFwiLi4vLi4vTW9uaXRvckJhc2VcIjtcbmltcG9ydCB7IFdvcmtMaXN0LCBWYWx1ZVN0YWNrIH0gZnJvbSBcIi4uLy4uL0NvbnRleHRcIjtcblxuaW1wb3J0ICogYXMgZXN0cmVlIGZyb20gJ2VzdHJlZSc7XG5cbmRlY2xhcmUgdmFyIG1vbml0b3I6IE1vbml0b3JCYXNlO1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmV4cG9ydCBmdW5jdGlvbiBkZWJ1Z2dlclN0YXRlbWVudChcbiAgICBub2RlOiBlc3RyZWUuRGVidWdnZXJTdGF0ZW1lbnQsXG4gICAgd2w6IFdvcmtMaXN0LFxuICAgIHZzOiBWYWx1ZVN0YWNrXG4pOiB2b2lkIHtcbiAgICBtb25pdG9yLmRlYnVnLmFjdGl2ZSA9IHRydWU7XG59IiwiaW1wb3J0IHsgV29ya0xpc3QsIFZhbHVlU3RhY2sgfSBmcm9tIFwiLi4vLi4vQ29udGV4dFwiO1xuXG5pbXBvcnQgKiBhcyBlc3RyZWUgZnJvbSAnZXN0cmVlJztcblxuZXhwb3J0IGZ1bmN0aW9uIGVtcHR5U3RhdGVtZW50KFxuICAgIG5vZGU6IGVzdHJlZS5FbXB0eVN0YXRlbWVudCxcbiAgICB3bDogV29ya0xpc3QsXG4gICAgdnM6IFZhbHVlU3RhY2tcbik6IHZvaWQge1xufSIsImltcG9ydCB7IE1vbml0b3JCYXNlIH0gZnJvbSBcIi4uLy4uL01vbml0b3JCYXNlXCI7XG5pbXBvcnQgeyBXb3JrTGlzdCwgVmFsdWVTdGFjayB9IGZyb20gXCIuLi8uLi9Db250ZXh0XCI7XG5pbXBvcnQgeyBHZXRWYWx1ZSB9IGZyb20gXCIuLi8uLi9HZXRWYWx1ZVwiO1xuaW1wb3J0IHsgVGFzayB9IGZyb20gXCIuLi9UYXNrXCI7XG5cbmltcG9ydCAqIGFzIGVzdHJlZSBmcm9tICdlc3RyZWUnO1xuXG5kZWNsYXJlIHZhciBtb25pdG9yOiBNb25pdG9yQmFzZTtcbmV4cG9ydCBmdW5jdGlvbiBleHByZXNzaW9uU3RhdGVtZW50KFxuICAgIHRoaXM6IHZvaWQsXG4gICAgbm9kZTogZXN0cmVlLkV4cHJlc3Npb25TdGF0ZW1lbnQsXG4gICAgd2w6IFdvcmtMaXN0LFxuICAgIHZzOiBWYWx1ZVN0YWNrXG4pOiB2b2lkIHtcbiAgICBsZXQgaXAgPSB3bC50b3AoKTtcblxuICAgIGlwLnRoZW4obm9kZS5leHByZXNzaW9uKTtcbiAgICBpcC50aGVuKEV4cHJlc3Npb25TdGF0ZW1lbnRFbmQuSW5zdGFuY2UpO1xufVxuXG5jbGFzcyBFeHByZXNzaW9uU3RhdGVtZW50RW5kIGV4dGVuZHMgVGFzayB7XG5cbiAgICBzdGF0aWMgSW5zdGFuY2UgPSBuZXcgRXhwcmVzc2lvblN0YXRlbWVudEVuZCgpOyBcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgIH1cblxuICAgIEV4ZWN1dGUod2w6IFdvcmtMaXN0LCB2czogVmFsdWVTdGFjayk6IHZvaWQge1xuICAgICAgICBsZXQgYyA9IG1vbml0b3IuY29udGV4dDtcblxuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIGxldCB2YWw6IFZhbHVlIDwgVmFsdWVUeXBlcyA+ID0gdnMucG9wKCk7XG4gICAgICAgIGMucmVzdWx0LnZhbHVlID0gR2V0VmFsdWUodmFsKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgTW9uaXRvckJhc2UgfSBmcm9tIFwiLi4vLi4vTW9uaXRvckJhc2VcIjtcbmltcG9ydCB7IFdvcmtMaXN0LCBWYWx1ZVN0YWNrIH0gZnJvbSBcIi4uLy4uL0NvbnRleHRcIjtcbmltcG9ydCB7IFRhc2sgfSBmcm9tIFwiLi4vVGFza1wiO1xuaW1wb3J0IHsgTGFiZWwgfSBmcm9tIFwiLi4vLi4vTGFiZWxcIjtcbmltcG9ydCB7IEdldFZhbHVlIH0gZnJvbSBcIi4uLy4uL0dldFZhbHVlXCI7XG5pbXBvcnQgeyBUb09iamVjdCB9IGZyb20gXCIuLi8uLi9Db252ZXJzaW9uL1RvT2JqZWN0XCI7XG5pbXBvcnQgeyBQdXRWYWx1ZSB9IGZyb20gXCIuLi8uLi9QdXRWYWx1ZVwiO1xuaW1wb3J0IHsgU3RhY2tNYXJrZXIgfSBmcm9tIFwiLi4vLi4vU3RhY2tcIjtcblxuaW1wb3J0ICogYXMgZXN0cmVlIGZyb20gJ2VzdHJlZSc7XG5pbXBvcnQgeyBWYWx1ZSB9IGZyb20gXCIuLi8uLi9WYWx1ZVwiO1xuaW1wb3J0IHsgRWNtYU9iamVjdCB9IGZyb20gXCIuLi8uLi9PYmplY3RzL0VjbWFPYmplY3RcIjtcblxuZGVjbGFyZSB2YXIgbW9uaXRvcjogTW9uaXRvckJhc2U7XG5cbmxldCBlbXB0eUxhYmVsID0gJ2RlZmF1bHQnOyAvLyBkZWZhdWx0IGlzIGEgcmVzZXJ2ZWQgd29yZCBzbyBubyBhY3R1YWwgbGFiZWwgY2FuIGJlIG5hbWVkIGRlZmF1bHQgXG5cbmludGVyZmFjZSBMYWJlbGVkRm9ySW5TdGF0ZW1lbnQgZXh0ZW5kcyBlc3RyZWUuRm9ySW5TdGF0ZW1lbnQge1xuICAgIGxhYmVsc2V0PzogU2V0PHN0cmluZz47XG59XG5cbmxldCBNeVNldCA9IFNldDtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmV4cG9ydCBmdW5jdGlvbiBmb3JJblN0YXRlbWVudChcbiAgICBub2RlOiBMYWJlbGVkRm9ySW5TdGF0ZW1lbnQsXG4gICAgd2w6IFdvcmtMaXN0LFxuICAgIHZzOiBWYWx1ZVN0YWNrXG4pOiB2b2lkIHtcbiAgICBsZXQgaXAgPSB3bC50b3AoKTtcblxuICAgIGxldCBsZWZ0OiBlc3RyZWUuUGF0dGVybjtcbiAgICBpZiAobm9kZS5sZWZ0LnR5cGUgPT09ICdWYXJpYWJsZURlY2xhcmF0aW9uJykge1xuICAgICAgICBpcC50aGVuKG5vZGUubGVmdCk7XG5cbiAgICAgICAgLy8gdGhlIHN0YW5kYXJkIG9ubHkgYWxsb3dzIGZvciBvbmUgZGVjbGFyYXRpb24sIGdldCB0aGUgbmFtZVxuICAgICAgICBsZWZ0ID0gbm9kZS5sZWZ0LmRlY2xhcmF0aW9uc1swXS5pZDtcbiAgICB9IGVsc2Uge1xuICAgICAgICBsZWZ0ID0gbm9kZS5sZWZ0O1xuICAgIH1cblxuICAgIGlwLnRoZW4obm9kZS5yaWdodCk7XG4gICAgaXAudGhlbihuZXcgRm9ySW5TdGF0ZW1lbnRTZXR1cChub2RlLCBsZWZ0KSk7XG59XG5cbi8vIC0tLVxuXG5jbGFzcyBGb3JJblN0YXRlbWVudFNldHVwIGV4dGVuZHMgVGFzayB7XG4gICAgbm9kZTogTGFiZWxlZEZvckluU3RhdGVtZW50O1xuICAgIGxlZnQ6IGVzdHJlZS5QYXR0ZXJuO1xuXG4gICAgY29uc3RydWN0b3Iobm9kZTogTGFiZWxlZEZvckluU3RhdGVtZW50LCBsZWZ0OiBlc3RyZWUuUGF0dGVybikge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLm5vZGUgPSBub2RlO1xuICAgICAgICB0aGlzLmxlZnQgPSBsZWZ0O1xuICAgIH1cblxuICAgIEV4ZWN1dGUod2w6IFdvcmtMaXN0LCB2czogVmFsdWVTdGFjayk6IHZvaWQge1xuICAgICAgICBsZXQgYyA9IG1vbml0b3IuY29udGV4dDtcbiAgICAgICAgbGV0IGlwID0gd2wudG9wKCk7XG4gICAgICAgIGxldCBsbWFwID0gYy5sYWJlbHMubGFiZWxtYXA7XG5cbiAgICAgICAgbGV0IG5vZGUgPSB0aGlzLm5vZGU7XG5cbiAgICAgICAgaWYgKCFub2RlLmxhYmVsc2V0KSB7XG4gICAgICAgICAgICBub2RlLmxhYmVsc2V0ID0gbmV3IE15U2V0KCk7XG4gICAgICAgIH1cbiAgICAgICAgbm9kZS5sYWJlbHNldC5hZGQoZW1wdHlMYWJlbCk7XG5cbiAgICAgICAgbGV0IG91dGVyRW1wdHlMYWJlbERhdGEgPSBsbWFwW2VtcHR5TGFiZWxdO1xuICAgICAgICBsbWFwW2VtcHR5TGFiZWxdID0ge1xuICAgICAgICAgICAgbGFiZWw6IGMuZWZmZWN0aXZlUEMsXG4gICAgICAgICAgICBwY21hcmtlcjogYy5wY1N0YWNrLm1hcmtlcigpXG4gICAgICAgIH07XG5cbiAgICAgICAgbGV0IGNvbnRleHRMYWJlbCA9IGxtYXBbZW1wdHlMYWJlbF0ubGFiZWw7XG4gICAgICAgIGMucHVzaFBDKGNvbnRleHRMYWJlbCk7XG5cbiAgICAgICAgLy9AdHMtaWdub3JlIFNUQUNLXG4gICAgICAgIGxldCB2YWwgPSBHZXRWYWx1ZSh2cy5wb3AoKSk7XG4gICAgICAgIGlmICh2YWwudmFsdWUgPT09IG51bGwgfHwgdmFsLnZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBvYmogPSBUb09iamVjdCh2YWwpO1xuICAgICAgICBsZXQgbWF4UHJvcGVydHkgPSBvYmoudmFsdWUuZ2V0RW51bWVyYWJsZVByb3BlcnR5TmFtZXMob2JqLmxhYmVsKS5sZW5ndGg7XG5cbiAgICAgICAgLy8gbW9uaXRvci5jb250ZXh0LnB1c2hQQyhvYmoubGFiZWwpO1xuXG4gICAgICAgIGlwLnRoZW4obmV3IEZvckluRXhlY3V0ZShub2RlLCB0aGlzLmxlZnQsIG9iaiwgbWF4UHJvcGVydHksIG91dGVyRW1wdHlMYWJlbERhdGEpKTtcbiAgICB9XG59XG5cbi8vIC0tLVxuXG5jbGFzcyBGb3JJbkV4ZWN1dGUgZXh0ZW5kcyBUYXNrIHtcbiAgICBub2RlOiBMYWJlbGVkRm9ySW5TdGF0ZW1lbnQ7XG4gICAgbGVmdDogZXN0cmVlLlBhdHRlcm47XG4gICAgb2JqOiBWYWx1ZTxFY21hT2JqZWN0PjtcbiAgICBuZXh0UHJvcGVydHk6IG51bWJlcjtcbiAgICBtYXhQcm9wZXJ0eTogbnVtYmVyO1xuICAgIG91dGVyRW1wdHlMYWJlbERhdGE6IHsgbGFiZWw6IExhYmVsLCBwY21hcmtlcjogU3RhY2tNYXJrZXIgfTtcblxuICAgIHVwZGF0ZTogRm9ySW5VcGRhdGU7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgbm9kZTogTGFiZWxlZEZvckluU3RhdGVtZW50LFxuICAgICAgICBsZWZ0OiBlc3RyZWUuUGF0dGVybixcbiAgICAgICAgb2JqOiBWYWx1ZTxFY21hT2JqZWN0PixcbiAgICAgICAgbWF4UHJvcGVydHk6IG51bWJlcixcbiAgICAgICAgb3V0ZXJFbXB0eUxhYmVsRGF0YTogeyBsYWJlbDogTGFiZWwsIHBjbWFya2VyOiBTdGFja01hcmtlciB9XG4gICAgKSB7XG4gICAgICAgIHN1cGVyKFRhc2sucnVuZm9yX2NvbnRpbnVlX2JyZWFrKTtcbiAgICAgICAgdGhpcy5ub2RlID0gbm9kZTtcbiAgICAgICAgdGhpcy5sZWZ0ID0gbGVmdDtcbiAgICAgICAgdGhpcy5vYmogPSBvYmo7XG4gICAgICAgIHRoaXMubWF4UHJvcGVydHkgPSBtYXhQcm9wZXJ0eTtcbiAgICAgICAgdGhpcy5vdXRlckVtcHR5TGFiZWxEYXRhID0gb3V0ZXJFbXB0eUxhYmVsRGF0YTtcblxuICAgICAgICB0aGlzLm5leHRQcm9wZXJ0eSA9IDA7XG4gICAgICAgIHRoaXMudXBkYXRlID0gbmV3IEZvckluVXBkYXRlKG5vZGUsIHRoaXMpO1xuICAgIH1cblxuICAgIEV4ZWN1dGUod2w6IFdvcmtMaXN0LCB2czogVmFsdWVTdGFjayk6IHZvaWQge1xuICAgICAgICBsZXQgaXAgPSB3bC50b3AoKTtcbiAgICAgICAgbGV0IGMgPSBtb25pdG9yLmNvbnRleHQ7XG4gICAgICAgIGxldCByZXN1bHQgPSBjLnJlc3VsdDtcblxuICAgICAgICBpZiAocmVzdWx0LnR5cGUgPT09ICdicmVhaycgJiYgdGhpcy5ub2RlLmxhYmVsc2V0IS5oYXMocmVzdWx0LnRhcmdldCkpIHtcbiAgICAgICAgICAgIHJlc3VsdC50eXBlID0gJ25vcm1hbCc7XG4gICAgICAgICAgICByZXN1bHQudGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgICAgIGMubGFiZWxzLmxhYmVsbWFwW2VtcHR5TGFiZWxdID0gdGhpcy5vdXRlckVtcHR5TGFiZWxEYXRhO1xuICAgICAgICAgICAgYy5wb3BQQygpOyAvLyBjb250ZXh0TGFiZWxcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyZXN1bHQudHlwZSAhPT0gJ2NvbnRpbnVlJyB8fCAhdGhpcy5ub2RlLmxhYmVsc2V0IS5oYXMocmVzdWx0LnRhcmdldCkpIHtcbiAgICAgICAgICAgIGlmIChyZXN1bHQudHlwZSAhPT0gJ25vcm1hbCcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjb250aW51ZSBnZXRzIHVzIGhlcmVcbiAgICAgICAgcmVzdWx0LnR5cGUgPSAnbm9ybWFsJztcbiAgICAgICAgcmVzdWx0LnRhcmdldCA9IG51bGw7XG5cbiAgICAgICAgbGV0IHByb3BlcnRpZXMgPSB0aGlzLm9iai52YWx1ZS5nZXRFbnVtZXJhYmxlUHJvcGVydHlOYW1lcyh0aGlzLm9iai5sYWJlbCk7XG5cbiAgICAgICAgaWYgKHRoaXMubmV4dFByb3BlcnR5ID49IHByb3BlcnRpZXMubGVuZ3RoIHx8IHRoaXMubmV4dFByb3BlcnR5ID49IHRoaXMubWF4UHJvcGVydHkpIHtcbiAgICAgICAgICAgIGMubGFiZWxzLmxhYmVsbWFwW2VtcHR5TGFiZWxdID0gdGhpcy5vdXRlckVtcHR5TGFiZWxEYXRhO1xuICAgICAgICAgICAgYy5wb3BQQygpOyAvLyBjb250ZXh0TGFiZWxcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBwcm9wTmFtZSA9IHByb3BlcnRpZXNbdGhpcy5uZXh0UHJvcGVydHldO1xuICAgICAgICB0aGlzLm5leHRQcm9wZXJ0eSsrO1xuXG4gICAgICAgIHZzLnB1c2gocHJvcE5hbWUpO1xuICAgICAgICBpcC50aGVuKHRoaXMubGVmdCk7XG4gICAgICAgIGlwLnRoZW4odGhpcy51cGRhdGUpO1xuICAgIH1cbn1cblxuLy8gLS0tXG5cbmNsYXNzIEZvckluVXBkYXRlIGV4dGVuZHMgVGFzayB7XG4gICAgbm9kZTogTGFiZWxlZEZvckluU3RhdGVtZW50O1xuICAgIGV4ZWN1dGU6IEZvckluRXhlY3V0ZTtcblxuICAgIGNvbnN0cnVjdG9yKG5vZGU6IExhYmVsZWRGb3JJblN0YXRlbWVudCwgZXhlY3V0ZTogRm9ySW5FeGVjdXRlKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMubm9kZSA9IG5vZGU7XG4gICAgICAgIHRoaXMuZXhlY3V0ZSA9IGV4ZWN1dGU7XG4gICAgfVxuXG4gICAgRXhlY3V0ZSh3bDogV29ya0xpc3QsIHZzOiBWYWx1ZVN0YWNrKTogdm9pZCB7XG4gICAgICAgIGxldCBpcCA9IHdsLnRvcCgpO1xuXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgbGV0IGxoczogUmVmZXJlbmNlID0gdnMucG9wKCk7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgbGV0IHByb3BOYW1lOiBWYWx1ZTxWYWx1ZVR5cGVzPiA9IHZzLnBvcCgpO1xuXG4gICAgICAgIFB1dFZhbHVlKGxocywgcHJvcE5hbWUpO1xuXG4gICAgICAgIG1vbml0b3IuY29udGV4dC5wdXNoUEMocHJvcE5hbWUubGFiZWwpO1xuXG4gICAgICAgIGlwLnRoZW4odGhpcy5ub2RlLmJvZHkpO1xuICAgICAgICBpcC50aGVuKEZvckluU2VjdXJpdHlDb250ZXh0RW5kLkluc3RhbmNlKTtcbiAgICAgICAgaXAudGhlbih0aGlzLmV4ZWN1dGUpO1xuICAgIH1cbn1cblxuLy8gLS0tXG5cbmNsYXNzIEZvckluU2VjdXJpdHlDb250ZXh0RW5kIGV4dGVuZHMgVGFzayB7XG4gICAgc3RhdGljIEluc3RhbmNlID0gbmV3IEZvckluU2VjdXJpdHlDb250ZXh0RW5kKCk7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICB9XG5cbiAgICBFeGVjdXRlKHdsOiBXb3JrTGlzdCwgdnM6IFZhbHVlU3RhY2spOiB2b2lkIHtcbiAgICAgICAgbW9uaXRvci5jb250ZXh0LnBvcFBDKCk7XG4gICAgfVxufSIsImltcG9ydCB7IE1vbml0b3JCYXNlIH0gZnJvbSBcIi4uLy4uL01vbml0b3JCYXNlXCI7XG5pbXBvcnQgeyBXb3JrTGlzdCwgVmFsdWVTdGFjayB9IGZyb20gXCIuLi8uLi9Db250ZXh0XCI7XG5pbXBvcnQgeyBUYXNrIH0gZnJvbSBcIi4uL1Rhc2tcIjtcbmltcG9ydCB7IExhYmVsLCBsdWIgfSBmcm9tIFwiLi4vLi4vTGFiZWxcIjtcbmltcG9ydCB7IEdldFZhbHVlIH0gZnJvbSBcIi4uLy4uL0dldFZhbHVlXCI7XG5pbXBvcnQgeyBUb0Jvb2xlYW4gfSBmcm9tIFwiLi4vLi4vQ29udmVyc2lvbi9Ub0Jvb2xlYW5cIjtcblxuaW1wb3J0ICogYXMgZXN0cmVlIGZyb20gJ2VzdHJlZSc7XG5pbXBvcnQgeyBTdGFja01hcmtlciB9IGZyb20gXCIuLi8uLi9TdGFja1wiO1xuXG5kZWNsYXJlIHZhciBtb25pdG9yOiBNb25pdG9yQmFzZTtcblxubGV0IGVtcHR5TGFiZWwgPSAnZGVmYXVsdCc7IC8vIGRlZmF1bHQgaXMgYSByZXNlcnZlZCB3b3JkIHNvIG5vIGFjdHVhbCBsYWJlbCBjYW4gYmUgbmFtZWQgZGVmYXVsdCBcblxuaW50ZXJmYWNlIExhYmVsZWRGb3JTdGF0ZW1lbnQgZXh0ZW5kcyBlc3RyZWUuRm9yU3RhdGVtZW50IHtcbiAgICBsYWJlbHNldD86IFNldDxzdHJpbmc+O1xufVxuXG5cbmNsYXNzIFJlc2V0VmFsdWVTdGFjayBleHRlbmRzIFRhc2sge1xuXG4gICAgdGFyZ2V0U2l6ZSA6IG51bWJlclxuXG4gICAgY29uc3RydWN0b3IodGFyZ2V0U2l6ZTogbnVtYmVyKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgfVxuXG4gICAgRXhlY3V0ZSh3bDogV29ya0xpc3QsIHZzOiBWYWx1ZVN0YWNrKTogdm9pZCB7XG4gICAgICAgIHdoaWxlKHZzLnNpemUoKSA+IHRoaXMudGFyZ2V0U2l6ZSkge1xuICAgICAgICAgICAgdnMucG9wKCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmxldCBNeVNldCA9IFNldDtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmV4cG9ydCBmdW5jdGlvbiBmb3JTdGF0ZW1lbnQoXG4gICAgbm9kZTogTGFiZWxlZEZvclN0YXRlbWVudCxcbiAgICB3bDogV29ya0xpc3QsXG4gICAgdnM6IFZhbHVlU3RhY2tcbik6IHZvaWQge1xuICAgIGxldCBjID0gbW9uaXRvci5jb250ZXh0O1xuICAgIGxldCBpcCA9IHdsLnRvcCgpO1xuXG4gICAgbGV0IGxtYXAgPSBjLmxhYmVscy5sYWJlbG1hcDtcblxuICAgIGlmIChub2RlLmluaXQpIHtcbiAgICAgICAgaXAudGhlbihub2RlLmluaXQpO1xuICAgICAgICBpcC50aGVuKG5ldyBSZXNldFZhbHVlU3RhY2sodnMuc2l6ZSgpKSk7XG4gICAgfVxuXG4gICAgaWYgKCFub2RlLmxhYmVsc2V0KSB7XG4gICAgICAgIG5vZGUubGFiZWxzZXQgPSBuZXcgTXlTZXQoW10pO1xuICAgIH1cbiAgICBub2RlLmxhYmVsc2V0LmFkZChlbXB0eUxhYmVsKTtcblxuICAgIGxldCBvdXRlckVtcHR5TGFiZWxEYXRhID0gbG1hcFtlbXB0eUxhYmVsXTtcbiAgICBsbWFwW2VtcHR5TGFiZWxdID0ge1xuICAgICAgICBsYWJlbDogYy5lZmZlY3RpdmVQQyxcbiAgICAgICAgcGNtYXJrZXI6IGMucGNTdGFjay5tYXJrZXIoKVxuICAgIH07XG5cbiAgICBsZXQgY29udGV4dExhYmVsID0gbG1hcFtlbXB0eUxhYmVsXS5sYWJlbDtcbiAgICBjLnB1c2hQQyhjb250ZXh0TGFiZWwpO1xuXG4gICAgaXAudGhlbihuZXcgRm9yU3RhdGVtZW50TWFpbihub2RlKSk7XG4gICAgaXAudGhlbihuZXcgRm9yU3RhdGVtZW50RW5kKG91dGVyRW1wdHlMYWJlbERhdGEpKTtcbn1cblxuLy8gLS0tXG5cbmNsYXNzIEZvclN0YXRlbWVudE1haW4gZXh0ZW5kcyBUYXNrIHtcblxuICAgIG5vZGU6IExhYmVsZWRGb3JTdGF0ZW1lbnQ7XG4gICAgY2hvb3NlOiBGb3JTdGF0ZW1lbnRDaG9vc2U7XG4gICAgZXhlY3V0ZTogRm9yU3RhdGVtZW50RXhlY3V0ZTtcbiAgICB1cGRhdGU6IEZvclN0YXRlbWVudFVwZGF0ZTtcblxuICAgIGNvbnN0cnVjdG9yKG5vZGU6IExhYmVsZWRGb3JTdGF0ZW1lbnQpIHtcbiAgICAgICAgc3VwZXIoVGFzay5ydW5mb3JfY29udGludWVfYnJlYWspO1xuICAgICAgICB0aGlzLm5vZGUgPSBub2RlO1xuICAgICAgICB0aGlzLmV4ZWN1dGUgPSBuZXcgRm9yU3RhdGVtZW50RXhlY3V0ZShub2RlLCB0aGlzKTtcbiAgICAgICAgdGhpcy5jaG9vc2UgPSBuZXcgRm9yU3RhdGVtZW50Q2hvb3NlKG5vZGUsIHRoaXMpO1xuICAgICAgICB0aGlzLnVwZGF0ZSA9IG5ldyBGb3JTdGF0ZW1lbnRVcGRhdGUobm9kZSk7XG4gICAgfVxuXG4gICAgRXhlY3V0ZSh3bDogV29ya0xpc3QsIHZzOiBWYWx1ZVN0YWNrKTogdm9pZCB7XG4gICAgICAgIGxldCBjID0gbW9uaXRvci5jb250ZXh0O1xuICAgICAgICBsZXQgaXAgPSB3bC50b3AoKTtcblxuXG4gICAgICAgIGxldCByZXN1bHQgPSBjLnJlc3VsdDtcblxuICAgICAgICBpZiAocmVzdWx0LnR5cGUgPT09ICdicmVhaycgJiYgdGhpcy5ub2RlLmxhYmVsc2V0IS5oYXMocmVzdWx0LnRhcmdldCkpIHtcbiAgICAgICAgICAgIHJlc3VsdC50eXBlID0gJ25vcm1hbCc7XG4gICAgICAgICAgICByZXN1bHQudGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyZXN1bHQudHlwZSAhPT0gJ2NvbnRpbnVlJyB8fCAhdGhpcy5ub2RlLmxhYmVsc2V0IS5oYXMocmVzdWx0LnRhcmdldCkpIHtcbiAgICAgICAgICAgIGlmIChyZXN1bHQudHlwZSAhPT0gJ25vcm1hbCcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXN1bHQudHlwZSA9ICdub3JtYWwnO1xuICAgICAgICByZXN1bHQudGFyZ2V0ID0gbnVsbDtcblxuICAgICAgICBpZiAodGhpcy5ub2RlLnRlc3QpIHtcbiAgICAgICAgICAgIGlwLnRoZW4odGhpcy5ub2RlLnRlc3QpO1xuICAgICAgICAgICAgaXAudGhlbih0aGlzLmNob29zZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpcC50aGVuKHRoaXMuZXhlY3V0ZSk7XG4gICAgICAgIH1cblxuICAgIH1cbn1cblxuLy8gLS0tXG5jbGFzcyBGb3JTdGF0ZW1lbnRDaG9vc2UgZXh0ZW5kcyBUYXNrIHtcbiAgICBub2RlOiBMYWJlbGVkRm9yU3RhdGVtZW50O1xuICAgIG1haW46IEZvclN0YXRlbWVudE1haW47XG5cbiAgICBjb25zdHJ1Y3Rvcihub2RlOiBMYWJlbGVkRm9yU3RhdGVtZW50LCBtYWluOiBGb3JTdGF0ZW1lbnRNYWluKSB7XG4gICAgICAgIHN1cGVyKFRhc2sucnVuZm9yX2NvbnRpbnVlKTtcbiAgICAgICAgdGhpcy5ub2RlID0gbm9kZTtcbiAgICAgICAgdGhpcy5tYWluID0gbWFpbjtcbiAgICB9XG5cbiAgICBFeGVjdXRlKHdsOiBXb3JrTGlzdCwgdnM6IFZhbHVlU3RhY2spOiB2b2lkIHtcbiAgICAgICAgbGV0IGlwID0gd2wudG9wKCk7XG4gICAgICAgIGxldCBjID0gbW9uaXRvci5jb250ZXh0O1xuICAgICAgICBsZXQgcmVzdWx0ID0gYy5yZXN1bHQ7XG5cbiAgICAgICAgLy9AdHMtaWdub3JlIFNUQUNLXG4gICAgICAgIGxldCBjb25kID0gR2V0VmFsdWUodnMucG9wKCkpO1xuICAgICAgICBsZXQgY29uZGIgPSBUb0Jvb2xlYW4oY29uZCk7XG5cbiAgICAgICAgYy5sYWJlbHMucGMgPSBsdWIoYy5sYWJlbHMucGMsIGNvbmRiLmxhYmVsKTtcbiAgICAgICAgaWYgKCFjb25kYi52YWx1ZSkge1xuICAgICAgICAgICAgcmVzdWx0LnR5cGUgPSAnbm9ybWFsJztcbiAgICAgICAgICAgIHJlc3VsdC50YXJnZXQgPSBudWxsO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlwLnRoZW4odGhpcy5tYWluLmV4ZWN1dGUpO1xuICAgIH1cbn1cblxuY2xhc3MgRm9yU3RhdGVtZW50RXhlY3V0ZSBleHRlbmRzIFRhc2sge1xuICAgIG5vZGU6IExhYmVsZWRGb3JTdGF0ZW1lbnQ7XG4gICAgbWFpbjogRm9yU3RhdGVtZW50TWFpbjtcblxuICAgIGNvbnN0cnVjdG9yKG5vZGU6IExhYmVsZWRGb3JTdGF0ZW1lbnQsIG1haW46IEZvclN0YXRlbWVudE1haW4pIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5ub2RlID0gbm9kZTtcbiAgICAgICAgdGhpcy5tYWluID0gbWFpbjtcbiAgICB9XG5cbiAgICBFeGVjdXRlKHdsOiBXb3JrTGlzdCwgdnM6IFZhbHVlU3RhY2spOiB2b2lkIHtcbiAgICAgICAgbGV0IGlwID0gd2wudG9wKCk7XG5cbiAgICAgICAgaXAudGhlbih0aGlzLm5vZGUuYm9keSk7XG4gICAgICAgIGlwLnRoZW4odGhpcy5tYWluLnVwZGF0ZSk7XG4gICAgICAgIGlwLnRoZW4odGhpcy5tYWluKTtcbiAgICB9XG59XG5cbmNsYXNzIEZvclN0YXRlbWVudFVwZGF0ZSBleHRlbmRzIFRhc2sge1xuICAgIG5vZGU6IExhYmVsZWRGb3JTdGF0ZW1lbnQ7XG5cbiAgICBjb25zdHJ1Y3Rvcihub2RlOiBMYWJlbGVkRm9yU3RhdGVtZW50KSB7XG4gICAgICAgIHN1cGVyKFRhc2sucnVuZm9yX2NvbnRpbnVlKTtcbiAgICAgICAgdGhpcy5ub2RlID0gbm9kZTtcbiAgICB9XG5cbiAgICBFeGVjdXRlKHdsOiBXb3JrTGlzdCwgdnM6IFZhbHVlU3RhY2spOiB2b2lkIHtcbiAgICAgICAgbGV0IGlwID0gd2wudG9wKCk7XG5cbiAgICAgICAgbGV0IGMgPSBtb25pdG9yLmNvbnRleHQ7XG4gICAgICAgIGxldCByZXN1bHQgPSBjLnJlc3VsdDtcblxuICAgICAgICBpZiAocmVzdWx0LnR5cGUgIT09ICdjb250aW51ZScgfHwgIXRoaXMubm9kZS5sYWJlbHNldCEuaGFzKHJlc3VsdC50YXJnZXQpKSB7XG4gICAgICAgICAgICBpZiAocmVzdWx0LnR5cGUgIT09ICdub3JtYWwnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmVzdWx0LnR5cGUgPSAnbm9ybWFsJztcbiAgICAgICAgcmVzdWx0LnRhcmdldCA9IG51bGw7XG5cbiAgICAgICAgaWYgKHRoaXMubm9kZS51cGRhdGUpIHtcbiAgICAgICAgICAgIGlwLnRoZW4odGhpcy5ub2RlLnVwZGF0ZSk7XG4gICAgICAgICAgICBpcC50aGVuKG5ldyBSZXNldFZhbHVlU3RhY2sodnMuc2l6ZSgpKSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cblxuLy8gZm9yU3RhdGVtZW50ZUVuZFxuY2xhc3MgRm9yU3RhdGVtZW50RW5kIGV4dGVuZHMgVGFzayB7XG4gICAgb3V0ZXJFbXB0eUxhYmVsRGF0YTogeyBsYWJlbDogTGFiZWwsIHBjbWFya2VyOiBTdGFja01hcmtlciB9O1xuXG4gICAgY29uc3RydWN0b3Iob3V0ZXJFbXB0eUxhYmVsRGF0YTogeyBsYWJlbDogTGFiZWwsIHBjbWFya2VyOiBTdGFja01hcmtlciB9KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMub3V0ZXJFbXB0eUxhYmVsRGF0YSA9IG91dGVyRW1wdHlMYWJlbERhdGE7XG4gICAgfVxuXG4gICAgRXhlY3V0ZSh3bDogV29ya0xpc3QsIHZzOiBWYWx1ZVN0YWNrKTogdm9pZCB7XG4gICAgICAgIGxldCBjID0gbW9uaXRvci5jb250ZXh0O1xuICAgICAgICBjLmxhYmVscy5sYWJlbG1hcFtlbXB0eUxhYmVsXSA9IHRoaXMub3V0ZXJFbXB0eUxhYmVsRGF0YTtcbiAgICAgICAgYy5wb3BQQygpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBNb25pdG9yQmFzZSB9IGZyb20gXCIuLi8uLi9Nb25pdG9yQmFzZVwiO1xuaW1wb3J0IHsgV29ya0xpc3QsIFZhbHVlU3RhY2sgfSBmcm9tIFwiLi4vLi4vQ29udGV4dFwiO1xuaW1wb3J0IHsgVGFzayB9IGZyb20gXCIuLi9UYXNrXCI7XG5pbXBvcnQgeyBMYWJlbCB9IGZyb20gXCIuLi8uLi9MYWJlbFwiO1xuaW1wb3J0IHsgR2V0VmFsdWUgfSBmcm9tIFwiLi4vLi4vR2V0VmFsdWVcIjtcbmltcG9ydCB7IFRvQm9vbGVhbiB9IGZyb20gXCIuLi8uLi9Db252ZXJzaW9uL1RvQm9vbGVhblwiO1xuXG5pbXBvcnQgKiBhcyBlc3RyZWUgZnJvbSAnZXN0cmVlJztcblxuZGVjbGFyZSB2YXIgbW9uaXRvcjogTW9uaXRvckJhc2U7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5leHBvcnQgZnVuY3Rpb24gaWZTdGF0ZW1lbnQoXG4gICAgdGhpczogdm9pZCxcbiAgICBub2RlOiBlc3RyZWUuSWZTdGF0ZW1lbnQsXG4gICAgd2w6IFdvcmtMaXN0LFxuICAgIHZzOiBWYWx1ZVN0YWNrXG4pOiB2b2lkIHtcbiAgICBsZXQgaXAgPSB3bC50b3AoKTtcblxuICAgIGlwLnRoZW4obm9kZS50ZXN0KTtcbiAgICBpcC50aGVuKG5ldyBJZlN0YXRlbWVudENob29zZShub2RlKSk7XG59XG5cbi8vIC0tLVxuXG5jbGFzcyBJZlN0YXRlbWVudENob29zZSBleHRlbmRzIFRhc2sge1xuICAgIG5vZGU6IGVzdHJlZS5JZlN0YXRlbWVudDtcblxuICAgIGNvbnN0cnVjdG9yKG5vZGU6IGVzdHJlZS5JZlN0YXRlbWVudCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLm5vZGUgPSBub2RlO1xuICAgIH1cblxuICAgIEV4ZWN1dGUod2w6IFdvcmtMaXN0LCB2czogVmFsdWVTdGFjayk6IHZvaWQge1xuXG4gICAgICAgIGxldCBpcCA9IHdsLnRvcCgpO1xuXG4gICAgICAgIC8vQHRzLWlnbm9yZSBTVEFDS1xuICAgICAgICBsZXQgY29uZCA9IEdldFZhbHVlKHZzLnBvcCgpKTtcbiAgICAgICAgY29uZCA9IFRvQm9vbGVhbihjb25kKTtcblxuICAgICAgICBtb25pdG9yLmNvbnRleHQucHVzaFBDKGNvbmQubGFiZWwpO1xuXG4gICAgICAgIGlmIChjb25kLnZhbHVlKSB7XG4gICAgICAgICAgICBpcC50aGVuKHRoaXMubm9kZS5jb25zZXF1ZW50KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubm9kZS5hbHRlcm5hdGUgJiYgaXAudGhlbih0aGlzLm5vZGUuYWx0ZXJuYXRlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlwLnRoZW4obmV3IElmU3RhdGVtZW50RW5kKGNvbmQubGFiZWwpKTtcbiAgICB9XG59XG5cbi8vIC0tLVxuXG5jbGFzcyBJZlN0YXRlbWVudEVuZCBleHRlbmRzIFRhc2sge1xuICAgIGxhYmVsIDogTGFiZWw7XG4gICAgY29uc3RydWN0b3IobGFiZWwgOiBMYWJlbCkge1xuICAgICAgICBzdXBlcihUYXNrLnJ1bmZvcl9jb250aW51ZV9icmVhayk7XG4gICAgICAgIHRoaXMubGFiZWwgPSBsYWJlbDtcbiAgICB9XG5cbiAgICBFeGVjdXRlKHdsOiBXb3JrTGlzdCwgdnM6IFZhbHVlU3RhY2spOiB2b2lkIHtcbiAgICAgICAgbGV0IGMgPSBtb25pdG9yLmNvbnRleHQ7XG4gICAgICAgIGMucG9wUEMoKTtcbiAgICAgICAgaWYgKGMucmVzdWx0LnZhbHVlKSB7XG4gICAgICAgICAgICBjLnJlc3VsdC52YWx1ZS5yYWlzZSh0aGlzLmxhYmVsKTtcbiAgICAgICAgfVxuICAgIH1cbn0iLCJpbXBvcnQgeyBNb25pdG9yQmFzZSB9IGZyb20gXCIuLi8uLi9Nb25pdG9yQmFzZVwiO1xuaW1wb3J0IHsgV29ya0xpc3QsIFZhbHVlU3RhY2sgfSBmcm9tIFwiLi4vLi4vQ29udGV4dFwiO1xuaW1wb3J0IHsgVGFzayB9IGZyb20gXCIuLi9UYXNrXCI7XG5pbXBvcnQgeyBMYWJlbCwgYm90LCBsdWIgfSBmcm9tIFwiLi4vLi4vTGFiZWxcIjtcbmltcG9ydCB7IFN0YWNrTWFya2VyIH0gZnJvbSBcIi4uLy4uL1N0YWNrXCI7XG5cbmltcG9ydCAqIGFzIGVzdHJlZSBmcm9tICdlc3RyZWUnO1xuXG5kZWNsYXJlIHZhciBtb25pdG9yOiBNb25pdG9yQmFzZTtcbmxldCBNeVNldCA9IFNldDtcblxuLy8gMTIuMTIgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmV4cG9ydCBmdW5jdGlvbiBsYWJlbGVkU3RhdGVtZW50KFxuICAgIG5vZGU6IGVzdHJlZS5MYWJlbGVkU3RhdGVtZW50LFxuICAgIHdsOiBXb3JrTGlzdCxcbiAgICB2czogVmFsdWVTdGFja1xuKTogdm9pZCB7XG4gICAgbGV0IGlwID0gd2wudG9wKCk7XG4gICAgbGV0IGMgPSBtb25pdG9yLmNvbnRleHQ7XG5cbiAgICBsZXQgcGNtYXJrZXIgPSBjLnBjU3RhY2subWFya2VyKCk7XG4gICAgbGV0IHZzbWFya2VyID0gYy52YWx1ZVN0YWNrLm1hcmtlcigpO1xuXG4gICAgLy9AdHMtaWdub3JlIExBQkVMU0VUXG4gICAgaWYgKCFub2RlLmJvZHkubGFiZWxzZXQpIHtcbiAgICAgICAgLy9AdHMtaWdub3JlIExBQkVMU0VUXG4gICAgICAgIG5vZGUuYm9keS5sYWJlbHNldCA9IG5ldyBNeVNldChbbm9kZS5sYWJlbC5uYW1lXSk7XG5cbiAgICAgICAgLy9AdHMtaWdub3JlIExBQkVMU0VUXG4gICAgICAgIGlmIChub2RlLmxhYmVsc2V0KSB7XG4gICAgICAgICAgICAvL0B0cy1pZ25vcmUgTEFCRUxTRVRcbiAgICAgICAgICAgIG5vZGUuYm9keS5sYWJlbHNldC51bmlvbihub2RlLmxhYmVsc2V0KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGxldCBuYW1lID0gbm9kZS5sYWJlbC5uYW1lO1xuICAgIGxldCBvdXRlcmxhYmVsID0gc2V0dXBTdGF0ZW1lbnRMYWJlbChuYW1lKTtcblxuICAgIGxldCBsYWJlbGRhdGEgPSBjLmxhYmVscy5sYWJlbG1hcFtuYW1lXTtcbiAgICBsYWJlbGRhdGEucGNtYXJrZXIgPSBjLnBjU3RhY2subWFya2VyKCk7XG5cbiAgICBjLnB1c2hQQyhsYWJlbGRhdGEubGFiZWwpO1xuXG4gICAgaXAudGhlbihub2RlLmJvZHkpO1xuICAgIGlwLnRoZW4obmV3IExhYmVsZWRTdGF0ZW1lbnRFbmQobmFtZSwgbGFiZWxkYXRhLmxhYmVsLCBwY21hcmtlciwgdnNtYXJrZXIpKTtcbn1cblxuLy8gbGFiZWxlZFN0YXRlbWVudEVuZFxuXG5jbGFzcyBMYWJlbGVkU3RhdGVtZW50RW5kIGV4dGVuZHMgVGFzayB7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIG91dGVybGFiZWw6IExhYmVsO1xuICAgIHBjbWFya2VyOiBTdGFja01hcmtlcjtcbiAgICB2c21hcmtlcjogU3RhY2tNYXJrZXI7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgbmFtZTogc3RyaW5nLFxuICAgICAgICBvdXRlcmxhYmVsOiBMYWJlbCxcbiAgICAgICAgcGNtYXJrZXI6IFN0YWNrTWFya2VyLFxuICAgICAgICB2c21hcmtlcjogU3RhY2tNYXJrZXIsXG4gICAgKSB7XG4gICAgICAgIHN1cGVyKFRhc2sucnVuZm9yX2NvbnRpbnVlX2JyZWFrKTtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5vdXRlcmxhYmVsID0gb3V0ZXJsYWJlbDtcbiAgICAgICAgdGhpcy5wY21hcmtlciA9IHBjbWFya2VyO1xuICAgICAgICB0aGlzLnZzbWFya2VyID0gdnNtYXJrZXI7XG4gICAgfVxuXG5cbiAgICBFeGVjdXRlKHdsOiBXb3JrTGlzdCwgdnM6IFZhbHVlU3RhY2spOiB2b2lkIHtcbiAgICAgICAgbGV0IGMgPSBtb25pdG9yLmNvbnRleHQ7XG4gICAgICAgIGxldCByZXN1bHQgPSBjLnJlc3VsdDtcblxuICAgICAgICAvLyByZXNldCB0aGUgb3V0ZXIgbGFiZWwgLSBubyBuZWVkIHRvIHJlc2V0IHBjbWFya2VyIHNpbmNlXG4gICAgICAgIC8vIHN0YXRlbWVudCBsYWJlbHMgd2l0aCB0aGUgc2FtZSBuYW1lIGNhbm5vdCBiZSBuZXN0ZWRcbiAgICAgICAgYy5sYWJlbHMubGFiZWxtYXBbdGhpcy5uYW1lXS5sYWJlbCA9IHRoaXMub3V0ZXJsYWJlbDtcblxuICAgICAgICBjLnBjU3RhY2sucmVzZXQodGhpcy5wY21hcmtlcik7XG4gICAgICAgIGMudmFsdWVTdGFjay5yZXNldCh0aGlzLnZzbWFya2VyKTtcblxuICAgICAgICBpZiAocmVzdWx0LnR5cGUgPT09ICdicmVhaycgJiYgcmVzdWx0LnRhcmdldCA9PT0gdGhpcy5uYW1lKSB7XG4gICAgICAgICAgICByZXN1bHQgPSBjLnJlc3VsdDtcbiAgICAgICAgICAgIHJlc3VsdC50eXBlID0gJ25vcm1hbCc7XG4gICAgICAgICAgICByZXN1bHQudGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gc2V0dXBTdGF0ZW1lbnRMYWJlbChuYW1lOiBzdHJpbmcpOiBMYWJlbCB7XG4gICAgbGV0IGMgPSBtb25pdG9yLmNvbnRleHQ7XG4gICAgbGV0IGxtYXAgPSBjLmxhYmVscy5sYWJlbG1hcDtcbiAgICBpZiAoIWxtYXBbbmFtZV0pIHtcbiAgICAgICAgbG1hcFtuYW1lXSA9IHsgbGFiZWw6IGJvdCwgcGNtYXJrZXI6IHVuZGVmaW5lZCB9O1xuICAgIH1cblxuICAgIGxldCBsYWJlbGRhdGEgPSBsbWFwW25hbWVdO1xuICAgIGxldCBvdXRlcmxhYmVsID0gbGFiZWxkYXRhLmxhYmVsO1xuXG4gICAgLy8gcmFpc2UgdG8gZWZmZWN0aXZlIHBjXG4gICAgbGFiZWxkYXRhLmxhYmVsID0gbHViKGxhYmVsZGF0YS5sYWJlbCwgYy5lZmZlY3RpdmVQQyk7XG5cbiAgICByZXR1cm4gb3V0ZXJsYWJlbDtcbn1cbiIsImltcG9ydCB7IE1vbml0b3JCYXNlIH0gZnJvbSBcIi4uLy4uL01vbml0b3JCYXNlXCI7XG5pbXBvcnQgeyBXb3JrTGlzdCwgVmFsdWVTdGFjayB9IGZyb20gXCIuLi8uLi9Db250ZXh0XCI7XG5pbXBvcnQgeyBUYXNrIH0gZnJvbSBcIi4uL1Rhc2tcIjtcbmltcG9ydCB7IEdldFZhbHVlIH0gZnJvbSBcIi4uLy4uL0dldFZhbHVlXCI7XG5pbXBvcnQgeyBWYWx1ZSB9IGZyb20gXCIuLi8uLi9WYWx1ZVwiO1xuaW1wb3J0IHsgbGUsIGx1YiwgYm90IH0gZnJvbSBcIi4uLy4uL0xhYmVsXCI7XG5cbmltcG9ydCAqIGFzIGVzdHJlZSBmcm9tICdlc3RyZWUnO1xuaW1wb3J0IHsgcHJldHR5IH0gZnJvbSBcIi4uLy4uL1BQXCI7XG5cbmRlY2xhcmUgdmFyIG1vbml0b3I6IE1vbml0b3JCYXNlO1xuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIFxuXG5leHBvcnQgZnVuY3Rpb24gcmV0dXJuU3RhdGVtZW50KFxuICAgIHRoaXM6IHZvaWQsXG4gICAgbm9kZTogZXN0cmVlLlJldHVyblN0YXRlbWVudCxcbiAgICB3bDogV29ya0xpc3QsXG4gICAgdnM6IFZhbHVlU3RhY2tcbik6IHZvaWQge1xuICAgIGxldCBjID0gbW9uaXRvci5jb250ZXh0O1xuICAgIGxldCBpcCA9IHdsLnRvcCgpO1xuXG4gICAgbW9uaXRvci5hc3NlcnQobGUoYy5lZmZlY3RpdmVQQywgYy5sYWJlbHMucmV0KSxcbiAgICAgICAgJ3dyaXRlIGNvbnRleHQgJyArIGMuZWZmZWN0aXZlUEMgKyAnIG5vdCBiZWxvdyAnICtcbiAgICAgICAgJ3JldHVybiBjb250ZXh0ICcgKyBjLmxhYmVscy5yZXRcbiAgICApO1xuXG4gICAgLy8gVGhpcyBpcyBmb3IgdGhlIG5ldyBtb2RlIG9mIG9wZXJhdGlvbiwgZm9yIG9ic2VydmFibGUgZmxvd3NcbiAgICBjLmxhYmVscy5yZXQgPSBsdWIoYy5sYWJlbHMucmV0LCBjLmVmZmVjdGl2ZVBDKTtcblxuICAgIGlmIChub2RlLmFyZ3VtZW50KSB7XG4gICAgICAgIGlwLnRoZW4obm9kZS5hcmd1bWVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgYy52YWx1ZVN0YWNrLnB1c2gobmV3IFZhbHVlKHVuZGVmaW5lZCwgYm90KSk7XG4gICAgfVxuICAgIGlwLnRoZW4oUmV0dXJuU3RhdGVtZW50RW5kLkluc3RhbmNlKTtcblxufVxuXG4vLyByZXR1cm5TdGF0ZW1lbnRFbmRcblxuY2xhc3MgUmV0dXJuU3RhdGVtZW50RW5kIGV4dGVuZHMgVGFzayB7XG5cbiAgICBzdGF0aWMgSW5zdGFuY2UgPSBuZXcgUmV0dXJuU3RhdGVtZW50RW5kKCk7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICB9XG5cbiAgICBFeGVjdXRlKHdsOiBXb3JrTGlzdCwgdnM6IFZhbHVlU3RhY2spOiB2b2lkIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IG1vbml0b3IuY29udGV4dC5yZXN1bHQ7XG5cbiAgICAgICAgcmVzdWx0LnR5cGUgPSAncmV0dXJuJztcbiAgICAgICAgLy9AdHMtaWdub3JlIFNUQUNLXG4gICAgICAgIHJlc3VsdC52YWx1ZSA9IEdldFZhbHVlKHZzLnBvcCgpKTtcbiAgICAgICAgcmVzdWx0LnRhcmdldCA9IG51bGw7XG4gICAgfVxufSIsImltcG9ydCB7IE1vbml0b3JCYXNlIH0gZnJvbSBcIi4uLy4uL01vbml0b3JCYXNlXCI7XG5pbXBvcnQgeyBXb3JrTGlzdCwgVmFsdWVTdGFjayB9IGZyb20gXCIuLi8uLi9Db250ZXh0XCI7XG5pbXBvcnQgeyBUYXNrIH0gZnJvbSBcIi4uL1Rhc2tcIjtcbmltcG9ydCB7IGx1YiwgTGFiZWwgfSBmcm9tIFwiLi4vLi4vTGFiZWxcIjtcbmltcG9ydCB7IGJpbmFyeVN0cmljdEVxcyB9IGZyb20gXCIuLi9CaW5hcnlPcGVyYXRvcnNcIjtcbmltcG9ydCB7IFN0YWNrTWFya2VyLCBTdGFjayB9IGZyb20gXCIuLi8uLi9TdGFja1wiO1xuaW1wb3J0IHsgR2V0VmFsdWUgfSBmcm9tIFwiLi4vLi4vR2V0VmFsdWVcIjtcblxuaW1wb3J0ICogYXMgZXN0cmVlIGZyb20gJ2VzdHJlZSc7XG5cbmRlY2xhcmUgdmFyIG1vbml0b3I6IE1vbml0b3JCYXNlO1xuXG5mdW5jdGlvbiBfR2V0VmFsdWUoKTogdm9pZCB7XG4gICAgbGV0IHZzID0gbW9uaXRvci5jb250ZXh0LnZhbHVlU3RhY2s7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGxldCB2YWw6IFZhbHVlPFZhbHVlVHlwZXM+ID0gdnMucG9wKCk7XG5cbiAgICB2cy5wdXNoKEdldFZhbHVlKHZhbCkpO1xufVxuXG5sZXQgZW1wdHlMYWJlbCA9ICdkZWZhdWx0JzsgLy8gZGVmYXVsdCBpcyBhIHJlc2VydmVkIHdvcmQgc28gbm8gYWN0dWFsIGxhYmVsIGNhbiBiZSBuYW1lZCBkZWZhdWx0IFxubGV0IE15U2V0ID0gU2V0O1xuXG4vLyAxMi4xMSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbnR5cGUgU3dpdGNoU3RhdGUgPSB7IGRlZmF1bHRDYXNlSW5kZXg6IG51bWJlciB8IG51bGwsIG5leHRDYXNlOiBudW1iZXIgfTtcblxuaW50ZXJmYWNlIExhYmVsZWRTd2l0Y2hTdGF0ZW1lbnQgZXh0ZW5kcyBlc3RyZWUuU3dpdGNoU3RhdGVtZW50IHtcbiAgICBsYWJlbHNldD8gOiBTZXQ8c3RyaW5nPjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN3aXRjaFN0YXRlbWVudChcbiAgICB0aGlzOiB2b2lkLFxuICAgIG5vZGU6IExhYmVsZWRTd2l0Y2hTdGF0ZW1lbnQsXG4gICAgd2w6IFdvcmtMaXN0LFxuICAgIHZzOiBWYWx1ZVN0YWNrXG4pOiB2b2lkIHtcbiAgXG4gICAgbGV0IGMgPSBtb25pdG9yLmNvbnRleHQ7XG4gICAgbGV0IGxtYXAgPSBtb25pdG9yLmNvbnRleHQubGFiZWxzLmxhYmVsbWFwO1xuXG4gICAgaWYgKCFub2RlLmxhYmVsc2V0KSB7XG4gICAgICAgIG5vZGUubGFiZWxzZXQgPSBuZXcgTXlTZXQoW10pO1xuICAgIH1cbiAgICBub2RlLmxhYmVsc2V0LmFkZChlbXB0eUxhYmVsKTtcblxuICAgIGxldCBvdXRlckVtcHR5TGFiZWxEYXRhID0gbG1hcFtlbXB0eUxhYmVsXTtcbiAgICBsbWFwW2VtcHR5TGFiZWxdID0ge1xuICAgICAgICBsYWJlbDogYy5lZmZlY3RpdmVQQyxcbiAgICAgICAgcGNtYXJrZXI6IGMucGNTdGFjay5tYXJrZXIoKVxuICAgIH07XG5cbiAgICBsZXQgY29udGV4dExhYmVsID0gbG1hcFtlbXB0eUxhYmVsXS5sYWJlbDtcbiAgICBjLnB1c2hQQyhjb250ZXh0TGFiZWwpO1xuXG4gICAgbGV0IHN3aXRjaFN0YXRlOiBTd2l0Y2hTdGF0ZSA9IHtcbiAgICAgICAgZGVmYXVsdENhc2VJbmRleDogbnVsbCxcbiAgICAgICAgbmV4dENhc2U6IDBcbiAgICB9O1xuXG4gICAgaWYgKG5vZGUuY2FzZXMpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBub2RlLmNhc2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAobm9kZS5jYXNlc1tpXS50ZXN0ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoU3RhdGUuZGVmYXVsdENhc2VJbmRleCA9IGk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBsZXQgaXAgPSB3bC50b3AoKTtcblxuICAgIC8vIFN0b3JlIHRoZSBkaXNjcmltaW5hbnQgdmFsdWUgb24gdGhlIHZhbHVlIHN0YWNrLlxuICAgIC8vIEl0IGlzIGxhdGVyIHBvcHBlZCBieSBzd2l0Y2hTdGF0ZW1lbnRFbmQuXG4gICAgaXAudGhlbihub2RlLmRpc2NyaW1pbmFudCk7XG4gICAgaXAudGhlbihfR2V0VmFsdWUpO1xuXG4gICAgLy8gU2V0IHVwIHN0YXRlbWVudCBsYWJlbHNcbiAgICBpcC50aGVuKG5ldyBTd2l0Y2hTdGF0ZW1lbnRVcGdyYWRlTGFiZWxzKG5vZGUpKTtcblxuICAgIC8vIEtpY2sgb2ZmIHRoZSBmaXJzdCBjYXNlXG4gICAgaXAudGhlbihuZXcgU3dpdGNoU3RhdGVtZW50Q2FzZShub2RlLCBzd2l0Y2hTdGF0ZSkpO1xuXG4gICAgLy8gQ2xlYW4gdXAgYW5kIGhhbmRsZSBicmVha3NcbiAgICBpcC50aGVuKG5ldyBTd2l0Y2hTdGF0ZW1lbnRFbmQobm9kZSwgb3V0ZXJFbXB0eUxhYmVsRGF0YSkpO1xufVxuXG4vLyAtLS1cblxuY2xhc3MgU3dpdGNoU3RhdGVtZW50VXBncmFkZUxhYmVscyBleHRlbmRzIFRhc2sge1xuICAgIG5vZGU6IExhYmVsZWRTd2l0Y2hTdGF0ZW1lbnQ7XG5cbiAgICBjb25zdHJ1Y3Rvcihub2RlOiBMYWJlbGVkU3dpdGNoU3RhdGVtZW50KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMubm9kZSA9IG5vZGU7XG4gICAgfVxuXG4gICAgRXhlY3V0ZSh3bDogV29ya0xpc3QsIHZzOiBWYWx1ZVN0YWNrKTogdm9pZCB7XG4gICAgICAgIGxldCBjID0gbW9uaXRvci5jb250ZXh0O1xuICAgICAgICAvL0B0cy1pZ25vcmUgU1RBQ0tcbiAgICAgICAgbGV0IGRpc2NyaW1pbmFudExhYmVsID0gdnMucGVlaygpLmxhYmVsO1xuICAgICAgICBsZXQgbGJsbWFwID0gYy5sYWJlbHMubGFiZWxtYXA7XG4gICAgXG4gICAgICAgIGMubGFiZWxzLnBjID0gbHViKGMubGFiZWxzLnBjLCBkaXNjcmltaW5hbnRMYWJlbCk7XG4gICAgXG4gICAgICAgIGZvciAobGV0IG5hbWUgaW4gdGhpcy5ub2RlLmxhYmVsc2V0KSB7XG4gICAgICAgICAgICBsYmxtYXBbbmFtZV0ubGFiZWwgPSBsdWIobGJsbWFwW25hbWVdLmxhYmVsLCBkaXNjcmltaW5hbnRMYWJlbCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8vIC0tLVxuXG5jbGFzcyBTd2l0Y2hTdGF0ZW1lbnRDYXNlIGV4dGVuZHMgVGFzayB7XG5cbiAgICBub2RlOiBMYWJlbGVkU3dpdGNoU3RhdGVtZW50O1xuICAgIHN3aXRjaFN0YXRlOiBTd2l0Y2hTdGF0ZTtcblxuICAgIGNvbnN0cnVjdG9yKG5vZGU6IExhYmVsZWRTd2l0Y2hTdGF0ZW1lbnQsIHN3aXRjaFN0YXRlOiBTd2l0Y2hTdGF0ZSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLm5vZGUgPSBub2RlO1xuICAgICAgICB0aGlzLnN3aXRjaFN0YXRlID0gc3dpdGNoU3RhdGU7XG4gICAgfVxuXG4gICAgRXhlY3V0ZSh3bDogV29ya0xpc3QsIHZzOiBWYWx1ZVN0YWNrKTogdm9pZCB7XG5cbiAgICAgICAgbGV0IGlwID0gd2wudG9wKCk7XG4gICAgICAgIGxldCBpZHggPSB0aGlzLnN3aXRjaFN0YXRlLm5leHRDYXNlO1xuXG4gICAgICAgIGlmICh0aGlzLm5vZGUuY2FzZXMgPT09IHVuZGVmaW5lZCB8fCBpZHggPj0gdGhpcy5ub2RlLmNhc2VzLmxlbmd0aCkge1xuICAgICAgICAgICAgLy8gTm8gbW9yZSBjYXNlcyB0byB0cnksIHNjaGVkdWxlIHRoZSBkZWZhdWx0IFxuICAgICAgICAgICAgLy8gY2FzZSBpZiB0aGVyZSBpcyBvbmVcbiAgICAgICAgICAgIGlmICh0aGlzLnN3aXRjaFN0YXRlLmRlZmF1bHRDYXNlSW5kZXggIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gdGhpcy5zd2l0Y2hTdGF0ZS5kZWZhdWx0Q2FzZUluZGV4OyBpIDwgdGhpcy5ub2RlLmNhc2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGhpcy5ub2RlLmNhc2VzW2ldLmNvbnNlcXVlbnQubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlwLnRoZW4odGhpcy5ub2RlLmNhc2VzW2ldLmNvbnNlcXVlbnRbal0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlkeCA9PT0gdGhpcy5zd2l0Y2hTdGF0ZS5kZWZhdWx0Q2FzZUluZGV4KSB7XG4gICAgICAgICAgICAvLyBTa2lwIHRoZSBkZWZhdWx0IGNhc2UgZHVyaW5nIG1hdGNoaW5nXG4gICAgICAgICAgICB0aGlzLnN3aXRjaFN0YXRlLm5leHRDYXNlICs9IDE7XG4gICAgICAgICAgICBpcC50aGVuKG5ldyBTd2l0Y2hTdGF0ZW1lbnRDYXNlKHRoaXMubm9kZSwgdGhpcy5zd2l0Y2hTdGF0ZSkpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdnMuZHVwKCk7IC8vIER1cGxpY2F0ZSB0aGUgZGlzY3JpbWluYW50IHZhbHVlXG5cbiAgICAgICAgLy8gUHVzaCB0aGUgdGVzdCB2YWx1ZVxuICAgICAgICBpcC50aGVuKHRoaXMubm9kZS5jYXNlc1tpZHhdLnRlc3QpO1xuICAgICAgICBpcC50aGVuKF9HZXRWYWx1ZSk7XG5cbiAgICAgICAgLy8gVGVzdCBmb3IgZXF1YWxpdHkgYW5kIGRlY2lkZSB3aGF0IHRvIGRvIG5leHRcbiAgICAgICAgaXAudGhlbihuZXcgU3dpdGNoU3RhdGVtZW50VGVzdCh0aGlzLm5vZGUsIHRoaXMuc3dpdGNoU3RhdGUpKTtcbiAgICB9XG59XG5cbi8vIC0tLVxuXG5jbGFzcyBTd2l0Y2hTdGF0ZW1lbnRUZXN0IGV4dGVuZHMgVGFzayB7XG4gICAgbm9kZTogTGFiZWxlZFN3aXRjaFN0YXRlbWVudDtcbiAgICBzd2l0Y2hTdGF0ZTogU3dpdGNoU3RhdGU7XG5cbiAgICBjb25zdHJ1Y3Rvcihub2RlOiBMYWJlbGVkU3dpdGNoU3RhdGVtZW50LCBzd2l0Y2hTdGF0ZTogU3dpdGNoU3RhdGUpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5ub2RlID0gbm9kZTtcbiAgICAgICAgdGhpcy5zd2l0Y2hTdGF0ZSA9IHN3aXRjaFN0YXRlO1xuICAgIH1cblxuICAgIEV4ZWN1dGUod2w6IFdvcmtMaXN0LCB2czogVmFsdWVTdGFjayk6IHZvaWQge1xuXG4gICAgICAgIGxldCBpcCA9IHdsLnRvcCgpO1xuXG4gICAgICAgIGJpbmFyeVN0cmljdEVxcygnPT09Jywgd2wsIHZzKTtcblxuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIGxldCBicmVzdWx0OiBWYWx1ZTxWYWx1ZVR5cGVzPiA9IHZzLnBvcCgpO1xuXG4gICAgICAgIG1vbml0b3IuY29udGV4dC5sYWJlbHMucGMgPSBsdWIobW9uaXRvci5jb250ZXh0LmxhYmVscy5wYywgYnJlc3VsdC5sYWJlbCk7XG5cbiAgICAgICAgaWYgKGJyZXN1bHQudmFsdWUpIHtcbiAgICAgICAgICAgIC8vIEZvdW5kIGEgbWF0Y2gsIHNjaGVkdWxlIGFsbCBzdGF0ZW1lbnRzIGZyb20gaGVyZSBkb3duXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gdGhpcy5zd2l0Y2hTdGF0ZS5uZXh0Q2FzZTsgaSA8IHRoaXMubm9kZS5jYXNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGhpcy5ub2RlLmNhc2VzW2ldLmNvbnNlcXVlbnQubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaXAudGhlbih0aGlzLm5vZGUuY2FzZXNbaV0uY29uc2VxdWVudFtqXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zd2l0Y2hTdGF0ZS5uZXh0Q2FzZSArPSAxO1xuICAgICAgICAgICAgaXAudGhlbihuZXcgU3dpdGNoU3RhdGVtZW50Q2FzZSh0aGlzLm5vZGUsIHRoaXMuc3dpdGNoU3RhdGUpKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLy8gLS0tXG5cbmNsYXNzIFN3aXRjaFN0YXRlbWVudEVuZCBleHRlbmRzIFRhc2sge1xuXG4gICAgbm9kZTogTGFiZWxlZFN3aXRjaFN0YXRlbWVudDtcbiAgICBvdXRlckVtcHR5TGFiZWxEYXRhIDogeyBsYWJlbCA6IExhYmVsLCBwY21hcmtlciA6IFN0YWNrTWFya2VyIH07XG5cbiAgICBjb25zdHJ1Y3Rvcihub2RlOiBMYWJlbGVkU3dpdGNoU3RhdGVtZW50LCBvdXRlckVtcHR5TGFiZWxEYXRhIDogeyBsYWJlbCA6IExhYmVsLCBwY21hcmtlciA6IFN0YWNrTWFya2VyIH0pIHtcbiAgICAgICAgc3VwZXIoVGFzay5ydW5mb3JfYnJlYWspO1xuICAgICAgICB0aGlzLm5vZGUgPSBub2RlO1xuICAgICAgICB0aGlzLm91dGVyRW1wdHlMYWJlbERhdGEgPSBvdXRlckVtcHR5TGFiZWxEYXRhO1xuICAgIH1cblxuICAgIEV4ZWN1dGUod2w6IFdvcmtMaXN0LCB2czogVmFsdWVTdGFjayk6IHZvaWQge1xuICAgICAgICBsZXQgYyA9IG1vbml0b3IuY29udGV4dDtcblxuICAgICAgICB2cy5wb3AoKTsgLy8gcG9wIHRoZSBkaXNjcmltaW5hbnQgdmFsdWVcbiAgICAgICAgYy5wb3BQQygpOyAvLyBwb3AgdGhlIGxhYmVsQ29udGV4dFxuXG4gICAgICAgIGlmIChjLnJlc3VsdC50eXBlID09PSAnYnJlYWsnICYmIHRoaXMubm9kZS5sYWJlbHNldCEuaGFzKGMucmVzdWx0LnRhcmdldCkpIHtcbiAgICAgICAgICAgIGMucmVzdWx0LnR5cGUgPSAnbm9ybWFsJztcbiAgICAgICAgICAgIGMucmVzdWx0LnRhcmdldCA9IG51bGw7XG4gICAgICAgICAgICBjLmxhYmVscy5sYWJlbG1hcFsnZW1wdHknXSA9IHRoaXMub3V0ZXJFbXB0eUxhYmVsRGF0YTtcbiAgICAgICAgfVxuICAgIH1cbn0iLCJpbXBvcnQgeyBNb25pdG9yQmFzZSB9IGZyb20gXCIuLi8uLi9Nb25pdG9yQmFzZVwiO1xuaW1wb3J0IHsgV29ya0xpc3QsIFZhbHVlU3RhY2sgfSBmcm9tIFwiLi4vLi4vQ29udGV4dFwiO1xuaW1wb3J0IHsgVGFzayB9IGZyb20gXCIuLi9UYXNrXCI7XG5pbXBvcnQgeyBHZXRWYWx1ZSB9IGZyb20gXCIuLi8uLi9HZXRWYWx1ZVwiO1xuaW1wb3J0IHsgbGUsIGx1YiB9IGZyb20gXCIuLi8uLi9MYWJlbFwiO1xuaW1wb3J0IHsgUmVmZXJlbmNlIH0gZnJvbSBcIi4uLy4uL1JlZmVyZW5jZVwiO1xuXG5pbXBvcnQgKiBhcyBlc3RyZWUgZnJvbSAnZXN0cmVlJztcblxuZGVjbGFyZSB2YXIgbW9uaXRvcjogTW9uaXRvckJhc2U7XG5cbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBcblxuZXhwb3J0IGZ1bmN0aW9uIHRocm93U3RhdGVtZW50KFxuICAgIHRoaXM6IHZvaWQsXG4gICAgbm9kZTogZXN0cmVlLlRocm93U3RhdGVtZW50LFxuICAgIHdsOiBXb3JrTGlzdCxcbiAgICB2czogVmFsdWVTdGFja1xuKTogdm9pZCB7XG4gICAgbGV0IGlwID0gd2wudG9wKCk7XG5cbiAgICBpcC50aGVuKG5vZGUuYXJndW1lbnQpO1xuICAgIGlwLnRoZW4oVGhyb3dTdGF0ZW1lbnRFbmQuSW5zdGFuY2UpO1xufVxuXG4vLyAtLS1cblxuY2xhc3MgVGhyb3dTdGF0ZW1lbnRFbmQgZXh0ZW5kcyBUYXNrIHtcblxuICAgIHN0YXRpYyBJbnN0YW5jZSA9IG5ldyBUaHJvd1N0YXRlbWVudEVuZCgpO1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgfVxuXG4gICAgRXhlY3V0ZSh3bDogV29ya0xpc3QsIHZzOiBWYWx1ZVN0YWNrKTogdm9pZCB7XG4gICAgICAgIGxldCBjID0gbW9uaXRvci5jb250ZXh0O1xuICAgICAgICBsZXQgcmVzdWx0ID0gYy5yZXN1bHQ7XG4gICAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgICBsZXQgZXhwclJlZiA6IFJlZmVyZW5jZT0gdnMucG9wKCk7XG5cbiAgICAgICAgLy8gVmVyZml5IHRoYXQgdGhlIGV4Y2VwdGlvbiBpcyBhbGxvd2VkIFxuICAgICAgICBtb25pdG9yLmFzc2VydChsZShjLmVmZmVjdGl2ZVBDLCBjLmxhYmVscy5leGMpLFxuICAgICAgICAgICAgXCJleGNlcHRpb24gaW4gXCIgKyBjLmVmZmVjdGl2ZVBDICsgXCIgbm90IGFsbG93ZWQgd2l0aCBleGNlcHRpb24gbGFiZWwgXCIgKyBjLmxhYmVscy5leGMpO1xuXG4gICAgICAgIC8vIEZvciBvYnNlcnZhYmxlIGZsb3dzXG4gICAgICAgIGMubGFiZWxzLmV4YyA9IGx1YihjLmxhYmVscy5leGMsIGMuZWZmZWN0aXZlUEMpO1xuXG4gICAgICAgIHJlc3VsdC50eXBlID0gJ3Rocm93JztcbiAgICAgICAgcmVzdWx0LnZhbHVlID0gR2V0VmFsdWUoZXhwclJlZik7XG4gICAgICAgIG1vbml0b3Iub2ZmZW5kaW5nVHJhY2UgPSBtb25pdG9yLnN0YWNrVHJhY2UoKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgTW9uaXRvckJhc2UgfSBmcm9tIFwiLi4vLi4vTW9uaXRvckJhc2VcIjtcbmltcG9ydCB7IFdvcmtMaXN0LCBWYWx1ZVN0YWNrIH0gZnJvbSBcIi4uLy4uL0NvbnRleHRcIjtcbmltcG9ydCB7IFRhc2sgfSBmcm9tIFwiLi4vVGFza1wiO1xuaW1wb3J0IHsgTGFiZWwsIGx1YiwgYm90IH0gZnJvbSBcIi4uLy4uL0xhYmVsXCI7XG5cbmltcG9ydCB7IFN0YWNrTWFya2VyIH0gZnJvbSBcIi4uLy4uL1N0YWNrXCI7XG5cbmltcG9ydCAqIGFzIGVzdHJlZSBmcm9tICdlc3RyZWUnO1xuaW1wb3J0IHsgVmFsdWUgfSBmcm9tIFwiLi4vLi4vVmFsdWVcIjtcbmltcG9ydCB7IE5ld0RlY2xhcmF0aXZlRW52aXJvbm1lbnQgfSBmcm9tIFwiLi4vLi4vRGVjbGFyYXRpdmVFbnZpcm9ubWVudFJlY29yZFwiO1xuaW1wb3J0IHsgUmVzdWx0IH0gZnJvbSBcIi4uLy4uL1Jlc3VsdFwiO1xuaW1wb3J0IHsgTGV4aWNhbEVudmlyb25tZW50IH0gZnJvbSBcIi4uLy4uL0xleGljYWxFbnZpcm9ubWVudFwiO1xuXG5kZWNsYXJlIHZhciBtb25pdG9yOiBNb25pdG9yQmFzZTtcblxuXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gXG5cbmV4cG9ydCBmdW5jdGlvbiB0cnlTdGF0ZW1lbnQoXG4gICAgbm9kZTogZXN0cmVlLlRyeVN0YXRlbWVudCxcbiAgICB3bDogV29ya0xpc3QsXG4gICAgdnM6IFZhbHVlU3RhY2tcbik6IHZvaWQge1xuICAgIGxldCBpcCA9IHdsLnRvcCgpO1xuICAgIGxldCBjID0gbW9uaXRvci5jb250ZXh0O1xuXG4gICAgaXAudGhlbihub2RlLmJsb2NrKTtcbiAgICAvLyBFeHByZXNzaW9uIGV2YWx1YXRpb24gbWlnaHQgY2F1c2UgZXhjZXB0aW9uczsgaWYgc28gdGhlIHN0YXRlIG9mXG4gICAgLy8gdGhlIGNvbnRleHQgbWlnaHQgbmVlZCBzb21lIGNsZWFuaW5nIHVwLlxuICAgIC8vIFRoZSByZXN1bHQgc3RhY2sgYW5kIHRoZSB3b3JrbGlzdCBhcmUgbm90IGFmZmVjdGVkIGJ5IGV4cHJlc3Npb24gc28gdGhlaXJcbiAgICAvLyBzdGF0ZXMgYXJlIGZpbmUuXG4gICAgLy8gVGhlIHJldCBsYWJlbCBjYW5ub3QgYmUgYWZmZWN0ZWQgYnkgZXhjZXB0aW9ucy5cblxuICAgIC8vIFRoZSBzdGFja3MgbmVlZHMgdG8gYmUgcmVzZXQuIFxuICAgIGxldCBwY21hcmtlciA9IGMucGNTdGFjay5tYXJrZXIoKTtcbiAgICBsZXQgdnNtYXJrZXIgPSBjLnZhbHVlU3RhY2subWFya2VyKCk7XG5cbiAgICBsZXQgZXhjID0gYy5sYWJlbHMuZXhjO1xuXG4gICAgLy8gZXNwcmltYSBzZWVtcyB0byBnZW5lcmF0ZSBhIGxpc3Qgb2YgaGFuZGxlcnMgLS0tIHN0YW5kYXJkIG9ubHkgc3VwcG9ydHMgb25lXG4gICAgLy9AdHMtaWdub3JlIFNZTlRBWFxuICAgIGlwLnRoZW4obmV3IFRyeVN0YXRlbWVudENhdGNoKG5vZGUuaGFuZGxlcnNbMF0sIHBjbWFya2VyLCB2c21hcmtlciwgZXhjKSk7XG5cbiAgICAvLyBUaGUgZmluYWxpemVyIFxuICAgIGxldCBsZXhpY2FsRW52ID0gYy5sZXhpY2FsRW52O1xuICAgIGlwLnRoZW4obmV3IFRyeVN0YXRlbWVudEZpbmFsbHkobm9kZS5maW5hbGl6ZXIsIHBjbWFya2VyLCB2c21hcmtlciwgbGV4aWNhbEVudikpO1xufVxuXG4vLyAtLS1cblxuY2xhc3MgVHJ5U3RhdGVtZW50Q2F0Y2ggZXh0ZW5kcyBUYXNrIHtcbiAgICBoYW5kbGVyOiBlc3RyZWUuQ2F0Y2hDbGF1c2U7XG4gICAgcGNtYXJrZXI6IFN0YWNrTWFya2VyO1xuICAgIHZzbWFya2VyOiBTdGFja01hcmtlcjtcbiAgICBleGM6IExhYmVsO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIGhhbmRsZXI6IGVzdHJlZS5DYXRjaENsYXVzZSxcbiAgICAgICAgcGNtYXJrZXI6IFN0YWNrTWFya2VyLFxuICAgICAgICB2c21hcmtlcjogU3RhY2tNYXJrZXIsXG4gICAgICAgIGV4YzogTGFiZWxcbiAgICApIHtcbiAgICAgICAgc3VwZXIoVGFzay5ydW5mb3JfdGhyb3cpO1xuICAgICAgICB0aGlzLmhhbmRsZXIgPSBoYW5kbGVyO1xuICAgICAgICB0aGlzLnBjbWFya2VyID0gcGNtYXJrZXI7XG4gICAgICAgIHRoaXMudnNtYXJrZXIgPSB2c21hcmtlcjtcbiAgICAgICAgdGhpcy5leGMgPSBleGM7XG4gICAgfVxuXG4gICAgRXhlY3V0ZSh3bDogV29ya0xpc3QsIHZzOiBWYWx1ZVN0YWNrKTogdm9pZCB7XG4gICAgICAgIGxldCBjID0gbW9uaXRvci5jb250ZXh0O1xuICAgICAgICBsZXQgcmVzdWx0ID0gYy5yZXN1bHQ7XG5cbiAgICAgICAgLy8gV2UgYXJlIGluIGNoYXJnZSBvZiByZXNldHRpbmcgdGhlIGV4YyBsYWJlbCwgdGhlIGZpbmFsbHkgZG9lcyB0aGUgcmVzdCBcbiAgICAgICAgLy8gb2YgdGhlIGNsZWFuaW5nLlxuXG4gICAgICAgIC8vIFRoZSBwYyBvZiB0aGUgY2F0Y2ggYmxvY2sgaXMgcGMgKyBleGMgb2YgYm9keVxuICAgICAgICBsZXQgaGFuZGxlclBDID0gbHViKGMubGFiZWxzLnBjLCBjLmxhYmVscy5leGMpO1xuXG4gICAgICAgIC8vIFRoZSBleGMgb2YgdGhlIGNhdGNoIGJsb2NrIGlzIHRoZSBleGMgb2YgX2NhdGNoLCB0aGF0IHJlc2V0cyB0aGUgZXhjXG4gICAgICAgIGMubGFiZWxzLmV4YyA9IHRoaXMuZXhjO1xuXG4gICAgICAgIC8vIGlmIHRoZXJlIGlzIG5vIGhhbmRsZXIgb3Igbm8gZXhjZXB0aW9uIHdhcyB0aHJvd24sIHRoZXJlJ3Mgbm90aGluZyBtb3JlIHRvIGRvXG4gICAgICAgIGlmICghdGhpcy5oYW5kbGVyIHx8IHJlc3VsdC50eXBlICE9PSAndGhyb3cnKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjLnBjU3RhY2sucmVzZXQodGhpcy5wY21hcmtlcik7XG4gICAgICAgIGMudmFsdWVTdGFjay5yZXNldCh0aGlzLnZzbWFya2VyKTtcblxuICAgICAgICBjLnBjU3RhY2sucHVzaChoYW5kbGVyUEMpO1xuXG4gICAgICAgIGxldCBjYXRjaEVudiA9IE5ld0RlY2xhcmF0aXZlRW52aXJvbm1lbnQoYy5sZXhpY2FsRW52KTtcblxuICAgICAgICAvLyBFQ01BLTI2MiBhbGxvd3Mgb25seSBpZGVuZmlmaWVycywgYnV0IHRoZSBwYXJzZXIgYWxsb3dzIHBhdHRlcm5zO1xuICAgICAgICBpZiAodGhpcy5oYW5kbGVyLnBhcmFtLnR5cGUgIT09ICdJZGVudGlmaWVyJykge1xuICAgICAgICAgICAgbW9uaXRvci5mYXRhbCgnUGF0dGVybiBpbiBjYXRjaCBub3Qgc3VwcG9ydGVkJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvL0B0cy1pZ25vcmUgU1lOVEFYXG4gICAgICAgIGxldCBpZGVudGlmaWVyID0gbmV3IFZhbHVlKHRoaXMuaGFuZGxlci5wYXJhbS5uYW1lLCBib3QpO1xuICAgICAgICBjYXRjaEVudi5DcmVhdGVNdXRhYmxlQmluZGluZyhpZGVudGlmaWVyKTtcbiAgICAgICAgY2F0Y2hFbnYuU2V0TXV0YWJsZUJpbmRpbmcoaWRlbnRpZmllciwgcmVzdWx0LnZhbHVlKTtcblxuICAgICAgICBjLmxleGljYWxFbnYgPSBuZXcgVmFsdWUoY2F0Y2hFbnYsIGMuZWZmZWN0aXZlUEMpO1xuXG4gICAgICAgIHJlc3VsdC50eXBlID0gJ25vcm1hbCc7XG4gICAgICAgIHJlc3VsdC52YWx1ZSA9IG51bGw7XG5cbiAgICAgICAgd2wucHVzaCh0aGlzLmhhbmRsZXIuYm9keSk7XG4gICAgfVxufVxuXG5cbi8vIC0tLVxuXG5jbGFzcyBUcnlTdGF0ZW1lbnRGaW5hbGx5IGV4dGVuZHMgVGFzayB7XG4gICAgYm9keTogZXN0cmVlLkJsb2NrU3RhdGVtZW50IHwgbnVsbCB8IHVuZGVmaW5lZDtcbiAgICBwY21hcmtlcjogU3RhY2tNYXJrZXI7XG4gICAgdnNtYXJrZXI6IFN0YWNrTWFya2VyO1xuICAgIGxleGljYWxFbnY6IFZhbHVlPExleGljYWxFbnZpcm9ubWVudD47XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgYm9keTogZXN0cmVlLkJsb2NrU3RhdGVtZW50IHwgbnVsbCB8IHVuZGVmaW5lZCxcbiAgICAgICAgcGNtYXJrZXI6IFN0YWNrTWFya2VyLFxuICAgICAgICB2c21hcmtlcjogU3RhY2tNYXJrZXIsXG4gICAgICAgIGxleGljYWxFbnY6IFZhbHVlPExleGljYWxFbnZpcm9ubWVudD5cbiAgICApIHtcbiAgICAgICAgc3VwZXIoVGFzay5ydW5mb3JfYWxsKTtcbiAgICAgICAgdGhpcy5ib2R5ID0gYm9keTtcbiAgICAgICAgdGhpcy5wY21hcmtlciA9IHBjbWFya2VyO1xuICAgICAgICB0aGlzLnZzbWFya2VyID0gdnNtYXJrZXI7XG4gICAgICAgIHRoaXMubGV4aWNhbEVudiA9IGxleGljYWxFbnY7XG4gICAgfVxuXG4gICAgRXhlY3V0ZSh3bDogV29ya0xpc3QsIHZzOiBWYWx1ZVN0YWNrKTogdm9pZCB7XG4gICAgICAgIGxldCBjID0gbW9uaXRvci5jb250ZXh0O1xuXG4gICAgICAgIC8vIFRoZSBwYyBvZiB0aGUgZmluYWxseSBpcyB0aGUgcGMgb2YgdGhlIHRyeS5cbiAgICAgICAgLy8gVGhlIGV4YyBvZiB0aGUgZmluYWxseSBpcyB0aGUgZXhjIG9mIHRoZSBfY2F0Y2gsIHdoaWNoIGlzIGVpdGhlclxuICAgICAgICAvLyB0aGUgZXhjIG9mIHRoZWVlIHRyeSwgdW5sZXNzIGl0IHdhcyByYWlzZWQgYnkgYSBoYW5kbGVyLCBpbiB3aGljaFxuICAgICAgICAvLyBjYXNlIGl0IGVzY2FwZXMgdGhlIHRyeSwgYW5kIHNob3VsZCBhZmZlY3QgdGhlIGZpbmFsbHkgdG9vLlxuXG4gICAgICAgIC8vIFdlIGFyZSBpbiBjaGFyZ2Ugb2YgcmVzZXR0aW5nIHRoZSBwY1N0YWNrLCBhbmQgdGhlIGxleGljYWxFbnYgXG4gICAgICAgIGMucGNTdGFjay5yZXNldCh0aGlzLnBjbWFya2VyKTtcbiAgICAgICAgYy52YWx1ZVN0YWNrLnJlc2V0KHRoaXMudnNtYXJrZXIpO1xuICAgICAgICBjLmxleGljYWxFbnYgPSB0aGlzLmxleGljYWxFbnY7XG5cblxuICAgICAgICAvLyBpZiB0aGVyZSBpcyBubyBmaW5hbGx5IGJsb2NrLCB3ZSdyZSBkb25lXG4gICAgICAgIGlmICghdGhpcy5ib2R5KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBbGxvY2F0ZSBhIG5ldyByZXN1bHQgLS0tIF9maW5hbGx5IGVudiBjaG9zZXMgYmV0d2VlbiB0aGUgcmVzdWx0XG4gICAgICAgIC8vIG9mIHRoZSBib2R5L2hhbmRsZXIsIGFuZCB0aGUgcmVzdWx0IG9mIHRoZSBmaW5hbGx5XG4gICAgICAgIGxldCByZXN1bHQgPSBjLnJlc3VsdDtcbiAgICAgICAgYy5yZXN1bHQgPSBuZXcgUmVzdWx0KCk7XG5cbiAgICAgICAgbGV0IGlwID0gYy53b3JrTGlzdC50b3AoKTtcblxuICAgICAgICBpcC50aGVuKHRoaXMuYm9keSk7XG4gICAgICAgIGlwLnRoZW4obmV3IFRyeVN0YXRlbWVudEZpbmFsbHlFbmQocmVzdWx0KSk7XG4gICAgfVxufVxuXG4vLyAtLS1cblxuY2xhc3MgVHJ5U3RhdGVtZW50RmluYWxseUVuZCBleHRlbmRzIFRhc2sge1xuICAgIHJlc3VsdDogUmVzdWx0O1xuXG4gICAgY29uc3RydWN0b3IocmVzdWx0OiBSZXN1bHQpIHtcbiAgICAgICAgc3VwZXIoVGFzay5ydW5mb3JfYWxsKTsgLy8gVE9ETzsgcmVhbGx5IGFsbD9cbiAgICAgICAgdGhpcy5yZXN1bHQgPSByZXN1bHQ7XG4gICAgfVxuXG4gICAgRXhlY3V0ZSh3bDogV29ya0xpc3QsIHZzOiBWYWx1ZVN0YWNrKTogdm9pZCB7XG4gICAgICAgIGxldCBjID0gbW9uaXRvci5jb250ZXh0O1xuXG4gICAgICAgIGlmIChjLnJlc3VsdC50eXBlID09PSAnbm9ybWFsJykge1xuICAgICAgICAgICAgYy5yZXN1bHQgPSB0aGlzLnJlc3VsdDtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuXG4iLCJpbXBvcnQgeyBNb25pdG9yQmFzZSB9IGZyb20gXCIuLi8uLi9Nb25pdG9yQmFzZVwiO1xuaW1wb3J0IHsgV29ya0xpc3QsIFZhbHVlU3RhY2sgfSBmcm9tIFwiLi4vLi4vQ29udGV4dFwiO1xuaW1wb3J0IHsgR2V0VmFsdWUgfSBmcm9tIFwiLi4vLi4vR2V0VmFsdWVcIjtcbmltcG9ydCB7IFB1dFZhbHVlIH0gZnJvbSBcIi4uLy4uL1B1dFZhbHVlXCI7XG5pbXBvcnQgeyBHZXRJZGVudGlmaWVyUmVmZXJlbmNlIH0gZnJvbSBcIi4uLy4uL0dldElkZW50aWZpZXJSZWZlcmVuY2VcIjtcbmltcG9ydCB7IFJlZmVyZW5jZSB9IGZyb20gXCIuLi8uLi9SZWZlcmVuY2VcIjtcblxuaW1wb3J0ICogYXMgZXN0cmVlIGZyb20gJ2VzdHJlZSc7XG5pbXBvcnQgeyBUYXNrIH0gZnJvbSBcIi4uL1Rhc2tcIjtcblxuZGVjbGFyZSB2YXIgbW9uaXRvcjogTW9uaXRvckJhc2U7XG5cbmV4cG9ydCBmdW5jdGlvbiB2YXJpYWJsZURlY2xhcmF0aW9uKFxuICAgIHRoaXM6IHZvaWQsXG4gICAgbm9kZTogZXN0cmVlLlZhcmlhYmxlRGVjbGFyYXRpb24sXG4gICAgd2w6IFdvcmtMaXN0LFxuICAgIHZzOiBWYWx1ZVN0YWNrXG4pOiB2b2lkIHtcbiAgICBsZXQgaXAgPSB3bC50b3AoKTtcblxuICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBub2RlLmRlY2xhcmF0aW9ucy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBsZXQgdmQgPSBub2RlLmRlY2xhcmF0aW9uc1tpXTtcbiAgICAgICAgaWYgKHZkLmluaXQpIHtcblxuICAgICAgICAgICAgaWYgKHZkLmlkLnR5cGUgIT09ICdJZGVudGlmaWVyJykge1xuICAgICAgICAgICAgICAgIG1vbml0b3IuZmF0YWwodmQuaWQudHlwZSArICcgbm90IHN1cHBvcnRlZCBpbiB2YXJpYWJsZSBkZWNsYXJhdGlvbnMnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy9AdHMtaWdub3JlIFNZTlRBWFxuICAgICAgICAgICAgbGV0IGxocyA9IEdldElkZW50aWZpZXJSZWZlcmVuY2UobW9uaXRvci5jb250ZXh0LmxleGljYWxFbnYsIHZkLmlkLm5hbWUpO1xuICAgICAgICAgICAgaXAudGhlbih2ZC5pbml0KTtcbiAgICAgICAgICAgIGlwLnRoZW4obmV3IFZhcmlhYmxlRGVjbGFyYXRpb25VcGRhdGUobGhzKSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8vIC0tLVxuXG5jbGFzcyBWYXJpYWJsZURlY2xhcmF0aW9uVXBkYXRlIGV4dGVuZHMgVGFzayB7XG4gICAgbGhzOiBSZWZlcmVuY2U7XG5cbiAgICBjb25zdHJ1Y3RvcihsaHM6IFJlZmVyZW5jZSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmxocyA9IGxocztcbiAgICB9XG5cbiAgICBFeGVjdXRlKHdsOiBXb3JrTGlzdCwgdnM6IFZhbHVlU3RhY2spOiB2b2lkIHtcbiAgICAgICAgLy9AdHMtaWdub3JlIFNUQUNLXG4gICAgICAgIGxldCByaHMgPSBHZXRWYWx1ZSh2cy5wb3AoKSk7XG4gICAgICAgIFB1dFZhbHVlKHRoaXMubGhzLCByaHMpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBNb25pdG9yQmFzZSB9IGZyb20gXCIuLi8uLi9Nb25pdG9yQmFzZVwiO1xuaW1wb3J0IHsgV29ya0xpc3QsIFZhbHVlU3RhY2sgfSBmcm9tIFwiLi4vLi4vQ29udGV4dFwiO1xuaW1wb3J0IHsgVGFzayB9IGZyb20gXCIuLi9UYXNrXCI7XG5pbXBvcnQgeyBMYWJlbCwgbHViIH0gZnJvbSBcIi4uLy4uL0xhYmVsXCI7XG5pbXBvcnQgeyBHZXRWYWx1ZSB9IGZyb20gXCIuLi8uLi9HZXRWYWx1ZVwiO1xuaW1wb3J0IHsgVG9Cb29sZWFuIH0gZnJvbSBcIi4uLy4uL0NvbnZlcnNpb24vVG9Cb29sZWFuXCI7XG5cbmltcG9ydCAqIGFzIGVzdHJlZSBmcm9tICdlc3RyZWUnO1xuaW1wb3J0IHsgU3RhY2tNYXJrZXIgfSBmcm9tIFwiLi4vLi4vU3RhY2tcIjtcblxuZGVjbGFyZSB2YXIgbW9uaXRvcjogTW9uaXRvckJhc2U7XG5cbmxldCBlbXB0eUxhYmVsID0gJ2RlZmF1bHQnOyAvLyBkZWZhdWx0IGlzIGEgcmVzZXJ2ZWQgd29yZCBzbyBubyBhY3R1YWwgbGFiZWwgY2FuIGJlIG5hbWVkIGRlZmF1bHQgXG5cbmludGVyZmFjZSBMYWJlbGVkV2hpbGVTdGF0ZW1lbnQgZXh0ZW5kcyBlc3RyZWUuV2hpbGVTdGF0ZW1lbnQge1xuICAgIGxhYmVsc2V0PzogU2V0PHN0cmluZz47XG59XG5cbmludGVyZmFjZSBMYWJlbGVkRG9XaGlsZVN0YXRlbWVudCBleHRlbmRzIGVzdHJlZS5Eb1doaWxlU3RhdGVtZW50IHtcbiAgICBsYWJlbHNldD86IFNldDxzdHJpbmc+O1xufVxubGV0IE15U2V0ID0gU2V0O1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZXhwb3J0IGZ1bmN0aW9uIHdoaWxlU3RhdGVtZW50KFxuICAgIG5vZGU6IExhYmVsZWRXaGlsZVN0YXRlbWVudCxcbiAgICB3bDogV29ya0xpc3QsXG4gICAgdnM6IFZhbHVlU3RhY2tcbik6IHZvaWQge1xuICAgIGxldCBjID0gbW9uaXRvci5jb250ZXh0O1xuICAgIGxldCBpcCA9IHdsLnRvcCgpO1xuXG4gICAgbGV0IGxtYXAgPSBjLmxhYmVscy5sYWJlbG1hcDtcblxuICAgIGlmICghbm9kZS5sYWJlbHNldCkge1xuICAgICAgICBub2RlLmxhYmVsc2V0ID0gbmV3IE15U2V0KFtdKTtcbiAgICB9XG4gICAgbm9kZS5sYWJlbHNldC5hZGQoZW1wdHlMYWJlbCk7XG5cbiAgICBsZXQgb3V0ZXJFbXB0eUxhYmVsRGF0YSA9IGxtYXBbZW1wdHlMYWJlbF07XG4gICAgbG1hcFtlbXB0eUxhYmVsXSA9IHtcbiAgICAgICAgbGFiZWw6IGMuZWZmZWN0aXZlUEMsXG4gICAgICAgIHBjbWFya2VyOiBjLnBjU3RhY2subWFya2VyKClcbiAgICB9O1xuXG4gICAgbGV0IGNvbnRleHRMYWJlbCA9IGxtYXBbZW1wdHlMYWJlbF0ubGFiZWw7XG4gICAgYy5wdXNoUEMoY29udGV4dExhYmVsKTtcblxuICAgIGlwLnRoZW4obmV3IFdoaWxlU3RhdGVtZW50U2hhcmVkKG5vZGUsIG91dGVyRW1wdHlMYWJlbERhdGEpKTtcbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmV4cG9ydCBmdW5jdGlvbiBkb1doaWxlU3RhdGVtZW50KFxuICAgIG5vZGU6IExhYmVsZWREb1doaWxlU3RhdGVtZW50LFxuICAgIHdsOiBXb3JrTGlzdCxcbiAgICB2czogVmFsdWVTdGFja1xuKTogdm9pZCB7XG4gICAgbGV0IGMgPSBtb25pdG9yLmNvbnRleHQ7XG4gICAgbGV0IGlwID0gd2wudG9wKCk7XG5cbiAgICBsZXQgbG1hcCA9IGMubGFiZWxzLmxhYmVsbWFwO1xuXG4gICAgaWYgKCFub2RlLmxhYmVsc2V0KSB7XG4gICAgICAgIG5vZGUubGFiZWxzZXQgPSBuZXcgTXlTZXQoW10pO1xuICAgIH1cbiAgICBub2RlLmxhYmVsc2V0LmFkZChlbXB0eUxhYmVsKTtcblxuICAgIGxldCBvdXRlckVtcHR5TGFiZWxEYXRhID0gbG1hcFtlbXB0eUxhYmVsXTtcbiAgICBsbWFwW2VtcHR5TGFiZWxdID0ge1xuICAgICAgICBsYWJlbDogYy5lZmZlY3RpdmVQQyxcbiAgICAgICAgcGNtYXJrZXI6IGMucGNTdGFjay5tYXJrZXIoKVxuICAgIH07XG5cbiAgICAvLyB1c2VkIGZvciBib3RoIHN0YXRlbWVudCBsYWJlbCBzZWN1cml0eSBsYWJlbHMgYW5kIGNvbnRyb2wgc2VjdXJpdHkgbGFiZWxcbiAgICBsZXQgY29udGV4dExhYmVsID0gbG1hcFtlbXB0eUxhYmVsXS5sYWJlbDtcbiAgICBjLnB1c2hQQyhjb250ZXh0TGFiZWwpO1xuXG4gICAgaXAudGhlbihub2RlLmJvZHkpO1xuICAgIGlwLnRoZW4obmV3IFdoaWxlU3RhdGVtZW50U2hhcmVkKG5vZGUsIG91dGVyRW1wdHlMYWJlbERhdGEpKTtcbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmNsYXNzIFdoaWxlU3RhdGVtZW50U2hhcmVkIGV4dGVuZHMgVGFzayB7XG4gICAgbm9kZTogTGFiZWxlZFdoaWxlU3RhdGVtZW50IHwgTGFiZWxlZERvV2hpbGVTdGF0ZW1lbnQ7XG4gICAgb3V0ZXJFbXB0eUxhYmVsRGF0YTogeyBsYWJlbDogTGFiZWwsIHBjbWFya2VyOiBTdGFja01hcmtlciB9O1xuXG4gICAgY2hvc2VyIDogV2hpbGVTdGF0ZW1lbnRTaGFyZWRDaG9vc2U7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgbm9kZTogTGFiZWxlZFdoaWxlU3RhdGVtZW50IHwgTGFiZWxlZERvV2hpbGVTdGF0ZW1lbnQsXG4gICAgICAgIG91dGVyRW1wdHlMYWJlbERhdGE6IHsgbGFiZWw6IExhYmVsLCBwY21hcmtlcjogU3RhY2tNYXJrZXIgfVxuICAgICkge1xuICAgICAgICBzdXBlcihUYXNrLnJ1bmZvcl9jb250aW51ZV9icmVhayk7XG4gICAgICAgIHRoaXMubm9kZSA9IG5vZGU7XG4gICAgICAgIHRoaXMub3V0ZXJFbXB0eUxhYmVsRGF0YSA9IG91dGVyRW1wdHlMYWJlbERhdGE7XG5cbiAgICAgICAgdGhpcy5jaG9zZXIgPSBuZXcgV2hpbGVTdGF0ZW1lbnRTaGFyZWRDaG9vc2UodGhpcyk7XG4gICAgfVxuXG4gICAgRXhlY3V0ZSh3bDogV29ya0xpc3QsIHZzOiBWYWx1ZVN0YWNrKTogdm9pZCB7XG5cbiAgICAgICAgbGV0IGlwID0gd2wudG9wKCk7XG5cbiAgICAgICAgbGV0IGMgPSBtb25pdG9yLmNvbnRleHQ7XG4gICAgICAgIGxldCByZXN1bHQgPSBjLnJlc3VsdDtcblxuICAgICAgICBpZiAocmVzdWx0LnR5cGUgPT09ICdicmVhaycgJiYgdGhpcy5ub2RlLmxhYmVsc2V0IS5oYXMocmVzdWx0LnRhcmdldCkpIHtcbiAgICAgICAgICAgIHJlc3VsdC50eXBlID0gJ25vcm1hbCc7XG4gICAgICAgICAgICByZXN1bHQudGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgICAgIGMubGFiZWxzLmxhYmVsbWFwW2VtcHR5TGFiZWxdID0gdGhpcy5vdXRlckVtcHR5TGFiZWxEYXRhO1xuICAgICAgICAgICAgYy5wb3BQQygpOyAvLyBjb250ZXh0TGFiZWxcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyZXN1bHQudHlwZSAhPT0gJ2NvbnRpbnVlJyB8fCAhdGhpcy5ub2RlLmxhYmVsc2V0IS5oYXMocmVzdWx0LnRhcmdldCkpIHtcbiAgICAgICAgICAgIGlmIChyZXN1bHQudHlwZSAhPT0gJ25vcm1hbCcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjb250aW51ZSBnZXRzIHVzIGhlcmVcbiAgICAgICAgcmVzdWx0LnR5cGUgPSAnbm9ybWFsJztcbiAgICAgICAgcmVzdWx0LnRhcmdldCA9IG51bGw7XG5cbiAgICAgICAgaXAudGhlbih0aGlzLm5vZGUudGVzdCk7XG4gICAgICAgIGlwLnRoZW4odGhpcy5jaG9zZXIpO1xuXG4gICAgfVxufVxuXG4vLyAtLS1cblxuY2xhc3MgV2hpbGVTdGF0ZW1lbnRTaGFyZWRDaG9vc2UgZXh0ZW5kcyBUYXNrIHtcbiAgICBjb250cm9sbGVyIDogV2hpbGVTdGF0ZW1lbnRTaGFyZWQ7XG5cbiAgICBjb25zdHJ1Y3Rvcihjb250cm9sbGVyIDogV2hpbGVTdGF0ZW1lbnRTaGFyZWQpIHtcbiAgICAgICAgc3VwZXIoVGFzay5ydW5mb3JfY29udGludWUpO1xuICAgICAgICB0aGlzLmNvbnRyb2xsZXIgPSBjb250cm9sbGVyO1xuICAgIH1cblxuICAgIEV4ZWN1dGUod2w6IFdvcmtMaXN0LCB2czogVmFsdWVTdGFjayk6IHZvaWQge1xuXG4gICAgICAgIGxldCBjID0gbW9uaXRvci5jb250ZXh0O1xuXG4gICAgICAgIC8vQHRzLWlnbm9yZSBTVEFDS1xuICAgICAgICBsZXQgY29uZCA9IEdldFZhbHVlKHZzLnBvcCgpKTtcbiAgICAgICAgbGV0IGNvbmRiID0gVG9Cb29sZWFuKGNvbmQpO1xuXG4gICAgICAgIGMubGFiZWxzLnBjID0gbHViKGMubGFiZWxzLnBjLCBjb25kYi5sYWJlbCk7XG4gICAgICAgIGlmIChjb25kYi52YWx1ZSkge1xuICAgICAgICAgICAgbGV0IGlwID0gd2wudG9wKCk7XG5cbiAgICAgICAgICAgIGlwLnRoZW4odGhpcy5jb250cm9sbGVyLm5vZGUuYm9keSk7XG4gICAgICAgICAgICBpcC50aGVuKHRoaXMuY29udHJvbGxlcik7XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGMubGFiZWxzLmxhYmVsbWFwW2VtcHR5TGFiZWxdID0gdGhpcy5jb250cm9sbGVyLm91dGVyRW1wdHlMYWJlbERhdGE7XG4gICAgICAgICAgICBjLnBvcFBDKCk7IC8vIGNvbnRleHRMYWJlbFxuICAgICAgICB9XG4gICAgfVxufSIsImltcG9ydCB7IE1vbml0b3JCYXNlIH0gZnJvbSBcIi4uLy4uL01vbml0b3JCYXNlXCI7XG5pbXBvcnQgeyBXb3JrTGlzdCwgVmFsdWVTdGFjayB9IGZyb20gXCIuLi8uLi9Db250ZXh0XCI7XG5pbXBvcnQgeyBUYXNrIH0gZnJvbSBcIi4uL1Rhc2tcIjtcbmltcG9ydCB7IEdldFZhbHVlIH0gZnJvbSBcIi4uLy4uL0dldFZhbHVlXCI7XG5pbXBvcnQgeyBUb09iamVjdCB9IGZyb20gXCIuLi8uLi9Db252ZXJzaW9uL1RvT2JqZWN0XCI7XG5pbXBvcnQgeyBOZXdPYmplY3RFbnZpcm9ubWVudCB9IGZyb20gXCIuLi8uLi9PYmplY3RFbnZpcm9ubWVudFJlY29yZFwiO1xuaW1wb3J0IHsgVmFsdWUgfSBmcm9tIFwiLi4vLi4vVmFsdWVcIjtcbmltcG9ydCB7IExleGljYWxFbnZpcm9ubWVudCB9IGZyb20gXCIuLi8uLi9MZXhpY2FsRW52aXJvbm1lbnRcIjtcblxuaW1wb3J0ICogYXMgZXN0cmVlIGZyb20gJ2VzdHJlZSc7XG5cbmRlY2xhcmUgdmFyIG1vbml0b3I6IE1vbml0b3JCYXNlO1xuLy8gMTIuMTAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmV4cG9ydCBmdW5jdGlvbiB3aXRoU3RhdGVtZW50KFxuICAgIG5vZGU6IGVzdHJlZS5XaXRoU3RhdGVtZW50LFxuICAgIHdsOiBXb3JrTGlzdCxcbiAgICB2czogVmFsdWVTdGFja1xuKTogdm9pZCB7XG4gICAgbGV0IGlwID0gd2wudG9wKCk7XG5cbiAgICBpcC50aGVuKG5vZGUub2JqZWN0KTtcbiAgICBpcC50aGVuKG5ldyBXaXRoU3RhdGVtZW50Qm9keShub2RlKSk7XG59XG5cbi8vIC0tLVxuXG5jbGFzcyBXaXRoU3RhdGVtZW50Qm9keSBleHRlbmRzIFRhc2sge1xuICAgIG5vZGU6IGVzdHJlZS5XaXRoU3RhdGVtZW50O1xuXG4gICAgY29uc3RydWN0b3Iobm9kZTogZXN0cmVlLldpdGhTdGF0ZW1lbnQpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5ub2RlID0gbm9kZTtcbiAgICB9XG5cbiAgICBFeGVjdXRlKHdsOiBXb3JrTGlzdCwgdnM6IFZhbHVlU3RhY2spOiB2b2lkIHtcbiAgICAgICAgbGV0IGlwID0gd2wudG9wKCk7XG4gICAgICAgIGxldCBjID0gbW9uaXRvci5jb250ZXh0O1xuXG4gICAgICAgIC8vQHRzLWlnbm9yZSBTVEFDS1xuICAgICAgICBsZXQgdmFsID0gR2V0VmFsdWUodnMucG9wKCkpO1xuICAgICAgICBsZXQgb2JqID0gVG9PYmplY3QodmFsKTtcblxuICAgICAgICBsZXQgb2xkRW52ID0gYy5sZXhpY2FsRW52O1xuICAgICAgICBsZXQgbmV3RW52ID0gTmV3T2JqZWN0RW52aXJvbm1lbnQob2JqLCBvbGRFbnYpO1xuICAgICAgICBuZXdFbnYucHJvdmlkZVRoaXMoKTtcblxuICAgICAgICBjLmxleGljYWxFbnYgPSBuZXcgVmFsdWUobmV3RW52LCBvYmoubGFiZWwpO1xuXG4gICAgICAgIGlwLnRoZW4odGhpcy5ub2RlLmJvZHkpO1xuICAgICAgICBpcC50aGVuKG5ldyBXaXRoU3RhdGVtZW50RW5kKG9sZEVudikpO1xuICAgIH1cbn1cblxuLy8gd2l0aFN0YXRlbWVudEVuZFxuXG5jbGFzcyBXaXRoU3RhdGVtZW50RW5kIGV4dGVuZHMgVGFzayB7XG4gICAgbGV4aWNhbEVudjogVmFsdWU8TGV4aWNhbEVudmlyb25tZW50PjtcblxuICAgIGNvbnN0cnVjdG9yKGxleGljYWxFbnY6IFZhbHVlPExleGljYWxFbnZpcm9ubWVudD4pIHtcbiAgICAgICAgc3VwZXIoVGFzay5ydW5mb3JfY29udGludWVfYnJlYWspO1xuICAgICAgICB0aGlzLmxleGljYWxFbnYgPSBsZXhpY2FsRW52O1xuICAgIH1cblxuICAgIEV4ZWN1dGUod2w6IFdvcmtMaXN0LCB2czogVmFsdWVTdGFjayk6IHZvaWQge1xuICAgICAgICBtb25pdG9yLmNvbnRleHQubGV4aWNhbEVudiA9IHRoaXMubGV4aWNhbEVudjtcbiAgICB9XG59IiwiaW1wb3J0IHsgV29ya0xpc3QsIFZhbHVlU3RhY2sgfSBmcm9tIFwiLi4vQ29udGV4dFwiO1xuaW1wb3J0IHsgVmFsdWUgfSBmcm9tIFwiLi4vVmFsdWVcIjtcbmltcG9ydCB7IFZhbHVlVHlwZXMgfSBmcm9tIFwiLi4vSW50ZXJmYWNlc1wiO1xuaW1wb3J0IHsgUmVmZXJlbmNlIH0gZnJvbSBcIi4uL1JlZmVyZW5jZVwiO1xuaW1wb3J0IHsgVG9OdW1iZXIgfSBmcm9tIFwiLi4vQ29udmVyc2lvbi9Ub051bWJlclwiO1xuaW1wb3J0IHsgR2V0VmFsdWUgfSBmcm9tIFwiLi4vR2V0VmFsdWVcIjtcbmltcG9ydCB7IFRvQm9vbGVhbiB9IGZyb20gXCIuLi9Db252ZXJzaW9uL1RvQm9vbGVhblwiO1xuaW1wb3J0IHsgVG9JbnQzMiB9IGZyb20gXCIuLi9Db252ZXJzaW9uL1RvSW50MzJcIjtcbmltcG9ydCB7IGJvdCB9IGZyb20gXCIuLi9MYWJlbFwiO1xuaW1wb3J0IHsgVG9PYmplY3QgfSBmcm9tIFwiLi4vQ29udmVyc2lvbi9Ub09iamVjdFwiO1xuaW1wb3J0IHsgUHV0VmFsdWUgfSBmcm9tIFwiLi4vUHV0VmFsdWVcIjtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gVW5hcnkgb3BlcmF0b3JzXG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFVuYXJ5IC0sIDExLjQuN1xuXG5mdW5jdGlvbiB1bmFyeU1pbnVzKHdsOiBXb3JrTGlzdCwgdnM6IFZhbHVlU3RhY2spOiB2b2lkIHtcbiAgICBsZXQgcmVmID0gdnMucG9wKCk7XG4gICAgLy9AdHMtaWdub3JlIFNUQUNLXG4gICAgbGV0IG4gPSBUb051bWJlcihHZXRWYWx1ZShyZWYpKTtcbiAgICBuLnZhbHVlID0gLW4udmFsdWU7XG4gICAgdnMucHVzaChuKTtcbiAgfVxuICBcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyBVbmFyeSArLCAxMS40LjZcbiAgXG4gIGZ1bmN0aW9uIHVuYXJ5UGx1cyh3bDogV29ya0xpc3QsIHZzOiBWYWx1ZVN0YWNrKTogdm9pZCB7XG4gICAgbGV0IHJlZiA9IHZzLnBvcCgpO1xuICAgIC8vQHRzLWlnbm9yZSBTVEFDS1xuICAgIGxldCBuID0gVG9OdW1iZXIoR2V0VmFsdWUocmVmKSk7XG4gICAgdnMucHVzaChuKTtcbiAgfVxuICBcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyBMb2dpY2FsIE5PVCwgMTEuNC45XG4gIFxuICBmdW5jdGlvbiB1bmFyeUxvZ2ljYWxOb3Qod2w6IFdvcmtMaXN0LCB2czogVmFsdWVTdGFjayk6IHZvaWQge1xuICAgIGxldCByZWYgPSB2cy5wb3AoKTtcbiAgICAvL0B0cy1pZ25vcmUgU1RBQ0tcbiAgICBsZXQgYiA9IFRvQm9vbGVhbihHZXRWYWx1ZShyZWYpKTtcbiAgICBiLnZhbHVlID0gIWIudmFsdWU7XG4gICAgdnMucHVzaChiKTtcbiAgfVxuICBcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyBCaXR3aXNlIE5PVCwgMTEuNC44XG4gIFxuICBmdW5jdGlvbiB1bmFyeUJpdHdpc2VOb3Qod2w6IFdvcmtMaXN0LCB2czogVmFsdWVTdGFjayk6IHZvaWQge1xuICAgIGxldCByZWYgPSB2cy5wb3AoKTtcbiAgICAvL0B0cy1pZ25vcmUgU1RBQ0tcbiAgICBsZXQgbiA9IFRvSW50MzIoR2V0VmFsdWUocmVmKSk7XG4gICAgbi52YWx1ZSA9IH5uLnZhbHVlO1xuICAgIHZzLnB1c2gobik7XG4gIH1cbiAgXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gVGhlIHR5cGVvZiBPcGVyYXRvciwgMTEuNC4zXG4gIFxuICBmdW5jdGlvbiB1bmFyeVR5cGVvZih3bDogV29ya0xpc3QsIHZzOiBWYWx1ZVN0YWNrKTogdm9pZCB7XG4gICAgbGV0IHJlZiA9IHZzLnBvcCgpO1xuICBcbiAgICBpZiAocmVmIGluc3RhbmNlb2YgUmVmZXJlbmNlICYmIHJlZi5Jc1VucmVzb2x2YWJsZVJlZmVyZW5jZSgpKSB7XG4gICAgICB2cy5wdXNoKG5ldyBWYWx1ZSgndW5kZWZpbmVkJywgcmVmLmJhc2UubGFiZWwpKTtcbiAgICB9IGVsc2Uge1xuICBcbiAgICAgIGxldCB2YWw6IFZhbHVlPFZhbHVlVHlwZXM+O1xuICBcbiAgICAgIGlmIChyZWYgaW5zdGFuY2VvZiBSZWZlcmVuY2UpIHtcbiAgICAgICAgdmFsID0gR2V0VmFsdWUocmVmKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vQHRzLWlnbm9yZSBUWVBFU1xuICAgICAgICB2YWwgPSByZWY7XG4gICAgICB9XG4gIFxuICAgICAgaWYgKHZhbC52YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICB2cy5wdXNoKG5ldyBWYWx1ZSgnb2JqZWN0JywgdmFsLmxhYmVsKSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgXG4gICAgICBpZiAodHlwZW9mIHZhbC52YWx1ZSA9PT0gJ29iamVjdCcpIHtcbiAgXG4gICAgICAgIC8vIFRPRE86IHVzZSB0eXBlIHByZWRpY2F0ZVxuICAgICAgICBpZiAoJ0NhbGwnIGluIHZhbC52YWx1ZSkge1xuICAgICAgICAgIHZzLnB1c2gobmV3IFZhbHVlKCdmdW5jdGlvbicsIHZhbC5sYWJlbCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZzLnB1c2gobmV3IFZhbHVlKCdvYmplY3QnLCB2YWwubGFiZWwpKTtcbiAgICAgICAgfVxuICBcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZzLnB1c2gobmV3IFZhbHVlKHR5cGVvZiB2YWwudmFsdWUsIHZhbC5sYWJlbCkpO1xuICAgICAgfVxuICAgIH1cbiAgXG4gIH1cbiAgXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gVGhlIHZvaWQgT3BlcmF0b3IsIDExLjQuMlxuICBcbiAgZnVuY3Rpb24gdW5hcnlWb2lkKHdsOiBXb3JrTGlzdCwgdnM6IFZhbHVlU3RhY2spOiB2b2lkIHtcbiAgICBsZXQgcmVmID0gdnMucG9wKCk7XG4gICAgLy9AdHMtaWdub3JlIFNUQUNLXG4gICAgbGV0IF9pZ25vcmUgPSBHZXRWYWx1ZShyZWYpO1xuICAgIHZzLnB1c2gobmV3IFZhbHVlKHVuZGVmaW5lZCwgYm90KSk7XG4gIH1cbiAgXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gVGhlIGRlbGV0ZSBPcGVyYXRvciwgMTEuNC4xXG4gIFxuICBmdW5jdGlvbiB1bmFyeURlbGV0ZSh3bDogV29ya0xpc3QsIHZzOiBWYWx1ZVN0YWNrKTogdm9pZCB7XG4gICAgbGV0IHJlZiA9IHZzLnBvcCgpO1xuICBcbiAgICBpZiAocmVmIGluc3RhbmNlb2YgUmVmZXJlbmNlKSB7XG4gIFxuICAgICAgaWYgKHJlZi5Jc1VucmVzb2x2YWJsZVJlZmVyZW5jZSgpKSB7XG4gICAgICAgIHZzLnB1c2gobmV3IFZhbHVlKHRydWUsIHJlZi5iYXNlLmxhYmVsKSk7XG4gICAgICB9IGVsc2Uge1xuICBcbiAgICAgICAgaWYgKHJlZi5Jc1Byb3BlcnR5UmVmZXJlbmNlKCkpIHtcbiAgICAgICAgICBsZXQgb2JqZWN0ID0gVG9PYmplY3QocmVmLmJhc2UpO1xuICAgICAgICAgIHZzLnB1c2gob2JqZWN0LkRlbGV0ZShyZWYucHJvcGVydHlOYW1lKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdnMucHVzaChyZWYuYmFzZS5EZWxldGVCaW5kaW5nKHJlZi5wcm9wZXJ0eU5hbWUpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICBcbiAgICB9IGVsc2Uge1xuICAgICAgLy9AdHMtaWdub3JlIFRZUEVTXG4gICAgICB2cy5wdXNoKG5ldyBWYWx1ZSh0cnVlLCByZWYubGFiZWwpKTtcbiAgICB9XG4gIH1cbiAgXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgXG4gIGV4cG9ydCB2YXIgdW5hcnl0YmwgPSB7XG4gICAgJy0nOiB1bmFyeU1pbnVzLFxuICAgICcrJzogdW5hcnlQbHVzLFxuICAgICchJzogdW5hcnlMb2dpY2FsTm90LFxuICAgICd+JzogdW5hcnlCaXR3aXNlTm90LFxuICAgICd0eXBlb2YnOiB1bmFyeVR5cGVvZixcbiAgICAndm9pZCc6IHVuYXJ5Vm9pZCxcbiAgICAnZGVsZXRlJzogdW5hcnlEZWxldGVcbiAgfTtcblxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIFxuLy8gUHJlZml4LCBhbmQgUG9zdGZpeCBFeHByZXNzaW9ucywgMTEuMywgMTEuNC40LCAxMS40LjVcblxuZnVuY3Rpb24gcHJlZml4T3BzKFxuICAgIG9wOiBcIisrXCIgfCBcIi0tXCIsXG4gICAgd2w6IFdvcmtMaXN0LFxuICAgIHZzOiBWYWx1ZVN0YWNrXG4gICk6IHZvaWQge1xuICAgIC8vQHRzLWlnbm9yZVxuICAgIGxldCByZWY6IFJlZmVyZW5jZSA9IHZzLnBvcCgpO1xuICAgIGxldCBvbGRWYWx1ZSA9IFRvTnVtYmVyKEdldFZhbHVlKHJlZikpO1xuICAgIGxldCB2YWwgPSBvcCA9PT0gJysrJyA/IG9sZFZhbHVlLnZhbHVlICsgMSA6IG9sZFZhbHVlLnZhbHVlIC0gMTtcbiAgICBsZXQgbmV3VmFsdWUgPSBuZXcgVmFsdWUodmFsLCBvbGRWYWx1ZS5sYWJlbCk7XG4gICAgUHV0VmFsdWUocmVmLCBuZXdWYWx1ZSk7XG4gIFxuICAgIHZzLnB1c2gobmV3VmFsdWUpO1xuICB9XG4gIFxuICBmdW5jdGlvbiBwb3N0Zml4T3BzKFxuICAgIG9wOiBcIisrXCIgfCBcIi0tXCIsXG4gICAgd2w6IFdvcmtMaXN0LFxuICAgIHZzOiBWYWx1ZVN0YWNrXG4gICk6IHZvaWQge1xuICAgIC8vQHRzLWlnbm9yZVxuICAgIGxldCByZWY6IFJlZmVyZW5jZSA9IHZzLnBvcCgpO1xuICAgIGxldCBvbGRWYWx1ZSA9IFRvTnVtYmVyKEdldFZhbHVlKHJlZikpO1xuICAgIGxldCB2YWwgPSBvcCA9PT0gJysrJyA/IG9sZFZhbHVlLnZhbHVlICsgMSA6IG9sZFZhbHVlLnZhbHVlIC0gMTtcbiAgICBsZXQgbmV3VmFsdWUgPSBuZXcgVmFsdWUodmFsLCBvbGRWYWx1ZS5sYWJlbCk7XG4gICAgUHV0VmFsdWUocmVmLCBuZXdWYWx1ZSk7XG4gIFxuICAgIHZzLnB1c2gob2xkVmFsdWUpO1xuICB9XG4gIFxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIFxuICBleHBvcnQgdmFyIHByZWZpeHRibCA9IHtcbiAgICAnKysnOiBwcmVmaXhPcHMuYmluZChudWxsLCAnKysnKSxcbiAgICAnLS0nOiBwcmVmaXhPcHMuYmluZChudWxsLCAnLS0nKVxuICB9O1xuICBcbiAgZXhwb3J0IHZhciBwb3N0Zml4dGJsID0ge1xuICAgICcrKyc6IHBvc3RmaXhPcHMuYmluZChudWxsLCAnKysnKSxcbiAgICAnLS0nOiBwb3N0Zml4T3BzLmJpbmQobnVsbCwgJy0tJylcbiAgfTsiLCIvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG50eXBlIEpTRmxvd0Vycm9yVHlwZSA9ICdTZWN1cml0eUVycm9yJyB8ICdGYXRhbEVycm9yJztcblxuLy8gSlNGbG93RXJyb3IgYXJlIGVycm9ycyB0aGF0IGNhbm5vdCBiZSBjYXVnaHQsIGFuZCBjYXVzZXMgdGVybWluYXRpb24gb2YgdGhlIGV4ZWN1dGlvblxuXG5leHBvcnQgaW50ZXJmYWNlIEpTRmxvd0Vycm9yIGV4dGVuZHMgRXJyb3Ige1xuICB0eXBlOiBKU0Zsb3dFcnJvclR5cGU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0pTRmxvd0Vycm9yKGU6IGFueSk6IGUgaXMgSlNGbG93RXJyb3Ige1xuICByZXR1cm4gZSAhPT0gdW5kZWZpbmVkICYmIGUgIT09IG51bGwgJiYgZS50eXBlICE9PSB1bmRlZmluZWQ7XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmV4cG9ydCBjbGFzcyBTZWN1cml0eUVycm9yIGV4dGVuZHMgRXJyb3IgaW1wbGVtZW50cyBKU0Zsb3dFcnJvciB7XG4gIHR5cGU6IEpTRmxvd0Vycm9yVHlwZTtcblxuICBjb25zdHJ1Y3Rvcihtc2c6IHN0cmluZykge1xuICAgIHN1cGVyKG1zZyk7XG4gICAgdGhpcy50eXBlID0gJ1NlY3VyaXR5RXJyb3InO1xuICB9XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmV4cG9ydCBjbGFzcyBGYXRhbEVycm9yIGV4dGVuZHMgRXJyb3IgaW1wbGVtZW50cyBKU0Zsb3dFcnJvciB7XG4gIHR5cGU6IEpTRmxvd0Vycm9yVHlwZTtcblxuICBjb25zdHJ1Y3Rvcihtc2c6IHN0cmluZykge1xuICAgIHN1cGVyKG1zZyk7XG4gICAgdGhpcy50eXBlID0gJ0ZhdGFsRXJyb3InO1xuICB9XG59IiwiaW1wb3J0IHsgYm90IH0gZnJvbSBcIi4vTGFiZWxcIjtcbmltcG9ydCB7IFJlZmVyZW5jZSB9IGZyb20gXCIuL1JlZmVyZW5jZVwiO1xuaW1wb3J0IHsgVmFsdWUgfSBmcm9tIFwiLi9WYWx1ZVwiO1xuaW1wb3J0IHsgTW9uaXRvckJhc2UgfSBmcm9tIFwiLi9Nb25pdG9yQmFzZVwiO1xuaW1wb3J0IHsgTGV4aWNhbEVudmlyb25tZW50IH0gZnJvbSBcIi4vTGV4aWNhbEVudmlyb25tZW50XCI7XG5cbmRlY2xhcmUgdmFyIG1vbml0b3I6IE1vbml0b3JCYXNlO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEdldElkZW50aWZpZXJSZWZlcmVuY2UsIDEwLjIuMi4xXG5cbmV4cG9ydCBmdW5jdGlvbiBHZXRJZGVudGlmaWVyUmVmZXJlbmNlKHAgOiBWYWx1ZTxMZXhpY2FsRW52aXJvbm1lbnQ+LCB4IDogc3RyaW5nKSA6IFJlZmVyZW5jZSB7XG5cbiAgICBpZiAoIXApIHtcbiAgICAgIG1vbml0b3IuZmF0YWwoJ0dldElkZW50aWZpZXJSZWZlcmVuY2U6IHAgdW5kZWZpbmVkIG9yIG51bGwgZm9yICcgKyB4KTtcbiAgICB9XG4gIFxuICAgIGlmIChwLnZhbHVlID09IG51bGwpIHtcbiAgICAgIHJldHVybiBuZXcgUmVmZXJlbmNlKG5ldyBWYWx1ZSh1bmRlZmluZWQsIHAubGFiZWwpLFxuICAgICAgICBuZXcgVmFsdWUoeCwgYm90KSk7XG4gICAgfVxuICBcbiAgICB2YXIgZXJwID0gbmV3IFZhbHVlKHAudmFsdWUuRW52aXJvbm1lbnRSZWNvcmQsIHAubGFiZWwpO1xuICBcbiAgICB2YXIgYiA9IGVycC5IYXNCaW5kaW5nKG5ldyBWYWx1ZSh4LCBib3QpKTtcbiAgICBpZiAoYi52YWx1ZSkge1xuICAgICAgZXJwLmxhYmVsID0gYi5sYWJlbDtcbiAgICAgIHJldHVybiBuZXcgUmVmZXJlbmNlKGVycCwgbmV3IFZhbHVlKHgsIGJvdCkpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHZhciByZXMgPSBHZXRJZGVudGlmaWVyUmVmZXJlbmNlKHAudmFsdWUuT3V0ZXJMZXhpY2FsRW52aXJvbm1lbnQsIHgpO1xuICAgICAgcmVzLmJhc2UucmFpc2UoYi5sYWJlbCk7XG4gICAgICByZXR1cm4gcmVzO1xuICAgIH1cbiAgfVxuICAiLCJpbXBvcnQgeyBSZWZlcmVuY2UgfSBmcm9tIFwiLi9SZWZlcmVuY2VcIjtcbmltcG9ydCB7IFZhbHVlIH0gZnJvbSBcIi4vVmFsdWVcIjtcbmltcG9ydCB7IFRvT2JqZWN0IH0gZnJvbSAnLi9Db252ZXJzaW9uL1RvT2JqZWN0JztcbmltcG9ydCB7IGx1YiB9IGZyb20gJy4vTGFiZWwnO1xuaW1wb3J0IHsgSXNEYXRhRGVzY3JpcHRvciB9IGZyb20gJy4vUHJvcGVydHlEZXNjcmlwdG9yJztcbmltcG9ydCB7IFZhbHVlVHlwZXMgfSBmcm9tIFwiLi9JbnRlcmZhY2VzXCI7XG5pbXBvcnQgeyBNb25pdG9yQmFzZSB9IGZyb20gXCIuL01vbml0b3JCYXNlXCI7XG5cbmRlY2xhcmUgdmFyIG1vbml0b3I6IE1vbml0b3JCYXNlO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEdldFZhbHVlLCA4LjcuMVxuXG5cbmV4cG9ydCBmdW5jdGlvbiBHZXRWYWx1ZSh2OiBWYWx1ZTxWYWx1ZVR5cGVzPiB8IFJlZmVyZW5jZSApIDogVmFsdWU8VmFsdWVUeXBlcz47XG5leHBvcnQgZnVuY3Rpb24gR2V0VmFsdWUodj8gOiBWYWx1ZTxWYWx1ZVR5cGVzPiB8IFJlZmVyZW5jZSApIDogVmFsdWU8VmFsdWVUeXBlcz4gfCB1bmRlZmluZWQge1xuICAgIGlmICghdiB8fCAhKHYgaW5zdGFuY2VvZiBSZWZlcmVuY2UpKSB7XG4gICAgICAvL0B0cy1pZ25vcmUgVFlQRVNcbiAgICAgIHJldHVybiB2O1xuICAgIH1cbiAgXG4gICAgaWYgKHYuYmFzZS5sYWJlbCA9PT0gdW5kZWZpbmVkKVxuICAgICAgbW9uaXRvci5mYXRhbCgnR2V0VmFsdWUsIGJhc2UubGFiZWwgdW5kZWZpbmVkJyk7XG4gIFxuICAgIGlmICh2LklzVW5yZXNvbHZhYmxlUmVmZXJlbmNlKCkpIHtcbiAgICAgIG1vbml0b3IuVGhyb3coXG4gICAgICAgIFwiUmVmZXJlbmNlRXJyb3JcIixcbiAgICAgICAgdi5wcm9wZXJ0eU5hbWUudmFsdWUgKyAnIG5vdCBkZWZpbmVkJyxcbiAgICAgICAgdi5iYXNlLmxhYmVsXG4gICAgICApO1xuICAgIH1cbiAgXG4gICAgbGV0IHAgPSB2LmJhc2U7XG4gICAgbGV0IHMgPSB2LnByb3BlcnR5TmFtZTtcbiAgXG4gICAgaWYgKHYuSXNQcm9wZXJ0eVJlZmVyZW5jZSgpKSB7XG4gICAgICBpZiAoIXYuSGFzUHJpbWl0aXZlQmFzZSgpKSB7XG4gICAgICAgIHJldHVybiBwLkdldChzKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBsZXQgbyA9IFRvT2JqZWN0KHApO1xuICAgICAgICBsZXQgbGRlc2MgPSBvLkdldFByb3BlcnR5KHMpO1xuICBcbiAgICAgICAgaWYgKGxkZXNjLnZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAvL0B0cy1pZ25vcmUgVFlQRVNcbiAgICAgICAgICByZXR1cm4gbGRlc2M7XG4gICAgICAgIH1cbiAgXG4gICAgICAgIGxldCBsYmwgPSBsdWIobGRlc2MubGFiZWwsIGxkZXNjLnZhbHVlLmxhYmVsKTtcbiAgICAgICAgbGV0IGRlc2MgPSBsZGVzYy52YWx1ZTtcbiAgXG4gICAgICAgIGlmIChJc0RhdGFEZXNjcmlwdG9yKGRlc2MpKSB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBWYWx1ZShkZXNjLnZhbHVlLCBsYmwpO1xuICAgICAgICB9XG4gIFxuICAgICAgICBsZXQgZ2V0ID0gZGVzYy5nZXQ7XG4gICAgICAgIGlmIChnZXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIG5ldyBWYWx1ZSh1bmRlZmluZWQsIGxibCk7XG4gICAgICAgIH1cbiAgXG4gICAgICAgIC8vIFRPRE86IHRoaXMgbXVzdCBiZSB3cm9uZyEgcGFydCBvZiBvbGQgaGFuZGxpbmcgb2YgZ2V0dGVyL3NldHRlcnM/XG4gICAgICAgIG1vbml0b3IuY29udGV4dC5wdXNoUEMobGJsKTtcbiAgICAgICAgLy9AdHMtaWdub3JlIFRZUEVTXG4gICAgICAgIGxldCByZXMgPSBnZXQuQ2FsbChnZXQsIHYuYmFzZSk7XG4gICAgICAgIG1vbml0b3IuY29udGV4dC5wb3BQQygpO1xuICBcbiAgICAgICAgcmVzLnJhaXNlKGxibCk7XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgICB9XG4gICAgfVxuICBcbiAgICByZXR1cm4gcC5HZXRCaW5kaW5nVmFsdWUocyk7XG4gIH1cbiAgIiwiaW1wb3J0IHsgbHViLCBib3QgfSBmcm9tICcuL0xhYmVsJztcbmltcG9ydCB7IFZhbHVlIH0gZnJvbSBcIi4vVmFsdWVcIjtcbmltcG9ydCAqIGFzIGNvbnN0YW50cyBmcm9tICcuL0NvbnN0YW50cyc7XG5cbmltcG9ydCB7IE1vbml0b3JCYXNlIH0gZnJvbSAnLi9Nb25pdG9yQmFzZSc7XG5pbXBvcnQgeyBWYWx1ZVR5cGVzLCBJRWNtYU9iamVjdCwgSXNJRWNtYU9iamVjdCB9IGZyb20gJy4vSW50ZXJmYWNlcyc7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5kZWNsYXJlIHZhciBtb25pdG9yOiBNb25pdG9yQmFzZTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmV4cG9ydCBmdW5jdGlvbiBIYXNJbnN0YW5jZSh0aGlzOiBJRWNtYU9iamVjdCwgWDogVmFsdWU8VmFsdWVUeXBlcz4pIHtcbiAgbGV0IEYgPSB0aGlzO1xuICBsZXQgbCA9IFgubGFiZWw7XG5cbiAgaWYgKElzSUVjbWFPYmplY3QoWCkpIHtcbiAgICAvLyBuZWVkZWQgdG8gbWFrZSB0eXBlY2hlY2tpbmcgd29yaywgb3RoZXJ3aXNlIFYgZ2V0cyB0eXBlIFZhbHVlPFZhbHVlVHlwZXM+IGluIHdoaWxlIGJlbG93XG4gICAgbGV0IFYgPSBYO1xuXG4gICAgbGV0IE8gPSBGLkdldChjb25zdGFudHMucHJvdG90eXBlKTtcbiAgICBpZiAoIUlzSUVjbWFPYmplY3QoTykpIHtcbiAgICAgIG1vbml0b3IuVGhyb3coXG4gICAgICAgIFwiVHlwZUVycm9yXCIsXG4gICAgICAgICdIYXNJbnN0YW5jZScsXG4gICAgICAgIGJvdFxuICAgICAgKTtcbiAgICAgIHRocm93IFwiVHlwZVNjcmlwdFwiO1xuICAgIH1cblxuICAgIHdoaWxlIChWLnZhbHVlICE9PSBudWxsKSB7XG4gICAgICBWID0gVi52YWx1ZS5Qcm90b3R5cGU7XG4gICAgICBsID0gbHViKGwsIFYubGFiZWwpO1xuICAgICAgaWYgKE8udmFsdWUgPT09IFYudmFsdWUpIHJldHVybiBuZXcgVmFsdWUodHJ1ZSwgbCk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5ldyBWYWx1ZShmYWxzZSwgbCk7XG59XG4iLCJcbmltcG9ydCB7IEZ1bmN0aW9uUHJvdG90eXBlIH0gZnJvbSAnLi9Qcm90b3R5cGVzL0Z1bmN0aW9uUHJvdG90eXBlJztcbmltcG9ydCB7IEZ1bmN0aW9uQ29uc3RydWN0b3IgfSBmcm9tICcuL0NvbnN0cnVjdG9ycy9GdW5jdGlvbkNvbnN0cnVjdG9yJztcbmltcG9ydCB7IE9iamVjdENvbnN0cnVjdG9yIH0gZnJvbSAnLi9Db25zdHJ1Y3RvcnMvT2JqZWN0Q29uc3RydWN0b3InO1xuaW1wb3J0IHsgT2JqZWN0UHJvdG90eXBlIH0gZnJvbSAnLi9Qcm90b3R5cGVzL09iamVjdFByb3RvdHlwZSc7XG5cbmltcG9ydCB7IEVycm9yUHJvdG90eXBlIH0gZnJvbSAnLi9Qcm90b3R5cGVzL0Vycm9yUHJvdG90eXBlJztcbmltcG9ydCB7IEVycm9yQ29uc3RydWN0b3IgfSBmcm9tICcuL0NvbnN0cnVjdG9ycy9FcnJvckNvbnN0cnVjdG9yJztcblxuaW1wb3J0IHsgRXZhbEVycm9yUHJvdG90eXBlIH0gZnJvbSAnLi9Qcm90b3R5cGVzL0V2YWxFcnJvclByb3RvdHlwZSc7XG5pbXBvcnQgeyBFdmFsRXJyb3JDb25zdHJ1Y3RvciB9IGZyb20gJy4vQ29uc3RydWN0b3JzL0V2YWxFcnJvckNvbnN0cnVjdG9yJztcblxuaW1wb3J0IHsgUmFuZ2VFcnJvclByb3RvdHlwZSB9IGZyb20gJy4vUHJvdG90eXBlcy9SYW5nZUVycm9yUHJvdG90eXBlJztcbmltcG9ydCB7IFJhbmdlRXJyb3JDb25zdHJ1Y3RvciB9IGZyb20gJy4vQ29uc3RydWN0b3JzL1JhbmdlRXJyb3JDb25zdHJ1Y3Rvcic7XG5cbmltcG9ydCB7IFJlZmVyZW5jZUVycm9yUHJvdG90eXBlIH0gZnJvbSAnLi9Qcm90b3R5cGVzL1JlZmVyZW5jZUVycm9yUHJvdG90eXBlJztcbmltcG9ydCB7IFJlZmVyZW5jZUVycm9yQ29uc3RydWN0b3IgfSBmcm9tICcuL0NvbnN0cnVjdG9ycy9SZWZlcmVuY2VFcnJvckNvbnN0cnVjdG9yJztcblxuaW1wb3J0IHsgU3ludGF4RXJyb3JQcm90b3R5cGUgfSBmcm9tICcuL1Byb3RvdHlwZXMvU3ludGF4RXJyb3JQcm90b3R5cGUnO1xuaW1wb3J0IHsgU3ludGF4RXJyb3JDb25zdHJ1Y3RvciB9IGZyb20gJy4vQ29uc3RydWN0b3JzL1N5bnRheEVycm9yQ29uc3RydWN0b3InO1xuXG5pbXBvcnQgeyBUeXBlRXJyb3JQcm90b3R5cGUgfSBmcm9tICcuL1Byb3RvdHlwZXMvVHlwZUVycm9yUHJvdG90eXBlJztcbmltcG9ydCB7IFR5cGVFcnJvckNvbnN0cnVjdG9yIH0gZnJvbSAnLi9Db25zdHJ1Y3RvcnMvVHlwZUVycm9yQ29uc3RydWN0b3InO1xuXG5pbXBvcnQgeyBVUklFcnJvclByb3RvdHlwZSB9IGZyb20gJy4vUHJvdG90eXBlcy9VUklFcnJvclByb3RvdHlwZSc7XG5pbXBvcnQgeyBVUklFcnJvckNvbnN0cnVjdG9yIH0gZnJvbSAnLi9Db25zdHJ1Y3RvcnMvVVJJRXJyb3JDb25zdHJ1Y3Rvcic7XG5cbmltcG9ydCB7IEJvb2xlYW5Db25zdHJ1Y3RvciB9IGZyb20gJy4vQ29uc3RydWN0b3JzL0Jvb2xlYW5Db25zdHJ1Y3Rvcic7XG5pbXBvcnQgeyBCb29sZWFuUHJvdG90eXBlIH0gZnJvbSAnLi9Qcm90b3R5cGVzL0Jvb2xlYW5Qcm90b3R5cGUnO1xuaW1wb3J0IHsgQXJyYXlQcm90b3R5cGUgfSBmcm9tICcuL1Byb3RvdHlwZXMvQXJyYXlQcm90b3R5cGUnO1xuaW1wb3J0IHsgQXJyYXlDb25zdHJ1Y3RvciB9IGZyb20gJy4vQ29uc3RydWN0b3JzL0FycmF5Q29uc3RydWN0b3InO1xuXG5pbXBvcnQgeyBOdW1iZXJQcm90b3R5cGUgfSBmcm9tICcuL1Byb3RvdHlwZXMvTnVtYmVyUHJvdG90eXBlJztcbmltcG9ydCB7IE51bWJlckNvbnN0cnVjdG9yIH0gZnJvbSAnLi9Db25zdHJ1Y3RvcnMvTnVtYmVyQ29uc3RydWN0b3InO1xuXG5pbXBvcnQgeyBTdHJpbmdQcm90b3R5cGUgfSBmcm9tICcuL1Byb3RvdHlwZXMvU3RyaW5nUHJvdG90eXBlJztcbmltcG9ydCB7IFN0cmluZ0NvbnN0cnVjdG9yIH0gZnJvbSAnLi9Db25zdHJ1Y3RvcnMvU3RyaW5nQ29uc3RydWN0b3InO1xuXG5pbXBvcnQgeyBSZWdFeHBQcm90b3R5cGUgfSBmcm9tICcuL1Byb3RvdHlwZXMvUmVnRXhwUHJvdG90eXBlJztcbmltcG9ydCB7IFJlZ0V4cENvbnN0cnVjdG9yIH0gZnJvbSAnLi9Db25zdHJ1Y3RvcnMvUmVnRXhwQ29uc3RydWN0b3InO1xuXG5pbXBvcnQgeyBEYXRlUHJvdG90eXBlIH0gZnJvbSAnLi9Qcm90b3R5cGVzL0RhdGVQcm90b3R5cGUnO1xuaW1wb3J0IHsgRGF0ZUNvbnN0cnVjdG9yIH0gZnJvbSAnLi9Db25zdHJ1Y3RvcnMvRGF0ZUNvbnN0cnVjdG9yJztcblxuaW1wb3J0IHsgTWF0aE9iamVjdCB9IGZyb20gJy4vT2JqZWN0cy9NYXRoT2JqZWN0JztcbmltcG9ydCB7IEpTT05PYmplY3QgfSBmcm9tICcuL09iamVjdHMvSlNPTk9iamVjdCc7XG5cblxuZXhwb3J0IGNsYXNzIEluc3RhbmNlcyB7XG5cbiAgICBGdW5jdGlvbkNvbnN0cnVjdG9yIDogRnVuY3Rpb25Db25zdHJ1Y3RvcjtcbiAgICBGdW5jdGlvblByb3RvdHlwZSA6IEZ1bmN0aW9uUHJvdG90eXBlO1xuICBcbiAgICBPYmplY3RDb25zdHJ1Y3RvciA6IE9iamVjdENvbnN0cnVjdG9yO1xuICAgIE9iamVjdFByb3RvdHlwZSA6IE9iamVjdFByb3RvdHlwZTtcbiAgXG4gICAgRXJyb3JDb25zdHJ1Y3RvciA6IEVycm9yQ29uc3RydWN0b3I7XG4gICAgRXJyb3JQcm90b3R5cGUgOiBFcnJvclByb3RvdHlwZTtcbiAgXG4gICAgRXZhbEVycm9yQ29uc3RydWN0b3IgOiBFdmFsRXJyb3JDb25zdHJ1Y3RvcjtcbiAgICBFdmFsRXJyb3JQcm90b3R5cGUgOiBFdmFsRXJyb3JQcm90b3R5cGU7XG4gIFxuICAgIFJhbmdlRXJyb3JDb25zdHJ1Y3RvciA6IFJhbmdlRXJyb3JDb25zdHJ1Y3RvcjtcbiAgICBSYW5nZUVycm9yUHJvdG90eXBlIDogUmFuZ2VFcnJvclByb3RvdHlwZTtcbiAgXG4gICAgUmVmZXJlbmNlRXJyb3JDb25zdHJ1Y3RvciA6IFJlZmVyZW5jZUVycm9yQ29uc3RydWN0b3I7XG4gICAgUmVmZXJlbmNlRXJyb3JQcm90b3R5cGUgOiBSZWZlcmVuY2VFcnJvclByb3RvdHlwZTtcbiAgXG4gICAgU3ludGF4RXJyb3JDb25zdHJ1Y3RvciA6IFN5bnRheEVycm9yQ29uc3RydWN0b3I7XG4gICAgU3ludGF4RXJyb3JQcm90b3R5cGUgOiBTeW50YXhFcnJvclByb3RvdHlwZTtcbiAgXG4gICAgVHlwZUVycm9yQ29uc3RydWN0b3IgOiBUeXBlRXJyb3JDb25zdHJ1Y3RvcjtcbiAgICBUeXBlRXJyb3JQcm90b3R5cGUgOiBUeXBlRXJyb3JQcm90b3R5cGU7XG4gIFxuICAgIFVSSUVycm9yQ29uc3RydWN0b3IgOiBVUklFcnJvckNvbnN0cnVjdG9yO1xuICAgIFVSSUVycm9yUHJvdG90eXBlIDogVVJJRXJyb3JQcm90b3R5cGU7XG4gIFxuICAgIEJvb2xlYW5Db25zdHJ1Y3RvciA6IEJvb2xlYW5Db25zdHJ1Y3RvcjtcbiAgICBCb29sZWFuUHJvdG90eXBlIDogQm9vbGVhblByb3RvdHlwZTtcbiAgXG4gICAgQXJyYXlDb25zdHJ1Y3RvciA6IEFycmF5Q29uc3RydWN0b3I7XG4gICAgQXJyYXlQcm90b3R5cGUgOiBBcnJheVByb3RvdHlwZTtcblxuICAgIE51bWJlckNvbnN0cnVjdG9yIDogTnVtYmVyQ29uc3RydWN0b3I7XG4gICAgTnVtYmVyUHJvdG90eXBlIDogTnVtYmVyUHJvdG90eXBlO1xuICBcbiAgICBTdHJpbmdDb25zdHJ1Y3RvciA6IFN0cmluZ0NvbnN0cnVjdG9yO1xuICAgIFN0cmluZ1Byb3RvdHlwZSA6IFN0cmluZ1Byb3RvdHlwZTtcbiAgXG4gICAgUmVnRXhwQ29uc3RydWN0b3IgOiBSZWdFeHBDb25zdHJ1Y3RvcjtcbiAgICBSZWdFeHBQcm90b3R5cGUgOiBSZWdFeHBQcm90b3R5cGU7XG5cbiAgICBEYXRlQ29uc3RydWN0b3IgOiBEYXRlQ29uc3RydWN0b3I7XG4gICAgRGF0ZVByb3RvdHlwZSA6IERhdGVQcm90b3R5cGU7XG5cbiAgICBNYXRoT2JqZWN0IDogTWF0aE9iamVjdDtcbiAgICBKU09OT2JqZWN0IDogSlNPTk9iamVjdDtcbiAgXG4gICAgY29uc3RydWN0b3IoZ2xvYmFsKSB7XG4gICAgICAvLyBwcmUtYWxsb2NhdGVzIGluc3RhbmNlcywgd2l0aG91dCBzZXR0aW5nIHRoZW0gdXAgZHVlIHRvIGNpcmN1bGFyaXR5XG4gICAgICB0aGlzLkZ1bmN0aW9uQ29uc3RydWN0b3IgPSBuZXcgRnVuY3Rpb25Db25zdHJ1Y3RvcihnbG9iYWwuRnVuY3Rpb24pO1xuICAgICAgdGhpcy5GdW5jdGlvblByb3RvdHlwZSA9IG5ldyBGdW5jdGlvblByb3RvdHlwZShnbG9iYWwuRnVuY3Rpb24ucHJvdG90eXBlKTtcbiAgXG4gICAgICB0aGlzLk9iamVjdENvbnN0cnVjdG9yID0gbmV3IE9iamVjdENvbnN0cnVjdG9yKGdsb2JhbC5PYmplY3QpO1xuICAgICAgdGhpcy5PYmplY3RQcm90b3R5cGUgPSBuZXcgT2JqZWN0UHJvdG90eXBlKGdsb2JhbC5PYmplY3QucHJvdG90eXBlKTtcbiAgXG4gICAgICB0aGlzLkVycm9yQ29uc3RydWN0b3IgPSBuZXcgRXJyb3JDb25zdHJ1Y3RvcihnbG9iYWwuRXJyb3IpO1xuICAgICAgdGhpcy5FcnJvclByb3RvdHlwZSAgPSBuZXcgRXJyb3JQcm90b3R5cGUoZ2xvYmFsLkVycm9yLnByb3RvdHlwZSk7XG4gIFxuICAgICAgdGhpcy5FdmFsRXJyb3JDb25zdHJ1Y3RvciA9IG5ldyBFdmFsRXJyb3JDb25zdHJ1Y3RvcihnbG9iYWwuRXZhbEVycm9yKTtcbiAgICAgIHRoaXMuRXZhbEVycm9yUHJvdG90eXBlICA9IG5ldyBFdmFsRXJyb3JQcm90b3R5cGUoZ2xvYmFsLkV2YWxFcnJvci5wcm90b3R5cGUpO1xuICBcbiAgICAgIHRoaXMuUmFuZ2VFcnJvckNvbnN0cnVjdG9yID0gbmV3IFJhbmdlRXJyb3JDb25zdHJ1Y3RvcihnbG9iYWwuUmFuZ2VFcnJvcik7XG4gICAgICB0aGlzLlJhbmdlRXJyb3JQcm90b3R5cGUgID0gbmV3IFJhbmdlRXJyb3JQcm90b3R5cGUoZ2xvYmFsLlJhbmdlRXJyb3IucHJvdG90eXBlKTtcbiAgXG4gICAgICB0aGlzLlJlZmVyZW5jZUVycm9yQ29uc3RydWN0b3IgPSBuZXcgUmVmZXJlbmNlRXJyb3JDb25zdHJ1Y3RvcihnbG9iYWwuUmVmZXJlbmNlRXJyb3IpO1xuICAgICAgdGhpcy5SZWZlcmVuY2VFcnJvclByb3RvdHlwZSAgPSBuZXcgUmVmZXJlbmNlRXJyb3JQcm90b3R5cGUoZ2xvYmFsLlJlZmVyZW5jZUVycm9yLnByb3RvdHlwZSk7XG4gIFxuICAgICAgdGhpcy5TeW50YXhFcnJvckNvbnN0cnVjdG9yID0gbmV3IFN5bnRheEVycm9yQ29uc3RydWN0b3IoZ2xvYmFsLlN5bnRheEVycm9yKTtcbiAgICAgIHRoaXMuU3ludGF4RXJyb3JQcm90b3R5cGUgID0gbmV3IFN5bnRheEVycm9yUHJvdG90eXBlKGdsb2JhbC5TeW50YXhFcnJvci5wcm90b3R5cGUpO1xuICBcbiAgICAgIHRoaXMuVHlwZUVycm9yQ29uc3RydWN0b3IgPSBuZXcgVHlwZUVycm9yQ29uc3RydWN0b3IoZ2xvYmFsLlR5cGVFcnJvcik7XG4gICAgICB0aGlzLlR5cGVFcnJvclByb3RvdHlwZSAgPSBuZXcgVHlwZUVycm9yUHJvdG90eXBlKGdsb2JhbC5UeXBlRXJyb3IucHJvdG90eXBlKTtcbiAgICAgIFxuICAgICAgdGhpcy5VUklFcnJvckNvbnN0cnVjdG9yID0gbmV3IFVSSUVycm9yQ29uc3RydWN0b3IoZ2xvYmFsLlVSSUVycm9yKTtcbiAgICAgIHRoaXMuVVJJRXJyb3JQcm90b3R5cGUgID0gbmV3IFVSSUVycm9yUHJvdG90eXBlKGdsb2JhbC5VUklFcnJvci5wcm90b3R5cGUpO1xuICBcbiAgICAgIHRoaXMuQm9vbGVhbkNvbnN0cnVjdG9yID0gbmV3IEJvb2xlYW5Db25zdHJ1Y3RvcihnbG9iYWwuQm9vbGVhbik7XG4gICAgICB0aGlzLkJvb2xlYW5Qcm90b3R5cGUgPSBuZXcgQm9vbGVhblByb3RvdHlwZShnbG9iYWwuQm9vbGVhbi5wcm90b3R5cGUpO1xuICAgICAgXG4gICAgICB0aGlzLkFycmF5Q29uc3RydWN0b3IgPSBuZXcgQXJyYXlDb25zdHJ1Y3RvcihnbG9iYWwuQXJyYXkpO1xuICAgICAgdGhpcy5BcnJheVByb3RvdHlwZSA9IG5ldyBBcnJheVByb3RvdHlwZShnbG9iYWwuQXJyYXkucHJvdG90eXBlKTtcbiAgXG4gICAgICB0aGlzLk51bWJlckNvbnN0cnVjdG9yID0gbmV3IE51bWJlckNvbnN0cnVjdG9yKGdsb2JhbC5OdW1iZXIpO1xuICAgICAgdGhpcy5OdW1iZXJQcm90b3R5cGUgPSBuZXcgTnVtYmVyUHJvdG90eXBlKGdsb2JhbC5OdW1iZXIucHJvdG90eXBlKTtcblxuICAgICAgdGhpcy5TdHJpbmdDb25zdHJ1Y3RvciA9IG5ldyBTdHJpbmdDb25zdHJ1Y3RvcihnbG9iYWwuU3RyaW5nKTtcbiAgICAgIHRoaXMuU3RyaW5nUHJvdG90eXBlID0gbmV3IFN0cmluZ1Byb3RvdHlwZShnbG9iYWwuU3RyaW5nLnByb3RvdHlwZSk7XG5cbiAgICAgIHRoaXMuUmVnRXhwQ29uc3RydWN0b3IgPSBuZXcgUmVnRXhwQ29uc3RydWN0b3IoZ2xvYmFsLlJlZ0V4cCk7XG4gICAgICB0aGlzLlJlZ0V4cFByb3RvdHlwZSA9IG5ldyBSZWdFeHBQcm90b3R5cGUoZ2xvYmFsLlJlZ0V4cC5wcm90b3R5cGUpO1xuXG4gICAgICB0aGlzLkRhdGVDb25zdHJ1Y3RvciA9IG5ldyBEYXRlQ29uc3RydWN0b3IoZ2xvYmFsLkRhdGUpO1xuICAgICAgdGhpcy5EYXRlUHJvdG90eXBlID0gbmV3IERhdGVQcm90b3R5cGUoZ2xvYmFsLkRhdGUucHJvdG90eXBlKTtcblxuICAgICAgdGhpcy5NYXRoT2JqZWN0ID0gbmV3IE1hdGhPYmplY3QoZ2xvYmFsLk1hdGgpO1xuICAgICAgdGhpcy5KU09OT2JqZWN0ID0gbmV3IEpTT05PYmplY3QoZ2xvYmFsLkpTT04pO1xuICAgIH1cbiAgXG4gICAgU2V0dXAoKSB7XG4gICAgdGhpcy5GdW5jdGlvbkNvbnN0cnVjdG9yLlNldHVwKCk7XG4gICAgdGhpcy5GdW5jdGlvblByb3RvdHlwZS5TZXR1cCgpOyBcbiAgXG4gICAgdGhpcy5PYmplY3RDb25zdHJ1Y3Rvci5TZXR1cCgpO1xuICAgIHRoaXMuT2JqZWN0UHJvdG90eXBlLlNldHVwKCk7XG5cbiAgICB0aGlzLkVycm9yQ29uc3RydWN0b3IuU2V0dXAoKTtcbiAgICB0aGlzLkVycm9yUHJvdG90eXBlLlNldHVwKCk7XG5cbiAgICB0aGlzLkV2YWxFcnJvckNvbnN0cnVjdG9yLlNldHVwKCk7XG4gICAgdGhpcy5FdmFsRXJyb3JQcm90b3R5cGUuU2V0dXAoKTtcblxuICAgIHRoaXMuUmFuZ2VFcnJvckNvbnN0cnVjdG9yLlNldHVwKCk7XG4gICAgdGhpcy5SYW5nZUVycm9yUHJvdG90eXBlLlNldHVwKCk7XG5cbiAgICB0aGlzLlJlZmVyZW5jZUVycm9yQ29uc3RydWN0b3IuU2V0dXAoKTtcbiAgICB0aGlzLlJlZmVyZW5jZUVycm9yUHJvdG90eXBlLlNldHVwKCk7XG5cbiAgICB0aGlzLlN5bnRheEVycm9yQ29uc3RydWN0b3IuU2V0dXAoKTtcbiAgICB0aGlzLlN5bnRheEVycm9yUHJvdG90eXBlLlNldHVwKCk7XG5cbiAgICB0aGlzLlR5cGVFcnJvckNvbnN0cnVjdG9yLlNldHVwKCk7XG4gICAgdGhpcy5UeXBlRXJyb3JQcm90b3R5cGUuU2V0dXAoKTtcblxuICAgIHRoaXMuVVJJRXJyb3JDb25zdHJ1Y3Rvci5TZXR1cCgpO1xuICAgIHRoaXMuVVJJRXJyb3JQcm90b3R5cGUuU2V0dXAoKTtcbiAgXG4gICAgdGhpcy5Cb29sZWFuQ29uc3RydWN0b3IuU2V0dXAoKTtcbiAgICB0aGlzLkJvb2xlYW5Qcm90b3R5cGUuU2V0dXAoKTtcbiAgXG4gICAgdGhpcy5BcnJheUNvbnN0cnVjdG9yLlNldHVwKCk7XG4gICAgdGhpcy5BcnJheVByb3RvdHlwZS5TZXR1cCgpO1xuICBcbiAgICB0aGlzLk51bWJlckNvbnN0cnVjdG9yLlNldHVwKCk7XG4gICAgdGhpcy5OdW1iZXJQcm90b3R5cGUuU2V0dXAoKTtcbiAgXG4gICAgdGhpcy5TdHJpbmdDb25zdHJ1Y3Rvci5TZXR1cCgpO1xuICAgIHRoaXMuU3RyaW5nUHJvdG90eXBlLlNldHVwKCk7XG5cbiAgICB0aGlzLlJlZ0V4cENvbnN0cnVjdG9yLlNldHVwKCk7XG4gICAgdGhpcy5SZWdFeHBQcm90b3R5cGUuU2V0dXAoKTtcblxuICAgIHRoaXMuRGF0ZUNvbnN0cnVjdG9yLlNldHVwKCk7XG4gICAgdGhpcy5EYXRlUHJvdG90eXBlLlNldHVwKCk7XG5cbiAgICB0aGlzLk1hdGhPYmplY3QuU2V0dXAoKTtcbiAgICB0aGlzLkpTT05PYmplY3QuU2V0dXAoKTtcbiAgICB9XG4gIH0iLCJpbXBvcnQgeyBMYWJlbCB9IGZyb20gXCIuL0xhYmVsXCI7XG5pbXBvcnQgeyBWYWx1ZSB9IGZyb20gXCIuL1ZhbHVlXCI7XG5pbXBvcnQgeyBQcm9wZXJ0eUxhYmVsIH0gZnJvbSBcIi4vUHJvcGVydHlMYWJlbFwiO1xuXG5pbXBvcnQgKiBhcyBlc3RyZWUgZnJvbSAnZXN0cmVlJztcbmltcG9ydCB7IExleGljYWxFbnZpcm9ubWVudCB9IGZyb20gXCIuL0xleGljYWxFbnZpcm9ubWVudFwiO1xuaW1wb3J0IHsgTGFiZWxlZFByb3BlcnR5RGVzY3JpcHRvciwgSlNGUHJvcGVydHlEZXNjcmlwdG9yIH0gZnJvbSBcIi4vUHJvcGVydHlEZXNjcmlwdG9yXCI7XG5pbXBvcnQgeyBXb3JrTGlzdFB0ciB9IGZyb20gXCIuL0NvbnRleHRcIjtcblxuLy8gLS0tXG5cbmV4cG9ydCB0eXBlIFRocm93VHlwZSA9IFwiRXJyb3JcIiB8IFwiRXZhbEVycm9yXCIgfCBcIlJhbmdlRXJyb3JcIiB8IFwiUmVmZXJlbmNlRXJyb3JcIiB8IFwiU3ludGF4RXJyb3JcIiB8IFwiVHlwZUVycm9yXCIgfCBcIlVSSUVycm9yXCJcblxuZXhwb3J0IHR5cGUgUHJpbWl0aXZlVmFsdWVUeXBlcyA9IHVuZGVmaW5lZCB8IG51bGwgfCBudW1iZXIgfCBib29sZWFuIHwgc3RyaW5nXG5leHBvcnQgdHlwZSBWYWx1ZVR5cGVzID0gUHJpbWl0aXZlVmFsdWVUeXBlcyB8IElFY21hT2JqZWN0IHwgSUVjbWFGdW5jdGlvbiB8IExhYmVsZWRQcm9wZXJ0eURlc2NyaXB0b3I7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUVjbWFPYmplY3Qge1xuXG4gIENsYXNzPzogc3RyaW5nO1xuICBQcm90b3R5cGU6IFZhbHVlPElFY21hT2JqZWN0IHwgbnVsbD47XG4gIEV4dGVuc2libGU6IGJvb2xlYW47XG5cbiAgLy8gZW5jb2RpbmdcbiAgcHJvcGVydGllczogeyBbczogc3RyaW5nXTogYW55IH07XG5cbiAgLy8gc2VjdXJpdHlcbiAgbGFiZWxzOiB7IFtzOiBzdHJpbmddOiBQcm9wZXJ0eUxhYmVsIH07XG4gIHN0cnVjdDogTGFiZWw7XG5cbiAgLy8gc3RhbmRhcmQgbWFuZGF0ZWQgaW5uZXIgcHJvcGVydGllc1xuICBHZXRPd25Qcm9wZXJ0eShzOiBWYWx1ZTxzdHJpbmcgfCBudW1iZXI+KTogVmFsdWU8TGFiZWxlZFByb3BlcnR5RGVzY3JpcHRvciB8IHVuZGVmaW5lZD47XG4gIEdldFByb3BlcnR5KHM6IFZhbHVlPHN0cmluZyB8IG51bWJlcj4pOiBWYWx1ZTxMYWJlbGVkUHJvcGVydHlEZXNjcmlwdG9yIHwgdW5kZWZpbmVkPjtcbiAgR2V0KHM6IFZhbHVlPHN0cmluZyB8IG51bWJlcj4pOiBWYWx1ZTxWYWx1ZVR5cGVzPjtcbiAgQ2FuUHV0KHA6IFZhbHVlPHN0cmluZyB8IG51bWJlcj4pOiBWYWx1ZTxib29sZWFuPjtcbiAgUHV0KHM6IFZhbHVlPHN0cmluZyB8IG51bWJlcj4sIHY6IFZhbHVlPFZhbHVlVHlwZXM+LCBUaHJvdz86IGJvb2xlYW4pOiB2b2lkO1xuICBIYXNQcm9wZXJ0eShzOiBWYWx1ZTxzdHJpbmcgfCBudW1iZXI+KTogVmFsdWU8Ym9vbGVhbj47XG4gIERlbGV0ZShzOiBWYWx1ZTxzdHJpbmcgfCBudW1iZXI+LCBUaHJvdz86IGJvb2xlYW4pOiBWYWx1ZTxib29sZWFuPjtcbiAgRGVmYXVsdFZhbHVlKGhpbnQ/OiBcInN0cmluZ1wiIHwgXCJudW1iZXJcIik6IFZhbHVlPFByaW1pdGl2ZVZhbHVlVHlwZXM+O1xuICBEZWZpbmVPd25Qcm9wZXJ0eShzOiBWYWx1ZTxzdHJpbmcgfCBudW1iZXI+LCBkZXNjOiBKU0ZQcm9wZXJ0eURlc2NyaXB0b3IsIFRocm93PzogQm9vbGVhbik6IFZhbHVlPGJvb2xlYW4+O1xuXG4gIC8vIG90aGVyIGludGVybmFsIHByb3BlcnRpZXNcbiAgZ2V0T3duUHJvcGVydHlOYW1lcyhsYWJlbDogTGFiZWwpOiBWYWx1ZTxzdHJpbmc+W107XG4gIGdldE93bkVudW1lcmFibGVQcm9wZXJ0eU5hbWVzKGxhYmVsOiBMYWJlbCk6IFZhbHVlPHN0cmluZz5bXTtcbiAgZ2V0RW51bWVyYWJsZVByb3BlcnR5TmFtZXMoaW5pdGlhbExhYmVsOiBMYWJlbCk6IFZhbHVlPHN0cmluZz5bXTtcbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gSXNJRWNtYU9iamVjdCh4OiBWYWx1ZTxWYWx1ZVR5cGVzPik6IHggaXMgVmFsdWU8SUVjbWFPYmplY3Q+IHtcbiAgcmV0dXJuIHR5cGVvZiB4LnZhbHVlID09PSAnb2JqZWN0JyAmJiB4LnZhbHVlICE9PSBudWxsICYmIFwiQ2xhc3NcIiBpbiB4LnZhbHVlO1xufVxuXG4vLyBOT1RFOiBDYWxsIG1heSBnZXQgdmFsdWVzLCBzZWUsIGUuZy4sIDE1LjMuNC4zXG5leHBvcnQgaW50ZXJmYWNlIElFY21hRnVuY3Rpb24gZXh0ZW5kcyBJRWNtYU9iamVjdCB7XG5cbiAgU2NvcGU/OiBWYWx1ZTxMZXhpY2FsRW52aXJvbm1lbnQ+O1xuICBGb3JtYWxQYXJhbWV0ZXJzPzogQXJyYXk8ZXN0cmVlLlBhdHRlcm4+O1xuICBDb2RlPzogZXN0cmVlLlN0YXRlbWVudCB8IGVzdHJlZS5FeHByZXNzaW9uO1xuXG4gIEhhc0luc3RhbmNlKFY6IFZhbHVlPFZhbHVlVHlwZXM+KTogVmFsdWU8Ym9vbGVhbj47XG4gIENhbGwodGhpc0FyZzogVmFsdWU8VmFsdWVUeXBlcz4sIGFyZ3M6IFZhbHVlPFZhbHVlVHlwZXM+W10pOiBWYWx1ZTxWYWx1ZVR5cGVzPlxuICBDb25zdHJ1Y3QoYXJnczogVmFsdWU8VmFsdWVUeXBlcz5bXSk6IFZhbHVlPElFY21hT2JqZWN0PlxuICBBc3luY0NhbGw/KHRoaXNBcmc6IFZhbHVlPFZhbHVlVHlwZXM+LCBhcmdzOiBWYWx1ZTxWYWx1ZVR5cGVzPltdKTogV29ya0xpc3RQdHJcbiAgQXN5bmNDYWxsRW5kPygpOiBWYWx1ZTxWYWx1ZVR5cGVzPlxuICBBc3luY0NvbnN0cnVjdD8oYXJnczogVmFsdWU8VmFsdWVUeXBlcz5bXSk6IFdvcmtMaXN0UHRyXG4gIEFzeW5jQ29uc3RydWN0RW5kPygpOiBWYWx1ZTxJRWNtYU9iamVjdCB8IHVuZGVmaW5lZD5cbn1cblxuZXhwb3J0IGludGVyZmFjZSBJRW52aXJvbm1lbnRSZWNvcmQge1xuICBIYXNCaW5kaW5nKHA6IFZhbHVlPHN0cmluZz4pOiBWYWx1ZTxib29sZWFuPjtcbiAgQ3JlYXRlTXV0YWJsZUJpbmRpbmcocDogVmFsdWU8c3RyaW5nPiwgZD86IGJvb2xlYW4pOiB2b2lkO1xuICBHZXRCaW5kaW5nVmFsdWUocDogVmFsdWU8c3RyaW5nPiwgcz8gOiBib29sZWFuKTogVmFsdWU8VmFsdWVUeXBlcz47XG4gIFNldE11dGFibGVCaW5kaW5nKHA6IFZhbHVlPHN0cmluZz4sIHY6IFZhbHVlPFZhbHVlVHlwZXM+LCBzPzogYm9vbGVhbik6IHZvaWQ7XG4gIERlbGV0ZUJpbmRpbmcocDogVmFsdWU8c3RyaW5nPik6IFZhbHVlPGJvb2xlYW4+O1xuICBJbXBsaWNpdFRoaXNWYWx1ZSgpOiBWYWx1ZTxJRWNtYU9iamVjdCB8IHVuZGVmaW5lZD47XG59XG4iLCJpbXBvcnQgeyBNb25pdG9yQmFzZSB9IGZyb20gXCIuL01vbml0b3JCYXNlXCI7XG5pbXBvcnQgeyBJc0NyYXdsZXIgfSBmcm9tIFwiLi9Ub3BsZXZlbC9jcmF3bGVyL0NyYXdsZXJVdGlsXCI7XG5cbi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXNcbiAqIGZpbGUsIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIFxuXG4vLyAjQ1JBV0xFUlxuXG5sZXQgaW5jbHVkZSA9IHtcbiAgJ2dsb2JhbC5BdWRpb0NvbnRleHQuZGVzdGluYXRpb24uY2hhbm5lbENvdW50JzogdHJ1ZSxcbiAgJ2dsb2JhbC5BdWRpb0NvbnRleHQuZGVzdGluYXRpb24uY2hhbm5lbENvdW50TW9kZSc6IHRydWUsXG4gICdnbG9iYWwuQXVkaW9Db250ZXh0LmRlc3RpbmF0aW9uLmNoYW5uZWxJbnRlcnByZXRhdGlvbic6IHRydWUsXG4gICdnbG9iYWwuQXVkaW9Db250ZXh0LmRlc3RpbmF0aW9uLm1heENoYW5uZWxDb3VudCc6IHRydWUsXG4gICdnbG9iYWwuQXVkaW9Db250ZXh0LmRlc3RpbmF0aW9uLm51bWJlck9mSW5wdXRzJzogdHJ1ZSxcbiAgJ2dsb2JhbC5BdWRpb0NvbnRleHQuZGVzdGluYXRpb24ubnVtYmVyT2ZPdXRwdXRzJzogdHJ1ZSxcbiAgJ2dsb2JhbC5BdWRpb0NvbnRleHQuc2FtcGxlUmF0ZSc6IHRydWUsXG4gICdnbG9iYWwuSFRNTEZvcm1FbGVtZW50LmFkZEJlaGF2aW9yJzogdHJ1ZSxcbiAgJ2dsb2JhbC5IVE1MRm9ybUVsZW1lbnQuY2xpZW50SGVpZ2h0JzogdHJ1ZSxcbiAgJ2dsb2JhbC5IVE1MRm9ybUVsZW1lbnQuY2xpZW50V2lkdGgnOiB0cnVlLFxuICAnZ2xvYmFsLkhUTUxGb3JtRWxlbWVudC5vZmZzZXRIZWlnaHQnOiB0cnVlLFxuICAnZ2xvYmFsLkhUTUxGb3JtRWxlbWVudC5vZmZzZXRXaWR0aCc6IHRydWUsXG4gICdnbG9iYWwuSW50OEFycmF5LnJlZHVjZSc6IHRydWUsXG4gICdnbG9iYWwuSW50OEFycmF5LnNsaWNlLnJlZHVjZSc6IHRydWUsXG4gICdnbG9iYWwuSW50bC5EYXRlVGltZUZvcm1hdC5yZXNvbHZlZE9wdGlvbnMudGltZVpvbmUnOiB0cnVlLFxuICAnZ2xvYmFsLk9mZmxpbmVBdWRpb0NvbnRleHQub25jb21wbGV0ZVswXVswXS5yZW5kZXJlZEJ1ZmZlci5nZXRDaGFubmVsRGF0YS5yZWR1Y2UnOiB0cnVlLFxuICAnZ2xvYmFsLk9mZmxpbmVBdWRpb0NvbnRleHQub25jb21wbGV0ZVswXVswXS5yZW5kZXJlZEJ1ZmZlci5nZXRDaGFubmVsRGF0YS5zbGljZSc6IHRydWUsXG4gICdnbG9iYWwuUGx1Z2luLmRlc2NyaXB0aW9uJzogdHJ1ZSxcbiAgJ2dsb2JhbC5QbHVnaW4ubGVuZ3RoJzogdHJ1ZSxcbiAgJ2dsb2JhbC5QbHVnaW4ubmFtZSc6IHRydWUsXG4gICdnbG9iYWwuUGx1Z2luQXJyYXkubGVuZ3RoJzogdHJ1ZSxcbiAgJ2dsb2JhbC5SVENQZWVyQ29ubmVjdGlvbi5vbmljZWNhbmRpZGF0ZVswXVswXS5jYW5kaWRhdGUuY2FuZGlkYXRlJzogdHJ1ZSxcbiAgJ2dsb2JhbC5XZWJHTFJlbmRlcmluZ0NvbnRleHQnOiB0cnVlLFxuICAnZ2xvYmFsLlhNTEh0dHBSZXF1ZXN0LnJlYWR5U3RhdGUnOiB0cnVlLFxuICAnZ2xvYmFsLlhNTEh0dHBSZXF1ZXN0LnJlc3BvbnNlVGV4dCc6IHRydWUsXG4gICdnbG9iYWwuWE1MSHR0cFJlcXVlc3Quc3RhdHVzJzogdHJ1ZSxcbiAgJ2dsb2JhbC5hZGRCZWhhdmlvcic6IHRydWUsXG4gICdnbG9iYWwuZGV2aWNlUGl4ZWxSYXRpbyc6IHRydWUsXG4gICdnbG9iYWwuZG9Ob3RUcmFjayc6IHRydWUsXG4gICdnbG9iYWwuZG9jdW1lbnQuYXBwZW5kQ2hpbGQnOiB0cnVlLFxuICAnZ2xvYmFsLmRvY3VtZW50LmJvZHkuYWRkQmVoYXZpb3InOiB0cnVlLFxuICAnZ2xvYmFsLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQuY2xpZW50SGVpZ2h0JzogdHJ1ZSxcbiAgJ2dsb2JhbC5kb2N1bWVudC5jcmVhdGVFbGVtZW50LmNsaWVudFdpZHRoJzogdHJ1ZSxcbiAgJ2dsb2JhbC5kb2N1bWVudC5jcmVhdGVFbGVtZW50LmdldENvbnRleHQuY2FudmFzJzogdHJ1ZSxcbiAgJ2dsb2JhbC5kb2N1bWVudC5jcmVhdGVFbGVtZW50LmdldENvbnRleHQuZ2V0Q29udGV4dEF0dHJpYnV0ZXMuYW50aWFsaWFzJzogdHJ1ZSxcbiAgJ2dsb2JhbC5kb2N1bWVudC5jcmVhdGVFbGVtZW50LmdldENvbnRleHQuZ2V0RXh0ZW5zaW9uJzogdHJ1ZSxcbiAgJ2dsb2JhbC5kb2N1bWVudC5jcmVhdGVFbGVtZW50LmdldENvbnRleHQuZ2V0UGFyYW1ldGVyJzogdHJ1ZSxcbiAgJ2dsb2JhbC5kb2N1bWVudC5jcmVhdGVFbGVtZW50LmdldENvbnRleHQuZ2V0UGFyYW1ldGVyLjAnOiB0cnVlLFxuICAnZ2xvYmFsLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQuZ2V0Q29udGV4dC5nZXRQYXJhbWV0ZXIuMSc6IHRydWUsXG4gICdnbG9iYWwuZG9jdW1lbnQuY3JlYXRlRWxlbWVudC5nZXRDb250ZXh0LmdldFNoYWRlclByZWNpc2lvbkZvcm1hdC5wcmVjaXNpb24nOiB0cnVlLFxuICAnZ2xvYmFsLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQuZ2V0Q29udGV4dC5nZXRTaGFkZXJQcmVjaXNpb25Gb3JtYXQucmFuZ2VNYXgnOiB0cnVlLFxuICAnZ2xvYmFsLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQuZ2V0Q29udGV4dC5nZXRTaGFkZXJQcmVjaXNpb25Gb3JtYXQucmFuZ2VNaW4nOiB0cnVlLFxuICAnZ2xvYmFsLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQuZ2V0Q29udGV4dC5nZXRTdXBwb3J0ZWRFeHRlbnNpb25zJzogdHJ1ZSxcbiAgJ2dsb2JhbC5kb2N1bWVudC5jcmVhdGVFbGVtZW50LmdldENvbnRleHQuZ2V0U3VwcG9ydGVkRXh0ZW5zaW9ucy4wJzogdHJ1ZSxcbiAgJ2dsb2JhbC5kb2N1bWVudC5jcmVhdGVFbGVtZW50LmdldENvbnRleHQuZ2V0U3VwcG9ydGVkRXh0ZW5zaW9ucy4xJzogdHJ1ZSxcbiAgJ2dsb2JhbC5kb2N1bWVudC5jcmVhdGVFbGVtZW50LmdldENvbnRleHQuZ2V0U3VwcG9ydGVkRXh0ZW5zaW9ucy4xMCc6IHRydWUsXG4gICdnbG9iYWwuZG9jdW1lbnQuY3JlYXRlRWxlbWVudC5nZXRDb250ZXh0LmdldFN1cHBvcnRlZEV4dGVuc2lvbnMuMTEnOiB0cnVlLFxuICAnZ2xvYmFsLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQuZ2V0Q29udGV4dC5nZXRTdXBwb3J0ZWRFeHRlbnNpb25zLjEyJzogdHJ1ZSxcbiAgJ2dsb2JhbC5kb2N1bWVudC5jcmVhdGVFbGVtZW50LmdldENvbnRleHQuZ2V0U3VwcG9ydGVkRXh0ZW5zaW9ucy4xMyc6IHRydWUsXG4gICdnbG9iYWwuZG9jdW1lbnQuY3JlYXRlRWxlbWVudC5nZXRDb250ZXh0LmdldFN1cHBvcnRlZEV4dGVuc2lvbnMuMTQnOiB0cnVlLFxuICAnZ2xvYmFsLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQuZ2V0Q29udGV4dC5nZXRTdXBwb3J0ZWRFeHRlbnNpb25zLjE1JzogdHJ1ZSxcbiAgJ2dsb2JhbC5kb2N1bWVudC5jcmVhdGVFbGVtZW50LmdldENvbnRleHQuZ2V0U3VwcG9ydGVkRXh0ZW5zaW9ucy4xNic6IHRydWUsXG4gICdnbG9iYWwuZG9jdW1lbnQuY3JlYXRlRWxlbWVudC5nZXRDb250ZXh0LmdldFN1cHBvcnRlZEV4dGVuc2lvbnMuMTcnOiB0cnVlLFxuICAnZ2xvYmFsLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQuZ2V0Q29udGV4dC5nZXRTdXBwb3J0ZWRFeHRlbnNpb25zLjE4JzogdHJ1ZSxcbiAgJ2dsb2JhbC5kb2N1bWVudC5jcmVhdGVFbGVtZW50LmdldENvbnRleHQuZ2V0U3VwcG9ydGVkRXh0ZW5zaW9ucy4xOSc6IHRydWUsXG4gICdnbG9iYWwuZG9jdW1lbnQuY3JlYXRlRWxlbWVudC5nZXRDb250ZXh0LmdldFN1cHBvcnRlZEV4dGVuc2lvbnMuMic6IHRydWUsXG4gICdnbG9iYWwuZG9jdW1lbnQuY3JlYXRlRWxlbWVudC5nZXRDb250ZXh0LmdldFN1cHBvcnRlZEV4dGVuc2lvbnMuMjAnOiB0cnVlLFxuICAnZ2xvYmFsLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQuZ2V0Q29udGV4dC5nZXRTdXBwb3J0ZWRFeHRlbnNpb25zLjIxJzogdHJ1ZSxcbiAgJ2dsb2JhbC5kb2N1bWVudC5jcmVhdGVFbGVtZW50LmdldENvbnRleHQuZ2V0U3VwcG9ydGVkRXh0ZW5zaW9ucy4yMic6IHRydWUsXG4gICdnbG9iYWwuZG9jdW1lbnQuY3JlYXRlRWxlbWVudC5nZXRDb250ZXh0LmdldFN1cHBvcnRlZEV4dGVuc2lvbnMuMjMnOiB0cnVlLFxuICAnZ2xvYmFsLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQuZ2V0Q29udGV4dC5nZXRTdXBwb3J0ZWRFeHRlbnNpb25zLjI0JzogdHJ1ZSxcbiAgJ2dsb2JhbC5kb2N1bWVudC5jcmVhdGVFbGVtZW50LmdldENvbnRleHQuZ2V0U3VwcG9ydGVkRXh0ZW5zaW9ucy4yNSc6IHRydWUsXG4gICdnbG9iYWwuZG9jdW1lbnQuY3JlYXRlRWxlbWVudC5nZXRDb250ZXh0LmdldFN1cHBvcnRlZEV4dGVuc2lvbnMuMyc6IHRydWUsXG4gICdnbG9iYWwuZG9jdW1lbnQuY3JlYXRlRWxlbWVudC5nZXRDb250ZXh0LmdldFN1cHBvcnRlZEV4dGVuc2lvbnMuNCc6IHRydWUsXG4gICdnbG9iYWwuZG9jdW1lbnQuY3JlYXRlRWxlbWVudC5nZXRDb250ZXh0LmdldFN1cHBvcnRlZEV4dGVuc2lvbnMuNSc6IHRydWUsXG4gICdnbG9iYWwuZG9jdW1lbnQuY3JlYXRlRWxlbWVudC5nZXRDb250ZXh0LmdldFN1cHBvcnRlZEV4dGVuc2lvbnMuNic6IHRydWUsXG4gICdnbG9iYWwuZG9jdW1lbnQuY3JlYXRlRWxlbWVudC5nZXRDb250ZXh0LmdldFN1cHBvcnRlZEV4dGVuc2lvbnMuNyc6IHRydWUsXG4gICdnbG9iYWwuZG9jdW1lbnQuY3JlYXRlRWxlbWVudC5nZXRDb250ZXh0LmdldFN1cHBvcnRlZEV4dGVuc2lvbnMuOCc6IHRydWUsXG4gICdnbG9iYWwuZG9jdW1lbnQuY3JlYXRlRWxlbWVudC5nZXRDb250ZXh0LmdldFN1cHBvcnRlZEV4dGVuc2lvbnMuOSc6IHRydWUsXG4gICdnbG9iYWwuZG9jdW1lbnQuY3JlYXRlRWxlbWVudC5nZXRDb250ZXh0LmdldFN1cHBvcnRlZEV4dGVuc2lvbnMuam9pbic6IHRydWUsXG4gICdnbG9iYWwuZG9jdW1lbnQuY3JlYXRlRWxlbWVudC5nZXRDb250ZXh0LmdldFN1cHBvcnRlZEV4dGVuc2lvbnMubGVuZ3RoJzogdHJ1ZSxcbiAgJ2dsb2JhbC5kb2N1bWVudC5jcmVhdGVFbGVtZW50LmdldENvbnRleHQuaXNQb2ludEluUGF0aCc6IHRydWUsXG4gICdnbG9iYWwuZG9jdW1lbnQuY3JlYXRlRWxlbWVudC5vZmZzZXRIZWlnaHQnOiB0cnVlLFxuICAnZ2xvYmFsLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQub2Zmc2V0V2lkdGgnOiB0cnVlLFxuICAnZ2xvYmFsLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQudG9EYXRhVVJMJzogdHJ1ZSxcbiAgJ2dsb2JhbC5kb2N1bWVudC5jcmVhdGVFdmVudCc6IHRydWUsXG4gICdnbG9iYWwuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQnOiB0cnVlLFxuICAnZ2xvYmFsLmRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUnOiB0cnVlLFxuICAnZ2xvYmFsLmRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUuMCc6IHRydWUsXG4gICdnbG9iYWwuZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUnOiB0cnVlLFxuICAnZ2xvYmFsLmRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lLjAuYXBwZW5kQ2hpbGQnOiB0cnVlLFxuICAnZ2xvYmFsLmRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lLjAub2Zmc2V0SGVpZ2h0JzogdHJ1ZSxcbiAgJ2dsb2JhbC5kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZS4wLm9mZnNldFdpZHRoJzogdHJ1ZSxcbiAgJ2dsb2JhbC5kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZS5hcHBlbmRDaGlsZCc6IHRydWUsXG4gICdnbG9iYWwuZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUub2Zmc2V0SGVpZ2h0JzogdHJ1ZSxcbiAgJ2dsb2JhbC5kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZS5vZmZzZXRXaWR0aCc6IHRydWUsXG4gICdnbG9iYWwuaW5kZXhlZERCJzogdHJ1ZSxcbiAgJ2dsb2JhbC5sb2NhbFN0b3JhZ2UnOiB0cnVlLFxuICAnZ2xvYmFsLm5hdmlnYXRvci5jb29raWVFbmFibGVkJzogdHJ1ZSxcbiAgJ2dsb2JhbC5uYXZpZ2F0b3IuY3B1Q2xhc3MnOiB0cnVlLFxuICAnZ2xvYmFsLm5hdmlnYXRvci5kZXZpY2VNZW1vcnknOiB0cnVlLFxuICAnZ2xvYmFsLm5hdmlnYXRvci5kb05vdFRyYWNrJzogdHJ1ZSxcbiAgJ2dsb2JhbC5uYXZpZ2F0b3IuaGFyZHdhcmVDb25jdXJyZW5jeSc6IHRydWUsXG4gICdnbG9iYWwubmF2aWdhdG9yLmxhbmd1YWdlJzogdHJ1ZSxcbiAgJ2dsb2JhbC5uYXZpZ2F0b3IubWF4VG91Y2hQb2ludHMnOiB0cnVlLFxuICAnZ2xvYmFsLm5hdmlnYXRvci5tZWRpYURldmljZXMnOiB0cnVlLFxuICAnZ2xvYmFsLm5hdmlnYXRvci5tc0RvTm90VHJhY2snOiB0cnVlLFxuICAnZ2xvYmFsLm5hdmlnYXRvci5wbGF0Zm9ybSc6IHRydWUsXG4gICdnbG9iYWwubmF2aWdhdG9yLnBsdWdpbnMnOiB0cnVlLFxuICAnZ2xvYmFsLm5hdmlnYXRvci5wbHVnaW5zLjAuMC5zdWZmaXhlcyc6IHRydWUsXG4gICdnbG9iYWwubmF2aWdhdG9yLnBsdWdpbnMuMC4wLnR5cGUnOiB0cnVlLFxuICAnZ2xvYmFsLm5hdmlnYXRvci5wbHVnaW5zLjAuZGVzY3JpcHRpb24nOiB0cnVlLFxuICAnZ2xvYmFsLm5hdmlnYXRvci5wbHVnaW5zLjAuZm9yRWFjaCc6IHRydWUsXG4gICdnbG9iYWwubmF2aWdhdG9yLnBsdWdpbnMuMC5sZW5ndGgnOiB0cnVlLFxuICAnZ2xvYmFsLm5hdmlnYXRvci5wbHVnaW5zLjAubmFtZSc6IHRydWUsXG4gICdnbG9iYWwubmF2aWdhdG9yLnBsdWdpbnMuMS4wLnN1ZmZpeGVzJzogdHJ1ZSxcbiAgJ2dsb2JhbC5uYXZpZ2F0b3IucGx1Z2lucy4xLjAudHlwZSc6IHRydWUsXG4gICdnbG9iYWwubmF2aWdhdG9yLnBsdWdpbnMuMS5kZXNjcmlwdGlvbic6IHRydWUsXG4gICdnbG9iYWwubmF2aWdhdG9yLnBsdWdpbnMuMS5mb3JFYWNoJzogdHJ1ZSxcbiAgJ2dsb2JhbC5uYXZpZ2F0b3IucGx1Z2lucy4xLmxlbmd0aCc6IHRydWUsXG4gICdnbG9iYWwubmF2aWdhdG9yLnBsdWdpbnMuMS5uYW1lJzogdHJ1ZSxcbiAgJ2dsb2JhbC5uYXZpZ2F0b3IucGx1Z2lucy4yLjAuc3VmZml4ZXMnOiB0cnVlLFxuICAnZ2xvYmFsLm5hdmlnYXRvci5wbHVnaW5zLjIuMC50eXBlJzogdHJ1ZSxcbiAgJ2dsb2JhbC5uYXZpZ2F0b3IucGx1Z2lucy4yLjEuc3VmZml4ZXMnOiB0cnVlLFxuICAnZ2xvYmFsLm5hdmlnYXRvci5wbHVnaW5zLjIuMS50eXBlJzogdHJ1ZSxcbiAgJ2dsb2JhbC5uYXZpZ2F0b3IucGx1Z2lucy4yLmRlc2NyaXB0aW9uJzogdHJ1ZSxcbiAgJ2dsb2JhbC5uYXZpZ2F0b3IucGx1Z2lucy4yLmZvckVhY2gnOiB0cnVlLFxuICAnZ2xvYmFsLm5hdmlnYXRvci5wbHVnaW5zLjIubGVuZ3RoJzogdHJ1ZSxcbiAgJ2dsb2JhbC5uYXZpZ2F0b3IucGx1Z2lucy4yLm5hbWUnOiB0cnVlLFxuICAnZ2xvYmFsLm5hdmlnYXRvci5wbHVnaW5zLmRlc2NyaXB0aW9uJzogdHJ1ZSxcbiAgJ2dsb2JhbC5uYXZpZ2F0b3IucGx1Z2lucy5mb3JFYWNoJzogdHJ1ZSxcbiAgJ2dsb2JhbC5uYXZpZ2F0b3IucGx1Z2lucy5sZW5ndGgnOiB0cnVlLFxuICAnZ2xvYmFsLm5hdmlnYXRvci5wbHVnaW5zLm5hbWUnOiB0cnVlLFxuICAnZ2xvYmFsLm5hdmlnYXRvci5wbHVnaW5zLnN1ZmZpeGVzJzogdHJ1ZSxcbiAgJ2dsb2JhbC5uYXZpZ2F0b3IucGx1Z2lucy50eXBlJzogdHJ1ZSxcbiAgJ2dsb2JhbC5uYXZpZ2F0b3Iuc3lzdGVtTGFuZ3VhZ2UnOiB0cnVlLFxuICAnZ2xvYmFsLm5hdmlnYXRvci51c2VyQWdlbnQnOiB0cnVlLFxuICAnZ2xvYmFsLm5hdmlnYXRvci53ZWJkcml2ZXInOiB0cnVlLFxuICAnZ2xvYmFsLm9udG91Y2hzdGFydCc6IHRydWUsXG4gICdnbG9iYWwub3BlbkRhdGFiYXNlJzogdHJ1ZSxcbiAgJ2dsb2JhbC5zY3JlZW4uYXZhaWxIZWlnaHQnOiB0cnVlLFxuICAnZ2xvYmFsLnNjcmVlbi5hdmFpbFdpZHRoJzogdHJ1ZSxcbiAgJ2dsb2JhbC5zY3JlZW4uY29sb3JEZXB0aCc6IHRydWUsXG4gICdnbG9iYWwuc2NyZWVuLmRldmljZVhEUEknOiB0cnVlLFxuICAnZ2xvYmFsLnNjcmVlbi5kZXZpY2VZRFBJJzogdHJ1ZSxcbiAgJ2dsb2JhbC5zY3JlZW4uaGVpZ2h0JzogdHJ1ZSxcbiAgJ2dsb2JhbC5zY3JlZW4ud2lkdGgnOiB0cnVlLFxuICAnZ2xvYmFsLnNlc3Npb25TdG9yYWdlJzogdHJ1ZSxcbiAgJ2dsb2JhbC5zd2ZvYmplY3QnOiB0cnVlXG59XG5cbi8vIFxuXG5lbnVtIFRvcCB7IFRvcCB9O1xuXG5sZXQgTXlTZXQgPSBTZXQ7XG5cbmRlY2xhcmUgdmFyIG1vbml0b3I6IE1vbml0b3JCYXNlO1xuXG5leHBvcnQgY2xhc3MgTGFiZWwge1xuXG4gIHByaW5jaXBhbHM6IFNldDxzdHJpbmc+IHwgVG9wO1xuXG4gIGNvbnN0cnVjdG9yKHA/OiBUb3AgfCBzdHJpbmcgfCBzdHJpbmdbXSwgLi4ucmVzdDogc3RyaW5nW10pIHtcblxuICAgIGlmIChwID09PSBUb3AuVG9wKSB7XG4gICAgICB0aGlzLnByaW5jaXBhbHMgPSBUb3AuVG9wO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMucHJpbmNpcGFscyA9IG5ldyBNeVNldChyZXN0KTtcblxuICAgIGlmICh0eXBlb2YgcCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgLy8gI0NSQVdMRVIgLSBpZiBub3QgaW4gdGhlIGludGVyZXN0aW5nIGxhYmVsIHNldCwgYmVjb21lIGJvdFxuICAgICAgaWYgKCFpbmNsdWRlW3BdKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMucHJpbmNpcGFscy5hZGQocCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBwICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgZm9yIChsZXQgeCBvZiBwKSB7XG4gICAgICAgIC8vICNDUkFXTEVSIC0gaWYgbm90IGluIHRoZSBpbnRlcmVzdGluZyBsYWJlbCBzZXQgZG9uJ3QgYWRkXG4gICAgICAgIGlmIChpbmNsdWRlW3hdKSB7XG4gICAgICAgICAgdGhpcy5wcmluY2lwYWxzLmFkZCh4KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIFxuXG4gIHN0YXRpYyBmcm9tU3RyaW5nKGw6IHN0cmluZyk6IExhYmVsIHtcbiAgICByZXR1cm4gbmV3IExhYmVsKGwuc3BsaXQoJywnKSk7XG4gIH1cblxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBcblxuICBzdGF0aWMgZnJvbVVSTChsOiBzdHJpbmcpOiBMYWJlbCB7XG4gICAgdmFyIHJlID0gbmV3IFJlZ0V4cCgnaHR0cDovL1teL10qLycpO1xuICAgIHZhciByZXMgPSByZS5leGVjKGwpO1xuICAgIGlmIChyZXMgPT09IG51bGwpIHtcbiAgICAgIHJldHVybiBuZXcgTGFiZWwobC5zcGxpdCgnLCcpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG5ldyBMYWJlbChbcmVzWzBdXSk7XG4gICAgfVxuICB9XG5cbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gXG5cbiAgZXF1YWxzKGw6IExhYmVsKTogYm9vbGVhbiB7XG5cbiAgICBsZXQgQSA9IHRoaXMucHJpbmNpcGFscztcbiAgICBsZXQgQiA9IGwucHJpbmNpcGFscztcblxuICAgIGlmIChBID09PSBUb3AuVG9wIHx8IEIgPT09IFRvcC5Ub3ApIHtcbiAgICAgIHJldHVybiBBID09PSBCO1xuICAgIH1cblxuICAgIGZvciAobGV0IHAgb2YgQSkge1xuICAgICAgaWYgKCFCLmhhcyhwKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yIChsZXQgcCBvZiBCKSB7XG4gICAgICBpZiAoIUEuaGFzKHApKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIFxuXG4gIGxlKGw6IExhYmVsKTogYm9vbGVhbiB7XG5cbiAgICBsZXQgQSA9IHRoaXMucHJpbmNpcGFscztcbiAgICBsZXQgQiA9IGwucHJpbmNpcGFscztcblxuICAgIGlmIChCID09PSBUb3AuVG9wKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAoQSA9PT0gVG9wLlRvcCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGZvciAobGV0IHAgb2YgQSkge1xuICAgICAgaWYgKCFCLmhhcyhwKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBcblxuICB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgIGxldCBzdHIgPSAnVCc7XG4gICAgaWYgKHRoaXMucHJpbmNpcGFscyAhPT0gVG9wLlRvcCkge1xuICAgICAgc3RyID0gQXJyYXkuZnJvbSh0aGlzLnByaW5jaXBhbHMpLmpvaW4oJywgJyk7XG4gICAgfVxuICAgIHJldHVybiBcIjxcIiArIHN0ciArIFwiPlwiO1xuICB9XG5cbiAgLy8gLS0tXG5cbiAgVG9BcnJheSgpIDogQXJyYXk8c3RyaW5nPiB7XG4gICAgaWYgKHRoaXMucHJpbmNpcGFscyA9PT0gVG9wLlRvcCkge1xuICAgICAgcmV0dXJuIFtcIlRcIl07XG4gICAgfVxuICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMucHJpbmNpcGFscykuc29ydCgpO1xuICB9XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIFxuXG5leHBvcnQgdmFyIHRvcCA9IG5ldyBMYWJlbChUb3AuVG9wKTtcbmV4cG9ydCB2YXIgYm90ID0gbmV3IExhYmVsKCk7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIFxuXG5leHBvcnQgZnVuY3Rpb24gbGUobDEgOiBMYWJlbCwgbDIgOiBMYWJlbCkge1xuICByZXR1cm4gKGwxLmxlKGwyKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZShsMSA6IExhYmVsLCBsMiA6IExhYmVsKSB7XG4gIHJldHVybiAhbDEubGUobDIpIHx8IGwxLmVxdWFscyhsMik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsdWIoLi4uYXJncyA6IExhYmVsW10pIHtcbiAgaWYoYXJncy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gYm90O1xuICB9XG5cbiAgbGV0IGNvbWJpbmVkUHJpbmNpcGFsczogU2V0PHN0cmluZz4gPSBuZXcgTXlTZXQoKTtcbiAgZm9yKGxldCBsIG9mIGFyZ3MpIHtcbiAgICBpZihsLnByaW5jaXBhbHMgPT09IFRvcC5Ub3ApIHtcbiAgICAgIHJldHVybiB0b3A7XG4gICAgfVxuXG4gICAgZm9yKGxldCBwIG9mIGwucHJpbmNpcGFscykge1xuICAgICAgY29tYmluZWRQcmluY2lwYWxzLmFkZChwKTtcbiAgICB9XG4gIH1cblxuICBsZXQgcmV0ID0gbmV3IExhYmVsKCk7XG4gIHJldC5wcmluY2lwYWxzID0gY29tYmluZWRQcmluY2lwYWxzO1xuXG4gIC8vICNDUkFXTEVSXG4gIGlmIChJc0NyYXdsZXIobW9uaXRvcikpIHtcbiAgICBtb25pdG9yLkNyYXdsZXJEYXRhLkFkZEdlbmVyYXRlZChyZXQpO1xuICB9XG5cbiAgcmV0dXJuIHJldDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdsYiguLi5hcmdzIDogTGFiZWxbXSkge1xuICBpZihhcmdzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBib3Q7XG4gIH1cblxuICBsZXQgaW50ZXJzZWN0ZWRQcmluY2lwYWxzOiBTZXQ8c3RyaW5nPiA9IG5ldyBNeVNldCgpO1xuICBsZXQgYWxsSXNUb3AgPSB0cnVlO1xuICBmb3IobGV0IGwgb2YgYXJncykge1xuICAgIGlmKGwucHJpbmNpcGFscyAhPT0gVG9wLlRvcCkge1xuICAgICAgaW50ZXJzZWN0ZWRQcmluY2lwYWxzID0gbC5wcmluY2lwYWxzO1xuICAgICAgYWxsSXNUb3AgPSBmYWxzZTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIGlmKGFsbElzVG9wKSB7XG4gICAgLy8gQWxsIGlzIFRvcCFcbiAgICByZXR1cm4gdG9wO1xuICB9XG5cbiAgZm9yKGxldCBsIG9mIGFyZ3MpIHtcbiAgICBpZihsLnByaW5jaXBhbHMgPT09IFRvcC5Ub3ApIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGZvcihsZXQgcCBvZiBpbnRlcnNlY3RlZFByaW5jaXBhbHMpIHtcbiAgICAgIGlmKCFsLnByaW5jaXBhbHMuaGFzKHApKSB7XG4gICAgICAgIGludGVyc2VjdGVkUHJpbmNpcGFscy5kZWxldGUocCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgbGV0IHJldCA9IG5ldyBMYWJlbCgpO1xuICByZXQucHJpbmNpcGFscyA9IGludGVyc2VjdGVkUHJpbmNpcGFscztcbiAgcmV0dXJuIHJldDtcbn1cbiIsImltcG9ydCB7IElFbnZpcm9ubWVudFJlY29yZCwgVmFsdWVUeXBlcywgSUVjbWFPYmplY3QgfSBmcm9tIFwiLi9JbnRlcmZhY2VzXCI7XG5pbXBvcnQgeyBPYmplY3RFbnZpcm9ubWVudFJlY29yZCB9IGZyb20gXCIuL09iamVjdEVudmlyb25tZW50UmVjb3JkXCI7XG5pbXBvcnQgeyBEZWNsYXJhdGl2ZUVudmlyb25tZW50UmVjb3JkIH0gZnJvbSBcIi4vRGVjbGFyYXRpdmVFbnZpcm9ubWVudFJlY29yZFwiO1xuaW1wb3J0IHsgVmFsdWUgfSBmcm9tIFwiLi9WYWx1ZVwiO1xuaW1wb3J0IHsgTW9uaXRvckJhc2UgfSBmcm9tIFwiLi9Nb25pdG9yQmFzZVwiO1xuXG5kZWNsYXJlIHZhciBtb25pdG9yOiBNb25pdG9yQmFzZTtcblxuLy8gLS0tXG5cbmV4cG9ydCBjbGFzcyBMZXhpY2FsRW52aXJvbm1lbnQgaW1wbGVtZW50cyBJRW52aXJvbm1lbnRSZWNvcmQge1xuXG4gIEVudmlyb25tZW50UmVjb3JkOiBPYmplY3RFbnZpcm9ubWVudFJlY29yZCB8IERlY2xhcmF0aXZlRW52aXJvbm1lbnRSZWNvcmQ7XG4gIE91dGVyTGV4aWNhbEVudmlyb25tZW50OiBWYWx1ZTxMZXhpY2FsRW52aXJvbm1lbnQ+O1xuXG4gIGNvbnN0cnVjdG9yKGVyOiBPYmplY3RFbnZpcm9ubWVudFJlY29yZCB8IERlY2xhcmF0aXZlRW52aXJvbm1lbnRSZWNvcmQsIGxlOiBWYWx1ZTxMZXhpY2FsRW52aXJvbm1lbnQ+KSB7XG4gICAgdGhpcy5FbnZpcm9ubWVudFJlY29yZCA9IGVyO1xuICAgIHRoaXMuT3V0ZXJMZXhpY2FsRW52aXJvbm1lbnQgPSBsZTtcbiAgfVxuXG4gIHByb3ZpZGVUaGlzKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLkVudmlyb25tZW50UmVjb3JkIGluc3RhbmNlb2YgT2JqZWN0RW52aXJvbm1lbnRSZWNvcmQpIHtcbiAgICAgIHRoaXMuRW52aXJvbm1lbnRSZWNvcmQucHJvdmlkZVRoaXMgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIEhhc0JpbmRpbmcoczogVmFsdWU8c3RyaW5nPik6IFZhbHVlPGJvb2xlYW4+IHtcbiAgICByZXR1cm4gdGhpcy5FbnZpcm9ubWVudFJlY29yZC5IYXNCaW5kaW5nKHMpO1xuICB9XG5cbiAgQ3JlYXRlTXV0YWJsZUJpbmRpbmcocDogVmFsdWU8c3RyaW5nPiwgZD86IGJvb2xlYW4pOiB2b2lkIHtcbiAgICByZXR1cm4gdGhpcy5FbnZpcm9ubWVudFJlY29yZC5DcmVhdGVNdXRhYmxlQmluZGluZyhwLCBkKTtcbiAgfVxuXG4gIFNldE11dGFibGVCaW5kaW5nKHA6IFZhbHVlPHN0cmluZz4sIHY6IFZhbHVlPFZhbHVlVHlwZXM+LCBzPzogYm9vbGVhbik6IHZvaWQge1xuICAgIHJldHVybiB0aGlzLkVudmlyb25tZW50UmVjb3JkLlNldE11dGFibGVCaW5kaW5nKHAsIHYsIHMpO1xuICB9XG5cbiAgR2V0QmluZGluZ1ZhbHVlKHA6IFZhbHVlPHN0cmluZz4sIHM/OiBib29sZWFuKTogVmFsdWU8VmFsdWVUeXBlcz4ge1xuICAgIHJldHVybiB0aGlzLkVudmlyb25tZW50UmVjb3JkLkdldEJpbmRpbmdWYWx1ZShwLCBzKTtcbiAgfVxuXG4gIERlbGV0ZUJpbmRpbmcocDogVmFsdWU8c3RyaW5nPik6IFZhbHVlPGJvb2xlYW4+IHtcbiAgICByZXR1cm4gdGhpcy5FbnZpcm9ubWVudFJlY29yZC5EZWxldGVCaW5kaW5nKHApO1xuICB9XG5cbiAgSW1wbGljaXRUaGlzVmFsdWUoKTogVmFsdWU8SUVjbWFPYmplY3QgfCB1bmRlZmluZWQ+IHtcbiAgICByZXR1cm4gdGhpcy5FbnZpcm9ubWVudFJlY29yZC5JbXBsaWNpdFRoaXNWYWx1ZSgpO1xuICB9XG5cbiAgLy8gVE9ETzogZml4XG4gIC8vIE9ubHkgbWVhbmluZ2Z1bCBpZiB0aGUgdW5kZXJseWluZyBlbnZpcm9ubWVudCByZWNvcmQgaXMgXG4gIC8vICBhIGRlY2xhcmF0aXZlIGVudmlyb25tZW50IHJlY29yZFxuICBDcmVhdGVJbW11dGFibGVCaW5kaW5nKHA6IFZhbHVlPHN0cmluZz4sIHM/OiBib29sZWFuKTogdm9pZCB7XG4gICAgLy9AdHMtaWdub3JlIFRZUEVTXG4gICAgdGhpcy5FbnZpcm9ubWVudFJlY29yZC5DcmVhdGVJbW11dGFibGVCaW5kaW5nKHApO1xuICB9XG5cbiAgSW5pdGlhbGl6ZUltbXV0YWJsZUJpbmRpbmcocCA6IFZhbHVlPHN0cmluZz4sIHYgOiBWYWx1ZTxWYWx1ZVR5cGVzPikgOiB2b2lkICB7XG4gICAgLy9AdHMtaWdub3JlIFRZUEVTXG4gICAgdGhpcy5FbnZpcm9ubWVudFJlY29yZC5Jbml0aWFsaXplSW1tdXRhYmxlQmluZGluZyhwLCB2KTtcbiAgfVxuXG59IiwiaW1wb3J0IHsgVmFsdWUgfSBmcm9tIFwiLi4vLi4vVmFsdWVcIjtcbmltcG9ydCB7IGJvdCB9IGZyb20gXCIuLi8uLi9MYWJlbFwiO1xuaW1wb3J0IHsgUmVxdWlyZSB9IGZyb20gXCIuLi9SZXF1aXJlXCI7XG5pbXBvcnQgeyBNb2R1bGUgfSBmcm9tIFwiLi4vTW9kdWxlXCI7XG5pbXBvcnQgeyBNb25pdG9yQmFzZSB9IGZyb20gXCIuLi8uLi9Nb25pdG9yQmFzZVwiO1xuaW1wb3J0IHsgVmFsdWVUeXBlcyB9IGZyb20gXCIuLi8uLi9JbnRlcmZhY2VzXCI7XG5pbXBvcnQgeyByZWFkRmlsZVN5bmMgfSBmcm9tIFwiZnNcIjtcbmltcG9ydCB7IGJhc2VuYW1lLCBkaXJuYW1lIH0gZnJvbSBcInBhdGhcIjtcbmltcG9ydCB7IENvbW1vbkpTUmVxdWlyZSB9IGZyb20gXCIuL1JlcXVpcmVcIjtcblxuXG5kZWNsYXJlIHZhciBtb25pdG9yOiBNb25pdG9yQmFzZTtcblxuLy8tLS1cblxuZXhwb3J0IGNsYXNzIENvbW1vbkpTTW9kdWxlIGV4dGVuZHMgTW9kdWxlIHtcblxuICAgIHJlcXVpcmU6IFJlcXVpcmU7XG5cbiAgICBjb25zdHJ1Y3RvcihmaWxlbmFtZT86IFZhbHVlPHN0cmluZz4sIHBhcmVudD86IE1vZHVsZSkge1xuICAgICAgICBzdXBlcihmaWxlbmFtZSwgcGFyZW50KTtcblxuICAgICAgICB0aGlzLnBhcmVudCA9IHBhcmVudDtcbiAgICAgICAgdGhpcy5yZXF1aXJlID0gbmV3IENvbW1vbkpTUmVxdWlyZSh0aGlzKTtcbiAgICAgICAgdGhpcy5QdXQobmV3IFZhbHVlKCdyZXF1aXJlJywgYm90KSwgbmV3IFZhbHVlKHRoaXMucmVxdWlyZSwgYm90KSwgZmFsc2UpO1xuICAgIH1cblxuICAgIHN0YXRpYyBMb2FkTW9kdWxlKHBhdGg6IFZhbHVlPHN0cmluZz4sIHBhcmVudD86IE1vZHVsZSk6IFZhbHVlPFZhbHVlVHlwZXM+IHtcbiAgICAgICAgbGV0IHNjcmlwdCA9IHJlYWRGaWxlU3luYyhwYXRoLnZhbHVlKS50b1N0cmluZygpO1xuICAgICAgICBsZXQgbW9kdWxlRnVuY3Rpb24gPSBtb25pdG9yLmluc3RhbmNlcy5GdW5jdGlvbkNvbnN0cnVjdG9yLkNvbnN0cnVjdChcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICBuZXcgVmFsdWUoJ3JlcXVpcmUnLCBib3QpLFxuICAgICAgICAgICAgICAgIG5ldyBWYWx1ZSgnbW9kdWxlJywgYm90KSxcbiAgICAgICAgICAgICAgICBuZXcgVmFsdWUoJ2V4cG9ydHMnLCBib3QpLFxuICAgICAgICAgICAgICAgIG5ldyBWYWx1ZSgnX19maWxlbmFtZScsIGJvdCksXG4gICAgICAgICAgICAgICAgbmV3IFZhbHVlKCdfX2Rpcm5hbWUnLCBib3QpLFxuICAgICAgICAgICAgICAgIG5ldyBWYWx1ZShzY3JpcHQsIHBhdGgubGFiZWwpXG4gICAgICAgICAgICBdXG4gICAgICAgICk7XG5cbiAgICAgICAgbGV0IG1vZHVsZSA9IG5ldyBDb21tb25KU01vZHVsZShwYXRoLCBwYXJlbnQpO1xuICAgICAgICBsZXQgZXhwb3J0c09iamVjdCA9IG1vZHVsZS5HZXQobmV3IFZhbHVlKCdleHBvcnRzJywgYm90KSk7XG4gICAgICAgIFJlcXVpcmUuY2FjaGUuc2V0KHBhdGgudmFsdWUsIGV4cG9ydHNPYmplY3QpO1xuXG4gICAgICAgIG1vZHVsZUZ1bmN0aW9uLkNhbGwoXG4gICAgICAgICAgICBuZXcgVmFsdWUodW5kZWZpbmVkLCBib3QpLFxuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgIG5ldyBWYWx1ZShtb2R1bGUucmVxdWlyZSwgYm90KSxcbiAgICAgICAgICAgICAgICBuZXcgVmFsdWUobW9kdWxlLCBib3QpLFxuICAgICAgICAgICAgICAgIGV4cG9ydHNPYmplY3QsXG4gICAgICAgICAgICAgICAgbmV3IFZhbHVlKGJhc2VuYW1lKHBhdGgudmFsdWUpLCBwYXRoLmxhYmVsKSxcbiAgICAgICAgICAgICAgICBuZXcgVmFsdWUoZGlybmFtZShwYXRoLnZhbHVlKSwgcGF0aC5sYWJlbClcbiAgICAgICAgICAgIF1cbiAgICAgICAgKTtcblxuICAgICAgICByZXR1cm4gbW9kdWxlLkdldChuZXcgVmFsdWUoJ2V4cG9ydHMnLCBib3QpKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgbm9ybWFsaXplLCBqb2luLCByZXNvbHZlIH0gZnJvbSBcInBhdGhcIjtcbmltcG9ydCB7IGV4aXN0c1N5bmMgfSBmcm9tIFwiZnNcIjtcbmltcG9ydCB7IFJlcXVpcmUgfSBmcm9tIFwiLi4vUmVxdWlyZVwiO1xuaW1wb3J0IHsgTW9kdWxlIH0gZnJvbSBcIi4uL01vZHVsZVwiO1xuaW1wb3J0IHsgVmFsdWUgfSBmcm9tIFwiLi4vLi4vVmFsdWVcIjtcbmltcG9ydCB7IFZhbHVlVHlwZXMgfSBmcm9tIFwiLi4vLi4vSW50ZXJmYWNlc1wiO1xuaW1wb3J0IHsgbHViIH0gZnJvbSBcIi4uLy4uL0xhYmVsXCI7XG5pbXBvcnQgeyBDb21tb25KU01vZHVsZSB9IGZyb20gXCIuL01vZHVsZVwiO1xuXG5cbmV4cG9ydCBjbGFzcyBDb21tb25KU1JlcXVpcmUgZXh0ZW5kcyBSZXF1aXJlIHtcblxuICAgIGNvbnN0cnVjdG9yKG1vZHVsZTogTW9kdWxlKSB7XG4gICAgICAgIHN1cGVyKG1vZHVsZSk7XG4gICAgfVxuXG4gICAgVHJ5TG9hZChsYWJlbGVkSUQ6IFZhbHVlPHN0cmluZz4pOiBWYWx1ZTxWYWx1ZVR5cGVzPiB8IHVuZGVmaW5lZCB7XG4gICAgICAgIGxldCBpZCA9IGxhYmVsZWRJRC52YWx1ZTtcblxuICAgICAgICBmb3IgKGxldCBwYXJlbnRQYXRoIG9mIHRoaXMubW9kdWxlLnBhdGhzKSB7XG4gICAgICAgICAgICBpZiAoaWQuc3RhcnRzV2l0aCgnLycpKSB7XG4gICAgICAgICAgICAgICAgcGFyZW50UGF0aCA9ICcvJztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGlkLnN0YXJ0c1dpdGgoJy4vJykgfHwgaWQuc3RhcnRzV2l0aCgnLycpIHx8IGlkLnN0YXJ0c1dpdGgoJy4uLycpKSB7XG4gICAgICAgICAgICAgICAgbGV0IG1vZHVsZVBhdGggPSByZXNvbHZlKGpvaW4ocGFyZW50UGF0aCwgaWQpKTtcbiAgICAgICAgICAgICAgICBpZiAoZXhpc3RzU3luYyhtb2R1bGVQYXRoKSkge1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChSZXF1aXJlLmNhY2hlLmdldChtb2R1bGVQYXRoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG1vZHVsZSA9IFJlcXVpcmUuY2FjaGUuZ2V0KG1vZHVsZVBhdGgpIGFzIFZhbHVlPE1vZHVsZT47XG4gICAgICAgICAgICAgICAgICAgICAgICBtb2R1bGUucmFpc2UobHViKHRoaXMubGFiZWwsIGxhYmVsZWRJRC5sYWJlbCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1vZHVsZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBDb21tb25KU01vZHVsZS5Mb2FkTW9kdWxlKG5ldyBWYWx1ZShtb2R1bGVQYXRoLCBsYWJlbGVkSUQubGFiZWwpLCB0aGlzLm1vZHVsZSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbW9kdWxlUGF0aCA9IHJlc29sdmUoam9pbihwYXJlbnRQYXRoLCBpZCArICcuanMnKSk7XG4gICAgICAgICAgICAgICAgaWYgKGV4aXN0c1N5bmMobW9kdWxlUGF0aCkpIHtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoUmVxdWlyZS5jYWNoZS5nZXQobW9kdWxlUGF0aCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBtb2R1bGUgPSBSZXF1aXJlLmNhY2hlLmdldChtb2R1bGVQYXRoKSBhcyBWYWx1ZTxNb2R1bGU+O1xuICAgICAgICAgICAgICAgICAgICAgICAgbW9kdWxlLnJhaXNlKGx1Yih0aGlzLmxhYmVsLCBsYWJlbGVkSUQubGFiZWwpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtb2R1bGU7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gQ29tbW9uSlNNb2R1bGUuTG9hZE1vZHVsZShuZXcgVmFsdWUobW9kdWxlUGF0aCwgbGFiZWxlZElELmxhYmVsKSwgdGhpcy5tb2R1bGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxufSIsImltcG9ydCB7IFZhbHVlIH0gZnJvbSBcIi4uL1ZhbHVlXCI7XG5pbXBvcnQgeyBNb25pdG9yQmFzZSB9IGZyb20gXCIuLi9Nb25pdG9yQmFzZVwiO1xuaW1wb3J0IHsgT2JqZWN0T2JqZWN0IH0gZnJvbSBcIi4uL09iamVjdHMvT2JqZWN0T2JqZWN0XCI7XG5pbXBvcnQgeyBkaXJuYW1lIH0gZnJvbSBcInBhdGhcIjtcbmltcG9ydCB7IEVjbWFPYmplY3QgfSBmcm9tIFwiLi4vT2JqZWN0cy9FY21hT2JqZWN0XCI7XG5pbXBvcnQgeyBib3QsIExhYmVsLCBsdWIgfSBmcm9tIFwiLi4vTGFiZWxcIjtcbmltcG9ydCB7IGN3ZCB9IGZyb20gXCJwcm9jZXNzXCI7XG5pbXBvcnQgeyBSZXF1aXJlIH0gZnJvbSBcIi4vUmVxdWlyZVwiO1xuaW1wb3J0IHsgVmFsdWVUeXBlcyB9IGZyb20gXCIuLi9JbnRlcmZhY2VzXCI7XG5cbmRlY2xhcmUgdmFyIG1vbml0b3I6IE1vbml0b3JCYXNlO1xuXG4vLyAtLS1cblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIE1vZHVsZSBleHRlbmRzIEVjbWFPYmplY3Qge1xuXG4gICAgbGFiZWw6IExhYmVsO1xuICAgIGZpbGVuYW1lPzogc3RyaW5nO1xuICAgIHBhdGhzOiBzdHJpbmdbXTtcblxuICAgIHBhcmVudDogTW9kdWxlIHwgdW5kZWZpbmVkO1xuXG4gICAgYWJzdHJhY3QgcmVxdWlyZTogUmVxdWlyZTtcblxuICAgIGNvbnN0cnVjdG9yKGZpbGVuYW1lPzogVmFsdWU8c3RyaW5nPiwgcGFyZW50PzogTW9kdWxlKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuQ2xhc3MgPSAnTW9kdWxlJztcblxuICAgICAgICBpZiAoZmlsZW5hbWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5sYWJlbCA9IGx1YihmaWxlbmFtZS5sYWJlbCwgbW9uaXRvci5jb250ZXh0LmVmZmVjdGl2ZVBDKTtcbiAgICAgICAgICAgIHRoaXMuZmlsZW5hbWUgPSBmaWxlbmFtZS52YWx1ZTtcbiAgICAgICAgICAgIHRoaXMucGF0aHMgPSB0aGlzLmNvbXB1dGVQYXRocyhkaXJuYW1lKHRoaXMuZmlsZW5hbWUpKTtcbiAgICAgICAgICAgIHRoaXMuUHV0KG5ldyBWYWx1ZSgnZmlsZW5hbWUnLCBib3QpLCBmaWxlbmFtZSwgZmFsc2UpO1xuICAgICAgICAgICAgdGhpcy5QdXQobmV3IFZhbHVlKCdpZCcsIGJvdCksIGZpbGVuYW1lLCBmYWxzZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmxhYmVsID0gbW9uaXRvci5jb250ZXh0LmVmZmVjdGl2ZVBDO1xuICAgICAgICAgICAgdGhpcy5wYXRocyA9IHRoaXMuY29tcHV0ZVBhdGhzKGN3ZCgpKTtcbiAgICAgICAgICAgIHRoaXMuUHV0KG5ldyBWYWx1ZSgnZmlsZW5hbWUnLCBib3QpLCBuZXcgVmFsdWUodW5kZWZpbmVkLCBib3QpLCBmYWxzZSk7XG4gICAgICAgICAgICB0aGlzLlB1dChuZXcgVmFsdWUoJ2lkJywgYm90KSwgbmV3IFZhbHVlKFwiPHJlcGw+XCIsIGJvdCksIGZhbHNlKTtcblxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGV4cG9ydHNPYmplY3QgPSBuZXcgT2JqZWN0T2JqZWN0KCk7XG4gICAgICAgIHRoaXMuUHV0KG5ldyBWYWx1ZSgnZXhwb3J0cycsIGJvdCksIG5ldyBWYWx1ZShleHBvcnRzT2JqZWN0LCBib3QpLCBmYWxzZSk7XG4gICAgfVxuXG4gICAgY29tcHV0ZVBhdGhzKGRpcm5hbWU6IHN0cmluZyk6IHN0cmluZ1tdIHtcbiAgICAgICAgcmV0dXJuIFtkaXJuYW1lXTtcbiAgICB9XG5cbn1cbiIsImltcG9ydCB7IFZhbHVlIH0gZnJvbSBcIi4uL1ZhbHVlXCI7XG5pbXBvcnQgeyBWYWx1ZVR5cGVzIH0gZnJvbSBcIi4uL0ludGVyZmFjZXNcIjtcbmltcG9ydCB7IEVjbWFPYmplY3QgfSBmcm9tIFwiLi4vT2JqZWN0cy9FY21hT2JqZWN0XCI7XG5pbXBvcnQgeyBMYWJlbCwgbHViIH0gZnJvbSBcIi4uL0xhYmVsXCI7XG5pbXBvcnQgeyBNb2R1bGUgfSBmcm9tIFwiLi9Nb2R1bGVcIjtcbmltcG9ydCB7IE1vbml0b3JCYXNlIH0gZnJvbSBcIi4uL01vbml0b3JCYXNlXCI7XG5cbmRlY2xhcmUgdmFyIG1vbml0b3I6IE1vbml0b3JCYXNlO1xuXG4vLyAtLS1cblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFJlcXVpcmUgZXh0ZW5kcyBFY21hT2JqZWN0IHtcblxuICAgIGxhYmVsOiBMYWJlbDtcblxuICAgIG1vZHVsZTogTW9kdWxlO1xuICAgIG1haW4/OiBNb2R1bGU7XG4gICAgc3RhdGljIGNhY2hlOiBNYXA8c3RyaW5nLCBWYWx1ZTxWYWx1ZVR5cGVzPj4gPSBuZXcgTWFwKCk7XG5cbiAgICBjb25zdHJ1Y3Rvcihtb2R1bGU6IE1vZHVsZSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLkNsYXNzID0gJ1JlcXVpcmUnO1xuICAgICAgICB0aGlzLm1vZHVsZSA9IG1vZHVsZTtcblxuICAgICAgICAvLyB0aGlzIGlzIHRoZSB0b3Btb3N0IHJlcXVpcmVcbiAgICAgICAgaWYgKG1vZHVsZS5wYXJlbnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5sYWJlbCA9IG1vbml0b3IuY29udGV4dC5lZmZlY3RpdmVQQztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubWFpbiA9IG1vZHVsZS5wYXJlbnQucmVxdWlyZS5tYWluO1xuICAgICAgICAgICAgdGhpcy5sYWJlbCA9IGx1Yihtb2R1bGUubGFiZWwsIG1vbml0b3IuY29udGV4dC5lZmZlY3RpdmVQQyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyAtLS1cblxuICAgIENhbGwodGhpc0FyZzogVmFsdWU8VmFsdWVUeXBlcz4sIGFyZ3M6IFZhbHVlPFZhbHVlVHlwZXM+W10pOiBWYWx1ZTxWYWx1ZVR5cGVzPiB7XG4gICAgICAgIGxldCBsYWJlbGVkSUQgPSBhcmdzWzBdO1xuICAgICAgICBpZiAodHlwZW9mIGxhYmVsZWRJRC52YWx1ZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIG1vbml0b3IuVGhyb3coXG4gICAgICAgICAgICAgICAgXCJUeXBlRXJyb3JcIixcbiAgICAgICAgICAgICAgICAncmVxdWlyZSBleHBlY3RzIGEgc3RyaW5nJyxcbiAgICAgICAgICAgICAgICB0aGlzQXJnLmxhYmVsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgdGhyb3cgJ1R5cGVTY3JpcHQnO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IG1vZHVsZSA9IHRoaXMuVHJ5TG9hZChsYWJlbGVkSUQgYXMgVmFsdWU8c3RyaW5nPik7XG5cbiAgICAgICAgaWYgKG1vZHVsZSA9PT0gdW5kZWZpbmVkKSB7XG5cbiAgICAgICAgICAgIG1vbml0b3IuVGhyb3coXG4gICAgICAgICAgICAgICAgXCJFcnJvclwiLFxuICAgICAgICAgICAgICAgIGAke2xhYmVsZWRJRC52YWx1ZX0gbm90IGZvdW5kYCxcbiAgICAgICAgICAgICAgICB0aGlzQXJnLmxhYmVsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgdGhyb3cgJ1R5cGVTY3JpcHQnO1xuXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbW9kdWxlO1xuICAgIH1cblxuICAgIENvbnN0cnVjdChhcmdzOiBWYWx1ZTxWYWx1ZVR5cGVzPltdKTogVmFsdWU8VmFsdWVUeXBlcz4ge1xuICAgICAgICBtb25pdG9yLmZhdGFsKCdDYW5ub3QgdXNlIHJlcXVpcmUgYXMgYSBjb25zdHJ1Y3RvcicpO1xuICAgICAgICB0aHJvdyAnVHlwZVNjcmlwdCc7XG4gICAgfVxuXG4gICAgLy8gLS0tXG4gICAgYWJzdHJhY3QgVHJ5TG9hZChsYWJlbGVkSUQ6IFZhbHVlPHN0cmluZz4pOiBWYWx1ZTxWYWx1ZVR5cGVzPiB8IHVuZGVmaW5lZDtcbn0iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzXG4gKiBmaWxlLCBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgeyBMYWJlbCwgbGUsIGJvdCB9IGZyb20gJy4vTGFiZWwnO1xuaW1wb3J0IHsgVmFsdWUgfSBmcm9tIFwiLi9WYWx1ZVwiO1xuaW1wb3J0IHsgQ29udGV4dCB9IGZyb20gJy4vQ29udGV4dCc7XG5pbXBvcnQgeyBPcHRpb25zIH0gZnJvbSAnLi9PcHRpb25zJztcbmltcG9ydCB7IFN0YWNrIH0gZnJvbSAnLi9TdGFjayc7XG5cbmltcG9ydCB7IEluc3RhbmNlcyB9IGZyb20gJy4vSW5zdGFuY2VzJztcbmltcG9ydCB7IEVycm9yT2JqZWN0IH0gZnJvbSAnLi9PYmplY3RzL0Vycm9yT2JqZWN0JztcbmltcG9ydCB7IEV2YWxFcnJvck9iamVjdCB9IGZyb20gJy4vT2JqZWN0cy9FdmFsRXJyb3JPYmplY3QnO1xuaW1wb3J0IHsgUmFuZ2VFcnJvck9iamVjdCB9IGZyb20gJy4vT2JqZWN0cy9SYW5nZUVycm9yT2JqZWN0JztcbmltcG9ydCB7IFJlZmVyZW5jZUVycm9yT2JqZWN0IH0gZnJvbSAnLi9PYmplY3RzL1JlZmVyZW5jZUVycm9yT2JqZWN0JztcbmltcG9ydCB7IFN5bnRheEVycm9yT2JqZWN0IH0gZnJvbSAnLi9PYmplY3RzL1N5bnRheEVycm9yT2JqZWN0JztcbmltcG9ydCB7IFR5cGVFcnJvck9iamVjdCB9IGZyb20gJy4vT2JqZWN0cy9UeXBlRXJyb3JPYmplY3QnO1xuaW1wb3J0IHsgVVJJRXJyb3JPYmplY3QgfSBmcm9tICcuL09iamVjdHMvVVJJRXJyb3JPYmplY3QnO1xuaW1wb3J0IHsgR2xvYmFsT2JqZWN0IH0gZnJvbSAnLi9PYmplY3RzL0dsb2JhbE9iamVjdCc7XG5pbXBvcnQgeyBUaHJvd1R5cGUsIFZhbHVlVHlwZXMgfSBmcm9tICcuL0ludGVyZmFjZXMnO1xuaW1wb3J0IHsgTGV4aWNhbEVudmlyb25tZW50IH0gZnJvbSAnLi9MZXhpY2FsRW52aXJvbm1lbnQnO1xuXG5pbXBvcnQgKiBhcyBlc3RyZWUgZnJvbSAnZXN0cmVlJztcbmltcG9ydCB7IFN0YWNrVHJhY2UgfSBmcm9tICcuL1N0YWNrVHJhY2UnO1xuaW1wb3J0IHsgcnVubmluZywgZXhlY3V0ZUdsb2JhbENvZGUsIHJlc3VtZSB9IGZyb20gJy4vRW5naW5lL0V4ZWN1dGUnO1xuaW1wb3J0IHsgRmF0YWxFcnJvciwgU2VjdXJpdHlFcnJvciwgaXNKU0Zsb3dFcnJvciB9IGZyb20gJy4vRXJyb3InO1xuXG5pbXBvcnQgKiBhcyBiZWF1dGlmeSBmcm9tIFwianMtYmVhdXRpZnlcIjtcblxuZGVjbGFyZSB2YXIgbW9uaXRvcjogTW9uaXRvckJhc2U7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmV4cG9ydCBjbGFzcyBFeGVjdXRpb25JbmZvIHtcblxuICBzdGVwcyA6IG51bWJlcjtcbiAgdGltZSA6IG51bWJlcjtcbiAgZGVsdGEgPSAxMDAwMDA7XG5cbiAgY29uc3RydWN0b3IgKCkge1xuICAgIHRoaXMuc3RlcHMgPSAwO1xuICAgIHRoaXMudGltZSA9IERhdGUubm93KCk7XG4gIH1cblxuICBzdGVwKCkge1xuICAgIHRoaXMuc3RlcHMrKztcbiAgICBpZiAodGhpcy5zdGVwcyAlIHRoaXMuZGVsdGEgPT09IDApIHtcbiAgICAgIHRoaXMucmVwb3J0KCk7XG4gICAgfVxuICB9XG5cbiAgcmVwb3J0KCkgOiB2b2lkIHtcbiAgICBpZiAoIW1vbml0b3Iub3B0aW9ucy5nZXQoJ21vbml0b3IucHJvZ3Jlc3MnKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxldCBjdXJyZW50VGltZSA9IERhdGUubm93KCk7XG4gICAgbGV0IGVsYXBzZWQgPSAoY3VycmVudFRpbWUgLSB0aGlzLnRpbWUpLzEwMDA7XG4gICAgbW9uaXRvci5pbmZvKGBFeGVjdXRlZCBhIHRvdGFsIG9mICR7dGhpcy5zdGVwc30gc3RlcHMgaW4gJHtlbGFwc2VkfSBzZWNvbmRzIGF0IGFuIGF2ZXJhZ2UgcmF0ZSBvZiAke01hdGguZmxvb3IodGhpcy5zdGVwcy9lbGFwc2VkKX0gc3RlcHMvc2Vjb25kYCk7XG4gIH1cbiAgXG59XG5cbi8vXG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBNb25pdG9yQmFzZSB7XG5cbiAgb3B0aW9uczogT3B0aW9ucztcbiAgZGVidWc6IHsgYWN0aXZlOiBib29sZWFuIH1cbiAgY29udGV4dFN0YWNrOiBTdGFjazxDb250ZXh0PiA9IG5ldyBTdGFjaygpO1xuICBleGVjdXRpb25JbmZvIDogRXhlY3V0aW9uSW5mbztcblxuICBjb2RlPzogc3RyaW5nOyAvLyBzZXQgYnkgZXhlY3V0ZUdsb2JhbENvZGVcbiAgYXN0PzogZXN0cmVlLlByb2dyYW07IC8vIHNldCBieSBleGVjdXRlR2xvYmFsQ29kZVxuICBvZmZlbmRpbmdUcmFjZT8gOiBTdGFja1RyYWNlOyAvLyBzZXQgYnl0IHRocm93U3RhdGVtZW50RW5kXG5cbiAgYWJzdHJhY3QgaW5zdGFuY2VzOiBJbnN0YW5jZXM7XG4gIGFic3RyYWN0IEdsb2JhbE9iamVjdDogR2xvYmFsT2JqZWN0O1xuICBhYnN0cmFjdCBHbG9iYWxFbnZpcm9ubWVudDogTGV4aWNhbEVudmlyb25tZW50O1xuXG4gIHByaW50OiAoLi4ucmVzdDogYW55W10pID0+IHZvaWQ7XG4gIGxvZzogKC4uLnJlc3Q6IGFueVtdKSA9PiB2b2lkO1xuICBpbmZvOiAoLi4ucmVzdDogYW55W10pID0+IHZvaWQ7XG4gIHdhcm46ICguLi5yZXN0OiBhbnlbXSkgPT4gdm9pZDtcbiAgZXJyb3I6ICguLi5yZXN0OiBhbnlbXSkgPT4gdm9pZDtcblxuICAvLyAtLS1cbiAgLy8gY29uc3RydWN0b3JcblxuICBjb25zdHJ1Y3RvcihcbiAgICBnbG9iYWw6IGFueSxcbiAgICBwcmludDogKC4uLnJlc3Q6IGFueVtdKSA9PiB2b2lkLFxuICAgIGxvZzogKC4uLnJlc3Q6IGFueVtdKSA9PiB2b2lkLFxuICAgIGluZm86ICguLi5yZXN0OiBhbnlbXSkgPT4gdm9pZCxcbiAgICB3YXJuOiAoLi4ucmVzdDogYW55W10pID0+IHZvaWQsXG4gICAgZXJyb3I6ICguLi5yZXN0OiBhbnlbXSkgPT4gdm9pZFxuICApIHtcbiAgICBnbG9iYWwubW9uaXRvciA9IHRoaXM7XG4gICAgZ2xvYmFsLkpTRkxPV19TVEFDS19DSEVDSyA9IHRydWU7XG5cbiAgICB0aGlzLnByaW50ID0gcHJpbnQgPyBwcmludCA6IGNvbnNvbGUubG9nO1xuICAgIHRoaXMubG9nID0gbG9nID8gbG9nIDogY29uc29sZS5sb2c7XG4gICAgdGhpcy53YXJuID0gd2FybiA/IHdhcm4gOiBjb25zb2xlLndhcm47XG4gICAgdGhpcy5pbmZvID0gaW5mbyA/IGluZm8gOiBjb25zb2xlLmluZm87XG4gICAgdGhpcy5lcnJvciA9IGVycm9yID8gZXJyb3IgOiBjb25zb2xlLmVycm9yO1xuXG4gICAgdGhpcy5vcHRpb25zID0gbmV3IE9wdGlvbnMoKTtcblxuICAgIC8qXG4gICAgKiB0YWludE1vZGUgZGlzYWJsZXMgdGhlIGNvbnRleHQgY29tcHV0YXRpb24gYnkgb3ZlcnJpZGluZyBleGMsIHJldCwgcGMsIGFuZCBlZmZlY3RpdmVQQyBcbiAgICAqIGZvcmNpbmcgdGhlbSB0byByZXR1cm4gYm90XG4gICAgKi9cbiAgICB0aGlzLm9wdGlvbnMuZGVjbGFyZSgnbW9uaXRvci50YWludE1vZGUnLCAnYm9vbGVhbicsIGZhbHNlLCAndGFpbnQgbW9kZScpO1xuICAgIC8qXG4gICAgKiB0ZXN0TW9kZSBzdXByZXNzZXMgbGFiZWwgcHJpbnRpbmcgaW4gb3V0cHV0IGFuZCBzZWN1cml0eSBlcnJvcnNcbiAgICAqIHRvIG1ha2UganNmbG93IGNvbXBhdGlibGUgd2l0aCB0aGUgdGVzdCBoYXJuZXNzIHNldCBieSB0aGUgc3BpZGVyZmxvdyBhbmQgbm9kZWZsb3cgY29tbWFuZHNcbiAgICAqL1xuICAgIHRoaXMub3B0aW9ucy5kZWNsYXJlKCdtb25pdG9yLnRlc3RNb2RlJywgJ2Jvb2xlYW4nLCBmYWxzZSwgJ3Rlc3QgbW9kZScpO1xuICAgIC8qIG9ic2VydmFibGVNb2RlIHN1cHJlc3NlcyBzdG9wLW9uLXNlY3VyaXR5LWVycm9yIGFsbG93aW5nIGV4ZWN1dGlvbiB0byBjb250aW51ZSB3aXRoXG4gICAgKiBhIHByaW50ZWQgd2FybmluZyBtZXNzYWdlLlxuICAgICovXG4gICAgdGhpcy5vcHRpb25zLmRlY2xhcmUoJ21vbml0b3Iub2JzZXJ2YWJsZU1vZGUnLCAnYm9vbGVhbicsIGZhbHNlLCAnb2JzZXJ2YWJsZSBtb2RlJyk7XG4gICAgLyogcHJvZ3Jlc3MgY2F1c2VzIGpzZmxvdyB0byByZWd1bGFybHkgcmVwb3J0IGl0cyBleGVjdXRpb24gcHJvZ3Jlc3MuXG4gICAgKi9cbiAgICB0aGlzLm9wdGlvbnMuZGVjbGFyZSgnbW9uaXRvci5wcm9ncmVzcycsICdib29sZWFuJywgZmFsc2UsICdwcm9ncmVzcyBtb2RlJyk7XG4gICAgLyogY3Jhd2xlciB0dXJucyBvbiBjcmF3bGVyIHNwZWNpZmljIGdhdGhlcmluZyBjb2RlIHRoYXQgZG9jdW1lbnRzIGRpZmZlcmVudCBhc3BlY3RzIG9mIHRoZSBleGVjdXRpb24uXG4gICAgKi9cbiAgICB0aGlzLm9wdGlvbnMuZGVjbGFyZSgnbW9uaXRvci5jcmF3bGVyJywgJ2Jvb2xlYW4nLCBmYWxzZSwgJ2NyYXdsZXInKTtcblxuXG4gICAgdGhpcy5kZWJ1ZyA9IHsgYWN0aXZlOiBmYWxzZSB9O1xuXG4gICAgLy9AdHMtaWdub3JlXG4gICAgbGV0IGNvbnRleHQgPSBuZXcgQ29udGV4dChudWxsLCBudWxsLCBudWxsKTtcbiAgICB0aGlzLmNvbnRleHRTdGFjay5wdXNoKGNvbnRleHQpO1xuXG4gICAgdGhpcy5leGVjdXRpb25JbmZvID0gbmV3IEV4ZWN1dGlvbkluZm8oKTtcbiAgfVxuXG4gIC8vIC0tLVxuXG4gIGdldCBjb250ZXh0KCk6IENvbnRleHQge1xuICAgIHJldHVybiB0aGlzLmNvbnRleHRTdGFjay5wZWVrKCk7XG4gIH1cblxuICAvLyAtLS1cblxuICBydW5uaW5nKCkge1xuICAgIHJldHVybiBydW5uaW5nKCk7XG4gIH07XG5cbiAgLy8gLS0tXG5cbiAgLy8gLS0tXG4gIC8vIHRocm93czpcbiAgLy8gIFZhbHVlPFZhbHVlVHlwZT4gb3JcbiAgLy8gIEpTRmxvd0Vycm9yLCB3aGVuIHNlY3VyaXR5IGVycm9yIG9yIGZhdGFsIGVycm9yXG5cbiAgRXhlY3V0ZShjb2RlOiBzdHJpbmcsIG9yaWdpbjogc3RyaW5nKSA6IFZhbHVlPFZhbHVlVHlwZXM+IHtcbiAgICB2YXIgcmVzdWx0ID0gZXhlY3V0ZUdsb2JhbENvZGUoY29kZSwgb3JpZ2luKTtcblxuICAgIGlmIChyZXN1bHQudHlwZSA9PT0gJ3Rocm93Jykge1xuICAgICAgdGhyb3cgcmVzdWx0LnZhbHVlO1xuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQudmFsdWU7XG4gIH1cblxuICAvLyAtLS1cbiAgLy8gdGhyb3dzOlxuICAvLyAgVmFsdWU8VmFsdWVUeXBlPiBvclxuICAvLyAgSlNGbG93RXJyb3IsIHdoZW4gc2VjdXJpdHkgZXJyb3Igb3IgZmF0YWwgZXJyb3JcblxuICBhYnN0cmFjdCBFeGVjdXRlTW9kdWxlKHBhdGggOiBzdHJpbmcpIDogdm9pZDtcblxuICAvLyAtLS1cbiAgLy8gY29kZSB0cmFuc2Zvcm1hdGlvbiBzdXBwb3J0XG5cbiAgdHJhbnNmb3JtKGNvZGUgOiBzdHJpbmcpIDogc3RyaW5nIHtcbiAgICByZXR1cm4gY29kZTtcbiAgfVxuXG4gIC8vIC0tLVxuXG4gIGJlYXV0aWZ5KGNvZGUgOiBzdHJpbmcpIDogc3RyaW5nIHtcbiAgICByZXR1cm4gYmVhdXRpZnkuanMoY29kZSk7XG4gIH1cbiAgXG4gIC8vIC0tLVxuXG5cbiAgLy8gLS0tXG5cbiAgcmVzdW1lKCkge1xuICAgIHRoaXMuZGVidWcuYWN0aXZlID0gZmFsc2U7XG4gICAgcmV0dXJuIHJlc3VtZSgpO1xuICB9XG5cbiAgLy8gLS0tXG5cbiAgc3RlcCgpIHtcbiAgICByZXR1cm4gcmVzdW1lKCk7XG4gIH1cblxuICAvLyAtLS1cblxuICBwcmludFdvcmtMaXN0KCkge1xuICAgIHRoaXMubG9nKCdjb250ZXh0IG93bmVyOiAnICsgdGhpcy5jb250ZXh0Lm93bmVyKTtcbiAgICB0aGlzLmxvZyhTdHJpbmcodGhpcy5jb250ZXh0LndvcmtMaXN0KSk7XG4gIH1cblxuICAvLyAtLS1cblxuICAvLyBUT0RPOiBmaXggcHJvcGVyIHByaW50aW5nXG4gIGZhdGFsKG1zZyA6IHN0cmluZywgLi4uYXJncyk6IG5ldmVyIHtcbiAgICB2YXIgZXhjID0gbmV3IEZhdGFsRXJyb3IobXNnICsgYXJncy5tYXAoeCA9PiBKU09OLnN0cmluZ2lmeSh4KSkuam9pbignICcpKTtcbiAgICB0aHJvdyBleGM7XG4gIH1cblxuICAvLyAtLS1cblxuICBzdG9wKG1zZykge1xuICAgIHZhciBleGMgPSBuZXcgRXJyb3IobXNnKTtcbiAgICAvL0B0cy1pZ25vcmUgVFlQRVNcbiAgICBleGMudHlwZSA9ICdTdG9wJztcbiAgICB0aHJvdyBleGM7XG4gIH1cblxuICAvLyAtLS1cblxuICBUaHJvdyhlcnJvcjogVGhyb3dUeXBlLCBtc2c6IHN0cmluZywgbGJsOiBMYWJlbCk6IG5ldmVyIHtcblxuICAgIHRoaXMuYXNzZXJ0KFxuICAgICAgbGUodGhpcy5jb250ZXh0LmVmZmVjdGl2ZVBDLCB0aGlzLmNvbnRleHQubGFiZWxzLmV4YyksXG4gICAgICAndGhyb3c6IGVmZmVjdGl2ZSBwYyAnICsgdGhpcy5jb250ZXh0LmVmZmVjdGl2ZVBDICtcbiAgICAgICcgbm90IGJlbG93IGV4Y2VwdGlvbiBsYWJlbCAnICsgdGhpcy5jb250ZXh0LmxhYmVscy5leGNcbiAgICApO1xuXG4gICAgbGV0IG1zZ1ZhbHVlID0gbmV3IFZhbHVlKG1zZywgbGJsKTtcbiAgICB0aGlzLm9mZmVuZGluZ1RyYWNlID0gdGhpcy5zdGFja1RyYWNlKCk7XG5cbiAgICBzd2l0Y2ggKGVycm9yKSB7XG4gICAgICBjYXNlIFwiRXJyb3JcIjogdGhyb3cgbmV3IFZhbHVlKG5ldyBFcnJvck9iamVjdChtc2dWYWx1ZSksIGJvdCk7XG4gICAgICBjYXNlIFwiRXZhbEVycm9yXCI6IHRocm93IG5ldyBWYWx1ZShuZXcgRXZhbEVycm9yT2JqZWN0KG1zZ1ZhbHVlKSwgYm90KTtcbiAgICAgIGNhc2UgXCJSYW5nZUVycm9yXCI6IHRocm93IG5ldyBWYWx1ZShuZXcgUmFuZ2VFcnJvck9iamVjdChtc2dWYWx1ZSksIGJvdCk7XG4gICAgICBjYXNlIFwiUmVmZXJlbmNlRXJyb3JcIjogdGhyb3cgbmV3IFZhbHVlKG5ldyBSZWZlcmVuY2VFcnJvck9iamVjdChtc2dWYWx1ZSksIGJvdCk7XG4gICAgICBjYXNlIFwiU3ludGF4RXJyb3JcIjogdGhyb3cgbmV3IFZhbHVlKG5ldyBTeW50YXhFcnJvck9iamVjdChtc2dWYWx1ZSksIGJvdCk7XG4gICAgICBjYXNlIFwiVHlwZUVycm9yXCI6IHRocm93IG5ldyBWYWx1ZShuZXcgVHlwZUVycm9yT2JqZWN0KG1zZ1ZhbHVlKSwgYm90KTtcbiAgICAgIGNhc2UgXCJVUklFcnJvclwiOiB0aHJvdyBuZXcgVmFsdWUobmV3IFVSSUVycm9yT2JqZWN0KG1zZ1ZhbHVlKSwgYm90KTtcbiAgICB9XG5cbiAgICB0aGlzLmZhdGFsKFwiVGhyb3c6IERvbid0IGtub3cgaG93IHRvIGRlYWwgd2l0aCBcIiArIGVycm9yKTtcbiAgfVxuXG4gIC8vIC0tLVxuXG4gIHN0YWNrVHJhY2UoKSB7XG4gICAgcmV0dXJuIG5ldyBTdGFja1RyYWNlKHRoaXMuY29udGV4dFN0YWNrLnRvQXJyYXkoKSk7XG4gIH1cblxuICAvLyAtLS1cblxuICBzZWN1cml0eUVycm9yKG1lc3NhZ2U6IHN0cmluZyk6IHZvaWQge1xuICAgIGlmICh0aGlzLm9wdGlvbnMuZ2V0KCdtb25pdG9yLnRlc3RNb2RlJykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHRoaXMub3B0aW9ucy5nZXQoJ21vbml0b3IudGFpbnRNb2RlJykgfHwgdGhpcy5vcHRpb25zLmdldCgnbW9uaXRvci5vYnNlcnZhYmxlTW9kZScpKSB7XG4gICAgICB0aGlzLndhcm4oXCJbSlNGbG93IE5PUk1BTF0gU2VjdXJpdHkgdmlvbGF0aW9uOlwiLCBtZXNzYWdlKTtcblxuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgZXhjID0gbmV3IFNlY3VyaXR5RXJyb3IobWVzc2FnZSk7XG4gICAgICB0aHJvdyBleGM7XG4gICAgfVxuICB9XG5cbiAgLy8gLS0tXG5cbiAgYXNzZXJ0KGIgOiBib29sZWFuLCBtc2cgOiBzdHJpbmcpIHtcbiAgICBpZiAoIWIpIHRoaXMuc2VjdXJpdHlFcnJvcihtc2cpO1xuICB9XG5cbiAgLy8gbGlmdHMgZXhjZXB0aW9ucyB0aGF0IFxuICAvLyAxLiBhcmUgbm90IEpTRmxvdyBpbnRlcm5hbCBleGNlcHRpb25zIFxuICAvLyAyLiBoYXZlIGEgYSBKU0Zsb3cgbW9kZWxlZCBjb3VudGVycGFydFxuICAvLyBvdGhlcndpc2UgcmV0dXJuc1xuXG4gIHRyeVJldGhyb3coZSAsIFRocm93PyA6IGJvb2xlYW4pIHtcblxuICAgIGlmICgodHlwZW9mIGUgIT09ICdvYmplY3QnICYmIHR5cGVvZiBlICE9PSAnZnVuY3Rpb24nKSB8fCBlID09PSBudWxsKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKGlzSlNGbG93RXJyb3IoZSkpIHtcbiAgICAgIHRocm93IGU7XG4gICAgfVxuXG4gICAgaWYgKGUgaW5zdGFuY2VvZiBWYWx1ZSkge1xuICAgICAgdGhyb3cgZTtcbiAgICB9XG5cbiAgICBsZXQgaXNOYXRpdmUgPSBlLm5hbWUgPT0gXCJFcnJvclwiIHx8XG4gICAgICBlLm5hbWUgPT09IFwiRXZhbEVycm9yXCIgfHxcbiAgICAgIGUubmFtZSA9PT0gXCJSYW5nZUVycm9yXCIgfHxcbiAgICAgIGUubmFtZSA9PT0gXCJSZWZlcmVuY2VFcnJvclwiIHx8XG4gICAgICBlLm5hbWUgPT09IFwiU3ludGF4RXJyb3JcIiB8fFxuICAgICAgZS5uYW1lID09PSBcIlR5cGVFcnJvclwiIHx8XG4gICAgICBlLm5hbWUgPT09IFwiVVJJRXJyb3JcIjtcblxuICAgIGlmIChUaHJvdyAmJiBpc05hdGl2ZSkge1xuICAgICAgdGhpcy5UaHJvdyhlLm5hbWUsIGUuc3RhY2ssIGJvdCk7XG4gICAgfVxuXG4gIH1cbn1cblxuIiwiaW1wb3J0IHsgTGFiZWwsIGJvdCB9IGZyb20gXCIuL0xhYmVsXCI7XG5pbXBvcnQgeyBWYWx1ZSB9IGZyb20gXCIuL1ZhbHVlXCI7XG5pbXBvcnQgeyBFY21hT2JqZWN0IH0gZnJvbSAnLi9PYmplY3RzL0VjbWFPYmplY3QnO1xuaW1wb3J0IHsgVmFsdWVUeXBlcywgSUVjbWFPYmplY3QgfSBmcm9tIFwiLi9JbnRlcmZhY2VzXCI7XG5pbXBvcnQgeyBMZXhpY2FsRW52aXJvbm1lbnQgfSBmcm9tIFwiLi9MZXhpY2FsRW52aXJvbm1lbnRcIjtcbmltcG9ydCB7IE1vbml0b3JCYXNlIH0gZnJvbSBcIi4vTW9uaXRvckJhc2VcIjtcblxuZGVjbGFyZSB2YXIgbW9uaXRvcjogTW9uaXRvckJhc2U7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gMTAuMi4yLjNcblxuZXhwb3J0IGZ1bmN0aW9uIE5ld09iamVjdEVudmlyb25tZW50KG8gOiBWYWx1ZTxFY21hT2JqZWN0PiwgZSA6IFZhbHVlPExleGljYWxFbnZpcm9ubWVudD4pIHtcbiAgICB2YXIgZW52UmVjID0gbmV3IE9iamVjdEVudmlyb25tZW50UmVjb3JkKG8pO1xuICAgIHZhciBlbnYgPSBuZXcgTGV4aWNhbEVudmlyb25tZW50KGVudlJlYywgZSk7XG4gICAgcmV0dXJuIGVudjtcbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBFbnZpcm9ubWVudCByZWNvcmRzLCAxMC4yLjEuMlxuXG5leHBvcnQgY2xhc3MgT2JqZWN0RW52aXJvbm1lbnRSZWNvcmQgZXh0ZW5kcyBFY21hT2JqZWN0IHtcblxuICAgIGJpbmRpbmdPYmplY3Q6IFZhbHVlPEVjbWFPYmplY3Q+O1xuICAgIHByb3ZpZGVUaGlzOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICBjb25zdHJ1Y3RvcihwOiBWYWx1ZTxFY21hT2JqZWN0Pikge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICBpZiAocC52YWx1ZSA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgbW9uaXRvci5mYXRhbCgnT2JqZWN0RW52aXJvbm1lbnRSZWNvcmQsIHVuZGVmaW5lZCBiaW5kaW5nIG9iamVjdCcpO1xuXG4gICAgICAgIHRoaXMuYmluZGluZ09iamVjdCA9IHA7IC8vIFZhbHVlXG4gICAgfVxuXG4gICAgLy8gLS0tXG5cbiAgICByYWlzZShsOiBMYWJlbCk6IHZvaWQge1xuICAgICAgICB0aGlzLmJpbmRpbmdPYmplY3QucmFpc2UobCk7XG4gICAgfVxuXG4gICAgLy8gLS0tXG5cbiAgICAvLyBIYXNCaW5kaW5nLCAxMC4yLjEuMi4xXG4gICAgSGFzQmluZGluZyhwOiBWYWx1ZTxzdHJpbmc+KTogVmFsdWU8Ym9vbGVhbj4ge1xuICAgICAgICByZXR1cm4gdGhpcy5iaW5kaW5nT2JqZWN0Lkhhc1Byb3BlcnR5KHApO1xuICAgIH1cblxuICAgIC8vIC0tLVxuXG4gICAgLy8gQ3JlYXRlTXV0YWJsZUJpbmRpbmcsIDEwLjIuMS4yLjJcbiAgICBDcmVhdGVNdXRhYmxlQmluZGluZyhwOiBWYWx1ZTxzdHJpbmc+LCBkPzogYm9vbGVhbik6IHZvaWQge1xuICAgICAgICB2YXIgZGVzYyA9IHtcbiAgICAgICAgICAgIHZhbHVlOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBsYWJlbDogbW9uaXRvci5jb250ZXh0LmVmZmVjdGl2ZVBDLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiAhIWRcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLmJpbmRpbmdPYmplY3QuRGVmaW5lT3duUHJvcGVydHkocCwgZGVzYywgdHJ1ZSk7XG4gICAgfVxuXG4gICAgLy8gLS0tXG5cbiAgICAvLyBHZXRCaW5kaW5nVmFsdWUsIDEwLjIuMS4yLjRcbiAgICBHZXRCaW5kaW5nVmFsdWUocDogVmFsdWU8c3RyaW5nPiwgcyk6IFZhbHVlPFZhbHVlVHlwZXM+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYmluZGluZ09iamVjdC5HZXQocCk7XG4gICAgfVxuXG4gICAgLy8gU2V0TXV0YWJsZUJpbmRpbmcsIDEwLjIuMS4yLjNcbiAgICBTZXRNdXRhYmxlQmluZGluZyhwOiBWYWx1ZTxzdHJpbmc+LCB2OiBWYWx1ZTxWYWx1ZVR5cGVzPiwgcz86IGJvb2xlYW4pOiB2b2lkIHtcbiAgICAgICAgdGhpcy5iaW5kaW5nT2JqZWN0LlB1dChwLCB2LCBzKTtcbiAgICB9XG5cbiAgICAvLyBEZWxldGVCaW5kaW5nLCAxMC4yLjEuMi41XG4gICAgRGVsZXRlQmluZGluZyhwOiBWYWx1ZTxzdHJpbmc+KTogVmFsdWU8Ym9vbGVhbj4ge1xuICAgICAgICByZXR1cm4gdGhpcy5iaW5kaW5nT2JqZWN0LkRlbGV0ZShwKTtcbiAgICB9XG5cbiAgICAvLyBJbXBsaWNpdFRoaXNWYWx1ZSwgMTAuMi4xLjIuNlxuICAgIEltcGxpY2l0VGhpc1ZhbHVlKCk6IFZhbHVlPElFY21hT2JqZWN0IHwgdW5kZWZpbmVkPiB7XG4gICAgICAgIGlmICh0aGlzLnByb3ZpZGVUaGlzKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5iaW5kaW5nT2JqZWN0LmNsb25lKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFZhbHVlKHVuZGVmaW5lZCwgYm90KTtcbiAgICAgICAgfVxuICAgIH1cbn0iLCJpbXBvcnQgeyBNb25pdG9yQmFzZSB9IGZyb20gXCIuLi9Nb25pdG9yQmFzZVwiO1xuaW1wb3J0IHsgRWNtYU9iamVjdCB9IGZyb20gXCIuL0VjbWFPYmplY3RcIjtcbmltcG9ydCB7IFZhbHVlIH0gZnJvbSBcIi4uL1ZhbHVlXCI7XG5pbXBvcnQgeyBib3QgfSBmcm9tIFwiLi4vTGFiZWxcIjtcblxuZGVjbGFyZSB2YXIgbW9uaXRvcjogTW9uaXRvckJhc2U7XG5cblxuZXhwb3J0IGNsYXNzIEFyZ3VtZW50c09iamVjdCBleHRlbmRzIEVjbWFPYmplY3Qge1xuICAgIGNvbnN0cnVjdG9yKEYsIGFyZ3MpIHtcbiAgICAgIHN1cGVyKCk7XG4gIFxuICAgICAgdGhpcy5Qcm90b3R5cGUgPSBuZXcgVmFsdWUobW9uaXRvci5pbnN0YW5jZXMuT2JqZWN0UHJvdG90eXBlLCBib3QpO1xuICAgICAgdGhpcy5DbGFzcyA9ICdBcmd1bWVudHMnO1xuICAgICAgdGhpcy5FeHRlbnNpYmxlID0gdHJ1ZTtcbiAgXG4gICAgICB2YXIgZm9ybWFsUGFyYW1zID0gRi5Gb3JtYWxQYXJhbWV0ZXJzO1xuICAgICAgdmFyIGFyZ3MgPSBhcmdzIHx8IFtdO1xuICBcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7IGkrKykge1xuICAgICAgICB0aGlzLlB1dChuZXcgVmFsdWUoaSwgYm90KSwgYXJnc1tpXSwgZmFsc2UpO1xuICAgICAgfVxuICBcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZm9ybWFsUGFyYW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBpZCA9IGZvcm1hbFBhcmFtc1tpXTtcbiAgXG4gICAgICAgIGlmIChpZC50eXBlICE9PSAnSWRlbnRpZmllcicpIHtcbiAgICAgICAgICBtb25pdG9yLmZhdGFsKGlkLnR5cGUgKyAnIGlzIG5vdCBzdXBwb3J0ZWQgaW4gQXJndW1lbnRzT2JqZWN0Jyk7XG4gICAgICAgIH1cbiAgXG4gICAgICAgIGlmIChhcmdzW2ldKSB7XG4gICAgICAgICAgdGhpcy5QdXQobmV3IFZhbHVlKGlkLm5hbWUsIGJvdCksIGFyZ3NbaV0sIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICBcbiAgICAgIHRoaXMuUHV0KG5ldyBWYWx1ZSgnbGVuZ3RoJywgYm90KSwgbmV3IFZhbHVlKGFyZ3MubGVuZ3RoLCBib3QpLCBmYWxzZSk7XG4gICAgICB0aGlzLlB1dChuZXcgVmFsdWUoJ2NhbGxlZScsIGJvdCksIG5ldyBWYWx1ZShGLCBib3QpLCBmYWxzZSk7XG4gICAgfVxuICBcbiAgfVxuXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gQ3JlYXRlIEFyZ3VtZW50cyBPYmplY3QsIDEwLjZcblxuZXhwb3J0IGZ1bmN0aW9uIENyZWF0ZUFyZ3VtZW50c09iamVjdChlbnYsIEYsIGFyZ3MpIHtcbiAgICByZXR1cm4gbmV3IFZhbHVlKFxuICAgICAgbmV3IEFyZ3VtZW50c09iamVjdChGLCBhcmdzKSxcbiAgICAgIGJvdFxuICAgICk7XG4gIFxuICB9IiwiaW1wb3J0IHsgVmFsdWUgfSBmcm9tIFwiLi4vVmFsdWVcIjtcbmltcG9ydCB7IE1vbml0b3JCYXNlIH0gZnJvbSAnLi4vTW9uaXRvckJhc2UnO1xuXG5pbXBvcnQgeyBFY21hT2JqZWN0IH0gZnJvbSAnLi4vT2JqZWN0cy9FY21hT2JqZWN0JztcbmltcG9ydCB7IGJvdCwgbGUsIGx1YiwgTGFiZWwgfSBmcm9tICcuLi9MYWJlbCc7XG5pbXBvcnQgeyBWYWx1ZVR5cGVzIH0gZnJvbSBcIi4uL0ludGVyZmFjZXNcIjtcbmltcG9ydCB7IEpTRlByb3BlcnR5RGVzY3JpcHRvciB9IGZyb20gXCIuLi9Qcm9wZXJ0eURlc2NyaXB0b3JcIjtcbmltcG9ydCB7IHRocm93U3RhdGVtZW50IH0gZnJvbSBcIi4uL0VuZ2luZS9UcmFjaW5nL1Rocm93U3RhdGVtZW50XCI7XG5pbXBvcnQgeyB0aHJlYWRJZCB9IGZyb20gXCJ3b3JrZXJfdGhyZWFkc1wiO1xuaW1wb3J0IHsgVG9VSW50MzIgfSBmcm9tIFwiLi4vQ29udmVyc2lvbi9Ub1VJbnQzMlwiO1xuaW1wb3J0IHsgVG9OdW1iZXIgfSBmcm9tIFwiLi4vQ29udmVyc2lvbi9Ub051bWJlclwiO1xuaW1wb3J0IHsgVG9TdHJpbmcgfSBmcm9tIFwiLi4vQ29udmVyc2lvbi9Ub1N0cmluZ1wiO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZGVjbGFyZSB2YXIgbW9uaXRvcjogTW9uaXRvckJhc2U7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gMTUuNC4yLjEsIGFuZCAxNS40LjIuMlxuXG5leHBvcnQgY2xhc3MgQXJyYXlPYmplY3QgZXh0ZW5kcyBFY21hT2JqZWN0IHtcblxuICAgIHByb3BlcnRpZXM6IFZhbHVlVHlwZXNbXTtcblxuICAgIGNvbnN0cnVjdG9yKHN0cnVjdD86IExhYmVsKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuQ2xhc3MgPSAnQXJyYXknO1xuXG4gICAgICAgIHRoaXMuUHJvdG90eXBlID0gbmV3IFZhbHVlKG1vbml0b3IuaW5zdGFuY2VzLkFycmF5UHJvdG90eXBlLCBib3QpO1xuICAgICAgICB0aGlzLkV4dGVuc2libGUgPSB0cnVlO1xuXG4gICAgICAgIHRoaXMucHJvcGVydGllcyA9IFtdO1xuICAgICAgICB0aGlzLmxhYmVscyA9IHt9O1xuXG4gICAgICAgIHN0cnVjdCA9IHN0cnVjdCB8fCBib3Q7XG4gICAgICAgIHRoaXMubGFiZWxzLmxlbmd0aCA9IHtcbiAgICAgICAgICAgIHZhbHVlOiBzdHJ1Y3QsXG4gICAgICAgICAgICBleGlzdGVuY2U6IGJvdFxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuc3RydWN0ID0gc3RydWN0O1xuICAgIH1cblxuICAgIC8vIC0tLVxuXG4gICAgc3RhdGljIGZyb21WYWx1ZUFycmF5KHZhbHVlczogVmFsdWU8VmFsdWVUeXBlcz5bXSwgc3RydWN0OiBMYWJlbCk6IEFycmF5T2JqZWN0IHtcbiAgICAgICAgbGV0IGFycmF5ID0gbmV3IEFycmF5T2JqZWN0KHN0cnVjdCk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHZhbHVlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgbGV0IHZhbHVlID0gdmFsdWVzW2ldO1xuICAgICAgICAgICAgYXJyYXkucHJvcGVydGllc1tpXSA9IHZhbHVlLnZhbHVlO1xuICAgICAgICAgICAgYXJyYXkubGFiZWxzW2ldID0ge1xuICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZS5sYWJlbCxcbiAgICAgICAgICAgICAgICBleGlzdGVuY2U6IGJvdFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBhcnJheTtcbiAgICB9XG5cbiAgICAvLyAtLS1cblxuICAgIHN0YXRpYyBmcm9tUHJvcGVydHlBcnJheSh2YWx1ZXM6IFZhbHVlPFZhbHVlVHlwZXM+W10sIHN0cnVjdDogTGFiZWwpOiBBcnJheU9iamVjdCB7XG4gICAgICAgIGxldCBhcnJheSA9IG5ldyBBcnJheU9iamVjdChzdHJ1Y3QpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSB2YWx1ZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIGxldCB2YWx1ZSA9IHZhbHVlc1tpXTtcbiAgICAgICAgICAgIGFycmF5LnByb3BlcnRpZXNbaV0gPSB2YWx1ZS52YWx1ZTtcbiAgICAgICAgICAgIGFycmF5LmxhYmVsc1tpXSA9IHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWUubGFiZWwsXG4gICAgICAgICAgICAgICAgZXhpc3RlbmNlOiB2YWx1ZS5sYWJlbFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBhcnJheTtcbiAgICB9XG5cbiAgICAvLyAtLS1cblxuICAgIHN0YXRpYyBmcm9tQXJyYXkodmFsdWVzOiBWYWx1ZVR5cGVzW10sIGxhYmVsOiBMYWJlbCwgZXhpc3RlbmNlOiBMYWJlbCk6IEFycmF5T2JqZWN0IHtcbiAgICAgICAgbGV0IGFycmF5ID0gbmV3IEFycmF5T2JqZWN0KGV4aXN0ZW5jZSk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHZhbHVlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgYXJyYXkucHJvcGVydGllc1tpXSA9IHZhbHVlc1tpXTtcbiAgICAgICAgICAgIGFycmF5LmxhYmVsc1tpXSA9IHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogbGFiZWwsXG4gICAgICAgICAgICAgICAgZXhpc3RlbmNlOiBleGlzdGVuY2VcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH1cblxuICAgIC8vIC0tLVxuXG4gICAgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvcGVydGllcy50b1N0cmluZygpO1xuICAgIH1cblxuICAgIC8vIC0tLVxuXG4gICAgdG9MYWJlbGVkU3RyaW5nKCk6IHN0cmluZyB7XG4gICAgICAgIGxldCBzdHJzID0gW107XG4gICAgICAgIGZvciAobGV0IHAgaW4gdGhpcy5wcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICBzdHJzLnB1c2godGhpcy5wcm9wZXJ0aWVzW3BdICsgJ18nICsgdGhpcy5sYWJlbHNbcF0udmFsdWUudG9TdHJpbmcoKSArICcoJyArIHRoaXMubGFiZWxzW3BdLmV4aXN0ZW5jZS50b1N0cmluZygpICsgJyknKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAnWyAnICsgc3Rycy5qb2luKCcsICcpICsgJyB8ICcgKyB0aGlzLnN0cnVjdC50b1N0cmluZygpICsgJywgbGVuZ3RoIDogJyArIHRoaXMubGFiZWxzLmxlbmd0aC52YWx1ZS50b1N0cmluZygpICsgJygnICsgdGhpcy5sYWJlbHMubGVuZ3RoLmV4aXN0ZW5jZS50b1N0cmluZygpICsgJyknICsgJyBdJztcbiAgICB9XG5cblxuXG4gICAgLy8gLS0tXG4gICAgLy8gMTUuNC41LjFcbiAgICBEZWZpbmVPd25Qcm9wZXJ0eShzOiBWYWx1ZTxzdHJpbmcgfCBudW1iZXI+LCBkZXNjOiBKU0ZQcm9wZXJ0eURlc2NyaXB0b3IsIFRocm93PzogYm9vbGVhbik6IFZhbHVlPGJvb2xlYW4+IHtcbiAgICAgICAgbGV0IGMgPSBtb25pdG9yLmNvbnRleHQ7XG5cbiAgICAgICAgLyogSW5zdGVhZCBvZiBsZW5ndGhDb250ZXh0ID0gbHViKGMuZWZmZWN0aXZlUEMsIHMubGFiZWwpLCBwdXNoIHMubGFiZWwgdG9cbiAgICAgICAgICAgcGMtc3RhY2ssIGFuZCB1c2UgcGMgKHRvIG1ha2UgdGFpbnRNb2RlIGVhc2llcikgKi9cbiAgICAgICAgYy5wdXNoUEMocy5sYWJlbCk7XG4gICAgICAgIGlmICghbGUoYy5lZmZlY3RpdmVQQywgdGhpcy5sYWJlbHMubGVuZ3RoLnZhbHVlKSkge1xuICAgICAgICAgICAgbW9uaXRvci5zZWN1cml0eUVycm9yKFxuICAgICAgICAgICAgICAgIGBBcnJheS5wcm90b3R5cGUuRGVmaW5lT3duUHJvcGVydHk6IHdyaXRlIGNvbnRleHQgJHtjLmVmZmVjdGl2ZVBDfSBub3QgYmVsb3cgbGVuZ3RoIGxhYmVsICR7dGhpcy5sYWJlbHMubGVuZ3RoLnZhbHVlfWBcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIC8vIEZvciBvYnNlcnZhYmxlIGZsb3dzXG4gICAgICAgICAgICB0aGlzLmxhYmVscy5sZW5ndGgudmFsdWUgPSBsdWIodGhpcy5sYWJlbHMubGVuZ3RoLnZhbHVlLCBjLmVmZmVjdGl2ZVBDKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGMucG9wUEMoKTtcblxuICAgICAgICBsZXQgb2xkTGVuRGVzYyA9IHRoaXMuR2V0T3duUHJvcGVydHkobmV3IFZhbHVlKCdsZW5ndGgnLCBib3QpKTtcbiAgICAgICAgbGV0IG9sZExlbiA9IG5ldyBWYWx1ZShvbGRMZW5EZXNjLnZhbHVlLnZhbHVlLCBvbGRMZW5EZXNjLmxhYmVsKTtcbiAgICAgICAgaWYgKHMudmFsdWUgPT09ICdsZW5ndGgnKSB7XG4gICAgICAgICAgICBpZiAoZGVzYy52YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN1cGVyLkRlZmluZU93blByb3BlcnR5LmNhbGwodGhpcywgcywgZGVzYywgVGhyb3cpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgbmV3TGVuID0gVG9VSW50MzIobmV3IFZhbHVlKGRlc2MudmFsdWUsIGRlc2MubGFiZWwpKTtcbiAgICAgICAgICAgIGlmIChuZXdMZW4udmFsdWUgIT09IFRvTnVtYmVyKG5ldyBWYWx1ZShkZXNjLnZhbHVlLCBkZXNjLmxhYmVsKSkudmFsdWUpIHtcbiAgICAgICAgICAgICAgICBtb25pdG9yLlRocm93KFxuICAgICAgICAgICAgICAgICAgICAnUmFuZ2VFcnJvcicsXG4gICAgICAgICAgICAgICAgICAgICdJbnZhbGlkIGxlbmd0aCBpbiBBcnJheS5EZWZpbmVPd25Qcm9wZXJ0eScsXG4gICAgICAgICAgICAgICAgICAgIGJvdFxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG5ld0xlbi52YWx1ZSA+PSBvbGRMZW4udmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3VwZXIuRGVmaW5lT3duUHJvcGVydHkuY2FsbChcbiAgICAgICAgICAgICAgICAgICAgdGhpcyxcbiAgICAgICAgICAgICAgICAgICAgcyxcbiAgICAgICAgICAgICAgICAgICAgeyB2YWx1ZTogbmV3TGVuLnZhbHVlLCBsYWJlbDogbHViKG5ld0xlbi5sYWJlbCwgZGVzYy5sYWJlbCkgfSxcbiAgICAgICAgICAgICAgICAgICAgVGhyb3dcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAob2xkTGVuRGVzYy52YWx1ZS53cml0YWJsZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBpZiAoVGhyb3cpIHtcbiAgICAgICAgICAgICAgICAgICAgbW9uaXRvci5UaHJvdyhcbiAgICAgICAgICAgICAgICAgICAgICAgICdUeXBlRXJyb3InLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ05vbi13cml0YWJsZSBkZXNjcmlwdG9yIGluIEFycmF5LkRlZmluZU93blByb3BlcnR5JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvdFxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBWYWx1ZShmYWxzZSwgYm90KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGRlc2MudmFsdWUgPSBuZXdMZW4udmFsdWU7XG4gICAgICAgICAgICBkZXNjLmxhYmVsID0gbHViKGRlc2MubGFiZWwsIG5ld0xlbi5sYWJlbCk7XG5cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzdXBlci5EZWZpbmVPd25Qcm9wZXJ0eS5jYWxsKHRoaXMsIHMsIGRlc2MsIFRocm93KTtcbiAgICB9XG59IiwiaW1wb3J0IHsgVmFsdWUgfSBmcm9tIFwiLi4vVmFsdWVcIjtcbmltcG9ydCB7IEVjbWFPYmplY3QgfSBmcm9tICcuLi9PYmplY3RzL0VjbWFPYmplY3QnO1xuaW1wb3J0IHsgYm90LCBMYWJlbCB9IGZyb20gJy4uL0xhYmVsJztcbmltcG9ydCB7IE1vbml0b3JCYXNlIH0gZnJvbSAnLi4vTW9uaXRvckJhc2UnO1xuaW1wb3J0IHsgVmFsdWVUeXBlcyB9IGZyb20gXCIuLi9JbnRlcmZhY2VzXCI7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5kZWNsYXJlIHZhciBtb25pdG9yOiBNb25pdG9yQmFzZTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBCb29sZWFuIE9iamVjdCwgMTUuNi41XG5cbmV4cG9ydCBjbGFzcyBCb29sZWFuT2JqZWN0IGV4dGVuZHMgRWNtYU9iamVjdCB7XG5cbiAgICBQcmltaXRpdmVWYWx1ZSA6IEJvb2xlYW47XG4gICAgUHJpbWl0aXZlTGFiZWwgOiBMYWJlbDtcblxuICAgIGNvbnN0cnVjdG9yKHZhbCA6IFZhbHVlVHlwZXMsIGxibCA6IExhYmVsKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuQ2xhc3MgPSAnQm9vbGVhbic7XG4gICAgICAgIHRoaXMuUHJpbWl0aXZlVmFsdWUgPSBuZXcgQm9vbGVhbih2YWwpO1xuICAgICAgICB0aGlzLlByaW1pdGl2ZUxhYmVsID0gbGJsO1xuICAgICAgICB0aGlzLkV4dGVuc2libGUgPSB0cnVlO1xuICAgICAgICB0aGlzLlByb3RvdHlwZSA9IG5ldyBWYWx1ZShtb25pdG9yLmluc3RhbmNlcy5Cb29sZWFuUHJvdG90eXBlLCBib3QpO1xuICAgIH1cbn1cblxuLy8gLS0tXG5cbmV4cG9ydCBmdW5jdGlvbiBJc0Jvb2xlYW5PYmplY3QoeCA6IFZhbHVlPGFueT4pIDogeCBpcyBWYWx1ZTxCb29sZWFuT2JqZWN0PiB7XG4gICAgcmV0dXJuIHR5cGVvZiB4LnZhbHVlID09PSAnb2JqZWN0JyAmJiB4LnZhbHVlICE9PSBudWxsICYmIHgudmFsdWUuQ2xhc3MgPT09ICdCb29sZWFuJztcbn0iLCJcbmltcG9ydCB7IFZhbHVlIH0gZnJvbSBcIi4uL1ZhbHVlXCI7XG5pbXBvcnQgeyBWYWx1ZVR5cGVzIH0gZnJvbSAnLi4vSW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBCdWlsdGluTWV0aG9kT2JqZWN0IH0gZnJvbSAnLi9CdWlsdGluTWV0aG9kT2JqZWN0JztcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmV4cG9ydCBjbGFzcyBCdWlsdGluRnVuY3Rpb25PYmplY3QgZXh0ZW5kcyBCdWlsdGluTWV0aG9kT2JqZWN0IHtcblxuICBjb25zdHJ1Y3RvcihmOiAodGhpczogQnVpbHRpbkZ1bmN0aW9uT2JqZWN0LCB0aGlzQXJnOiBWYWx1ZTxWYWx1ZVR5cGVzPiwgYXJnczogVmFsdWU8VmFsdWVUeXBlcz5bXSkgPT4gVmFsdWU8VmFsdWVUeXBlcz4sIG46IG51bWJlciwgaG9zdDogRnVuY3Rpb24gfCBzdHJpbmcpIHtcbiAgICBzdXBlcih1bmRlZmluZWQsIGYsIG4sIGhvc3QpO1xuICB9XG5cbn0iLCJpbXBvcnQgeyBib3QgfSBmcm9tICcuLi9MYWJlbCc7XG5pbXBvcnQgeyBWYWx1ZSB9IGZyb20gXCIuLi9WYWx1ZVwiO1xuaW1wb3J0IHsgRGVmaW5lRkZGIH0gZnJvbSAnLi4vRGVmaW5lJztcbmltcG9ydCB7IEVjbWFPYmplY3QgfSBmcm9tICcuL0VjbWFPYmplY3QnO1xuaW1wb3J0ICogYXMgY29uc3RhbnRzIGZyb20gJy4uL0NvbnN0YW50cyc7XG5pbXBvcnQgeyBNb25pdG9yQmFzZSB9IGZyb20gJy4uL01vbml0b3JCYXNlJztcbmltcG9ydCB7IFZhbHVlVHlwZXMsIElFY21hT2JqZWN0IH0gZnJvbSAnLi4vSW50ZXJmYWNlcyc7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5kZWNsYXJlIHZhciBtb25pdG9yOiBNb25pdG9yQmFzZTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5leHBvcnQgY2xhc3MgQnVpbHRpbk1ldGhvZE9iamVjdCBleHRlbmRzIEVjbWFPYmplY3Qge1xuXG4gIGhvc3Q6IEZ1bmN0aW9uIHwgc3RyaW5nO1xuICBhY3R1YWxGdW5jdGlvbjogKHRoaXM6IEVjbWFPYmplY3QsIHRoaXNBcmc6IFZhbHVlPFZhbHVlVHlwZXM+LCBhcmdzOiBWYWx1ZTxWYWx1ZVR5cGVzPltdKSA9PiBWYWx1ZTxWYWx1ZVR5cGVzPjtcbiAgc2VsZjogRWNtYU9iamVjdDtcblxuICBjb25zdHJ1Y3RvcihzZWxmOiBFY21hT2JqZWN0IHwgdW5kZWZpbmVkLCBmOiAodGhpczogRWNtYU9iamVjdCwgdGhpc0FyZzogVmFsdWU8VmFsdWVUeXBlcz4sIGFyZ3M6IFZhbHVlPFZhbHVlVHlwZXM+W10pID0+IFZhbHVlPFZhbHVlVHlwZXM+LCBuOiBudW1iZXIsIGhvc3Q6IEZ1bmN0aW9uIHwgc3RyaW5nKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLmhvc3QgPSBob3N0O1xuICAgIHRoaXMuYWN0dWFsRnVuY3Rpb24gPSBmO1xuICAgIHRoaXMuc2VsZiA9IHNlbGYgfHwgdGhpcztcblxuICAgIHRoaXMuQ2xhc3MgPSAnRnVuY3Rpb24nO1xuXG4gICAgdGhpcy5Qcm90b3R5cGUgPSBuZXcgVmFsdWUobW9uaXRvci5pbnN0YW5jZXMuRnVuY3Rpb25Qcm90b3R5cGUsIGJvdCk7XG4gICAgdGhpcy5FeHRlbnNpYmxlID0gdHJ1ZTtcblxuICAgIERlZmluZUZGRih0aGlzLCBjb25zdGFudHMubGVuZ3RoLCBuKTtcbiAgfVxuXG4gIENhbGwodGhpc0FyZzogVmFsdWU8VmFsdWVUeXBlcz4sIGFyZ3M6IFZhbHVlPFZhbHVlVHlwZXM+W10pOiBWYWx1ZTxWYWx1ZVR5cGVzPiB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiB0aGlzLmFjdHVhbEZ1bmN0aW9uLmNhbGwodGhpcy5zZWxmLCB0aGlzQXJnLCBhcmdzKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBtb25pdG9yLnRyeVJldGhyb3coZSwgdHJ1ZSk7XG4gICAgICBtb25pdG9yLmZhdGFsKGBCdWlsdGluTWV0aG9kT2JqZWN0LkNhbGwsIHVuYWJsZSB0byBsaWZ0ICR7ZX0gKGVycm9yIGlzIG9mIHR5cGUgJHt0eXBlb2YgZX0gXFxub3JpZ2luYXRpbmcgZnJvbSAke3RoaXMuYWN0dWFsRnVuY3Rpb259IFxcbnJlcHJlc2VudGluZyBob3N0ICR7dGhpcy5ob3N0fSkgXFxuY2FsbGVkIHdpdGggdGhpczogJHt0aGlzQXJnLnZhbHVlfSBcXG5hbmQgYXJnczogJHthcmdzfWApO1xuICAgICAgdGhyb3cgJ1R5cGVTY3JpcHQnO1xuICAgIH1cbiAgfVxuXG4gIENvbnN0cnVjdChhcmdzOiBWYWx1ZTxWYWx1ZVR5cGVzPltdKTogVmFsdWU8SUVjbWFPYmplY3Q+IHtcbiAgICBtb25pdG9yLlRocm93KFxuICAgICAgXCJUeXBlRXJyb3JcIixcbiAgICAgICdjYW5ub3QgYmUgdXNlZCBhcyBhIGNvbnN0cnVjdG9yJyxcbiAgICAgIGJvdFxuICAgICk7XG4gICAgdGhyb3cgJ1R5cGVTY3JpcHQnO1xuICB9XG5cbiAgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICBpZiAodGhpcy5ob3N0KSB7XG4gICAgICByZXR1cm4gdGhpcy5ob3N0LnRvU3RyaW5nKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLmFjdHVhbEZ1bmN0aW9uLnRvU3RyaW5nKCk7XG4gICAgfVxuICB9XG5cbn0iLCJpbXBvcnQgeyBWYWx1ZSB9IGZyb20gXCIuLi9WYWx1ZVwiO1xuaW1wb3J0IHsgTW9uaXRvckJhc2UgfSBmcm9tICcuLi9Nb25pdG9yQmFzZSc7XG5cbmltcG9ydCB7IEVjbWFPYmplY3QgfSBmcm9tICcuLi9PYmplY3RzL0VjbWFPYmplY3QnO1xuaW1wb3J0IHsgYm90LCBMYWJlbCB9IGZyb20gJy4uL0xhYmVsJztcblxuZGVjbGFyZSB2YXIgbW9uaXRvcjogTW9uaXRvckJhc2U7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gRGF0ZSBPYmplY3QsIDE1LjkuNVxuXG5leHBvcnQgY2xhc3MgRGF0ZU9iamVjdCBleHRlbmRzIEVjbWFPYmplY3Qge1xuXG4gICAgUHJpbWl0aXZlVmFsdWU6IERhdGU7XG4gICAgUHJpbWl0aXZlTGFiZWw6IExhYmVsO1xuXG4gICAgY29uc3RydWN0b3IoZGF0ZSA6IERhdGUsIGxhYmVsIDogTGFiZWwpIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICB0aGlzLkNsYXNzID0gJ0RhdGUnO1xuICAgICAgICB0aGlzLlByaW1pdGl2ZVZhbHVlID0gZGF0ZTtcbiAgICAgICAgdGhpcy5QcmltaXRpdmVMYWJlbCA9IGxhYmVsO1xuICAgICAgICB0aGlzLkV4dGVuc2libGUgPSB0cnVlO1xuICAgICAgICB0aGlzLlByb3RvdHlwZSA9IG5ldyBWYWx1ZShtb25pdG9yLmluc3RhbmNlcy5EYXRlUHJvdG90eXBlLCBib3QpO1xuICAgIH1cblxufVxuXG5leHBvcnQgZnVuY3Rpb24gSXNEYXRlT2JqZWN0KHggOiBWYWx1ZTxhbnk+KSA6IHggaXMgVmFsdWU8RGF0ZU9iamVjdD4ge1xuICAgIHJldHVybiB0eXBlb2YgeC52YWx1ZSA9PT0gJ29iamVjdCcgJiYgeC52YWx1ZSAhPT0gbnVsbCAmJiB4LnZhbHVlLkNsYXNzID09PSAnRGF0ZSc7XG59IiwiaW1wb3J0IHsgSUVjbWFPYmplY3QsIFZhbHVlVHlwZXMsIFByaW1pdGl2ZVZhbHVlVHlwZXMgfSBmcm9tIFwiLi4vSW50ZXJmYWNlc1wiO1xuaW1wb3J0IHsgTGFiZWxlZFByb3BlcnR5RGVzY3JpcHRvciwgSlNGUHJvcGVydHlEZXNjcmlwdG9yIH0gZnJvbSBcIi4uL1Byb3BlcnR5RGVzY3JpcHRvclwiO1xuaW1wb3J0IHsgVmFsdWUgfSBmcm9tIFwiLi4vVmFsdWVcIjtcbmltcG9ydCB7IGJvdCwgTGFiZWwsIGx1YiwgbGUgfSBmcm9tIFwiLi4vTGFiZWxcIjtcbmltcG9ydCB7IFByb3BlcnR5TGFiZWwgfSBmcm9tIFwiLi4vUHJvcGVydHlMYWJlbFwiO1xuaW1wb3J0IHsgSXNBY2Nlc3NvckRlc2NyaXB0b3IsIElzRGF0YURlc2NyaXB0b3IgfSBmcm9tIFwiLi4vUHJvcGVydHlEZXNjcmlwdG9yXCI7XG5pbXBvcnQgKiBhcyBjb25zdGFudHMgZnJvbSAnLi4vQ29uc3RhbnRzJztcbmltcG9ydCB7IElzQ2FsbGFibGUgfSBmcm9tIFwiLi4vVXRpbGl0eS9Jc0NhbGxhYmxlXCI7XG5pbXBvcnQgeyBNb25pdG9yQmFzZSB9IGZyb20gXCIuLi9Nb25pdG9yQmFzZVwiO1xuXG5kZWNsYXJlIHZhciBtb25pdG9yOiBNb25pdG9yQmFzZTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBFY21hIE9iamVjdHMsIDguNi4yXG5cbmV4cG9ydCBjbGFzcyBFY21hT2JqZWN0IGltcGxlbWVudHMgSUVjbWFPYmplY3Qge1xuXG4gIENsYXNzPzogc3RyaW5nO1xuXG4gIF9wcm90b3R5cGUgOiBWYWx1ZTxJRWNtYU9iamVjdCB8IG51bGw+ID0gbmV3IFZhbHVlKG51bGwsIGJvdCk7XG5cbiAgZ2V0IFByb3RvdHlwZSgpOiBWYWx1ZTxJRWNtYU9iamVjdCB8IG51bGw+IHtcbiAgICAgcmV0dXJuIHRoaXMuX3Byb3RvdHlwZTtcbiAgfVxuXG4gIHNldCBQcm90b3R5cGUocCA6IFZhbHVlPElFY21hT2JqZWN0IHwgbnVsbD4pIHtcbiAgICB0aGlzLl9wcm90b3R5cGUgPSBwO1xuICB9XG5cbiAgRXh0ZW5zaWJsZTogYm9vbGVhbiA9IHRydWU7XG5cbiAgcHJvcGVydGllczogeyBba2V5OiBzdHJpbmddOiBWYWx1ZVR5cGVzIH0gfCBWYWx1ZVR5cGVzW10gPSB7fTtcblxuICBsYWJlbHM6IHsgW2tleTogc3RyaW5nXTogUHJvcGVydHlMYWJlbCB9ID0ge307XG4gIHN0cnVjdDogTGFiZWw7XG5cbiAgY29uc3RydWN0b3IoKSB7XG5cbiAgICB0aGlzLnByb3BlcnRpZXMgPSB7fTtcbiAgICB0aGlzLmxhYmVscyA9IHt9O1xuXG4gICAgdGhpcy5zdHJ1Y3QgPSBtb25pdG9yLmNvbnRleHQuZWZmZWN0aXZlUEM7XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ21hcCcsIHtcbiAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NvbWV0aGluZyB0b3VjaGVkIEVjbWEubWFwJyk7XG4gICAgICB9LFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG5cbiAgfVxuXG4gIC8vIC0tLVxuXG4gIHRvU3RyaW5nKCkgOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLkNsYXNzID8gdGhpcy5DbGFzcyA6ICdFY21hT2JqZWN0JztcbiAgfVxuXG4gIC8vIC0tLSB1c2VkIGJ5IGxwcmludFxuXG4gIHRvTGFiZWxlZFN0cmluZygpIDogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy50b1N0cmluZygpO1xuICB9XG5cbiAgLy8gLS0tXG5cbiAgZ2V0T3duUHJvcGVydHlOYW1lcyhsYWJlbDogTGFiZWwpOiBWYWx1ZTxzdHJpbmc+W10ge1xuICAgIGxldCBuYW1lcyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRoaXMucHJvcGVydGllcyk7XG4gICAgbGV0IHJlc3VsdDogVmFsdWU8c3RyaW5nPltdID0gW107XG5cbiAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gbmFtZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGxldCBuYW1lID0gbmFtZXNbaV07XG4gICAgICByZXN1bHRbaV0gPSBuZXcgVmFsdWUobmFtZSwgbHViKGxhYmVsLCB0aGlzLmxhYmVsc1tuYW1lXS5leGlzdGVuY2UpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLy8gLS0tXG5cbiAgZ2V0T3duRW51bWVyYWJsZVByb3BlcnR5TmFtZXMobGFiZWw6IExhYmVsKTogVmFsdWU8c3RyaW5nPltdIHtcbiAgICBsZXQgbmFtZXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0aGlzLnByb3BlcnRpZXMpO1xuICAgIGxldCBlbnVtZXJhYmxlOiBWYWx1ZTxzdHJpbmc+W10gPSBbXTtcbiAgICBsZXQgaiA9IDA7XG5cbiAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gbmFtZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGxldCBuYW1lID0gbmFtZXNbaV07XG4gICAgICAvLyBmcm9tIGdldE93blByb3BlcnR5TmFtZXM7IGd1YXJhbnRlZWQgdG8gYmUgZm91bmRcbiAgICAgIGxldCBkZXNjID0gPFByb3BlcnR5RGVzY3JpcHRvcj5PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRoaXMucHJvcGVydGllcywgbmFtZSk7XG4gICAgICBpZiAoZGVzYy5lbnVtZXJhYmxlKSB7XG4gICAgICAgIGVudW1lcmFibGVbaisrXSA9IG5ldyBWYWx1ZShuYW1lLCBsdWIobGFiZWwsIHRoaXMubGFiZWxzW25hbWVdLmV4aXN0ZW5jZSkpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZW51bWVyYWJsZTtcbiAgfVxuXG4gIC8vIC0tLVxuXG4gIGdldEVudW1lcmFibGVQcm9wZXJ0eU5hbWVzKGluaXRpYWxMYWJlbDogTGFiZWwpOiBWYWx1ZTxzdHJpbmc+W10ge1xuXG4gICAgbGV0IGRlZmluZWQgPSB7fTtcbiAgICBsZXQgcmVzdWx0OiBWYWx1ZTxzdHJpbmc+W10gPSBbXTtcblxuICAgIGxldCBqID0gMDtcblxuICAgIGxldCBjdXJyZW50OiBFY21hT2JqZWN0IHwgbnVsbCA9IHRoaXM7XG4gICAgbGV0IGxibCA9IGluaXRpYWxMYWJlbCB8fCBib3Q7XG5cbiAgICB3aGlsZSAoY3VycmVudCkge1xuICAgICAgbGV0IGVudW1lcmFibGUgPSBjdXJyZW50LmdldE93bkVudW1lcmFibGVQcm9wZXJ0eU5hbWVzKGxibCk7XG5cbiAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBlbnVtZXJhYmxlLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGxldCBuYW1lID0gZW51bWVyYWJsZVtpXTtcbiAgICAgICAgaWYgKCFkZWZpbmVkLmhhc093blByb3BlcnR5KG5hbWUudmFsdWUpKSB7XG4gICAgICAgICAgZGVmaW5lZFtuYW1lLnZhbHVlXSA9IHRydWU7XG4gICAgICAgICAgcmVzdWx0W2orK10gPSBuYW1lO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGxldCBuZXh0ID0gY3VycmVudC5Qcm90b3R5cGU7XG4gICAgICAvL0B0cy1pZ25vcmUgVFlQRVNcbiAgICAgIGN1cnJlbnQgPSBuZXh0LnZhbHVlO1xuICAgICAgbGJsID0gbHViKGxibCwgbmV4dC5sYWJlbCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8vIEdldE93blByb3BlcnR5LCA4LjEyLjEgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICBHZXRPd25Qcm9wZXJ0eShzOiBWYWx1ZTxzdHJpbmcgfCBudW1iZXI+KTogVmFsdWU8TGFiZWxlZFByb3BlcnR5RGVzY3JpcHRvciB8IHVuZGVmaW5lZD4ge1xuICAgIGxldCBwcm9wTmFtZSA9IHMudmFsdWU7XG4gICAgbGV0IHByb3BOYW1lTGFiZWwgPSBzLmxhYmVsO1xuXG4gICAgbGV0IGpzZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGhpcy5wcm9wZXJ0aWVzLCBwcm9wTmFtZSk7XG5cbiAgICBpZiAoanNkZXNjID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBuZXcgVmFsdWUodW5kZWZpbmVkLCBsdWIodGhpcy5zdHJ1Y3QsIHByb3BOYW1lTGFiZWwpKTtcbiAgICB9XG4gICAgbGV0IHByb3BMYWJlbCA9IHRoaXMubGFiZWxzW3Byb3BOYW1lXTtcblxuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBqc2Rlc2MubGFiZWwgPSBwcm9wTGFiZWwudmFsdWU7XG5cbiAgICBsZXQgcmVzdWx0ID0gbmV3IFZhbHVlKDxMYWJlbGVkUHJvcGVydHlEZXNjcmlwdG9yPmpzZGVzYywgbHViKHByb3BOYW1lTGFiZWwsIHByb3BMYWJlbC5leGlzdGVuY2UpKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLy8gR2V0UHJvcGVydHksIDguMTIuMiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gIEdldFByb3BlcnR5KHM6IFZhbHVlPHN0cmluZyB8IG51bWJlcj4pOiBWYWx1ZTxMYWJlbGVkUHJvcGVydHlEZXNjcmlwdG9yIHwgdW5kZWZpbmVkPiB7XG4gICAgbGV0IHByb3AgPSB0aGlzLkdldE93blByb3BlcnR5KHMpO1xuICAgIGlmIChwcm9wLnZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBwcm9wO1xuICAgIH1cblxuICAgIGxldCBwcm90byA9IHRoaXMuUHJvdG90eXBlO1xuICAgIGxldCBsYmwgPSBsdWIocHJvcC5sYWJlbCwgcHJvdG8ubGFiZWwpO1xuXG4gICAgaWYgKHByb3RvLnZhbHVlID09PSBudWxsKSB7XG4gICAgICByZXR1cm4gbmV3IFZhbHVlKHVuZGVmaW5lZCwgbGJsKTtcbiAgICB9XG5cbiAgICAvLyBERUJVRzogcmVtb3ZlXG4gICAgaWYgKHByb3RvLnZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIG1vbml0b3IuZmF0YWwoJ0VDTUEgT2JqZWN0IHdpdGggdW5kZWZpbmVkIFByb3RvdHlwZScpO1xuICAgIH1cblxuICAgIGxldCByZXMgPSBwcm90by5HZXRQcm9wZXJ0eShzKTtcbiAgICByZXMubGFiZWwgPSBsdWIobGJsLCByZXMubGFiZWwpO1xuICAgIHJldHVybiByZXM7XG4gIH1cblxuICAvLyBHZXQsIDguMTIuMyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgR2V0KHM6IFZhbHVlPHN0cmluZyB8IG51bWJlcj4pOiBWYWx1ZTxWYWx1ZVR5cGVzPiB7XG5cbiAgICBsZXQgZGVzY1ZhbHVlID0gdGhpcy5HZXRQcm9wZXJ0eShzKTtcblxuICAgIGlmIChkZXNjVmFsdWUudmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIG5ldyBWYWx1ZSh1bmRlZmluZWQsIGRlc2NWYWx1ZS5sYWJlbCk7XG4gICAgfVxuXG4gICAgbGV0IHY6IFZhbHVlPFZhbHVlVHlwZXM+O1xuICAgIGxldCBkZXNjID0gZGVzY1ZhbHVlLnZhbHVlO1xuXG4gICAgbW9uaXRvci5jb250ZXh0LnB1c2hQQyhkZXNjVmFsdWUubGFiZWwpO1xuXG4gICAgaWYgKCd2YWx1ZScgaW4gZGVzYykge1xuICAgICAgdiA9IG5ldyBWYWx1ZShkZXNjLnZhbHVlLCBkZXNjLmxhYmVsKTtcbiAgICB9IGVsc2UgaWYgKGRlc2MuZ2V0KSB7XG4gICAgICBtb25pdG9yLmNvbnRleHQucHVzaFBDKGRlc2MubGFiZWwpO1xuICAgICAgdiA9IGRlc2MuZ2V0LmNhbGwodGhpcyk7XG4gICAgICBtb25pdG9yLmNvbnRleHQucG9wUEMoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdiA9IG5ldyBWYWx1ZSh1bmRlZmluZWQsIGRlc2NWYWx1ZS5sYWJlbCk7XG4gICAgfVxuXG4gICAgbW9uaXRvci5jb250ZXh0LnBvcFBDKCk7XG5cbiAgICB2LnJhaXNlKGRlc2NWYWx1ZS5sYWJlbCk7XG4gICAgcmV0dXJuIHY7XG4gIH1cblxuICAvLyBDYW5QdXQsIDguMTIuNCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgQ2FuUHV0KHA6IFZhbHVlPHN0cmluZyB8IG51bWJlcj4pOiBWYWx1ZTxib29sZWFuPiB7XG4gICAgbGV0IGxhYmVsZWREZXNjID0gdGhpcy5HZXRPd25Qcm9wZXJ0eShwKTtcblxuICAgIGxldCBsYWJlbCA9IGxhYmVsZWREZXNjLmxhYmVsO1xuXG4gICAgaWYgKGxhYmVsZWREZXNjLnZhbHVlKSB7XG4gICAgICBsZXQgZGVzYyA9IGxhYmVsZWREZXNjLnZhbHVlO1xuICAgICAgbGFiZWwgPSBsdWIobGFiZWwsIGRlc2MubGFiZWwpO1xuXG4gICAgICBpZiAoSXNBY2Nlc3NvckRlc2NyaXB0b3IoZGVzYykpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBWYWx1ZShkZXNjLnNldCAhPT0gdW5kZWZpbmVkLCBsYWJlbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbmV3IFZhbHVlKCEhZGVzYy53cml0YWJsZSwgbGFiZWwpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGxldCBwcm90byA9IHRoaXMuUHJvdG90eXBlO1xuICAgIGlmIChwcm90by52YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIG5ldyBWYWx1ZSh0aGlzLkV4dGVuc2libGUsIGxhYmVsKTtcbiAgICB9XG5cbiAgICBsZXQgbGFibGVsZWRQcm90b3R5cGVEZXNjID0gcHJvdG8uR2V0UHJvcGVydHkocCk7XG4gICAgbGFiZWwgPSBsdWIobGFiZWwsIGxhYmxlbGVkUHJvdG90eXBlRGVzYy5sYWJlbCk7XG5cbiAgICBpZiAobGFibGVsZWRQcm90b3R5cGVEZXNjLnZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBuZXcgVmFsdWUodGhpcy5FeHRlbnNpYmxlLCBsYWJlbCk7XG4gICAgfVxuXG4gICAgbGV0IHByb3RvdHlwZURlc2MgPSBsYWJsZWxlZFByb3RvdHlwZURlc2MudmFsdWU7XG4gICAgbGFiZWwgPSBsdWIobGFiZWwsIHByb3RvdHlwZURlc2MubGFiZWwpO1xuXG4gICAgaWYgKElzQWNjZXNzb3JEZXNjcmlwdG9yKHByb3RvdHlwZURlc2MpKSB7XG4gICAgICByZXR1cm4gbmV3IFZhbHVlKHByb3RvdHlwZURlc2Muc2V0ICE9PSB1bmRlZmluZWQsIGxhYmVsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCF0aGlzLkV4dGVuc2libGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBWYWx1ZShmYWxzZSwgbGFiZWwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG5ldyBWYWx1ZSghIXByb3RvdHlwZURlc2Mud3JpdGFibGUsIGxhYmVsKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBQdXQsIDguMTIuNSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgUHV0KHM6IFZhbHVlPHN0cmluZyB8IG51bWJlcj4sIHY6IFZhbHVlPFZhbHVlVHlwZXM+LCBUaHJvdzogYm9vbGVhbik6IHZvaWQge1xuICAgIGxldCBjID0gbW9uaXRvci5jb250ZXh0O1xuXG4gICAgbGV0IGNhblB1dCA9IHRoaXMuQ2FuUHV0KHMpO1xuICAgIGlmICghY2FuUHV0LnZhbHVlKSB7XG4gICAgICBpZiAoVGhyb3cpIHtcbiAgICAgICAgYy5wdXNoUEMoY2FuUHV0LmxhYmVsKTtcbiAgICAgICAgbW9uaXRvci5UaHJvdyhcbiAgICAgICAgICBcIlR5cGVFcnJvclwiLFxuICAgICAgICAgICdpbGxlZ2FsIGFjY2VzcycsXG4gICAgICAgICAgYm90XG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjLnB1c2hQQyhuZXcgTGFiZWwoKSk7XG5cbiAgICBsZXQgb3duRGVzYyA9IHRoaXMuR2V0T3duUHJvcGVydHkocyk7XG5cbiAgICBpZiAob3duRGVzYy52YWx1ZSAmJiBJc0RhdGFEZXNjcmlwdG9yKG93bkRlc2MudmFsdWUpKSB7XG4gICAgICB0aGlzLkRlZmluZU93blByb3BlcnR5KHMsIHsgdmFsdWU6IHYudmFsdWUsIGxhYmVsOiB2LmxhYmVsIH0sIFRocm93KTtcbiAgICAgIGMucG9wUEMoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsZXQgZGVzYyA9IHRoaXMuR2V0UHJvcGVydHkocyk7XG4gICAgaWYgKGRlc2MudmFsdWUgJiYgSXNBY2Nlc3NvckRlc2NyaXB0b3IoZGVzYy52YWx1ZSkpIHtcblxuICAgICAgdGhpcy5zdHJ1Y3QgPSBsdWIodGhpcy5zdHJ1Y3QsIHMubGFiZWwpO1xuICAgICAgaWYgKGRlc2MudmFsdWUuc2V0KSB7XG4gICAgICAgIGMubGFiZWxzLnBjID0gbHViKGMubGFiZWxzLnBjLCBkZXNjLmxhYmVsKTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgIGRlc2MudmFsdWUuc2V0LmNhbGwodGhpcywgdik7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICBtb25pdG9yLnRyeVJldGhyb3coZSwgVGhyb3cpO1xuICAgICAgICAgIG1vbml0b3IuZmF0YWwoYEVjbWFPYmplY3QuUHV0LCB1bmFibGUgdG8gbGlmdCAke2V9IG9mIHR5cGUgJHt0eXBlb2YgZX0gKFB1dCgke3MudmFsdWV9LCAke3YudmFsdWV9KSBvbiAke3RoaXMucHJvcGVydGllc30pYCk7XG4gICAgICAgIH1cblxuICAgICAgfVxuXG4gICAgICBjLnBvcFBDKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgYy5sYWJlbHMucGMgPSBsdWIoYy5sYWJlbHMucGMsIGRlc2MubGFiZWwpO1xuICAgIHRoaXMuRGVmaW5lT3duUHJvcGVydHkocyxcbiAgICAgIHtcbiAgICAgICAgdmFsdWU6IHYudmFsdWUsXG4gICAgICAgIGxhYmVsOiB2LmxhYmVsLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICB9LCBUaHJvdyk7XG4gICAgYy5wb3BQQygpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIEhhc1Byb3BlcnR5LCA4LjEyLjYgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICBIYXNQcm9wZXJ0eShzOiBWYWx1ZTxzdHJpbmcgfCBudW1iZXI+KTogVmFsdWU8Ym9vbGVhbj4ge1xuICAgIGxldCBkZXNjID0gdGhpcy5HZXRQcm9wZXJ0eShzKTtcblxuICAgIGxldCB2YWwgPSBuZXcgVmFsdWUoZGVzYy52YWx1ZSAhPT0gdW5kZWZpbmVkLCBkZXNjLmxhYmVsKTtcbiAgICByZXR1cm4gdmFsO1xuICB9XG5cbiAgLy8gRGVsZXRlLCA4LjEyLjcgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gIERlbGV0ZShzOiBWYWx1ZTxzdHJpbmcgfCBudW1iZXI+LCBUaHJvdz86IGJvb2xlYW4pOiBWYWx1ZTxib29sZWFuPiB7XG4gICAgbGV0IGMgPSBtb25pdG9yLmNvbnRleHQ7XG4gICAgbGV0IHByb3BlcnR5TmFtZSA9IHMudmFsdWU7XG5cbiAgICBsZXQgZGVzYyA9IHRoaXMuR2V0T3duUHJvcGVydHkocyk7XG5cbiAgICBpZiAoZGVzYy52YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gbmV3IFZhbHVlKHRydWUsIGRlc2MubGFiZWwpO1xuICAgIH1cblxuICAgIGlmICghbGUoYy5lZmZlY3RpdmVQQywgdGhpcy5zdHJ1Y3QpKSB7XG4gICAgICBsZXQgbXNnID0gYEVjbWEucHJvdG90eXBlLkRlbGV0ZTogc2VjdXJpdHkgY29udGV4dCAke2MuZWZmZWN0aXZlUEN9IG5vdCBiZWxvdyBzdHJ1Y3R1cmUgJHt0aGlzLnN0cnVjdH1gO1xuICAgICAgbW9uaXRvci5zZWN1cml0eUVycm9yKG1zZyk7XG5cbiAgICAgIC8vIEZvciBvYnNlcnZhYmxlIGZsb3dzXG4gICAgICB0aGlzLnN0cnVjdCA9IGx1Yih0aGlzLnN0cnVjdCwgYy5lZmZlY3RpdmVQQyk7XG4gICAgfVxuXG4gICAgbGV0IGxibCA9IGx1YihjLmVmZmVjdGl2ZVBDLCBkZXNjLmxhYmVsKTtcbiAgICBsZXQgZXhpc3RlbmNlID0gdGhpcy5sYWJlbHNbcHJvcGVydHlOYW1lXS5leGlzdGVuY2U7XG5cbiAgICAvLyB1c2UgcGMgc3RhY2sgZm9yIHRhaW50IG1vZGVcbiAgICBjLnB1c2hQQyhsYmwpO1xuICAgIGlmICghbGUoYy5lZmZlY3RpdmVQQywgZXhpc3RlbmNlKSkge1xuICAgICAgbGV0IG1zZyA9IGBFY21hLnByb3RvdHlwZS5EZWxldGU6IHNlY3VyaXR5IGNvbnRleHQgJHtsYmx9IG5vdCBiZWxvdyBleHN0ZW5jZSBsYWJlbCAke2V4aXN0ZW5jZX1gO1xuICAgICAgbW9uaXRvci5zZWN1cml0eUVycm9yKG1zZyk7XG5cbiAgICAgIC8vIEZvciBvYnNlcnZhYmxlIGZsb3dzXG4gICAgICBleGlzdGVuY2UgPSBsdWIoZXhpc3RlbmNlLCBsYmwpO1xuICAgIH1cbiAgICBjLnBvcFBDKCk7XG5cbiAgICBsZXQgcmVzO1xuICAgIHRyeSB7XG4gICAgICByZXMgPSBkZWxldGUgdGhpcy5wcm9wZXJ0aWVzW3Byb3BlcnR5TmFtZV07XG4gICAgICBpZiAocmVzKSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLmxhYmVsc1twcm9wZXJ0eU5hbWVdO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIG1vbml0b3IudHJ5UmV0aHJvdyhlLCBUaHJvdyk7XG4gICAgICBtb25pdG9yLmZhdGFsKGBFY21hT2JqZWN0LkRlbGV0ZSwgdW5hYmxlIHRvIGxpZnQgJHtlfSBvZiB0eXBlICR7dHlwZW9mIGV9IChEZWxldGUoJHtzLnZhbHVlfSkgb24gJHt0aGlzLnByb3BlcnRpZXN9KWApO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgVmFsdWUocmVzLCBsdWIoZGVzYy5sYWJlbCwgZXhpc3RlbmNlKSk7XG4gIH1cblxuICAvLyBEZWZhdWx0VmFsdWUsIDguMTIuOCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgRGVmYXVsdFZhbHVlKGhpbnQ/OiBcInN0cmluZ1wiIHwgXCJudW1iZXJcIik6IFZhbHVlPFByaW1pdGl2ZVZhbHVlVHlwZXM+IHtcblxuICAgIGlmIChoaW50ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGlmICh0aGlzLkNsYXNzID09PSAnRGF0ZScpXG4gICAgICAgIGhpbnQgPSAnc3RyaW5nJztcbiAgICAgIGVsc2VcbiAgICAgICAgaGludCA9ICdudW1iZXInO1xuICAgIH1cblxuICAgIGlmIChoaW50ID09PSAnc3RyaW5nJykge1xuICAgICAgbGV0IHRvU3RyaW5nID0gdGhpcy5HZXQoY29uc3RhbnRzLnRvU3RyaW5nKTtcblxuICAgICAgaWYgKElzQ2FsbGFibGUodG9TdHJpbmcpKSB7XG4gICAgICAgIGxldCBzdHIgPSB0b1N0cmluZy5DYWxsKG5ldyBWYWx1ZSh0aGlzLCBib3QpLCBbXSk7XG5cbiAgICAgICAgaWYgKGlzRGVmaW5lZFByaW1pdGl2ZVZhbHVlKHN0cikpXG4gICAgICAgICAgcmV0dXJuIHN0cjtcbiAgICAgIH1cblxuICAgICAgbW9uaXRvci5jb250ZXh0LnB1c2hQQyh0b1N0cmluZy5sYWJlbCk7XG5cbiAgICAgIGxldCB2YWx1ZU9mID0gdGhpcy5HZXQoY29uc3RhbnRzLnZhbHVlT2YpO1xuICAgICAgaWYgKElzQ2FsbGFibGUodmFsdWVPZikpIHtcbiAgICAgICAgbGV0IHN0ciA9IHZhbHVlT2YuQ2FsbChuZXcgVmFsdWUodGhpcywgYm90KSwgW10pO1xuXG4gICAgICAgIGlmIChpc0RlZmluZWRQcmltaXRpdmVWYWx1ZShzdHIpKSB7XG4gICAgICAgICAgc3RyLnJhaXNlKHRvU3RyaW5nLmxhYmVsKTtcbiAgICAgICAgICBtb25pdG9yLmNvbnRleHQucG9wUEMoKTtcbiAgICAgICAgICByZXR1cm4gc3RyO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIHJldHVybiBuZXcgVmFsdWUoJ0RlZmF1bHRWYWx1ZTogdW5hYmxlIHRvIGNvbnZlcnQnLCBib3QpO1xuXG4gICAgICBtb25pdG9yLlRocm93KFxuICAgICAgICBcIlR5cGVFcnJvclwiLFxuICAgICAgICAnZGVmYXVsdCB2YWx1ZSwgdW5hYmxlIHRvIGNvbnZlcnQnLFxuICAgICAgICBsdWIodG9TdHJpbmcubGFiZWwsIHZhbHVlT2YubGFiZWwpXG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIGhpbnQgbXVzdCBiZSAnbnVtYmVyJ1xuXG5cbiAgICBsZXQgdmFsdWVPZiA9IHRoaXMuR2V0KGNvbnN0YW50cy52YWx1ZU9mKTtcbiAgICBpZiAoSXNDYWxsYWJsZSh2YWx1ZU9mKSkge1xuICAgICAgbGV0IHN0ciA9IHZhbHVlT2YuQ2FsbChuZXcgVmFsdWUodGhpcywgYm90KSwgW10pO1xuXG4gICAgICBpZiAoaXNEZWZpbmVkUHJpbWl0aXZlVmFsdWUoc3RyKSlcbiAgICAgICAgcmV0dXJuIHN0cjtcbiAgICB9XG5cbiAgICBtb25pdG9yLmNvbnRleHQucHVzaFBDKHZhbHVlT2YubGFiZWwpO1xuXG4gICAgbGV0IHRvU3RyaW5nID0gdGhpcy5HZXQoY29uc3RhbnRzLnRvU3RyaW5nKTtcblxuICAgIGlmIChJc0NhbGxhYmxlKHRvU3RyaW5nKSkge1xuICAgICAgbGV0IHN0ciA9IHRvU3RyaW5nLkNhbGwobmV3IFZhbHVlKHRoaXMsIGJvdCksIFtdKTtcbiAgICAgIGlmIChpc0RlZmluZWRQcmltaXRpdmVWYWx1ZShzdHIpKSB7XG4gICAgICAgIHN0ci5yYWlzZSh2YWx1ZU9mLmxhYmVsKTtcbiAgICAgICAgbW9uaXRvci5jb250ZXh0LnBvcFBDKCk7XG4gICAgICAgIHJldHVybiBzdHI7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG1vbml0b3IuVGhyb3coXG4gICAgICBcIlR5cGVFcnJvclwiLFxuICAgICAgJ2RlZmF1bHQgdmFsdWUsIHVuYWJsZSB0byBjb252ZXJ0JyxcbiAgICAgIGx1Yih0b1N0cmluZy5sYWJlbCwgdmFsdWVPZi5sYWJlbClcbiAgICApO1xuICB9XG5cbiAgLy8gRGVmaW5lT3duUHJvcGVydHksIDguMTIuOSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gIERlZmluZU93blByb3BlcnR5KHM6IFZhbHVlPHN0cmluZyB8IG51bWJlcj4sIGRlc2M6IEpTRlByb3BlcnR5RGVzY3JpcHRvciwgVGhyb3c/OiBCb29sZWFuKTogVmFsdWU8Ym9vbGVhbj4ge1xuICAgIGxldCBjID0gbW9uaXRvci5jb250ZXh0O1xuXG4gICAgbGV0IHByb3BOYW1lID0gcy52YWx1ZTtcbiAgICBsZXQgcHJvcE5hbWVMYWJlbCA9IHMubGFiZWw7XG5cbiAgICBsZXQgY29udGV4dExhYmVsID0gbHViKGMuZWZmZWN0aXZlUEMsIHByb3BOYW1lTGFiZWwpO1xuXG4gICAgdHJ5IHtcbiAgICAgIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLnByb3BlcnRpZXMsIHByb3BOYW1lKSkge1xuICAgICAgICBsZXQgdmFsdWVMYWJlbCA9IHRoaXMubGFiZWxzW3Byb3BOYW1lXS52YWx1ZTtcblxuICAgICAgICAvLyB1c2UgdGhlIHBjIHN0YWNrIHRvIG1ha2UgdGFpbnQgbW9kZSBlYXNpZXJcbiAgICAgICAgYy5wdXNoUEMoY29udGV4dExhYmVsKTtcbiAgICAgICAgaWYgKCFsZShjLmVmZmVjdGl2ZVBDLCB2YWx1ZUxhYmVsKSkge1xuICAgICAgICAgIGxldCBtc2cgPSBgRWNtYS5wcm90b3R5cGUuRGVmaW5lT3duUHJvcGVydHk6IHNlY3VyaXR5IGNvbnRleHQgJHtjb250ZXh0TGFiZWx9IG5vdCBiZWxvdyBleGlzdGluZyB2YWx1ZSBsYWJlbCAke3ZhbHVlTGFiZWx9IGZvciBwcm9wZXJ0eSAke3Byb3BOYW1lfWA7XG4gICAgICAgICAgbW9uaXRvci5zZWN1cml0eUVycm9yKG1zZyk7XG5cbiAgICAgICAgICAvLyBGb3Igb2JzZXJ2YWJsZSBmbG93c1xuICAgICAgICAgIHZhbHVlTGFiZWwgPSBsdWIodmFsdWVMYWJlbCwgY29udGV4dExhYmVsKTtcbiAgICAgICAgfVxuICAgICAgICBjLnBvcFBDKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoIWxlKGMuZWZmZWN0aXZlUEMsIHRoaXMuc3RydWN0KSkge1xuICAgICAgICAgIGxldCBtc2cgPSBgRWNtYS5wcm90b3R5cGUuRGVmaW5lT3duUHJvcGVydHk6IHNlY3VyaXR5IGNvbnRleHQgJHtjLmVmZmVjdGl2ZVBDfSBub3QgYmVsb3cgc3RydWN0dXJlICR7dGhpcy5zdHJ1Y3R9YDtcbiAgICAgICAgICBtb25pdG9yLnNlY3VyaXR5RXJyb3IobXNnKTtcblxuICAgICAgICAgIC8vIEZvciBvYnNlcnZhYmxlIGZsb3dzXG4gICAgICAgICAgdGhpcy5zdHJ1Y3QgPSBsdWIodGhpcy5zdHJ1Y3QsIGMuZWZmZWN0aXZlUEMpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMuc3RydWN0ID0gbHViKHRoaXMuc3RydWN0LCBwcm9wTmFtZUxhYmVsKTtcblxuICAgICAgaWYgKGRlc2MuZ2V0KSB7XG4gICAgICAgIGxldCBnZXQgPSBkZXNjLmdldDtcbiAgICAgICAgLy9AdHMtaWdub3JlIERFU0MgSEVMTFxuICAgICAgICBkZXNjLmdldCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGdldC5DYWxsKG5ldyBWYWx1ZSh0aGlzLCBib3QpLCBbXSk7IH07XG4gICAgICAgIC8vQHRzLWlnbm9yZSBERVNDIEhFTExcbiAgICAgICAgZGVzYy5nZXQuYWN0dWFsRnVuY3Rpb24gPSBnZXQ7XG4gICAgICB9XG5cbiAgICAgIGlmIChkZXNjLnNldCkge1xuICAgICAgICBsZXQgc2V0ID0gZGVzYy5zZXQ7XG4gICAgICAgIC8vQHRzLWlnbm9yZSBERVNDIEhFTExcbiAgICAgICAgZGVzYy5zZXQgPSBmdW5jdGlvbiAodikgeyByZXR1cm4gc2V0LkNhbGwobmV3IFZhbHVlKHRoaXMsIGJvdCksIFt2XSk7IH07XG4gICAgICAgIC8vQHRzLWlnbm9yZSBERVNDIEhFTExcbiAgICAgICAgZGVzYy5zZXQuYWN0dWFsRnVuY3Rpb24gPSBzZXQ7XG4gICAgICB9XG5cbiAgICAgIC8vQHRzLWlnbm9yZSBERVNDIEhFTExcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLnByb3BlcnRpZXMsIHByb3BOYW1lLCBkZXNjKTtcblxuICAgICAgLy8gZml4IG9mIGlzc3VlICM0LCBsYWJlbCBvZiBlbnVtZXJhYmxlIGlzIHBhcnQgb2YgZGVzYy5sYWJlbCBhbmQgYWZmZWN0cyB0aGUgZXhpc3RlbmNlLlxuICAgICAgdGhpcy5sYWJlbHNbcHJvcE5hbWVdID0geyB2YWx1ZTogbHViKGRlc2MubGFiZWwsIGNvbnRleHRMYWJlbCksIGV4aXN0ZW5jZTogbHViKGRlc2MubGFiZWwsIGNvbnRleHRMYWJlbCkgfTtcblxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIC8vQHRzLWlnbm9yZSBUWVBFU1xuICAgICAgbW9uaXRvci50cnlSZXRocm93KGUsIFRocm93KTtcbiAgICAgIG1vbml0b3IuZmF0YWwoYEVjbWFPYmplY3QuRGVmaW5lT3duUHJvcGVydHksIHVuYWJsZSB0byBsaWZ0ICR7ZX0gb2YgdHlwZSAke3R5cGVvZiBlfSAoRGVmaW5lT3duUHJvcGVydHkoJHtzLnZhbHVlfSwgJHtkZXNjfSkgb24gJHt0aGlzLnByb3BlcnRpZXN9KWApO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgVmFsdWUodHJ1ZSwgYm90KTtcbiAgfVxuXG59XG5cbmZ1bmN0aW9uIGlzRGVmaW5lZFByaW1pdGl2ZVZhbHVlKHZhbHVlOiBWYWx1ZTxhbnk+KTogdmFsdWUgaXMgVmFsdWU8UHJpbWl0aXZlVmFsdWVUeXBlcz4ge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlLnZhbHVlID09PSAnYm9vbGVhbicgfHwgdHlwZW9mIHZhbHVlLnZhbHVlID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgdmFsdWUudmFsdWUgPT09ICdudW1iZXInXG59IiwiaW1wb3J0IHsgVmFsdWUgfSBmcm9tIFwiLi4vVmFsdWVcIjtcbmltcG9ydCB7IEVjbWFPYmplY3QgfSBmcm9tICcuLi9PYmplY3RzL0VjbWFPYmplY3QnO1xuaW1wb3J0ICogYXMgY29uc3RhbnRzIGZyb20gJy4uL0NvbnN0YW50cyc7XG5pbXBvcnQgeyBUb1N0cmluZyB9IGZyb20gJy4uL0NvbnZlcnNpb24vVG9TdHJpbmcnO1xuaW1wb3J0IHsgYm90IH0gZnJvbSAnLi4vTGFiZWwnO1xuaW1wb3J0IHsgTW9uaXRvckJhc2UgfSBmcm9tICcuLi9Nb25pdG9yQmFzZSc7XG5pbXBvcnQgeyBWYWx1ZVR5cGVzIH0gZnJvbSBcIi4uL0ludGVyZmFjZXNcIjtcbmltcG9ydCB7IFN0YWNrVHJhY2UgfSBmcm9tIFwiLi4vU3RhY2tUcmFjZVwiO1xuXG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5kZWNsYXJlIHZhciBtb25pdG9yOiBNb25pdG9yQmFzZTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmV4cG9ydCBjbGFzcyBFcnJvck9iamVjdCBleHRlbmRzIEVjbWFPYmplY3Qge1xuXG4gIHN0YWNrOiBTdGFja1RyYWNlO1xuICBtZXNzYWdlOiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3IodjogVmFsdWU8VmFsdWVUeXBlcz4pIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuUHJvdG90eXBlID0gbmV3IFZhbHVlKG1vbml0b3IuaW5zdGFuY2VzLkVycm9yUHJvdG90eXBlLCBib3QpO1xuICAgIHRoaXMuQ2xhc3MgPSAnRXJyb3InO1xuICAgIHRoaXMuRXh0ZW5zaWJsZSA9IHRydWU7XG5cbiAgICBsZXQgbWVzc2FnZSA9IG5ldyBWYWx1ZShcIlwiLCBib3QpO1xuXG4gICAgaWYgKHYudmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgbWVzc2FnZSA9IFRvU3RyaW5nKHYpO1xuICAgIH1cblxuICAgIHRoaXMuRGVmaW5lT3duUHJvcGVydHkoXG4gICAgICBjb25zdGFudHMubWVzc2FnZSxcbiAgICAgIHtcbiAgICAgICAgdmFsdWU6IG1lc3NhZ2UudmFsdWUsXG4gICAgICAgIGxhYmVsOiBtZXNzYWdlLmxhYmVsLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgfVxuICAgICk7XG5cbiAgICAvLyBmb3IgdG9TdHJpbmdcbiAgICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlLnZhbHVlO1xuICAgIHRoaXMuc3RhY2sgPSBtb25pdG9yLnN0YWNrVHJhY2UoKTtcbiAgfVxuXG4gIHRvU3RyaW5nKCk6IHN0cmluZyB7XG4gICAgbGV0IHN0ciA9ICdFcnJvcjogJyArIHRoaXMubWVzc2FnZSArICdcXG4nICsgdGhpcy5zdGFjay50b1N0cmluZygpO1xuICAgIHJldHVybiBzdHI7XG4gIH1cbn0iLCJpbXBvcnQgeyBNb25pdG9yQmFzZSB9IGZyb20gJy4uL01vbml0b3JCYXNlJztcblxuaW1wb3J0IHsgTmF0aXZlRXJyb3JPYmplY3QgfSBmcm9tICcuL05hdGl2ZUVycm9yT2JqZWN0JztcbmltcG9ydCB7IFZhbHVlIH0gZnJvbSAnLi4vVmFsdWUnO1xuaW1wb3J0IHsgVmFsdWVUeXBlcyB9IGZyb20gJy4uL0ludGVyZmFjZXMnO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZGVjbGFyZSB2YXIgbW9uaXRvcjogTW9uaXRvckJhc2U7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5leHBvcnQgY2xhc3MgRXZhbEVycm9yT2JqZWN0IGV4dGVuZHMgTmF0aXZlRXJyb3JPYmplY3Qge1xuICBUeXBlID0gJ05hdGl2ZUVycm9yJztcblxuICBjb25zdHJ1Y3Rvcih2OiBWYWx1ZTxWYWx1ZVR5cGVzPikge1xuICAgIHN1cGVyKG1vbml0b3IuaW5zdGFuY2VzLkV2YWxFcnJvclByb3RvdHlwZSwgdik7XG4gIH1cbn0iLCJpbXBvcnQgeyBsdWIsIGJvdCB9IGZyb20gJy4uL0xhYmVsJztcbmltcG9ydCB7IFZhbHVlIH0gZnJvbSBcIi4uL1ZhbHVlXCI7XG5pbXBvcnQgeyBEZWZpbmVGRkYsIERlZmluZVRGVCwgRGVmaW5lVEZGLCBEZWZpbmVGRlQgfSBmcm9tICcuLi9EZWZpbmUnO1xuaW1wb3J0IHsgRWNtYU9iamVjdCB9IGZyb20gJy4uL09iamVjdHMvRWNtYU9iamVjdCc7XG5cbmltcG9ydCAqIGFzIGNvbnN0YW50cyBmcm9tICcuLi9Db25zdGFudHMnO1xuaW1wb3J0IHsgTW9uaXRvckJhc2UgfSBmcm9tICcuLi9Nb25pdG9yQmFzZSc7XG5cbmltcG9ydCB7IE9iamVjdE9iamVjdCB9IGZyb20gJy4uL09iamVjdHMvT2JqZWN0T2JqZWN0JztcbmltcG9ydCB7IEhhc0luc3RhbmNlIH0gZnJvbSAnLi4vSGFzSW5zdGFuY2UnO1xuXG5pbXBvcnQgKiBhcyBlc3RyZWUgZnJvbSAnZXN0cmVlJztcbmltcG9ydCB7IExleGljYWxFbnZpcm9ubWVudCB9IGZyb20gJy4uL0xleGljYWxFbnZpcm9ubWVudCc7XG5pbXBvcnQgeyBWYWx1ZVR5cGVzLCBJc0lFY21hT2JqZWN0IH0gZnJvbSAnLi4vSW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBXb3JrTGlzdFB0ciwgQXN5bmNDb25zdHJ1Y3RDbG9zdXJlRGF0YSB9IGZyb20gJy4uL0NvbnRleHQnO1xuaW1wb3J0IHsgcHJldHR5IH0gZnJvbSAnLi4vUFAnO1xuaW1wb3J0IHsgZXhlY3V0ZSB9IGZyb20gJy4uL0VuZ2luZS9FeGVjdXRlJztcbmltcG9ydCB7IFRvT2JqZWN0IH0gZnJvbSAnLi4vQ29udmVyc2lvbi9Ub09iamVjdCc7XG5pbXBvcnQgeyBOZXdEZWNsYXJhdGl2ZUVudmlyb25tZW50IH0gZnJvbSAnLi4vRGVjbGFyYXRpdmVFbnZpcm9ubWVudFJlY29yZCc7XG5pbXBvcnQgeyBEZWNsYXJhdGlvbkJpbmRpbmdJbnN0YW50aWF0aW9uIH0gZnJvbSAnLi4vRW5naW5lL0JpbmRpbmcnO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZGVjbGFyZSB2YXIgbW9uaXRvcjogTW9uaXRvckJhc2U7XG5cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyAxMC40LjNcbmZ1bmN0aW9uIGVudGVyRnVuY3Rpb25Db2RlKEY6IEZ1bmN0aW9uT2JqZWN0LCB0aGlzQXJnOiBWYWx1ZTxWYWx1ZVR5cGVzPiwgYXJnczogVmFsdWU8VmFsdWVUeXBlcz5bXSkge1xuICBsZXQgYyA9IG1vbml0b3IuY29udGV4dDtcblxuICBsZXQgdGhpc0JpbmRpbmc6IFZhbHVlPEVjbWFPYmplY3Q+O1xuXG4gIGlmICh0aGlzQXJnLnZhbHVlID09PSBudWxsIHx8IHRoaXNBcmcudmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgIHRoaXNCaW5kaW5nID0gbmV3IFZhbHVlKG1vbml0b3IuR2xvYmFsT2JqZWN0LCB0aGlzQXJnLmxhYmVsKTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgdGhpc0FyZy52YWx1ZSAhPT0gJ29iamVjdCcgJiYgdHlwZW9mIHRoaXNBcmcudmFsdWUgIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aGlzQmluZGluZyA9IFRvT2JqZWN0KHRoaXNBcmcpO1xuICB9IGVsc2Uge1xuICAgIC8vQHRzLWlnbm9yZSBUeXBlU2NyaXB0IGRvZXNuJ3QgbmFycm93IGdlbmVyaWMgdHlwZXNcbiAgICB0aGlzQmluZGluZyA9IHRoaXNBcmc7XG4gIH1cblxuICB2YXIgbG9jYWxFbnYgPSBuZXcgVmFsdWUoTmV3RGVjbGFyYXRpdmVFbnZpcm9ubWVudChGLlNjb3BlKSxcbiAgICBjLmVmZmVjdGl2ZVBDKTtcblxuICB2YXIgbmV3Q29udGV4dCA9IGMuY2xvbmUodGhpc0JpbmRpbmcsIGxvY2FsRW52LCBsb2NhbEVudik7XG4gIG5ld0NvbnRleHQubGFiZWxzLnJldCA9IGx1YihuZXdDb250ZXh0LmxhYmVscy5yZXQsIG5ld0NvbnRleHQubGFiZWxzLnBjKTtcbiAgbmV3Q29udGV4dC5vd25lciA9IEYuTmFtZTtcbiAgRGVjbGFyYXRpb25CaW5kaW5nSW5zdGFudGlhdGlvbihuZXdDb250ZXh0LCBGLCBhcmdzKTtcblxuICByZXR1cm4gbmV3Q29udGV4dDtcbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBGdW5jdGlvbiBvYmplY3RzLCAxMy4yXG5cbmV4cG9ydCBjbGFzcyBGdW5jdGlvbk9iamVjdCBleHRlbmRzIEVjbWFPYmplY3Qge1xuXG4gIFNvdXJjZT86IGVzdHJlZS5GdW5jdGlvbjtcbiAgTmFtZT86IHN0cmluZztcblxuICBTY29wZTogVmFsdWU8TGV4aWNhbEVudmlyb25tZW50PjtcbiAgRm9ybWFsUGFyYW1ldGVyczogZXN0cmVlLlBhdHRlcm5bXTtcbiAgQ29kZTogZXN0cmVlLkJsb2NrU3RhdGVtZW50IHwgZXN0cmVlLkV4cHJlc3Npb247XG5cbiAgY29uc3RydWN0b3IocGFybXM6IGVzdHJlZS5QYXR0ZXJuW10sIGNvZGU6IGVzdHJlZS5CbG9ja1N0YXRlbWVudCB8IGVzdHJlZS5FeHByZXNzaW9uLCBzY29wZTogVmFsdWU8TGV4aWNhbEVudmlyb25tZW50Pikge1xuICAgIHN1cGVyKCk7XG5cbiAgICB0aGlzLkNsYXNzID0gJ0Z1bmN0aW9uJztcbiAgICB0aGlzLlByb3RvdHlwZSA9IG5ldyBWYWx1ZShtb25pdG9yLmluc3RhbmNlcy5GdW5jdGlvblByb3RvdHlwZSwgYm90KTtcblxuICAgIHRoaXMuU2NvcGUgPSBzY29wZTtcbiAgICB0aGlzLkZvcm1hbFBhcmFtZXRlcnMgPSBwYXJtcyA/IHBhcm1zIDogW107XG4gICAgdGhpcy5Db2RlID0gY29kZTtcblxuICAgIHRoaXMuRXh0ZW5zaWJsZSA9IHRydWU7XG5cbiAgICBEZWZpbmVGRlQodGhpcywgY29uc3RhbnRzLmxlbmd0aCwgdGhpcy5Gb3JtYWxQYXJhbWV0ZXJzLmxlbmd0aCk7XG4gICAgLy8gTk9URTogd2lsbCBiZSB1cGRhdGVkIHdoZW4gY2FsbGVkIGFuZCBzaW5jZSB3ZSBwaWdneWJhY2sgcHJvcGVydGllcyBvbiBuYXRpdmUgcHJvcGVydGllc1xuICAgIC8vIGRlZmluaW5nIGFzIEZGRiB3aWxsIGNhdXNlIGZ1dHVyZSB1cGRhdGVzIHRvIGZhaWwuIFRodXMgd2UgZGVmaW5lIGl0IGFzIFRGVCBldmVuIHRob3VnaFxuICAgIC8vIHRoaXMgdmlvbGF0ZXMgdGhlIHN0YW5kYXJkLlxuICAgIERlZmluZUZGRih0aGlzLCBjb25zdGFudHMuYXJndW1lbnRzLCBudWxsKTtcbiAgICBEZWZpbmVGRkYodGhpcywgY29uc3RhbnRzLmNhbGxlciwgbnVsbCk7XG5cblxuICAgIGxldCBwcm90byA9IG5ldyBPYmplY3RPYmplY3QoKTtcbiAgICBEZWZpbmVURlQocHJvdG8sIGNvbnN0YW50cy5jb25zdHJ1Y3RvciwgdGhpcyk7XG5cbiAgICBEZWZpbmVURkYodGhpcywgY29uc3RhbnRzLnByb3RvdHlwZSwgcHJvdG8pO1xuICB9XG5cbiAgLy8gLS0tXG5cbiAgQXN5bmNDYWxsKHRoaXNBcmc6IFZhbHVlPFZhbHVlVHlwZXM+LCBhcmdzOiBWYWx1ZTxWYWx1ZVR5cGVzPltdKTogdm9pZCB7XG4gICAgLy8gc3RlcCAxLCBhcyBpbiAxMC40LjMgZW1ib2RpZWQgaW4gZW50ZXJGdW5jdGlvbkNvZGVcbiAgICBsZXQgZnVuY0N0eCA9IGVudGVyRnVuY3Rpb25Db2RlKHRoaXMsIHRoaXNBcmcsIGFyZ3MpO1xuXG4gICAgLy8gZm9yIHN0YWNrIHRyYWNlXG4gICAgZnVuY0N0eC5vd25lciA9IHRoaXMuTmFtZTtcblxuICAgIG1vbml0b3IuY29udGV4dFN0YWNrLnB1c2goZnVuY0N0eCk7XG4gICAgbGV0IGlwID0gZnVuY0N0eC53b3JrTGlzdC50b3AoKTtcblxuICAgIGlmICh0aGlzLkNvZGUpIHtcbiAgICAgIGlwLnRoZW4odGhpcy5Db2RlKTtcbiAgICAgIGlwLnRoZW4oQXN5bmNDYWxsRW5kKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaXAudGhlbihBc3luY0NhbGxFbmQpO1xuICAgIH1cblxuICB9XG5cbiAgLy8gLS0tXG5cbiAgLy8gMTMuMi4xIFxuICBDYWxsKHRoaXNBcmc6IFZhbHVlPFZhbHVlVHlwZXM+LCBhcmdzOiBWYWx1ZTxWYWx1ZVR5cGVzPltdKTogVmFsdWU8VmFsdWVUeXBlcz4ge1xuXG4gICAgLy8gc3RlcCAxLCBhcyBpbiAxMC40LjMgZW1ib2RpZWQgaW4gZW50ZXJGdW5jdGlvbkNvZGVcbiAgICBsZXQgZnVuY0N0eCA9IGVudGVyRnVuY3Rpb25Db2RlKHRoaXMsIHRoaXNBcmcsIGFyZ3MpO1xuXG4gICAgLy8gZm9yIHN0YWNrIHRyYWNlXG4gICAgZnVuY0N0eC5vd25lciA9IHRoaXMuTmFtZTtcblxuICAgIGxldCByZXM7XG4gICAgbW9uaXRvci5jb250ZXh0U3RhY2sucHVzaChmdW5jQ3R4KTtcblxuXG4gICAgaWYgKHRoaXMuQ29kZSkge1xuICAgICAgcmVzID0gZXhlY3V0ZSh0aGlzLkNvZGUsIGZhbHNlKTtcbiAgICB9XG5cblxuICAgIGlmIChmdW5jQ3R4LnJlc3VsdC52YWx1ZSkge1xuICAgICAgZnVuY0N0eC5yZXN1bHQudmFsdWUucmFpc2UoZnVuY0N0eC5sYWJlbHMucmV0KTtcbiAgICB9XG5cbiAgICBtb25pdG9yLmNvbnRleHRTdGFjay5wb3AoKTtcblxuICAgIC8vIGNvcHkgb3V0IHRoZSBpbm5lciBleGNlcHRpb24gbGV2ZWxcbiAgICBtb25pdG9yLmNvbnRleHQubGFiZWxzLmV4YyA9IGx1Yihtb25pdG9yLmNvbnRleHQubGFiZWxzLmV4YywgZnVuY0N0eC5sYWJlbHMuZXhjKTtcblxuICAgIGlmIChyZXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgc3dpdGNoIChyZXMudHlwZSkge1xuICAgICAgICBjYXNlICd0aHJvdyc6XG4gICAgICAgICAgdGhyb3cgcmVzLnZhbHVlO1xuXG4gICAgICAgIGNhc2UgJ3JldHVybic6XG4gICAgICAgICAgLy8gVE9ETzogc2hvdWxkIGJlIGZpeGVkIGJ5IG1ha2luZyBSZXN1bHQgYSB0YWdnZWQgdW5pb25cbiAgICAgICAgICBpZiAocmVzLnZhbHVlID09PSBudWxsKSB7XG4gICAgICAgICAgICBtb25pdG9yLmZhdGFsKCdDYWxsOiBtYWxmb3JtZWQgcmVzdWx0Jyk7XG4gICAgICAgICAgICB0aHJvdyAnVHlwZVNjcmlwdCc7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiByZXMudmFsdWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBWYWx1ZSh1bmRlZmluZWQsIGZ1bmNDdHgubGFiZWxzLnJldCk7XG4gIH1cblxuICAvLyAtLS1cblxuICBBc3luY0NvbnN0cnVjdChhcmdzOiBWYWx1ZTxWYWx1ZVR5cGVzPltdKTogV29ya0xpc3RQdHIge1xuICAgIGxldCBvYmogPSBuZXcgRWNtYU9iamVjdCgpO1xuICAgIG9iai5DbGFzcyA9ICdPYmplY3QnO1xuICAgIG9iai5FeHRlbnNpYmxlID0gdHJ1ZTtcblxuICAgIGxldCBwcm90byA9IHRoaXMuR2V0KGNvbnN0YW50cy5wcm90b3R5cGUpO1xuICAgIGlmICghSXNJRWNtYU9iamVjdChwcm90bykpIHtcbiAgICAgIHByb3RvID0gbmV3IFZhbHVlKG1vbml0b3IuaW5zdGFuY2VzLk9iamVjdFByb3RvdHlwZSwgYm90KTtcbiAgICB9XG5cbiAgICAvLyBAdHMtaWdub3JlLCB3ZSBrbm93IHByb3RvIGlzIFZhbHVlPEVjbWFPYmplY3Q+XG4gICAgb2JqLlByb3RvdHlwZSA9IHByb3RvO1xuXG4gICAgbGV0IGlwID0gbW9uaXRvci5jb250ZXh0LndvcmtMaXN0LnRvcCgpO1xuXG4gICAgdGhpcy5Bc3luY0NhbGwobmV3IFZhbHVlKG9iaiwgYm90KSwgYXJncyk7XG4gICAgLy8gVE9ETzogaXQgc2VlbXMgdGhhdCB0aGUgY2xvc3VyZSBkYXRhIGlzIG5vdCB1c2VkXG4gICAgaXAudGhlbihBc3luY0NvbnN0cnVjdEVuZCwgeyBvYmplY3Q6IG9iaiB9KTtcblxuICAgIHJldHVybiBpcDtcbiAgfVxuXG4gIC8vIC0tLVxuXG5cbiAgLy8gLS0tXG4gIC8vIDEzLjIuMlxuICBDb25zdHJ1Y3QoYXJnczogVmFsdWU8VmFsdWVUeXBlcz5bXSk6IFZhbHVlPEVjbWFPYmplY3Q+IHtcbiAgICBsZXQgb2JqID0gbmV3IEVjbWFPYmplY3QoKTtcbiAgICBvYmouQ2xhc3MgPSAnT2JqZWN0JztcbiAgICBvYmouRXh0ZW5zaWJsZSA9IHRydWU7XG5cbiAgICBsZXQgcHJvdG8gPSB0aGlzLkdldChjb25zdGFudHMucHJvdG90eXBlKTtcbiAgICBpZiAoIUlzSUVjbWFPYmplY3QocHJvdG8pKSB7XG4gICAgICBwcm90byA9IG5ldyBWYWx1ZShtb25pdG9yLmluc3RhbmNlcy5PYmplY3RQcm90b3R5cGUsIGJvdCk7XG4gICAgfVxuXG4gICAgLy8gQHRzLWlnbm9yZSwgd2Uga25vdyBwcm90byBpcyBWYWx1ZTxFY21hT2JqZWN0PlxuICAgIG9iai5Qcm90b3R5cGUgPSBwcm90bztcblxuICAgIGxldCByZXN1bHQgPSB0aGlzLkNhbGwobmV3IFZhbHVlKG9iaiwgYm90KSwgYXJncyk7XG5cbiAgICBpZiAoIUlzSUVjbWFPYmplY3QocmVzdWx0KSkge1xuICAgICAgcmVzdWx0ID0gbmV3IFZhbHVlKG9iaiwgYm90KTtcbiAgICB9XG5cbiAgICAvLyBAdHMtaWdub3JlLCB3ZSBrbm93IHJlc3VsdCBpcyBWYWx1ZTxFY21hT2JqZWN0PlxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBIYXNJbnN0YW5jZShWOiBhbnkpIHtcbiAgICByZXR1cm4gSGFzSW5zdGFuY2UuY2FsbCh0aGlzLCBWKTtcbiAgfVxuXG5cbiAgdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIHByZXR0eSh0aGlzLlNvdXJjZSk7XG4gIH1cbn1cblxuLy8gLS0tXG5cblxuZXhwb3J0IGZ1bmN0aW9uIEFzeW5jQ2FsbEVuZCgpOiB2b2lkIHtcbiAgbGV0IGNhbGxDb250ZXh0ID0gbW9uaXRvci5jb250ZXh0O1xuICBtb25pdG9yLmNvbnRleHRTdGFjay5wb3AoKTtcbiAgbGV0IGNhbGxlckNvbnRleHQgPSBtb25pdG9yLmNvbnRleHQ7XG5cbiAgbGV0IHJlc3VsdCA9IGNhbGxDb250ZXh0LnJlc3VsdDtcbiAgbGV0IHJldGxhYmVsID0gY2FsbENvbnRleHQubGFiZWxzLnJldDtcblxuICBpZiAocmVzdWx0LnR5cGUgIT09ICdub3JtYWwnICYmIHJlc3VsdC52YWx1ZSkge1xuICAgIHJlc3VsdC52YWx1ZS5yYWlzZShyZXRsYWJlbCk7XG4gIH0gZWxzZSB7XG4gICAgcmVzdWx0LnZhbHVlID0gbmV3IFZhbHVlKHVuZGVmaW5lZCwgcmV0bGFiZWwpO1xuICB9XG5cbiAgLy8gY29weSBvdXQgdGhlIGlubmVyIGV4Y2VwdGlvbiBsZXZlbFxuICBjYWxsZXJDb250ZXh0LmxhYmVscy5leGMgPSBsdWIoY2FsbGVyQ29udGV4dC5sYWJlbHMuZXhjLCBjYWxsQ29udGV4dC5sYWJlbHMuZXhjKTtcbiAgY2FsbGVyQ29udGV4dC52YWx1ZVN0YWNrLnB1c2gocmVzdWx0KTtcbn1cbkFzeW5jQ2FsbEVuZC5ydW5mb3IgPSB7ICdyZXR1cm4nOiB0cnVlLCAndGhyb3cnOiB0cnVlIH07XG5cblxuXG5leHBvcnQgZnVuY3Rpb24gQXN5bmNDb25zdHJ1Y3RFbmQoXG4gIHRoaXM6IEFzeW5jQ29uc3RydWN0Q2xvc3VyZURhdGFcbikge1xuICAvLyBAdHMtaWdub3JlXG4gIGxldCByZXR2YWw6IFJlc3VsdCA9IG1vbml0b3IuY29udGV4dC52YWx1ZVN0YWNrLnBlZWsoKTtcbiAgXG4gIC8vIFRPRE86IHdoYXQgYWJvdXQgdGhyb3c/XG4gIC8vIFRPRE86IHRoaXMgaXMgbm90IGEgY29ycmVjdCB3YXkgb2YgY2hlY2tpbmcgaWYgcmV0dXJuZWQgb2JqZWN0IGlzIGFuIGVjbWFvYmplY3RcbiAgXG4gIGlmICh0eXBlb2YgcmV0dmFsLnZhbHVlLnZhbHVlICE9PSAnb2JqZWN0Jykge1xuICAgIHJldHZhbC52YWx1ZSA9IG5ldyBWYWx1ZSh0aGlzLm9iamVjdCwgYm90KTtcbiAgfVxuXG59XG5Bc3luY0NvbnN0cnVjdEVuZC5ydW5mb3IgPSB7ICdyZXR1cm4nOiB0cnVlLCAndGhyb3cnOiB0cnVlIH07XG5cblxuIiwiXG5pbXBvcnQgeyBWYWx1ZSB9IGZyb20gXCIuLi9WYWx1ZVwiO1xuaW1wb3J0ICogYXMgY29uc3RhbnRzIGZyb20gJy4uL0NvbnN0YW50cyc7XG5pbXBvcnQgKiBhcyBlc3ByaW1hIGZyb20gJ2VzcHJpbWEnO1xuaW1wb3J0IHsgQnVpbHRpbkZ1bmN0aW9uT2JqZWN0IH0gZnJvbSBcIi4vQnVpbHRpbkZ1bmN0aW9uT2JqZWN0XCI7XG5pbXBvcnQgeyBUb051bWJlciB9IGZyb20gJy4uL0NvbnZlcnNpb24vVG9OdW1iZXInO1xuaW1wb3J0IHsgVG9TdHJpbmcgfSBmcm9tICcuLi9Db252ZXJzaW9uL1RvU3RyaW5nJztcbmltcG9ydCB7IE1vbml0b3JCYXNlIH0gZnJvbSAnLi4vTW9uaXRvckJhc2UnO1xuXG5pbXBvcnQgeyBEZWZpbmVGRkYsIERlZmluZVRGVCB9IGZyb20gJy4uL0RlZmluZSc7XG5pbXBvcnQgeyBFY21hT2JqZWN0IH0gZnJvbSAnLi4vT2JqZWN0cy9FY21hT2JqZWN0JztcblxuaW1wb3J0IHsgYm90LCB0b3AsIGx1YiwgbGUsIExhYmVsIH0gZnJvbSAnLi4vTGFiZWwnO1xuaW1wb3J0IHsgVmFsdWVUeXBlcywgSXNJRWNtYU9iamVjdCB9IGZyb20gXCIuLi9JbnRlcmZhY2VzXCI7XG5pbXBvcnQgeyBUb0ludDMyIH0gZnJvbSBcIi4uL0NvbnZlcnNpb24vVG9JbnQzMlwiO1xuaW1wb3J0IHsgZW50ZXJFdmFsQ29kZSwgZXhlY3V0ZSB9IGZyb20gXCIuLi9FbmdpbmUvRXhlY3V0ZVwiO1xuXG5kZWNsYXJlIHZhciBtb25pdG9yOiBNb25pdG9yQmFzZTtcblxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZXhwb3J0IGNsYXNzIEdsb2JhbE9iamVjdCBleHRlbmRzIEVjbWFPYmplY3Qge1xuXG4gICAgaG9zdDogYW55O1xuXG4gICAgY29uc3RydWN0b3IoaG9zdDogYW55KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuQ2xhc3MgPSAnZ2xvYmFsJztcblxuICAgICAgICBpZiAodGhpcy5Qcm90b3R5cGUgPT09IHVuZGVmaW5lZCB8fCB0aGlzLlByb3RvdHlwZS52YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5Qcm90b3R5cGUgPSBuZXcgVmFsdWUobW9uaXRvci5pbnN0YW5jZXMuT2JqZWN0UHJvdG90eXBlLCBib3QpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5ob3N0ID0gaG9zdDtcblxuICAgICAgICAvLyAxNS4xLjFcbiAgICAgICAgRGVmaW5lRkZGKHRoaXMsIGNvbnN0YW50cy5OYU4sIE5hTik7XG4gICAgICAgIERlZmluZUZGRih0aGlzLCBjb25zdGFudHNbJ0luZmluaXR5J10sIEluZmluaXR5KTtcbiAgICAgICAgRGVmaW5lRkZGKHRoaXMsIGNvbnN0YW50c1sndW5kZWZpbmVkJ10sIHVuZGVmaW5lZCk7XG5cbiAgICAgICAgLy8gMTUuMS4yXG4gICAgICAgIERlZmluZVRGVCh0aGlzLCBjb25zdGFudHNbJ2V2YWwnXSwgbmV3IEJ1aWx0aW5GdW5jdGlvbk9iamVjdChfX2V2YWwsIDEsIGhvc3QuZXZhbCkpO1xuICAgICAgICBEZWZpbmVURlQodGhpcywgY29uc3RhbnRzLnBhcnNlSW50LCBuZXcgQnVpbHRpbkZ1bmN0aW9uT2JqZWN0KF9fcGFyc2VJbnQsIDIsIGhvc3QucGFyc2VJbnQpKTtcbiAgICAgICAgRGVmaW5lVEZUKHRoaXMsIGNvbnN0YW50cy5wYXJzZUZsb2F0LCBuZXcgQnVpbHRpbkZ1bmN0aW9uT2JqZWN0KF9fcGFyc2VGbG9hdCwgMSwgaG9zdC5wYXJzZUZsb2F0KSk7XG4gICAgICAgIERlZmluZVRGVCh0aGlzLCBjb25zdGFudHMuaXNOYU4sIG5ldyBCdWlsdGluRnVuY3Rpb25PYmplY3QoX19pc05hTiwgMSwgaG9zdC5pc05hTikpO1xuICAgICAgICBEZWZpbmVURlQodGhpcywgY29uc3RhbnRzLmlzRmluaXRlLCBuZXcgQnVpbHRpbkZ1bmN0aW9uT2JqZWN0KF9faXNGaW5pdGUsIDEsIGhvc3QuaXNGaW5pdGUpKTtcblxuICAgICAgICAvLyAxNS4xLjNcbiAgICAgICAgRGVmaW5lVEZUKHRoaXMsIGNvbnN0YW50cy5kZWNvZGVVUkksIG5ldyBCdWlsdGluRnVuY3Rpb25PYmplY3QoX19kZWNvZGVVUkksIDEsIGhvc3QuZGVjb2RlVVJJKSk7XG4gICAgICAgIERlZmluZVRGVCh0aGlzLCBjb25zdGFudHMuZGVjb2RlVVJJQ29tcG9uZW50LCBuZXcgQnVpbHRpbkZ1bmN0aW9uT2JqZWN0KF9fZGVjb2RlVVJJQ29tcG9uZW50LCAxLCBob3N0LmRlY29kZVVSSUNvbXBvbmVudCkpO1xuICAgICAgICBEZWZpbmVURlQodGhpcywgY29uc3RhbnRzLmVuY29kZVVSSSwgbmV3IEJ1aWx0aW5GdW5jdGlvbk9iamVjdChfX2VuY29kZVVSSSwgMSwgaG9zdC5lbmNvZGVVUkkpKTtcbiAgICAgICAgRGVmaW5lVEZUKHRoaXMsIGNvbnN0YW50cy5lbmNvZGVVUklDb21wb25lbnQsIG5ldyBCdWlsdGluRnVuY3Rpb25PYmplY3QoX19lbmNvZGVVUklDb21wb25lbnQsIDEsIGhvc3QuZW5jb2RlVVJJQ29tcG9uZW50KSk7XG5cbiAgICAgICAgLy8gMTUuMS40XG4gICAgICAgIERlZmluZVRGVCh0aGlzLCBjb25zdGFudHMuT2JqZWN0LCBtb25pdG9yLmluc3RhbmNlcy5PYmplY3RDb25zdHJ1Y3Rvcik7XG4gICAgICAgIERlZmluZVRGVCh0aGlzLCBjb25zdGFudHMuRnVuY3Rpb24sIG1vbml0b3IuaW5zdGFuY2VzLkZ1bmN0aW9uQ29uc3RydWN0b3IpO1xuICAgICAgICBEZWZpbmVURlQodGhpcywgY29uc3RhbnRzLkFycmF5LCBtb25pdG9yLmluc3RhbmNlcy5BcnJheUNvbnN0cnVjdG9yKTtcbiAgICAgICAgRGVmaW5lVEZUKHRoaXMsIGNvbnN0YW50cy5TdHJpbmcsIG1vbml0b3IuaW5zdGFuY2VzLlN0cmluZ0NvbnN0cnVjdG9yKTtcbiAgICAgICAgRGVmaW5lVEZUKHRoaXMsIGNvbnN0YW50cy5Cb29sZWFuLCBtb25pdG9yLmluc3RhbmNlcy5Cb29sZWFuQ29uc3RydWN0b3IpO1xuICAgICAgICBEZWZpbmVURlQodGhpcywgY29uc3RhbnRzLk51bWJlciwgbW9uaXRvci5pbnN0YW5jZXMuTnVtYmVyQ29uc3RydWN0b3IpO1xuICAgICAgICBEZWZpbmVURlQodGhpcywgY29uc3RhbnRzLkRhdGUsIG1vbml0b3IuaW5zdGFuY2VzLkRhdGVDb25zdHJ1Y3Rvcik7XG4gICAgICAgIERlZmluZVRGVCh0aGlzLCBjb25zdGFudHMuUmVnRXhwLCBtb25pdG9yLmluc3RhbmNlcy5SZWdFeHBDb25zdHJ1Y3Rvcik7XG4gICAgICAgIERlZmluZVRGVCh0aGlzLCBjb25zdGFudHMuRXJyb3IsIG1vbml0b3IuaW5zdGFuY2VzLkVycm9yQ29uc3RydWN0b3IpO1xuICAgICAgICBEZWZpbmVURlQodGhpcywgY29uc3RhbnRzLkV2YWxFcnJvciwgbW9uaXRvci5pbnN0YW5jZXMuRXZhbEVycm9yQ29uc3RydWN0b3IpO1xuICAgICAgICBEZWZpbmVURlQodGhpcywgY29uc3RhbnRzLlJhbmdlRXJyb3IsIG1vbml0b3IuaW5zdGFuY2VzLlJhbmdlRXJyb3JDb25zdHJ1Y3Rvcik7XG4gICAgICAgIERlZmluZVRGVCh0aGlzLCBjb25zdGFudHMuUmVmZXJlbmNlRXJyb3IsIG1vbml0b3IuaW5zdGFuY2VzLlJlZmVyZW5jZUVycm9yQ29uc3RydWN0b3IpO1xuICAgICAgICBEZWZpbmVURlQodGhpcywgY29uc3RhbnRzLlN5bnRheEVycm9yLCBtb25pdG9yLmluc3RhbmNlcy5TeW50YXhFcnJvckNvbnN0cnVjdG9yKTtcbiAgICAgICAgRGVmaW5lVEZUKHRoaXMsIGNvbnN0YW50cy5UeXBlRXJyb3IsIG1vbml0b3IuaW5zdGFuY2VzLlR5cGVFcnJvckNvbnN0cnVjdG9yKTtcbiAgICAgICAgRGVmaW5lVEZUKHRoaXMsIGNvbnN0YW50cy5VUklFcnJvciwgbW9uaXRvci5pbnN0YW5jZXMuVVJJRXJyb3JDb25zdHJ1Y3Rvcik7XG4gICAgICAgIERlZmluZVRGVCh0aGlzLCBjb25zdGFudHMuTWF0aCwgbW9uaXRvci5pbnN0YW5jZXMuTWF0aE9iamVjdCk7XG4gICAgICAgIERlZmluZVRGVCh0aGlzLCBjb25zdGFudHMuSlNPTiwgbW9uaXRvci5pbnN0YW5jZXMuSlNPTk9iamVjdCk7XG5cbiAgICAgICAgRGVmaW5lVEZUKHRoaXMsIG5ldyBWYWx1ZShcImdsb2JhbFRoaXNcIiwgYm90KSwgdGhpcyk7XG5cblxuICAgICAgICAvLyBCLjJcbiAgICAgICAgRGVmaW5lVEZUKHRoaXMsIGNvbnN0YW50cy5lc2NhcGUsIG5ldyBCdWlsdGluRnVuY3Rpb25PYmplY3QoX19lc2NhcGUsIDEsIGhvc3QuZXNjYXBlKSk7XG4gICAgICAgIERlZmluZVRGVCh0aGlzLCBjb25zdGFudHMudW5lc2NhcGUsIG5ldyBCdWlsdGluRnVuY3Rpb25PYmplY3QoX191bmVzY2FwZSwgMSwgaG9zdC51bmVzY2FwZSkpO1xuXG4gICAgICAgIERlZmluZVRGVCh0aGlzLCBuZXcgVmFsdWUoJ3dyaXRlJywgYm90KSwgbmV3IEJ1aWx0aW5GdW5jdGlvbk9iamVjdChfX3ByaW50LCAwLCAnd3JpdGUnKSk7XG4gICAgICAgIERlZmluZVRGVCh0aGlzLCBuZXcgVmFsdWUoJ3ByaW50JywgYm90KSwgbmV3IEJ1aWx0aW5GdW5jdGlvbk9iamVjdChfX2xwcmludCwgMCwgJ3ByaW50JykpO1xuICAgICAgICAvLyBsZWdhY3lcbiAgICAgICAgRGVmaW5lVEZUKHRoaXMsIG5ldyBWYWx1ZSgnanNmbG9nJywgYm90KSwgbmV3IEJ1aWx0aW5GdW5jdGlvbk9iamVjdChfX2xwcmludCwgMCwgJ2xwcmludCcpKTtcblxuICAgICAgICBEZWZpbmVGRkYodGhpcywgbmV3IFZhbHVlKCd1cGcnLCBib3QpLCBuZXcgQnVpbHRpbkZ1bmN0aW9uT2JqZWN0KF9fZHVwZywgMSwgdW5kZWZpbmVkKSk7XG4gICAgICAgIERlZmluZUZGRih0aGlzLCBuZXcgVmFsdWUoJ3VwZ3MnLCBib3QpLCBuZXcgQnVpbHRpbkZ1bmN0aW9uT2JqZWN0KF9fZHVwZ3MsIDEsIHVuZGVmaW5lZCkpO1xuICAgICAgICBEZWZpbmVGRkYodGhpcywgbmV3IFZhbHVlKCd1cGdlJywgYm90KSwgbmV3IEJ1aWx0aW5GdW5jdGlvbk9iamVjdChfX2R1cGdlLCAxLCB1bmRlZmluZWQpKTtcblxuICAgICAgICBEZWZpbmVGRkYodGhpcywgbmV3IFZhbHVlKCdsYmwnLCBib3QpLCBuZXcgQnVpbHRpbkZ1bmN0aW9uT2JqZWN0KF9fdXBnLCAxLCB1bmRlZmluZWQpKTtcbiAgICAgICAgRGVmaW5lRkZGKHRoaXMsIG5ldyBWYWx1ZSgnbGJscycsIGJvdCksIG5ldyBCdWlsdGluRnVuY3Rpb25PYmplY3QoX191cGdzLCAxLCB1bmRlZmluZWQpKTtcbiAgICAgICAgRGVmaW5lRkZGKHRoaXMsIG5ldyBWYWx1ZSgnbGJsZScsIGJvdCksIG5ldyBCdWlsdGluRnVuY3Rpb25PYmplY3QoX191cGdlLCAxLCB1bmRlZmluZWQpKTtcbiAgICAgICAgRGVmaW5lRkZGKHRoaXMsIG5ldyBWYWx1ZSgnbGJscGFydHMnLCBib3QpLCBuZXcgQnVpbHRpbkZ1bmN0aW9uT2JqZWN0KF9fdXBncGFydHMsIDEsIHVuZGVmaW5lZCkpO1xuXG5cbiAgICAgICAgRGVmaW5lRkZGKHRoaXMsIG5ldyBWYWx1ZSgndXBnbCcsIGJvdCksIG5ldyBCdWlsdGluRnVuY3Rpb25PYmplY3QoX191cGdsLCAxLCB1bmRlZmluZWQpKTtcblxuICAgICAgICBEZWZpbmVGRkYodGhpcywgbmV3IFZhbHVlKCdkZWNsYXNzaWZ5JywgYm90KSwgbmV3IEJ1aWx0aW5GdW5jdGlvbk9iamVjdChfX2RlY2xhc3NpZnksIDEsIHVuZGVmaW5lZCkpO1xuXG4gICAgICAgIC8qXG4gICAgICAgIERlZmluZUZGRih0aGlzICwgbmV3IFZhbHVlKCd1cGdzJyAgICwgYm90KSAsIG5ldyBCdWlsdGluRnVuY3Rpb25PYmplY3QoX191cGdzICAgLCAxLCB1bmRlZmluZWQpKTtcbiAgICAgICAgRGVmaW5lRkZGKHRoaXMgLCBuZXcgVmFsdWUoJ2R1cGdzJyAgLCBib3QpICwgbmV3IEJ1aWx0aW5GdW5jdGlvbk9iamVjdChfX2R1cGdzICAsIDEsIHVuZGVmaW5lZCkpO1xuICAgICAgICBEZWZpbmVGRkYodGhpcyAsIG5ldyBWYWx1ZSgnZ2V0UEMnICAsIGJvdCkgLCBuZXcgQnVpbHRpbkZ1bmN0aW9uT2JqZWN0KF9fZ2V0UEMgICwgMCwgdW5kZWZpbmVkKSk7XG4gICAgICAgIERlZmluZUZGRih0aGlzICwgbmV3IFZhbHVlKCdzZXRQQycgICwgYm90KSAsIG5ldyBCdWlsdGluRnVuY3Rpb25PYmplY3QoX19zZXRQQyAgLCAxLCB1bmRlZmluZWQpKTtcbiAgICAgICAgRGVmaW5lRkZGKHRoaXMgLCBuZXcgVmFsdWUoJ2dldEVYQycgLCBib3QpICwgbmV3IEJ1aWx0aW5GdW5jdGlvbk9iamVjdChfX2dldEVYQyAsIDAsIHVuZGVmaW5lZCkpO1xuICAgICAgICBEZWZpbmVGRkYodGhpcyAsIG5ldyBWYWx1ZSgnc2V0RVhDJyAsIGJvdCkgLCBuZXcgQnVpbHRpbkZ1bmN0aW9uT2JqZWN0KF9fc2V0RVhDICwgMSwgdW5kZWZpbmVkKSk7XG4gICAgICAgIERlZmluZUZGRih0aGlzICwgbmV3IFZhbHVlKCdnZXRSRVQnICwgYm90KSAsIG5ldyBCdWlsdGluRnVuY3Rpb25PYmplY3QoX19nZXRSRVQgLCAwLCB1bmRlZmluZWQpKTtcbiAgICAgICAgRGVmaW5lRkZGKHRoaXMgLCBuZXcgVmFsdWUoJ3NldFJFVCcgLCBib3QpICwgbmV3IEJ1aWx0aW5GdW5jdGlvbk9iamVjdChfX3NldFJFVCAsIDEsIHVuZGVmaW5lZCkpO1xuICAgICAgICAqL1xuICAgIH1cblxuICAgIHRvU3RyaW5nKCkgeyByZXR1cm4gJ1tnbG9iYWwgb2JqZWN0XSc7IH1cbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBCLjIuMVxuZnVuY3Rpb24gX19lc2NhcGUodGhpc0FyZzogVmFsdWU8VmFsdWVUeXBlcz4sIGFyZ3M6IFZhbHVlPFZhbHVlVHlwZXM+W10pOiBWYWx1ZTxzdHJpbmc+IHtcbiAgICBsZXQgYXJnID0gYXJnc1swXSAhPT0gdW5kZWZpbmVkID8gYXJnc1swXSA6IG5ldyBWYWx1ZSh1bmRlZmluZWQsIGJvdCk7XG4gICAgbGV0IHN0ciA9IFRvU3RyaW5nKGFyZyk7XG4gICAgcmV0dXJuIG5ldyBWYWx1ZShlc2NhcGUoc3RyLnZhbHVlKSwgc3RyLmxhYmVsKTtcbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyB1bmVzY2FwZSwgQi4yLjJcbmZ1bmN0aW9uIF9fdW5lc2NhcGUodGhpc0FyZzogVmFsdWU8VmFsdWVUeXBlcz4sIGFyZ3M6IFZhbHVlPFZhbHVlVHlwZXM+W10pOiBWYWx1ZTxzdHJpbmc+IHtcbiAgICBsZXQgYXJnID0gYXJnc1swXSA/IGFyZ3NbMF0gOiBuZXcgVmFsdWUodW5kZWZpbmVkLCBib3QpO1xuICAgIGxldCBzdHIgPSBUb1N0cmluZyhhcmcpO1xuXG4gICAgcmV0dXJuIG5ldyBWYWx1ZSh1bmVzY2FwZShzdHIudmFsdWUpLCBzdHIubGFiZWwpO1xufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIDE1LjEuMi4xXG5mdW5jdGlvbiBfX2V2YWwodGhpc0FyZzogVmFsdWU8VmFsdWVUeXBlcz4sIGFyZ3M6IFZhbHVlPFZhbHVlVHlwZXM+W10pOiBWYWx1ZTxWYWx1ZVR5cGVzPiB7XG4gICAgbGV0IGFyZzAgPSBhcmdzWzBdO1xuICAgIGlmIChhcmcwID09PSB1bmRlZmluZWQpIHJldHVybiBuZXcgVmFsdWUodW5kZWZpbmVkLCBib3QpO1xuICAgIGlmICh0eXBlb2YgYXJnMC52YWx1ZSAhPT0gJ3N0cmluZycpIHJldHVybiBhcmcwO1xuXG4gICAgbGV0IHByb2c7XG5cbiAgICAvLyByYWlzZSB0aGUgcGMgdy5yLnQuIHRoZSBwcm9ncmFtIHN0cmluZzsgcGFyc2luZyBtYXkgcmVzdWx0IGluIGFuIGV4Y2VwdGlvblxuICAgIG1vbml0b3IuY29udGV4dC5wdXNoUEMoYXJnMC5sYWJlbCk7XG5cbiAgICB0cnkge1xuICAgICAgICBsZXQgdHJhbnNmb3JtZWQgPSBtb25pdG9yLnRyYW5zZm9ybShhcmcwLnZhbHVlKTtcbiAgICAgICAgcHJvZyA9IGVzcHJpbWEucGFyc2UodHJhbnNmb3JtZWQsIHsgbG9jOiB0cnVlIH0pO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgbGV0IG1zZyA9IGUuZGVzY3JpcHRpb24gKyAnIGluIGV2YWw6JyArIGUubGluZU51bWJlciArICc6JyArIGUuY29sdW1uO1xuICAgICAgICBtb25pdG9yLlRocm93KFxuICAgICAgICAgICAgXCJTeW50YXhFcnJvclwiLFxuICAgICAgICAgICAgbXNnLFxuICAgICAgICAgICAgYXJnMC5sYWJlbFxuICAgICAgICApO1xuICAgICAgICB0aHJvdyAnVHlwZVNjcmlwdCc7XG4gICAgfVxuXG4gICAgbGV0IGV2YWxDdHggPSBlbnRlckV2YWxDb2RlKHByb2csIF9fZXZhbCk7XG4gICAgbW9uaXRvci5jb250ZXh0U3RhY2sucHVzaChldmFsQ3R4KTtcblxuICAgIC8vIHRoaXMgaXMgbm90IGEgdmFsdWUsIGl0IGlzIGEgcmVzdWx0ISFcbiAgICBsZXQgcmVzdWx0ID0gZXhlY3V0ZShwcm9nLCBmYWxzZSk7XG5cblxuICAgIC8vIGlmIHZhbHVlIGlzICdlbXB0eScgKHJlcHJlc2VudGVkIGJ5IG51bGwpXG4gICAgaWYgKCFyZXN1bHQudmFsdWUpIHtcbiAgICAgICAgcmVzdWx0LnZhbHVlID0gbmV3IFZhbHVlKHVuZGVmaW5lZCwgYm90KTtcbiAgICB9XG5cbiAgICByZXN1bHQudmFsdWUucmFpc2UoYXJnMC5sYWJlbCk7XG5cbiAgICAvLyBOT1RFOiBwYXJzZXIgc2hvdWxkIGd1YXJhbnRlZSB0aGUgcmVzdWx0IHR5cGUgaXMgbmV2ZXIgcmV0dXJuXG4gICAgbW9uaXRvci5jb250ZXh0U3RhY2sucG9wKCk7XG5cbiAgICBpZiAocmVzdWx0LnR5cGUgPT09ICd0aHJvdycpIHtcbiAgICAgICAgdGhyb3cgcmVzdWx0LnZhbHVlO1xuICAgIH1cblxuXG5cbiAgICBtb25pdG9yLmNvbnRleHQucG9wUEMoKTtcblxuICAgIHJldHVybiByZXN1bHQudmFsdWU7XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gMTUuMS4yLjJcbmZ1bmN0aW9uIF9fcGFyc2VJbnQodGhpc0FyZzogVmFsdWU8VmFsdWVUeXBlcz4sIGFyZ3M6IFZhbHVlPFZhbHVlVHlwZXM+W10pOiBWYWx1ZTxudW1iZXI+IHtcbiAgICBsZXQgc3RyaW5nQXJnID0gYXJnc1swXSB8fCBuZXcgVmFsdWUodW5kZWZpbmVkLCBib3QpO1xuICAgIGxldCBhcmcxID0gYXJnc1sxXSB8fCBuZXcgVmFsdWUodW5kZWZpbmVkLCBib3QpO1xuXG4gICAgbGV0IHN0cmluZyA9IFRvU3RyaW5nKHN0cmluZ0FyZyk7XG4gICAgbGV0IHJhZGl4ID0gVG9JbnQzMihhcmcxKTtcbiAgICBsZXQgdmFsdWUgPSBwYXJzZUludChzdHJpbmcudmFsdWUsIHJhZGl4LnZhbHVlKTtcbiAgICByZXR1cm4gbmV3IFZhbHVlKHZhbHVlLCBsdWIoc3RyaW5nLmxhYmVsLCByYWRpeC5sYWJlbCkpO1xufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIDE1LjEuMi4zXG5mdW5jdGlvbiBfX3BhcnNlRmxvYXQodGhpc0FyZzogVmFsdWU8VmFsdWVUeXBlcz4sIGFyZ3M6IFZhbHVlPFZhbHVlVHlwZXM+W10pOiBWYWx1ZTxudW1iZXI+IHtcbiAgICBsZXQgc3RyaW5nQXJnID0gYXJnc1swXSB8fCBuZXcgVmFsdWUodW5kZWZpbmVkLCBib3QpO1xuICAgIGxldCBzdHJpbmcgPSBUb1N0cmluZyhzdHJpbmdBcmcpO1xuICAgIGxldCB2YWx1ZSA9IHBhcnNlRmxvYXQoc3RyaW5nLnZhbHVlKTtcbiAgICByZXR1cm4gbmV3IFZhbHVlKHZhbHVlLCBzdHJpbmcubGFiZWwpO1xufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIDE1LjEuMi40XG5mdW5jdGlvbiBfX2lzTmFOKHRoaXNBcmc6IFZhbHVlPFZhbHVlVHlwZXM+LCBhcmdzOiBWYWx1ZTxWYWx1ZVR5cGVzPltdKTogVmFsdWU8Ym9vbGVhbj4ge1xuICAgIGxldCBudW1iZXJBcmcgPSBhcmdzWzBdIHx8IG5ldyBWYWx1ZSh1bmRlZmluZWQsIGJvdCk7XG4gICAgbGV0IG51bWJlciA9IFRvTnVtYmVyKG51bWJlckFyZyk7XG4gICAgbGV0IHZhbHVlID0gaXNOYU4obnVtYmVyLnZhbHVlKTtcbiAgICByZXR1cm4gbmV3IFZhbHVlKHZhbHVlLCBudW1iZXIubGFiZWwpO1xufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIDE1LjEuMi41XG5mdW5jdGlvbiBfX2lzRmluaXRlKHRoaXNBcmc6IFZhbHVlPFZhbHVlVHlwZXM+LCBhcmdzOiBWYWx1ZTxWYWx1ZVR5cGVzPltdKTogVmFsdWU8Ym9vbGVhbj4ge1xuICAgIGxldCBudW1iZXJBcmcgPSBhcmdzWzBdIHx8IG5ldyBWYWx1ZSh1bmRlZmluZWQsIGJvdCk7XG4gICAgbGV0IG51bWJlciA9IFRvTnVtYmVyKG51bWJlckFyZyk7XG4gICAgbGV0IHZhbHVlID0gaXNGaW5pdGUobnVtYmVyLnZhbHVlKTtcbiAgICByZXR1cm4gbmV3IFZhbHVlKHZhbHVlLCBudW1iZXIubGFiZWwpO1xufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIDE1LjEuMy4xXG5mdW5jdGlvbiBfX2RlY29kZVVSSSh0aGlzQXJnOiBWYWx1ZTxWYWx1ZVR5cGVzPiwgYXJnczogVmFsdWU8VmFsdWVUeXBlcz5bXSk6IFZhbHVlPHN0cmluZz4ge1xuICAgIGxldCBhcmcwID0gYXJnc1swXSA/IGFyZ3NbMF0gOiBuZXcgVmFsdWUodW5kZWZpbmVkLCBib3QpO1xuICAgIGxldCBlbmMgPSBUb1N0cmluZyhhcmcwKTtcbiAgICBsZXQgcmVzID0gbmV3IFZhbHVlKGRlY29kZVVSSShlbmMudmFsdWUpLCBlbmMubGFiZWwpO1xuICAgIHJldHVybiByZXM7XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gMTUuMS4zLjJcbmZ1bmN0aW9uIF9fZGVjb2RlVVJJQ29tcG9uZW50KHRoaXNBcmc6IFZhbHVlPFZhbHVlVHlwZXM+LCBhcmdzOiBWYWx1ZTxWYWx1ZVR5cGVzPltdKTogVmFsdWU8c3RyaW5nPiB7XG4gICAgbGV0IGFyZzAgPSBhcmdzWzBdID8gYXJnc1swXSA6IG5ldyBWYWx1ZSh1bmRlZmluZWQsIGJvdCk7XG4gICAgbGV0IGVuYyA9IFRvU3RyaW5nKGFyZzApO1xuICAgIGxldCByZXMgPSBuZXcgVmFsdWUoZGVjb2RlVVJJQ29tcG9uZW50KGVuYy52YWx1ZSksIGVuYy5sYWJlbCk7XG4gICAgcmV0dXJuIHJlcztcbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyAxNS4xLjIuM1xubGV0IF9fZW5jb2RlVVJJID0gZnVuY3Rpb24gX19lbmNvZGVVUkkodGhpc0FyZzogVmFsdWU8VmFsdWVUeXBlcz4sIGFyZ3M6IFZhbHVlPFZhbHVlVHlwZXM+W10pOiBWYWx1ZTxzdHJpbmc+IHtcbiAgICBsZXQgYXJnMCA9IGFyZ3NbMF0gPyBhcmdzWzBdIDogbmV3IFZhbHVlKHVuZGVmaW5lZCwgYm90KTtcbiAgICBsZXQgZW5jID0gVG9TdHJpbmcoYXJnMCk7XG4gICAgbGV0IHJlcyA9IG5ldyBWYWx1ZShlbmNvZGVVUkkoZW5jLnZhbHVlKSwgZW5jLmxhYmVsKTtcbiAgICByZXR1cm4gcmVzO1xufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIDE1LjEuMy40XG5mdW5jdGlvbiBfX2VuY29kZVVSSUNvbXBvbmVudCh0aGlzQXJnOiBWYWx1ZTxWYWx1ZVR5cGVzPiwgYXJnczogVmFsdWU8VmFsdWVUeXBlcz5bXSk6IFZhbHVlPHN0cmluZz4ge1xuICAgIGxldCBhcmcwID0gYXJnc1swXSAhPT0gdW5kZWZpbmVkID8gYXJnc1swXSA6IG5ldyBWYWx1ZSh1bmRlZmluZWQsIGJvdCk7XG4gICAgbGV0IGNvbXBvbmVudFN0cmluZyA9IFRvU3RyaW5nKGFyZzApO1xuICAgIHJldHVybiBuZXcgVmFsdWUoZW5jb2RlVVJJQ29tcG9uZW50KGNvbXBvbmVudFN0cmluZy52YWx1ZSksIGNvbXBvbmVudFN0cmluZy5sYWJlbCk7XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5mdW5jdGlvbiBfX3ByaW50KHRoaXNBcmc6IFZhbHVlPFZhbHVlVHlwZXM+LCBhcmdzOiBWYWx1ZTxWYWx1ZVR5cGVzPltdKTogVmFsdWU8dW5kZWZpbmVkPiB7XG4gICAgbGV0IHN0ciA9ICcnO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7IGkrKylcbiAgICAgICAgc3RyICs9IGFyZ3NbaV0udmFsdWU7XG4gICAgbW9uaXRvci5wcmludChzdHIpO1xuXG4gICAgcmV0dXJuIG5ldyBWYWx1ZSh1bmRlZmluZWQsIGJvdCk7XG59XG5cbmZ1bmN0aW9uIF9fbHByaW50KHRoaXNBcmc6IFZhbHVlPFZhbHVlVHlwZXM+LCBhcmdzOiBWYWx1ZTxWYWx1ZVR5cGVzPltdKTogVmFsdWU8dW5kZWZpbmVkPiB7XG4gICAgaWYgKG1vbml0b3Iub3B0aW9ucy5nZXQoJ21vbml0b3IudGVzdE1vZGUnKSkge1xuICAgICAgICBfX3ByaW50KHRoaXNBcmcsIGFyZ3MpO1xuICAgICAgICByZXR1cm4gbmV3IFZhbHVlKHVuZGVmaW5lZCwgYm90KTtcbiAgICB9XG5cbiAgICBsZXQgc3RyID0gJyc7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKVxuICAgICAgICBzdHIgKz0gVG9TdHJpbmcoYXJnc1tpXSk7XG5cbiAgICBpZiAobW9uaXRvci5vcHRpb25zLmdldCgnbW9uaXRvci50YWludE1vZGUnKSkge1xuICAgICAgICBtb25pdG9yLnByaW50KHN0cik7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgbW9uaXRvci5wcmludCgnKCcgKyBtb25pdG9yLmNvbnRleHQuZWZmZWN0aXZlUEMgKyAnKTonICsgc3RyKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IFZhbHVlKHVuZGVmaW5lZCwgYm90KTtcbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmZ1bmN0aW9uIF9fdXBnbCh0aGlzQXJnOiBWYWx1ZTxWYWx1ZVR5cGVzPiwgYXJnczogVmFsdWU8VmFsdWVUeXBlcz5bXSk6IFZhbHVlPHVuZGVmaW5lZD4ge1xuICAgIGxldCBhcmcwID0gYXJnc1swXSA/IGFyZ3NbMF0gOiBuZXcgVmFsdWUoJ2RlZmF1bHQnLCBib3QpO1xuICAgIGxldCBsYWJlbE5hbWUgPSBUb1N0cmluZyhhcmcwKTtcblxuICAgIG1vbml0b3IuYXNzZXJ0KGxlKGxhYmVsTmFtZS5sYWJlbCwgYm90KSwgJ3VwZ2wgZXhwZWN0ZWQgbGFiZWwgb2YgbGFiZWwgc3RyaW5nIHRvIGJlIGJvdCcpO1xuXG4gICAgbGV0IGxibCA9IGJvdDtcbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IGFyZyA9IFRvU3RyaW5nKGFyZ3NbaV0pO1xuXG4gICAgICAgIG1vbml0b3IuYXNzZXJ0KGxlKGFyZy5sYWJlbCwgYm90KSwgJ3VwZ2wgZXhwZWN0ZWQgbGFiZWwgb2YgbGFiZWwgc3RyaW5nIHRvIGJlIGJvdCcpO1xuICAgICAgICBsYmwgPSBsdWIobGJsLCBMYWJlbC5mcm9tU3RyaW5nKGFyZy52YWx1ZSkpO1xuICAgIH1cblxuICAgIGxibCA9IGxibC5lcXVhbHMoYm90KSA/IHRvcCA6IGxibDtcblxuICAgIGxldCBsYmxtYXAgPSBtb25pdG9yLmNvbnRleHQubGFiZWxzLmxhYmVsbWFwO1xuICAgIGxldCBuYW1lID0gbGFiZWxOYW1lLnZhbHVlO1xuICAgIGlmICghbGJsbWFwW25hbWVdKSB7XG4gICAgICAgIGxibG1hcFtuYW1lXSA9IHtcbiAgICAgICAgICAgIGxhYmVsOiBsYmwsXG4gICAgICAgICAgICBwY21hcmtlcjogdW5kZWZpbmVkXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgbGJsbWFwW25hbWVdLmxhYmVsID0gbHViKGxibG1hcFtuYW1lXS5sYWJlbCwgbGJsKTtcbiAgICBsZXQgbWFya2VyID0gbGJsbWFwW25hbWVdLnBjbWFya2VyO1xuICAgIGlmIChtYXJrZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBtb25pdG9yLmNvbnRleHQucGNTdGFjay5tYXAoXG4gICAgICAgICAgICBmdW5jdGlvbiAobCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBsdWIobCwgbGJsKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBtYXJrZXJcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IFZhbHVlKHVuZGVmaW5lZCwgYm90KTtcbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmZ1bmN0aW9uIF9fdXBnKHRoaXNBcmc6IFZhbHVlPFZhbHVlVHlwZXM+LCBhcmdzOiBWYWx1ZTxWYWx1ZVR5cGVzPltdKTogVmFsdWU8VmFsdWVUeXBlcz4ge1xuICAgIGxldCBhcmcwID0gYXJnc1swXSA/IGFyZ3NbMF0gOiBuZXcgVmFsdWUodW5kZWZpbmVkLCBib3QpO1xuXG4gICAgbGV0IGxibCA9IGJvdDtcbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IGFyZyA9IFRvU3RyaW5nKGFyZ3NbaV0pO1xuICAgICAgICBtb25pdG9yLmFzc2VydChsZShhcmcubGFiZWwsIGJvdCksICd1cGcgZXhwZWN0ZWQgbGFiZWwgb2YgbGFiZWwgc3RyaW5nIHRvIGJlIGJvdCcpO1xuICAgICAgICBsYmwgPSBsdWIobGJsLCBMYWJlbC5mcm9tU3RyaW5nKGFyZy52YWx1ZSkpO1xuICAgIH1cblxuICAgIGxibCA9IGxibC5lcXVhbHMoYm90KSA/IHRvcCA6IGxibDtcblxuICAgIHJldHVybiBuZXcgVmFsdWUoYXJnMC52YWx1ZSwgbHViKGFyZzAubGFiZWwsIGxibCkpO1xufVxuXG4vLyAtLS1cblxuZnVuY3Rpb24gX191cGdwYXJ0cyh0aGlzQXJnOiBWYWx1ZTxWYWx1ZVR5cGVzPiwgYXJnczogVmFsdWU8VmFsdWVUeXBlcz5bXSk6IFZhbHVlPFZhbHVlVHlwZXM+IHtcbiAgICBsZXQgYXJnMCA9IGFyZ3NbMF0gPyBhcmdzWzBdIDogbmV3IFZhbHVlKHVuZGVmaW5lZCwgYm90KTtcblxuICAgIGxldCBsYmwgPSBib3Q7XG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCBhcmcgPSBUb1N0cmluZyhhcmdzW2ldKTtcbiAgICAgICAgbW9uaXRvci5hc3NlcnQobGUoYXJnLmxhYmVsLCBib3QpLCAndXBnIGV4cGVjdGVkIGxhYmVsIG9mIGxhYmVsIHN0cmluZyB0byBiZSBib3QnKTtcbiAgICAgICAgbGJsID0gbHViKGxibCwgTGFiZWwuZnJvbVN0cmluZyhhcmcudmFsdWUpKTtcbiAgICB9XG5cbiAgICBsYmwgPSBsYmwuZXF1YWxzKGJvdCkgPyB0b3AgOiBsYmw7XG5cbiAgICBpZiAoSXNJRWNtYU9iamVjdChhcmcwKSkge1xuICAgICAgICBmb3IgKGxldCBwcm9wIGluIGFyZzAudmFsdWUubGFiZWxzKSB7XG4gICAgICAgICAgICBsZXQgbGFiZWxEYXRhID0gYXJnMC52YWx1ZS5sYWJlbHNbcHJvcF07XG4gICAgICAgICAgICBsYWJlbERhdGEudmFsdWUgPSBsdWIobGFiZWxEYXRhLnZhbHVlLCBsYmwpO1xuICAgICAgICAgICAgbGFiZWxEYXRhLmV4aXN0ZW5jZSA9IGx1YihsYWJlbERhdGEuZXhpc3RlbmNlLCBsYmwpO1xuICAgICAgICB9XG5cbiAgICAgICAgYXJnMC52YWx1ZS5zdHJ1Y3QgPSBsdWIoYXJnMC52YWx1ZS5zdHJ1Y3QsIGxibCk7XG4gICAgICAgIHJldHVybiBhcmcwO1xuICAgIH0gXG5cbiAgICByZXR1cm4gbmV3IFZhbHVlKGFyZzAudmFsdWUsIGx1YihhcmcwLmxhYmVsLCBsYmwpKTtcbn1cblxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZnVuY3Rpb24gX19kdXBnKHRoaXNBcmc6IFZhbHVlPFZhbHVlVHlwZXM+LCBhcmdzOiBWYWx1ZTxWYWx1ZVR5cGVzPltdKTogVmFsdWU8VmFsdWVUeXBlcz4ge1xuICAgIGxldCBhcmcwID0gYXJnc1swXSA/IGFyZ3NbMF0gOiBuZXcgVmFsdWUodW5kZWZpbmVkLCBib3QpO1xuXG4gICAgbGV0IGxibCA9IGJvdDtcbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGJsID0gbHViKGxibCwgYXJnc1tpXS5sYWJlbCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBWYWx1ZShhcmcwLnZhbHVlLCBsdWIoYXJnMC5sYWJlbCwgbGJsKSk7XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5mdW5jdGlvbiBfX3VwZ3ModGhpc0FyZzogVmFsdWU8VmFsdWVUeXBlcz4sIGFyZ3M6IFZhbHVlPFZhbHVlVHlwZXM+W10pOiBWYWx1ZTxWYWx1ZVR5cGVzPiB7XG4gICAgbGV0IG9iaiA9IGFyZ3NbMF0gPyBhcmdzWzBdIDogbmV3IFZhbHVlKHVuZGVmaW5lZCwgYm90KTtcblxuICAgIGxldCBsYmwgPSBib3Q7XG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCBhcmcgPSBUb1N0cmluZyhhcmdzW2ldKTtcbiAgICAgICAgbW9uaXRvci5hc3NlcnQobGUoYXJnLmxhYmVsLCBib3QpLCAndXBncyBleHBlY3RlZCBsYWJlbCBvZiBsYWJlbCBzdHJpbmcgdG8gYmUgYm90Jyk7XG4gICAgICAgIGxibCA9IGx1YihsYmwsIExhYmVsLmZyb21TdHJpbmcoYXJnLnZhbHVlKSk7XG4gICAgfVxuXG4gICAgbGJsID0gbGJsLmVxdWFscyhib3QpID8gdG9wIDogbGJsO1xuXG5cbiAgICBpZiAoSXNJRWNtYU9iamVjdChvYmopKSB7XG4gICAgICAgIG9iai52YWx1ZS5zdHJ1Y3QgPSBsdWIob2JqLnZhbHVlLnN0cnVjdCwgbGJsKTtcbiAgICB9XG5cbiAgICByZXR1cm4gb2JqO1xufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZnVuY3Rpb24gX19kdXBncyh0aGlzQXJnOiBWYWx1ZTxWYWx1ZVR5cGVzPiwgYXJnczogVmFsdWU8VmFsdWVUeXBlcz5bXSk6IFZhbHVlPFZhbHVlVHlwZXM+IHtcbiAgICBsZXQgYXJnMCA9IGFyZ3NbMF0gPyBhcmdzWzBdIDogbmV3IFZhbHVlKHVuZGVmaW5lZCwgYm90KTtcblxuICAgIGxldCBsYmwgPSBib3Q7XG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxibCA9IGx1YihsYmwsIGFyZ3NbaV0ubGFiZWwpO1xuICAgIH1cblxuICAgIGlmIChJc0lFY21hT2JqZWN0KGFyZzApKSB7XG4gICAgICAgIGFyZzAudmFsdWUuc3RydWN0ID0gbHViKGFyZzAudmFsdWUuc3RydWN0LCBsYmwpO1xuICAgIH1cblxuICAgIHJldHVybiBhcmcwO1xufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZnVuY3Rpb24gX191cGdlKHRoaXNBcmc6IFZhbHVlPFZhbHVlVHlwZXM+LCBhcmdzOiBWYWx1ZTxWYWx1ZVR5cGVzPltdKTogVmFsdWU8dW5kZWZpbmVkPiB7XG4gICAgbGV0IG9iaiA9IGFyZ3NbMF0gPyBhcmdzWzBdIDogbmV3IFZhbHVlKHVuZGVmaW5lZCwgYm90KTtcbiAgICBsZXQgYXJnMSA9IGFyZ3NbMV0gPyBhcmdzWzFdIDogbmV3IFZhbHVlKHVuZGVmaW5lZCwgYm90KTtcblxuICAgIGlmIChvYmoudmFsdWUgPT09IHVuZGVmaW5lZCB8fCBvYmoudmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBWYWx1ZSh1bmRlZmluZWQsIGJvdCk7XG4gICAgfVxuXG4gICAgbGV0IGl4ID0gVG9TdHJpbmcoYXJnMSk7XG5cbiAgICBsZXQgbGJsID0gYm90O1xuICAgIGZvciAobGV0IGkgPSAyOyBpIDwgYXJncy5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgYXJnID0gVG9TdHJpbmcoYXJnc1tpXSk7XG4gICAgICAgIG1vbml0b3IuYXNzZXJ0KGxlKGFyZy5sYWJlbCwgYm90KSwgJ3VwZ2UgZXhwZWN0ZWQgbGFiZWwgb2YgbGFiZWwgc3RyaW5nIHRvIGJlIGJvdCcpO1xuICAgICAgICBsYmwgPSBsdWIobGJsLCBMYWJlbC5mcm9tU3RyaW5nKGFyZy52YWx1ZSkpO1xuICAgIH1cblxuICAgIGxibCA9IGxibC5lcXVhbHMoYm90KSA/IHRvcCA6IGxibDtcblxuICAgIGlmIChJc0lFY21hT2JqZWN0KG9iaikpIHtcbiAgICAgICAgbGV0IHByb3AgPSBvYmoudmFsdWUubGFiZWxzW2l4LnZhbHVlXTtcbiAgICAgICAgaWYgKHByb3ApIHtcbiAgICAgICAgICAgIHByb3AuZXhpc3RlbmNlID0gbHViKHByb3AuZXhpc3RlbmNlLCBsYmwpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBWYWx1ZSh1bmRlZmluZWQsIGJvdCk7XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5mdW5jdGlvbiBfX2R1cGdlKHRoaXNBcmc6IFZhbHVlPFZhbHVlVHlwZXM+LCBhcmdzOiBWYWx1ZTxWYWx1ZVR5cGVzPltdKTogVmFsdWU8dW5kZWZpbmVkPiB7XG4gICAgbGV0IG9iaiA9IGFyZ3NbMF0gPyBhcmdzWzBdIDogbmV3IFZhbHVlKHVuZGVmaW5lZCwgYm90KTtcbiAgICBsZXQgYXJnMSA9IGFyZ3NbMV0gPyBhcmdzWzFdIDogbmV3IFZhbHVlKHVuZGVmaW5lZCwgYm90KTtcblxuICAgIGlmIChvYmoudmFsdWUgPT09IHVuZGVmaW5lZCB8fCBvYmoudmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBWYWx1ZSh1bmRlZmluZWQsIGJvdCk7XG4gICAgfVxuXG4gICAgbGV0IGl4ID0gVG9TdHJpbmcoYXJnMSk7XG5cbiAgICBsZXQgbGJsID0gYm90O1xuICAgIGZvciAobGV0IGkgPSAxOyBpIDwgYXJncy5sZW5ndGg7IGkrKykge1xuICAgICAgICBsYmwgPSBsdWIobGJsLCBhcmdzW2ldLmxhYmVsKTtcbiAgICB9XG5cbiAgICBpZiAoSXNJRWNtYU9iamVjdChvYmopKSB7XG4gICAgICAgIGxldCBwcm9wID0gb2JqLnZhbHVlLmxhYmVsc1tpeC52YWx1ZV07XG4gICAgICAgIGlmIChwcm9wKSB7XG4gICAgICAgICAgICBwcm9wLmV4aXN0ZW5jZSA9IGx1Yihwcm9wLmV4aXN0ZW5jZSwgbGJsKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBuZXcgVmFsdWUodW5kZWZpbmVkLCBib3QpO1xufVxuXG5mdW5jdGlvbiBfX2RlY2xhc3NpZnkodGhpc0FyZzogVmFsdWU8VmFsdWVUeXBlcz4sIGFyZ3M6IFZhbHVlPFZhbHVlVHlwZXM+W10pOiBWYWx1ZTxWYWx1ZVR5cGVzPiB7XG5cbiAgICB2YXIgdmFsID0gbmV3IFZhbHVlKGFyZ3NbMF0gPyBhcmdzWzBdLnZhbHVlIDogdW5kZWZpbmVkLCBib3QpO1xuICAgIHJldHVybiB2YWw7XG5cbn1cbiIsImltcG9ydCB7IFZhbHVlIH0gZnJvbSBcIi4uL1ZhbHVlXCI7XG5pbXBvcnQgKiBhcyBjb25zdGFudHMgZnJvbSAnLi4vQ29uc3RhbnRzJztcbmltcG9ydCB7IEJ1aWx0aW5GdW5jdGlvbk9iamVjdCB9IGZyb20gXCIuL0J1aWx0aW5GdW5jdGlvbk9iamVjdFwiO1xuaW1wb3J0IHsgT2JqZWN0T2JqZWN0IH0gZnJvbSAnLi4vT2JqZWN0cy9PYmplY3RPYmplY3QnO1xuaW1wb3J0IHsgQXJyYXlPYmplY3QgfSBmcm9tICcuLi9PYmplY3RzL0FycmF5T2JqZWN0JztcbmltcG9ydCB7IFRvTnVtYmVyIH0gZnJvbSAnLi4vQ29udmVyc2lvbi9Ub051bWJlcic7XG5pbXBvcnQgeyBUb0ludGVnZXIgfSBmcm9tICcuLi9Db252ZXJzaW9uL1RvSW50ZWdlcic7XG5pbXBvcnQgeyBUb1N0cmluZyB9IGZyb20gJy4uL0NvbnZlcnNpb24vVG9TdHJpbmcnO1xuaW1wb3J0IHsgSXNDYWxsYWJsZSB9IGZyb20gJy4uL1V0aWxpdHkvSXNDYWxsYWJsZSc7XG5pbXBvcnQgeyBNb25pdG9yQmFzZSB9IGZyb20gJy4uL01vbml0b3JCYXNlJztcblxuaW1wb3J0IHsgRGVmaW5lRkZGLCBEZWZpbmVURlQgfSBmcm9tICcuLi9EZWZpbmUnO1xuaW1wb3J0IHsgRWNtYU9iamVjdCB9IGZyb20gJy4uL09iamVjdHMvRWNtYU9iamVjdCc7XG5cbmltcG9ydCB7IGJvdCwgbHViIH0gZnJvbSAnLi4vTGFiZWwnO1xuaW1wb3J0IHsgVmFsdWVUeXBlcywgSUVjbWFPYmplY3QgfSBmcm9tIFwiLi4vSW50ZXJmYWNlc1wiO1xuXG5kZWNsYXJlIHZhciBtb25pdG9yOiBNb25pdG9yQmFzZTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBUaGUgSlNPTiBvYmplY3QsIDE1LjEyXG5leHBvcnQgY2xhc3MgSlNPTk9iamVjdCBleHRlbmRzIEVjbWFPYmplY3Qge1xuXG4gICAgaG9zdDogYW55O1xuICAgIGNvbnN0cnVjdG9yKGhvc3Q6IGFueSkge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMuQ2xhc3MgPSAnSlNPTic7XG4gICAgICAgIHRoaXMuRXh0ZW5zaWJsZSA9IHRydWU7XG4gICAgICAgIHRoaXMuaG9zdCA9IGhvc3Q7XG4gICAgfVxuXG4gICAgU2V0dXAoKSB7XG4gICAgICAgIHRoaXMuUHJvdG90eXBlID0gbmV3IFZhbHVlKG1vbml0b3IuaW5zdGFuY2VzLk9iamVjdFByb3RvdHlwZSwgYm90KTtcblxuICAgICAgICBEZWZpbmVGRkYodGhpcywgY29uc3RhbnRzLnByb3RvdHlwZSwgbW9uaXRvci5pbnN0YW5jZXMuT2JqZWN0UHJvdG90eXBlKTtcblxuICAgICAgICBEZWZpbmVURlQodGhpcywgY29uc3RhbnRzLnBhcnNlLCBuZXcgQnVpbHRpbkZ1bmN0aW9uT2JqZWN0KHBhcnNlLCAyLCB0aGlzLmhvc3QucGFyc2UpKTtcbiAgICAgICAgRGVmaW5lVEZUKHRoaXMsIGNvbnN0YW50cy5zdHJpbmdpZnksIG5ldyBCdWlsdGluRnVuY3Rpb25PYmplY3Qoc3RyaW5naWZ5LCAzLCB0aGlzLmhvc3Quc3RyaW5naWZ5KSk7XG4gICAgfVxuXG4gICAgLy8gQnkgdGhlIHN0YW5kYXJkLCB0aGVyZSBzaG91bGQgYmUgbm8gQ2FsbCBvciBDb25zdHJ1Y3QgZm9yIEpTT04gb2JqZWN0LFxuICAgIC8vIHNvIHRocm93IGEgVHlwZUVycm9yIChhcyBTcGlkZXJNb25rZXkgc2VlbSB0byBkbylcbiAgICBDYWxsKHRoaXNBcmc6IFZhbHVlPFZhbHVlVHlwZXM+LCBhcmdzOiBWYWx1ZTxWYWx1ZVR5cGVzPltdKTogVmFsdWU8VmFsdWVUeXBlcz4ge1xuICAgICAgICBtb25pdG9yLlRocm93KFxuICAgICAgICAgICAgXCJUeXBlRXJyb3JcIixcbiAgICAgICAgICAgICdKU09OIGlzIG5vdCBhIGZ1bmN0aW9uJyxcbiAgICAgICAgICAgIGJvdFxuICAgICAgICApO1xuICAgICAgICB0aHJvdyAnVHlwZVNjcmlwdCc7XG4gICAgfVxuXG4gICAgQ29uc3RydWN0KGFyZ3M6IFZhbHVlPFZhbHVlVHlwZXM+W10pOiBWYWx1ZTxJRWNtYU9iamVjdD4ge1xuICAgICAgICBtb25pdG9yLlRocm93KFxuICAgICAgICAgICAgXCJUeXBlRXJyb3JcIixcbiAgICAgICAgICAgICdKU09OIGlzIG5vdCBhIGNvbnN0cnVjdG9yJyxcbiAgICAgICAgICAgIGJvdFxuICAgICAgICApO1xuICAgICAgICB0aHJvdyAnVHlwZVNjcmlwdCc7XG4gICAgfVxufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIHBhcnNlLCAxNS4xMi4yXG5mdW5jdGlvbiBwYXJzZSh0aGlzQXJnOiBWYWx1ZTxWYWx1ZVR5cGVzPiwgYXJnczogVmFsdWU8VmFsdWVUeXBlcz5bXSk6IFZhbHVlPFZhbHVlVHlwZXM+IHtcbiAgICBpZiAoYXJnc1swXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIG1vbml0b3IuVGhyb3coXG4gICAgICAgICAgICBcIlN5bnRheEVycm9yXCIsXG4gICAgICAgICAgICAnSlNPTi5wYXJzZTogTm8gc3RyaW5nIHRvIHBhcnNlJyxcbiAgICAgICAgICAgIGJvdFxuICAgICAgICApO1xuICAgIH1cblxuICAgIHZhciBKVGV4dCA9IFRvU3RyaW5nKGFyZ3NbMF0pIHx8IG5ldyBWYWx1ZSh1bmRlZmluZWQsIGJvdCk7XG4gICAgdmFyIHJldml2ZXIgPSBhcmdzWzFdIHx8IG5ldyBWYWx1ZSh1bmRlZmluZWQsIGJvdCk7XG5cbiAgICB2YXIgdW5maWx0ZXJlZCA9IHBhcnNlQW5kRXZhbHVhdGUoSlRleHQpO1xuXG4gICAgLy8gRG8gd2UgaGF2ZSBhbnkganVuayBjaGFyYWN0ZXJzIGxlZnQ/IElmIHNvLCBhIGJhZCBzdHJpbmchXG4gICAgLy9AdHMtaWdub3JlIEpTT05cbiAgICBpZiAodW5maWx0ZXJlZC5maW5hbEluZGV4IDw9IEpUZXh0LnZhbHVlLmxlbmd0aCkge1xuICAgICAgICBtb25pdG9yLlRocm93KFxuICAgICAgICAgICAgXCJTeW50YXhFcnJvclwiLFxuICAgICAgICAgICAgJ0pTT04ucGFyc2U6IFN0cmluZyBjb250YWlucyBiYWQgc3ltYm9scyBpbiB0aGUgZW5kJyxcbiAgICAgICAgICAgIGJvdFxuICAgICAgICApO1xuICAgIH1cblxuICAgIHZhciBpc1Jldml2ZXJDYWxsYWJsZSA9IElzQ2FsbGFibGUocmV2aXZlcik7XG5cbiAgICBtb25pdG9yLmNvbnRleHQucHVzaFBDKHJldml2ZXIubGFiZWwpO1xuICAgIGlmIChpc1Jldml2ZXJDYWxsYWJsZSkge1xuICAgICAgICB2YXIgcm9vdCA9IG5ldyBPYmplY3RPYmplY3QoKTtcblxuICAgICAgICByb290LkRlZmluZU93blByb3BlcnR5KG5ldyBWYWx1ZShcIlwiLCBib3QpLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZhbHVlOiB1bmZpbHRlcmVkLnZhbHVlLFxuICAgICAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiB1bmZpbHRlcmVkLmxhYmVsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZmFsc2VcbiAgICAgICAgKTtcblxuICAgICAgICBtb25pdG9yLmNvbnRleHQucG9wUEMoKTtcbiAgICAgICAgcmV0dXJuIFdhbGsobmV3IFZhbHVlKHJvb3QsIGJvdCksIG5ldyBWYWx1ZShcIlwiLCBsdWIodW5maWx0ZXJlZC5sYWJlbCwgbHViKEpUZXh0LmxhYmVsLCByZXZpdmVyLmxhYmVsKSkpLCByZXZpdmVyKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIG1vbml0b3IuY29udGV4dC5wb3BQQygpO1xuICAgICAgICByZXR1cm4gdW5maWx0ZXJlZDtcbiAgICB9XG59XG5cbi8vIFdhbGssIHBhcnQgb2YgMTUuMTIuMlxuZnVuY3Rpb24gV2Fsayhob2xkZXIsIG5hbWUsIHJldml2ZXIpIHtcbiAgICB2YXIgdmFsID0gaG9sZGVyLkdldChuYW1lKTtcblxuICAgIG1vbml0b3IuY29udGV4dC5wdXNoUEModmFsLmxhYmVsKTtcbiAgICBpZiAodmFsLnZhbHVlICYmIHR5cGVvZiB2YWwudmFsdWUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIHZhbCA9IHZhbC52YWx1ZTtcbiAgICAgICAgbW9uaXRvci5jb250ZXh0LnB1c2hQQyh2YWwubGFiZWwpO1xuICAgICAgICBpZiAodmFsLnZhbHVlLkNsYXNzID09PSAnQXJyYXknKSB7XG4gICAgICAgICAgICB2YXIgSSA9IG5ldyBWYWx1ZSgwLCBib3QpO1xuICAgICAgICAgICAgdmFyIGxlbiA9IHZhbC52YWx1ZS5HZXQoY29uc3RhbnRzLmxlbmd0aCk7XG5cbiAgICAgICAgICAgIHdoaWxlIChJLnZhbHVlIDwgbGVuLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdmFyIG5ld0VsZW1lbnQgPSBXYWxrKHZhbCwgVG9TdHJpbmcoSSksIHJldml2ZXIpO1xuICAgICAgICAgICAgICAgIGlmIChuZXdFbGVtZW50ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsLkRlbGV0ZShUb1N0cmluZyhJKSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsLkRlZmluZU93blByb3BlcnR5KFRvU3RyaW5nKEkpLFxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBuZXdFbGVtZW50LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiB2YWwubGFiZWxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBmYWxzZVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIEkudmFsdWUrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBrZXlzID0gW107XG4gICAgICAgICAgICB2YXIgYWxsS2V5cyA9IE9iamVjdC5rZXlzKHZhbC52YWx1ZS5wcm9wZXJ0aWVzKTtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGtleVZhbCA9IHZhbC5HZXRQcm9wZXJ0eShuZXcgVmFsdWUoYWxsS2V5c1tpXSwgYm90KSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoa2V5VmFsLnZhbHVlICYmIGtleVZhbC52YWx1ZS5lbnVtZXJhYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgIGtleXMucHVzaChuZXcgVmFsdWUoYWxsS2V5c1tpXSwgYm90KSk7IC8va2V5VmFsLmxhYmVsP1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIFAgPSBUb1N0cmluZyhrZXlzW2ldKTtcbiAgICAgICAgICAgICAgICB2YXIgbmV3RWxlbWVudCA9IFdhbGsodmFsLCBQLCByZXZpdmVyKTtcblxuICAgICAgICAgICAgICAgIGlmIChuZXdFbGVtZW50ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsLkRlbGV0ZShQLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YWwuRGVmaW5lT3duUHJvcGVydHkoUCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogbmV3RWxlbWVudC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogdmFsLmxhYmVsXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbW9uaXRvci5jb250ZXh0LnBvcFBDKCk7XG4gICAgfVxuXG4gICAgbW9uaXRvci5jb250ZXh0LnBvcFBDKCk7XG4gICAgcmV0dXJuIHJldml2ZXIuQ2FsbChob2xkZXIsIFtuYW1lLCB2YWxdKTtcbn1cblxuLy8gSW5zcGlyYXRpb24gZnJvbSBEb3VnbGFzIENyb2NrZm9yZCwgaHR0cHM6Ly9naXRodWIuY29tL2RvdWdsYXNjcm9ja2ZvcmQvSlNPTi1qcy9ibG9iL21hc3Rlci9qc29uX3BhcnNlLmpzXG4vLyBUaGlzIGlzIHVzZWQgZm9yIHRoZSAybmQgYW5kIDNyZCBzdGVwIGluIHBhcnNlLCAxNS4xMi4yXG5mdW5jdGlvbiBwYXJzZUFuZEV2YWx1YXRlKHRleHQpIHtcbiAgICB2YXIgY3VycmVudENoYXIgPSAnICc7XG4gICAgdmFyIGN1cnJlbnRJbmRleCA9IDA7XG5cbiAgICAvLyBGcm9tIDE1LjEyLjEuMSwgSlNPTkVzY2FwZUNoYXJhY3RlciA6OiBvbmUgb2YgXCIgLyBcXCBiIGYgbiByIHRcbiAgICB2YXIgZXNjYXBlQ2hhcmFjdGVycyA9IHtcbiAgICAgICAgJ1wiJzogJ1wiJyxcbiAgICAgICAgJy8nOiAnLycsXG4gICAgICAgICdcXFxcJzogJ1xcXFwnLFxuICAgICAgICBiOiAnXFxiJyxcbiAgICAgICAgZjogJ1xcZicsXG4gICAgICAgIG46ICdcXG4nLFxuICAgICAgICByOiAnXFxyJyxcbiAgICAgICAgdDogJ1xcdCdcbiAgICB9O1xuXG4gICAgLy8gVGhlc2UgYXJlIG5vdCBhbGxvd2VkIHRvIGhhdmUgaW4gYSBzdHJpbmchXG4gICAgdmFyIGludmFsaWRTdHJpbmdDaGFyYWN0ZXJzID0ge307XG4gICAgZm9yICh2YXIgaSA9IDB4MDA7IGkgPD0gMHgxRjsgaSsrKSB7XG4gICAgICAgIHZhciBzID0gU3RyaW5nLmZyb21DaGFyQ29kZShpKTtcbiAgICAgICAgaW52YWxpZFN0cmluZ0NoYXJhY3RlcnNbc10gPSBzO1xuICAgIH1cblxuICAgIHZhciBta0Vycm9yID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICAgICAgbW9uaXRvci5UaHJvdyhcbiAgICAgICAgICAgIFwiU3ludGF4RXJyb3JcIixcbiAgICAgICAgICAgICdKU09OLnBhcnNlOiAnICsgbWVzc2FnZSxcbiAgICAgICAgICAgIGJvdFxuICAgICAgICApO1xuICAgIH07XG5cbiAgICB2YXIgbmV4dENoYXIgPSBmdW5jdGlvbiAoY2hhcikge1xuICAgICAgICBpZiAoY2hhciAmJiBjaGFyICE9PSBjdXJyZW50Q2hhcikge1xuICAgICAgICAgICAgbWtFcnJvcignZXhwZWN0ZWQgJyArIGNoYXIgKyAnIHRvIG1hdGNoICcgKyBjdXJyZW50Q2hhcik7XG4gICAgICAgIH1cblxuICAgICAgICBjdXJyZW50Q2hhciA9IHRleHQuY2hhckF0KGN1cnJlbnRJbmRleCk7XG4gICAgICAgIGN1cnJlbnRJbmRleCsrO1xuXG4gICAgICAgIHJldHVybiBjdXJyZW50Q2hhcjtcbiAgICB9O1xuXG4gICAgLy9KU09OV2hpdGVTcGFjZSA6OiA8VEFCPiA8Q1I+IDxMRj4gPFNQPlxuICAgIHZhciBlYXRXaGl0ZVNwYWNlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB3aGlsZSAoY3VycmVudENoYXIgJiYgY3VycmVudENoYXIgPD0gJyAnKSB7XG4gICAgICAgICAgICAvL0B0cy1pZ25vcmUgSlNPTlxuICAgICAgICAgICAgbmV4dENoYXIoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKiBKU09OVmFsdWUgOlxuICAgICAgICAgSlNPTk51bGxMaXRlcmFsXG4gICAgICAgICBKU09OQm9vbGVhbkxpdGVyYWxcbiAgICAgICAgIEpTT05PYmplY3RcbiAgICAgICAgIEpTT05BcnJheVxuICAgICAgICAgSlNPTlN0cmluZ1xuICAgICAgICAgSlNPTk51bWJlclxuICAgICovXG4gICAgdmFyIGpzb25WYWx1ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZWF0V2hpdGVTcGFjZSgpO1xuICAgICAgICBzd2l0Y2ggKGN1cnJlbnRDaGFyKSB7XG4gICAgICAgICAgICBjYXNlICd7JzpcbiAgICAgICAgICAgICAgICAvLyBJdCBtdXN0IGJlIGFuIG9iamVjdFxuICAgICAgICAgICAgICAgIHJldHVybiBqc29uT2JqZWN0KCk7XG5cbiAgICAgICAgICAgIGNhc2UgJ1snOlxuICAgICAgICAgICAgICAgIC8vIEl0IG11c3QgYmUgYW4gYXJyYXlcbiAgICAgICAgICAgICAgICByZXR1cm4ganNvbkFycmF5KCk7XG5cbiAgICAgICAgICAgIGNhc2UgJ1wiJzpcbiAgICAgICAgICAgICAgICAvLyBJdCBtdXN0IGJlIGEgc3RyaW5nXG4gICAgICAgICAgICAgICAgcmV0dXJuIGpzb25TdHJpbmcoKTtcblxuICAgICAgICAgICAgY2FzZSAnLSc6XG4gICAgICAgICAgICAgICAgLy8gSXQgbXVzdCBiZSBhIG51bWJlclxuICAgICAgICAgICAgICAgIHJldHVybiBqc29uTnVtYmVyKCk7XG5cbiAgICAgICAgICAgIGNhc2UgJ24nOlxuICAgICAgICAgICAgICAgIC8vIEl0IG11c3QgYmUgYSBudWxsIGxpdGVyYWxcbiAgICAgICAgICAgICAgICByZXR1cm4ganNvbk51bGwoKTtcblxuICAgICAgICAgICAgY2FzZSAndCc6XG4gICAgICAgICAgICBjYXNlICdmJzpcbiAgICAgICAgICAgICAgICAvLyBJdCBtdXN0IGJlIGEgYm9vbGVhbiBsaXRlcmFsXG4gICAgICAgICAgICAgICAgcmV0dXJuIGpzb25Cb29sKCk7XG5cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRDaGFyID49ICcwJyAmJiBjdXJyZW50Q2hhciA8PSAnOScpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSXQgbXVzdCBiZSBhIG51bWJlclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4ganNvbk51bWJlcigpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIE90aGVyd2lzZSwgc29tZXRoaW5nIGhhcyBnb25lIHdyb25nIVxuICAgICAgICAgICAgICAgIG1rRXJyb3IoJ0Nhbm5vdCBwYXJzZSB0aGUgc3RydWN0dXJlIScpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHZhciBqc29uT2JqZWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IE9iamVjdE9iamVjdCgpO1xuXG4gICAgICAgIGlmIChjdXJyZW50Q2hhciA9PT0gJ3snKSB7XG4gICAgICAgICAgICBuZXh0Q2hhcigneycpO1xuICAgICAgICAgICAgZWF0V2hpdGVTcGFjZSgpO1xuXG4gICAgICAgICAgICAvL0B0cy1pZ25vcmUgVFlQRVNDUklQVFxuICAgICAgICAgICAgaWYgKGN1cnJlbnRDaGFyID09PSAnfScpIHtcbiAgICAgICAgICAgICAgICAvLyBFbnRlciBoZXJlIGFuZCB3ZSBoYXZlIGFuIFwiZW1wdHlcIiBvYmplY3RcbiAgICAgICAgICAgICAgICBuZXh0Q2hhcignfScpO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHdoaWxlIChjdXJyZW50Q2hhcikge1xuICAgICAgICAgICAgICAgIHZhciBrZXkgPSBqc29uU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgZWF0V2hpdGVTcGFjZSgpO1xuICAgICAgICAgICAgICAgIG5leHRDaGFyKCc6Jyk7XG5cbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0Lmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgbWtFcnJvcignQmFkIG9iamVjdCwgZHVwbGljYXRlIGtleSAnICsga2V5KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXN1bHQuRGVmaW5lT3duUHJvcGVydHkobmV3IFZhbHVlKGtleSwgYm90KSxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGpzb25WYWx1ZSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IGJvdFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBmYWxzZVxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICBlYXRXaGl0ZVNwYWNlKCk7XG4gICAgICAgICAgICAgICAgLy9AdHMtaWdub3JlIFRZUEVTQ1JJUFRcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudENoYXIgPT09ICd9Jykge1xuICAgICAgICAgICAgICAgICAgICBuZXh0Q2hhcignfScpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIG5leHRDaGFyKCcsJyk7XG4gICAgICAgICAgICAgICAgZWF0V2hpdGVTcGFjZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbWtFcnJvcignTWFsZm9ybWVkIG9iamVjdCcpO1xuICAgIH07XG5cbiAgICB2YXIganNvbkFycmF5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gW107XG5cbiAgICAgICAgaWYgKGN1cnJlbnRDaGFyID09PSAnWycpIHtcbiAgICAgICAgICAgIG5leHRDaGFyKCdbJyk7XG4gICAgICAgICAgICBlYXRXaGl0ZVNwYWNlKCk7XG5cbiAgICAgICAgICAgIC8vQHRzLWlnbm9yZSBUWVBFU0NSSVBUXG4gICAgICAgICAgICBpZiAoY3VycmVudENoYXIgPT09ICddJykge1xuICAgICAgICAgICAgICAgIC8vIEVudGVyIGhlcmUgYW5kIHdlIGhhdmUgYW4gZW1wdHkgYXJyYXkuLlxuICAgICAgICAgICAgICAgIG5leHRDaGFyKCddJyk7XG4gICAgICAgICAgICAgICAgLy9AdHMtaWdub3JlIEpTT05cbiAgICAgICAgICAgICAgICByZXR1cm4gQXJyYXlPYmplY3QuZnJvbVZhbHVlQXJyYXkocmVzdWx0KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgd2hpbGUgKGN1cnJlbnRDaGFyKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goanNvblZhbHVlKCkpO1xuICAgICAgICAgICAgICAgIGVhdFdoaXRlU3BhY2UoKTtcblxuICAgICAgICAgICAgICAgIC8vQHRzLWlnbm9yZSBUWVBFU0NSSVBUXG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRDaGFyID09PSAnXScpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gRW50ZXIgaGVyZSBhbmQgd2UgYXJlIGRvbmUuLlxuICAgICAgICAgICAgICAgICAgICBuZXh0Q2hhcignXScpO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlc3VsdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0W2ldID0gbmV3IFZhbHVlKHJlc3VsdFtpXSwgYm90KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vQHRzLWlnbm9yZSBKU09OXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBBcnJheU9iamVjdC5mcm9tVmFsdWVBcnJheShyZXN1bHQpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIG5leHRDaGFyKCcsJyk7IC8vIElmIHdlIGFyZSBub3QgZG9uZSwgd2UgZXhwZWN0IGEgJywnXG4gICAgICAgICAgICAgICAgZWF0V2hpdGVTcGFjZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbWtFcnJvcignQ291bGQgbm90IHBhcnNlIHRoZSBhcnJheScpO1xuICAgIH07XG5cbiAgICAvKlxuICAgICAgSlNPTlN0cmluZyA6OiBcIiBKU09OU3RyaW5nQ2hhcmFjdGVyc19vcHQgXCJcbiAgICAgIEpTT05TdHJpbmdDaGFyYWN0ZXJzIDo6IEpTT05TdHJpbmdDaGFyYWN0ZXIgSlNPTlN0cmluZ0NoYXJhY3RlcnNfb3B0XG4gICAgICBKU09OU3RyaW5nQ2hhcmFjdGVyIDo6IFNvdXJjZUNoYXJhY3RlciBidXQgbm90IG9uZSBvZiBcIiBvciBcXCBvciBVKzAwMDAgdGhyb3VnaCBVKzAwMUYgXFwgSlNPTkVzY2FwZVNlcXVlbmNlXG4gICAgICBKU09ORXNjYXBlU2VxdWVuY2UgOjogSlNPTkVzY2FwZUNoYXJhY3RlciBVbmljb2RlRXNjYXBlU2VxdWVuY2VcbiAgICAgKi9cbiAgICB2YXIganNvblN0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IFwiXCI7XG5cbiAgICAgICAgaWYgKGN1cnJlbnRDaGFyID09PSAnXCInKSB7XG4gICAgICAgICAgICAvL0B0cy1pZ25vcmUgSlNPTlxuICAgICAgICAgICAgd2hpbGUgKG5leHRDaGFyKCkpIHtcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudENoYXIgPT09ICdcIicpIHtcbiAgICAgICAgICAgICAgICAgICAgLy9AdHMtaWdub3JlIEpTT05cbiAgICAgICAgICAgICAgICAgICAgbmV4dENoYXIoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgY3VycmVudCBjaGFyYWN0ZXIgaXMgYW4gaW52YWxpZCBzdHJpbmdcbiAgICAgICAgICAgICAgICBpZiAoaW52YWxpZFN0cmluZ0NoYXJhY3RlcnNbY3VycmVudENoYXJdKSB7XG4gICAgICAgICAgICAgICAgICAgIG1rRXJyb3IoXCJJbnZhbGlkIGNoYXJhY3RlciBpbiBzdHJpbmdcIik7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRDaGFyID09PSAnXFxcXCcpIHtcbiAgICAgICAgICAgICAgICAgICAgLy9AdHMtaWdub3JlIEpTT05cbiAgICAgICAgICAgICAgICAgICAgbmV4dENoYXIoKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudENoYXIgPT09ICd1Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGhleFZhbHVlID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9AdHMtaWdub3JlIEpTT05cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaGV4ID0gcGFyc2VJbnQobmV4dENoYXIoKSwgMTYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaXNGaW5pdGUoaGV4KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZXhWYWx1ZSA9IGhleFZhbHVlICogMTYgKyBoZXg7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGhleFZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgZXNjYXBlQ2hhcmFjdGVyc1tjdXJyZW50Q2hhcl0gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gZXNjYXBlQ2hhcmFjdGVyc1tjdXJyZW50Q2hhcl07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9IGN1cnJlbnRDaGFyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIG1rRXJyb3IoJ0JhZCBpbnB1dCBzdHJpbmcnKTtcbiAgICB9O1xuXG4gICAgLy8gSlNPTk51bWJlciA6OiAtX29wdCBEZWNpbWFsSW50ZWdlckxpdGVyYWwgSlNPTkZyYWN0aW9uX29wdCBFeHBvbmVudFBhcnRfb3B0XG4gICAgdmFyIGpzb25OdW1iZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBcIlwiLCBjaGVja09jdGFsID0gZmFsc2UsIGNoZWNrRmxvYXQgPSBmYWxzZTtcblxuICAgICAgICBpZiAoY3VycmVudENoYXIgPT09ICctJykge1xuICAgICAgICAgICAgcmVzdWx0ICs9IGN1cnJlbnRDaGFyO1xuICAgICAgICAgICAgbmV4dENoYXIoJy0nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjdXJyZW50Q2hhciA9PT0gJzAnKSB7XG4gICAgICAgICAgICBjaGVja09jdGFsID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEdldCBhbGwgdGhlIG51bWJlcnNcbiAgICAgICAgd2hpbGUgKGN1cnJlbnRDaGFyID49ICcwJyAmJiBjdXJyZW50Q2hhciA8PSAnOScpIHtcbiAgICAgICAgICAgIHJlc3VsdCArPSBjdXJyZW50Q2hhcjtcbiAgICAgICAgICAgIC8vQHRzLWlnbm9yZSBKU09OXG4gICAgICAgICAgICBuZXh0Q2hhcigpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNoZWNrT2N0YWwgJiYgcmVzdWx0Lmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIG1rRXJyb3IoXCJKU09OLnBhcnNlOiBOdW1iZXJzIGNhbm5vdCBzdGFydCB3aXRoIGEgMFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENoZWNrIGlmIGl0IGlzIGEgZmxvYXRcbiAgICAgICAgaWYgKGN1cnJlbnRDaGFyID09PSAnLicpIHtcbiAgICAgICAgICAgIHJlc3VsdCArPSBjdXJyZW50Q2hhcjtcbiAgICAgICAgICAgIGNoZWNrRmxvYXQgPSB0cnVlO1xuXG4gICAgICAgICAgICAvLyBHZXQgYWxsIHRoZSByZW1haW5pbmcgbnVtYmVycyBpbiB0aGUgZmxvYXRcbiAgICAgICAgICAgIC8vQHRzLWlnbm9yZSBKU09OXG4gICAgICAgICAgICB3aGlsZSAobmV4dENoYXIoKSAmJiBjdXJyZW50Q2hhciA+PSAnMCcgJiYgY3VycmVudENoYXIgPD0gJzknKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ICs9IGN1cnJlbnRDaGFyO1xuICAgICAgICAgICAgICAgIGNoZWNrRmxvYXQgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjaGVja0Zsb2F0KSB7XG4gICAgICAgICAgICBta0Vycm9yKFwiSlNPTi5wYXJzZTogTnVtYmVyIHdpdGggbm90aGluZyBhZnRlciB0aGUgZGVjaW1hbFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjdXJyZW50Q2hhciA9PT0gJ2UnIHx8IGN1cnJlbnRDaGFyID09PSAnRScpIHtcbiAgICAgICAgICAgIHJlc3VsdCArPSBjdXJyZW50Q2hhcjtcbiAgICAgICAgICAgIC8vQHRzLWlnbm9yZSBKU09OXG4gICAgICAgICAgICBuZXh0Q2hhcigpO1xuICAgICAgICAgICAgLy9AdHMtaWdub3JlIFRZUEVTQ1JJUFRcbiAgICAgICAgICAgIGlmIChjdXJyZW50Q2hhciA9PT0gJy0nIHx8IGN1cnJlbnRDaGFyID09PSAnKycpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgKz0gY3VycmVudENoYXI7XG4gICAgICAgICAgICAgICAgLy9AdHMtaWdub3JlIEpTT05cbiAgICAgICAgICAgICAgICBuZXh0Q2hhcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd2hpbGUgKGN1cnJlbnRDaGFyID49ICcwJyAmJiBjdXJyZW50Q2hhciA8PSAnOScpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgKz0gY3VycmVudENoYXI7XG4gICAgICAgICAgICAgICAgLy9AdHMtaWdub3JlIEpTT05cbiAgICAgICAgICAgICAgICBuZXh0Q2hhcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIG51bSA9ICtyZXN1bHQ7IC8vIE5hc3R5IGNvbnZlcnNpb24uIDopXG4gICAgICAgIGlmICghaXNGaW5pdGUobnVtKSkge1xuICAgICAgICAgICAgbWtFcnJvcignQmFkIG51bWJlciwgbm90IGZpbml0ZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG51bTtcbiAgICB9O1xuXG4gICAgLy8gSlNPTk51bGxMaXRlcmFsIDo6IE51bGxMaXRlcmFsXG4gICAgdmFyIGpzb25OdWxsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBuZXh0Q2hhcignbicpO1xuICAgICAgICBuZXh0Q2hhcigndScpO1xuICAgICAgICBuZXh0Q2hhcignbCcpO1xuICAgICAgICBuZXh0Q2hhcignbCcpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuXG4gICAgLy8gSlNPTkJvb2xlYW5MaXRlcmFsIDo6IEJvb2xlYW5MaXRlcmFsXG4gICAgdmFyIGpzb25Cb29sID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBzd2l0Y2ggKGN1cnJlbnRDaGFyKSB7XG4gICAgICAgICAgICBjYXNlICd0JzpcbiAgICAgICAgICAgICAgICBuZXh0Q2hhcigndCcpO1xuICAgICAgICAgICAgICAgIG5leHRDaGFyKCdyJyk7XG4gICAgICAgICAgICAgICAgbmV4dENoYXIoJ3UnKTtcbiAgICAgICAgICAgICAgICBuZXh0Q2hhcignZScpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuXG4gICAgICAgICAgICBjYXNlICdmJzpcbiAgICAgICAgICAgICAgICBuZXh0Q2hhcignZicpO1xuICAgICAgICAgICAgICAgIG5leHRDaGFyKCdhJyk7XG4gICAgICAgICAgICAgICAgbmV4dENoYXIoJ2wnKTtcbiAgICAgICAgICAgICAgICBuZXh0Q2hhcigncycpO1xuICAgICAgICAgICAgICAgIG5leHRDaGFyKCdlJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIG1rRXJyb3IoJ0NvdWxkIG5vdCBkZWR1Y2UgYSBib29sZWFuJyk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgaWYgKHRleHQudmFsdWUpIHtcbiAgICAgICAgdmFyIHRleHRMYWJlbCA9IHRleHQubGFiZWw7XG4gICAgICAgIHRleHQgPSB0ZXh0LnZhbHVlO1xuICAgICAgICB2YXIgcmVzID0gbmV3IFZhbHVlKGpzb25WYWx1ZSgpLCB0ZXh0TGFiZWwpO1xuICAgICAgICBlYXRXaGl0ZVNwYWNlKCk7ICAvLyBFYXQgYWxsIHRyYWlsaW5nIHdoaXRlIHNwYWNlc1xuICAgICAgICAvL0B0cy1pZ25vcmUgSlNPTlxuICAgICAgICByZXMuZmluYWxJbmRleCA9IGN1cnJlbnRJbmRleDsgIC8vIFRoaXMgaXMgbmVlZGVkIHRvIGtub3cgaWYgd2UgaGF2ZSBzb21lIGdhcmJhZ2UgYXQgdGhlIGVuZCBvZiB0aGUgc3RyaW5nXG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBta0Vycm9yKCdCYWQgZm9ybWF0IG9uIGlucHV0Jyk7XG4gICAgfVxufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIHN0cmluZ2lmeSwgMTUuMTIuM1xuZnVuY3Rpb24gc3RyaW5naWZ5KHRoaXNBcmcsIGFyZ3MpIHtcbiAgICAvLyBUaGVzZSBhcmUgdXNlZCBmb3IgY3ljbGUgZGV0ZWN0aW9uXG4gICAgdmFyIEpBX2NvdW50ZXIgPSAwO1xuICAgIHZhciBKT19jb3VudGVyID0gMDtcbiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIHZhciBzdGFjayA9IFtdO1xuICAgIHZhciBpbmRlbnQgPSBcIlwiO1xuICAgIHZhciBQcm9wZXJ0eUxpc3QsIFJlcGxhY2VyRnVuY3Rpb247XG4gICAgdmFyIGdhcCA9IFwiXCI7XG5cbiAgICB2YXIgdmFsdWUgPSBhcmdzWzBdIHx8IG5ldyBWYWx1ZSh1bmRlZmluZWQsIGJvdCk7XG4gICAgdmFyIHJlcGxhY2VyID0gYXJnc1sxXSB8fCBuZXcgVmFsdWUodW5kZWZpbmVkLCBib3QpO1xuICAgIHZhciBzcGFjZSA9IGFyZ3NbMl0gfHwgbmV3IFZhbHVlKHVuZGVmaW5lZCwgYm90KTtcblxuICAgIHZhciByZXRMYWJlbCA9IGx1Yih2YWx1ZS5sYWJlbCwgbHViKHJlcGxhY2VyLmxhYmVsLCBzcGFjZS5sYWJlbCkpO1xuXG4gICAgbW9uaXRvci5jb250ZXh0LnB1c2hQQyhyZXBsYWNlci5sYWJlbCk7XG4gICAgaWYgKHR5cGVvZiByZXBsYWNlci52YWx1ZSA9PT0gJ29iamVjdCcgfHwgdHlwZW9mIHJlcGxhY2VyLnZhbHVlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGlmIChJc0NhbGxhYmxlKHJlcGxhY2VyKSkge1xuICAgICAgICAgICAgUmVwbGFjZXJGdW5jdGlvbiA9IHJlcGxhY2VyO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHJlcGxhY2VyLnZhbHVlICYmIHJlcGxhY2VyLnZhbHVlLkNsYXNzID09PSAnQXJyYXknKSB7XG4gICAgICAgICAgICBQcm9wZXJ0eUxpc3QgPSBbXTtcblxuICAgICAgICAgICAgdmFyIGluaXRpYWxSZXBsYWNlckxlbmd0aCA9IHJlcGxhY2VyLnZhbHVlLnByb3BlcnRpZXMubGVuZ3RoO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbml0aWFsUmVwbGFjZXJMZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBpdGVtID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIHZhciB2ID0gcmVwbGFjZXIuR2V0KG5ldyBWYWx1ZShpLCBib3QpKTtcblxuICAgICAgICAgICAgICAgIGlmICh2LnZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2LnZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbSA9IHY7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHYudmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtID0gVG9TdHJpbmcodik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHYudmFsdWUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodi52YWx1ZSAmJiAodi52YWx1ZS5DbGFzcyA9PT0gJ1N0cmluZycgfHwgdi52YWx1ZS5DbGFzcyA9PT0gJ051bWJlcicpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbSA9IFRvU3RyaW5nKHYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXRlbU5vdEluQXJyYXkgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBQcm9wZXJ0eUxpc3QubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS52YWx1ZSA9PT0gUHJvcGVydHlMaXN0W2pdLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1Ob3RJbkFycmF5ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW1Ob3RJbkFycmF5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUHJvcGVydHlMaXN0LnB1c2goaXRlbSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgbW9uaXRvci5jb250ZXh0LnBvcFBDKCk7XG5cbiAgICBtb25pdG9yLmNvbnRleHQucHVzaFBDKHNwYWNlLmxhYmVsKTtcbiAgICBpZiAodHlwZW9mIHNwYWNlLnZhbHVlID09PSAnb2JqZWN0Jykge1xuICAgICAgICBpZiAoc3BhY2UudmFsdWUuQ2xhc3MgPT09ICdOdW1iZXInKSB7XG4gICAgICAgICAgICBzcGFjZSA9IFRvTnVtYmVyKHNwYWNlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzcGFjZS52YWx1ZS5DbGFzcyA9PT0gJ1N0cmluZycpIHtcbiAgICAgICAgICAgIHNwYWNlID0gVG9TdHJpbmcoc3BhY2UpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBzcGFjZS52YWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgdmFyIGludFNwYWNlID0gVG9JbnRlZ2VyKHNwYWNlKTtcbiAgICAgICAgaWYgKGludFNwYWNlLnZhbHVlID4gMTApIHtcbiAgICAgICAgICAgIHNwYWNlID0gbmV3IFZhbHVlKDEwLCBzcGFjZS5sYWJlbCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzcGFjZSA9IGludFNwYWNlO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzcGFjZS52YWx1ZTsgaSsrKSB7XG4gICAgICAgICAgICBnYXAgPSBnYXAgKyBcIiBcIjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2Ygc3BhY2UudmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGlmIChzcGFjZS52YWx1ZS5sZW5ndGggPD0gMTApIHtcbiAgICAgICAgICAgIGdhcCA9IHNwYWNlLnZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZ2FwID0gc3BhY2UudmFsdWUuc3Vic3RyaW5nKDAsIDEwKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBMZWF2ZSB0aGUgbGFzdCBlbHNlLCBnYXAgd2lsbCBiZSBlbXB0eSBzdHJpbmcgaWYgbm9uZSBvZiB0aGUgYWJvdmUgaGFzIGJlZW4gaGl0XG4gICAgbW9uaXRvci5jb250ZXh0LnBvcFBDKCk7ICAvLyBQb3Agc3BhY2UubGFiZWwgZnJvbSB0aGUgUEMgc3RhY2tcblxuICAgIHZhciB3cmFwcGVyID0gbmV3IE9iamVjdE9iamVjdCgpO1xuICAgIHdyYXBwZXIuRGVmaW5lT3duUHJvcGVydHkobmV3IFZhbHVlKFwiXCIsIGJvdCksXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhbHVlOiB2YWx1ZS52YWx1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGxhYmVsOiB2YWx1ZS5sYWJlbFxuICAgICAgICB9LFxuICAgICAgICBmYWxzZVxuICAgICk7XG5cbiAgICB2YXIgU3RyID0gZnVuY3Rpb24gKGtleSwgaG9sZGVyKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGhvbGRlci5HZXQoa2V5KTtcblxuICAgICAgICByZXRMYWJlbCA9IGx1YihyZXRMYWJlbCwgdmFsdWUubGFiZWwpO1xuXG4gICAgICAgIG1vbml0b3IuY29udGV4dC5wdXNoUEModmFsdWUubGFiZWwpO1xuICAgICAgICBpZiAodmFsdWUudmFsdWUgJiYgdHlwZW9mIHZhbHVlLnZhbHVlID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgdmFyIHRvSlNPTiA9IHZhbHVlLkdldChuZXcgVmFsdWUoXCJ0b0pTT05cIiwgYm90KSk7XG5cbiAgICAgICAgICAgIGlmIChJc0NhbGxhYmxlKHRvSlNPTikpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHRvSlNPTi5DYWxsKHZhbHVlLCBba2V5XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbW9uaXRvci5jb250ZXh0LnBvcFBDKCk7ICAvLyBBcyBpdCBpcyBiZWluZyBwdXNoZWQgYWdhaW4gbGF0ZXIsIGlzIHRoaXMgbmVlZGVkP1xuXG4gICAgICAgIGlmIChSZXBsYWNlckZ1bmN0aW9uKSB7XG4gICAgICAgICAgICBtb25pdG9yLmNvbnRleHQucHVzaFBDKFJlcGxhY2VyRnVuY3Rpb24ubGFiZWwpO1xuICAgICAgICAgICAgaWYgKFJlcGxhY2VyRnVuY3Rpb24udmFsdWUpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IFJlcGxhY2VyRnVuY3Rpb24uQ2FsbChob2xkZXIsIFtrZXksIHZhbHVlXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtb25pdG9yLmNvbnRleHQucG9wUEMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIG1vbml0b3IuY29udGV4dC5wdXNoUEModmFsdWUubGFiZWwpO1xuICAgICAgICBpZiAodmFsdWUudmFsdWUgJiYgdHlwZW9mIHZhbHVlLnZhbHVlID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgaWYgKHZhbHVlLnZhbHVlLkNsYXNzID09PSAnTnVtYmVyJykge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gVG9OdW1iZXIodmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodmFsdWUudmFsdWUuQ2xhc3MgPT09ICdTdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSBUb1N0cmluZyh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh2YWx1ZS52YWx1ZS5DbGFzcyA9PT0gJ0Jvb2xlYW4nKSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSBuZXcgVmFsdWUodmFsdWUudmFsdWUuUHJpbWl0aXZlVmFsdWUudmFsdWVPZigpLCByZXRMYWJlbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodmFsdWUudmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgICAgIG1vbml0b3IuY29udGV4dC5wb3BQQygpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBWYWx1ZShcIm51bGxcIiwgcmV0TGFiZWwpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2YWx1ZS52YWx1ZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgbW9uaXRvci5jb250ZXh0LnBvcFBDKCk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFZhbHVlKFwidHJ1ZVwiLCByZXRMYWJlbCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbHVlLnZhbHVlID09PSBmYWxzZSkge1xuICAgICAgICAgICAgbW9uaXRvci5jb250ZXh0LnBvcFBDKCk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFZhbHVlKFwiZmFsc2VcIiwgcmV0TGFiZWwpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZS52YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHZhciByZXMgPSBRdW90ZSh2YWx1ZSk7XG4gICAgICAgICAgICBtb25pdG9yLmNvbnRleHQucG9wUEMoKTtcbiAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIHZhbHVlLnZhbHVlID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgaWYgKGlzRmluaXRlKHZhbHVlLnZhbHVlKSkge1xuICAgICAgICAgICAgICAgIHZhciByZXMgPSBUb1N0cmluZyh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgbW9uaXRvci5jb250ZXh0LnBvcFBDKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbW9uaXRvci5jb250ZXh0LnBvcFBDKCk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFZhbHVlKFwibnVsbFwiLCByZXRMYWJlbCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIHZhbHVlLnZhbHVlID09PSAnb2JqZWN0JyAmJiAhSXNDYWxsYWJsZSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZS52YWx1ZS5DbGFzcyA9PT0gJ0FycmF5Jykge1xuICAgICAgICAgICAgICAgIC8vQHRzLWlnbm9yZSBKU09OXG4gICAgICAgICAgICAgICAgdmFyIHJlcyA9IEpBKHZhbHVlKTtcbiAgICAgICAgICAgICAgICBtb25pdG9yLmNvbnRleHQucG9wUEMoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvL0B0cy1pZ25vcmUgSlNPTlxuICAgICAgICAgICAgdmFyIHJlcyA9IEpPKHZhbHVlKTtcbiAgICAgICAgICAgIG1vbml0b3IuY29udGV4dC5wb3BQQygpO1xuICAgICAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgICAgfVxuXG4gICAgICAgIG1vbml0b3IuY29udGV4dC5wb3BQQygpO1xuICAgICAgICByZXR1cm4gbmV3IFZhbHVlKHVuZGVmaW5lZCwgcmV0TGFiZWwpO1xuICAgIH07XG5cbiAgICB2YXIgUXVvdGUgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdmFyIHByb2R1Y3QgPSBcIlxcXCJcIjtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YWx1ZS52YWx1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIEMgPSB2YWx1ZS52YWx1ZVtpXTtcbiAgICAgICAgICAgIHZhciBjQ29kZVBvaW50VmFsdWUgPSBDLmNvZGVQb2ludEF0KDApO1xuICAgICAgICAgICAgdmFyIHNwYWNlQ29kZVBvaW50VmFsdWUgPSAoXCIgXCIpLmNvZGVQb2ludEF0KDApO1xuXG4gICAgICAgICAgICBpZiAoQyA9PT0gXCJcXFwiXCIgfHwgQyA9PT0gXCJcXFxcXCIpIHtcbiAgICAgICAgICAgICAgICBwcm9kdWN0ICs9IFwiXFxcXFwiO1xuICAgICAgICAgICAgICAgIHByb2R1Y3QgKz0gQztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKEMgPT09IFwiXFxiXCIgfHwgQyA9PT0gXCJcXGZcIiB8fCBDID09PSBcIlxcblwiIHx8IEMgPT09IFwiXFxyXCIgfHwgQyA9PT0gXCJcXHRcIikge1xuICAgICAgICAgICAgICAgIHByb2R1Y3QgKz0gXCJcXFxcXCI7XG4gICAgICAgICAgICAgICAgdmFyIGFiYnJldjtcbiAgICAgICAgICAgICAgICBpZiAoQyA9PT0gXCJcXGJcIikgYWJicmV2ID0gXCJiXCI7XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoQyA9PT0gXCJcXGZcIikgYWJicmV2ID0gXCJmXCI7XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoQyA9PT0gXCJcXG5cIikgYWJicmV2ID0gXCJuXCI7XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoQyA9PT0gXCJcXHJcIikgYWJicmV2ID0gXCJyXCI7XG4gICAgICAgICAgICAgICAgZWxzZSBhYmJyZXYgPSBcInRcIjtcblxuICAgICAgICAgICAgICAgIHByb2R1Y3QgKz0gYWJicmV2O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY0NvZGVQb2ludFZhbHVlIDwgc3BhY2VDb2RlUG9pbnRWYWx1ZSkge1xuICAgICAgICAgICAgICAgIHByb2R1Y3QgKz0gXCJcXFxcXCI7XG4gICAgICAgICAgICAgICAgcHJvZHVjdCArPSBcInVcIjtcbiAgICAgICAgICAgICAgICB2YXIgaGV4ID0gY0NvZGVQb2ludFZhbHVlLnRvU3RyaW5nKDE2KTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gaGV4Lmxlbmd0aDsgaiA8IDQ7IGorKykge1xuICAgICAgICAgICAgICAgICAgICBoZXggPSBcIjBcIiArIGhleDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBwcm9kdWN0ICs9IGhleDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHByb2R1Y3QgKz0gQztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByb2R1Y3QgKz0gXCJcXFwiXCI7XG4gICAgICAgIHJldHVybiBuZXcgVmFsdWUocHJvZHVjdCwgbHViKG1vbml0b3IuY29udGV4dC5lZmZlY3RpdmVQQywgdmFsdWUubGFiZWwpKTtcbiAgICB9O1xuXG4gICAgdmFyIEpPID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHZhciBKT19rZXkgPSBuZXcgVmFsdWUoXCJKT19wcm9wZXJ0eVwiLCBib3QpO1xuICAgICAgICBpZiAoIXZhbHVlLkdldChKT19rZXkpLnZhbHVlKSB7XG4gICAgICAgICAgICBKT19jb3VudGVyKys7XG4gICAgICAgICAgICB2YWx1ZS5EZWZpbmVPd25Qcm9wZXJ0eShKT19rZXksXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogSk9fY291bnRlcixcbiAgICAgICAgICAgICAgICAgICAgd3JpdGFibGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IGJvdFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY2hlY2tDeWNsZShKT19rZXksIHZhbHVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN0YWNrLnB1c2godmFsdWUpO1xuICAgICAgICB2YXIgc3RlcGJhY2sgPSBpbmRlbnQ7XG4gICAgICAgIGluZGVudCA9IGluZGVudCArIGdhcDtcblxuICAgICAgICBpZiAoUHJvcGVydHlMaXN0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHZhciBLID0gUHJvcGVydHlMaXN0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy9AdHMtaWdub3JlIEpTT05cbiAgICAgICAgICAgIHZhciBLID0gW107XG4gICAgICAgICAgICB2YXIgYWxsS2V5cyA9IE9iamVjdC5rZXlzKHZhbHVlLnZhbHVlLnByb3BlcnRpZXMpO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFsbEtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIga2V5VmFsID0gdmFsdWUuR2V0UHJvcGVydHkobmV3IFZhbHVlKGFsbEtleXNbaV0sIGJvdCkpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGtleVZhbC52YWx1ZSAmJiBrZXlWYWwudmFsdWUuZW51bWVyYWJsZSkge1xuICAgICAgICAgICAgICAgICAgICBLLnB1c2gobmV3IFZhbHVlKGFsbEtleXNbaV0sIHJldExhYmVsKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHBhcnRpYWwgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBLLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgUCA9IEtbaV07XG4gICAgICAgICAgICB2YXIgc3RyUCA9IFN0cihQLCB2YWx1ZSk7XG5cbiAgICAgICAgICAgIGlmIChzdHJQICYmIHN0clAudmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHZhciBtZW1iZXIgPSBRdW90ZShQKTtcbiAgICAgICAgICAgICAgICBtZW1iZXIudmFsdWUgKz0gXCI6XCI7XG4gICAgICAgICAgICAgICAgaWYgKGdhcCAhPT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICBtZW1iZXIudmFsdWUgKz0gJyAnO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIG1lbWJlci52YWx1ZSArPSBzdHJQLnZhbHVlO1xuICAgICAgICAgICAgICAgIHBhcnRpYWwucHVzaChtZW1iZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGZpbmFsO1xuICAgICAgICBpZiAocGFydGlhbC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGZpbmFsID0gXCJ7fVwiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIHByb3BlcnRpZXMgPSBcIlwiO1xuICAgICAgICAgICAgaWYgKGdhcCA9PT0gXCJcIikge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFydGlhbC5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllcyArPSBwYXJ0aWFsW2ldLnZhbHVlICsgJywnO1xuICAgICAgICAgICAgICAgICAgICByZXRMYWJlbCA9IGx1YihyZXRMYWJlbCwgcGFydGlhbFtpXS5sYWJlbCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcHJvcGVydGllcyArPSBwYXJ0aWFsW3BhcnRpYWwubGVuZ3RoIC0gMV0udmFsdWU7XG4gICAgICAgICAgICAgICAgcmV0TGFiZWwgPSBsdWIocmV0TGFiZWwsIHBhcnRpYWxbcGFydGlhbC5sZW5ndGggLSAxXS5sYWJlbCk7XG5cbiAgICAgICAgICAgICAgICBmaW5hbCA9ICd7JyArIHByb3BlcnRpZXMgKyAnfSc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgc2VwYXJhdG9yID0gXCIsXFxuXCIgKyBpbmRlbnQ7XG5cbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhcnRpYWwubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXMgKz0gcGFydGlhbFtpXS52YWx1ZSArIHNlcGFyYXRvcjtcbiAgICAgICAgICAgICAgICAgICAgcmV0TGFiZWwgPSBsdWIocmV0TGFiZWwsIHBhcnRpYWxbaV0ubGFiZWwpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHByb3BlcnRpZXMgKz0gcGFydGlhbFtwYXJ0aWFsLmxlbmd0aCAtIDFdLnZhbHVlO1xuICAgICAgICAgICAgICAgIHJldExhYmVsID0gbHViKHJldExhYmVsLCBwYXJ0aWFsW3BhcnRpYWwubGVuZ3RoIC0gMV0ubGFiZWwpO1xuXG4gICAgICAgICAgICAgICAgZmluYWwgPSAne1xcbicgKyBpbmRlbnQgKyBwcm9wZXJ0aWVzICsgJ1xcbicgKyBzdGVwYmFjayArICd9JztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFBvcCBhbmQgcmVtb3ZlIEpPX3Byb3BlcnR5XG4gICAgICAgIHZhciB2ID0gc3RhY2sucG9wKCk7XG4gICAgICAgIHYuRGVsZXRlKEpPX2tleSk7XG5cbiAgICAgICAgaW5kZW50ID0gc3RlcGJhY2s7XG4gICAgICAgIHJldHVybiBuZXcgVmFsdWUoZmluYWwsIHJldExhYmVsKTtcbiAgICB9O1xuXG4gICAgdmFyIEpBID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHZhciBKQV9rZXkgPSBuZXcgVmFsdWUoXCJKQV9wcm9wZXJ0eVwiLCBib3QpO1xuICAgICAgICBpZiAoIXZhbHVlLkdldChKQV9rZXkpLnZhbHVlKSB7XG4gICAgICAgICAgICBKQV9jb3VudGVyKys7XG4gICAgICAgICAgICB2YWx1ZS5EZWZpbmVPd25Qcm9wZXJ0eShKQV9rZXksXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogSkFfY291bnRlcixcbiAgICAgICAgICAgICAgICAgICAgd3JpdGFibGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IGJvdFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY2hlY2tDeWNsZShKQV9rZXksIHZhbHVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN0YWNrLnB1c2godmFsdWUpO1xuICAgICAgICB2YXIgc3RlcGJhY2sgPSBpbmRlbnQ7XG4gICAgICAgIGluZGVudCA9IGluZGVudCArIGdhcDtcbiAgICAgICAgdmFyIHBhcnRpYWwgPSBbXTtcblxuICAgICAgICB2YXIgbGVuID0gdmFsdWUuR2V0KG5ldyBWYWx1ZSgnbGVuZ3RoJywgYm90KSk7XG4gICAgICAgIHZhciBpbmRleCA9IG5ldyBWYWx1ZSgwLCBib3QpO1xuXG4gICAgICAgIHdoaWxlIChpbmRleC52YWx1ZSA8IGxlbi52YWx1ZSkge1xuICAgICAgICAgICAgdmFyIHN0clAgPSBTdHIoVG9TdHJpbmcoaW5kZXgpLCB2YWx1ZSk7XG4gICAgICAgICAgICBpZiAoIXN0clAgfHwgc3RyUC52YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcGFydGlhbC5wdXNoKG5ldyBWYWx1ZShcIm51bGxcIiwgcmV0TGFiZWwpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHBhcnRpYWwucHVzaChzdHJQKTtcbiAgICAgICAgICAgICAgICByZXRMYWJlbCA9IGx1YihyZXRMYWJlbCwgc3RyUC5sYWJlbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbmRleC52YWx1ZSsrO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGZpbmFsO1xuICAgICAgICBpZiAocGFydGlhbC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGZpbmFsID0gXCJbXVwiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIHByb3BlcnRpZXMgPSBcIlwiO1xuICAgICAgICAgICAgaWYgKGdhcCA9PT0gXCJcIikge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFydGlhbC5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllcyArPSBwYXJ0aWFsW2ldLnZhbHVlICsgJywnO1xuICAgICAgICAgICAgICAgICAgICByZXRMYWJlbCA9IGx1YihyZXRMYWJlbCwgcGFydGlhbFtpXS5sYWJlbCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcHJvcGVydGllcyArPSBwYXJ0aWFsW3BhcnRpYWwubGVuZ3RoIC0gMV0udmFsdWU7XG4gICAgICAgICAgICAgICAgcmV0TGFiZWwgPSBsdWIocmV0TGFiZWwsIHBhcnRpYWxbcGFydGlhbC5sZW5ndGggLSAxXS5sYWJlbCk7XG5cbiAgICAgICAgICAgICAgICBmaW5hbCA9ICdbJyArIHByb3BlcnRpZXMgKyAnXSc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgc2VwYXJhdG9yID0gXCIsXFxuXCIgKyBpbmRlbnQ7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXJ0aWFsLmxlbmd0aCAtIDE7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzICs9IHBhcnRpYWxbaV0udmFsdWUgKyBzZXBhcmF0b3I7XG4gICAgICAgICAgICAgICAgICAgIHJldExhYmVsID0gbHViKHJldExhYmVsLCBwYXJ0aWFsW2ldLmxhYmVsKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzICs9IHBhcnRpYWxbcGFydGlhbC5sZW5ndGggLSAxXS52YWx1ZTtcbiAgICAgICAgICAgICAgICByZXRMYWJlbCA9IGx1YihyZXRMYWJlbCwgcGFydGlhbFtwYXJ0aWFsLmxlbmd0aCAtIDFdLmxhYmVsKTtcblxuICAgICAgICAgICAgICAgIGZpbmFsID0gJ1tcXG4nICsgaW5kZW50ICsgcHJvcGVydGllcyArICdcXG4nICsgc3RlcGJhY2sgKyAnXSc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBQb3AgYW5kIHJlbW92ZSBwcm9wZXJ0eSBvZiBKQV9rZXlcbiAgICAgICAgdmFyIHYgPSBzdGFjay5wb3AoKTtcbiAgICAgICAgdi5EZWxldGUoSkFfa2V5KTtcblxuICAgICAgICBpbmRlbnQgPSBzdGVwYmFjaztcbiAgICAgICAgcmV0dXJuIG5ldyBWYWx1ZShmaW5hbCwgcmV0TGFiZWwpO1xuICAgIH07XG5cbiAgICB2YXIgY2hlY2tDeWNsZSA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RhY2subGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZS5HZXQoa2V5KS52YWx1ZSA9PT0gc3RhY2tbaV0uR2V0KGtleSkudmFsdWUpIHtcbiAgICAgICAgICAgICAgICBtb25pdG9yLlRocm93KFxuICAgICAgICAgICAgICAgICAgICBcIlR5cGVFcnJvclwiLFxuICAgICAgICAgICAgICAgICAgICAnSlNPTi5zdHJpbmdpZnk6IEN5Y2xpYyBzdHJ1Y3R1cmUnLFxuICAgICAgICAgICAgICAgICAgICBib3RcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBTdHIobmV3IFZhbHVlKFwiXCIsIGJvdCksIG5ldyBWYWx1ZSh3cmFwcGVyLCBib3QpKTtcbn0iLCJpbXBvcnQgeyBWYWx1ZSB9IGZyb20gXCIuLi9WYWx1ZVwiO1xuaW1wb3J0ICogYXMgY29uc3RhbnRzIGZyb20gJy4uL0NvbnN0YW50cyc7XG5pbXBvcnQgeyBCdWlsdGluRnVuY3Rpb25PYmplY3QgfSBmcm9tIFwiLi9CdWlsdGluRnVuY3Rpb25PYmplY3RcIjtcbmltcG9ydCB7IFRvTnVtYmVyIH0gZnJvbSAnLi4vQ29udmVyc2lvbi9Ub051bWJlcic7XG5pbXBvcnQgeyBNb25pdG9yQmFzZSB9IGZyb20gJy4uL01vbml0b3JCYXNlJztcblxuaW1wb3J0IHsgRGVmaW5lRkZGLCBEZWZpbmVURlQgfSBmcm9tICcuLi9EZWZpbmUnO1xuaW1wb3J0IHsgRWNtYU9iamVjdCB9IGZyb20gJy4uL09iamVjdHMvRWNtYU9iamVjdCc7XG5cbmltcG9ydCB7IGJvdCwgbHViIH0gZnJvbSAnLi4vTGFiZWwnO1xuaW1wb3J0IHsgVmFsdWVUeXBlcyB9IGZyb20gXCIuLi9JbnRlcmZhY2VzXCI7XG5cbmRlY2xhcmUgdmFyIG1vbml0b3I6IE1vbml0b3JCYXNlO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFRoZSBNYXRoIE9iamVjdCwgMTUuOC4yXG5cbmV4cG9ydCBjbGFzcyBNYXRoT2JqZWN0IGV4dGVuZHMgRWNtYU9iamVjdCB7XG5cbiAgICBob3N0OiBNYXRoO1xuXG4gICAgY29uc3RydWN0b3IoaG9zdDogYW55KSB7XG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgdGhpcy5DbGFzcyA9ICdNYXRoJztcbiAgICAgICAgLy8gbm90IG1hbmRhdGVkIGJ5IHN0YW5kYXJkXG4gICAgICAgIHRoaXMuRXh0ZW5zaWJsZSA9IHRydWU7XG4gICAgICAgIHRoaXMuaG9zdCA9IGhvc3Q7XG5cbiAgICB9XG5cbiAgICBTZXR1cCgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5Qcm90b3R5cGUgPSBuZXcgVmFsdWUobW9uaXRvci5pbnN0YW5jZXMuT2JqZWN0UHJvdG90eXBlLCBib3QpO1xuXG4gICAgICAgIERlZmluZUZGRih0aGlzLCBjb25zdGFudHMubGVuZ3RoLCAxKTtcbiAgICAgICAgRGVmaW5lRkZGKHRoaXMsIGNvbnN0YW50cy5wcm90b3R5cGUsIG1vbml0b3IuaW5zdGFuY2VzLk9iamVjdFByb3RvdHlwZSk7XG5cbiAgICAgICAgRGVmaW5lRkZGKHRoaXMsIGNvbnN0YW50cy5FLCB0aGlzLmhvc3QuRSk7XG4gICAgICAgIERlZmluZUZGRih0aGlzLCBjb25zdGFudHMuTE4xMCwgdGhpcy5ob3N0LkxOMTApO1xuICAgICAgICBEZWZpbmVGRkYodGhpcywgY29uc3RhbnRzLkxOMiwgdGhpcy5ob3N0LkxOMik7XG4gICAgICAgIERlZmluZUZGRih0aGlzLCBjb25zdGFudHMuTE9HMkUsIHRoaXMuaG9zdC5MT0cyRSk7XG4gICAgICAgIERlZmluZUZGRih0aGlzLCBjb25zdGFudHMuTE9HMTBFLCB0aGlzLmhvc3QuTE9HMTBFKTtcbiAgICAgICAgRGVmaW5lRkZGKHRoaXMsIGNvbnN0YW50cy5QSSwgdGhpcy5ob3N0LlBJKTtcbiAgICAgICAgRGVmaW5lRkZGKHRoaXMsIGNvbnN0YW50cy5TUVJUMV8yLCB0aGlzLmhvc3QuU1FSVDFfMik7XG4gICAgICAgIERlZmluZUZGRih0aGlzLCBjb25zdGFudHMuU1FSVDIsIHRoaXMuaG9zdC5TUVJUMik7XG5cbiAgICAgICAgLy9AdHMtaWdub3JlIFRZUEVTXG4gICAgICAgIERlZmluZVRGVCh0aGlzLCBjb25zdGFudHMuYWJzLCBuZXcgQnVpbHRpbkZ1bmN0aW9uT2JqZWN0KGFicywgMSwgdGhpcy5ob3N0LmFicykpO1xuICAgICAgICAvL0B0cy1pZ25vcmUgVFlQRVNcbiAgICAgICAgRGVmaW5lVEZUKHRoaXMsIGNvbnN0YW50cy5hY29zLCBuZXcgQnVpbHRpbkZ1bmN0aW9uT2JqZWN0KGFjb3MsIDEsIHRoaXMuaG9zdC5hY29zKSk7XG4gICAgICAgIC8vQHRzLWlnbm9yZSBUWVBFU1xuICAgICAgICBEZWZpbmVURlQodGhpcywgY29uc3RhbnRzLmFzaW4sIG5ldyBCdWlsdGluRnVuY3Rpb25PYmplY3QoYXNpbiwgMSwgdGhpcy5ob3N0LmFzaW4pKTtcbiAgICAgICAgLy9AdHMtaWdub3JlIFRZUEVTXG4gICAgICAgIERlZmluZVRGVCh0aGlzLCBjb25zdGFudHMuYXRhbiwgbmV3IEJ1aWx0aW5GdW5jdGlvbk9iamVjdChhdGFuLCAxLCB0aGlzLmhvc3QuYXRhbikpO1xuICAgICAgICAvL0B0cy1pZ25vcmUgVFlQRVNcbiAgICAgICAgRGVmaW5lVEZUKHRoaXMsIGNvbnN0YW50cy5hdGFuMiwgbmV3IEJ1aWx0aW5GdW5jdGlvbk9iamVjdChhdGFuMiwgMiwgdGhpcy5ob3N0LmF0YW4yKSk7XG4gICAgICAgIC8vQHRzLWlnbm9yZSBUWVBFU1xuICAgICAgICBEZWZpbmVURlQodGhpcywgY29uc3RhbnRzLmNlaWwsIG5ldyBCdWlsdGluRnVuY3Rpb25PYmplY3QoY2VpbCwgMSwgdGhpcy5ob3N0LmNlaWwpKTtcbiAgICAgICAgLy9AdHMtaWdub3JlIFRZUEVTXG4gICAgICAgIERlZmluZVRGVCh0aGlzLCBjb25zdGFudHMuY29zLCBuZXcgQnVpbHRpbkZ1bmN0aW9uT2JqZWN0KGNvcywgMSwgdGhpcy5ob3N0LmNvcykpO1xuICAgICAgICAvL0B0cy1pZ25vcmUgVFlQRVNcbiAgICAgICAgRGVmaW5lVEZUKHRoaXMsIGNvbnN0YW50cy5leHAsIG5ldyBCdWlsdGluRnVuY3Rpb25PYmplY3QoZXhwLCAxLCB0aGlzLmhvc3QuZXhwKSk7XG4gICAgICAgIC8vQHRzLWlnbm9yZSBUWVBFU1xuICAgICAgICBEZWZpbmVURlQodGhpcywgY29uc3RhbnRzLmZsb29yLCBuZXcgQnVpbHRpbkZ1bmN0aW9uT2JqZWN0KGZsb29yLCAxLCB0aGlzLmhvc3QuZmxvb3IpKTtcbiAgICAgICAgLy9AdHMtaWdub3JlIFRZUEVTXG4gICAgICAgIERlZmluZVRGVCh0aGlzLCBjb25zdGFudHMubG9nLCBuZXcgQnVpbHRpbkZ1bmN0aW9uT2JqZWN0KGxvZywgMSwgdGhpcy5ob3N0LmxvZykpO1xuICAgICAgICAvL0B0cy1pZ25vcmUgVFlQRVNcbiAgICAgICAgRGVmaW5lVEZUKHRoaXMsIGNvbnN0YW50cy5tYXgsIG5ldyBCdWlsdGluRnVuY3Rpb25PYmplY3QobWF4LCAyLCB0aGlzLmhvc3QubWF4KSk7XG4gICAgICAgIC8vQHRzLWlnbm9yZSBUWVBFU1xuICAgICAgICBEZWZpbmVURlQodGhpcywgY29uc3RhbnRzLm1pbiwgbmV3IEJ1aWx0aW5GdW5jdGlvbk9iamVjdChtaW4sIDIsIHRoaXMuaG9zdC5taW4pKTtcbiAgICAgICAgLy9AdHMtaWdub3JlIFRZUEVTXG4gICAgICAgIERlZmluZVRGVCh0aGlzLCBjb25zdGFudHMucG93LCBuZXcgQnVpbHRpbkZ1bmN0aW9uT2JqZWN0KHBvdywgMiwgdGhpcy5ob3N0LnBvdykpO1xuICAgICAgICAvL0B0cy1pZ25vcmUgVFlQRVNcbiAgICAgICAgRGVmaW5lVEZUKHRoaXMsIGNvbnN0YW50cy5yYW5kb20sIG5ldyBCdWlsdGluRnVuY3Rpb25PYmplY3QocmFuZG9tLCAwLCB0aGlzLmhvc3QucmFuZG9tKSk7XG4gICAgICAgIC8vQHRzLWlnbm9yZSBUWVBFU1xuICAgICAgICBEZWZpbmVURlQodGhpcywgY29uc3RhbnRzLnJvdW5kLCBuZXcgQnVpbHRpbkZ1bmN0aW9uT2JqZWN0KHJvdW5kLCAxLCB0aGlzLmhvc3Qucm91bmQpKTtcbiAgICAgICAgLy9AdHMtaWdub3JlIFRZUEVTXG4gICAgICAgIERlZmluZVRGVCh0aGlzLCBjb25zdGFudHMuc2luLCBuZXcgQnVpbHRpbkZ1bmN0aW9uT2JqZWN0KHNpbiwgMSwgdGhpcy5ob3N0LnNpbikpO1xuICAgICAgICAvL0B0cy1pZ25vcmUgVFlQRVNcbiAgICAgICAgRGVmaW5lVEZUKHRoaXMsIGNvbnN0YW50cy5zcXJ0LCBuZXcgQnVpbHRpbkZ1bmN0aW9uT2JqZWN0KHNxcnQsIDEsIHRoaXMuaG9zdC5zcXJ0KSk7XG4gICAgICAgIC8vQHRzLWlnbm9yZSBUWVBFU1xuICAgICAgICBEZWZpbmVURlQodGhpcywgY29uc3RhbnRzLnRhbiwgbmV3IEJ1aWx0aW5GdW5jdGlvbk9iamVjdCh0YW4sIDEsIHRoaXMuaG9zdC50YW4pKTtcbiAgICB9XG59XG5cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBhYnMsIDE1LjguMi4xXG5mdW5jdGlvbiBhYnModGhpczogeyBob3N0KHg6IG51bWJlcik6IG51bWJlciB9LCB0aGlzQXJnOiBWYWx1ZTxWYWx1ZVR5cGVzPiwgYXJnczogVmFsdWU8VmFsdWVUeXBlcz5bXSk6IFZhbHVlPG51bWJlcj4ge1xuICAgIGxldCB4ID0gYXJnc1swXSA/IFRvTnVtYmVyKGFyZ3NbMF0pIDogbmV3IFZhbHVlKE5hTiwgYm90KTtcbiAgICByZXR1cm4gbmV3IFZhbHVlKHRoaXMuaG9zdCh4LnZhbHVlKSwgeC5sYWJlbCk7XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gYWNvcywgMTUuOC4yLjJcbmZ1bmN0aW9uIGFjb3ModGhpczogeyBob3N0KHg6IG51bWJlcik6IG51bWJlciB9LCB0aGlzQXJnOiBWYWx1ZTxWYWx1ZVR5cGVzPiwgYXJnczogVmFsdWU8VmFsdWVUeXBlcz5bXSk6IFZhbHVlPG51bWJlcj4ge1xuICAgIGxldCB4ID0gYXJnc1swXSA/IFRvTnVtYmVyKGFyZ3NbMF0pIDogbmV3IFZhbHVlKE5hTiwgYm90KTtcbiAgICByZXR1cm4gbmV3IFZhbHVlKHRoaXMuaG9zdCh4LnZhbHVlKSwgeC5sYWJlbCk7XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gYXNpbiwgMTUuOC4yLjNcbmZ1bmN0aW9uIGFzaW4odGhpczogeyBob3N0KHg6IG51bWJlcik6IG51bWJlciB9LCB0aGlzQXJnOiBWYWx1ZTxWYWx1ZVR5cGVzPiwgYXJnczogVmFsdWU8VmFsdWVUeXBlcz5bXSk6IFZhbHVlPG51bWJlcj4ge1xuICAgIGxldCB4ID0gYXJnc1swXSA/IFRvTnVtYmVyKGFyZ3NbMF0pIDogbmV3IFZhbHVlKE5hTiwgYm90KTtcbiAgICByZXR1cm4gbmV3IFZhbHVlKHRoaXMuaG9zdCh4LnZhbHVlKSwgeC5sYWJlbCk7XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gYXRhbiwgMTUuOC4yLjRcbmZ1bmN0aW9uIGF0YW4odGhpczogeyBob3N0KHg6IG51bWJlcik6IG51bWJlciB9LCB0aGlzQXJnOiBWYWx1ZTxWYWx1ZVR5cGVzPiwgYXJnczogVmFsdWU8VmFsdWVUeXBlcz5bXSk6IFZhbHVlPG51bWJlcj4ge1xuICAgIGxldCB4ID0gYXJnc1swXSA/IFRvTnVtYmVyKGFyZ3NbMF0pIDogbmV3IFZhbHVlKE5hTiwgYm90KTtcbiAgICByZXR1cm4gbmV3IFZhbHVlKHRoaXMuaG9zdCh4LnZhbHVlKSwgeC5sYWJlbCk7XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gYXRhbjIsIDE1LjguMi41XG5mdW5jdGlvbiBhdGFuMih0aGlzOiB7IGhvc3QoeDogbnVtYmVyLCB5OiBudW1iZXIpOiBudW1iZXIgfSwgdGhpc0FyZzogVmFsdWU8VmFsdWVUeXBlcz4sIGFyZ3M6IFZhbHVlPFZhbHVlVHlwZXM+W10pOiBWYWx1ZTxudW1iZXI+IHtcbiAgICBsZXQgeCA9IGFyZ3NbMF0gPyBUb051bWJlcihhcmdzWzBdKSA6IG5ldyBWYWx1ZShOYU4sIGJvdCk7XG4gICAgbGV0IHkgPSBhcmdzWzFdID8gVG9OdW1iZXIoYXJnc1sxXSkgOiBuZXcgVmFsdWUoTmFOLCBib3QpO1xuICAgIHJldHVybiBuZXcgVmFsdWUodGhpcy5ob3N0KHgudmFsdWUsIHkudmFsdWUpLCBsdWIoeC5sYWJlbCwgeS5sYWJlbCkpO1xufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIGNlaWwsIDE1LjguMi42XG5mdW5jdGlvbiBjZWlsKHRoaXM6IHsgaG9zdCh4OiBudW1iZXIpOiBudW1iZXIgfSwgdGhpc0FyZzogVmFsdWU8VmFsdWVUeXBlcz4sIGFyZ3M6IFZhbHVlPFZhbHVlVHlwZXM+W10pOiBWYWx1ZTxudW1iZXI+IHtcbiAgICBsZXQgeCA9IGFyZ3NbMF0gPyBUb051bWJlcihhcmdzWzBdKSA6IG5ldyBWYWx1ZShOYU4sIGJvdCk7XG4gICAgcmV0dXJuIG5ldyBWYWx1ZSh0aGlzLmhvc3QoeC52YWx1ZSksIHgubGFiZWwpO1xufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIGNvcywgMTUuOC4yLjdcbmZ1bmN0aW9uIGNvcyh0aGlzOiB7IGhvc3QoeDogbnVtYmVyKTogbnVtYmVyIH0sIHRoaXNBcmc6IFZhbHVlPFZhbHVlVHlwZXM+LCBhcmdzOiBWYWx1ZTxWYWx1ZVR5cGVzPltdKTogVmFsdWU8bnVtYmVyPiB7XG4gICAgbGV0IHggPSBhcmdzWzBdID8gVG9OdW1iZXIoYXJnc1swXSkgOiBuZXcgVmFsdWUoTmFOLCBib3QpO1xuICAgIHJldHVybiBuZXcgVmFsdWUodGhpcy5ob3N0KHgudmFsdWUpLCB4LmxhYmVsKTtcbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBleHAsIDE1LjguMi44XG5mdW5jdGlvbiBleHAodGhpczogeyBob3N0KHg6IG51bWJlcik6IG51bWJlciB9LCB0aGlzQXJnOiBWYWx1ZTxWYWx1ZVR5cGVzPiwgYXJnczogVmFsdWU8VmFsdWVUeXBlcz5bXSk6IFZhbHVlPG51bWJlcj4ge1xuICAgIGxldCB4ID0gYXJnc1swXSA/IFRvTnVtYmVyKGFyZ3NbMF0pIDogbmV3IFZhbHVlKE5hTiwgYm90KTtcbiAgICByZXR1cm4gbmV3IFZhbHVlKHRoaXMuaG9zdCh4LnZhbHVlKSwgeC5sYWJlbCk7XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gZmxvb3IsIDE1LjguMi45XG5mdW5jdGlvbiBmbG9vcih0aGlzOiB7IGhvc3QoeDogbnVtYmVyKTogbnVtYmVyIH0sIHRoaXNBcmc6IFZhbHVlPFZhbHVlVHlwZXM+LCBhcmdzOiBWYWx1ZTxWYWx1ZVR5cGVzPltdKTogVmFsdWU8bnVtYmVyPiB7XG4gICAgbGV0IHggPSBhcmdzWzBdID8gVG9OdW1iZXIoYXJnc1swXSkgOiBuZXcgVmFsdWUoTmFOLCBib3QpO1xuICAgIHJldHVybiBuZXcgVmFsdWUodGhpcy5ob3N0KHgudmFsdWUpLCB4LmxhYmVsKTtcbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBsb2csIDE1LjguMi4xMFxuZnVuY3Rpb24gbG9nKHRoaXM6IHsgaG9zdCh4OiBudW1iZXIpOiBudW1iZXIgfSwgdGhpc0FyZzogVmFsdWU8VmFsdWVUeXBlcz4sIGFyZ3M6IFZhbHVlPFZhbHVlVHlwZXM+W10pOiBWYWx1ZTxudW1iZXI+IHtcbiAgICBsZXQgeCA9IGFyZ3NbMF0gPyBUb051bWJlcihhcmdzWzBdKSA6IG5ldyBWYWx1ZShOYU4sIGJvdCk7XG4gICAgcmV0dXJuIG5ldyBWYWx1ZSh0aGlzLmhvc3QoeC52YWx1ZSksIHgubGFiZWwpO1xufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIG1heCwgMTUuOC4yLjExXG5mdW5jdGlvbiBtYXgodGhpczogeyBob3N0KC4uLnZhbHVlczogbnVtYmVyW10pOiBudW1iZXIgfSwgdGhpc0FyZzogVmFsdWU8VmFsdWVUeXBlcz4sIGFyZ3M6IFZhbHVlPFZhbHVlVHlwZXM+W10pOiBWYWx1ZTxudW1iZXI+IHtcbiAgICBpZiAoYXJncy5sZW5ndGggPT09IDApIHJldHVybiBuZXcgVmFsdWUoTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZLCBib3QpO1xuICAgIGxldCBteUFyZ3M6IGFueVtdID0gW107XG4gICAgbGV0IGwgPSBib3Q7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIG15QXJnc1tpXSA9IGFyZ3NbaV0udmFsdWU7XG4gICAgICAgIGwgPSBsdWIobCwgYXJnc1tpXS5sYWJlbCk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgVmFsdWUodGhpcy5ob3N0LmFwcGx5KG51bGwsIG15QXJncyksIGwpO1xufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIG1pbiwgMTUuOC4yLjEyXG5mdW5jdGlvbiBtaW4odGhpczogeyBob3N0KC4uLnZhbHVlczogbnVtYmVyW10pOiBudW1iZXIgfSwgdGhpc0FyZzogVmFsdWU8VmFsdWVUeXBlcz4sIGFyZ3M6IFZhbHVlPFZhbHVlVHlwZXM+W10pOiBWYWx1ZTxudW1iZXI+IHtcbiAgICBpZiAoYXJncy5sZW5ndGggPT09IDApIHJldHVybiBuZXcgVmFsdWUoTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLCBib3QpO1xuICAgIGxldCBteUFyZ3M6IGFueVtdID0gW107XG4gICAgbGV0IGwgPSBib3Q7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIG15QXJnc1tpXSA9IGFyZ3NbaV0udmFsdWU7XG4gICAgICAgIGwgPSBsdWIobCwgYXJnc1tpXS5sYWJlbCk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgVmFsdWUodGhpcy5ob3N0LmFwcGx5KG51bGwsIG15QXJncyksIGwpO1xufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIHBvdywgMTUuOC4yLjEzXG5mdW5jdGlvbiBwb3codGhpcyA6IHsgaG9zdCh4OiBudW1iZXIsIHkgOm51bWJlcikgOiBudW1iZXIgfSx0aGlzQXJnOiBWYWx1ZTxWYWx1ZVR5cGVzPiwgYXJnczogVmFsdWU8VmFsdWVUeXBlcz5bXSk6IFZhbHVlPG51bWJlcj4ge1xuICAgIGxldCB4ID0gYXJnc1swXSA/IFRvTnVtYmVyKGFyZ3NbMF0pIDogbmV3IFZhbHVlKE5hTiwgYm90KTtcbiAgICBsZXQgeSA9IGFyZ3NbMV0gPyBUb051bWJlcihhcmdzWzFdKSA6IG5ldyBWYWx1ZShOYU4sIGJvdCk7XG4gICAgcmV0dXJuIG5ldyBWYWx1ZSh0aGlzLmhvc3QoeC52YWx1ZSwgeS52YWx1ZSksIGx1Yih4LmxhYmVsLCB5LmxhYmVsKSk7XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gcmFuZG9tLCAxNS44LjIuMTRcbmZ1bmN0aW9uIHJhbmRvbSh0aGlzIDogeyBob3N0KCkgOiBudW1iZXIgfSx0aGlzQXJnOiBWYWx1ZTxWYWx1ZVR5cGVzPiwgYXJnczogVmFsdWU8VmFsdWVUeXBlcz5bXSk6IFZhbHVlPG51bWJlcj4ge1xuICAgIHJldHVybiBuZXcgVmFsdWUodGhpcy5ob3N0KCksIGJvdCk7XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gcm91bmQsIDE1LjguMi4xNVxuZnVuY3Rpb24gcm91bmQodGhpcyA6IHsgaG9zdCh4OiBudW1iZXIpIDogbnVtYmVyIH0sdGhpc0FyZzogVmFsdWU8VmFsdWVUeXBlcz4sIGFyZ3M6IFZhbHVlPFZhbHVlVHlwZXM+W10pOiBWYWx1ZTxudW1iZXI+IHtcbiAgICBsZXQgeCA9IGFyZ3NbMF0gPyBUb051bWJlcihhcmdzWzBdKSA6IG5ldyBWYWx1ZShOYU4sIGJvdCk7XG4gICAgcmV0dXJuIG5ldyBWYWx1ZSh0aGlzLmhvc3QoeC52YWx1ZSksIHgubGFiZWwpO1xufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIHNpbiwgMTUuOC4yLjE2XG5mdW5jdGlvbiBzaW4odGhpcyA6IHsgaG9zdCh4OiBudW1iZXIpIDogbnVtYmVyIH0sdGhpc0FyZzogVmFsdWU8VmFsdWVUeXBlcz4sIGFyZ3M6IFZhbHVlPFZhbHVlVHlwZXM+W10pOiBWYWx1ZTxudW1iZXI+IHtcbiAgICBsZXQgeCA9IGFyZ3NbMF0gPyBUb051bWJlcihhcmdzWzBdKSA6IG5ldyBWYWx1ZShOYU4sIGJvdCk7XG4gICAgcmV0dXJuIG5ldyBWYWx1ZSh0aGlzLmhvc3QoeC52YWx1ZSksIHgubGFiZWwpO1xufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIHNxcnQsIDE1LjguMi4xN1xuZnVuY3Rpb24gc3FydCh0aGlzIDogeyBob3N0KHg6IG51bWJlcikgOiBudW1iZXIgfSx0aGlzQXJnOiBWYWx1ZTxWYWx1ZVR5cGVzPiwgYXJnczogVmFsdWU8VmFsdWVUeXBlcz5bXSk6IFZhbHVlPG51bWJlcj4ge1xuICAgIGxldCB4ID0gYXJnc1swXSA/IFRvTnVtYmVyKGFyZ3NbMF0pIDogbmV3IFZhbHVlKE5hTiwgYm90KTtcbiAgICByZXR1cm4gbmV3IFZhbHVlKHRoaXMuaG9zdCh4LnZhbHVlKSwgeC5sYWJlbCk7XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gdGFuLCAxNS44LjIuMThcbmZ1bmN0aW9uIHRhbih0aGlzIDogeyBob3N0KHg6IG51bWJlcikgOiBudW1iZXIgfSx0aGlzQXJnOiBWYWx1ZTxWYWx1ZVR5cGVzPiwgYXJnczogVmFsdWU8VmFsdWVUeXBlcz5bXSk6IFZhbHVlPFZhbHVlVHlwZXM+IHtcbiAgICBsZXQgeCA9IGFyZ3NbMF0gPyBUb051bWJlcihhcmdzWzBdKSA6IG5ldyBWYWx1ZShOYU4sIGJvdCk7XG4gICAgcmV0dXJuIG5ldyBWYWx1ZSh0aGlzLmhvc3QoeC52YWx1ZSksIHgubGFiZWwpO1xufSIsImltcG9ydCB7IFZhbHVlIH0gZnJvbSBcIi4uL1ZhbHVlXCI7XG5pbXBvcnQgeyBFY21hT2JqZWN0IH0gZnJvbSAnLi4vT2JqZWN0cy9FY21hT2JqZWN0JztcbmltcG9ydCAqIGFzIGNvbnN0YW50cyBmcm9tICcuLi9Db25zdGFudHMnO1xuaW1wb3J0IHsgVG9TdHJpbmcgfSBmcm9tICcuLi9Db252ZXJzaW9uL1RvU3RyaW5nJztcbmltcG9ydCB7IGJvdCB9IGZyb20gJy4uL0xhYmVsJztcbmltcG9ydCB7IE1vbml0b3JCYXNlIH0gZnJvbSAnLi4vTW9uaXRvckJhc2UnO1xuaW1wb3J0IHsgU3RhY2tUcmFjZSB9IGZyb20gXCIuLi9TdGFja1RyYWNlXCI7XG5pbXBvcnQgeyBWYWx1ZVR5cGVzIH0gZnJvbSBcIi4uL0ludGVyZmFjZXNcIjtcblxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZGVjbGFyZSB2YXIgbW9uaXRvcjogTW9uaXRvckJhc2U7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgTmF0aXZlRXJyb3JPYmplY3QgZXh0ZW5kcyBFY21hT2JqZWN0IHtcblxuICAgIGFic3RyYWN0IFR5cGU6IHN0cmluZztcbiAgICBtZXNzYWdlOiBzdHJpbmc7XG4gICAgc3RhY2s6IFN0YWNrVHJhY2U7XG4gICAgbmF0aXZlU3RhY2sgOiBzdHJpbmc7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcm90bzogRWNtYU9iamVjdCwgdjogVmFsdWU8VmFsdWVUeXBlcz4pIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5Qcm90b3R5cGUgPSBuZXcgVmFsdWUocHJvdG8sIGJvdCk7XG4gICAgICAgIHRoaXMuQ2xhc3MgPSAnRXJyb3InO1xuICAgICAgICB0aGlzLkV4dGVuc2libGUgPSB0cnVlO1xuXG4gICAgICAgIGxldCBtZXNzYWdlID0gbmV3IFZhbHVlKFwiXCIsIGJvdCk7XG5cbiAgICAgICAgaWYgKHYudmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbWVzc2FnZSA9IFRvU3RyaW5nKHYpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5EZWZpbmVPd25Qcm9wZXJ0eShcbiAgICAgICAgICAgIGNvbnN0YW50cy5tZXNzYWdlLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZhbHVlOiBtZXNzYWdlLnZhbHVlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBtZXNzYWdlLmxhYmVsLFxuICAgICAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgICAgICAgfVxuICAgICAgICApO1xuXG4gICAgICAgIC8vIGZvciB0b1N0cmluZ1xuICAgICAgICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlLnZhbHVlO1xuICAgICAgICB0aGlzLnN0YWNrID0gbW9uaXRvci5zdGFja1RyYWNlKCk7XG4gICAgICAgIHRoaXMubmF0aXZlU3RhY2sgPSBFcnJvcigpLnN0YWNrO1xuICAgIH1cblxuICAgIHRvU3RyaW5nKCk6IHN0cmluZyB7XG4gICAgICAgIGxldCBzdHIgPSB0aGlzLlR5cGUgKyAnOiAnICsgdGhpcy5tZXNzYWdlICsgJ1xcbicgKyB0aGlzLnN0YWNrLnRvU3RyaW5nKCkgKyAnXFxuJyArIHRoaXMubmF0aXZlU3RhY2s7XG4gICAgICAgIHJldHVybiBzdHI7XG4gICAgfVxufSIsIlxuaW1wb3J0IHsgTGFiZWwsIGJvdCB9IGZyb20gJy4uL0xhYmVsJztcbmltcG9ydCB7IFZhbHVlIH0gZnJvbSBcIi4uL1ZhbHVlXCI7XG5pbXBvcnQgeyBFY21hT2JqZWN0IH0gZnJvbSAnLi4vT2JqZWN0cy9FY21hT2JqZWN0JztcblxuaW1wb3J0IHsgTW9uaXRvckJhc2UgfSBmcm9tICcuLi9Nb25pdG9yQmFzZSc7XG5cbmRlY2xhcmUgdmFyIG1vbml0b3I6IE1vbml0b3JCYXNlO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIE51bWJlciBPYmplY3QsIDE1LjcuNVxuXG5leHBvcnQgY2xhc3MgTnVtYmVyT2JqZWN0IGV4dGVuZHMgRWNtYU9iamVjdCB7XG5cbiAgICBQcmltaXRpdmVWYWx1ZTogTnVtYmVyO1xuICAgIFByaW1pdGl2ZUxhYmVsOiBMYWJlbDtcblxuICAgIGNvbnN0cnVjdG9yKHZhbCA6IGFueSwgbGJsIDogTGFiZWwpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5DbGFzcyA9ICdOdW1iZXInO1xuICAgICAgICB0aGlzLlByaW1pdGl2ZVZhbHVlID0gbmV3IG1vbml0b3IuaW5zdGFuY2VzLk51bWJlckNvbnN0cnVjdG9yLmhvc3QodmFsKTtcbiAgICAgICAgdGhpcy5QcmltaXRpdmVMYWJlbCA9IGxibDtcbiAgICAgICAgdGhpcy5FeHRlbnNpYmxlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5Qcm90b3R5cGUgPSBuZXcgVmFsdWUobW9uaXRvci5pbnN0YW5jZXMuTnVtYmVyUHJvdG90eXBlLCBib3QpO1xuICAgIH1cbn1cblxuLy8gLS0tXG5cbmV4cG9ydCBmdW5jdGlvbiBJc051bWJlck9iamVjdCh4IDogVmFsdWU8YW55PikgOiB4IGlzIFZhbHVlPE51bWJlck9iamVjdD4ge1xuICAgIHJldHVybiB0eXBlb2YgeC52YWx1ZSA9PT0gJ29iamVjdCcgJiYgeC52YWx1ZSAhPT0gbnVsbCAmJiB4LnZhbHVlLkNsYXNzID09PSAnTnVtYmVyJztcbn0iLCJpbXBvcnQgeyBib3QgfSBmcm9tICcuLi9MYWJlbCc7XG5pbXBvcnQgeyBWYWx1ZSB9IGZyb20gXCIuLi9WYWx1ZVwiO1xuaW1wb3J0IHsgRWNtYU9iamVjdCB9IGZyb20gJy4uL09iamVjdHMvRWNtYU9iamVjdCc7XG5pbXBvcnQgeyBNb25pdG9yQmFzZSB9IGZyb20gJy4uL01vbml0b3JCYXNlJztcblxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZGVjbGFyZSB2YXIgbW9uaXRvcjogTW9uaXRvckJhc2U7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gT2JqZWN0IG9iamVjdHMsIDE1LjIuMi4xXG5cbmV4cG9ydCBjbGFzcyBPYmplY3RPYmplY3QgZXh0ZW5kcyBFY21hT2JqZWN0IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgIHN1cGVyKCk7XG4gIFxuICAgICAgdGhpcy5Qcm90b3R5cGUgPSBuZXcgVmFsdWUobW9uaXRvci5pbnN0YW5jZXMuT2JqZWN0UHJvdG90eXBlLCBib3QpO1xuICAgICAgdGhpcy5DbGFzcyA9ICdPYmplY3QnO1xuICAgICAgdGhpcy5FeHRlbnNpYmxlID0gdHJ1ZTtcbiAgXG4gICAgICAvLyB0aGlzLmhvc3QgICAgICA9IHt9O1xuICAgIH1cbiAgfVxuICBcbiAgLy8gLS0tXG4gIFxuICBPYmplY3RPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgIGxldCBwcm9wZXJ0aWVzIDogc3RyaW5nW10gPSBbXTtcbiAgICBmb3IgKGxldCB4IGluIHRoaXMucHJvcGVydGllcykge1xuICAgICAgaWYgKHRoaXMucHJvcGVydGllcy5oYXNPd25Qcm9wZXJ0eSh4KSkge1xuICAgICAgICBwcm9wZXJ0aWVzLnB1c2goeCArICc6ICcgKyB0aGlzLnByb3BlcnRpZXNbeF0pO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gJ3snICsgcHJvcGVydGllcy5qb2luKCcsICcpICsgJ30nO1xuICB9O1xuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgIiwiaW1wb3J0IHsgTW9uaXRvckJhc2UgfSBmcm9tICcuLi9Nb25pdG9yQmFzZSc7XG5cbmltcG9ydCB7IE5hdGl2ZUVycm9yT2JqZWN0IH0gZnJvbSAnLi9OYXRpdmVFcnJvck9iamVjdCc7XG5pbXBvcnQgeyBWYWx1ZSB9IGZyb20gJy4uL1ZhbHVlJztcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmRlY2xhcmUgdmFyIG1vbml0b3I6IE1vbml0b3JCYXNlO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZXhwb3J0IGNsYXNzIFJhbmdlRXJyb3JPYmplY3QgZXh0ZW5kcyBOYXRpdmVFcnJvck9iamVjdCB7XG4gICAgVHlwZSA9ICdSYW5nZUVycm9yJztcbiAgICBcbiAgICBjb25zdHJ1Y3Rvcih2IDogVmFsdWU8c3RyaW5nPikge1xuICAgICAgICBzdXBlcihtb25pdG9yLmluc3RhbmNlcy5SYW5nZUVycm9yUHJvdG90eXBlLCB2KTtcbiAgICB9XG59IiwiaW1wb3J0IHsgTW9uaXRvckJhc2UgfSBmcm9tICcuLi9Nb25pdG9yQmFzZSc7XG5cbmltcG9ydCB7IE5hdGl2ZUVycm9yT2JqZWN0IH0gZnJvbSAnLi9OYXRpdmVFcnJvck9iamVjdCc7XG5pbXBvcnQgeyBWYWx1ZSB9IGZyb20gJy4uL1ZhbHVlJztcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmRlY2xhcmUgdmFyIG1vbml0b3I6IE1vbml0b3JCYXNlO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZXhwb3J0IGNsYXNzIFJlZmVyZW5jZUVycm9yT2JqZWN0IGV4dGVuZHMgTmF0aXZlRXJyb3JPYmplY3Qge1xuICAgIFR5cGUgPSAnUmVmZXJlbmNlRXJyb3InO1xuXG4gICAgY29uc3RydWN0b3IodiA6IFZhbHVlPHN0cmluZz4pIHtcbiAgICAgICAgc3VwZXIobW9uaXRvci5pbnN0YW5jZXMuUmVmZXJlbmNlRXJyb3JQcm90b3R5cGUsIHYpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFZhbHVlIH0gZnJvbSBcIi4uL1ZhbHVlXCI7XG5pbXBvcnQgKiBhcyBjb25zdGFudHMgZnJvbSAnLi4vQ29uc3RhbnRzJztcbmltcG9ydCAqIGFzIF8gZnJvbSAndW5kZXJzY29yZSc7XG5pbXBvcnQgeyBNb25pdG9yQmFzZSB9IGZyb20gJy4uL01vbml0b3JCYXNlJztcblxuaW1wb3J0IHsgYm90LCBMYWJlbCB9IGZyb20gJy4uL0xhYmVsJztcbmltcG9ydCB7IEVjbWFPYmplY3QgfSBmcm9tICcuLi9PYmplY3RzL0VjbWFPYmplY3QnO1xuXG5kZWNsYXJlIHZhciBtb25pdG9yOiBNb25pdG9yQmFzZTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBSZWdFeHAgT2JqZWN0LCAxNS4xMC40LjFcblxuZXhwb3J0IGNsYXNzIFJlZ0V4cE9iamVjdCBleHRlbmRzIEVjbWFPYmplY3Qge1xuXG4gICAgUHJpbWl0aXZlVmFsdWU6IFJlZ0V4cDtcbiAgICBQcmltaXRpdmVMYWJlbDogTGFiZWw7XG5cbiAgICBjb25zdHJ1Y3RvcihuYXRpdmVSZWdFeHA6IFJlZ0V4cCwgbDogTGFiZWwpIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICB0aGlzLkNsYXNzID0gJ1JlZ0V4cCc7XG4gICAgICAgIHRoaXMuUHJpbWl0aXZlVmFsdWUgPSBuYXRpdmVSZWdFeHA7XG4gICAgICAgIHRoaXMuUHJpbWl0aXZlTGFiZWwgPSBsO1xuXG4gICAgICAgIHRoaXMuRXh0ZW5zaWJsZSA9IHRydWU7XG4gICAgICAgIHRoaXMuUHJvdG90eXBlID0gbmV3IFZhbHVlKG1vbml0b3IuaW5zdGFuY2VzLlJlZ0V4cFByb3RvdHlwZSwgYm90KTtcblxuICAgICAgICB0aGlzLkRlZmluZU93blByb3BlcnR5KGNvbnN0YW50cy5zb3VyY2UsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMuUHJpbWl0aXZlVmFsdWUuc291cmNlLFxuICAgICAgICAgICAgICAgIHdyaXRhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBsXG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG5cbiAgICAgICAgdGhpcy5EZWZpbmVPd25Qcm9wZXJ0eShjb25zdGFudHMuZ2xvYmFsLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZhbHVlOiB0aGlzLlByaW1pdGl2ZVZhbHVlLmdsb2JhbCxcbiAgICAgICAgICAgICAgICB3cml0YWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBsYWJlbDogbFxuICAgICAgICAgICAgfVxuICAgICAgICApO1xuXG4gICAgICAgIHRoaXMuRGVmaW5lT3duUHJvcGVydHkoY29uc3RhbnRzLmlnbm9yZUNhc2UsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMuUHJpbWl0aXZlVmFsdWUuaWdub3JlQ2FzZSxcbiAgICAgICAgICAgICAgICB3cml0YWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBsYWJlbDogbFxuICAgICAgICAgICAgfVxuICAgICAgICApO1xuXG4gICAgICAgIHRoaXMuRGVmaW5lT3duUHJvcGVydHkoY29uc3RhbnRzLm11bHRpbGluZSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogdGhpcy5QcmltaXRpdmVWYWx1ZS5tdWx0aWxpbmUsXG4gICAgICAgICAgICAgICAgd3JpdGFibGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgbGFiZWw6IGxcbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcblxuICAgICAgICB0aGlzLkRlZmluZU93blByb3BlcnR5KGNvbnN0YW50cy5sYXN0SW5kZXgsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMuUHJpbWl0aXZlVmFsdWUubGFzdEluZGV4LFxuICAgICAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgbGFiZWw6IGxcbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcblxuXG4gICAgfVxuXG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIHZhciB2ID0gdGhpcy5QcmltaXRpdmVWYWx1ZS50b1N0cmluZygpO1xuICAgICAgICByZXR1cm4gdjtcbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBJc1JlZ0V4cE9iamVjdCh4OiBWYWx1ZTxhbnk+KTogeCBpcyBWYWx1ZTxSZWdFeHBPYmplY3Q+IHtcbiAgICByZXR1cm4gdHlwZW9mIHgudmFsdWUgPT09ICdvYmplY3QnICYmIHgudmFsdWUgIT09IG51bGwgJiYgeC52YWx1ZSAhPT0gdW5kZWZpbmVkICYmIHgudmFsdWUuQ2xhc3MgPT09ICdSZWdFeHAnO1xufSIsIlxuaW1wb3J0IHsgVmFsdWUgfSBmcm9tIFwiLi4vVmFsdWVcIjtcbmltcG9ydCB7IE1vbml0b3JCYXNlIH0gZnJvbSAnLi4vTW9uaXRvckJhc2UnO1xuXG5pbXBvcnQgeyBFY21hT2JqZWN0IH0gZnJvbSAnLi4vT2JqZWN0cy9FY21hT2JqZWN0JztcbmltcG9ydCB7IGJvdCwgTGFiZWwgfSBmcm9tICcuLi9MYWJlbCc7XG5pbXBvcnQgeyBWYWx1ZVR5cGVzIH0gZnJvbSBcIi4uL0ludGVyZmFjZXNcIjtcblxuZGVjbGFyZSB2YXIgbW9uaXRvcjogTW9uaXRvckJhc2U7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gU3RyaW5nIE9iamVjdCwgMTUuNS41XG5cbmV4cG9ydCBjbGFzcyBTdHJpbmdPYmplY3QgZXh0ZW5kcyBFY21hT2JqZWN0IHtcblxuICAgIFByaW1pdGl2ZVZhbHVlOiBzdHJpbmc7XG4gICAgUHJpbWl0aXZlTGFiZWw6IExhYmVsO1xuXG4gICAgY29uc3RydWN0b3IodmFsIDogc3RyaW5nLCBsYmw/OiBMYWJlbCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLkNsYXNzID0gJ1N0cmluZyc7XG4gICAgICAgIHRoaXMuUHJpbWl0aXZlVmFsdWUgPSB2YWw7XG5cbiAgICAgICAgbGJsID0gbGJsIHx8IGJvdDtcbiAgICAgICAgdGhpcy5QcmltaXRpdmVMYWJlbCA9IGxibDtcblxuICAgICAgICAvLyBUT0RPOiBob3cgdG8gc29sdmUgdGhpcyB0byB3b3JrIHdpdGggRWNtYU9iamVjdCBwcm9wZXJseVxuICAgICAgICAvL0B0cy1pZ25vcmUgVFlQRVNcbiAgICAgICAgdGhpcy5wcm9wZXJ0aWVzID0gbmV3IFN0cmluZyh2YWwpO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gdmFsLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmxhYmVsc1tpXSA9IHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogbGJsLFxuICAgICAgICAgICAgICAgIGV4aXN0ZW5jZTogbGJsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5sYWJlbHMubGVuZ3RoID0ge1xuICAgICAgICAgICAgdmFsdWU6IGxibCxcbiAgICAgICAgICAgIGV4aXN0ZW5jZTogbGJsXG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5FeHRlbnNpYmxlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5Qcm90b3R5cGUgPSBuZXcgVmFsdWUobW9uaXRvci5pbnN0YW5jZXMuU3RyaW5nUHJvdG90eXBlLCBib3QpO1xuXG4gICAgICAgIC8vIGxlbmd0aCBpcyBub3QgbW9kZWxlZCBpbiB0aGlzIHdheSwgYnV0IGJ5IEdldE93blByb3BlcnR5OyBob3dldmVyLCBlLmcuLFxuICAgICAgICAvLyBkZWxldGUgd2lsbCB1c2UgdGhlIHByb3BlcnRpZXMgZmllbGQgZm9yIGRlbGV0aW9uLiBUaHVzLCB3ZSBhZGQgYSBmYWtlIG1vZGVsLlxuICAgICAgICAvLyAgIGVjbWEuRGVmaW5lRkZGKHRoaXMsIGNvbnN0YW50cy5sZW5ndGgsIDApO1xuXG4gICAgfVxufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiBJc1N0cmluZ09iamVjdCh4IDogVmFsdWU8YW55PikgOiB4IGlzIFZhbHVlPFN0cmluZ09iamVjdD4ge1xuICAgIHJldHVybiB0eXBlb2YgeC52YWx1ZSA9PT0gJ29iamVjdCcgJiYgeC52YWx1ZSAhPT0gbnVsbCAmJiB4LnZhbHVlLkNsYXNzID09PSAnU3RyaW5nJztcbn0iLCJpbXBvcnQgeyBNb25pdG9yQmFzZSB9IGZyb20gJy4uL01vbml0b3JCYXNlJztcblxuaW1wb3J0IHsgTmF0aXZlRXJyb3JPYmplY3QgfSBmcm9tICcuL05hdGl2ZUVycm9yT2JqZWN0JztcbmltcG9ydCB7IFZhbHVlIH0gZnJvbSAnLi4vVmFsdWUnO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZGVjbGFyZSB2YXIgbW9uaXRvcjogTW9uaXRvckJhc2U7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5leHBvcnQgY2xhc3MgU3ludGF4RXJyb3JPYmplY3QgZXh0ZW5kcyBOYXRpdmVFcnJvck9iamVjdCB7XG4gICAgVHlwZSA9ICdTeW50YXhFcnJvcic7XG5cbiAgICBjb25zdHJ1Y3Rvcih2IDogVmFsdWU8c3RyaW5nPikge1xuICAgICAgICBzdXBlcihtb25pdG9yLmluc3RhbmNlcy5TeW50YXhFcnJvclByb3RvdHlwZSwgdik7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgTW9uaXRvckJhc2UgfSBmcm9tICcuLi9Nb25pdG9yQmFzZSc7XG5cbmltcG9ydCB7IE5hdGl2ZUVycm9yT2JqZWN0IH0gZnJvbSAnLi9OYXRpdmVFcnJvck9iamVjdCc7XG5pbXBvcnQgeyBWYWx1ZSB9IGZyb20gJy4uL1ZhbHVlJztcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmRlY2xhcmUgdmFyIG1vbml0b3I6IE1vbml0b3JCYXNlO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZXhwb3J0IGNsYXNzIFR5cGVFcnJvck9iamVjdCBleHRlbmRzIE5hdGl2ZUVycm9yT2JqZWN0IHtcbiAgICBUeXBlID0gJ1R5cGVFcnJvcic7XG5cbiAgICBjb25zdHJ1Y3Rvcih2IDogVmFsdWU8c3RyaW5nPikge1xuICAgICAgICBzdXBlcihtb25pdG9yLmluc3RhbmNlcy5UeXBlRXJyb3JQcm90b3R5cGUsIHYpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IE1vbml0b3JCYXNlIH0gZnJvbSAnLi4vTW9uaXRvckJhc2UnO1xuXG5pbXBvcnQgeyBOYXRpdmVFcnJvck9iamVjdCB9IGZyb20gJy4vTmF0aXZlRXJyb3JPYmplY3QnO1xuaW1wb3J0IHsgVmFsdWUgfSBmcm9tICcuLi9WYWx1ZSc7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5kZWNsYXJlIHZhciBtb25pdG9yOiBNb25pdG9yQmFzZTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmV4cG9ydCBjbGFzcyBVUklFcnJvck9iamVjdCBleHRlbmRzIE5hdGl2ZUVycm9yT2JqZWN0IHtcbiAgICBUeXBlID0gJ1VSSUVycm9yJztcblxuICAgIGNvbnN0cnVjdG9yKHYgOiBWYWx1ZTxzdHJpbmc+KSB7XG4gICAgICAgIHN1cGVyKG1vbml0b3IuaW5zdGFuY2VzLlVSSUVycm9yUHJvdG90eXBlLCB2KTtcbiAgICB9XG59XG5cbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXNcbiAqIGZpbGUsIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCB7IE1vbml0b3JCYXNlIH0gZnJvbSBcIi4vTW9uaXRvckJhc2VcIjtcblxuIC8vIC0tLSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5kZWNsYXJlIHZhciBtb25pdG9yOiBNb25pdG9yQmFzZTtcblxuLy8gLS0tIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cblxuZXhwb3J0IHR5cGUgT3B0aW9uVHlwZSA9ICdzdHJpbmcnIHwgJ2Jvb2xlYW4nIHwgJ251bWJlcic7XG5cbiBjbGFzcyBPcHRpb24ge1xuXG4gIHR5cGUgOiBPcHRpb25UeXBlO1xuICBkZWYgOiBzdHJpbmcgfCBib29sZWFuIHwgbnVtYmVyO1xuICB2YWx1ZSA6IHN0cmluZyB8IGJvb2xlYW4gfCBudW1iZXI7XG4gIGRlc2NyaXB0aW9uIDogc3RyaW5nO1xuXG5cbiAgY29uc3RydWN0b3IodHlwZSA6IE9wdGlvblR5cGUsIHZhbCA6IHN0cmluZyB8IGJvb2xlYW4gfCBudW1iZXIsIGRlc2MgOiBzdHJpbmcpIHtcblxuICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgdGhpcy5zZXQodmFsKTtcbiAgICB0aGlzLmRlZiA9IHRoaXMudmFsdWU7XG5cbiAgICB0aGlzLmRlc2NyaXB0aW9uID0gZGVzYztcbiAgfVxuXG4gIHNldCh2YWwgOiBzdHJpbmcgfCBib29sZWFuIHwgbnVtYmVyKSA6IHZvaWQge1xuXG4gICAgdmFyIHYgPSBTdHJpbmcodmFsKTtcblxuICAgIGlmICh0aGlzLnR5cGUgPT09ICdzdHJpbmcnKSB7XG5cbiAgICAgIHRoaXMudmFsdWUgPSB2O1xuXG4gICAgfSBlbHNlIGlmICh0aGlzLnR5cGUgPT09ICdib29sZWFuJykge1xuXG4gICAgICB0aGlzLnZhbHVlID0gdiA9PT0gJ3RydWUnIHx8IHYgPT09ICcxJztcblxuICAgIH0gZWxzZSBpZiAodGhpcy50eXBlID09PSAnbnVtYmVyJykge1xuXG4gICAgICB0aGlzLnZhbHVlID0gTnVtYmVyKHYpO1xuXG4gICAgfVxuICB9XG5cbiAgZ2V0RGVmYXVsdCgpIDogc3RyaW5nIHwgYm9vbGVhbiB8IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuZGVmO1xuICB9XG5cbiAgdmFsdWVPZigpIDogc3RyaW5nIHwgYm9vbGVhbiB8IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMudmFsdWU7XG4gIH1cblxuICB0b1N0cmluZygpIDogc3RyaW5nIHtcbiAgICByZXR1cm4gU3RyaW5nKHRoaXMudmFsdWUpO1xuICB9XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIE9wdGlvbnNcblxuZXhwb3J0IGNsYXNzIE9wdGlvbnMge1xuXG4gIG9wdGlvbnMgOiB7XG4gICAgW2tleTpzdHJpbmddIDogT3B0aW9uIHwgdW5kZWZpbmVkXG4gIH1cblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLm9wdGlvbnMgPSB7fTtcbiAgfVxuXG4gIGRlY2xhcmUobmFtZSA6IHN0cmluZywgdHlwZSA6IE9wdGlvblR5cGUsIGRlZiA6IHN0cmluZyB8IGJvb2xlYW4gfCBudW1iZXIsIGRlc2MgOiBzdHJpbmcpIHtcbiAgICB2YXIgZGVzY3JpcHRpb24gPSBkZXNjID8gZGVzYyA6IG5hbWU7XG4gICAgdGhpcy5vcHRpb25zW25hbWVdID0gbmV3IE9wdGlvbih0eXBlLCBkZWYsIGRlc2NyaXB0aW9uKTtcbiAgfVxuXG4gIGhhcyhuYW1lIDogc3RyaW5nKSA6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLm9wdGlvbnNbbmFtZV0gIT09IHVuZGVmaW5lZDtcbiAgfVxuXG4gIGdldChuYW1lIDogc3RyaW5nKSA6IHN0cmluZyB8IGJvb2xlYW4gfCBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLm9wdGlvbnNbbmFtZV0udmFsdWVPZigpO1xuICB9XG5cbiAgZ2V0T3B0aW9uKG5hbWUgOiBzdHJpbmcpIDogT3B0aW9uIHtcbiAgICByZXR1cm4gdGhpcy5vcHRpb25zW25hbWVdO1xuICB9XG5cbiAgc2V0KG5hbWUgOiBzdHJpbmcsIHZhbHVlIDogc3RyaW5nIHwgYm9vbGVhbiB8IG51bWJlcikge1xuICAgIHRoaXMub3B0aW9uc1tuYW1lXS5zZXQodmFsdWUpO1xuICB9XG5cbiAga2V5cygpIDogQXJyYXk8c3RyaW5nPiB7XG4gICAgdmFyIHJlcyA9IFtdO1xuXG4gICAgZm9yICh2YXIgeCBpbiB0aGlzLm9wdGlvbnMpIHtcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuaGFzT3duUHJvcGVydHkoeCkpIHtcbiAgICAgICAgcmVzLnB1c2goeCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXM7XG4gIH1cblxuICByZXBvcnQoKSA6IHZvaWQge1xuICAgIGZvciAobGV0IG5hbWUgaW4gdGhpcy5vcHRpb25zKSB7XG4gICAgICBtb25pdG9yLmluZm8oYCR7bmFtZX0gOiAke3RoaXMub3B0aW9uc1tuYW1lXS50b1N0cmluZygpfWApO1xuICAgIH1cbiAgfVxufVxuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpc1xuICogZmlsZSwgWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuIGltcG9ydCB7IGdlbmVyYXRlIH0gZnJvbSBcImVzY29kZWdlblwiO1xuIGV4cG9ydCB2YXIgcHJldHR5ID0gZ2VuZXJhdGU7XG4gIiwiaW1wb3J0IHsgTGFiZWwgfSBmcm9tIFwiLi9MYWJlbFwiO1xuaW1wb3J0IHsgSUVjbWFGdW5jdGlvbiB9IGZyb20gXCIuL0ludGVyZmFjZXNcIjtcblxuZXhwb3J0IGludGVyZmFjZSBMYWJlbGVkUHJvcGVydHlEZXNjcmlwdG9yIGV4dGVuZHMgUHJvcGVydHlEZXNjcmlwdG9yIHtcbiAgbGFiZWw6IExhYmVsO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEpTRlByb3BlcnR5RGVzY3JpcHRvciB7XG4gIGNvbmZpZ3VyYWJsZT86IGJvb2xlYW47XG4gIGVudW1lcmFibGU/OiBib29sZWFuO1xuICB2YWx1ZT86IGFueTtcbiAgd3JpdGFibGU/OiBib29sZWFuO1xuICBnZXQ/OiBJRWNtYUZ1bmN0aW9uO1xuICBzZXQ/OiBJRWNtYUZ1bmN0aW9uO1xuICBsYWJlbDogTGFiZWw7XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gUHJvcGVydHkgZGVzY3JpcHRvcnMsIDguMTBcblxuZXhwb3J0IGZ1bmN0aW9uIElzQWNjZXNzb3JEZXNjcmlwdG9yKHBkKSB7XG4gIGlmIChwZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiAoJ2dldCcgaW4gcGQgfHwgJ3B1dCcgaW4gcGQpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBJc0RhdGFEZXNjcmlwdG9yKHBkKSB7XG4gIGlmIChwZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiAoJ3ZhbHVlJyBpbiBwZCB8fCAnd3JpdGFibGUnIGluIHBkKTtcbiAgfVxufSIsIlxuaW1wb3J0IHsgVmFsdWUgfSBmcm9tIFwiLi4vVmFsdWVcIjtcbmltcG9ydCAqIGFzIGNvbnN0YW50cyBmcm9tICcuLi9Db25zdGFudHMnO1xuaW1wb3J0ICogYXMgXyBmcm9tICd1bmRlcnNjb3JlJztcbmltcG9ydCB7IEJ1aWx0aW5GdW5jdGlvbk9iamVjdCB9IGZyb20gXCIuLi9PYmplY3RzL0J1aWx0aW5GdW5jdGlvbk9iamVjdFwiO1xuaW1wb3J0IHsgTW9uaXRvckJhc2UgfSBmcm9tICcuLi9Nb25pdG9yQmFzZSc7XG5cbmltcG9ydCB7IGJvdCwgbHViLCBMYWJlbCB9IGZyb20gJy4uL0xhYmVsJztcbmltcG9ydCB7IERlZmluZSwgRGVmaW5lVEZULCBEZWZpbmVURkYgfSBmcm9tICcuLi9EZWZpbmUnO1xuaW1wb3J0IHsgRWNtYU9iamVjdCB9IGZyb20gJy4uL09iamVjdHMvRWNtYU9iamVjdCc7XG5cbmltcG9ydCB7IEFycmF5T2JqZWN0IH0gZnJvbSAnLi4vT2JqZWN0cy9BcnJheU9iamVjdCc7XG5pbXBvcnQgeyBUb0Jvb2xlYW4gfSBmcm9tICcuLi9Db252ZXJzaW9uL1RvQm9vbGVhbic7XG5pbXBvcnQgeyBUb0ludGVnZXIgfSBmcm9tICcuLi9Db252ZXJzaW9uL1RvSW50ZWdlcic7XG5pbXBvcnQgeyBUb1N0cmluZyB9IGZyb20gJy4uL0NvbnZlcnNpb24vVG9TdHJpbmcnO1xuaW1wb3J0IHsgVG9PYmplY3QgfSBmcm9tICcuLi9Db252ZXJzaW9uL1RvT2JqZWN0JztcbmltcG9ydCB7IElzQ2FsbGFibGUgfSBmcm9tICcuLi9VdGlsaXR5L0lzQ2FsbGFibGUnO1xuaW1wb3J0IHsgVG9VSW50MzIgfSBmcm9tICcuLi9Db252ZXJzaW9uL1RvVUludDMyJztcbmltcG9ydCB7IFZhbHVlVHlwZXMgfSBmcm9tIFwiLi4vSW50ZXJmYWNlc1wiO1xuaW1wb3J0IHsgZXhlYyB9IGZyb20gXCJjaGlsZF9wcm9jZXNzXCI7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5kZWNsYXJlIHZhciBtb25pdG9yOiBNb25pdG9yQmFzZTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyAxNS40LjRcbmV4cG9ydCBjbGFzcyBBcnJheVByb3RvdHlwZSBleHRlbmRzIEVjbWFPYmplY3Qge1xuXG4gICAgaG9zdDogQXJyYXk8YW55PjtcblxuICAgIGNvbnN0cnVjdG9yKGhvc3Q6IEFycmF5PGFueT4pIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5DbGFzcyA9ICdBcnJheSc7XG5cbiAgICAgICAgdGhpcy5ob3N0ID0gaG9zdDtcbiAgICB9XG5cbiAgICBTZXR1cCgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5Qcm90b3R5cGUgPSBuZXcgVmFsdWUobW9uaXRvci5pbnN0YW5jZXMuT2JqZWN0UHJvdG90eXBlLCBib3QpO1xuXG4gICAgICAgIERlZmluZVRGVCh0aGlzLCBjb25zdGFudHMuY29uc3RydWN0b3IsIG1vbml0b3IuaW5zdGFuY2VzLkFycmF5Q29uc3RydWN0b3IpO1xuICAgICAgICBEZWZpbmVURkYodGhpcywgY29uc3RhbnRzLmxlbmd0aCwgMCk7XG5cbiAgICAgICAgRGVmaW5lVEZUKHRoaXMsIGNvbnN0YW50cy50b1N0cmluZywgbmV3IEJ1aWx0aW5GdW5jdGlvbk9iamVjdCh0b1N0cmluZywgMCwgQXJyYXkucHJvdG90eXBlLnRvU3RyaW5nKSk7XG4gICAgICAgIERlZmluZVRGVCh0aGlzLCBjb25zdGFudHMudG9Mb2NhbGVTdHJpbmcsIG5ldyBCdWlsdGluRnVuY3Rpb25PYmplY3QodG9Mb2NhbGVTdHJpbmcsIDAsIEFycmF5LnByb3RvdHlwZS50b0xvY2FsZVN0cmluZykpO1xuICAgICAgICBEZWZpbmVURlQodGhpcywgY29uc3RhbnRzLmNvbmNhdCwgbmV3IEJ1aWx0aW5GdW5jdGlvbk9iamVjdChjb25jYXQsIDEsIEFycmF5LnByb3RvdHlwZS5jb25jYXQpKTtcbiAgICAgICAgRGVmaW5lVEZUKHRoaXMsIGNvbnN0YW50cy5qb2luLCBuZXcgQnVpbHRpbkZ1bmN0aW9uT2JqZWN0KGpvaW4sIDEsIEFycmF5LnByb3RvdHlwZS5qb2luKSk7XG4gICAgICAgIERlZmluZVRGVCh0aGlzLCBjb25zdGFudHMucG9wLCBuZXcgQnVpbHRpbkZ1bmN0aW9uT2JqZWN0KHBvcCwgMCwgQXJyYXkucHJvdG90eXBlLnBvcCkpO1xuICAgICAgICBEZWZpbmVURlQodGhpcywgY29uc3RhbnRzLnB1c2gsIG5ldyBCdWlsdGluRnVuY3Rpb25PYmplY3QocHVzaCwgMSwgQXJyYXkucHJvdG90eXBlLnB1c2gpKTtcbiAgICAgICAgRGVmaW5lVEZUKHRoaXMsIGNvbnN0YW50cy5yZXZlcnNlLCBuZXcgQnVpbHRpbkZ1bmN0aW9uT2JqZWN0KHJldmVyc2UsIDAsIEFycmF5LnByb3RvdHlwZS5yZXZlcnNlKSk7XG4gICAgICAgIERlZmluZVRGVCh0aGlzLCBjb25zdGFudHMuc2hpZnQsIG5ldyBCdWlsdGluRnVuY3Rpb25PYmplY3Qoc2hpZnQsIDAsIEFycmF5LnByb3RvdHlwZS5zaGlmdCkpO1xuICAgICAgICBEZWZpbmVURlQodGhpcywgY29uc3RhbnRzLnNsaWNlLCBuZXcgQnVpbHRpbkZ1bmN0aW9uT2JqZWN0KHNsaWNlLCAyLCBBcnJheS5wcm90b3R5cGUuc2xpY2UpKTtcbiAgICAgICAgRGVmaW5lVEZUKHRoaXMsIGNvbnN0YW50cy5zb3J0LCBuZXcgQnVpbHRpbkZ1bmN0aW9uT2JqZWN0KHNvcnQsIDEsIEFycmF5LnByb3RvdHlwZS5zb3J0KSk7XG4gICAgICAgIERlZmluZVRGVCh0aGlzLCBjb25zdGFudHMuc3BsaWNlLCBuZXcgQnVpbHRpbkZ1bmN0aW9uT2JqZWN0KHNwbGljZSwgMiwgQXJyYXkucHJvdG90eXBlLnNwbGljZSkpO1xuICAgICAgICBEZWZpbmVURlQodGhpcywgY29uc3RhbnRzLnVuc2hpZnQsIG5ldyBCdWlsdGluRnVuY3Rpb25PYmplY3QodW5zaGlmdCwgMSwgQXJyYXkucHJvdG90eXBlLnVuc2hpZnQpKTtcbiAgICAgICAgRGVmaW5lVEZUKHRoaXMsIGNvbnN0YW50cy5pbmRleE9mLCBuZXcgQnVpbHRpbkZ1bmN0aW9uT2JqZWN0KGluZGV4T2YsIDEsIEFycmF5LnByb3RvdHlwZS5pbmRleE9mKSk7XG4gICAgICAgIERlZmluZVRGVCh0aGlzLCBjb25zdGFudHMubGFzdEluZGV4T2YsIG5ldyBCdWlsdGluRnVuY3Rpb25PYmplY3QobGFzdEluZGV4T2YsIDEsIEFycmF5LnByb3RvdHlwZS5sYXN0SW5kZXhPZikpO1xuICAgICAgICBEZWZpbmVURlQodGhpcywgY29uc3RhbnRzLmV2ZXJ5LCBuZXcgQnVpbHRpbkZ1bmN0aW9uT2JqZWN0KGV2ZXJ5LCAxLCBBcnJheS5wcm90b3R5cGUuZXZlcnkpKTtcbiAgICAgICAgRGVmaW5lVEZUKHRoaXMsIGNvbnN0YW50cy5zb21lLCBuZXcgQnVpbHRpbkZ1bmN0aW9uT2JqZWN0KHNvbWUsIDEsIEFycmF5LnByb3RvdHlwZS5zb21lKSk7XG4gICAgICAgIERlZmluZVRGVCh0aGlzLCBjb25zdGFudHMuZm9yRWFjaCwgbmV3IEJ1aWx0aW5GdW5jdGlvbk9iamVjdChmb3JFYWNoLCAxLCBBcnJheS5wcm90b3R5cGUuZm9yRWFjaCkpO1xuICAgICAgICBEZWZpbmVURlQodGhpcywgY29uc3RhbnRzLm1hcCwgbmV3IEJ1aWx0aW5GdW5jdGlvbk9iamVjdChtYXAsIDEsIEFycmF5LnByb3RvdHlwZS5tYXApKTtcbiAgICAgICAgRGVmaW5lVEZUKHRoaXMsIGNvbnN0YW50cy5maWx0ZXIsIG5ldyBCdWlsdGluRnVuY3Rpb25PYmplY3QoZmlsdGVyLCAxLCBBcnJheS5wcm90b3R5cGUuZmlsdGVyKSk7XG4gICAgICAgIERlZmluZVRGVCh0aGlzLCBjb25zdGFudHMucmVkdWNlLCBuZXcgQnVpbHRpbkZ1bmN0aW9uT2JqZWN0KHJlZHVjZSwgMSwgQXJyYXkucHJvdG90eXBlLnJlZHVjZSkpO1xuICAgICAgICBEZWZpbmVURlQodGhpcywgY29uc3RhbnRzLnJlZHVjZVJpZ2h0LCBuZXcgQnVpbHRpbkZ1bmN0aW9uT2JqZWN0KHJlZHVjZVJpZ2h0LCAxLCBBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQpKTtcblxuICAgIH1cblxufVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyB0b1N0cmluZywgMTUuNC40LjJcblxuZnVuY3Rpb24gdG9TdHJpbmcodGhpc0FyZzogVmFsdWU8VmFsdWVUeXBlcz4sIGFyZ3M6IFZhbHVlPFZhbHVlVHlwZXM+W10pOiBWYWx1ZTxzdHJpbmc+IHtcbiAgICBsZXQgYXJyYXkgPSBUb09iamVjdCh0aGlzQXJnKTtcbiAgICBsZXQgZnVuYyA9IGFycmF5LkdldChjb25zdGFudHMuam9pbik7XG5cbiAgICBpZiAoIUlzQ2FsbGFibGUoZnVuYykpIHtcbiAgICAgICAgZnVuYyA9IG1vbml0b3IuaW5zdGFuY2VzLk9iamVjdFByb3RvdHlwZS5HZXQoY29uc3RhbnRzLnRvU3RyaW5nKTtcbiAgICB9XG5cbiAgICAvLyBAdHMtaWdub3JlXG4gICAgcmV0dXJuIGZ1bmMudmFsdWUuQ2FsbChhcnJheSwgW10pO1xufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIHRvTG9jYWxlU3RyaW5nLCAxNS40LjQuM1xuZnVuY3Rpb24gdG9Mb2NhbGVTdHJpbmcodGhpc0FyZzogVmFsdWU8VmFsdWVUeXBlcz4sIGFyZ3M6IFZhbHVlPFZhbHVlVHlwZXM+W10pOiBWYWx1ZTxzdHJpbmc+IHtcblxuICAgIGxldCBhcnJheSA9IFRvT2JqZWN0KHRoaXNBcmcpO1xuICAgIGxldCBhcnJheUxlbiA9IGFycmF5LkdldChuZXcgVmFsdWUoXCJsZW5ndGhcIiwgYm90KSk7XG4gICAgbGV0IGxlbiA9IFRvVUludDMyKGFycmF5TGVuKTtcbiAgICBsZXQgc2VwYXJhdG9yID0gJywnO1xuXG4gICAgbGV0IGxhYmVsID0gbHViKG1vbml0b3IuY29udGV4dC5lZmZlY3RpdmVQQywgYXJyYXkubGFiZWwpO1xuXG4gICAgaWYgKGxlbi52YWx1ZSA9PT0gMCkge1xuICAgICAgICByZXR1cm4gbmV3IFZhbHVlKFwiXCIsIGxhYmVsKTtcbiAgICB9XG5cbiAgICBsZXQgZmlyc3RFbGVtZW50ID0gYXJyYXkuR2V0KG5ldyBWYWx1ZShcIjBcIiwgYm90KSk7XG4gICAgbGV0IFI6IFZhbHVlPFZhbHVlVHlwZXM+O1xuXG4gICAgaWYgKGZpcnN0RWxlbWVudC52YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IGZpcnN0RWxlbWVudC52YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICBSID0gbmV3IFZhbHVlKFwiXCIsIGxhYmVsKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGxldCBlbGVtZW50T2JqID0gVG9PYmplY3QoZmlyc3RFbGVtZW50KTtcbiAgICAgICAgbGV0IGZ1bmMgPSBlbGVtZW50T2JqLkdldChuZXcgVmFsdWUoXCJ0b0xvY2FsZVN0cmluZ1wiLCBib3QpKTtcblxuICAgICAgICBpZiAoIUlzQ2FsbGFibGUoZnVuYykpIHtcbiAgICAgICAgICAgIG1vbml0b3IuVGhyb3coXG4gICAgICAgICAgICAgICAgXCJUeXBlRXJyb3JcIixcbiAgICAgICAgICAgICAgICAnQXJyYXkucHJvdG90eXBlLnRvTG9jYWxlU3RyaW5nOiBub3QgYSBmdW5jdGlvbicsXG4gICAgICAgICAgICAgICAgYm90XG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgdGhyb3cgJ1R5cGVTY3JpcHQ7J1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRVM2IHN0YW5kYXJkIGlzIGRvaW5nIHRoaXMsIGFuZCBFUzUgc2hvdWxkIGJlIGFibGUgdG8gaGFuZGxlIGl0XG4gICAgICAgIFIgPSBUb1N0cmluZyhmdW5jLnZhbHVlLkNhbGwoZWxlbWVudE9iaiwgW10pKTtcbiAgICB9XG5cbiAgICBsZXQgayA9IDE7XG4gICAgd2hpbGUgKGsgPCBsZW4udmFsdWUpIHtcbiAgICAgICAgLy9AdHMtaWdub3JlIFRZUEVTXG4gICAgICAgIGxldCBTID0gUi52YWx1ZS5jb25jYXQoc2VwYXJhdG9yKTtcblxuICAgICAgICBsZXQgbmV4dEVsZW1lbnQgPSBhcnJheS5HZXQobmV3IFZhbHVlKCcnICsgaywgYm90KSk7XG5cbiAgICAgICAgaWYgKG5leHRFbGVtZW50LnZhbHVlID09PSB1bmRlZmluZWQgfHwgZmlyc3RFbGVtZW50LnZhbHVlID09PSBudWxsKSB7XG4gICAgICAgICAgICBSID0gbmV3IFZhbHVlKFwiXCIsIGxhYmVsKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxldCBlbGVtZW50T2JqID0gVG9PYmplY3QobmV4dEVsZW1lbnQpO1xuICAgICAgICAgICAgbGV0IGZ1bmMgPSBlbGVtZW50T2JqLkdldChuZXcgVmFsdWUoXCJ0b0xvY2FsZVN0cmluZ1wiLCBib3QpKTtcblxuICAgICAgICAgICAgaWYgKCFJc0NhbGxhYmxlKGZ1bmMpKSB7XG4gICAgICAgICAgICAgICAgbW9uaXRvci5UaHJvdyhcbiAgICAgICAgICAgICAgICAgICAgXCJUeXBlRXJyb3JcIixcbiAgICAgICAgICAgICAgICAgICAgJ0FycmF5LnByb3RvdHlwZS50b0xvY2FsZVN0cmluZzogbm90IGEgZnVuY3Rpb24nLFxuICAgICAgICAgICAgICAgICAgICBib3RcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIHRocm93ICdUeXBlU2NyaXB0OydcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gRVM2IHN0YW5kYXJkIGlzIGRvaW5nIHRoaXMsIGFuZCBFUzUgc2hvdWxkIGJlIGFibGUgdG8gaGFuZGxlIGl0XG4gICAgICAgICAgICBSID0gVG9TdHJpbmcoZnVuYy52YWx1ZS5DYWxsKGVsZW1lbnRPYmosIFtdKSk7XG4gICAgICAgIH1cbiAgICAgICAgUiA9IG5ldyBWYWx1ZShTLmNvbmNhdChSLnZhbHVlKSwgUi5sYWJlbCk7XG4gICAgICAgIGsrKztcbiAgICB9XG5cbiAgICBSLnJhaXNlKGxhYmVsKTtcbiAgICAvL0B0cy1pZ25vcmUgVFlQRVNcbiAgICByZXR1cm4gUjtcbn1cblxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIGNvbmNhdCwgMTUuNC40LjRcbmZ1bmN0aW9uIGNvbmNhdCh0aGlzQXJnOiBWYWx1ZTxWYWx1ZVR5cGVzPiwgYXJnczogVmFsdWU8VmFsdWVUeXBlcz5bXSk6IFZhbHVlPEFycmF5T2JqZWN0PiB7XG4gICAgbGV0IE8gPSBUb09iamVjdCh0aGlzQXJnKTtcbiAgICBsZXQgQSA9IG5ldyBBcnJheU9iamVjdCgpO1xuXG4gICAgbGV0IG4gPSAwO1xuICAgIGxldCBjID0gbW9uaXRvci5jb250ZXh0O1xuICAgIGxldCBsYWJlbCA9IG5ldyBMYWJlbCgpO1xuXG4gICAgZnVuY3Rpb24gYXV4KEUpIHtcbiAgICAgICAgYy5wdXNoUEMoRS5sYWJlbCk7XG5cbiAgICAgICAgbGFiZWwgPSBsdWIobGFiZWwsIEUubGFiZWwpO1xuXG4gICAgICAgIGlmIChFLnZhbHVlICYmIEUudmFsdWUuQ2xhc3MgPT09ICdBcnJheScpIHtcbiAgICAgICAgICAgIGxldCBrID0gMDtcbiAgICAgICAgICAgIGxldCBsZW4gPSBFLkdldChjb25zdGFudHMubGVuZ3RoKTtcblxuICAgICAgICAgICAgbGFiZWwgPSBsdWIobGFiZWwsIGxlbi5sYWJlbCk7XG5cbiAgICAgICAgICAgIG1vbml0b3IuY29udGV4dC5wdXNoUEMobGVuLmxhYmVsKTtcblxuICAgICAgICAgICAgd2hpbGUgKGsgPCBsZW4udmFsdWUpIHtcbiAgICAgICAgICAgICAgICBsZXQgX2sgPSBuZXcgVmFsdWUoaywgYm90KTtcbiAgICAgICAgICAgICAgICBsZXQgZXhpc3RzID0gRS5IYXNQcm9wZXJ0eShfayk7XG5cbiAgICAgICAgICAgICAgICBpZiAoZXhpc3RzLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIG1vbml0b3IuY29udGV4dC5wdXNoUEMoZXhpc3RzLmxhYmVsKTtcblxuICAgICAgICAgICAgICAgICAgICBsZXQgc3ViRWxlbWVudCA9IEUuR2V0KF9rKTtcblxuICAgICAgICAgICAgICAgICAgICBBLkRlZmluZU93blByb3BlcnR5KG5ldyBWYWx1ZShuLCBsYWJlbCksIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBzdWJFbGVtZW50LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IHN1YkVsZW1lbnQubGFiZWwsXG4gICAgICAgICAgICAgICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgfSwgZmFsc2UpO1xuXG4gICAgICAgICAgICAgICAgICAgIG1vbml0b3IuY29udGV4dC5wb3BQQygpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIG4rKztcbiAgICAgICAgICAgICAgICBrKys7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG1vbml0b3IuY29udGV4dC5wb3BQQygpO1xuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBBLkRlZmluZU93blByb3BlcnR5KG5ldyBWYWx1ZShuLCBsYWJlbCksIHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogRS52YWx1ZSxcbiAgICAgICAgICAgICAgICBsYWJlbDogRS5sYWJlbCxcbiAgICAgICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgICAgICAgfSwgZmFsc2UpO1xuICAgICAgICAgICAgbisrO1xuICAgICAgICB9XG5cbiAgICAgICAgYy5wb3BQQygpO1xuICAgIH1cblxuICAgIGF1eChPKTtcbiAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gYXJncy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBhdXgoYXJnc1tpXSk7XG4gICAgfVxuXG4gICAgLy8gVGhpcyBpcyBhIGZpeCB0aGV5IGFkZGVkIGluIEVDTUEtMjYyIHY2IHN0YW5kYXJkLCBidXQgYnJvd3NlcnMgdXNlZCBpdFxuICAgIC8vIGluIEVDTUEtMjYyIHY1IGFzIHdlbGwuXG4gICAgQS5QdXQobmV3IFZhbHVlKFwibGVuZ3RoXCIsIGJvdCksIG5ldyBWYWx1ZShuLCBib3QpLCBmYWxzZSk7XG5cbiAgICByZXR1cm4gbmV3IFZhbHVlKEEsIGJvdCk7XG59O1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIGpvaW4sIDE1LjQuNC41XG5cbmZ1bmN0aW9uIGpvaW4odGhpc0FyZzogVmFsdWU8VmFsdWVUeXBlcz4sIGFyZ3M6IFZhbHVlPFZhbHVlVHlwZXM+W10pOiBWYWx1ZTxzdHJpbmc+IHtcbiAgICBsZXQgTyA9IFRvT2JqZWN0KHRoaXNBcmcpO1xuICAgIGxldCBsZW4gPSBUb1VJbnQzMihPLkdldChjb25zdGFudHMubGVuZ3RoKSk7XG5cbiAgICBsZXQgYXJnMCA9IGFyZ3NbMF0gfHwgbmV3IFZhbHVlKCcsJywgYm90KTtcbiAgICBsZXQgc2VwYXJhdG9yOiBWYWx1ZTxzdHJpbmc+O1xuXG4gICAgaWYgKGFyZzAudmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBzZXBhcmF0b3IgPSBuZXcgVmFsdWUoJywnLCBhcmcwLmxhYmVsKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHNlcGFyYXRvciA9IFRvU3RyaW5nKGFyZzApO1xuICAgIH1cblxuICAgIGxldCBsYWJlbCA9IGx1YihsZW4ubGFiZWwsIHNlcGFyYXRvci5sYWJlbCk7XG4gICAgbGV0IGFycjogc3RyaW5nW10gPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbi52YWx1ZTsgaSsrKSB7XG5cbiAgICAgICAgbGV0IHYgPSBPLkdldChuZXcgVmFsdWUoaSwgYm90KSk7XG4gICAgICAgIGxldCB5OiBWYWx1ZTxzdHJpbmc+O1xuICAgICAgICBpZiAodi52YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IHYudmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHkgPSBuZXcgVmFsdWUoJycsIHYubGFiZWwpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgeSA9IFRvU3RyaW5nKHYpO1xuICAgICAgICB9XG5cbiAgICAgICAgYXJyW2ldID0geS52YWx1ZTtcblxuICAgICAgICBsYWJlbCA9IGx1YihsYWJlbCwgeS5sYWJlbCk7XG4gICAgfVxuXG4gICAgbGV0IHJlcyA9IGFyci5qb2luKHNlcGFyYXRvci52YWx1ZSk7XG4gICAgcmV0dXJuIG5ldyBWYWx1ZShyZXMsIGxhYmVsKTtcbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBwb3AsIDE1LjQuNC42XG5cbmZ1bmN0aW9uIHBvcCh0aGlzQXJnOiBWYWx1ZTxWYWx1ZVR5cGVzPiwgYXJnczogVmFsdWU8VmFsdWVUeXBlcz5bXSk6IFZhbHVlPFZhbHVlVHlwZXM+IHtcbiAgICBsZXQgTyA9IFRvT2JqZWN0KHRoaXNBcmcpO1xuICAgIGxldCBsZW4gPSBUb1VJbnQzMihPLkdldChjb25zdGFudHMubGVuZ3RoKSk7XG5cbiAgICBpZiAobGVuLnZhbHVlID09PSAwKSB7XG4gICAgICAgIE8uUHV0KGNvbnN0YW50cy5sZW5ndGgsIGxlbiwgdHJ1ZSk7XG4gICAgICAgIHJldHVybiBuZXcgVmFsdWUodW5kZWZpbmVkLCBsZW4ubGFiZWwpO1xuICAgIH1cblxuICAgIGxldCBpbmR4ID0gbmV3IFZhbHVlKGxlbi52YWx1ZSAtIDEsIGxlbi5sYWJlbCk7XG4gICAgbGV0IGVsZW1lbnQgPSBPLkdldChpbmR4KTtcblxuICAgIE8uRGVsZXRlKGluZHgsIHRydWUpO1xuXG4gICAgTy5QdXQoY29uc3RhbnRzLmxlbmd0aCwgaW5keCwgdHJ1ZSk7XG4gICAgcmV0dXJuIGVsZW1lbnQ7XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gcHVzaCwgMTUuNC40LjdcblxuZnVuY3Rpb24gcHVzaCh0aGlzQXJnOiBWYWx1ZTxWYWx1ZVR5cGVzPiwgYXJnczogVmFsdWU8VmFsdWVUeXBlcz5bXSk6IFZhbHVlPG51bWJlcj4ge1xuICAgIGxldCBPID0gVG9PYmplY3QodGhpc0FyZyk7XG4gICAgbGV0IG4gPSBUb1VJbnQzMihPLkdldChjb25zdGFudHMubGVuZ3RoKSk7XG5cbiAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gYXJncy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBsZXQgRSA9IGFyZ3NbaV07XG4gICAgICAgIE8uUHV0KG4sIEUpO1xuICAgICAgICBuLnZhbHVlKys7XG4gICAgfVxuXG4gICAgTy5QdXQoY29uc3RhbnRzLmxlbmd0aCwgbiwgdHJ1ZSk7XG5cbiAgICByZXR1cm4gbjtcbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyByZXZlcnNlLCAxNS40LjQuOFxuXG5mdW5jdGlvbiByZXZlcnNlKHRoaXNBcmc6IFZhbHVlPFZhbHVlVHlwZXM+LCBhcmdzOiBWYWx1ZTxWYWx1ZVR5cGVzPltdKTogVmFsdWU8RWNtYU9iamVjdD4ge1xuICAgIGxldCBPID0gVG9PYmplY3QodGhpc0FyZyk7XG4gICAgbGV0IGxlbiA9IFRvVUludDMyKE8uR2V0KGNvbnN0YW50cy5sZW5ndGgpKTtcblxuICAgIGxldCBtaWRkbGUgPSBNYXRoLmZsb29yKGxlbi52YWx1ZSAvIDIpO1xuICAgIGxldCBsb3dlciA9IDA7XG5cbiAgICBsZXQgYyA9IG1vbml0b3IuY29udGV4dDtcblxuICAgIHdoaWxlIChsb3dlciAhPT0gbWlkZGxlICYmIGxvd2VyID4gLTIpIHtcbiAgICAgICAgbGV0IHVwcGVyID0gbGVuLnZhbHVlIC0gbG93ZXIgLSAxO1xuXG4gICAgICAgIGxldCB1cHBlclAgPSBUb1N0cmluZyhuZXcgVmFsdWUodXBwZXIsIGxlbi5sYWJlbCkpO1xuICAgICAgICBsZXQgbG93ZXJQID0gVG9TdHJpbmcobmV3IFZhbHVlKGxvd2VyLCBsZW4ubGFiZWwpKTtcblxuICAgICAgICBsZXQgbG93ZXJWYWx1ZSA9IE8uR2V0KGxvd2VyUCk7XG4gICAgICAgIGxldCB1cHBlclZhbHVlID0gTy5HZXQodXBwZXJQKTtcbiAgICAgICAgbGV0IGxvd2VyRXhpc3RzID0gTy5IYXNQcm9wZXJ0eShsb3dlclApO1xuICAgICAgICBsZXQgdXBwZXJFeGlzdHMgPSBPLkhhc1Byb3BlcnR5KHVwcGVyUCk7XG5cbiAgICAgICAgYy5wdXNoUEMobHViKGxvd2VyRXhpc3RzLmxhYmVsLCB1cHBlckV4aXN0cy5sYWJlbCwgbGVuLmxhYmVsKSk7XG5cbiAgICAgICAgaWYgKGxvd2VyRXhpc3RzLnZhbHVlICYmIHVwcGVyRXhpc3RzLnZhbHVlKSB7XG4gICAgICAgICAgICBPLlB1dChsb3dlclAsIHVwcGVyVmFsdWUsIHRydWUpO1xuICAgICAgICAgICAgTy5QdXQodXBwZXJQLCBsb3dlclZhbHVlLCB0cnVlKTtcbiAgICAgICAgfSBlbHNlIGlmICghbG93ZXJFeGlzdHMudmFsdWUgJiYgdXBwZXJFeGlzdHMudmFsdWUpIHtcbiAgICAgICAgICAgIE8uUHV0KGxvd2VyUCwgdXBwZXJWYWx1ZSwgdHJ1ZSk7XG4gICAgICAgICAgICBPLkRlbGV0ZSh1cHBlclAsIHRydWUpO1xuICAgICAgICB9IGVsc2UgaWYgKGxvd2VyRXhpc3RzLnZhbHVlICYmICF1cHBlckV4aXN0cy52YWx1ZSkge1xuICAgICAgICAgICAgTy5EZWxldGUobG93ZXJQLCB0cnVlKTtcbiAgICAgICAgICAgIE8uUHV0KHVwcGVyUCwgbG93ZXJWYWx1ZSwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgYy5wb3BQQygpO1xuICAgICAgICBsb3dlcisrO1xuICAgIH1cblxuICAgIHJldHVybiBPO1xufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIHNoaWZ0LCAxNS40LjQuOVxuXG5mdW5jdGlvbiBzaGlmdCh0aGlzQXJnOiBWYWx1ZTxWYWx1ZVR5cGVzPiwgYXJnczogVmFsdWU8VmFsdWVUeXBlcz5bXSk6IFZhbHVlPFZhbHVlVHlwZXM+IHtcbiAgICBsZXQgTyA9IFRvT2JqZWN0KHRoaXNBcmcpO1xuICAgIGxldCBsZW5WYWwgPSBPLkdldChjb25zdGFudHMubGVuZ3RoKTtcbiAgICBsZXQgbGVuID0gVG9VSW50MzIobGVuVmFsKTtcblxuICAgIGlmIChsZW4udmFsdWUgPT09IDApIHtcbiAgICAgICAgbW9uaXRvci5jb250ZXh0LnB1c2hQQyhsZW4ubGFiZWwpO1xuICAgICAgICBPLlB1dChjb25zdGFudHMubGVuZ3RoLCBsZW4sIHRydWUpO1xuICAgICAgICBtb25pdG9yLmNvbnRleHQucG9wUEMoKTtcblxuICAgICAgICByZXR1cm4gbmV3IFZhbHVlKHVuZGVmaW5lZCwgbGVuLmxhYmVsKTtcbiAgICB9XG5cbiAgICBsZXQgZmlyc3QgPSBPLkdldChuZXcgVmFsdWUoMCwgYm90KSk7XG4gICAgbGV0IGsgPSAxO1xuXG4gICAgbW9uaXRvci5jb250ZXh0LnB1c2hQQyhsZW4ubGFiZWwpO1xuXG4gICAgd2hpbGUgKGsgPCBsZW4udmFsdWUpIHtcblxuICAgICAgICBsZXQgZnJvbSA9IGs7XG4gICAgICAgIGxldCBfZnJvbSA9IG5ldyBWYWx1ZShmcm9tLCBsZW4ubGFiZWwpO1xuICAgICAgICBsZXQgdG8gPSBrIC0gMTtcbiAgICAgICAgbGV0IF90byA9IG5ldyBWYWx1ZSh0bywgbGVuLmxhYmVsKTtcblxuICAgICAgICBsZXQgZnJvbVByZXNlbnQgPSBPLkhhc1Byb3BlcnR5KF9mcm9tKTtcblxuICAgICAgICBpZiAoZnJvbVByZXNlbnQudmFsdWUpIHtcbiAgICAgICAgICAgIG1vbml0b3IuY29udGV4dC5wdXNoUEMoZnJvbVByZXNlbnQubGFiZWwpO1xuXG4gICAgICAgICAgICBsZXQgZnJvbVZhbCA9IE8uR2V0KF9mcm9tKTtcbiAgICAgICAgICAgIE8uUHV0KF90bywgZnJvbVZhbCwgdHJ1ZSk7XG5cbiAgICAgICAgICAgIG1vbml0b3IuY29udGV4dC5wb3BQQygpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgTy5EZWxldGUoX3RvLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBrKys7XG4gICAgfVxuICAgIG1vbml0b3IuY29udGV4dC5wb3BQQygpO1xuXG4gICAgbGVuLnZhbHVlLS07XG4gICAgTy5EZWxldGUobGVuLCB0cnVlKTtcbiAgICBPLlB1dChjb25zdGFudHMubGVuZ3RoLCBsZW4sIHRydWUpO1xuXG4gICAgcmV0dXJuIGZpcnN0O1xufVxuXG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gc2xpY2UsIDE1LjQuNC4xMFxuXG5mdW5jdGlvbiBzbGljZSh0aGlzQXJnOiBWYWx1ZTxWYWx1ZVR5cGVzPiwgYXJnczogVmFsdWU8VmFsdWVUeXBlcz5bXSk6IFZhbHVlPEFycmF5T2JqZWN0PiB7XG4gICAgbGV0IE8gPSBUb09iamVjdCh0aGlzQXJnKTtcbiAgICBsZXQgQSA9IG5ldyBBcnJheU9iamVjdCgpO1xuXG4gICAgbGV0IGxlblZhbCA9IE8uR2V0KGNvbnN0YW50cy5sZW5ndGgpO1xuICAgIGxldCBsZW4gPSBUb1VJbnQzMihsZW5WYWwpO1xuXG4gICAgbGV0IHN0YXJ0ID0gYXJnc1swXSA/IGFyZ3NbMF0gOiBuZXcgVmFsdWUodW5kZWZpbmVkLCBib3QpO1xuICAgIGxldCBlbmQgPSBhcmdzWzFdID8gYXJnc1sxXSA6IG5ldyBWYWx1ZSh1bmRlZmluZWQsIGJvdCk7XG5cbiAgICBsZXQgcmVsYXRpdmVTdGFydCA9IFRvSW50ZWdlcihzdGFydCk7XG5cbiAgICBsZXQgayA9IG5ldyBWYWx1ZSgwLCBsdWIobGVuLmxhYmVsLCByZWxhdGl2ZVN0YXJ0LmxhYmVsKSk7XG5cbiAgICBpZiAocmVsYXRpdmVTdGFydC52YWx1ZSA8IDApIHtcbiAgICAgICAgay52YWx1ZSA9IE1hdGgubWF4KGxlbi52YWx1ZSArIHJlbGF0aXZlU3RhcnQudmFsdWUsIDApO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGsudmFsdWUgPSBNYXRoLm1pbihyZWxhdGl2ZVN0YXJ0LnZhbHVlLCBsZW4udmFsdWUpO1xuICAgIH1cblxuICAgIGxldCByZWxhdGl2ZUVuZCA6IFZhbHVlPG51bWJlcj47XG4gICAgaWYgKGVuZC52YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJlbGF0aXZlRW5kID0gbGVuO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJlbGF0aXZlRW5kID0gVG9JbnRlZ2VyKGVuZCk7XG4gICAgfVxuXG4gICAgbGV0IF9maW5hbCA9IG5ldyBWYWx1ZSgwLCBsdWIobGVuLmxhYmVsLCByZWxhdGl2ZVN0YXJ0LmxhYmVsKSk7XG5cbiAgICBpZiAocmVsYXRpdmVFbmQudmFsdWUgPCAwKSB7XG4gICAgICAgIF9maW5hbC52YWx1ZSA9IE1hdGgubWF4KGxlbi52YWx1ZSArIHJlbGF0aXZlRW5kLnZhbHVlLCAwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBfZmluYWwudmFsdWUgPSBNYXRoLm1pbihyZWxhdGl2ZUVuZC52YWx1ZSwgbGVuLnZhbHVlKTtcbiAgICB9XG5cbiAgICBsZXQgbiA9IDA7XG5cbiAgICBtb25pdG9yLmNvbnRleHQucHVzaFBDKGx1YihrLmxhYmVsLCBfZmluYWwubGFiZWwpKTtcblxuICAgIHdoaWxlIChrLnZhbHVlIDwgX2ZpbmFsLnZhbHVlKSB7XG4gICAgICAgIGxldCBQayA9IFRvU3RyaW5nKGspO1xuICAgICAgICBsZXQga1ByZXNlbnQgPSBPLkhhc1Byb3BlcnR5KFBrKTtcbiAgICAgICAgaWYgKGtQcmVzZW50LnZhbHVlKSB7XG4gICAgICAgICAgICBsZXQga1ZhbHVlID0gTy5HZXQoUGspO1xuICAgICAgICAgICAgQS5EZWZpbmVPd25Qcm9wZXJ0eShuZXcgVmFsdWUobiwgYm90KSwge1xuICAgICAgICAgICAgICAgIHZhbHVlOiBrVmFsdWUudmFsdWUsXG4gICAgICAgICAgICAgICAgbGFiZWw6IGtWYWx1ZS5sYWJlbCxcbiAgICAgICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgICAgICAgfSwgZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIGsudmFsdWUrKztcbiAgICAgICAgbisrO1xuICAgIH1cblxuICAgIG1vbml0b3IuY29udGV4dC5wb3BQQygpO1xuICAgIHJldHVybiBuZXcgVmFsdWUoQSwgYm90KTtcbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBzb3J0LCAxNS40LjQuMTFcblxuZnVuY3Rpb24gc29ydCh0aGlzQXJnOiBWYWx1ZTxWYWx1ZVR5cGVzPiwgYXJnczogVmFsdWU8VmFsdWVUeXBlcz5bXSk6IFZhbHVlPEVjbWFPYmplY3Q+IHtcbiAgICBsZXQgY29tcGFyZWZ1biA9IGFyZ3NbMF0gfHwgbmV3IFZhbHVlKHVuZGVmaW5lZCwgYm90KTtcblxuICAgIGxldCBPID0gVG9PYmplY3QodGhpc0FyZyk7XG4gICAgbGV0IGxlblZhbCA9IE8uR2V0KGNvbnN0YW50cy5sZW5ndGgpO1xuICAgIGxldCBsZW4gPSBUb1VJbnQzMihsZW5WYWwpO1xuXG4gICAgbGV0IGxhYmVsID0gbHViKE8ubGFiZWwsIGxlbi5sYWJlbCk7XG5cbiAgICBsZXQgYyA9IG1vbml0b3IuY29udGV4dDtcbiAgICBjLnB1c2hQQyhsZW4ubGFiZWwpO1xuXG4gICAgbGV0IGFycmF5IDogVmFsdWU8VmFsdWVUeXBlcz5bXSA9IFtdO1xuICAgIGxldCBrID0gbmV3IFZhbHVlKDAsIGxlbi5sYWJlbCk7XG4gICAgd2hpbGUgKGsudmFsdWUgPCBsZW4udmFsdWUpIHtcbiAgICAgICAgbGV0IGtQcmVzZW50ID0gTy5IYXNQcm9wZXJ0eShrKTtcblxuICAgICAgICBjLmxhYmVscy5wYyA9IGx1YihjLmxhYmVscy5wYywga1ByZXNlbnQubGFiZWwpO1xuICAgICAgICBsYWJlbCA9IGx1YihsYWJlbCwga1ByZXNlbnQubGFiZWwpO1xuXG4gICAgICAgIGlmIChrUHJlc2VudC52YWx1ZSkge1xuICAgICAgICAgICAgbGV0IGtWYWx1ZSA9IE8uR2V0KGspO1xuICAgICAgICAgICAga1ZhbHVlLnJhaXNlKGxhYmVsKTtcblxuICAgICAgICAgICAgYXJyYXlbay52YWx1ZV0gPSBrVmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgay52YWx1ZSsrO1xuICAgIH1cblxuICAgIGxldCBpc0NhbGxhYmxlID0gSXNDYWxsYWJsZShjb21wYXJlZnVuKTtcbiAgICBjLmxhYmVscy5wYyA9IGx1YihjLmxhYmVscy5wYywgY29tcGFyZWZ1bi5sYWJlbCk7XG5cbiAgICBpZiAoY29tcGFyZWZ1bi52YWx1ZSAhPT0gdW5kZWZpbmVkICYmICFpc0NhbGxhYmxlKSB7XG4gICAgICAgIG1vbml0b3IuVGhyb3coXG4gICAgICAgICAgICBcIlR5cGVFcnJvclwiLFxuICAgICAgICAgICAgJ0FycmF5LnByb3RvdHlwZS5zb3J0OiBub3QgYSBmdW5jdGlvbicsXG4gICAgICAgICAgICBib3RcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBsZXQgY29tcGFyZWZ1bldyYXBwZXIgOiAoeCA6IFZhbHVlPFZhbHVlVHlwZXM+LCB5IDogVmFsdWU8VmFsdWVUeXBlcz4pID0+IFZhbHVlVHlwZXM7XG4gICAgaWYgKGNvbXBhcmVmdW4udmFsdWUpIHtcblxuICAgICAgICBjb21wYXJlZnVuV3JhcHBlciA9IGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgICAgICAgICBpZiAoeC52YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgbGFiZWwgPSBsdWIobGFiZWwsIHgubGFiZWwpO1xuICAgICAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHkudmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGxhYmVsID0gbHViKGxhYmVsLCB5LmxhYmVsKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgcmVzdWx0ID0gY29tcGFyZWZ1bi5DYWxsKG5ldyBWYWx1ZSh1bmRlZmluZWQsIGJvdCksIFt4LCB5XSk7XG4gICAgICAgICAgICBjLmxhYmVscy5wYyA9IGx1YihjLmxhYmVscy5wYywgcmVzdWx0LmxhYmVsLCB4LmxhYmVsLCB5LmxhYmVsKTtcbiAgICAgICAgICAgIGxhYmVsID0gbHViKGxhYmVsLCByZXN1bHQubGFiZWwsIHgubGFiZWwsIHkubGFiZWwpO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC52YWx1ZTtcbiAgICAgICAgfTtcblxuICAgIH0gZWxzZSB7XG5cbiAgICAgICAgY29tcGFyZWZ1bldyYXBwZXIgPSBmdW5jdGlvbiAoeCwgeSkge1xuXG4gICAgICAgICAgICBpZiAoeC52YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgbGFiZWwgPSBsdWIobGFiZWwsIHgubGFiZWwpO1xuICAgICAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHkudmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGxhYmVsID0gbHViKGxhYmVsLCB5LmxhYmVsKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCB4U3RyaW5nID0gVG9TdHJpbmcoeCk7XG4gICAgICAgICAgICBsZXQgeVN0cmluZyA9IFRvU3RyaW5nKHkpO1xuXG4gICAgICAgICAgICBjLmxhYmVscy5wYyA9IGx1YihjLmxhYmVscy5wYywgeFN0cmluZy5sYWJlbCwgeVN0cmluZy5sYWJlbCk7XG4gICAgICAgICAgICBsYWJlbCA9IGx1YihsYWJlbCwgeFN0cmluZy5sYWJlbCwgeVN0cmluZy5sYWJlbCk7XG5cbiAgICAgICAgICAgIGlmICh4U3RyaW5nLnZhbHVlIDwgeVN0cmluZy52YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHhTdHJpbmcudmFsdWUgPiB5U3RyaW5nLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9O1xuXG4gICAgfVxuICAgIC8vQHRzLWlnbm9yZSBUWVBFU1xuICAgIGFycmF5ID0gYXJyYXkuc29ydChjb21wYXJlZnVuV3JhcHBlcik7XG5cbiAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gYXJyYXkubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgbGV0IHYgPSBhcnJheVtpXTtcblxuICAgICAgICBpZiAodikge1xuICAgICAgICAgICAgTy5QdXQobmV3IFZhbHVlKGksIGxhYmVsKSwgdiwgdHJ1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBPLkRlbGV0ZShuZXcgVmFsdWUoaSwgbGFiZWwpLCB0cnVlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGMucG9wUEMoKTtcbiAgICByZXR1cm4gTztcbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBzcGxpY2UsIDE1LjQuNC4xMlxuZnVuY3Rpb24gc3BsaWNlKHRoaXNBcmc6IFZhbHVlPFZhbHVlVHlwZXM+LCBhcmdzOiBWYWx1ZTxWYWx1ZVR5cGVzPltdKTogVmFsdWU8VmFsdWVUeXBlcz4ge1xuXG4gICAgbGV0IHN0YXJ0ID0gYXJnc1swXSB8fCBuZXcgVmFsdWUodW5kZWZpbmVkLCBib3QpO1xuICAgIGxldCBhcmcxID0gYXJnc1sxXSB8fCBuZXcgVmFsdWUodW5kZWZpbmVkLCBib3QpO1xuXG4gICAgbGV0IE8gPSBUb09iamVjdCh0aGlzQXJnKTtcbiAgICBsZXQgQSA9IG5ldyBBcnJheU9iamVjdCgpO1xuXG4gICAgbGV0IGxlblZhbCA9IE8uR2V0KGNvbnN0YW50cy5sZW5ndGgpO1xuICAgIGxldCBsZW4gPSBUb1VJbnQzMihsZW5WYWwpO1xuXG4gICAgbGV0IHJlbGF0aXZlU3RhcnQgPSBUb0ludGVnZXIoc3RhcnQpO1xuICAgIGxldCBhY3R1YWxTdGFydCA6IFZhbHVlPG51bWJlciB8IG51bGw+ID0gbmV3IFZhbHVlKG51bGwsIGx1YihsZW4ubGFiZWwsIHJlbGF0aXZlU3RhcnQubGFiZWwpKTtcblxuICAgIGlmIChyZWxhdGl2ZVN0YXJ0LnZhbHVlIDwgMCkge1xuICAgICAgICBhY3R1YWxTdGFydC52YWx1ZSA9IE1hdGgubWF4KChsZW4udmFsdWUgKyByZWxhdGl2ZVN0YXJ0LnZhbHVlKSwgMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgYWN0dWFsU3RhcnQudmFsdWUgPSBNYXRoLm1pbihyZWxhdGl2ZVN0YXJ0LnZhbHVlLCBsZW4udmFsdWUpO1xuICAgIH1cblxuICAgIGxldCBkZWxldGVDb3VudCA9IFRvSW50ZWdlcihhcmcxKTtcbiAgICBsZXQgYWN0dWFsRGVsZXRlQ291bnQgOiBWYWx1ZTxudW1iZXIgfCBudWxsPiA9IG5ldyBWYWx1ZShudWxsLCBsdWIoZGVsZXRlQ291bnQubGFiZWwsIGFjdHVhbFN0YXJ0LmxhYmVsKSk7XG4gICAgYWN0dWFsRGVsZXRlQ291bnQudmFsdWUgPSBNYXRoLm1pbihNYXRoLm1heChkZWxldGVDb3VudC52YWx1ZSwgMCksIGxlbi52YWx1ZSAtIGFjdHVhbFN0YXJ0LnZhbHVlKTtcblxuICAgIGxldCBrID0gMDtcbiAgICBtb25pdG9yLmNvbnRleHQucHVzaFBDKGFjdHVhbERlbGV0ZUNvdW50LmxhYmVsKTtcbiAgICB3aGlsZSAoayA8IGFjdHVhbERlbGV0ZUNvdW50LnZhbHVlKSB7XG4gICAgICAgIGxldCBmcm9tID0gbmV3IFZhbHVlKGFjdHVhbFN0YXJ0LnZhbHVlICsgaywgYWN0dWFsU3RhcnQubGFiZWwpO1xuICAgICAgICBsZXQgZnJvbVByZXNlbnQgPSBPLkhhc1Byb3BlcnR5KGZyb20pO1xuXG4gICAgICAgIG1vbml0b3IuY29udGV4dC5wdXNoUEMoZnJvbVByZXNlbnQubGFiZWwpO1xuICAgICAgICBpZiAoZnJvbVByZXNlbnQudmFsdWUpIHtcbiAgICAgICAgICAgIGxldCBmcm9tVmFsdWUgPSBPLkdldChmcm9tKTtcbiAgICAgICAgICAgIEEuRGVmaW5lT3duUHJvcGVydHkobmV3IFZhbHVlKGssIGFjdHVhbERlbGV0ZUNvdW50LmxhYmVsKSwge1xuICAgICAgICAgICAgICAgIHZhbHVlOiBmcm9tVmFsdWUudmFsdWUsXG4gICAgICAgICAgICAgICAgbGFiZWw6IGZyb21WYWx1ZS5sYWJlbCxcbiAgICAgICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBtb25pdG9yLmNvbnRleHQucG9wUEMoKTtcblxuICAgICAgICBrKys7XG4gICAgfVxuICAgIG1vbml0b3IuY29udGV4dC5wb3BQQygpO1xuXG4gICAgbGV0IGl0ZW1zIDogVmFsdWU8VmFsdWVUeXBlcz5bXSA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJncy5sZW5ndGggLSAyOyBpKyspIHtcbiAgICAgICAgaXRlbXNbaV0gPSBhcmdzW2kgKyAyXTtcbiAgICB9XG5cbiAgICBsZXQgaXRlbUNvdW50ID0gaXRlbXMubGVuZ3RoO1xuICAgIGlmIChpdGVtQ291bnQgPCBhY3R1YWxEZWxldGVDb3VudC52YWx1ZSkge1xuICAgICAgICBsZXQgayA9IGFjdHVhbFN0YXJ0LnZhbHVlO1xuXG4gICAgICAgIG1vbml0b3IuY29udGV4dC5wdXNoUEMoYWN0dWFsU3RhcnQubGFiZWwpO1xuXG4gICAgICAgIHdoaWxlIChrIDwgbGVuLnZhbHVlIC0gYWN0dWFsRGVsZXRlQ291bnQudmFsdWUpIHtcbiAgICAgICAgICAgIGxldCBmcm9tID0gbmV3IFZhbHVlKGsgKyBhY3R1YWxEZWxldGVDb3VudC52YWx1ZSwgbHViKGFjdHVhbFN0YXJ0LmxhYmVsLCBhY3R1YWxEZWxldGVDb3VudC5sYWJlbCkpO1xuICAgICAgICAgICAgbGV0IHRvID0gbmV3IFZhbHVlKGsgKyBpdGVtQ291bnQsIGFjdHVhbFN0YXJ0LmxhYmVsKTtcbiAgICAgICAgICAgIGxldCBmcm9tUHJlc2VudCA9IE8uSGFzUHJvcGVydHkoZnJvbSk7XG5cbiAgICAgICAgICAgIG1vbml0b3IuY29udGV4dC5wdXNoUEMoZnJvbVByZXNlbnQubGFiZWwpO1xuXG4gICAgICAgICAgICBpZiAoZnJvbVByZXNlbnQudmFsdWUpIHtcbiAgICAgICAgICAgICAgICBsZXQgZnJvbVZhbHVlID0gTy5HZXQoZnJvbSk7XG4gICAgICAgICAgICAgICAgTy5QdXQodG8sIGZyb21WYWx1ZSwgdHJ1ZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIE8uRGVsZXRlKHRvLCB0cnVlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaysrO1xuXG4gICAgICAgICAgICBtb25pdG9yLmNvbnRleHQucG9wUEMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIG1vbml0b3IuY29udGV4dC5wb3BQQygpO1xuXG4gICAgICAgIGsgPSBsZW4udmFsdWU7XG5cbiAgICAgICAgbW9uaXRvci5jb250ZXh0LnB1c2hQQyhsdWIobGVuLmxhYmVsLCBhY3R1YWxEZWxldGVDb3VudC5sYWJlbCkpO1xuXG4gICAgICAgIHdoaWxlIChrID4gKGxlbi52YWx1ZSAtIGFjdHVhbERlbGV0ZUNvdW50LnZhbHVlICsgaXRlbUNvdW50KSkge1xuICAgICAgICAgICAgTy5EZWxldGUobmV3IFZhbHVlKGssIGxlbi5sYWJlbCkpO1xuICAgICAgICAgICAgay0tO1xuICAgICAgICB9XG5cbiAgICAgICAgbW9uaXRvci5jb250ZXh0LnBvcFBDKCk7XG5cbiAgICB9IGVsc2UgaWYgKGl0ZW1Db3VudCA+IGFjdHVhbERlbGV0ZUNvdW50LnZhbHVlKSB7XG5cbiAgICAgICAgbGV0IGsgPSBsZW4udmFsdWUgLSBhY3R1YWxEZWxldGVDb3VudC52YWx1ZTtcblxuICAgICAgICBtb25pdG9yLmNvbnRleHQucHVzaFBDKGx1YihsZW4ubGFiZWwsIGFjdHVhbERlbGV0ZUNvdW50LmxhYmVsKSk7XG5cbiAgICAgICAgd2hpbGUgKGsgPiBhY3R1YWxTdGFydC52YWx1ZSkge1xuICAgICAgICAgICAgbGV0IGZyb20gPSBuZXcgVmFsdWUoayArIGFjdHVhbERlbGV0ZUNvdW50LnZhbHVlIC0gMSwgYWN0dWFsRGVsZXRlQ291bnQubGFiZWwpO1xuICAgICAgICAgICAgbGV0IHRvID0gbmV3IFZhbHVlKGsgKyBpdGVtQ291bnQgLSAxLCBib3QpO1xuICAgICAgICAgICAgbGV0IGZyb21QcmVzZW50ID0gTy5IYXNQcm9wZXJ0eShmcm9tKTtcblxuXG4gICAgICAgICAgICBpZiAoZnJvbVByZXNlbnQudmFsdWUpIHtcbiAgICAgICAgICAgICAgICBsZXQgZnJvbVZhbHVlID0gTy5HZXQoZnJvbSk7XG4gICAgICAgICAgICAgICAgTy5QdXQodG8sIGZyb21WYWx1ZSwgdHJ1ZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIE8uRGVsZXRlKHRvLCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGstLTtcbiAgICAgICAgfVxuXG4gICAgICAgIG1vbml0b3IuY29udGV4dC5wb3BQQygpO1xuXG4gICAgfVxuXG4gICAgayA9IGFjdHVhbFN0YXJ0LnZhbHVlO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgTy5QdXQobmV3IFZhbHVlKGsgKyBpLCBhY3R1YWxTdGFydC5sYWJlbCksIGl0ZW1zW2ldLCB0cnVlKTtcbiAgICB9XG5cbiAgICBPLlB1dChjb25zdGFudHMubGVuZ3RoLCBuZXcgVmFsdWUobGVuLnZhbHVlIC0gYWN0dWFsRGVsZXRlQ291bnQudmFsdWUgKyBpdGVtQ291bnQsIGx1YihsZW4ubGFiZWwsIGFjdHVhbERlbGV0ZUNvdW50LmxhYmVsKSksIHRydWUpO1xuICAgIHJldHVybiBuZXcgVmFsdWUoQSwgYm90KTtcbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyB1bnNoaWZ0LCAxNS40LjQuMTNcblxuZnVuY3Rpb24gdW5zaGlmdCh0aGlzQXJnOiBWYWx1ZTxWYWx1ZVR5cGVzPiwgYXJnczogVmFsdWU8VmFsdWVUeXBlcz5bXSk6IFZhbHVlPG51bWJlcj4ge1xuICAgIGxldCBPID0gVG9PYmplY3QodGhpc0FyZyk7XG4gICAgbGV0IGxlblZhbCA9IE8uR2V0KGNvbnN0YW50cy5sZW5ndGgpO1xuICAgIGxldCBsZW4gPSBUb1VJbnQzMihsZW5WYWwpO1xuICAgIGxldCBhcmdDb3VudCA9IGFyZ3MubGVuZ3RoO1xuICAgIGxldCBrID0gbGVuLnZhbHVlO1xuXG4gICAgbW9uaXRvci5jb250ZXh0LnB1c2hQQyhsZW4ubGFiZWwpO1xuICAgIHdoaWxlIChrID4gMCkge1xuICAgICAgICBsZXQgZnJvbSA9IG5ldyBWYWx1ZShrIC0gMSwgbGVuLmxhYmVsKTtcbiAgICAgICAgbGV0IHRvID0gbmV3IFZhbHVlKGsgKyBhcmdDb3VudCAtIDEsIGxlbi5sYWJlbCk7XG4gICAgICAgIGxldCBmcm9tUHJlc2VudCA9IE8uSGFzUHJvcGVydHkoZnJvbSk7XG5cbiAgICAgICAgbW9uaXRvci5jb250ZXh0LnB1c2hQQyhmcm9tUHJlc2VudC5sYWJlbCk7XG4gICAgICAgIGlmIChmcm9tUHJlc2VudC52YWx1ZSkge1xuICAgICAgICAgICAgbGV0IGZyb21WYWx1ZSA9IE8uR2V0KGZyb20pO1xuICAgICAgICAgICAgTy5QdXQodG8sIGZyb21WYWx1ZSwgdHJ1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBPLkRlbGV0ZSh0bywgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgbW9uaXRvci5jb250ZXh0LnBvcFBDKCk7XG5cbiAgICAgICAgay0tO1xuICAgIH1cbiAgICBtb25pdG9yLmNvbnRleHQucG9wUEMoKTtcblxuICAgIGxldCBqID0gMDtcbiAgICBsZXQgaXRlbXMgPSBhcmdzO1xuICAgIGZvciAoOyBqIDwgYXJnQ291bnQ7IGorKykge1xuICAgICAgICBsZXQgRSA9IGl0ZW1zW2pdO1xuICAgICAgICBPLlB1dChuZXcgVmFsdWUoaiwgYm90KSwgRSwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgTy5QdXQoY29uc3RhbnRzLmxlbmd0aCwgbmV3IFZhbHVlKGxlbi52YWx1ZSArIGFyZ0NvdW50LCBsZW4ubGFiZWwpKTtcbiAgICByZXR1cm4gbmV3IFZhbHVlKGxlbi52YWx1ZSArIGFyZ0NvdW50LCBsZW4ubGFiZWwpO1xufTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBpbmRleE9mLCAxNS40LjQuMTRcblxuZnVuY3Rpb24gaW5kZXhPZih0aGlzQXJnOiBWYWx1ZTxWYWx1ZVR5cGVzPiwgYXJnczogVmFsdWU8VmFsdWVUeXBlcz5bXSk6IFZhbHVlPG51bWJlcj4ge1xuICAgIGxldCBzZWFyY2hFbGVtZW50ID0gYXJnc1swXSB8fCBuZXcgVmFsdWUodW5kZWZpbmVkLCBib3QpO1xuICAgIGxldCBmcm9tSW5kZXggPSBhcmdzWzFdO1xuXG4gICAgbGV0IE8gPSBUb09iamVjdCh0aGlzQXJnKTtcbiAgICBsZXQgbGVuVmFsID0gTy5HZXQoY29uc3RhbnRzLmxlbmd0aCk7XG4gICAgbGV0IGxlbiA9IFRvVUludDMyKGxlblZhbCk7XG5cbiAgICBsZXQgYyA9IG1vbml0b3IuY29udGV4dDtcblxuICAgIGlmIChsZW4udmFsdWUgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIG5ldyBWYWx1ZSgtMSwgbGVuLmxhYmVsKTtcbiAgICB9XG5cbiAgICBsZXQgbGFiZWwgPSBsdWIobGVuLmxhYmVsKTtcbiAgICBjLnB1c2hQQyhsZW4ubGFiZWwpO1xuXG4gICAgbGV0IG4gPSBmcm9tSW5kZXggPyBUb0ludGVnZXIoZnJvbUluZGV4KSA6IG5ldyBWYWx1ZSgwLCBib3QpO1xuXG4gICAgYy5sYWJlbHMucGMgPSBsdWIoYy5sYWJlbHMucGMsIG4ubGFiZWwpO1xuICAgIGxhYmVsID0gbHViKGxhYmVsLCBuLmxhYmVsKTtcblxuICAgIGlmIChuLnZhbHVlID49IGxlbi52YWx1ZSkge1xuICAgICAgICBjLnBvcFBDKCk7XG4gICAgICAgIHJldHVybiBuZXcgVmFsdWUoLTEsIGxhYmVsKTtcbiAgICB9XG5cbiAgICBsZXQgayA6IFZhbHVlPG51bWJlcj47XG4gICAgaWYgKG4udmFsdWUgPj0gMCkge1xuICAgICAgICBrID0gbjtcbiAgICB9IGVsc2Uge1xuICAgICAgICBrID0gbmV3IFZhbHVlKGxlbi52YWx1ZSAtIE1hdGguYWJzKG4udmFsdWUpLCBsdWIobGVuLmxhYmVsLCBuLmxhYmVsKSk7XG4gICAgICAgIGlmIChrLnZhbHVlIDwgMCkge1xuICAgICAgICAgICAgay52YWx1ZSA9IDA7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB3aGlsZSAoay52YWx1ZSA8IGxlbi52YWx1ZSkge1xuICAgICAgICBsZXQga1N0cmluZyA9IFRvU3RyaW5nKGspO1xuICAgICAgICBsZXQga1ByZXNlbnQgPSBPLkhhc1Byb3BlcnR5KGtTdHJpbmcpO1xuXG4gICAgICAgIGMubGFiZWxzLnBjID0gbHViKGMubGFiZWxzLnBjLCBrUHJlc2VudC5sYWJlbCk7XG4gICAgICAgIGxhYmVsID0gbHViKGxhYmVsLCBrUHJlc2VudC5sYWJlbCk7XG5cbiAgICAgICAgaWYgKGtQcmVzZW50LnZhbHVlKSB7XG4gICAgICAgICAgICBsZXQgZWxlbWVudEsgPSBPLkdldChrU3RyaW5nKTtcblxuICAgICAgICAgICAgYy5sYWJlbHMucGMgPSBsdWIoYy5sYWJlbHMucGMsIGVsZW1lbnRLLmxhYmVsKTtcbiAgICAgICAgICAgIGxhYmVsID0gbHViKGxhYmVsLCBlbGVtZW50Sy5sYWJlbCk7XG5cbiAgICAgICAgICAgIGxldCBzYW1lID0gc2VhcmNoRWxlbWVudC52YWx1ZSA9PT0gZWxlbWVudEsudmFsdWU7XG5cbiAgICAgICAgICAgIGlmIChzYW1lKSB7XG4gICAgICAgICAgICAgICAgay5sYWJlbCA9IGxhYmVsO1xuICAgICAgICAgICAgICAgIGMucG9wUEMoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGsudmFsdWUrKztcbiAgICB9XG5cbiAgICBjLnBvcFBDKCk7XG4gICAgay52YWx1ZSA9IC0xO1xuICAgIGsubGFiZWwgPSBsYWJlbDtcbiAgICByZXR1cm4gaztcbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBsYXN0SW5kZXhPZiwgMTUuNC40LjE1XG5cbmZ1bmN0aW9uIGxhc3RJbmRleE9mKHRoaXNBcmc6IFZhbHVlPFZhbHVlVHlwZXM+LCBhcmdzOiBWYWx1ZTxWYWx1ZVR5cGVzPltdKTogVmFsdWU8bnVtYmVyPiB7XG4gICAgbGV0IHNlYXJjaEVsZW1lbnQgPSBhcmdzWzBdIHx8IG5ldyBWYWx1ZSh1bmRlZmluZWQsIGJvdCk7XG4gICAgbGV0IGZyb21JbmRleCA9IGFyZ3NbMV07XG5cbiAgICBsZXQgTyA9IFRvT2JqZWN0KHRoaXNBcmcpO1xuICAgIGxldCBsZW5WYWwgPSBPLkdldChjb25zdGFudHMubGVuZ3RoKTtcbiAgICBsZXQgbGVuID0gVG9VSW50MzIobGVuVmFsKTtcblxuICAgIGxldCBjID0gbW9uaXRvci5jb250ZXh0O1xuXG4gICAgaWYgKGxlbi52YWx1ZSA9PT0gMCkge1xuICAgICAgICByZXR1cm4gbmV3IFZhbHVlKC0xLCBsZW4ubGFiZWwpO1xuICAgIH1cblxuICAgIGxldCBsYWJlbCA9IGx1YihsZW4ubGFiZWwpO1xuXG4gICAgYy5wdXNoUEMobGVuLmxhYmVsKTtcblxuICAgIGxldCBuID0gZnJvbUluZGV4ID8gVG9JbnRlZ2VyKGZyb21JbmRleCkgOiBuZXcgVmFsdWUobGVuLnZhbHVlIC0gMSwgbGVuLmxhYmVsKTtcblxuICAgIGxldCBrIDogVmFsdWU8bnVtYmVyPjtcbiAgICBpZiAobi52YWx1ZSA+PSAwKSB7XG4gICAgICAgIGsgPSBuZXcgVmFsdWUoTWF0aC5taW4obi52YWx1ZSwgbGVuLnZhbHVlIC0gMSksIGx1YihuLmxhYmVsLCBsZW4ubGFiZWwpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBrID0gbmV3IFZhbHVlKGxlbi52YWx1ZSAtIE1hdGguYWJzKG4udmFsdWUpLCBsdWIobi5sYWJlbCwgbGVuLmxhYmVsKSk7XG4gICAgfVxuXG4gICAgYy5sYWJlbHMucGMgPSBsdWIoYy5sYWJlbHMucGMsIGsubGFiZWwpO1xuICAgIGxhYmVsID0gbHViKGxhYmVsLCBrLmxhYmVsKTtcblxuICAgIHdoaWxlIChrLnZhbHVlID49IDApIHtcbiAgICAgICAgbGV0IGtQcmVzZW50ID0gTy5IYXNQcm9wZXJ0eShrKTtcbiAgICAgICAgYy5sYWJlbHMucGMgPSBsdWIoYy5sYWJlbHMucGMsIGtQcmVzZW50LmxhYmVsKTtcbiAgICAgICAgbGFiZWwgPSBsdWIobGFiZWwsIGtQcmVzZW50LmxhYmVsKTtcblxuICAgICAgICBpZiAoa1ByZXNlbnQudmFsdWUpIHtcbiAgICAgICAgICAgIGxldCBlbGVtZW50SyA9IE8uR2V0KGspO1xuXG4gICAgICAgICAgICBjLmxhYmVscy5wYyA9IGx1YihjLmxhYmVscy5wYywgZWxlbWVudEsubGFiZWwpO1xuICAgICAgICAgICAgbGFiZWwgPSBsdWIobGFiZWwsIGVsZW1lbnRLLmxhYmVsKTtcblxuICAgICAgICAgICAgbGV0IHNhbWUgPSBzZWFyY2hFbGVtZW50LnZhbHVlID09PSBlbGVtZW50Sy52YWx1ZTtcblxuICAgICAgICAgICAgaWYgKHNhbWUpIHtcbiAgICAgICAgICAgICAgICBrLmxhYmVsID0gbGFiZWw7XG4gICAgICAgICAgICAgICAgYy5wb3BQQygpO1xuICAgICAgICAgICAgICAgIHJldHVybiBrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGsudmFsdWUtLTtcbiAgICB9XG5cbiAgICBjLnBvcFBDKCk7XG5cbiAgICBrLnZhbHVlID0gLTE7XG4gICAgay5sYWJlbCA9IGxhYmVsO1xuICAgIHJldHVybiBrO1xufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIGV2ZXJ5LCAxNS40LjQuMTZcblxuZnVuY3Rpb24gZXZlcnkodGhpc0FyZzogVmFsdWU8VmFsdWVUeXBlcz4sIGFyZ3M6IFZhbHVlPFZhbHVlVHlwZXM+W10pOiBWYWx1ZTxib29sZWFuPiB7XG4gICAgbGV0IGNhbGxiYWNrZm4gPSBhcmdzWzBdIHx8IG5ldyBWYWx1ZSh1bmRlZmluZWQsIGJvdCk7XG4gICAgbGV0IGNhbGxiYWNrdGhpc0FyZyA9IGFyZ3NbMV0gfHwgbmV3IFZhbHVlKHVuZGVmaW5lZCwgYm90KTtcblxuICAgIGxldCBPID0gVG9PYmplY3QodGhpc0FyZyk7XG4gICAgbGV0IGxlblZhbCA9IE8uR2V0KGNvbnN0YW50cy5sZW5ndGgpO1xuICAgIGxldCBsZW4gPSBUb1VJbnQzMihsZW5WYWwpO1xuXG4gICAgbGV0IGMgPSBtb25pdG9yLmNvbnRleHQ7XG4gICAgbGV0IGlzQ2FsbGFibGUgPSBJc0NhbGxhYmxlKGNhbGxiYWNrZm4pO1xuXG4gICAgbGV0IGxhYmVsID0gbHViKGNhbGxiYWNrZm4ubGFiZWwpO1xuXG4gICAgYy5wdXNoUEMoY2FsbGJhY2tmbi5sYWJlbCk7XG5cbiAgICBpZiAoIWlzQ2FsbGFibGUpIHtcbiAgICAgICAgbW9uaXRvci5UaHJvdyhcbiAgICAgICAgICAgIFwiVHlwZUVycm9yXCIsXG4gICAgICAgICAgICAnQXJyYXkucHJvdG90eXBlLmV2ZXJ5OiBub3QgYSBmdW5jdGlvbicsXG4gICAgICAgICAgICBib3RcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBsZXQgayA9IG5ldyBWYWx1ZSgwLCBsZW4ubGFiZWwpO1xuICAgIGMubGFiZWxzLnBjID0gbHViKGMubGFiZWxzLnBjLCBsZW4ubGFiZWwpO1xuICAgIGxhYmVsID0gbHViKGxhYmVsLCBsZW4ubGFiZWwpO1xuICAgIHdoaWxlIChrLnZhbHVlIDwgbGVuLnZhbHVlKSB7XG4gICAgICAgIGxldCBrUHJlc2VudCA9IE8uSGFzUHJvcGVydHkoayk7XG4gICAgICAgIGMubGFiZWxzLnBjID0gbHViKGMubGFiZWxzLnBjLCBrUHJlc2VudC5sYWJlbCk7XG4gICAgICAgIGxhYmVsID0gbHViKGxhYmVsLCBrUHJlc2VudC5sYWJlbCk7XG5cbiAgICAgICAgaWYgKGtQcmVzZW50LnZhbHVlKSB7XG4gICAgICAgICAgICBsZXQga1ZhbHVlID0gTy5HZXQoayk7XG4gICAgICAgICAgICBsZXQgdGVzdFJlc3VsdCA9IGNhbGxiYWNrZm4uQ2FsbChjYWxsYmFja3RoaXNBcmcsIFtrVmFsdWUsIGssIE9dKTtcbiAgICAgICAgICAgIGxldCBiID0gVG9Cb29sZWFuKHRlc3RSZXN1bHQpO1xuICAgICAgICAgICAgYy5sYWJlbHMucGMgPSBsdWIoYy5sYWJlbHMucGMsIGIubGFiZWwpO1xuICAgICAgICAgICAgbGFiZWwgPSBsdWIobGFiZWwsIGIubGFiZWwpO1xuXG4gICAgICAgICAgICBpZiAoIWIudmFsdWUpIHtcbiAgICAgICAgICAgICAgICBjLnBvcFBDKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBWYWx1ZShmYWxzZSwgbGFiZWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGsudmFsdWUrKztcbiAgICB9XG5cbiAgICBjLnBvcFBDKCk7XG4gICAgcmV0dXJuIG5ldyBWYWx1ZSh0cnVlLCBsYWJlbCk7XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gc29tZSwgMTUuNC40LjE3XG5cbmZ1bmN0aW9uIHNvbWUodGhpc0FyZzogVmFsdWU8VmFsdWVUeXBlcz4sIGFyZ3M6IFZhbHVlPFZhbHVlVHlwZXM+W10pOiBWYWx1ZTxib29sZWFuPiB7XG4gICAgbGV0IGNhbGxiYWNrZm4gPSBhcmdzWzBdIHx8IG5ldyBWYWx1ZSh1bmRlZmluZWQsIGJvdCk7XG4gICAgbGV0IGNhbGxiYWNrdGhpc0FyZyA9IGFyZ3NbMV0gfHwgbmV3IFZhbHVlKHVuZGVmaW5lZCwgYm90KTtcblxuICAgIGxldCBPID0gVG9PYmplY3QodGhpc0FyZyk7XG4gICAgbGV0IGxlblZhbCA9IE8uR2V0KGNvbnN0YW50cy5sZW5ndGgpO1xuICAgIGxldCBsZW4gPSBUb1VJbnQzMihsZW5WYWwpO1xuXG4gICAgbGV0IGMgPSBtb25pdG9yLmNvbnRleHQ7XG4gICAgbGV0IGlzQ2FsbGFibGUgPSBJc0NhbGxhYmxlKGNhbGxiYWNrZm4pO1xuXG4gICAgbGV0IGxhYmVsID0gbHViKGNhbGxiYWNrZm4ubGFiZWwpO1xuXG4gICAgYy5wdXNoUEMoY2FsbGJhY2tmbi5sYWJlbCk7XG5cbiAgICBpZiAoIWlzQ2FsbGFibGUpIHtcbiAgICAgICAgbW9uaXRvci5UaHJvdyhcbiAgICAgICAgICAgIFwiVHlwZUVycm9yXCIsXG4gICAgICAgICAgICAnQXJyYXkucHJvdG90eXBlLmV2ZXJ5OiBub3QgYSBmdW5jdGlvbicsXG4gICAgICAgICAgICBib3RcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBsZXQgayA9IG5ldyBWYWx1ZSgwLCBsZW4ubGFiZWwpO1xuICAgIGMubGFiZWxzLnBjID0gbHViKGMubGFiZWxzLnBjLCBsZW4ubGFiZWwpO1xuICAgIGxhYmVsID0gbHViKGxhYmVsLCBsZW4ubGFiZWwpO1xuICAgIHdoaWxlIChrLnZhbHVlIDwgbGVuLnZhbHVlKSB7XG4gICAgICAgIGxldCBrUHJlc2VudCA9IE8uSGFzUHJvcGVydHkoayk7XG4gICAgICAgIGMubGFiZWxzLnBjID0gbHViKGMubGFiZWxzLnBjLCBrUHJlc2VudC5sYWJlbCk7XG4gICAgICAgIGxhYmVsID0gbHViKGxhYmVsLCBrUHJlc2VudC5sYWJlbCk7XG5cbiAgICAgICAgaWYgKGtQcmVzZW50LnZhbHVlKSB7XG4gICAgICAgICAgICBsZXQga1ZhbHVlID0gTy5HZXQoayk7XG4gICAgICAgICAgICBsZXQgdGVzdFJlc3VsdCA9IGNhbGxiYWNrZm4uQ2FsbChjYWxsYmFja3RoaXNBcmcsIFtrVmFsdWUsIGssIE9dKTtcbiAgICAgICAgICAgIGxldCBiID0gVG9Cb29sZWFuKHRlc3RSZXN1bHQpO1xuICAgICAgICAgICAgYy5sYWJlbHMucGMgPSBsdWIoYy5sYWJlbHMucGMsIGIubGFiZWwpO1xuICAgICAgICAgICAgbGFiZWwgPSBsdWIobGFiZWwsIGIubGFiZWwpO1xuXG4gICAgICAgICAgICBpZiAoYi52YWx1ZSkge1xuICAgICAgICAgICAgICAgIGMucG9wUEMoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFZhbHVlKHRydWUsIGxhYmVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBrLnZhbHVlKys7XG4gICAgfVxuXG4gICAgYy5wb3BQQygpO1xuICAgIHJldHVybiBuZXcgVmFsdWUoZmFsc2UsIGxhYmVsKTtcbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBmb3JFYWNoLCAxNS40LjQuMThcblxuZnVuY3Rpb24gZm9yRWFjaCh0aGlzQXJnOiBWYWx1ZTxWYWx1ZVR5cGVzPiwgYXJnczogVmFsdWU8VmFsdWVUeXBlcz5bXSk6IFZhbHVlPHVuZGVmaW5lZD4ge1xuICAgIGxldCBjYWxsYmFja2ZuID0gYXJnc1swXSB8fCBuZXcgVmFsdWUodW5kZWZpbmVkLCBib3QpO1xuICAgIGxldCBjYWxsYmFja3RoaXNBcmcgPSBhcmdzWzFdIHx8IG5ldyBWYWx1ZSh1bmRlZmluZWQsIGJvdCk7XG5cbiAgICBsZXQgTyA9IFRvT2JqZWN0KHRoaXNBcmcpO1xuICAgIGxldCBsZW5WYWwgPSBPLkdldChjb25zdGFudHMubGVuZ3RoKTtcbiAgICBsZXQgbGVuID0gVG9VSW50MzIobGVuVmFsKTtcblxuICAgIGxldCBjID0gbW9uaXRvci5jb250ZXh0O1xuICAgIGxldCBpc0NhbGxhYmxlID0gSXNDYWxsYWJsZShjYWxsYmFja2ZuKTtcblxuICAgIGMucHVzaFBDKGNhbGxiYWNrZm4ubGFiZWwpO1xuXG4gICAgaWYgKCFpc0NhbGxhYmxlKSB7XG4gICAgICAgIG1vbml0b3IuVGhyb3coXG4gICAgICAgICAgICBcIlR5cGVFcnJvclwiLFxuICAgICAgICAgICAgJ0FycmF5LnByb3RvdHlwZS5ldmVyeTogbm90IGEgZnVuY3Rpb24nLFxuICAgICAgICAgICAgYm90XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgbGV0IGsgPSBuZXcgVmFsdWUoMCwgbGVuLmxhYmVsKTtcbiAgICBjLmxhYmVscy5wYyA9IGx1YihjLmxhYmVscy5wYywgbGVuLmxhYmVsKTtcblxuICAgIHdoaWxlIChrLnZhbHVlIDwgbGVuLnZhbHVlKSB7XG4gICAgICAgIGxldCBrUHJlc2VudCA9IE8uSGFzUHJvcGVydHkoayk7XG4gICAgICAgIGMubGFiZWxzLnBjID0gbHViKGMubGFiZWxzLnBjLCBrUHJlc2VudC5sYWJlbCk7XG5cbiAgICAgICAgaWYgKGtQcmVzZW50LnZhbHVlKSB7XG4gICAgICAgICAgICBsZXQga1ZhbHVlID0gTy5HZXQoayk7XG4gICAgICAgICAgICBjYWxsYmFja2ZuLkNhbGwoY2FsbGJhY2t0aGlzQXJnLCBba1ZhbHVlLCBrLCBPXSk7XG4gICAgICAgIH1cbiAgICAgICAgay52YWx1ZSsrO1xuICAgIH1cblxuICAgIGMucG9wUEMoKTtcbiAgICByZXR1cm4gbmV3IFZhbHVlKHVuZGVmaW5lZCwgYm90KTtcbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBtYXAsIDE1LjQuNC4xOVxuXG5mdW5jdGlvbiBtYXAodGhpc0FyZzogVmFsdWU8VmFsdWVUeXBlcz4sIGFyZ3M6IFZhbHVlPFZhbHVlVHlwZXM+W10pOiBWYWx1ZTxBcnJheU9iamVjdD4ge1xuICAgIGxldCBjYWxsYmFja2ZuID0gYXJnc1swXSB8fCBuZXcgVmFsdWUodW5kZWZpbmVkLCBib3QpO1xuICAgIGxldCBjYWxsYmFja3RoaXNBcmcgPSBhcmdzWzFdIHx8IG5ldyBWYWx1ZSh1bmRlZmluZWQsIGJvdCk7XG5cbiAgICBsZXQgTyA9IFRvT2JqZWN0KHRoaXNBcmcpO1xuICAgIGxldCBsZW5WYWwgPSBPLkdldChjb25zdGFudHMubGVuZ3RoKTtcbiAgICBsZXQgbGVuID0gVG9VSW50MzIobGVuVmFsKTtcblxuICAgIGxldCBjID0gbW9uaXRvci5jb250ZXh0O1xuICAgIGxldCBpc0NhbGxhYmxlID0gSXNDYWxsYWJsZShjYWxsYmFja2ZuKTtcblxuICAgIGMucHVzaFBDKGNhbGxiYWNrZm4ubGFiZWwpO1xuXG4gICAgaWYgKCFpc0NhbGxhYmxlKSB7XG4gICAgICAgIG1vbml0b3IuVGhyb3coXG4gICAgICAgICAgICBcIlR5cGVFcnJvclwiLFxuICAgICAgICAgICAgJ0FycmF5LnByb3RvdHlwZS5ldmVyeTogbm90IGEgZnVuY3Rpb24nLFxuICAgICAgICAgICAgYm90XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgbGV0IEEgPSBuZXcgQXJyYXlPYmplY3QoKTtcbiAgICBBLnByb3BlcnRpZXMubGVuZ3RoID0gbGVuLnZhbHVlO1xuICAgIEEubGFiZWxzLmxlbmd0aCA9IHtcbiAgICAgICAgdmFsdWU6IGxlbi5sYWJlbCxcbiAgICAgICAgZXhpc3RlbmNlOiBib3RcbiAgICB9O1xuXG4gICAgbGV0IGsgPSBuZXcgVmFsdWUoMCwgbGVuLmxhYmVsKTtcbiAgICBjLmxhYmVscy5wYyA9IGx1YihjLmxhYmVscy5wYywgbGVuLmxhYmVsKTtcblxuICAgIHdoaWxlIChrLnZhbHVlIDwgbGVuLnZhbHVlKSB7XG4gICAgICAgIGxldCBrUHJlc2VudCA9IE8uSGFzUHJvcGVydHkoayk7XG4gICAgICAgIGMubGFiZWxzLnBjID0gbHViKGMubGFiZWxzLnBjLCBrUHJlc2VudC5sYWJlbCk7XG5cbiAgICAgICAgaWYgKGtQcmVzZW50LnZhbHVlKSB7XG4gICAgICAgICAgICBsZXQga1ZhbHVlID0gTy5HZXQoayk7XG4gICAgICAgICAgICBsZXQgbWFwcGVkVmFsdWUgPSBjYWxsYmFja2ZuLkNhbGwoY2FsbGJhY2t0aGlzQXJnLCBba1ZhbHVlLCBrLCBPXSk7XG5cbiAgICAgICAgICAgIEEuRGVmaW5lT3duUHJvcGVydHkoaywge1xuICAgICAgICAgICAgICAgIHZhbHVlOiBtYXBwZWRWYWx1ZS52YWx1ZSxcbiAgICAgICAgICAgICAgICBsYWJlbDogbWFwcGVkVmFsdWUubGFiZWwsXG4gICAgICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgICAgICAgIH0sIGZhbHNlKTtcblxuICAgICAgICB9XG4gICAgICAgIGsudmFsdWUrKztcbiAgICB9XG5cbiAgICBjLnBvcFBDKCk7XG4gICAgcmV0dXJuIG5ldyBWYWx1ZShBLCBib3QpO1xufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIGZpbHRlciwgMTUuNC40LjIwXG5cbmZ1bmN0aW9uIGZpbHRlcih0aGlzQXJnOiBWYWx1ZTxWYWx1ZVR5cGVzPiwgYXJnczogVmFsdWU8VmFsdWVUeXBlcz5bXSk6IFZhbHVlPEFycmF5T2JqZWN0PiB7XG4gICAgbGV0IGNhbGxiYWNrZm4gPSBhcmdzWzBdIHx8IG5ldyBWYWx1ZSh1bmRlZmluZWQsIGJvdCk7XG4gICAgbGV0IGNhbGxiYWNrdGhpc0FyZyA9IGFyZ3NbMV0gfHwgbmV3IFZhbHVlKHVuZGVmaW5lZCwgYm90KTtcblxuICAgIGxldCBPID0gVG9PYmplY3QodGhpc0FyZyk7XG4gICAgbGV0IGxlblZhbCA9IE8uR2V0KGNvbnN0YW50cy5sZW5ndGgpO1xuICAgIGxldCBsZW4gPSBUb1VJbnQzMihsZW5WYWwpO1xuXG4gICAgbGV0IGMgPSBtb25pdG9yLmNvbnRleHQ7XG4gICAgbGV0IGlzQ2FsbGFibGUgPSBJc0NhbGxhYmxlKGNhbGxiYWNrZm4pO1xuXG4gICAgYy5wdXNoUEMoY2FsbGJhY2tmbi5sYWJlbCk7XG5cbiAgICBpZiAoIWlzQ2FsbGFibGUpIHtcbiAgICAgICAgbW9uaXRvci5UaHJvdyhcbiAgICAgICAgICAgIFwiVHlwZUVycm9yXCIsXG4gICAgICAgICAgICAnQXJyYXkucHJvdG90eXBlLmV2ZXJ5OiBub3QgYSBmdW5jdGlvbicsXG4gICAgICAgICAgICBib3RcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBsZXQgQSA9IG5ldyBBcnJheU9iamVjdCgpO1xuXG4gICAgbGV0IGsgPSBuZXcgVmFsdWUoMCwgbGVuLmxhYmVsKTtcbiAgICBsZXQgdG8gPSBuZXcgVmFsdWUoMCwgbGVuLmxhYmVsKTtcblxuICAgIGMubGFiZWxzLnBjID0gbHViKGMubGFiZWxzLnBjLCBsZW4ubGFiZWwpO1xuXG4gICAgd2hpbGUgKGsudmFsdWUgPCBsZW4udmFsdWUpIHtcbiAgICAgICAgbGV0IGtQcmVzZW50ID0gTy5IYXNQcm9wZXJ0eShrKTtcbiAgICAgICAgYy5sYWJlbHMucGMgPSBsdWIoYy5sYWJlbHMucGMsIGtQcmVzZW50LmxhYmVsKTtcblxuICAgICAgICBpZiAoa1ByZXNlbnQudmFsdWUpIHtcbiAgICAgICAgICAgIGxldCBrVmFsdWUgPSBPLkdldChrKTtcbiAgICAgICAgICAgIGxldCBzZWxlY3RlZCA9IGNhbGxiYWNrZm4uQ2FsbChjYWxsYmFja3RoaXNBcmcsIFtrVmFsdWUsIGssIE9dKTtcbiAgICAgICAgICAgIHNlbGVjdGVkID0gVG9Cb29sZWFuKHNlbGVjdGVkKTtcblxuICAgICAgICAgICAgYy5sYWJlbHMucGMgPSBsdWIoYy5sYWJlbHMucGMsIHNlbGVjdGVkLmxhYmVsKTtcblxuICAgICAgICAgICAgaWYgKHNlbGVjdGVkLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgQS5EZWZpbmVPd25Qcm9wZXJ0eSh0bywge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZToga1ZhbHVlLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBsYWJlbDoga1ZhbHVlLmxhYmVsLFxuICAgICAgICAgICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICAgICAgICAgICAgfSwgZmFsc2UpO1xuXG4gICAgICAgICAgICAgICAgdG8udmFsdWUrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBrLnZhbHVlKys7XG4gICAgfVxuXG4gICAgYy5wb3BQQygpO1xuICAgIHJldHVybiBuZXcgVmFsdWUoQSwgYm90KTtcbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyByZWR1Y2UsIDE1LjQuNC4yMVxuXG5mdW5jdGlvbiByZWR1Y2UodGhpc0FyZzogVmFsdWU8VmFsdWVUeXBlcz4sIGFyZ3M6IFZhbHVlPFZhbHVlVHlwZXM+W10pOiBWYWx1ZTxWYWx1ZVR5cGVzPiB7XG4gICAgbGV0IGNhbGxiYWNrZm4gPSBhcmdzWzBdIHx8IG5ldyBWYWx1ZSh1bmRlZmluZWQsIGJvdCk7XG4gICAgbGV0IGluaXRpYWxWYWx1ZSA9IGFyZ3NbMV07XG5cbiAgICBsZXQgTyA9IFRvT2JqZWN0KHRoaXNBcmcpO1xuICAgIGxldCBsZW5WYWwgPSBPLkdldChjb25zdGFudHMubGVuZ3RoKTtcbiAgICBsZXQgbGVuID0gVG9VSW50MzIobGVuVmFsKTtcblxuICAgIGxldCBjID0gbW9uaXRvci5jb250ZXh0O1xuICAgIGxldCBpc0NhbGxhYmxlID0gSXNDYWxsYWJsZShjYWxsYmFja2ZuKTtcblxuICAgIGxldCBsYWJlbCA9IGx1YihjYWxsYmFja2ZuLmxhYmVsKTtcblxuICAgIGMucHVzaFBDKGNhbGxiYWNrZm4ubGFiZWwpO1xuXG4gICAgaWYgKCFpc0NhbGxhYmxlKSB7XG4gICAgICAgIG1vbml0b3IuVGhyb3coXG4gICAgICAgICAgICBcIlR5cGVFcnJvclwiLFxuICAgICAgICAgICAgJ0FycmF5LnByb3RvdHlwZS5ldmVyeTogbm90IGEgZnVuY3Rpb24nLFxuICAgICAgICAgICAgYm90XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgbGV0IGsgPSBuZXcgVmFsdWUoMCwgbGVuLmxhYmVsKTtcbiAgICBsZXQgYWNjdW11bGF0b3IgOiBWYWx1ZTxWYWx1ZVR5cGVzPiA9IG5ldyBWYWx1ZSh1bmRlZmluZWQsIGJvdCk7XG5cbiAgICBpZiAoaW5pdGlhbFZhbHVlKSB7XG4gICAgICAgIGFjY3VtdWxhdG9yID0gaW5pdGlhbFZhbHVlO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGxldCBrUHJlc2VudCA9IG5ldyBWYWx1ZShmYWxzZSwgYm90KTtcblxuICAgICAgICBjLmxhYmVscy5wYyA9IGx1YihjLmxhYmVscy5wYywgbGVuLmxhYmVsKTtcbiAgICAgICAgbGFiZWwgPSBsdWIobGFiZWwsIGxlbi5sYWJlbCk7XG5cbiAgICAgICAgd2hpbGUgKCFrUHJlc2VudC52YWx1ZSAmJiBrLnZhbHVlIDwgbGVuLnZhbHVlKSB7XG4gICAgICAgICAgICBrUHJlc2VudCA9IE8uSGFzUHJvcGVydHkoayk7XG5cbiAgICAgICAgICAgIGMubGFiZWxzLnBjID0gbHViKGMubGFiZWxzLnBjLCBrUHJlc2VudC5sYWJlbCk7XG4gICAgICAgICAgICBsYWJlbCA9IGx1YihsYWJlbCwga1ByZXNlbnQubGFiZWwpO1xuXG4gICAgICAgICAgICBpZiAoa1ByZXNlbnQudmFsdWUpIHtcbiAgICAgICAgICAgICAgICBhY2N1bXVsYXRvciA9IE8uR2V0KGspO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgay52YWx1ZSsrO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFrUHJlc2VudC52YWx1ZSkge1xuICAgICAgICAgICAgbW9uaXRvci5UaHJvdyhcbiAgICAgICAgICAgICAgICBcIlR5cGVFcnJvclwiLFxuICAgICAgICAgICAgICAgICdBcnJheS5wcm90b3R5cGUucmVkdWNlOiBlbXB0eSBhcnJheSB3aXRoIG5vIGluaXRpYWwgdmFsdWUnLFxuICAgICAgICAgICAgICAgIGJvdFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHdoaWxlIChrLnZhbHVlIDwgbGVuLnZhbHVlKSB7XG4gICAgICAgIGxldCBrUHJlc2VudCA9IE8uSGFzUHJvcGVydHkoayk7XG5cbiAgICAgICAgYy5sYWJlbHMucGMgPSBsdWIoYy5sYWJlbHMucGMsIGtQcmVzZW50LmxhYmVsKTtcbiAgICAgICAgbGFiZWwgPSBsdWIobGFiZWwsIGtQcmVzZW50LmxhYmVsKTtcblxuICAgICAgICBpZiAoa1ByZXNlbnQudmFsdWUpIHtcbiAgICAgICAgICAgIGxldCBrVmFsdWUgPSBPLkdldChrKTtcbiAgICAgICAgICAgIGFjY3VtdWxhdG9yID0gY2FsbGJhY2tmbi5DYWxsKG5ldyBWYWx1ZSh1bmRlZmluZWQsIGJvdCksIFthY2N1bXVsYXRvciwga1ZhbHVlLCBrLCBPXSk7XG4gICAgICAgIH1cbiAgICAgICAgay52YWx1ZSsrO1xuICAgIH1cblxuICAgIGMucG9wUEMoKTtcbiAgICBhY2N1bXVsYXRvci5yYWlzZShsYWJlbCk7XG4gICAgcmV0dXJuIGFjY3VtdWxhdG9yO1xufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIHJlZHVjZVJpZ2h0LCAxNS40LjQuMjJcblxuZnVuY3Rpb24gcmVkdWNlUmlnaHQodGhpc0FyZzogVmFsdWU8VmFsdWVUeXBlcz4sIGFyZ3M6IFZhbHVlPFZhbHVlVHlwZXM+W10pOiBWYWx1ZTxWYWx1ZVR5cGVzPiB7XG4gICAgbGV0IGNhbGxiYWNrZm4gPSBhcmdzWzBdIHx8IG5ldyBWYWx1ZSh1bmRlZmluZWQsIGJvdCk7XG4gICAgbGV0IGluaXRpYWxWYWx1ZSA9IGFyZ3NbMV07XG5cbiAgICBsZXQgTyA9IFRvT2JqZWN0KHRoaXNBcmcpO1xuICAgIGxldCBsZW5WYWwgPSBPLkdldChjb25zdGFudHMubGVuZ3RoKTtcbiAgICBsZXQgbGVuID0gVG9VSW50MzIobGVuVmFsKTtcblxuICAgIGxldCBjID0gbW9uaXRvci5jb250ZXh0O1xuICAgIGxldCBpc0NhbGxhYmxlID0gSXNDYWxsYWJsZShjYWxsYmFja2ZuKTtcblxuICAgIGxldCBsYWJlbCA9IGx1YihjYWxsYmFja2ZuLmxhYmVsKTtcblxuICAgIGMucHVzaFBDKGNhbGxiYWNrZm4ubGFiZWwpO1xuXG4gICAgaWYgKCFpc0NhbGxhYmxlKSB7XG4gICAgICAgIG1vbml0b3IuVGhyb3coXG4gICAgICAgICAgICBcIlR5cGVFcnJvclwiLFxuICAgICAgICAgICAgJ0FycmF5LnByb3RvdHlwZS5ldmVyeTogbm90IGEgZnVuY3Rpb24nLFxuICAgICAgICAgICAgYm90XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgbGV0IGsgPSBuZXcgVmFsdWUobGVuLnZhbHVlIC0gMSwgbGVuLmxhYmVsKTtcbiAgICBsZXQgYWNjdW11bGF0b3IgOiBWYWx1ZTxWYWx1ZVR5cGVzPiA9IG5ldyBWYWx1ZSh1bmRlZmluZWQsIGJvdCk7XG5cbiAgICBpZiAoaW5pdGlhbFZhbHVlKSB7XG4gICAgICAgIGFjY3VtdWxhdG9yID0gaW5pdGlhbFZhbHVlO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGxldCBrUHJlc2VudCA9IG5ldyBWYWx1ZShmYWxzZSwgYm90KTtcblxuICAgICAgICBjLmxhYmVscy5wYyA9IGx1YihjLmxhYmVscy5wYywgbGVuLmxhYmVsKTtcbiAgICAgICAgbGFiZWwgPSBsdWIobGFiZWwsIGxlbi5sYWJlbCk7XG5cbiAgICAgICAgd2hpbGUgKCFrUHJlc2VudC52YWx1ZSAmJiBrLnZhbHVlID49IDApIHtcbiAgICAgICAgICAgIGtQcmVzZW50ID0gTy5IYXNQcm9wZXJ0eShrKTtcblxuICAgICAgICAgICAgYy5sYWJlbHMucGMgPSBsdWIoYy5sYWJlbHMucGMsIGtQcmVzZW50LmxhYmVsKTtcbiAgICAgICAgICAgIGxhYmVsID0gbHViKGxhYmVsLCBrUHJlc2VudC5sYWJlbCk7XG5cbiAgICAgICAgICAgIGlmIChrUHJlc2VudC52YWx1ZSkge1xuICAgICAgICAgICAgICAgIGFjY3VtdWxhdG9yID0gTy5HZXQoayk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBrLnZhbHVlLS07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWtQcmVzZW50LnZhbHVlKSB7XG4gICAgICAgICAgICBtb25pdG9yLlRocm93KFxuICAgICAgICAgICAgICAgIFwiVHlwZUVycm9yXCIsXG4gICAgICAgICAgICAgICAgJ0FycmF5LnByb3RvdHlwZS5yZWR1Y2U6IGVtcHR5IGFycmF5IHdpdGggbm8gaW5pdGlhbCB2YWx1ZScsXG4gICAgICAgICAgICAgICAgYm90XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgd2hpbGUgKGsudmFsdWUgPj0gMCkge1xuICAgICAgICBsZXQga1ByZXNlbnQgPSBPLkhhc1Byb3BlcnR5KGspO1xuXG4gICAgICAgIGMubGFiZWxzLnBjID0gbHViKGMubGFiZWxzLnBjLCBrUHJlc2VudC5sYWJlbCk7XG4gICAgICAgIGxhYmVsID0gbHViKGxhYmVsLCBrUHJlc2VudC5sYWJlbCk7XG5cbiAgICAgICAgaWYgKGtQcmVzZW50LnZhbHVlKSB7XG4gICAgICAgICAgICBsZXQga1ZhbHVlID0gTy5HZXQoayk7XG4gICAgICAgICAgICBhY2N1bXVsYXRvciA9IGNhbGxiYWNrZm4uQ2FsbChuZXcgVmFsdWUodW5kZWZpbmVkLCBib3QpLCBbYWNjdW11bGF0b3IsIGtWYWx1ZSwgaywgT10pO1xuICAgICAgICB9XG4gICAgICAgIGsudmFsdWUtLTtcbiAgICB9XG5cbiAgICBjLnBvcFBDKCk7XG4gICAgYWNjdW11bGF0b3IucmFpc2UobGFiZWwpO1xuICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbn0iLCJpbXBvcnQgeyBWYWx1ZSB9IGZyb20gXCIuLi9WYWx1ZVwiO1xuaW1wb3J0ICogYXMgY29uc3RhbnRzIGZyb20gJy4uL0NvbnN0YW50cyc7XG5pbXBvcnQgeyBCdWlsdGluRnVuY3Rpb25PYmplY3QgfSBmcm9tIFwiLi4vT2JqZWN0cy9CdWlsdGluRnVuY3Rpb25PYmplY3RcIjtcbmltcG9ydCB7IERlZmluZUZGRiwgRGVmaW5lVEZUIH0gZnJvbSAnLi4vRGVmaW5lJztcbmltcG9ydCB7IEVjbWFPYmplY3QgfSBmcm9tICcuLi9PYmplY3RzL0VjbWFPYmplY3QnO1xuaW1wb3J0IHsgYm90IH0gZnJvbSAnLi4vTGFiZWwnO1xuaW1wb3J0IHsgTW9uaXRvckJhc2UgfSBmcm9tICcuLi9Nb25pdG9yQmFzZSc7XG5pbXBvcnQgeyBWYWx1ZVR5cGVzIH0gZnJvbSBcIi4uL0ludGVyZmFjZXNcIjtcbmltcG9ydCB7IElzQm9vbGVhbk9iamVjdCB9IGZyb20gXCIuLi9PYmplY3RzL0Jvb2xlYW5PYmplY3RcIjtcblxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZGVjbGFyZSB2YXIgbW9uaXRvcjogTW9uaXRvckJhc2U7XG5cbi8vIDE1LjYuNCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZXhwb3J0IGNsYXNzIEJvb2xlYW5Qcm90b3R5cGUgZXh0ZW5kcyBFY21hT2JqZWN0IHtcbiAgICBQcmltaXRpdmVWYWx1ZSA6IEJvb2xlYW47XG4gICAgaG9zdCA6IGFueTtcblxuICAgIGNvbnN0cnVjdG9yKGhvc3QgOiBCb29sZWFuKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuQ2xhc3MgPSAnQm9vbGVhbic7XG4gICAgICAgIHRoaXMuUHJpbWl0aXZlVmFsdWUgPSBuZXcgQm9vbGVhbihmYWxzZSk7XG4gICAgICAgIHRoaXMuaG9zdCA9IGhvc3Q7XG4gICAgfVxuXG4gICAgU2V0dXAoKSA6IHZvaWQge1xuICAgICAgICB0aGlzLlByb3RvdHlwZSA9IG5ldyBWYWx1ZShtb25pdG9yLmluc3RhbmNlcy5PYmplY3RQcm90b3R5cGUsIGJvdCk7XG5cbiAgICAgICAgRGVmaW5lVEZUKHRoaXMsIGNvbnN0YW50cy5jb25zdHJ1Y3RvciwgbW9uaXRvci5pbnN0YW5jZXMuQm9vbGVhbkNvbnN0cnVjdG9yKTtcbiAgICAgICAgRGVmaW5lVEZUKHRoaXMsIGNvbnN0YW50cy50b1N0cmluZywgbmV3IEJ1aWx0aW5GdW5jdGlvbk9iamVjdCh0b1N0cmluZywgMCwgdGhpcy5ob3N0LnRvU3RyaW5nKSk7XG4gICAgICAgIERlZmluZVRGVCh0aGlzLCBuZXcgVmFsdWUoJ3ZhbHVlT2YnLCBib3QpLCBuZXcgQnVpbHRpbkZ1bmN0aW9uT2JqZWN0KHZhbHVlT2YsIDAsIHRoaXMuaG9zdC52YWx1ZU9mKSk7XG4gICAgfVxufVxuXG5cbi8vIHRvU3RyaW5nLCAxNS42LjQuMiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5mdW5jdGlvbiB0b1N0cmluZyh0aGlzQXJnOiBWYWx1ZTxWYWx1ZVR5cGVzPiwgYXJnczogVmFsdWU8VmFsdWVUeXBlcz5bXSk6IFZhbHVlPFZhbHVlVHlwZXM+IHtcbiAgICBsZXQgYiA9IHZhbHVlT2YodGhpc0FyZywgYXJncyk7XG4gICAgbGV0IHMgPSBiLnZhbHVlID8gJ3RydWUnIDogJ2ZhbHNlJztcbiAgICByZXR1cm4gbmV3IFZhbHVlKHMsIGIubGFiZWwpO1xufTtcblxuLy8gdmFsdWVPZiwgMTUuNi40LjMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIFxuXG5mdW5jdGlvbiB2YWx1ZU9mKHRoaXNBcmc6IFZhbHVlPFZhbHVlVHlwZXM+LCBhcmdzOiBWYWx1ZTxWYWx1ZVR5cGVzPltdKTogVmFsdWU8Ym9vbGVhbj4ge1xuXG4gICAgaWYgKHR5cGVvZiB0aGlzQXJnLnZhbHVlID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBWYWx1ZSh0aGlzQXJnLnZhbHVlLCB0aGlzQXJnLmxhYmVsKTtcbiAgICB9XG5cbiAgICBpZiAoSXNCb29sZWFuT2JqZWN0KHRoaXNBcmcpKSB7XG4gICAgICAgIHJldHVybiBuZXcgVmFsdWUodGhpc0FyZy52YWx1ZS5QcmltaXRpdmVWYWx1ZS52YWx1ZU9mKCksIHRoaXNBcmcubGFiZWwpO1xuICAgIH1cblxuICAgIG1vbml0b3IuVGhyb3coXG4gICAgICAgIFwiVHlwZUVycm9yXCIsXG4gICAgICAgICdCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mIGlzIG5vdCBnZW5lcmljJyxcbiAgICAgICAgdGhpc0FyZy5sYWJlbFxuICAgICk7XG4gICAgdGhyb3cgJ1R5cGVTY3JpcHQnO1xufTsiLCJpbXBvcnQgeyBWYWx1ZSB9IGZyb20gXCIuLi9WYWx1ZVwiO1xuaW1wb3J0ICogYXMgY29uc3RhbnRzIGZyb20gJy4uL0NvbnN0YW50cyc7XG5pbXBvcnQgeyBCdWlsdGluRnVuY3Rpb25PYmplY3QgfSBmcm9tIFwiLi4vT2JqZWN0cy9CdWlsdGluRnVuY3Rpb25PYmplY3RcIjtcbmltcG9ydCB7IFRvTnVtYmVyIH0gZnJvbSAnLi4vQ29udmVyc2lvbi9Ub051bWJlcic7XG5pbXBvcnQgeyBNb25pdG9yQmFzZSB9IGZyb20gJy4uL01vbml0b3JCYXNlJztcblxuaW1wb3J0IHsgRGVmaW5lRkZGLCBEZWZpbmVURlQgfSBmcm9tICcuLi9EZWZpbmUnO1xuaW1wb3J0IHsgRWNtYU9iamVjdCB9IGZyb20gJy4uL09iamVjdHMvRWNtYU9iamVjdCc7XG5cbmltcG9ydCB7IGJvdCwgbHViLCBMYWJlbCwgbGUgfSBmcm9tICcuLi9MYWJlbCc7XG5pbXBvcnQgeyBJc0RhdGVPYmplY3QsIERhdGVPYmplY3QgfSBmcm9tIFwiLi4vT2JqZWN0cy9EYXRlT2JqZWN0XCI7XG5pbXBvcnQgeyBCb29sZWFuUHJvdG90eXBlIH0gZnJvbSBcIi4vQm9vbGVhblByb3RvdHlwZVwiO1xuaW1wb3J0IHsgVmFsdWVUeXBlcyB9IGZyb20gXCIuLi9JbnRlcmZhY2VzXCI7XG5cbmRlY2xhcmUgdmFyIG1vbml0b3I6IE1vbml0b3JCYXNlO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFRoZSBEYXRlIFByb3RvdHlwZSwgMTUuOS41XG5leHBvcnQgY2xhc3MgRGF0ZVByb3RvdHlwZSBleHRlbmRzIEVjbWFPYmplY3Qge1xuXG4gICAgaG9zdDogRGF0ZTtcblxuICAgIFByaW1pdGl2ZVZhbHVlOiBWYWx1ZTxudW1iZXI+O1xuXG4gICAgY29uc3RydWN0b3IoaG9zdCA6IERhdGUpIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICB0aGlzLkNsYXNzID0gJ0RhdGUnO1xuICAgICAgICB0aGlzLlByaW1pdGl2ZVZhbHVlID0gbmV3IFZhbHVlKE5hTiwgYm90KTtcblxuICAgICAgICB0aGlzLmhvc3QgPSBob3N0O1xuICAgIH1cblxuICAgIFNldHVwKCkgOiB2b2lkIHtcblxuICAgICAgICB0aGlzLlByb3RvdHlwZSA9IG5ldyBWYWx1ZShtb25pdG9yLmluc3RhbmNlcy5PYmplY3RQcm90b3R5cGUsIGJvdCk7XG5cbiAgICAgICAgRGVmaW5lVEZUKHRoaXMsIGNvbnN0YW50cy5jb25zdHJ1Y3RvciwgbW9uaXRvci5pbnN0YW5jZXMuRGF0ZUNvbnN0cnVjdG9yKTtcbiAgICAgICAgRGVmaW5lVEZUKHRoaXMsIGNvbnN0YW50cy50b1N0cmluZywgbmV3IEJ1aWx0aW5GdW5jdGlvbk9iamVjdCh0b1N0cmluZywgMCwgdGhpcy5ob3N0LnRvU3RyaW5nKSk7XG4gICAgICAgIERlZmluZVRGVCh0aGlzLCBjb25zdGFudHMudG9EYXRlU3RyaW5nLCBuZXcgQnVpbHRpbkZ1bmN0aW9uT2JqZWN0KHRvRGF0ZVN0cmluZywgMCwgdGhpcy5ob3N0LnRvRGF0ZVN0cmluZykpO1xuICAgICAgICBEZWZpbmVURlQodGhpcywgY29uc3RhbnRzLnRvVGltZVN0cmluZywgbmV3IEJ1aWx0aW5GdW5jdGlvbk9iamVjdCh0b1RpbWVTdHJpbmcsIDAsIHRoaXMuaG9zdC50b1RpbWVTdHJpbmcpKTtcbiAgICAgICAgRGVmaW5lVEZUKHRoaXMsIGNvbnN0YW50cy50b0xvY2FsZVN0cmluZywgbmV3IEJ1aWx0aW5GdW5jdGlvbk9iamVjdCh0b0xvY2FsZVN0cmluZywgMCwgdGhpcy5ob3N0LnRvTG9jYWxlU3RyaW5nKSk7XG4gICAgICAgIERlZmluZVRGVCh0aGlzLCBjb25zdGFudHMudG9Mb2NhbGVEYXRlU3RyaW5nLCBuZXcgQnVpbHRpbkZ1bmN0aW9uT2JqZWN0KHRvTG9jYWxlRGF0ZVN0cmluZywgMCwgdGhpcy5ob3N0LnRvTG9jYWxlRGF0ZVN0cmluZykpO1xuICAgICAgICBEZWZpbmVURlQodGhpcywgY29uc3RhbnRzLnRvTG9jYWxlVGltZVN0cmluZywgbmV3IEJ1aWx0aW5GdW5jdGlvbk9iamVjdCh0b0xvY2FsZVRpbWVTdHJpbmcsIDAsIHRoaXMuaG9zdC50b0xvY2FsZVRpbWVTdHJpbmcpKTtcbiAgICAgICAgRGVmaW5lVEZUKHRoaXMsIG5ldyBWYWx1ZSgndmFsdWVPZicsIGJvdCksIG5ldyBCdWlsdGluRnVuY3Rpb25PYmplY3QodmFsdWVPZiwgMCwgdGhpcy5ob3N0LnZhbHVlT2YpKTtcbiAgICAgICAgRGVmaW5lVEZUKHRoaXMsIGNvbnN0YW50cy5nZXRUaW1lLCBuZXcgQnVpbHRpbkZ1bmN0aW9uT2JqZWN0KGdldFRpbWUsIDAsIHRoaXMuaG9zdC5nZXRUaW1lKSk7XG4gICAgICAgIERlZmluZVRGVCh0aGlzLCBjb25zdGFudHMuZ2V0RnVsbFllYXIsIG5ldyBCdWlsdGluRnVuY3Rpb25PYmplY3QoZ2V0RnVsbFllYXIsIDAsIHRoaXMuaG9zdC5nZXRGdWxsWWVhcikpO1xuICAgICAgICBEZWZpbmVURlQodGhpcywgY29uc3RhbnRzLmdldFVUQ0Z1bGxZZWFyLCBuZXcgQnVpbHRpbkZ1bmN0aW9uT2JqZWN0KGdldFVUQ0Z1bGxZZWFyLCAwLCB0aGlzLmhvc3QuZ2V0VVRDRnVsbFllYXIpKTtcbiAgICAgICAgRGVmaW5lVEZUKHRoaXMsIGNvbnN0YW50cy5nZXRNb250aCwgbmV3IEJ1aWx0aW5GdW5jdGlvbk9iamVjdChnZXRNb250aCwgMCwgdGhpcy5ob3N0LmdldE1vbnRoKSk7XG4gICAgICAgIERlZmluZVRGVCh0aGlzLCBjb25zdGFudHMuZ2V0VVRDTW9udGgsIG5ldyBCdWlsdGluRnVuY3Rpb25PYmplY3QoZ2V0VVRDTW9udGgsIDAsIHRoaXMuaG9zdC5nZXRVVENNb250aCkpO1xuICAgICAgICBEZWZpbmVURlQodGhpcywgY29uc3RhbnRzLmdldERhdGUsIG5ldyBCdWlsdGluRnVuY3Rpb25PYmplY3QoZ2V0RGF0ZSwgMCwgdGhpcy5ob3N0LmdldERhdGUpKTtcbiAgICAgICAgRGVmaW5lVEZUKHRoaXMsIGNvbnN0YW50cy5nZXRVVENEYXRlLCBuZXcgQnVpbHRpbkZ1bmN0aW9uT2JqZWN0KGdldFVUQ0RhdGUsIDAsIHRoaXMuaG9zdC5nZXRVVENEYXRlKSk7XG4gICAgICAgIERlZmluZVRGVCh0aGlzLCBjb25zdGFudHMuZ2V0RGF5LCBuZXcgQnVpbHRpbkZ1bmN0aW9uT2JqZWN0KGdldERheSwgMCwgdGhpcy5ob3N0LmdldERheSkpO1xuICAgICAgICBEZWZpbmVURlQodGhpcywgY29uc3RhbnRzLmdldFVUQ0RheSwgbmV3IEJ1aWx0aW5GdW5jdGlvbk9iamVjdChnZXRVVENEYXksIDAsIHRoaXMuaG9zdC5nZXRVVENEYXkpKTtcbiAgICAgICAgRGVmaW5lVEZUKHRoaXMsIGNvbnN0YW50cy5nZXRIb3VycywgbmV3IEJ1aWx0aW5GdW5jdGlvbk9iamVjdChnZXRIb3VycywgMCwgdGhpcy5ob3N0LmdldEhvdXJzKSk7XG4gICAgICAgIERlZmluZVRGVCh0aGlzLCBjb25zdGFudHMuZ2V0VVRDSG91cnMsIG5ldyBCdWlsdGluRnVuY3Rpb25PYmplY3QoZ2V0VVRDSG91cnMsIDAsIHRoaXMuaG9zdC5nZXRVVENIb3VycykpO1xuICAgICAgICBEZWZpbmVURlQodGhpcywgY29uc3RhbnRzLmdldE1pbnV0ZXMsIG5ldyBCdWlsdGluRnVuY3Rpb25PYmplY3QoZ2V0TWludXRlcywgMCwgdGhpcy5ob3N0LmdldE1pbnV0ZXMpKTtcbiAgICAgICAgRGVmaW5lVEZUKHRoaXMsIGNvbnN0YW50cy5nZXRVVENNaW51dGVzLCBuZXcgQnVpbHRpbkZ1bmN0aW9uT2JqZWN0KGdldFVUQ01pbnV0ZXMsIDAsIHRoaXMuaG9zdC5nZXRVVENNaW51dGVzKSk7XG4gICAgICAgIERlZmluZVRGVCh0aGlzLCBjb25zdGFudHMuZ2V0U2Vjb25kcywgbmV3IEJ1aWx0aW5GdW5jdGlvbk9iamVjdChnZXRTZWNvbmRzLCAwLCB0aGlzLmhvc3QuZ2V0U2Vjb25kcykpO1xuICAgICAgICBEZWZpbmVURlQodGhpcywgY29uc3RhbnRzLmdldFVUQ1NlY29uZHMsIG5ldyBCdWlsdGluRnVuY3Rpb25PYmplY3QoZ2V0VVRDU2Vjb25kcywgMCwgdGhpcy5ob3N0LmdldFVUQ1NlY29uZHMpKTtcbiAgICAgICAgRGVmaW5lVEZUKHRoaXMsIGNvbnN0YW50cy5nZXRNaWxsaXNlY29uZHMsIG5ldyBCdWlsdGluRnVuY3Rpb25PYmplY3QoZ2V0TWlsbGlzZWNvbmRzLCAwLCB0aGlzLmhvc3QuZ2V0TWlsbGlzZWNvbmRzKSk7XG4gICAgICAgIERlZmluZVRGVCh0aGlzLCBjb25zdGFudHMuZ2V0VVRDTWlsbGlzZWNvbmRzLCBuZXcgQnVpbHRpbkZ1bmN0aW9uT2JqZWN0KGdldFVUQ01pbGxpc2Vjb25kcywgMCwgdGhpcy5ob3N0LmdldFVUQ01pbGxpc2Vjb25kcykpO1xuICAgICAgICBEZWZpbmVURlQodGhpcywgY29uc3RhbnRzLmdldFRpbWV6b25lT2Zmc2V0LCBuZXcgQnVpbHRpbkZ1bmN0aW9uT2JqZWN0KGdldFRpbWV6b25lT2Zmc2V0LCAwLCB0aGlzLmhvc3QuZ2V0VGltZXpvbmVPZmZzZXQpKTtcbiAgICAgICAgRGVmaW5lVEZUKHRoaXMsIGNvbnN0YW50cy5zZXRUaW1lLCBuZXcgQnVpbHRpbkZ1bmN0aW9uT2JqZWN0KHNldFRpbWUsIDEsIHRoaXMuaG9zdC5zZXRUaW1lKSk7XG4gICAgICAgIERlZmluZVRGVCh0aGlzLCBjb25zdGFudHMuc2V0TWlsbGlzZWNvbmRzLCBuZXcgQnVpbHRpbkZ1bmN0aW9uT2JqZWN0KHNldE1pbGxpc2Vjb25kcywgMCwgdGhpcy5ob3N0LnNldE1pbGxpc2Vjb25kcykpO1xuICAgICAgICBEZWZpbmVURlQodGhpcywgY29uc3RhbnRzLnNldFVUQ01pbGxpc2Vjb25kcywgbmV3IEJ1aWx0aW5GdW5jdGlvbk9iamVjdChzZXRVVENNaWxsaXNlY29uZHMsIDAsIHRoaXMuaG9zdC5zZXRVVENNaWxsaXNlY29uZHMpKTtcbiAgICAgICAgRGVmaW5lVEZUKHRoaXMsIGNvbnN0YW50cy5zZXRTZWNvbmRzLCBuZXcgQnVpbHRpbkZ1bmN0aW9uT2JqZWN0KHNldFNlY29uZHMsIDAsIHRoaXMuaG9zdC5zZXRTZWNvbmRzKSk7XG4gICAgICAgIERlZmluZVRGVCh0aGlzLCBjb25zdGFudHMuc2V0VVRDU2Vjb25kcywgbmV3IEJ1aWx0aW5GdW5jdGlvbk9iamVjdChzZXRVVENTZWNvbmRzLCAwLCB0aGlzLmhvc3Quc2V0VVRDU2Vjb25kcykpO1xuICAgICAgICBEZWZpbmVURlQodGhpcywgY29uc3RhbnRzLnNldE1pbnV0ZXMsIG5ldyBCdWlsdGluRnVuY3Rpb25PYmplY3Qoc2V0TWludXRlcywgMCwgdGhpcy5ob3N0LnNldE1pbnV0ZXMpKTtcbiAgICAgICAgRGVmaW5lVEZUKHRoaXMsIGNvbnN0YW50cy5zZXRVVENNaW51dGVzLCBuZXcgQnVpbHRpbkZ1bmN0aW9uT2JqZWN0KHNldFVUQ01pbnV0ZXMsIDAsIHRoaXMuaG9zdC5zZXRVVENNaW51dGVzKSk7XG4gICAgICAgIERlZmluZVRGVCh0aGlzLCBjb25zdGFudHMuc2V0SG91cnMsIG5ldyBCdWlsdGluRnVuY3Rpb25PYmplY3Qoc2V0SG91cnMsIDAsIHRoaXMuaG9zdC5zZXRIb3VycykpO1xuICAgICAgICBEZWZpbmVURlQodGhpcywgY29uc3RhbnRzLnNldFVUQ0hvdXJzLCBuZXcgQnVpbHRpbkZ1bmN0aW9uT2JqZWN0KHNldFVUQ0hvdXJzLCAwLCB0aGlzLmhvc3Quc2V0VVRDSG91cnMpKTtcbiAgICAgICAgRGVmaW5lVEZUKHRoaXMsIGNvbnN0YW50cy5zZXREYXRlLCBuZXcgQnVpbHRpbkZ1bmN0aW9uT2JqZWN0KHNldERhdGUsIDAsIHRoaXMuaG9zdC5zZXREYXRlKSk7XG4gICAgICAgIERlZmluZVRGVCh0aGlzLCBjb25zdGFudHMuc2V0VVRDRGF0ZSwgbmV3IEJ1aWx0aW5GdW5jdGlvbk9iamVjdChzZXRVVENEYXRlLCAwLCB0aGlzLmhvc3Quc2V0VVRDRGF0ZSkpO1xuICAgICAgICBEZWZpbmVURlQodGhpcywgY29uc3RhbnRzLnNldE1vbnRoLCBuZXcgQnVpbHRpbkZ1bmN0aW9uT2JqZWN0KHNldE1vbnRoLCAyLCB0aGlzLmhvc3Quc2V0TW9udGgpKTtcbiAgICAgICAgRGVmaW5lVEZUKHRoaXMsIGNvbnN0YW50cy5zZXRVVENNb250aCwgbmV3IEJ1aWx0aW5GdW5jdGlvbk9iamVjdChzZXRVVENNb250aCwgMCwgdGhpcy5ob3N0LnNldFVUQ01vbnRoKSk7XG4gICAgICAgIERlZmluZVRGVCh0aGlzLCBjb25zdGFudHMuc2V0RnVsbFllYXIsIG5ldyBCdWlsdGluRnVuY3Rpb25PYmplY3Qoc2V0RnVsbFllYXIsIDAsIHRoaXMuaG9zdC5zZXRGdWxsWWVhcikpO1xuICAgICAgICBEZWZpbmVURlQodGhpcywgY29uc3RhbnRzLnNldFVUQ0Z1bGxZZWFyLCBuZXcgQnVpbHRpbkZ1bmN0aW9uT2JqZWN0KHNldFVUQ0Z1bGxZZWFyLCAwLCB0aGlzLmhvc3Quc2V0VVRDRnVsbFllYXIpKTtcbiAgICAgICAgRGVmaW5lVEZUKHRoaXMsIGNvbnN0YW50cy50b1VUQ1N0cmluZywgbmV3IEJ1aWx0aW5GdW5jdGlvbk9iamVjdCh0b1VUQ1N0cmluZywgMCwgdGhpcy5ob3N0LnRvVVRDU3RyaW5nKSk7XG4gICAgICAgIERlZmluZVRGVCh0aGlzLCBjb25zdGFudHMudG9JU09TdHJpbmcsIG5ldyBCdWlsdGluRnVuY3Rpb25PYmplY3QodG9JU09TdHJpbmcsIDAsIHRoaXMuaG9zdC50b0lTT1N0cmluZykpO1xuICAgICAgICBEZWZpbmVURlQodGhpcywgY29uc3RhbnRzLnRvSlNPTiwgbmV3IEJ1aWx0aW5GdW5jdGlvbk9iamVjdCh0b0pTT04sIDAsIHRoaXMuaG9zdC50b0pTT04pKTtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBEZWZpbmVURlQodGhpcywgY29uc3RhbnRzLnNldFllYXIsIG5ldyBCdWlsdGluRnVuY3Rpb25PYmplY3Qoc2V0WWVhciwgMSwgdGhpcy5ob3N0LnNldFllYXIpKTtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBEZWZpbmVURlQodGhpcywgY29uc3RhbnRzLmdldFllYXIsIG5ldyBCdWlsdGluRnVuY3Rpb25PYmplY3QoZ2V0WWVhciwgMCwgdGhpcy5ob3N0LmdldFllYXIpKTtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBEZWZpbmVURlQodGhpcywgY29uc3RhbnRzLnRvR01UU3RyaW5nLCBuZXcgQnVpbHRpbkZ1bmN0aW9uT2JqZWN0KHRvVVRDU3RyaW5nLCAwLCB0aGlzLmhvc3QudG9HVE1TdHJpbmcpKTtcbiAgICB9XG5cbn1cblxuZnVuY3Rpb24gYXNzZXJ0RGF0ZSh2IDogVmFsdWU8YW55PiwgY2FsbGVyIDogc3RyaW5nKSA6IHZvaWQge1xuXG4gICAgaWYgKCFJc0RhdGVPYmplY3QodikpIHtcbiAgICAgICAgbW9uaXRvci5jb250ZXh0LnB1c2hQQyh2LmxhYmVsKTtcbiAgICAgICAgbW9uaXRvci5UaHJvdyhcbiAgICAgICAgICAgIFwiVHlwZUVycm9yXCIsXG4gICAgICAgICAgICBjYWxsZXIgKyAnIGlzIG5vdCBnZW5lcmljJyxcbiAgICAgICAgICAgIGJvdFxuICAgICAgICApO1xuICAgIH1cblxufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZnVuY3Rpb24gbWtHZW5lcmljR2V0KGZuYW1lIDogc3RyaW5nKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0aGlzQXJnOiBWYWx1ZTxEYXRlT2JqZWN0PiwgYXJnczogVmFsdWU8VmFsdWVUeXBlcz5bXSk6IFZhbHVlPFZhbHVlVHlwZXM+IHtcbiAgICAgICAgYXNzZXJ0RGF0ZSh0aGlzQXJnLCBmbmFtZSk7XG5cbiAgICAgICAgbGV0IGxhYmVsID0gbHViKHRoaXNBcmcubGFiZWwsIHRoaXNBcmcudmFsdWUuUHJpbWl0aXZlTGFiZWwpO1xuICAgICAgICBsZXQgZGF0ZSA9IHRoaXNBcmcudmFsdWUuUHJpbWl0aXZlVmFsdWU7XG5cbiAgICAgICAgbGV0IHZhbHVlID0gZGF0ZVtmbmFtZV0uY2FsbChkYXRlKTtcblxuICAgICAgICByZXR1cm4gbmV3IFZhbHVlKHZhbHVlLCBsYWJlbCk7XG4gICAgfTtcbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmZ1bmN0aW9uIG1rR2VuZXJpY1NldChmbmFtZSA6IHN0cmluZykge1xuICAgIHJldHVybiBmdW5jdGlvbiAodGhpc0FyZzogVmFsdWU8RGF0ZU9iamVjdD4sIGFyZ3M6IFZhbHVlPFZhbHVlVHlwZXM+W10pOiBWYWx1ZTxWYWx1ZVR5cGVzPiB7XG4gICAgICAgIGFzc2VydERhdGUodGhpc0FyZywgZm5hbWUpO1xuXG4gICAgICAgIGxldCBjb250ZXh0ID0gbHViKHRoaXNBcmcubGFiZWwsIG1vbml0b3IuY29udGV4dC5lZmZlY3RpdmVQQyk7XG5cbiAgICAgICAgbW9uaXRvci5hc3NlcnQobGUoY29udGV4dCwgdGhpc0FyZy52YWx1ZS5QcmltaXRpdmVMYWJlbCksXG4gICAgICAgICAgICBmbmFtZSArICc6IGNvbnRleHQgJyArIGNvbnRleHQgKyAnIG5vdCBiZWxvdyBzdGF0ZSBsYWJlbCBvZiBEYXRlIG9iamVjdCAnICsgdGhpc0FyZy52YWx1ZS5QcmltaXRpdmVMYWJlbFxuICAgICAgICApO1xuXG4gICAgICAgIGxldCBfYXJncyA6IG51bWJlcltdID0gW107XG4gICAgICAgIGxldCBsYWJlbCA9IG5ldyBMYWJlbCgpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBhcmdzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgeCA9IFRvTnVtYmVyKGFyZ3NbaV0pO1xuICAgICAgICAgICAgbGFiZWwgPSBsdWIobGFiZWwsIHgubGFiZWwpO1xuICAgICAgICAgICAgX2FyZ3NbaV0gPSB4LnZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpc0FyZy52YWx1ZS5QcmltaXRpdmVMYWJlbCA9IGx1Yih0aGlzQXJnLnZhbHVlLlByaW1pdGl2ZUxhYmVsLCBsYWJlbCk7XG4gICAgICAgIGxhYmVsID0gbHViKHRoaXNBcmcubGFiZWwsIHRoaXNBcmcudmFsdWUuUHJpbWl0aXZlTGFiZWwpO1xuXG4gICAgICAgIGxldCBkYXRlID0gdGhpc0FyZy52YWx1ZS5QcmltaXRpdmVWYWx1ZTtcbiAgICAgICAgbGV0IHZhbHVlID0gZGF0ZVtmbmFtZV0uYXBwbHkoZGF0ZSwgX2FyZ3MpO1xuXG4gICAgICAgIHJldHVybiBuZXcgVmFsdWUodmFsdWUsIGxhYmVsKTtcbiAgICB9O1xufVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyB0b0lTT1N0cmluZywgMTUuOS41LjQzXG5sZXQgdG9JU09TdHJpbmcgPSBta0dlbmVyaWNHZXQoJ3RvSVNPU3RyaW5nJyk7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gdG9TdHJpbmcsIDE1LjkuNS4yXG5sZXQgdG9TdHJpbmcgPSBta0dlbmVyaWNHZXQoJ3RvU3RyaW5nJyk7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gdG9EYXRlU3RyaW5nLCAxNS45LjUuP1xubGV0IHRvRGF0ZVN0cmluZyA9IG1rR2VuZXJpY0dldCgndG9EYXRlU3RyaW5nJyk7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gdG9UaW1lU3RyaW5nLCAxNS45LjUuP1xubGV0IHRvVGltZVN0cmluZyA9IG1rR2VuZXJpY0dldCgndG9UaW1lU3RyaW5nJyk7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gdG9Mb2NhbGVTdHJpbmcsIDE1LjkuNS4/XG5sZXQgdG9Mb2NhbGVTdHJpbmcgPSBta0dlbmVyaWNHZXQoJ3RvTG9jYWxlU3RyaW5nJyk7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gdG9Mb2NhbGVEYXRlU3RyaW5nLCAxNS45LjUuP1xubGV0IHRvTG9jYWxlRGF0ZVN0cmluZyA9IG1rR2VuZXJpY0dldCgndG9Mb2NhbGVEYXRlU3RyaW5nJyk7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gdG9Mb2NhbGVUaW1lU3RyaW5nLCAxNS45LjUuP1xubGV0IHRvTG9jYWxlVGltZVN0cmluZyA9IG1rR2VuZXJpY0dldCgndG9Mb2NhbGVUaW1lU3RyaW5nJyk7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gdmFsdWVPZiwgMTUuOS41Lj9cbmZ1bmN0aW9uIHZhbHVlT2YodGhpc0FyZywgYXJncykge1xuICAgIGFzc2VydERhdGUodGhpc0FyZywgJ3ZhbHVlT2YnKTtcbiAgICByZXR1cm4gbmV3IFZhbHVlKHRoaXNBcmcudmFsdWUuUHJpbWl0aXZlVmFsdWUudmFsdWVPZigpLCB0aGlzQXJnLmxhYmVsKTtcbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBnZXRUaW1lLCAxNS45LjUuOVxubGV0IGdldFRpbWUgPSBta0dlbmVyaWNHZXQoJ2dldFRpbWUnKTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBnZXRGdWxsWWVhciwgMTUuOS41Lj9cbmxldCBnZXRGdWxsWWVhciA9IG1rR2VuZXJpY0dldCgnZ2V0RnVsbFllYXInKTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBnZXRVVENGdWxsWWVhciwgMTUuOS41Lj9cbmxldCBnZXRVVENGdWxsWWVhciA9IG1rR2VuZXJpY0dldCgnZ2V0VVRDRnVsbFllYXInKTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBnZXRNb250aCwgMTUuOS41Lj9cbmxldCBnZXRNb250aCA9IG1rR2VuZXJpY0dldCgnZ2V0TW9udGgnKTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBnZXRVVENNb250aCwgMTUuOS41Lj9cbmxldCBnZXRVVENNb250aCA9IG1rR2VuZXJpY0dldCgnZ2V0VVRDTW9udGgnKTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBnZXREYXRlLCAxNS45LjUuP1xubGV0IGdldERhdGUgPSBta0dlbmVyaWNHZXQoJ2dldERhdGUnKTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBnZXRVVENEYXRlLCAxNS45LjUuP1xubGV0IGdldFVUQ0RhdGUgPSBta0dlbmVyaWNHZXQoJ2dldFVUQ0RhdGUnKTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBnZXREYXksIDE1LjkuNS4/XG5sZXQgZ2V0RGF5ID0gbWtHZW5lcmljR2V0KCdnZXREYXknKTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBnZXRVVENEYXksIDE1LjkuNS4/XG5sZXQgZ2V0VVRDRGF5ID0gbWtHZW5lcmljR2V0KCdnZXRVVENEYXknKTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBnZXRIb3VycywgMTUuOS41Lj9cbmxldCBnZXRIb3VycyA9IG1rR2VuZXJpY0dldCgnZ2V0SG91cnMnKTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBnZXRVVENIb3VycywgMTUuOS41Lj9cbmxldCBnZXRVVENIb3VycyA9IG1rR2VuZXJpY0dldCgnZ2V0VVRDSG91cnMnKTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBnZXRNaW51dGVzLCAxNS45LjUuP1xubGV0IGdldE1pbnV0ZXMgPSBta0dlbmVyaWNHZXQoJ2dldE1pbnV0ZXMnKTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBnZXRVVENNaW51dGVzLCAxNS45LjUuP1xubGV0IGdldFVUQ01pbnV0ZXMgPSBta0dlbmVyaWNHZXQoJ2dldFVUQ01pbnV0ZXMnKTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBnZXRTZWNvbmRzLCAxNS45LjUuP1xubGV0IGdldFNlY29uZHMgPSBta0dlbmVyaWNHZXQoJ2dldFNlY29uZHMnKTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBnZXRVVENTZWNvbmRzLCAxNS45LjUuP1xubGV0IGdldFVUQ1NlY29uZHMgPSBta0dlbmVyaWNHZXQoJ2dldFVUQ1NlY29uZHMnKTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBnZXRNaWxsaXNlY29uZHMsIDE1LjkuNS4/XG5sZXQgZ2V0TWlsbGlzZWNvbmRzID0gbWtHZW5lcmljR2V0KCdnZXRNaWxsaXNlY29uZHMnKTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBnZXRVVENNaWxsaXNlY29uZHMsIDE1LjkuNS4/XG5sZXQgZ2V0VVRDTWlsbGlzZWNvbmRzID0gbWtHZW5lcmljR2V0KCdnZXRVVENNaWxsaXNlY29uZHMnKTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBnZXRUaW1lem9uZU9mZnNldCwgMTUuOS41Lj9cbmxldCBnZXRUaW1lem9uZU9mZnNldCA9IG1rR2VuZXJpY0dldCgnZ2V0VGltZXpvbmVPZmZzZXQnKTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBzZXRUaW1lLCAxNS45LjUuP1xubGV0IHNldFRpbWUgPSBta0dlbmVyaWNTZXQoJ3NldFRpbWUnKTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBzZXRNaWxsaXNlY29uZHMsIDE1LjkuNS4/XG5sZXQgc2V0TWlsbGlzZWNvbmRzID0gbWtHZW5lcmljU2V0KCdzZXRNaWxsaXNlY29uZHMnKTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBzZXRVVENNaWxsaXNlY29uZHMsIDE1LjkuNS4/XG5sZXQgc2V0VVRDTWlsbGlzZWNvbmRzID0gbWtHZW5lcmljU2V0KCdzZXRVVENNaWxsaXNlY29uZHMnKTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBzZXRTZWNvbmRzLCAxNS45LjUuP1xubGV0IHNldFNlY29uZHMgPSBta0dlbmVyaWNTZXQoJ3NldFNlY29uZHMnKTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBzZXRVVENTZWNvbmRzLCAxNS45LjUuP1xubGV0IHNldFVUQ1NlY29uZHMgPSBta0dlbmVyaWNTZXQoJ3NldFVUQ1NlY29uZHMnKTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBzZXRNaW51dGVzLCAxNS45LjUuP1xubGV0IHNldE1pbnV0ZXMgPSBta0dlbmVyaWNTZXQoJ3NldE1pbnV0ZXMnKTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBzZXRVVENNaW51dGVzLCAxNS45LjUuP1xubGV0IHNldFVUQ01pbnV0ZXMgPSBta0dlbmVyaWNTZXQoJ3NldFVUQ01pbnV0ZXMnKTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBzZXRIb3VycywgMTUuOS41Lj9cbmxldCBzZXRIb3VycyA9IG1rR2VuZXJpY1NldCgnc2V0SG91cnMnKTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBzZXRVVENIb3VycywgMTUuOS41Lj9cbmxldCBzZXRVVENIb3VycyA9IG1rR2VuZXJpY1NldCgnc2V0VVRDSG91cnMnKTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBzZXREYXRlLCAxNS45LjUuP1xubGV0IHNldERhdGUgPSBta0dlbmVyaWNTZXQoJ3NldERhdGUnKTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBzZXRVVENEYXRlLCAxNS45LjUuP1xubGV0IHNldFVUQ0RhdGUgPSBta0dlbmVyaWNTZXQoJ3NldFVUQ0RhdGUnKTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBzZXRNb250aCwgMTUuOS41Lj9cbmxldCBzZXRNb250aCA9IG1rR2VuZXJpY1NldCgnc2V0TW9udGgnKTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBzZXRVVENNb250aCwgMTUuOS41Lj9cbmxldCBzZXRVVENNb250aCA9IG1rR2VuZXJpY1NldCgnc2V0VVRDTW9udGgnKTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBzZXRGdWxsWWVhciwgMTUuOS41Lj9cbmxldCBzZXRGdWxsWWVhciA9IG1rR2VuZXJpY1NldCgnc2V0RnVsbFllYXInKTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBzZXRVVENGdWxsWWVhciwgMTUuOS41Lj9cbmxldCBzZXRVVENGdWxsWWVhciA9IG1rR2VuZXJpY1NldCgnc2V0VVRDRnVsbFllYXInKTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyB0b1VUQ1N0cmluZywgMTUuOS41Lj9cbmxldCB0b1VUQ1N0cmluZyA9IG1rR2VuZXJpY0dldCgndG9VVENTdHJpbmcnKTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyB0b0pTT04sIDE1LjkuNS4/XG5sZXQgdG9KU09OID0gbWtHZW5lcmljR2V0KCd0b0pTT04nKTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBnZXRZZWFyLCBCLjIuNFxubGV0IGdldFllYXIgPSBta0dlbmVyaWNHZXQoJ2dldFllYXInKTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBzZXRZZWFyLCBCLjIuNVxubGV0IHNldFllYXIgPSBta0dlbmVyaWNTZXQoJ3NldFllYXInKTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBzZXRZZWFyLCBCLjIuNlxubGV0IHRvR01UU3RyaW5nID0gbWtHZW5lcmljU2V0KCd0b0dNVFN0cmluZycpOyIsImltcG9ydCB7IFZhbHVlIH0gZnJvbSBcIi4uL1ZhbHVlXCI7XG5pbXBvcnQgeyBFY21hT2JqZWN0IH0gZnJvbSAnLi4vT2JqZWN0cy9FY21hT2JqZWN0JztcbmltcG9ydCAqIGFzIGNvbnN0YW50cyBmcm9tICcuLi9Db25zdGFudHMnO1xuaW1wb3J0IHsgQnVpbHRpbkZ1bmN0aW9uT2JqZWN0IH0gZnJvbSBcIi4uL09iamVjdHMvQnVpbHRpbkZ1bmN0aW9uT2JqZWN0XCI7XG5pbXBvcnQgeyBUb1N0cmluZyB9IGZyb20gJy4uL0NvbnZlcnNpb24vVG9TdHJpbmcnO1xuaW1wb3J0IHsgRGVmaW5lVEZUIH0gZnJvbSAnLi4vRGVmaW5lJztcbmltcG9ydCB7IGJvdCB9IGZyb20gJy4uL0xhYmVsJztcbmltcG9ydCB7IE1vbml0b3JCYXNlIH0gZnJvbSAnLi4vTW9uaXRvckJhc2UnO1xuXG5pbXBvcnQgeyBFcnJvckNvbnN0cnVjdG9yIH0gZnJvbSAnLi4vQ29uc3RydWN0b3JzL0Vycm9yQ29uc3RydWN0b3InO1xuaW1wb3J0IHsgVmFsdWVUeXBlcyB9IGZyb20gXCIuLi9JbnRlcmZhY2VzXCI7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5kZWNsYXJlIHZhciBtb25pdG9yOiBNb25pdG9yQmFzZTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyAxNS4xMS40IFRoZSBFcnJvciBQcm90b3R5cGVcblxuZXhwb3J0IGNsYXNzIEVycm9yUHJvdG90eXBlIGV4dGVuZHMgRWNtYU9iamVjdCB7XG5cbiAgICBob3N0OiBFcnJvcjtcblxuICAgIGNvbnN0cnVjdG9yKGhvc3Q6IEVycm9yKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuQ2xhc3MgPSAnRXJyb3InO1xuICAgICAgICB0aGlzLmhvc3QgPSBob3N0O1xuICAgIH1cblxuICAgIFNldHVwKCk6IHZvaWQge1xuICAgICAgICB0aGlzLlNldHVwQmFzZShtb25pdG9yLmluc3RhbmNlcy5FcnJvckNvbnN0cnVjdG9yLCAnRXJyb3InKTtcbiAgICB9XG5cbiAgICBTZXR1cEJhc2UoY29uc3RydWN0b3I6IEVycm9yQ29uc3RydWN0b3IsIG5hbWU6IHN0cmluZyk6IHZvaWQge1xuICAgICAgICB0aGlzLlByb3RvdHlwZSA9IG5ldyBWYWx1ZShtb25pdG9yLmluc3RhbmNlcy5PYmplY3RQcm90b3R5cGUsIGJvdCk7XG5cbiAgICAgICAgRGVmaW5lVEZUKHRoaXMsIGNvbnN0YW50cy5jb25zdHJ1Y3RvciwgY29uc3RydWN0b3IpO1xuICAgICAgICBEZWZpbmVURlQodGhpcywgY29uc3RhbnRzLm5hbWUsIG5hbWUpO1xuICAgICAgICBEZWZpbmVURlQodGhpcywgY29uc3RhbnRzLm1lc3NhZ2UsICcnKTtcblxuICAgICAgICBEZWZpbmVURlQodGhpcywgY29uc3RhbnRzLnRvU3RyaW5nLCBuZXcgQnVpbHRpbkZ1bmN0aW9uT2JqZWN0KHRvc3RyaW5nLCAwLCB1bmRlZmluZWQpKTtcbiAgICB9XG59XG5cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmZ1bmN0aW9uIHRvc3RyaW5nKHRoaXNBcmc6IFZhbHVlPFZhbHVlVHlwZXM+LCBhcmdzOiBWYWx1ZTxWYWx1ZVR5cGVzPltdKTogVmFsdWU8VmFsdWVUeXBlcz4gIHtcbiAgICB2YXIgYyA9IG1vbml0b3IuY29udGV4dDtcblxuICAgIGlmICh0aGlzQXJnLnZhbHVlID09PSBudWxsIHx8IHR5cGVvZiB0aGlzQXJnLnZhbHVlICE9PSAnb2JqZWN0Jykge1xuICAgICAgICBjLnB1c2hQQyh0aGlzQXJnLmxhYmVsKTtcbiAgICAgICAgbW9uaXRvci5UaHJvdyhcbiAgICAgICAgICAgIFwiVHlwZUVycm9yXCIsXG4gICAgICAgICAgICAnRXJyb3Igb2JqZWN0IGV4cGVjdGVkJyxcbiAgICAgICAgICAgIGJvdFxuICAgICAgICApO1xuICAgIH1cblxuICAgIHZhciBuYW1lID0gdGhpc0FyZy5HZXQoY29uc3RhbnRzLm5hbWUpO1xuXG4gICAgaWYgKG5hbWUudmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBuYW1lLnZhbHVlID0gJ0Vycm9yJztcbiAgICB9IGVsc2Uge1xuICAgICAgICBjLnB1c2hQQyhuYW1lLmxhYmVsKTtcbiAgICAgICAgbmFtZSA9IFRvU3RyaW5nKG5hbWUpO1xuICAgICAgICBjLnBvcFBDKCk7XG4gICAgfVxuXG4gICAgdmFyIG1zZyA9IHRoaXNBcmcuR2V0KGNvbnN0YW50cy5tZXNzYWdlKTtcblxuICAgIGlmIChtc2cudmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBtc2cudmFsdWUgPSAnJztcbiAgICB9IGVsc2Uge1xuICAgICAgICBjLnB1c2hQQyhtc2cubGFiZWwpO1xuICAgICAgICBtc2cgPSBUb1N0cmluZyhtc2cpO1xuICAgICAgICBjLnBvcFBDKCk7XG4gICAgfVxuXG4gICAgaWYgKG5hbWUudmFsdWUgPT09ICcnKSB7XG4gICAgICAgIG1zZy5yYWlzZShuYW1lLmxhYmVsKTtcbiAgICAgICAgcmV0dXJuIG1zZztcbiAgICB9XG5cbiAgICBpZiAobXNnLnZhbHVlID09PSAnJykge1xuICAgICAgICBuYW1lLnJhaXNlKG1zZy5sYWJlbCk7XG4gICAgICAgIHJldHVybiBuYW1lO1xuICAgIH1cblxuICAgIG5hbWUudmFsdWUgKz0gJzogJyArIG1zZy52YWx1ZTtcbiAgICBuYW1lLnJhaXNlKG1zZy5sYWJlbCk7XG4gICAgcmV0dXJuIG5hbWU7XG59IiwiaW1wb3J0IHsgRXJyb3JQcm90b3R5cGUgfSBmcm9tIFwiLi9FcnJvclByb3RvdHlwZVwiO1xuaW1wb3J0IHsgTW9uaXRvckJhc2UgfSBmcm9tIFwiLi4vTW9uaXRvckJhc2VcIjtcblxuZGVjbGFyZSB2YXIgbW9uaXRvcjogTW9uaXRvckJhc2U7XG5cbmV4cG9ydCBjbGFzcyBFdmFsRXJyb3JQcm90b3R5cGUgZXh0ZW5kcyBFcnJvclByb3RvdHlwZSB7XG5cbiAgICBjb25zdHJ1Y3Rvcihob3N0IDogRXZhbEVycm9yKSB7XG4gICAgICAgIHN1cGVyKGhvc3QpO1xuICAgIH1cblxuICAgIFNldHVwKCk6IHZvaWQge1xuICAgICAgICB0aGlzLlNldHVwQmFzZShtb25pdG9yLmluc3RhbmNlcy5FcnJvckNvbnN0cnVjdG9yLCAnRXZhbEVycm9yJyk7XG4gICAgfVxuICAgIFxufSIsImltcG9ydCB7IGJvdCB9IGZyb20gJy4uL0xhYmVsJztcbmltcG9ydCAqIGFzIHBwIGZyb20gJy4uL1BQJztcbmltcG9ydCB7IFZhbHVlIH0gZnJvbSBcIi4uL1ZhbHVlXCI7XG5pbXBvcnQgeyBEZWZpbmVGRkYsIERlZmluZVRGVCwgRGVmaW5lRkZUIH0gZnJvbSAnLi4vRGVmaW5lJztcbmltcG9ydCB7IEVjbWFPYmplY3QgfSBmcm9tICcuLi9PYmplY3RzL0VjbWFPYmplY3QnO1xuaW1wb3J0ICogYXMgY29uc3RhbnRzIGZyb20gJy4uL0NvbnN0YW50cyc7XG5pbXBvcnQgeyBNb25pdG9yQmFzZSB9IGZyb20gJy4uL01vbml0b3JCYXNlJztcblxuaW1wb3J0IHsgQnVpbHRpbkZ1bmN0aW9uT2JqZWN0IH0gZnJvbSBcIi4uL09iamVjdHMvQnVpbHRpbkZ1bmN0aW9uT2JqZWN0XCI7XG5pbXBvcnQgeyBUb1VJbnQzMiB9IGZyb20gJy4uL0NvbnZlcnNpb24vVG9VSW50MzInO1xuaW1wb3J0IHsgSXNDYWxsYWJsZSB9IGZyb20gJy4uL1V0aWxpdHkvSXNDYWxsYWJsZSc7XG5pbXBvcnQgeyBUaHJvd1R5cGVFcnJvciB9IGZyb20gJy4uL1Rocm93VHlwZUVycm9yJztcbmltcG9ydCB7IFZhbHVlVHlwZXMsIElFY21hT2JqZWN0IH0gZnJvbSAnLi4vSW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBGdW5jdGlvbk9iamVjdCB9IGZyb20gJy4uL09iamVjdHMvRnVuY3Rpb25PYmplY3QnO1xuXG4vLyBpbXBvcnQgeyBNb25pdG9yQmFzZSB9IFxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZGVjbGFyZSB2YXIgbW9uaXRvcjogTW9uaXRvckJhc2U7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gRnVuY3Rpb24gUHJvdG90eXBlLCAxNS4zLjRcblxuZXhwb3J0IGNsYXNzIEZ1bmN0aW9uUHJvdG90eXBlIGV4dGVuZHMgRWNtYU9iamVjdCB7XG5cbiAgaG9zdDogRnVuY3Rpb247XG5cbiAgY29uc3RydWN0b3IoaG9zdDogRnVuY3Rpb24pIHtcbiAgICBzdXBlcigpO1xuXG4gICAgLy8gMTUuMy40XG4gICAgdGhpcy5DbGFzcyA9ICdGdW5jdGlvbic7XG4gICAgdGhpcy5FeHRlbnNpYmxlID0gdHJ1ZTtcblxuICAgIHRoaXMuaG9zdCA9IGhvc3Q7XG5cbiAgfVxuXG4gIFNldHVwKCk6IHZvaWQge1xuICAgIC8vIDE1LjMuNC4xXG4gICAgRGVmaW5lVEZUKHRoaXMsIGNvbnN0YW50cy5jb25zdHJ1Y3RvciwgbW9uaXRvci5pbnN0YW5jZXMuRnVuY3Rpb25Db25zdHJ1Y3Rvcik7XG4gICAgdGhpcy5Qcm90b3R5cGUgPSBuZXcgVmFsdWUobW9uaXRvci5pbnN0YW5jZXMuT2JqZWN0UHJvdG90eXBlLCBib3QpO1xuICAgIERlZmluZUZGVCh0aGlzLCBjb25zdGFudHMubGVuZ3RoLCAwKTtcblxuICAgIERlZmluZVRGVCh0aGlzLCBjb25zdGFudHMudG9TdHJpbmcsIG5ldyBCdWlsdGluRnVuY3Rpb25PYmplY3QodG9TdHJpbmcsIDAsIEZ1bmN0aW9uLnByb3RvdHlwZS50b1N0cmluZykpO1xuICAgIERlZmluZVRGVCh0aGlzLCBjb25zdGFudHMuYXBwbHksIG5ldyBCdWlsdGluRnVuY3Rpb25PYmplY3QoYXBwbHksIDIsIEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseSkpO1xuICAgIERlZmluZVRGVCh0aGlzLCBjb25zdGFudHMuY2FsbCwgbmV3IEJ1aWx0aW5GdW5jdGlvbk9iamVjdChjYWxsLCAxLCBGdW5jdGlvbi5wcm90b3R5cGUuY2FsbCkpO1xuICAgIERlZmluZVRGVCh0aGlzLCBjb25zdGFudHMuYmluZCwgbmV3IEJ1aWx0aW5GdW5jdGlvbk9iamVjdChiaW5kLCAxLCBGdW5jdGlvbi5wcm90b3R5cGUuYmluZCkpO1xuICB9XG5cbiAgLy8gMTUuMy40XG4gIENhbGwodGhpc0FyZzogVmFsdWU8VmFsdWVUeXBlcz4sIGFyZ3M6IFZhbHVlPFZhbHVlVHlwZXM+W10pOiBWYWx1ZTxWYWx1ZVR5cGVzPiB7XG4gICAgcmV0dXJuIG5ldyBWYWx1ZSh1bmRlZmluZWQsIGJvdCk7XG4gIH1cblxuICBDb25zdHJ1Y3QoYXJnczogVmFsdWU8VmFsdWVUeXBlcz5bXSk6IFZhbHVlPElFY21hT2JqZWN0PiB7XG4gICAgcmV0dXJuIG5ldyBWYWx1ZSh1bmRlZmluZWQsIGJvdCk7XG4gIH1cbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyAxNS4zLjQuMiAtIEltcGxlbWVudGF0aW9uIERlcGVuZGVudFxuZnVuY3Rpb24gdG9TdHJpbmcodGhpc0FyZzogVmFsdWU8VmFsdWVUeXBlcz4sIGFyZ3M6IFZhbHVlPFZhbHVlVHlwZXM+W10pOiBWYWx1ZTxzdHJpbmc+IHtcbiAgcmV0dXJuIG5ldyBWYWx1ZShTdHJpbmcodGhpc0FyZy52YWx1ZSksIHRoaXNBcmcubGFiZWwpO1xufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIDE1LjMuNC4zXG5mdW5jdGlvbiBhcHBseSh0aGlzQXJnOiBWYWx1ZTxWYWx1ZVR5cGVzPiwgYXJnczogVmFsdWU8VmFsdWVUeXBlcz5bXSk6IFZhbHVlPFZhbHVlVHlwZXM+IHtcbiAgbGV0IF90aGlzID0gYXJnc1swXSA/IGFyZ3NbMF0gOiBuZXcgVmFsdWUodW5kZWZpbmVkLCBib3QpO1xuICBsZXQgYXJnQXJyYXkgPSBhcmdzWzFdID8gYXJnc1sxXSA6IG5ldyBWYWx1ZSh1bmRlZmluZWQsIGJvdCk7XG5cbiAgbW9uaXRvci5jb250ZXh0LnB1c2hQQyh0aGlzQXJnLmxhYmVsKTtcblxuICBpZiAoIUlzQ2FsbGFibGUodGhpc0FyZykpIHtcbiAgICBtb25pdG9yLlRocm93KFxuICAgICAgXCJUeXBlRXJyb3JcIixcbiAgICAgICdhcHBseSwgbm90IGEgZnVuY3Rpb24nLFxuICAgICAgYm90XG4gICAgKTtcbiAgfVxuXG4gIG1vbml0b3IuY29udGV4dC5yYWlzZVBDKGFyZ0FycmF5LmxhYmVsKTtcblxuICBpZiAoYXJnQXJyYXkudmFsdWUgPT09IG51bGwgfHwgYXJnQXJyYXkudmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgIGxldCByZXMgPSB0aGlzQXJnLkNhbGwoX3RoaXMsIFtdKTtcbiAgICBtb25pdG9yLmNvbnRleHQucG9wUEMoKTtcbiAgICByZXR1cm4gcmVzO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBhcmdBcnJheS52YWx1ZSAhPT0gJ29iamVjdCcgfHwgYXJnQXJyYXkudmFsdWUuQ2xhc3MgPT09IHVuZGVmaW5lZCkge1xuICAgIG1vbml0b3IuVGhyb3coXG4gICAgICBcIlR5cGVFcnJvclwiLFxuICAgICAgJ2FwcGx5LCBhcmd1bWVudCBhcnJheSBub3QgYW4gb2JqZWN0JyxcbiAgICAgIGJvdFxuICAgICk7XG4gIH1cblxuICBsZXQgbGVuID0gYXJnQXJyYXkuR2V0KGNvbnN0YW50cy5sZW5ndGgpO1xuICBsZXQgbiA9IFRvVUludDMyKGxlbik7XG5cbiAgbGV0IGFyZ0xpc3Q6IFZhbHVlPFZhbHVlVHlwZXM+W10gPSBbXTtcbiAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IG4udmFsdWU7IGluZGV4KyspIHtcbiAgICBsZXQgbmV4dEFyZyA9IGFyZ0FycmF5LkdldChuZXcgVmFsdWUoaW5kZXgsIG4ubGFiZWwpKTtcbiAgICBhcmdMaXN0LnB1c2gobmV4dEFyZyk7XG4gIH1cblxuICAvLyBTaW5jZSB3ZSBjYW5ub3QgdHJhbnNmZXIgdGhlIHN0cnVjdHVyYWwgb3IgZXhpc3RlbmNlIGluZm8gdG9cbiAgLy8gIHRoZSBhcnJheSB1c2VkIGJ5IENhbGwsIHdlIHJhaXNlIHRoZSBjb250ZXh0IGFjY29yZGluZ2x5LlxuICAvLyAgVGhpcyBpcyBzb3VuZCwgYnV0IHBvdGVudGlhbGx5IGFuIG92ZXIgYXBwcm94aW1hdGlvbi5cblxuICBtb25pdG9yLmNvbnRleHQucmFpc2VQQyhuLmxhYmVsKTtcblxuICBsZXQgcmVzID0gdGhpc0FyZy5DYWxsKF90aGlzLCBhcmdMaXN0KTtcblxuICBtb25pdG9yLmNvbnRleHQucG9wUEMoKTtcbiAgcmV0dXJuIHJlcztcbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyAxNS4zLjQuNFxuZnVuY3Rpb24gY2FsbCh0aGlzQXJnOiBWYWx1ZTxWYWx1ZVR5cGVzPiwgYXJnczogVmFsdWU8VmFsdWVUeXBlcz5bXSk6IFZhbHVlPFZhbHVlVHlwZXM+IHtcblxuICBsZXQgX3RoaXMgPSBhcmdzWzBdID8gYXJnc1swXSA6IG5ldyBWYWx1ZSh1bmRlZmluZWQsIGJvdCk7XG4gIGxldCBhcmdMaXN0OiBWYWx1ZTxWYWx1ZVR5cGVzPltdID0gW107XG5cbiAgZm9yIChsZXQgaSA9IDE7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgYXJnTGlzdFtpIC0gMV0gPSBhcmdzW2ldO1xuICB9XG5cbiAgbW9uaXRvci5jb250ZXh0LnB1c2hQQyh0aGlzQXJnLmxhYmVsKTtcblxuICBpZiAoIUlzQ2FsbGFibGUodGhpc0FyZykpIHtcbiAgICBtb25pdG9yLlRocm93KFxuICAgICAgXCJUeXBlRXJyb3JcIixcbiAgICAgICdjYWxsLCBub3QgYSBmdW5jdGlvbicsXG4gICAgICBib3RcbiAgICApO1xuICB9XG5cbiAgbGV0IHJlcyA9IHRoaXNBcmcuQ2FsbChfdGhpcywgYXJnTGlzdCk7XG4gIG1vbml0b3IuY29udGV4dC5wb3BQQygpO1xuICByZXR1cm4gcmVzO1xufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIDE1LjMuNC41XG5mdW5jdGlvbiBiaW5kKHRoaXNBcmc6IFZhbHVlPFZhbHVlVHlwZXM+LCBhcmdzOiBWYWx1ZTxWYWx1ZVR5cGVzPltdKTogVmFsdWU8VmFsdWVUeXBlcz4ge1xuICBsZXQgVGFyZ2V0ID0gdGhpc0FyZztcbiAgbGV0IF90aGlzID0gYXJnc1swXSA/IGFyZ3NbMF0gOiBuZXcgVmFsdWUodW5kZWZpbmVkLCBib3QpO1xuICBsZXQgYXJnTGlzdCA6IFZhbHVlPFZhbHVlVHlwZXM+W10gPSBbXTtcbiAgZm9yIChsZXQgaSA9IDE7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgYXJnTGlzdFtpIC0gMV0gPSBhcmdzW2ldO1xuICB9XG5cbiAgaWYgKCFJc0NhbGxhYmxlKFRhcmdldCkpIHtcbiAgICBtb25pdG9yLlRocm93KFxuICAgICAgXCJUeXBlRXJyb3JcIixcbiAgICAgICdiaW5kOiBUYXJnZXQgaXMgbm90IGEgZnVuY3Rpb24nLFxuICAgICAgYm90XG4gICAgKTtcbiAgfVxuXG4gIGxldCBGID0gbmV3IEVjbWFPYmplY3QoKTtcbiAgLy9AdHMtaWdub3JlIFRZUEVTXG4gIEYuVGFyZ2V0RnVuY3Rpb24gPSBUYXJnZXQ7XG4gIC8vQHRzLWlnbm9yZSBUWVBFU1xuICBGLkJvdW5kVGhpcyA9IF90aGlzO1xuICAvL0B0cy1pZ25vcmUgVFlQRVNcbiAgRi5Cb3VuZEFyZ3MgPSBhcmdMaXN0O1xuICBGLkNsYXNzID0gJ0Z1bmN0aW9uJztcbiAgRi5Qcm90b3R5cGUgPSBuZXcgVmFsdWUobW9uaXRvci5pbnN0YW5jZXMuRnVuY3Rpb25Qcm90b3R5cGUsIGJvdCk7XG5cbiAgLy9AdHMtaWdub3JlIFRZUEVTXG4gIEYuQ2FsbCA9IGZ1bmN0aW9uIChfdGhpc1ZhbCwgRXh0cmFBcmdzKSB7XG4gICAgLy9AdHMtaWdub3JlIFRZUEVTXG4gICAgbGV0IGJvdW5kQXJncyA9IEYuQm91bmRBcmdzO1xuICAgIC8vQHRzLWlnbm9yZSBUWVBFU1xuICAgIGxldCBib3VuZFRoaXMgPSBGLkJvdW5kVGhpcztcbiAgICAvL0B0cy1pZ25vcmUgVFlQRVNcbiAgICBsZXQgdGFyZ2V0ID0gRi5UYXJnZXRGdW5jdGlvbjtcbiAgICBsZXQgYXJncyA9IGJvdW5kQXJncy5jb25jYXQoRXh0cmFBcmdzKTtcbiAgICByZXR1cm4gdGFyZ2V0LkNhbGwoYm91bmRUaGlzLCBhcmdzKTtcbiAgfVxuXG4gIC8vQHRzLWlnbm9yZSBUWVBFU1xuICBGLkNvbnN0cnVjdCA9IGZ1bmN0aW9uIChFeHRyYUFyZ3MpIHtcbiAgICAvL0B0cy1pZ25vcmUgVFlQRVNcbiAgICBsZXQgdGFyZ2V0ID0gRi5UYXJnZXRGdW5jdGlvbjtcbiAgICBpZiAoIXRhcmdldC5Db25zdHJ1Y3QpIHtcbiAgICAgIG1vbml0b3IuVGhyb3coXG4gICAgICAgIFwiVHlwZUVycm9yXCIsXG4gICAgICAgICdiaW5kIGNvbnN0cnVjdDogbm8gaW50ZXJuYWwgbWV0aG9kIENvbnN0cnVjdCcsXG4gICAgICAgIGJvdFxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvL0B0cy1pZ25vcmUgVFlQRVNcbiAgICBsZXQgYm91bmRBcmdzID0gRi5Cb3VuZEFyZ3M7XG4gICAgbGV0IGFyZ3MgPSBib3VuZEFyZ3MuY29uY2F0KEV4dHJhQXJncyk7XG5cbiAgICByZXR1cm4gdGFyZ2V0LkNvbnN0cnVjdChhcmdzKTtcbiAgfVxuXG4gIC8vQHRzLWlnbm9yZSBUWVBFU1xuICBGLkhhc0luc3RhbmNlID0gZnVuY3Rpb24gKFYpIHtcbiAgICAvL0B0cy1pZ25vcmUgVFlQRVNcbiAgICBsZXQgdGFyZ2V0ID0gRi5UYXJnZXRGdW5jdGlvbjtcbiAgICBpZiAoIXRhcmdldC5IYXNJbnN0YW5jZSkge1xuICAgICAgbW9uaXRvci5UaHJvdyhcbiAgICAgICAgXCJUeXBlRXJyb3JcIixcbiAgICAgICAgJ2JpbmQgSGFzSW5zdGFuY2U6IG5vIGludGVybmFsIG1ldGhvZCBIYXNJbnN0YW5jZScsXG4gICAgICAgIGJvdFxuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGFyZ2V0Lkhhc0luc3RhbmNlKFYpO1xuICB9XG5cbiAgLy9AdHMtaWdub3JlIFRZUEVTXG4gIGlmIChUYXJnZXQuQ2xhc3MgPT09IFwiRnVuY3Rpb25cIikge1xuICAgIC8vQHRzLWlnbm9yZSBUWVBFU1xuICAgIGxldCBMID0gVGFyZ2V0Lmxlbmd0aCAtIGFyZ3MubGVuZ3RoO1xuICAgIC8vQHRzLWlnbm9yZSBUWVBFU1xuICAgIEYubGVuZ3RoID0gTCA+IDAgPyBMIDogMDtcbiAgfSBlbHNlIHtcbiAgICAvL0B0cy1pZ25vcmUgVFlQRVNcbiAgICBGLmxlbmd0aCA9IDA7XG4gIH1cblxuICAvL0B0cy1pZ25vcmUgVFlQRVNcbiAgRGVmaW5lRkZGKEYsIGNvbnN0YW50cy5sZW5ndGgsIEYubGVuZ3RoKTtcbiAgRi5FeHRlbnNpYmxlID0gdHJ1ZTtcblxuICBsZXQgdGhyb3dlciA9IFRocm93VHlwZUVycm9yLkluc3RhbmNlO1xuICBGLkRlZmluZU93blByb3BlcnR5KFxuICAgIGNvbnN0YW50cy5jYWxsZXIsXG4gICAge1xuICAgICAgLy9AdHMtaWdub3JlIFRZUEVTXG4gICAgICBnZXQ6IHRocm93ZXIsXG4gICAgICAvL0B0cy1pZ25vcmUgVFlQRVNcbiAgICAgIHNldDogdGhyb3dlcixcbiAgICAgIGVudW1lcmFibGU6IGZhbHNlLCBjb25maWd1cmFibGU6IGZhbHNlLFxuICAgICAgbGFiZWw6IGJvdFxuICAgIH0sXG4gICAgZmFsc2VcbiAgKTtcbiAgRi5EZWZpbmVPd25Qcm9wZXJ0eShcbiAgICBjb25zdGFudHMuYXJndW1lbnRzLFxuICAgIHtcbiAgICAgIC8vQHRzLWlnbm9yZSBUWVBFU1xuICAgICAgZ2V0OiB0aHJvd2VyLFxuICAgICAgLy9AdHMtaWdub3JlIFRZUEVTXG4gICAgICBzZXQ6IHRocm93ZXIsXG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZSwgY29uZmlndXJhYmxlOiBmYWxzZSxcbiAgICAgIGxhYmVsOiBib3RcbiAgICB9LFxuICAgIGZhbHNlXG4gICk7XG5cbiAgcmV0dXJuIG5ldyBWYWx1ZShGLCBib3QpO1xufSIsImltcG9ydCB7IExhYmVsLCBib3QsIGx1YiB9IGZyb20gJy4uL0xhYmVsJztcbmltcG9ydCB7IFZhbHVlIH0gZnJvbSBcIi4uL1ZhbHVlXCI7XG5pbXBvcnQgeyBEZWZpbmVGRkYsIERlZmluZVRGVCB9IGZyb20gJy4uL0RlZmluZSc7XG5pbXBvcnQgeyBFY21hT2JqZWN0IH0gZnJvbSAnLi4vT2JqZWN0cy9FY21hT2JqZWN0JztcblxuaW1wb3J0ICogYXMgY29uc3RhbnRzIGZyb20gJy4uL0NvbnN0YW50cyc7XG5pbXBvcnQgeyBCdWlsdGluRnVuY3Rpb25PYmplY3QgfSBmcm9tIFwiLi4vT2JqZWN0cy9CdWlsdGluRnVuY3Rpb25PYmplY3RcIjtcblxuaW1wb3J0IHsgTW9uaXRvckJhc2UgfSBmcm9tICcuLi9Nb25pdG9yQmFzZSc7XG5cbmltcG9ydCB7IFRvSW50ZWdlciB9IGZyb20gJy4uL0NvbnZlcnNpb24vVG9JbnRlZ2VyJztcbmltcG9ydCB7IFRvU3RyaW5nIH0gZnJvbSAnLi4vQ29udmVyc2lvbi9Ub1N0cmluZyc7XG5pbXBvcnQgeyBUb09iamVjdCB9IGZyb20gJy4uL0NvbnZlcnNpb24vVG9PYmplY3QnO1xuaW1wb3J0IHsgQ2hlY2tPYmplY3RDb2VyY2libGUgfSBmcm9tICcuLi9VdGlsaXR5L0NoZWNrT2JqZWN0Q29lcmNpYmxlJztcbmltcG9ydCB7IFZhbHVlVHlwZXMgfSBmcm9tICcuLi9JbnRlcmZhY2VzJztcbmltcG9ydCB7IElzTnVtYmVyT2JqZWN0LCBOdW1iZXJPYmplY3QgfSBmcm9tICcuLi9PYmplY3RzL051bWJlck9iamVjdCc7XG5pbXBvcnQgeyBUb051bWJlciB9IGZyb20gJy4uL0NvbnZlcnNpb24vVG9OdW1iZXInO1xuXG5kZWNsYXJlIHZhciAgbW9uaXRvcjogTW9uaXRvckJhc2U7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gVGhlIE51bWJlciBQcm90b3R5cGUsIDE1LjcuNFxuZXhwb3J0IGNsYXNzIE51bWJlclByb3RvdHlwZSBleHRlbmRzIEVjbWFPYmplY3Qge1xuXG4gICAgaG9zdDogTnVtYmVyO1xuICAgIFByaW1pdGl2ZVZhbHVlOiBOdW1iZXI7XG4gICAgUHJpbWl0aXZlTGFiZWw6IExhYmVsO1xuXG4gICAgY29uc3RydWN0b3IoaG9zdDogTnVtYmVyKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuQ2xhc3MgPSAnTnVtYmVyJztcbiAgICAgICAgdGhpcy5QcmltaXRpdmVWYWx1ZSA9IG5ldyBOdW1iZXIoMCk7XG4gICAgICAgIHRoaXMuUHJpbWl0aXZlTGFiZWwgPSBib3Q7XG5cbiAgICAgICAgdGhpcy5ob3N0ID0gaG9zdDtcbiAgICB9XG5cbiAgICBTZXR1cCgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5Qcm90b3R5cGUgPSBuZXcgVmFsdWUobW9uaXRvci5pbnN0YW5jZXMuT2JqZWN0UHJvdG90eXBlLCBib3QpO1xuICAgICAgICBEZWZpbmVURlQodGhpcywgY29uc3RhbnRzLmNvbnN0cnVjdG9yLCBtb25pdG9yLmluc3RhbmNlcy5OdW1iZXJDb25zdHJ1Y3Rvcik7XG5cbiAgICAgICAgRGVmaW5lVEZUKHRoaXMsIGNvbnN0YW50cy50b1N0cmluZywgbmV3IEJ1aWx0aW5GdW5jdGlvbk9iamVjdCh0b1N0cmluZywgMSwgdGhpcy5ob3N0LnRvU3RyaW5nKSk7XG4gICAgICAgIERlZmluZVRGVCh0aGlzLCBjb25zdGFudHMudG9Mb2NhbGVTdHJpbmcsIG5ldyBCdWlsdGluRnVuY3Rpb25PYmplY3QodG9Mb2NhbGVTdHJpbmcsIDAsIHRoaXMuaG9zdC50b0xvY2FsZVN0cmluZykpO1xuICAgICAgICBEZWZpbmVURlQodGhpcywgbmV3IFZhbHVlKCd2YWx1ZU9mJywgYm90KSwgbmV3IEJ1aWx0aW5GdW5jdGlvbk9iamVjdCh2YWx1ZU9mLCAwLCB0aGlzLmhvc3QudmFsdWVPZikpO1xuICAgICAgICBEZWZpbmVURlQodGhpcywgY29uc3RhbnRzLnRvRml4ZWQsIG5ldyBCdWlsdGluRnVuY3Rpb25PYmplY3QodG9GaXhlZCwgMCwgdGhpcy5ob3N0LnRvRml4ZWQpKTtcbiAgICAgICAgRGVmaW5lVEZUKHRoaXMsIGNvbnN0YW50cy50b0V4cG9uZW50aWFsLCBuZXcgQnVpbHRpbkZ1bmN0aW9uT2JqZWN0KHRvRXhwb25lbnRpYWwsIDAsIHRoaXMuaG9zdC50b0V4cG9uZW50aWFsKSk7XG4gICAgICAgIERlZmluZVRGVCh0aGlzLCBjb25zdGFudHMudG9QcmVjaXNpb24sIG5ldyBCdWlsdGluRnVuY3Rpb25PYmplY3QodG9QcmVjaXNpb24sIDAsIHRoaXMuaG9zdC50b1ByZWNpc2lvbikpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gYXNzZXJ0TnVtYmVyKHYgOiBWYWx1ZTxhbnk+LCBjYWxsZXIgOiBzdHJpbmcpIDogbnVtYmVyIHtcblxuICAgIGlmIChJc051bWJlck9iamVjdCh2KSkge1xuICAgICAgICByZXR1cm4gdi52YWx1ZS5QcmltaXRpdmVWYWx1ZS52YWx1ZU9mKCk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiB2LnZhbHVlID09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgcmV0dXJuIHYudmFsdWU7XG4gICAgfVxuXG5cbiAgICAgICAgbW9uaXRvci5jb250ZXh0LnB1c2hQQyh2LmxhYmVsKTtcbiAgICAgICAgbW9uaXRvci5UaHJvdyhcbiAgICAgICAgICAgIFwiVHlwZUVycm9yXCIsXG4gICAgICAgICAgICBjYWxsZXIgKyAnIGlzIG5vdCBnZW5lcmljJyxcbiAgICAgICAgICAgIGJvdFxuICAgICAgICApO1xufVxuXG5mdW5jdGlvbiBJc051bWJlck9iamVjdE9yTnVtYmVyKHggOiBWYWx1ZTxhbnk+KSA6IHggaXMgVmFsdWU8TnVtYmVyT2JqZWN0IHwgbnVtYmVyPiB7XG4gICAgcmV0dXJuIHR5cGVvZiB4LnZhbHVlID09PSAnbnVtYmVyJyB8fCBJc051bWJlck9iamVjdCh4KTtcbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyB0b1N0cmluZywgMTUuNy40LjJcbmZ1bmN0aW9uIHRvU3RyaW5nKHRoaXNBcmc6IFZhbHVlPFZhbHVlVHlwZXM+LCBhcmdzOiBWYWx1ZTxWYWx1ZVR5cGVzPltdKTogVmFsdWU8c3RyaW5nPiB7XG5cbiAgICBpZiAoIUlzTnVtYmVyT2JqZWN0T3JOdW1iZXIodGhpc0FyZykpIHtcbiAgICAgICAgbW9uaXRvci5UaHJvdyhcbiAgICAgICAgICAgIFwiVHlwZUVycm9yXCIsXG4gICAgICAgICAgICAnTnVtYmVyLnByb3RvdHlwZS50b1N0cmluZyBpcyBub3QgZ2VuZXJpYycsXG4gICAgICAgICAgICB0aGlzQXJnLmxhYmVsXG4gICAgICAgICk7XG4gICAgICAgIHRocm93ICdUeXBlU2NyaXB0JztcbiAgICB9XG5cbiAgICBsZXQgYXJnMCA9IGFyZ3NbMF0gfHwgbmV3IFZhbHVlKHVuZGVmaW5lZCwgYm90KTtcbiAgICBpZiAoYXJnMC52YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGFyZzAudmFsdWUgPSAxMDtcbiAgICB9XG5cbiAgICBsZXQgcmFkaXggPSBUb0ludGVnZXIoYXJnMCk7XG4gICAgaWYgKHR5cGVvZiB0aGlzQXJnLnZhbHVlID09PSAnbnVtYmVyJykge1xuICAgICAgICBsZXQgcmVzdWx0ID0gdGhpc0FyZy52YWx1ZS50b1N0cmluZyhyYWRpeC52YWx1ZSk7XG4gICAgICAgIHJldHVybiBuZXcgVmFsdWUocmVzdWx0LCBsdWIodGhpc0FyZy5sYWJlbCwgcmFkaXgubGFiZWwpKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGxldCByZXN1bHQgPSB0aGlzQXJnLnZhbHVlLlByaW1pdGl2ZVZhbHVlLnRvU3RyaW5nKHJhZGl4LnZhbHVlKTtcbiAgICAgICAgcmV0dXJuIG5ldyBWYWx1ZShyZXN1bHQsIGx1Yih0aGlzQXJnLnZhbHVlLlByaW1pdGl2ZUxhYmVsLCByYWRpeC5sYWJlbCkpO1xuICAgIH1cblxufTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyB0b0xvY2FsZVN0cmluZywgMTUuNy40LjNcbmZ1bmN0aW9uIHRvTG9jYWxlU3RyaW5nKHRoaXNBcmc6IFZhbHVlPFZhbHVlVHlwZXM+LCBhcmdzOiBWYWx1ZTxWYWx1ZVR5cGVzPltdKTogVmFsdWU8c3RyaW5nPiB7XG4gICAgbGV0IG5ld0FyZ3MgPSBhcmdzLmxlbmd0aCA+IDAgPyBhcmdzLnNsaWNlKDEpIDogYXJncztcbiAgICByZXR1cm4gdG9TdHJpbmcodGhpc0FyZywgbmV3QXJncyk7XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gdmFsdWVPZiwgMTUuNy40LjRcbmZ1bmN0aW9uIHZhbHVlT2YodGhpc0FyZzogVmFsdWU8VmFsdWVUeXBlcz4sIGFyZ3M6IFZhbHVlPFZhbHVlVHlwZXM+W10pOiBWYWx1ZTxudW1iZXI+IHtcblxuICAgIGlmICghSXNOdW1iZXJPYmplY3RPck51bWJlcih0aGlzQXJnKSkge1xuICAgICAgICBtb25pdG9yLlRocm93KFxuICAgICAgICAgICAgXCJUeXBlRXJyb3JcIixcbiAgICAgICAgICAgICdOdW1iZXIucHJvdG90eXBlLnRvU3RyaW5nIGlzIG5vdCBnZW5lcmljJyxcbiAgICAgICAgICAgIHRoaXNBcmcubGFiZWxcbiAgICAgICAgKTtcbiAgICAgICAgdGhyb3cgJ1R5cGVTY3JpcHQnO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgdGhpc0FyZy52YWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBWYWx1ZSh0aGlzQXJnLnZhbHVlLCB0aGlzQXJnLmxhYmVsKTtcbiAgICB9XG5cbiAgICBsZXQgcmVzdWx0ID0gdGhpc0FyZy52YWx1ZS5QcmltaXRpdmVWYWx1ZS52YWx1ZU9mKCk7XG4gICAgcmV0dXJuIG5ldyBWYWx1ZShyZXN1bHQsIHRoaXNBcmcudmFsdWUuUHJpbWl0aXZlTGFiZWwpO1xufTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyB0b0ZpeGVkLCAxNS43LjQuNVxuZnVuY3Rpb24gdG9GaXhlZCh0aGlzQXJnOiBWYWx1ZTxOdW1iZXJPYmplY3Q+LCBhcmdzOiBWYWx1ZTxWYWx1ZVR5cGVzPltdKTogVmFsdWU8c3RyaW5nPiB7XG4gICAgbGV0IHByaW1pdGl2ZVZhbHVlID0gYXNzZXJ0TnVtYmVyKHRoaXNBcmcsICd0b0ZpeGVkJyk7XG5cblxuICAgIGxldCBhcmcwID0gYXJnc1swXSA/IGFyZ3NbMF06IG5ldyBWYWx1ZSh1bmRlZmluZWQsIGJvdCk7XG4gICAgbGV0IHByZWNpc2lvbiA9IFRvSW50ZWdlcihhcmcwKTtcblxuICAgIHJldHVybiBuZXcgVmFsdWUocHJpbWl0aXZlVmFsdWUudG9GaXhlZChwcmVjaXNpb24udmFsdWUpLCBsdWIocHJlY2lzaW9uLmxhYmVsLCB0aGlzQXJnLmxhYmVsKSk7XG59O1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIHRvRXhwb25lbnRpYWwsIDE1LjcuNC42XG5mdW5jdGlvbiB0b0V4cG9uZW50aWFsKHRoaXNBcmc6IFZhbHVlPE51bWJlck9iamVjdD4sIGFyZ3M6IFZhbHVlPFZhbHVlVHlwZXM+W10pOiBWYWx1ZTxzdHJpbmc+IHtcbiAgICBsZXQgcHJpbWl0aXZlVmFsdWUgPSBhc3NlcnROdW1iZXIodGhpc0FyZywgJ3RvRXhwb25lbnRpYWwnKTtcblxuICAgIGxldCBhcmcwID0gYXJnc1swXSA/IGFyZ3NbMF06IG5ldyBWYWx1ZSh1bmRlZmluZWQsIGJvdCk7XG4gICAgbGV0IHByZWNpc2lvbiA9IFRvSW50ZWdlcihhcmcwKTtcblxuICAgIHJldHVybiBuZXcgVmFsdWUocHJpbWl0aXZlVmFsdWUudG9FeHBvbmVudGlhbChwcmVjaXNpb24udmFsdWUpLCBsdWIocHJlY2lzaW9uLmxhYmVsLCB0aGlzQXJnLmxhYmVsKSk7XG59O1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIHRvUHJlY2lzaW9uLCAxNS43LjQuN1xuZnVuY3Rpb24gdG9QcmVjaXNpb24odGhpc0FyZzogVmFsdWU8TnVtYmVyT2JqZWN0PiwgYXJnczogVmFsdWU8VmFsdWVUeXBlcz5bXSk6IFZhbHVlPHN0cmluZz4ge1xuICAgIGxldCBwcmltaXRpdmVWYWx1ZSA9IGFzc2VydE51bWJlcih0aGlzQXJnLCAndG9QcmVjaXNpb24nKTtcblxuICAgIGxldCBhcmcwID0gYXJnc1swXSA/IGFyZ3NbMF06IG5ldyBWYWx1ZSh1bmRlZmluZWQsIGJvdCk7XG4gICAgXG4gICAgbGV0IGxibCA9IGx1YihhcmcwLmxhYmVsLCB0aGlzQXJnLmxhYmVsKTtcbiAgICBpZiAoYXJnMC52YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGxldCBzdHJYID0gVG9TdHJpbmcodGhpc0FyZyk7IC8vc3RlcCAyXG4gICAgICAgIHJldHVybiBuZXcgVmFsdWUoc3RyWC52YWx1ZSwgbGJsKTtcbiAgICB9XG5cbiAgICBsZXQgcHJlY2lzaW9uID0gVG9JbnRlZ2VyKGFyZzApOyAvL3N0ZXAgM1xuICAgIGlmIChwcmltaXRpdmVWYWx1ZSA9PT0gTmFOKSByZXR1cm4gbmV3IFZhbHVlKCdOYU4nLCBsYmwpOyAvL3N0ZXAgNFxuXG5cbiAgICByZXR1cm4gbmV3IFZhbHVlKHByaW1pdGl2ZVZhbHVlLnRvUHJlY2lzaW9uKHByZWNpc2lvbi52YWx1ZSksIGxibCk7XG59O1xuIiwiaW1wb3J0IHsgTGFiZWwsIGx1YiwgbGUsIGJvdCB9IGZyb20gJy4uL0xhYmVsJztcbmltcG9ydCB7IFZhbHVlIH0gZnJvbSBcIi4uL1ZhbHVlXCI7XG5pbXBvcnQgeyBEZWZpbmVURlQgfSBmcm9tICcuLi9EZWZpbmUnO1xuaW1wb3J0IHsgRWNtYU9iamVjdCB9IGZyb20gJy4uL09iamVjdHMvRWNtYU9iamVjdCc7XG5cbmltcG9ydCAqIGFzIGNvbnN0YW50cyBmcm9tICcuLi9Db25zdGFudHMnO1xuaW1wb3J0IHsgQnVpbHRpbkZ1bmN0aW9uT2JqZWN0IH0gZnJvbSBcIi4uL09iamVjdHMvQnVpbHRpbkZ1bmN0aW9uT2JqZWN0XCI7XG5pbXBvcnQgeyBNb25pdG9yQmFzZSB9IGZyb20gJy4uL01vbml0b3JCYXNlJztcblxuaW1wb3J0IHsgVG9TdHJpbmcgfSBmcm9tICcuLi9Db252ZXJzaW9uL1RvU3RyaW5nJztcbmltcG9ydCB7IFRvT2JqZWN0IH0gZnJvbSAnLi4vQ29udmVyc2lvbi9Ub09iamVjdCc7XG5pbXBvcnQgeyBJc0NhbGxhYmxlIH0gZnJvbSAnLi4vVXRpbGl0eS9Jc0NhbGxhYmxlJztcbmltcG9ydCB7IFZhbHVlVHlwZXMgfSBmcm9tICcuLi9JbnRlcmZhY2VzJztcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmRlY2xhcmUgdmFyIG1vbml0b3I6IE1vbml0b3JCYXNlO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFRoZSBvYmplY3QgcHJvdG90eXBlLCAxNS4yLjRcblxuZXhwb3J0IGNsYXNzIE9iamVjdFByb3RvdHlwZSBleHRlbmRzIEVjbWFPYmplY3Qge1xuXG4gICAgaG9zdCA6IE9iamVjdDtcblxuICAgIGNvbnN0cnVjdG9yKGhvc3QgOiBPYmplY3QpIHtcbiAgICAgIHN1cGVyKCk7XG4gICAgICB0aGlzLlByb3RvdHlwZSA9IG5ldyBWYWx1ZShudWxsLCBib3QpO1xuICAgICAgdGhpcy5DbGFzcyA9ICdPYmplY3QnO1xuICAgICAgdGhpcy5FeHRlbnNpYmxlID0gdHJ1ZTtcbiAgXG4gICAgICB0aGlzLmhvc3QgPSBob3N0O1xuICAgIH1cbiAgXG4gICAgU2V0dXAoKSB7XG4gICAgICAvLyAxNS4yLjQuMVxuICAgICAgRGVmaW5lVEZUKHRoaXMsIGNvbnN0YW50cy5jb25zdHJ1Y3RvciwgbW9uaXRvci5pbnN0YW5jZXMuT2JqZWN0Q29uc3RydWN0b3IpO1xuICBcbiAgICAgIERlZmluZVRGVCh0aGlzLCBjb25zdGFudHMudG9TdHJpbmcsIG5ldyBCdWlsdGluRnVuY3Rpb25PYmplY3QodG9TdHJpbmcsIDAsIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcpKTtcbiAgICAgIERlZmluZVRGVCh0aGlzLCBjb25zdGFudHMudG9Mb2NhbGVTdHJpbmcsIG5ldyBCdWlsdGluRnVuY3Rpb25PYmplY3QodG9Mb2NhbGVTdHJpbmcsIDAsIE9iamVjdC5wcm90b3R5cGUudG9Mb2NhbGVTdHJpbmcpKTtcbiAgICAgIERlZmluZVRGVCh0aGlzLCBuZXcgVmFsdWUoJ3ZhbHVlT2YnLCBib3QpLCBuZXcgQnVpbHRpbkZ1bmN0aW9uT2JqZWN0KHZhbHVlT2YsIDAsIE9iamVjdC5wcm90b3R5cGUudmFsdWVPZikpO1xuICAgICAgRGVmaW5lVEZUKHRoaXMsIGNvbnN0YW50cy5oYXNPd25Qcm9wZXJ0eSwgbmV3IEJ1aWx0aW5GdW5jdGlvbk9iamVjdChoYXNPd25Qcm9wZXJ0eSwgMSwgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSkpO1xuICAgICAgRGVmaW5lVEZUKHRoaXMsIGNvbnN0YW50cy5pc1Byb3RvdHlwZU9mLCBuZXcgQnVpbHRpbkZ1bmN0aW9uT2JqZWN0KGlzUHJvdG90eXBlT2YsIDEsIE9iamVjdC5wcm90b3R5cGUuaXNQcm90b3R5cGVPZikpO1xuICAgICAgRGVmaW5lVEZUKHRoaXMsIGNvbnN0YW50cy5wcm9wZXJ0eUlzRW51bWVyYWJsZSwgbmV3IEJ1aWx0aW5GdW5jdGlvbk9iamVjdChwcm9wZXJ0eUlzRW51bWVyYWJsZSwgMSwgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZSkpO1xuICAgIH1cbiAgXG4gIH1cbiAgXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nKCksIDE1LjIuNC4yXG4gIGZ1bmN0aW9uIHRvU3RyaW5nKHRoaXNBcmc6IFZhbHVlPFZhbHVlVHlwZXM+LCBhcmdzOiBWYWx1ZTxWYWx1ZVR5cGVzPltdKTogVmFsdWU8c3RyaW5nPiB7XG4gIFxuICAgIGlmICh0aGlzQXJnLnZhbHVlID09PSB1bmRlZmluZWQpXG4gICAgICByZXR1cm4gbmV3IFZhbHVlKCdbb2JqZWN0IFVuZGVmaW5lZF0nLCB0aGlzQXJnLmxhYmVsKTtcbiAgXG4gICAgaWYgKHRoaXNBcmcudmFsdWUgPT09IG51bGwpXG4gICAgICByZXR1cm4gbmV3IFZhbHVlKCdbb2JqZWN0IE51bGxdJywgdGhpc0FyZy5sYWJlbCk7XG4gIFxuICAgIGxldCBPID0gVG9PYmplY3QodGhpc0FyZyk7XG4gICAgcmV0dXJuIG5ldyBWYWx1ZSgnW29iamVjdCAnICsgTy52YWx1ZS5DbGFzcyArICddJywgdGhpc0FyZy5sYWJlbCk7XG4gIH1cbiAgXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyAxNS4yLjQuM1xuICBcbiAgZnVuY3Rpb24gdG9Mb2NhbGVTdHJpbmcodGhpc0FyZzogVmFsdWU8VmFsdWVUeXBlcz4sIGFyZ3M6IFZhbHVlPFZhbHVlVHlwZXM+W10pOiBWYWx1ZTxzdHJpbmc+IHtcbiAgICBsZXQgTyA9IFRvT2JqZWN0KHRoaXNBcmcpO1xuICAgIGxldCB0b1N0cmluZyA9IE8uR2V0KGNvbnN0YW50cy50b1N0cmluZyk7ICBcbiAgICBsZXQgcmVzdWx0O1xuICBcbiAgICBtb25pdG9yLmNvbnRleHQucHVzaFBDKHRvU3RyaW5nLmxhYmVsKTtcbiAgICBpZiAoSXNDYWxsYWJsZSh0b1N0cmluZykpIHtcbiAgICAgIHJlc3VsdCA9IHRvU3RyaW5nLkNhbGwoTywgW10pO1xuICAgICAgcmVzdWx0LnJhaXNlKHRvU3RyaW5nLmxhYmVsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbW9uaXRvci5UaHJvdyhcbiAgICAgICAgXCJUeXBlRXJyb3JcIixcbiAgICAgICAgXCJwcm9wZXJ0eSAndG9TdHJpbmcnIG9mIG9iamVjdCBcIiArIE8gKyBcIiBpcyBub3QgYSBmdW5jdGlvbiBcIixcbiAgICAgICAgYm90XG4gICAgICApO1xuICAgIH1cbiAgICBtb25pdG9yLmNvbnRleHQucG9wUEMoKTtcbiAgXG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICBcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vIDE1LjIuNC40XG4gIFxuICBmdW5jdGlvbiB2YWx1ZU9mKHRoaXNBcmc6IFZhbHVlPFZhbHVlVHlwZXM+LCBhcmdzOiBWYWx1ZTxWYWx1ZVR5cGVzPltdKTogVmFsdWU8RWNtYU9iamVjdD4ge1xuICAgIGxldCBvID0gVG9PYmplY3QodGhpc0FyZyk7XG4gICAgcmV0dXJuIG87XG4gIH1cbiAgXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyAxNS4yLjQuNVxuICBcbiAgZnVuY3Rpb24gaGFzT3duUHJvcGVydHkodGhpc0FyZzogVmFsdWU8VmFsdWVUeXBlcz4sIGFyZ3M6IFZhbHVlPFZhbHVlVHlwZXM+W10pOiBWYWx1ZTxib29sZWFuPiB7XG4gICAgbGV0IFYgPSBhcmdzWzBdIHx8IG5ldyBWYWx1ZSh1bmRlZmluZWQsIGJvdCk7XG4gICAgbGV0IFAgPSBUb1N0cmluZyhWKTtcbiAgICBsZXQgTyA9IFRvT2JqZWN0KHRoaXNBcmcpO1xuICBcbiAgICBsZXQgZGVzYyA9IE8uR2V0T3duUHJvcGVydHkoUCk7XG4gICAgbGV0IHJlc3VsdCA9IGRlc2MudmFsdWUgIT09IHVuZGVmaW5lZDtcbiAgXG4gICAgcmV0dXJuIG5ldyBWYWx1ZShyZXN1bHQsIGRlc2MubGFiZWwpO1xuICB9XG4gIFxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gMTUuMi40LjZcbiAgXG4gIGZ1bmN0aW9uIGlzUHJvdG90eXBlT2YodGhpc0FyZzogVmFsdWU8VmFsdWVUeXBlcz4sIGFyZ3M6IFZhbHVlPFZhbHVlVHlwZXM+W10pOiBWYWx1ZTxib29sZWFuPiB7XG4gICAgbGV0IGMgPSBtb25pdG9yLmNvbnRleHQ7XG4gIFxuICAgIGxldCBWID0gYXJnc1swXSB8fCBuZXcgVmFsdWUodW5kZWZpbmVkLCBib3QpO1xuICBcbiAgICBpZiAoVi52YWx1ZSA9PT0gbnVsbCB8fCBWLnZhbHVlID09PSB1bmRlZmluZWQgfHwgdHlwZW9mIFYudmFsdWUgIT09ICdvYmplY3QnKSB7XG4gICAgICByZXR1cm4gbmV3IFZhbHVlKGZhbHNlLCBWLmxhYmVsKTtcbiAgICB9XG4gICAgXG4gICAgYy5wdXNoUEMoVi5sYWJlbCk7XG4gICAgbGV0IE8gPSBUb09iamVjdCh0aGlzQXJnKTtcbiAgICBjLnBvcFBDKCk7XG4gIFxuICAgIGxldCBsYmwgPSBsdWIoVi5sYWJlbCk7XG4gIFxuICAgIGxldCBQID0gVi52YWx1ZS5Qcm90b3R5cGU7XG4gICAgXG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIGxibCA9IGx1YihsYmwsIFAubGFiZWwpO1xuXG4gICAgICBpZiAoUC52YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gbmV3IFZhbHVlKGZhbHNlLCBsYmwpO1xuICAgICAgfVxuICBcbiAgICAgIGlmIChPLnZhbHVlID09PSBQLnZhbHVlKSB7XG4gICAgICAgIHJldHVybiBuZXcgVmFsdWUodHJ1ZSwgbGJsKTtcbiAgICAgIH1cbiAgXG4gICAgICBpZiAoUCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignT2JqZWN0LnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mOiBvYmplY3Qgd2l0aCB1bmRlZmluZWQgcHJvdG90eXBlJyk7XG4gICAgICB9XG5cbiAgICAgIFAgPSBQLnZhbHVlLlByb3RvdHlwZTtcbiAgICB9XG4gIH1cbiAgXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyAxNS4yLjQuN1xuICBcbiAgZnVuY3Rpb24gcHJvcGVydHlJc0VudW1lcmFibGUodGhpc0FyZzogVmFsdWU8VmFsdWVUeXBlcz4sIGFyZ3M6IFZhbHVlPFZhbHVlVHlwZXM+W10pOiBWYWx1ZTxib29sZWFuPiB7XG4gICAgbGV0IFYgPSBhcmdzWzBdIHx8IG5ldyBWYWx1ZSh1bmRlZmluZWQsIGJvdCk7XG4gICAgbGV0IFAgPSBUb1N0cmluZyhWKTtcbiAgICBsZXQgTyA9IFRvT2JqZWN0KHRoaXNBcmcpO1xuICBcbiAgICBsZXQgZGVzYyA9IE8uR2V0T3duUHJvcGVydHkoUCk7XG4gICAgaWYgKGRlc2MudmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIG5ldyBWYWx1ZShmYWxzZSwgZGVzYy5sYWJlbCk7XG4gICAgfVxuICBcbiAgICByZXR1cm4gbmV3IFZhbHVlKGRlc2MudmFsdWUuZW51bWVyYWJsZSA9PT0gdHJ1ZSwgbHViKGRlc2MubGFiZWwsIGRlc2MudmFsdWUubGFiZWwpKTtcbiAgfSIsImltcG9ydCB7IEVycm9yUHJvdG90eXBlIH0gZnJvbSBcIi4vRXJyb3JQcm90b3R5cGVcIjtcbmltcG9ydCB7IE1vbml0b3JCYXNlIH0gZnJvbSBcIi4uL01vbml0b3JCYXNlXCI7XG5cbmRlY2xhcmUgdmFyIG1vbml0b3I6IE1vbml0b3JCYXNlO1xuXG5leHBvcnQgY2xhc3MgUmFuZ2VFcnJvclByb3RvdHlwZSBleHRlbmRzIEVycm9yUHJvdG90eXBlIHtcblxuICAgIGNvbnN0cnVjdG9yKGhvc3Q6IFJhbmdlRXJyb3IpIHtcbiAgICAgICAgc3VwZXIoaG9zdCk7XG4gICAgfVxuXG4gICAgU2V0dXAoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuU2V0dXBCYXNlKG1vbml0b3IuaW5zdGFuY2VzLkVycm9yQ29uc3RydWN0b3IsICdSYW5nZUVycm9yJyk7XG4gICAgfVxuXG59IiwiaW1wb3J0IHsgRXJyb3JQcm90b3R5cGUgfSBmcm9tIFwiLi9FcnJvclByb3RvdHlwZVwiO1xuaW1wb3J0IHsgTW9uaXRvckJhc2UgfSBmcm9tIFwiLi4vTW9uaXRvckJhc2VcIjtcblxuZGVjbGFyZSB2YXIgbW9uaXRvcjogTW9uaXRvckJhc2U7XG5cbmV4cG9ydCBjbGFzcyBSZWZlcmVuY2VFcnJvclByb3RvdHlwZSBleHRlbmRzIEVycm9yUHJvdG90eXBlIHtcblxuICAgIGNvbnN0cnVjdG9yKGhvc3Q6IFJlZmVyZW5jZUVycm9yKSB7XG4gICAgICAgIHN1cGVyKGhvc3QpO1xuICAgIH1cblxuICAgIFNldHVwKCk6IHZvaWQge1xuICAgICAgICB0aGlzLlNldHVwQmFzZShtb25pdG9yLmluc3RhbmNlcy5FcnJvckNvbnN0cnVjdG9yLCAnUmVmZXJlbmNlRXJyb3InKTtcbiAgICB9XG5cbn0iLCJcbmltcG9ydCB7IFZhbHVlIH0gZnJvbSBcIi4uL1ZhbHVlXCI7XG5pbXBvcnQgKiBhcyBjb25zdGFudHMgZnJvbSAnLi4vQ29uc3RhbnRzJztcbmltcG9ydCAqIGFzIF8gZnJvbSAndW5kZXJzY29yZSc7XG5pbXBvcnQgeyBCdWlsdGluRnVuY3Rpb25PYmplY3QgfSBmcm9tIFwiLi4vT2JqZWN0cy9CdWlsdGluRnVuY3Rpb25PYmplY3RcIjtcbmltcG9ydCB7IEFycmF5T2JqZWN0IH0gZnJvbSAnLi4vT2JqZWN0cy9BcnJheU9iamVjdCc7XG5pbXBvcnQgeyBUb0ludGVnZXIgfSBmcm9tICcuLi9Db252ZXJzaW9uL1RvSW50ZWdlcic7XG5pbXBvcnQgeyBUb1N0cmluZyB9IGZyb20gJy4uL0NvbnZlcnNpb24vVG9TdHJpbmcnO1xuaW1wb3J0IHsgTW9uaXRvckJhc2UgfSBmcm9tICcuLi9Nb25pdG9yQmFzZSc7XG5cbmltcG9ydCB7IGJvdCwgbHViIH0gZnJvbSAnLi4vTGFiZWwnO1xuaW1wb3J0IHsgRGVmaW5lRkZGLCBEZWZpbmVURlQsIERlZmluZVRGRiB9IGZyb20gJy4uL0RlZmluZSc7XG5pbXBvcnQgeyBFY21hT2JqZWN0IH0gZnJvbSAnLi4vT2JqZWN0cy9FY21hT2JqZWN0JztcbmltcG9ydCB7IFZhbHVlVHlwZXMgfSBmcm9tIFwiLi4vSW50ZXJmYWNlc1wiO1xuaW1wb3J0IHsgSXNSZWdFeHBPYmplY3QsIFJlZ0V4cE9iamVjdCB9IGZyb20gXCIuLi9PYmplY3RzL1JlZ0V4cE9iamVjdFwiO1xuXG5cbmRlY2xhcmUgdmFyIG1vbml0b3I6IE1vbml0b3JCYXNlO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFRoZSBSZWdFeHAgUHJvdG90eXBlLCAxNS4xMC42XG5leHBvcnQgY2xhc3MgUmVnRXhwUHJvdG90eXBlIGV4dGVuZHMgRWNtYU9iamVjdCB7XG5cbiAgICBob3N0OiBSZWdFeHA7XG5cbiAgICBjb25zdHJ1Y3Rvcihob3N0IDogUmVnRXhwKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuQ2xhc3MgPSAnUmVnRXhwJztcblxuICAgICAgICB0aGlzLmhvc3QgPSBob3N0O1xuICAgIH1cblxuICAgIFNldHVwKCkgOiB2b2lkIHtcbiAgICAgICAgdGhpcy5Qcm90b3R5cGUgPSBuZXcgVmFsdWUobW9uaXRvci5pbnN0YW5jZXMuT2JqZWN0UHJvdG90eXBlLCBib3QpO1xuXG4gICAgICAgIERlZmluZUZGRih0aGlzLCBjb25zdGFudHMuc291cmNlLCAnJyk7XG4gICAgICAgIERlZmluZUZGRih0aGlzLCBjb25zdGFudHMuZ2xvYmFsLCBmYWxzZSk7XG4gICAgICAgIERlZmluZUZGRih0aGlzLCBjb25zdGFudHMuaWdub3JlQ2FzZSwgZmFsc2UpO1xuICAgICAgICBEZWZpbmVGRkYodGhpcywgY29uc3RhbnRzLm11bHRpbGluZSwgZmFsc2UpO1xuICAgICAgICBEZWZpbmVURkYodGhpcywgY29uc3RhbnRzLmxhc3RJbmRleCwgMCk7XG5cbiAgICAgICAgRGVmaW5lVEZUKHRoaXMsIGNvbnN0YW50cy5jb25zdHJ1Y3RvciwgbW9uaXRvci5pbnN0YW5jZXMuUmVnRXhwQ29uc3RydWN0b3IpO1xuXG4gICAgICAgIERlZmluZVRGVCh0aGlzLCBjb25zdGFudHMuZXhlYywgbmV3IEJ1aWx0aW5GdW5jdGlvbk9iamVjdChleGVjLCAxLCBSZWdFeHAucHJvdG90eXBlLmV4ZWMpKTtcbiAgICAgICAgRGVmaW5lVEZUKHRoaXMsIGNvbnN0YW50cy50ZXN0LCBuZXcgQnVpbHRpbkZ1bmN0aW9uT2JqZWN0KHRlc3QsIDEsIFJlZ0V4cC5wcm90b3R5cGUudGVzdCkpO1xuICAgICAgICBEZWZpbmVURlQodGhpcywgY29uc3RhbnRzLnRvU3RyaW5nLCBuZXcgQnVpbHRpbkZ1bmN0aW9uT2JqZWN0KHRvU3RyaW5nLCAwLCBSZWdFeHAucHJvdG90eXBlLnRvU3RyaW5nKSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBhc3NlcnRSZWdFeHAodiA6IFZhbHVlPGFueT4sIGNhbGxlciA6IHN0cmluZykgOiB2b2lkIHtcblxuICAgIGlmICghSXNSZWdFeHBPYmplY3QodikpIHtcbiAgICAgICAgbW9uaXRvci5jb250ZXh0LnB1c2hQQyh2LmxhYmVsKTtcbiAgICAgICAgbW9uaXRvci5UaHJvdyhcbiAgICAgICAgICAgIFwiVHlwZUVycm9yXCIsXG4gICAgICAgICAgICBjYWxsZXIgKyAnIGlzIG5vdCBnZW5lcmljJyxcbiAgICAgICAgICAgIGJvdFxuICAgICAgICApO1xuICAgIH1cblxufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIGV4ZWMsIDE1LjEwLjYuMlxuZnVuY3Rpb24gZXhlYyh0aGlzQXJnOiBWYWx1ZTxSZWdFeHBPYmplY3Q+LCBhcmdzOiBWYWx1ZTxWYWx1ZVR5cGVzPltdKTogVmFsdWU8VmFsdWVUeXBlcz4ge1xuICAgIGFzc2VydFJlZ0V4cCh0aGlzQXJnLCAnZXhlYycpO1xuXG4gICAgdmFyIHN0cmluZyA9IGFyZ3NbMF0gfHwgbmV3IFZhbHVlKHVuZGVmaW5lZCwgYm90KTtcbiAgICB2YXIgUyA9IFRvU3RyaW5nKHN0cmluZyk7XG5cbiAgICB2YXIgbGFzdEluZGV4ID0gVG9JbnRlZ2VyKHRoaXNBcmcuR2V0KGNvbnN0YW50cy5sYXN0SW5kZXgpKTtcblxuICAgIHZhciBwcmUgPSB0aGlzQXJnLnZhbHVlLlByaW1pdGl2ZVZhbHVlO1xuICAgIHByZS5sYXN0SW5kZXggPSBsYXN0SW5kZXgudmFsdWU7XG5cbiAgICB2YXIgcmVzID0gcHJlLmV4ZWMoUy52YWx1ZSk7XG5cbiAgICB2YXIgbCA9IGx1Yih0aGlzQXJnLmxhYmVsLCBTLmxhYmVsLCBsYXN0SW5kZXgubGFiZWwpO1xuXG4gICAgaWYgKHJlcyA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gbmV3IFZhbHVlKG51bGwsIGwpO1xuICAgIH1cblxuICAgIHRoaXNBcmcuUHV0KGNvbnN0YW50cy5sYXN0SW5kZXgsIG5ldyBWYWx1ZShwcmUubGFzdEluZGV4LCBsKSk7XG5cbiAgICB2YXIgYXJyYXkgPSBBcnJheU9iamVjdC5mcm9tQXJyYXkocmVzLCBsLCBsKTtcblxuICAgIGFycmF5LkRlZmluZU93blByb3BlcnR5KGNvbnN0YW50cy5pbmRleCxcbiAgICAgICAge1xuICAgICAgICAgICAgdmFsdWU6IHJlcy5pbmRleCxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGxhYmVsOiBsXG4gICAgICAgIH1cbiAgICApO1xuXG4gICAgYXJyYXkuRGVmaW5lT3duUHJvcGVydHkoY29uc3RhbnRzLmlucHV0LFxuICAgICAgICB7XG4gICAgICAgICAgICB2YWx1ZTogcmVzLmlucHV0LFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgbGFiZWw6IGxcbiAgICAgICAgfVxuICAgICk7XG5cbiAgICByZXR1cm4gbmV3IFZhbHVlKGFycmF5LCBib3QpO1xufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIHRlc3QsIDE1LjEwLjYuM1xuZnVuY3Rpb24gdGVzdCh0aGlzQXJnOiBWYWx1ZTxSZWdFeHBPYmplY3Q+LCBhcmdzOiBWYWx1ZTxWYWx1ZVR5cGVzPltdKTogVmFsdWU8VmFsdWVUeXBlcz4ge1xuICAgIGFzc2VydFJlZ0V4cCh0aGlzQXJnLCAndGVzdCcpO1xuXG4gICAgdmFyIHJlcyA9IGV4ZWModGhpc0FyZywgYXJncyk7XG4gICAgcmV0dXJuIG5ldyBWYWx1ZShyZXMudmFsdWUgIT09IG51bGwsIHJlcy5sYWJlbCk7XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gdG9TdHJpbmcsIDE1LjEwLjYuM1xuZnVuY3Rpb24gdG9TdHJpbmcodGhpc0FyZzogVmFsdWU8UmVnRXhwT2JqZWN0PiwgYXJnczogVmFsdWU8VmFsdWVUeXBlcz5bXSk6IFZhbHVlPFZhbHVlVHlwZXM+IHtcbiAgICBhc3NlcnRSZWdFeHAodGhpc0FyZywgJ3RvU3RyaW5nJyk7XG5cbiAgICByZXR1cm4gbmV3IFZhbHVlKHRoaXNBcmcudmFsdWUuUHJpbWl0aXZlVmFsdWUudG9TdHJpbmcoKSwgdGhpc0FyZy5sYWJlbCk7XG59XG4iLCJcbmltcG9ydCB7IFZhbHVlIH0gZnJvbSBcIi4uL1ZhbHVlXCI7XG5pbXBvcnQgKiBhcyBjb25zdGFudHMgZnJvbSAnLi4vQ29uc3RhbnRzJztcbmltcG9ydCB7IEJ1aWx0aW5GdW5jdGlvbk9iamVjdCB9IGZyb20gXCIuLi9PYmplY3RzL0J1aWx0aW5GdW5jdGlvbk9iamVjdFwiO1xuaW1wb3J0IHsgQXJyYXlPYmplY3QgfSBmcm9tICcuLi9PYmplY3RzL0FycmF5T2JqZWN0JztcbmltcG9ydCB7IFRvSW50ZWdlciB9IGZyb20gJy4uL0NvbnZlcnNpb24vVG9JbnRlZ2VyJztcbmltcG9ydCB7IFRvU3RyaW5nIH0gZnJvbSAnLi4vQ29udmVyc2lvbi9Ub1N0cmluZyc7XG5pbXBvcnQgeyBDaGVja09iamVjdENvZXJjaWJsZSB9IGZyb20gJy4uL1V0aWxpdHkvQ2hlY2tPYmplY3RDb2VyY2libGUnO1xuaW1wb3J0IHsgTW9uaXRvckJhc2UgfSBmcm9tICcuLi9Nb25pdG9yQmFzZSc7XG5cbmltcG9ydCB7IERlZmluZVRGVCB9IGZyb20gJy4uL0RlZmluZSc7XG5pbXBvcnQgeyBFY21hT2JqZWN0IH0gZnJvbSAnLi4vT2JqZWN0cy9FY21hT2JqZWN0JztcblxuaW1wb3J0IHsgYm90LCBMYWJlbCwgbHViLCBsZSB9IGZyb20gJy4uL0xhYmVsJztcbmltcG9ydCB7IFZhbHVlVHlwZXMgfSBmcm9tIFwiLi4vSW50ZXJmYWNlc1wiO1xuaW1wb3J0IHsgSXNTdHJpbmdPYmplY3QgfSBmcm9tIFwiLi4vT2JqZWN0cy9TdHJpbmdPYmplY3RcIjtcbmltcG9ydCB7IElzUmVnRXhwT2JqZWN0LCBSZWdFeHBPYmplY3QgfSBmcm9tIFwiLi4vT2JqZWN0cy9SZWdFeHBPYmplY3RcIjtcbmltcG9ydCB7IElzQ2FsbGFibGUgfSBmcm9tIFwiLi4vVXRpbGl0eS9Jc0NhbGxhYmxlXCI7XG5pbXBvcnQgeyBUb0ludDMyIH0gZnJvbSBcIi4uL0NvbnZlcnNpb24vVG9JbnQzMlwiO1xuaW1wb3J0IHsgVG9OdW1iZXIgfSBmcm9tIFwiLi4vQ29udmVyc2lvbi9Ub051bWJlclwiO1xuXG5kZWNsYXJlIHZhciBtb25pdG9yOiBNb25pdG9yQmFzZTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBUaGUgU3RyaW5nIFByb3RvdHlwZSwgMTUuNS40XG5leHBvcnQgY2xhc3MgU3RyaW5nUHJvdG90eXBlIGV4dGVuZHMgRWNtYU9iamVjdCB7XG5cbiAgICBob3N0OiBTdHJpbmc7XG5cbiAgICBQcmltaXRpdmVWYWx1ZTogc3RyaW5nO1xuICAgIFByaW1pdGl2ZUxhYmVsOiBMYWJlbDtcblxuICAgIGNvbnN0cnVjdG9yKGhvc3Q6IFN0cmluZykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLkNsYXNzID0gJ1N0cmluZyc7XG4gICAgICAgIHRoaXMuUHJpbWl0aXZlVmFsdWUgPSAnJztcbiAgICAgICAgdGhpcy5QcmltaXRpdmVMYWJlbCA9IGJvdDtcblxuICAgICAgICAvL0B0cy1pZ25vcmUgVFlQRVNcbiAgICAgICAgdGhpcy5wcm9wZXJ0aWVzID0gbmV3IFN0cmluZygnJyk7XG4gICAgICAgIHRoaXMubGFiZWxzLmxlbmd0aCA9IHtcbiAgICAgICAgICAgIHZhbHVlOiBib3QsXG4gICAgICAgICAgICBleGlzdGVuY2U6IGJvdFxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuaG9zdCA9IGhvc3Q7XG4gICAgfVxuXG4gICAgU2V0dXAoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuUHJvdG90eXBlID0gbmV3IFZhbHVlKG1vbml0b3IuaW5zdGFuY2VzLk9iamVjdFByb3RvdHlwZSwgYm90KTtcbiAgICAgICAgRGVmaW5lVEZUKHRoaXMsIGNvbnN0YW50cy5jb25zdHJ1Y3RvciwgbW9uaXRvci5pbnN0YW5jZXMuU3RyaW5nQ29uc3RydWN0b3IpO1xuICAgICAgICBEZWZpbmVURlQodGhpcywgY29uc3RhbnRzLnRvU3RyaW5nLCBuZXcgQnVpbHRpbkZ1bmN0aW9uT2JqZWN0KHRvU3RyaW5nLCAwLCB0aGlzLmhvc3QudG9TdHJpbmcpKTtcbiAgICAgICAgRGVmaW5lVEZUKHRoaXMsIGNvbnN0YW50cy52YWx1ZU9mLCBuZXcgQnVpbHRpbkZ1bmN0aW9uT2JqZWN0KHZhbHVlT2YsIDAsIHRoaXMuaG9zdC52YWx1ZU9mKSk7XG4gICAgICAgIERlZmluZVRGVCh0aGlzLCBjb25zdGFudHMuY2hhckF0LCBuZXcgQnVpbHRpbkZ1bmN0aW9uT2JqZWN0KGNoYXJBdCwgMSwgdGhpcy5ob3N0LmNoYXJBdCkpO1xuICAgICAgICBEZWZpbmVURlQodGhpcywgY29uc3RhbnRzLmNoYXJDb2RlQXQsIG5ldyBCdWlsdGluRnVuY3Rpb25PYmplY3QoY2hhckNvZGVBdCwgMSwgdGhpcy5ob3N0LmNoYXJDb2RlQXQpKTtcbiAgICAgICAgRGVmaW5lVEZUKHRoaXMsIGNvbnN0YW50cy5jb25jYXQsIG5ldyBCdWlsdGluRnVuY3Rpb25PYmplY3QoY29uY2F0LCAxLCB0aGlzLmhvc3QuY29uY2F0KSk7XG4gICAgICAgIERlZmluZVRGVCh0aGlzLCBjb25zdGFudHMuaW5kZXhPZiwgbmV3IEJ1aWx0aW5GdW5jdGlvbk9iamVjdChpbmRleE9mLCAxLCB0aGlzLmhvc3QuaW5kZXhPZikpO1xuICAgICAgICBEZWZpbmVURlQodGhpcywgY29uc3RhbnRzLmxhc3RJbmRleE9mLCBuZXcgQnVpbHRpbkZ1bmN0aW9uT2JqZWN0KGxhc3RJbmRleE9mLCAxLCB0aGlzLmhvc3QubGFzdEluZGV4T2YpKTtcbiAgICAgICAgRGVmaW5lVEZUKHRoaXMsIGNvbnN0YW50cy5sb2NhbGVDb21wYXJlLCBuZXcgQnVpbHRpbkZ1bmN0aW9uT2JqZWN0KGxvY2FsZUNvbXBhcmUsIDEsIHRoaXMuaG9zdC5sb2NhbGVDb21wYXJlKSk7XG4gICAgICAgIERlZmluZVRGVCh0aGlzLCBjb25zdGFudHMubWF0Y2gsIG5ldyBCdWlsdGluRnVuY3Rpb25PYmplY3QobWF0Y2gsIDEsIHRoaXMuaG9zdC5tYXRjaCkpO1xuICAgICAgICBEZWZpbmVURlQodGhpcywgY29uc3RhbnRzLnJlcGxhY2UsIG5ldyBCdWlsdGluRnVuY3Rpb25PYmplY3QocmVwbGFjZSwgMiwgdGhpcy5ob3N0LnJlcGxhY2UpKTtcbiAgICAgICAgRGVmaW5lVEZUKHRoaXMsIGNvbnN0YW50cy5zZWFyY2gsIG5ldyBCdWlsdGluRnVuY3Rpb25PYmplY3Qoc2VhcmNoLCAxLCB0aGlzLmhvc3Quc2VhcmNoKSk7XG4gICAgICAgIERlZmluZVRGVCh0aGlzLCBjb25zdGFudHMuc2xpY2UsIG5ldyBCdWlsdGluRnVuY3Rpb25PYmplY3Qoc2xpY2UsIDIsIHRoaXMuaG9zdC5zbGljZSkpO1xuICAgICAgICBEZWZpbmVURlQodGhpcywgY29uc3RhbnRzLnNwbGl0LCBuZXcgQnVpbHRpbkZ1bmN0aW9uT2JqZWN0KHNwbGl0LCAyLCB0aGlzLmhvc3Quc3BsaXQpKTtcbiAgICAgICAgRGVmaW5lVEZUKHRoaXMsIGNvbnN0YW50cy5zdWJzdHJpbmcsIG5ldyBCdWlsdGluRnVuY3Rpb25PYmplY3Qoc3Vic3RyaW5nLCAyLCB0aGlzLmhvc3Quc3Vic3RyaW5nKSk7XG4gICAgICAgIERlZmluZVRGVCh0aGlzLCBjb25zdGFudHMudG9Mb3dlckNhc2UsIG5ldyBCdWlsdGluRnVuY3Rpb25PYmplY3QodG9Mb3dlckNhc2UsIDAsIHRoaXMuaG9zdC50b0xvd2VyQ2FzZSkpO1xuICAgICAgICBEZWZpbmVURlQodGhpcywgY29uc3RhbnRzLnRvTG9jYWxlTG93ZXJDYXNlLCBuZXcgQnVpbHRpbkZ1bmN0aW9uT2JqZWN0KHRvTG9jYWxlTG93ZXJDYXNlLCAwLCB0aGlzLmhvc3QudG9Mb2NhbGVMb3dlckNhc2UpKTtcbiAgICAgICAgRGVmaW5lVEZUKHRoaXMsIGNvbnN0YW50cy50b1VwcGVyQ2FzZSwgbmV3IEJ1aWx0aW5GdW5jdGlvbk9iamVjdCh0b1VwcGVyQ2FzZSwgMCwgdGhpcy5ob3N0LnRvVXBwZXJDYXNlKSk7XG4gICAgICAgIERlZmluZVRGVCh0aGlzLCBjb25zdGFudHMudG9Mb2NhbGVVcHBlckNhc2UsIG5ldyBCdWlsdGluRnVuY3Rpb25PYmplY3QodG9Mb2NhbGVVcHBlckNhc2UsIDAsIHRoaXMuaG9zdC50b0xvY2FsZVVwcGVyQ2FzZSkpO1xuICAgICAgICBEZWZpbmVURlQodGhpcywgY29uc3RhbnRzLnRyaW0sIG5ldyBCdWlsdGluRnVuY3Rpb25PYmplY3QodHJpbSwgMCwgdGhpcy5ob3N0LnRyaW0pKTtcblxuICAgICAgICBEZWZpbmVURlQodGhpcywgY29uc3RhbnRzLnN1YnN0ciwgbmV3IEJ1aWx0aW5GdW5jdGlvbk9iamVjdChzdWJzdHIsIDIsIHRoaXMuaG9zdC5zdWJzdHIpKTtcbiAgICB9XG59XG5cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyB0b1N0cmluZywgMTUuNS40LjJcbmZ1bmN0aW9uIHRvU3RyaW5nKHRoaXNBcmc6IFZhbHVlPFZhbHVlVHlwZXM+LCBhcmdzOiBWYWx1ZTxWYWx1ZVR5cGVzPltdKTogVmFsdWU8c3RyaW5nPiB7XG5cbiAgICBpZiAodHlwZW9mIHRoaXNBcmcudmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiBuZXcgVmFsdWUodGhpc0FyZy52YWx1ZSwgdGhpc0FyZy5sYWJlbCk7XG4gICAgfVxuXG4gICAgaWYgKCFJc1N0cmluZ09iamVjdCh0aGlzQXJnKSkge1xuICAgICAgICBtb25pdG9yLlRocm93KFxuICAgICAgICAgICAgXCJUeXBlRXJyb3JcIixcbiAgICAgICAgICAgICdTdHJpbmcucHJvdG90eXBlLnRvU3RyaW5nIGlzIG5vdCBnZW5lcmljJyxcbiAgICAgICAgICAgIHRoaXNBcmcubGFiZWxcbiAgICAgICAgKTtcbiAgICAgICAgdGhyb3cgJ1R5cGVTY3JpcHQnO1xuICAgIH1cblxuICAgIGxldCByZXN1bHQgPSB0aGlzQXJnLnZhbHVlLlByaW1pdGl2ZVZhbHVlLnRvU3RyaW5nKCk7XG4gICAgcmV0dXJuIG5ldyBWYWx1ZShyZXN1bHQsIHRoaXNBcmcudmFsdWUuUHJpbWl0aXZlTGFiZWwpO1xufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIHZhbHVlT2YsIDE1LjUuNC4zXG5sZXQgdmFsdWVPZiA9IHRvU3RyaW5nO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIGNoYXJBdCwgMTUuNS40LjRcbmZ1bmN0aW9uIGNoYXJBdCh0aGlzQXJnOiBWYWx1ZTxWYWx1ZVR5cGVzPiwgYXJnczogVmFsdWU8VmFsdWVUeXBlcz5bXSk6IFZhbHVlPHN0cmluZz4ge1xuICAgIGxldCBwb3MgPSBhcmdzWzBdIHx8IG5ldyBWYWx1ZSh1bmRlZmluZWQsIGJvdCk7XG4gICAgQ2hlY2tPYmplY3RDb2VyY2libGUodGhpc0FyZyk7XG4gICAgbGV0IFMgPSBUb1N0cmluZyh0aGlzQXJnKTtcbiAgICBsZXQgcG9zaXRpb24gPSBUb0ludGVnZXIocG9zKTtcblxuICAgIGxldCBjID0gUy52YWx1ZS5jaGFyQXQocG9zaXRpb24udmFsdWUpO1xuICAgIHJldHVybiBuZXcgVmFsdWUoYywgbHViKHBvc2l0aW9uLmxhYmVsLCBTLmxhYmVsKSk7XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gY2hhckNvZGVBdCwgMTUuNS40LjVcbmZ1bmN0aW9uIGNoYXJDb2RlQXQodGhpc0FyZzogVmFsdWU8VmFsdWVUeXBlcz4sIGFyZ3M6IFZhbHVlPFZhbHVlVHlwZXM+W10pOiBWYWx1ZTxudW1iZXI+IHtcbiAgICBsZXQgcG9zID0gYXJnc1swXSB8fCBuZXcgVmFsdWUodW5kZWZpbmVkLCBib3QpO1xuICAgIENoZWNrT2JqZWN0Q29lcmNpYmxlKHRoaXNBcmcpO1xuICAgIGxldCBTID0gVG9TdHJpbmcodGhpc0FyZyk7XG4gICAgbGV0IHBvc2l0aW9uID0gVG9JbnRlZ2VyKHBvcyk7XG5cbiAgICBsZXQgYyA9IFMudmFsdWUuY2hhckNvZGVBdChwb3NpdGlvbi52YWx1ZSk7XG4gICAgcmV0dXJuIG5ldyBWYWx1ZShjLCBsdWIocG9zaXRpb24ubGFiZWwsIHRoaXNBcmcubGFiZWwpKTtcbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBjb25jYXQsIDE1LjUuNC42XG5mdW5jdGlvbiBjb25jYXQodGhpc0FyZzogVmFsdWU8VmFsdWVUeXBlcz4sIGFyZ3M6IFZhbHVlPFZhbHVlVHlwZXM+W10pOiBWYWx1ZTxzdHJpbmc+IHtcbiAgICBDaGVja09iamVjdENvZXJjaWJsZSh0aGlzQXJnKTtcbiAgICBsZXQgUyA9IFRvU3RyaW5nKHRoaXNBcmcpO1xuICAgIGxldCBsYmwgPSBuZXcgTGFiZWwoKTtcbiAgICBsZXQgX2FyZ3M6IHN0cmluZ1tdID0gW107XG4gICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IGFyZ3MubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgbGV0IGFyZyA9IFRvU3RyaW5nKGFyZ3NbaV0pO1xuICAgICAgICBsYmwgPSBsdWIobGJsLCBhcmcubGFiZWwpO1xuICAgICAgICBfYXJnc1tpXSA9IGFyZy52YWx1ZTtcbiAgICB9XG4gICAgbGV0IHN0cjogc3RyaW5nID0gUy52YWx1ZS5jb25jYXQuYXBwbHkoUy52YWx1ZSwgX2FyZ3MpO1xuICAgIGxibCA9IGx1YihsYmwsIHRoaXNBcmcubGFiZWwpO1xuICAgIHJldHVybiBuZXcgVmFsdWUoc3RyLCBsYmwpO1xufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIGluZGV4T2YsIDE1LjUuNC43XG5mdW5jdGlvbiBpbmRleE9mKHRoaXNBcmc6IFZhbHVlPFZhbHVlVHlwZXM+LCBhcmdzOiBWYWx1ZTxWYWx1ZVR5cGVzPltdKTogVmFsdWU8bnVtYmVyPiB7XG4gICAgbGV0IHNlYXJjaFN0cmluZyA9IGFyZ3NbMF0gfHwgbmV3IFZhbHVlKHVuZGVmaW5lZCwgYm90KTtcbiAgICBsZXQgcG9zaXRpb24gPSBhcmdzWzFdIHx8IG5ldyBWYWx1ZSgwLCBib3QpO1xuXG4gICAgQ2hlY2tPYmplY3RDb2VyY2libGUodGhpc0FyZyk7XG4gICAgbGV0IFMgPSBUb1N0cmluZyh0aGlzQXJnKTtcbiAgICBsZXQgc2VhcmNoU3RyID0gVG9TdHJpbmcoc2VhcmNoU3RyaW5nKTtcbiAgICBsZXQgcG9zID0gVG9JbnRlZ2VyKHBvc2l0aW9uKTtcblxuICAgIGxldCBsYmwgPSBsdWIoUy5sYWJlbCwgc2VhcmNoU3RyLmxhYmVsLCBwb3MubGFiZWwpO1xuICAgIGxldCBzdHIgPSBTLnZhbHVlLmluZGV4T2Yoc2VhcmNoU3RyLnZhbHVlLCBwb3MudmFsdWUpO1xuXG4gICAgcmV0dXJuIG5ldyBWYWx1ZShzdHIsIGxibCk7XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gbGFzdEluZGV4T2YsIDE1LjUuNC44XG5mdW5jdGlvbiBsYXN0SW5kZXhPZih0aGlzQXJnOiBWYWx1ZTxWYWx1ZVR5cGVzPiwgYXJnczogVmFsdWU8VmFsdWVUeXBlcz5bXSk6IFZhbHVlPG51bWJlcj4ge1xuICAgIGxldCBzZWFyY2hTdHJpbmcgPSBhcmdzWzBdIHx8IG5ldyBWYWx1ZSh1bmRlZmluZWQsIGJvdCk7XG4gICAgbGV0IHBvc2l0aW9uID0gYXJnc1sxXSB8fCBuZXcgVmFsdWUodW5kZWZpbmVkLCBib3QpO1xuXG4gICAgQ2hlY2tPYmplY3RDb2VyY2libGUodGhpc0FyZyk7XG4gICAgbGV0IFMgPSBUb1N0cmluZyh0aGlzQXJnKTtcbiAgICBsZXQgc2VhcmNoU3RyID0gVG9TdHJpbmcoc2VhcmNoU3RyaW5nKTtcblxuICAgIGxldCBwb3MgPSBUb051bWJlcihwb3NpdGlvbik7XG4gICAgaWYgKGlzTmFOKHBvcy52YWx1ZSkpIHtcbiAgICAgICAgcG9zLnZhbHVlID0gSW5maW5pdHk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcG9zID0gVG9JbnRlZ2VyKHBvcylcbiAgICB9XG4gICAgXG4gICAgbGV0IGxibCA9IGx1YihTLmxhYmVsLCBzZWFyY2hTdHIubGFiZWwsIHBvcy5sYWJlbCk7XG5cbiAgICBsZXQgc3RyID0gUy52YWx1ZS5sYXN0SW5kZXhPZihzZWFyY2hTdHIudmFsdWUsIHBvcy52YWx1ZSk7XG5cbiAgICByZXR1cm4gbmV3IFZhbHVlKHN0ciwgbGJsKTtcbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBsb2NhbGVDb21wYXJlLCAxNS41LjQuOVxuZnVuY3Rpb24gbG9jYWxlQ29tcGFyZSh0aGlzQXJnOiBWYWx1ZTxWYWx1ZVR5cGVzPiwgYXJnczogVmFsdWU8VmFsdWVUeXBlcz5bXSk6IFZhbHVlPG51bWJlcj4ge1xuICAgIGxldCBhcmcwID0gYXJnc1swXSB8fCBuZXcgVmFsdWUodW5kZWZpbmVkLCBib3QpO1xuXG4gICAgQ2hlY2tPYmplY3RDb2VyY2libGUodGhpc0FyZyk7XG4gICAgbGV0IFMgPSBUb1N0cmluZyh0aGlzQXJnKTtcbiAgICBsZXQgdGhhdCA9IFRvU3RyaW5nKGFyZzApO1xuXG4gICAgbGV0IGxibCA9IGx1YihTLmxhYmVsLCB0aGF0LmxhYmVsKTtcbiAgICBsZXQgcmVzdWx0ID0gUy52YWx1ZS5sb2NhbGVDb21wYXJlKHRoYXQudmFsdWUpO1xuXG4gICAgcmV0dXJuIG5ldyBWYWx1ZShyZXN1bHQsIGxibCk7XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gbWF0Y2gsIDE1LjUuNC4xMFxuZnVuY3Rpb24gbWF0Y2godGhpc0FyZzogVmFsdWU8VmFsdWVUeXBlcz4sIGFyZ3M6IFZhbHVlPFZhbHVlVHlwZXM+W10pOiBWYWx1ZTxBcnJheU9iamVjdCB8IG51bGw+IHtcbiAgICBsZXQgcmVnZXhwID0gYXJnc1swXSB8fCBuZXcgVmFsdWUodW5kZWZpbmVkLCBib3QpO1xuXG4gICAgQ2hlY2tPYmplY3RDb2VyY2libGUodGhpc0FyZyk7XG4gICAgbGV0IFMgPSBUb1N0cmluZyh0aGlzQXJnKTtcblxuICAgIGxldCByeDogVmFsdWU8UmVnRXhwT2JqZWN0PjtcbiAgICBpZiAoSXNSZWdFeHBPYmplY3QocmVnZXhwKSkge1xuICAgICAgICByeCA9IHJlZ2V4cDtcbiAgICB9IGVsc2Uge1xuICAgICAgICByeCA9IG1vbml0b3IuaW5zdGFuY2VzLlJlZ0V4cENvbnN0cnVjdG9yLkNvbnN0cnVjdChbcmVnZXhwXSk7XG4gICAgfVxuXG4gICAgbGV0IGxibCA9IGx1YihTLmxhYmVsLCByeC52YWx1ZS5QcmltaXRpdmVMYWJlbCk7XG4gICAgbW9uaXRvci5hc3NlcnQoXG4gICAgICAgIGxlKHJ4LmxhYmVsLCByeC52YWx1ZS5QcmltaXRpdmVMYWJlbCksXG4gICAgICAgICdTdHJpbmcucHJvdG90eXBlLm1hdGNoOiBsYWJlbCBvZiByZWd1bGFyIGV4cHJlc3Npb24gb2JqZWN0IG5vdCBiZWxvdyByZWd1bGFyIGV4cHJlc3Npb24gbGFiZWwnXG4gICAgKTtcblxuICAgIHJ4LnZhbHVlLlByaW1pdGl2ZUxhYmVsID0gbGJsO1xuICAgIGxldCBwcmltaXRpdmVBcnJheSA9IFMudmFsdWUubWF0Y2gocngudmFsdWUuUHJpbWl0aXZlVmFsdWUpO1xuXG4gICAgaWYgKHByaW1pdGl2ZUFycmF5ID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBuZXcgVmFsdWUobnVsbCwgbGJsKTtcbiAgICB9XG5cbiAgICBsZXQgYXJyYXkgPSBBcnJheU9iamVjdC5mcm9tQXJyYXkocHJpbWl0aXZlQXJyYXksIGxibCwgbGJsKTtcblxuICAgIGFycmF5LkRlZmluZU93blByb3BlcnR5KGNvbnN0YW50cy5pbmRleCxcbiAgICAgICAge1xuICAgICAgICAgICAgdmFsdWU6IHByaW1pdGl2ZUFycmF5LmluZGV4LFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgbGFiZWw6IGxibFxuICAgICAgICB9XG4gICAgKTtcblxuICAgIGFycmF5LkRlZmluZU93blByb3BlcnR5KGNvbnN0YW50cy5pbnB1dCxcbiAgICAgICAge1xuICAgICAgICAgICAgdmFsdWU6IHByaW1pdGl2ZUFycmF5LmlucHV0LFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgbGFiZWw6IGxibFxuICAgICAgICB9XG4gICAgKTtcblxuICAgIHJldHVybiBuZXcgVmFsdWUoYXJyYXksIGJvdCk7XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gcmVwbGFjZSwgMTUuNS40LjExXG5mdW5jdGlvbiByZXBsYWNlKHRoaXNBcmc6IFZhbHVlPFZhbHVlVHlwZXM+LCBhcmdzOiBWYWx1ZTxWYWx1ZVR5cGVzPltdKTogVmFsdWU8c3RyaW5nPiB7XG4gICAgbGV0IGFyZzAgPSBhcmdzWzBdIHx8IG5ldyBWYWx1ZSh1bmRlZmluZWQsIGJvdCk7XG4gICAgbGV0IGFyZzEgPSBhcmdzWzFdIHx8IG5ldyBWYWx1ZSh1bmRlZmluZWQsIGJvdCk7XG5cbiAgICBDaGVja09iamVjdENvZXJjaWJsZSh0aGlzQXJnKTtcbiAgICBsZXQgUyA9IFRvU3RyaW5nKHRoaXNBcmcpO1xuXG4gICAgbGV0IHNWOiBSZWdFeHAgfCBzdHJpbmcsIHJWOiAoKCkgPT4gc3RyaW5nKSB8IHN0cmluZztcblxuICAgIGxldCBsYWJlbCA9IGx1YihhcmcwLmxhYmVsLCBhcmcxLmxhYmVsKTtcblxuICAgIGlmIChJc1JlZ0V4cE9iamVjdChhcmcwKSkge1xuICAgICAgICBzViA9IGFyZzAudmFsdWUuUHJpbWl0aXZlVmFsdWU7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgbGV0IHNlYXJjaFZhbHVlID0gVG9TdHJpbmcoYXJnMCk7XG4gICAgICAgIGxhYmVsID0gbHViKGxhYmVsLCBzZWFyY2hWYWx1ZS5sYWJlbCk7XG4gICAgICAgIHNWID0gc2VhcmNoVmFsdWUudmFsdWU7XG4gICAgfVxuXG4gICAgbGV0IGZMID0gYm90O1xuXG4gICAgaWYgKElzQ2FsbGFibGUoYXJnMSkpIHtcbiAgICAgICAgclYgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBsZXQgX2FyZ3M6IFZhbHVlPFZhbHVlVHlwZXM+W10gPSBbXTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgX2FyZ3NbaV0gPSBuZXcgVmFsdWUoYXJndW1lbnRzW2ldLCBsYWJlbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfYXJncy5sZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICAgICAgbGV0IHJlcyA9IGFyZzEuQ2FsbChhcmcxLCBfYXJncyk7XG4gICAgICAgICAgICBsZXQgc3RyUmVzID0gVG9TdHJpbmcocmVzKVxuICAgICAgICAgICAgZkwgPSBsdWIoZkwsIHN0clJlcy5sYWJlbCk7XG4gICAgICAgICAgICByZXR1cm4gc3RyUmVzLnZhbHVlO1xuICAgICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGxldCByZXBsYWNlVmFsdWUgPSBUb1N0cmluZyhhcmcxKTtcbiAgICAgICAgclYgPSByZXBsYWNlVmFsdWUudmFsdWU7XG4gICAgfVxuXG4gICAgLy9AdHMtaWdub3JlIFRZUEVTXG4gICAgbGV0IHJlcyA9IFMudmFsdWUucmVwbGFjZShzViwgclYpO1xuXG4gICAgcmV0dXJuIG5ldyBWYWx1ZShyZXMsIGx1YihsYWJlbCwgZkwpKTtcbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBzZWFyY2gsIDE1LjUuNC4xMlxuZnVuY3Rpb24gc2VhcmNoKHRoaXNBcmc6IFZhbHVlPFZhbHVlVHlwZXM+LCBhcmdzOiBWYWx1ZTxWYWx1ZVR5cGVzPltdKTogVmFsdWU8bnVtYmVyPiB7XG4gICAgbGV0IHJlZ2V4cCA9IGFyZ3NbMF0gfHwgbmV3IFZhbHVlKHVuZGVmaW5lZCwgYm90KTtcblxuICAgIENoZWNrT2JqZWN0Q29lcmNpYmxlKHRoaXNBcmcpO1xuICAgIGxldCBzdHJpbmcgPSBUb1N0cmluZyh0aGlzQXJnKTtcblxuICAgIGxldCByeDogVmFsdWU8UmVnRXhwT2JqZWN0PjtcbiAgICBpZiAoSXNSZWdFeHBPYmplY3QocmVnZXhwKSkge1xuICAgICAgICByeCA9IHJlZ2V4cDtcbiAgICB9IGVsc2Uge1xuICAgICAgICByeCA9IG1vbml0b3IuaW5zdGFuY2VzLlJlZ0V4cENvbnN0cnVjdG9yLkNvbnN0cnVjdChbcmVnZXhwXSk7XG4gICAgfVxuXG4gICAgbGV0IGxibCA9IGx1YihzdHJpbmcubGFiZWwsIHJ4LnZhbHVlLlByaW1pdGl2ZUxhYmVsKTtcbiAgICBtb25pdG9yLmFzc2VydChcbiAgICAgICAgbGUocngubGFiZWwsIHJ4LnZhbHVlLlByaW1pdGl2ZUxhYmVsKSxcbiAgICAgICAgJ1N0cmluZy5wcm90b3R5cGUubWF0Y2g6IGxhYmVsIG9mIHJlZ3VsYXIgZXhwcmVzc2lvbiBvYmplY3Qgbm90IGJlbG93IHJlZ3VsYXIgZXhwcmVzc2lvbiBsYWJlbCdcbiAgICApO1xuXG4gICAgcngudmFsdWUuUHJpbWl0aXZlTGFiZWwgPSBsYmw7XG4gICAgbGV0IHJlc3VsdCA9IHN0cmluZy52YWx1ZS5zZWFyY2gocngudmFsdWUuUHJpbWl0aXZlVmFsdWUpO1xuXG4gICAgcmV0dXJuIG5ldyBWYWx1ZShyZXN1bHQsIGxibCk7XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gc2xpY2UsIDE1LjUuNC4xM1xuZnVuY3Rpb24gc2xpY2UodGhpc0FyZzogVmFsdWU8VmFsdWVUeXBlcz4sIGFyZ3M6IFZhbHVlPFZhbHVlVHlwZXM+W10pOiBWYWx1ZTxzdHJpbmc+IHtcbiAgICBsZXQgYyA9IG1vbml0b3IuY29udGV4dDtcblxuICAgIGxldCBzdGFydCA9IGFyZ3NbMF0gfHwgbmV3IFZhbHVlKHVuZGVmaW5lZCwgYm90KTtcbiAgICBsZXQgZW5kID0gYXJnc1sxXSB8fCBuZXcgVmFsdWUodW5kZWZpbmVkLCBib3QpO1xuXG4gICAgQ2hlY2tPYmplY3RDb2VyY2libGUodGhpc0FyZyk7XG4gICAgbGV0IFMgPSBUb1N0cmluZyh0aGlzQXJnKTtcbiAgICBsZXQgbGVuID0gUy52YWx1ZS5sZW5ndGg7XG5cbiAgICBsZXQgaW50U3RhcnQgPSBUb0ludGVnZXIoc3RhcnQpO1xuXG4gICAgYy5wdXNoUEMoZW5kLmxhYmVsKTtcbiAgICBsZXQgaW50RW5kIDogVmFsdWU8bnVtYmVyPjtcbiAgICBpZiAoZW5kLnZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaW50RW5kID0gbmV3IFZhbHVlKGxlbiwgbHViKFMubGFiZWwsIGVuZC5sYWJlbCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGludEVuZCA9IFRvSW50ZWdlcihlbmQpO1xuICAgIH1cbiAgICBjLnBvcFBDKCk7XG5cbiAgICBsZXQgc3RyID0gUy52YWx1ZS5zbGljZShpbnRTdGFydC52YWx1ZSwgaW50RW5kLnZhbHVlKTtcbiAgICBsZXQgbGJsID0gbHViKFMubGFiZWwsIGludFN0YXJ0LmxhYmVsLCBpbnRFbmQubGFiZWwpO1xuICAgIHJldHVybiBuZXcgVmFsdWUoc3RyLCBsYmwpO1xufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIHNwbGl0LCAxNS41LjQuMTRcbmZ1bmN0aW9uIHNwbGl0KHRoaXNBcmc6IFZhbHVlPFZhbHVlVHlwZXM+LCBhcmdzOiBWYWx1ZTxWYWx1ZVR5cGVzPltdKTogVmFsdWU8QXJyYXlPYmplY3Q+IHtcbiAgICBsZXQgYXJnMCA9IGFyZ3NbMF0gfHwgbmV3IFZhbHVlKHVuZGVmaW5lZCwgYm90KTtcbiAgICBsZXQgYXJnMSA9IGFyZ3NbMV0gfHwgbmV3IFZhbHVlKHVuZGVmaW5lZCwgYm90KTtcblxuICAgIENoZWNrT2JqZWN0Q29lcmNpYmxlKHRoaXNBcmcpO1xuICAgIGxldCBTID0gVG9TdHJpbmcodGhpc0FyZyk7XG5cbiAgICBsZXQgbGltaXQgOm51bWJlcjtcbiAgICBsZXQgbGJsID0gbHViKFMubGFiZWwsIGFyZzAubGFiZWwpO1xuICAgIGlmIChhcmcxLnZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbGJsID0gbHViKGxibCwgYXJnMS5sYWJlbCk7XG4gICAgICAgIGxpbWl0ID0gNDI5NDk2NzI5NTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgaW50TGltaXQgPSBUb0ludDMyKGFyZzEpO1xuICAgICAgICBsYmwgPSBsdWIobGJsLCBpbnRMaW1pdC5sYWJlbCk7XG4gICAgICAgIGxpbWl0ID0gaW50TGltaXQudmFsdWU7XG4gICAgfVxuXG4gICAgbGV0IHNlcGFyYXRvciA6IFJlZ0V4cCB8IHN0cmluZztcbiAgICBpZiAoYXJnMC52YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHNlcGFyYXRvciA9IHVuZGVmaW5lZDtcbiAgICB9IGVsc2UgaWYgKElzUmVnRXhwT2JqZWN0KGFyZzApKSB7XG4gICAgICAgIHNlcGFyYXRvciA9IGFyZzAudmFsdWUuUHJpbWl0aXZlVmFsdWU7XG5cbiAgICAgICAgbW9uaXRvci5hc3NlcnQoXG4gICAgICAgICAgICBsZShhcmcwLmxhYmVsLCBhcmcwLnZhbHVlLlByaW1pdGl2ZUxhYmVsKSxcbiAgICAgICAgICAgICdTdHJpbmcucHJvdG90eXBlLnNwbGl0OiBsYWJlbCBvZiByZWd1bGFyIGV4cHJlc3Npb24gb2JqZWN0IG5vdCBiZWxvdyBsYWJlbCBvZiByZWd1bGFyIGV4cHJlc3Npb24nXG4gICAgICAgICk7XG5cbiAgICAgICAgYXJnMC52YWx1ZS5QcmltaXRpdmVMYWJlbCA9IGxibDtcbiAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgc3RyaW5nU2VwYXJhdG9yID0gVG9TdHJpbmcoYXJnMCk7XG4gICAgICAgIHNlcGFyYXRvciA9IHN0cmluZ1NlcGFyYXRvci52YWx1ZTtcbiAgICAgICAgbGJsID0gbHViKGxibCwgc3RyaW5nU2VwYXJhdG9yLmxhYmVsKTtcbiAgICB9XG5cbiAgICBsZXQgcHJpbWl0aXZlQXJyYXkgPSBTLnZhbHVlLnNwbGl0KHNlcGFyYXRvciwgbGltaXQpO1xuICAgIGxldCBhcnJheSA9IEFycmF5T2JqZWN0LmZyb21BcnJheShwcmltaXRpdmVBcnJheSwgbGJsLCBsYmwpO1xuICAgIHJldHVybiBuZXcgVmFsdWUoYXJyYXksIGJvdCk7XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gc3Vic3RyaW5nLCAxNS41LjQuMTVcbmZ1bmN0aW9uIHN1YnN0cmluZyh0aGlzQXJnOiBWYWx1ZTxWYWx1ZVR5cGVzPiwgYXJnczogVmFsdWU8VmFsdWVUeXBlcz5bXSk6IFZhbHVlPHN0cmluZz4ge1xuICAgIGxldCBhcmcwID0gYXJnc1swXSB8fCBuZXcgVmFsdWUodW5kZWZpbmVkLCBib3QpO1xuICAgIGxldCBhcmcxID0gYXJnc1sxXSB8fCBuZXcgVmFsdWUodW5kZWZpbmVkLCBib3QpO1xuXG4gICAgQ2hlY2tPYmplY3RDb2VyY2libGUodGhpc0FyZyk7XG4gICAgbGV0IFMgPSBUb1N0cmluZyh0aGlzQXJnKTtcbiAgICBsZXQgc3RhcnQgPSBUb0ludGVnZXIoYXJnMCk7XG5cbiAgICBsZXQgbGVuID0gUy52YWx1ZS5sZW5ndGg7XG4gICAgbGV0IGVuZCA6IFZhbHVlPG51bWJlcj47XG5cbiAgICBpZiAoYXJnMS52YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGVuZCA9IG5ldyBWYWx1ZShsZW4sIGFyZzEubGFiZWwpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGVuZCA9IFRvSW50ZWdlcihhcmcxKTtcbiAgICB9XG5cbiAgICBsZXQgbGJsID0gbHViKFMubGFiZWwsIHN0YXJ0LmxhYmVsLCBlbmQubGFiZWwpO1xuICAgIGxldCBzdHIgPSBTLnZhbHVlLnN1YnN0cmluZyhzdGFydC52YWx1ZSwgZW5kLnZhbHVlKTtcbiAgICByZXR1cm4gbmV3IFZhbHVlKHN0ciwgbGJsKTtcbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5mdW5jdGlvbiBzdWJzdHIodGhpc0FyZzogVmFsdWU8VmFsdWVUeXBlcz4sIGFyZ3M6IFZhbHVlPFZhbHVlVHlwZXM+W10pOiBWYWx1ZTxzdHJpbmc+IHtcbiAgICBsZXQgYXJnMCA9IGFyZ3NbMF0gfHwgbmV3IFZhbHVlKHVuZGVmaW5lZCwgYm90KTtcbiAgICBsZXQgYXJnMSA9IGFyZ3NbMV0gfHwgbmV3IFZhbHVlKHVuZGVmaW5lZCwgYm90KTtcblxuICAgIENoZWNrT2JqZWN0Q29lcmNpYmxlKHRoaXNBcmcpO1xuICAgIGxldCBTID0gVG9TdHJpbmcodGhpc0FyZyk7XG4gICAgbGV0IHN0YXJ0ID0gVG9JbnRlZ2VyKGFyZzApO1xuXG4gICAgbGV0IGxlbiA9IFMudmFsdWUubGVuZ3RoO1xuICAgIGxldCBlbmQgOiBWYWx1ZTxudW1iZXI+O1xuXG4gICAgaWYgKGFyZzEudmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBlbmQgPSBuZXcgVmFsdWUobGVuLCBhcmcxLmxhYmVsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBlbmQgPSBUb0ludGVnZXIoYXJnMSk7XG4gICAgfVxuXG4gICAgbGV0IGxibCA9IGx1YihTLmxhYmVsLCBzdGFydC5sYWJlbCwgZW5kLmxhYmVsKTtcbiAgICBsZXQgc3RyID0gUy52YWx1ZS5zdWJzdHIoc3RhcnQudmFsdWUsIGVuZC52YWx1ZSk7XG5cbiAgICByZXR1cm4gbmV3IFZhbHVlKHN0ciwgbGJsKTtcbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyB0b0xvd2VyQ2FzZSwgMTUuNS40LjE2XG5mdW5jdGlvbiB0b0xvd2VyQ2FzZSh0aGlzQXJnOiBWYWx1ZTxWYWx1ZVR5cGVzPiwgYXJnczogVmFsdWU8VmFsdWVUeXBlcz5bXSk6IFZhbHVlPHN0cmluZz4ge1xuICAgIENoZWNrT2JqZWN0Q29lcmNpYmxlKHRoaXNBcmcpO1xuICAgIGxldCBTID0gVG9TdHJpbmcodGhpc0FyZyk7XG4gICAgbGV0IEwgPSBTLnZhbHVlLnRvTG93ZXJDYXNlKCk7XG4gICAgcmV0dXJuIG5ldyBWYWx1ZShMLCBTLmxhYmVsKTtcbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyB0b0xvY2FsZUxvd2VyQ2FzZSwgMTUuNS40LjE3XG5mdW5jdGlvbiB0b0xvY2FsZUxvd2VyQ2FzZSh0aGlzQXJnOiBWYWx1ZTxWYWx1ZVR5cGVzPiwgYXJnczogVmFsdWU8VmFsdWVUeXBlcz5bXSk6IFZhbHVlPHN0cmluZz4ge1xuICAgIENoZWNrT2JqZWN0Q29lcmNpYmxlKHRoaXNBcmcpO1xuICAgIGxldCBTID0gVG9TdHJpbmcodGhpc0FyZyk7XG4gICAgbGV0IEwgPSBTLnZhbHVlLnRvTG9jYWxlTG93ZXJDYXNlKCk7XG4gICAgcmV0dXJuIG5ldyBWYWx1ZShMLCBTLmxhYmVsKTtcbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyB0b1VwcGVyQ2FzZSwgMTUuNS40LjE4XG5mdW5jdGlvbiB0b1VwcGVyQ2FzZSh0aGlzQXJnOiBWYWx1ZTxWYWx1ZVR5cGVzPiwgYXJnczogVmFsdWU8VmFsdWVUeXBlcz5bXSk6IFZhbHVlPHN0cmluZz4ge1xuICAgIENoZWNrT2JqZWN0Q29lcmNpYmxlKHRoaXNBcmcpO1xuICAgIGxldCBTID0gVG9TdHJpbmcodGhpc0FyZyk7XG4gICAgbGV0IEwgPSBTLnZhbHVlLnRvVXBwZXJDYXNlKCk7XG4gICAgcmV0dXJuIG5ldyBWYWx1ZShMLCBTLmxhYmVsKTtcbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyB0b0xvY2FsZVVwcGVyQ2FzZSwgMTUuNS40LjE5XG5mdW5jdGlvbiB0b0xvY2FsZVVwcGVyQ2FzZSh0aGlzQXJnOiBWYWx1ZTxWYWx1ZVR5cGVzPiwgYXJnczogVmFsdWU8VmFsdWVUeXBlcz5bXSk6IFZhbHVlPHN0cmluZz4ge1xuICAgIENoZWNrT2JqZWN0Q29lcmNpYmxlKHRoaXNBcmcpO1xuICAgIGxldCBTID0gVG9TdHJpbmcodGhpc0FyZyk7XG4gICAgbGV0IEwgPSBTLnZhbHVlLnRvTG9jYWxlVXBwZXJDYXNlKCk7XG4gICAgcmV0dXJuIG5ldyBWYWx1ZShMLCBTLmxhYmVsKTtcbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyB0cmltLCAxNS41LjQuMjBcbmZ1bmN0aW9uIHRyaW0odGhpc0FyZzogVmFsdWU8VmFsdWVUeXBlcz4sIGFyZ3M6IFZhbHVlPFZhbHVlVHlwZXM+W10pOiBWYWx1ZTxzdHJpbmc+IHtcbiAgICBDaGVja09iamVjdENvZXJjaWJsZSh0aGlzQXJnKTtcbiAgICBsZXQgUyA9IFRvU3RyaW5nKHRoaXNBcmcpO1xuICAgIGxldCBUID0gUy52YWx1ZS50cmltKCk7XG4gICAgcmV0dXJuIG5ldyBWYWx1ZShULCBTLmxhYmVsKTtcbn0iLCJpbXBvcnQgeyBFcnJvclByb3RvdHlwZSB9IGZyb20gXCIuL0Vycm9yUHJvdG90eXBlXCI7XG5pbXBvcnQgeyBNb25pdG9yQmFzZSB9IGZyb20gXCIuLi9Nb25pdG9yQmFzZVwiO1xuXG5kZWNsYXJlIHZhciBtb25pdG9yOiBNb25pdG9yQmFzZTtcblxuZXhwb3J0IGNsYXNzIFN5bnRheEVycm9yUHJvdG90eXBlIGV4dGVuZHMgRXJyb3JQcm90b3R5cGUge1xuXG4gICAgY29uc3RydWN0b3IoaG9zdCA6IFN5bnRheEVycm9yKSB7XG4gICAgICAgIHN1cGVyKGhvc3QpO1xuICAgIH1cblxuICAgIFNldHVwKCk6IHZvaWQge1xuICAgICAgICB0aGlzLlNldHVwQmFzZShtb25pdG9yLmluc3RhbmNlcy5FcnJvckNvbnN0cnVjdG9yLCAnU3ludGF4RXJyb3InKTtcbiAgICB9XG4gICAgXG59IiwiaW1wb3J0IHsgRXJyb3JQcm90b3R5cGUgfSBmcm9tIFwiLi9FcnJvclByb3RvdHlwZVwiO1xuaW1wb3J0IHsgTW9uaXRvckJhc2UgfSBmcm9tIFwiLi4vTW9uaXRvckJhc2VcIjtcblxuZGVjbGFyZSB2YXIgbW9uaXRvcjogTW9uaXRvckJhc2U7XG5cbmV4cG9ydCBjbGFzcyBUeXBlRXJyb3JQcm90b3R5cGUgZXh0ZW5kcyBFcnJvclByb3RvdHlwZSB7XG5cbiAgICBjb25zdHJ1Y3Rvcihob3N0IDogVHlwZUVycm9yKSB7XG4gICAgICAgIHN1cGVyKGhvc3QpO1xuICAgIH1cblxuICAgIFNldHVwKCk6IHZvaWQge1xuICAgICAgICB0aGlzLlNldHVwQmFzZShtb25pdG9yLmluc3RhbmNlcy5FcnJvckNvbnN0cnVjdG9yLCAnVHlwZUVycm9yJyk7XG4gICAgfVxuICAgIFxufSIsImltcG9ydCB7IEVycm9yUHJvdG90eXBlIH0gZnJvbSBcIi4vRXJyb3JQcm90b3R5cGVcIjtcbmltcG9ydCB7IE1vbml0b3JCYXNlIH0gZnJvbSBcIi4uL01vbml0b3JCYXNlXCI7XG5cbmRlY2xhcmUgdmFyIG1vbml0b3I6IE1vbml0b3JCYXNlO1xuXG5leHBvcnQgY2xhc3MgVVJJRXJyb3JQcm90b3R5cGUgZXh0ZW5kcyBFcnJvclByb3RvdHlwZSB7XG5cbiAgICBjb25zdHJ1Y3Rvcihob3N0IDogVVJJRXJyb3IpIHtcbiAgICAgICAgc3VwZXIoaG9zdCk7XG4gICAgfVxuXG4gICAgU2V0dXAoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuU2V0dXBCYXNlKG1vbml0b3IuaW5zdGFuY2VzLkVycm9yQ29uc3RydWN0b3IsICdVUklFcnJvcicpO1xuICAgIH1cbiAgICBcbn0iLCJpbXBvcnQgeyBSZWZlcmVuY2UgfSBmcm9tIFwiLi9SZWZlcmVuY2VcIjtcbmltcG9ydCB7IFRvT2JqZWN0IH0gZnJvbSAnLi9Db252ZXJzaW9uL1RvT2JqZWN0JztcbmltcG9ydCB7IGx1YiB9IGZyb20gJy4vTGFiZWwnO1xuaW1wb3J0IHsgSXNEYXRhRGVzY3JpcHRvciwgSXNBY2Nlc3NvckRlc2NyaXB0b3IgfSBmcm9tICcuL1Byb3BlcnR5RGVzY3JpcHRvcic7XG5pbXBvcnQgeyBNb25pdG9yQmFzZSB9IGZyb20gXCIuL01vbml0b3JCYXNlXCI7XG5pbXBvcnQgeyBWYWx1ZSB9IGZyb20gXCIuL1ZhbHVlXCI7XG5pbXBvcnQgeyBWYWx1ZVR5cGVzIH0gZnJvbSBcIi4vSW50ZXJmYWNlc1wiO1xuXG5kZWNsYXJlIHZhciBtb25pdG9yOiBNb25pdG9yQmFzZTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBQdXRWYWx1ZVxuXG5leHBvcnQgZnVuY3Rpb24gUHV0VmFsdWUociA6IFJlZmVyZW5jZSwgdiA6IFZhbHVlPFZhbHVlVHlwZXM+KSA6IHZvaWQge1xuICBcbiAgICBpZiAoIShyIGluc3RhbmNlb2YgUmVmZXJlbmNlKSkge1xuICAgICAgbW9uaXRvci5UaHJvdyhcbiAgICAgICAgXCJSZWZlcmVuY2VFcnJvclwiLFxuICAgICAgICAnUHV0VmFsdWU6IHRhcmdldCBpcyBub3QgYSByZWZlcmVuY2UnLFxuICAgICAgICAvL0B0cy1pZ25vcmUgVFlQRVNcbiAgICAgICAgci5sYWJlbFxuICAgICAgKTtcblxuICAgICAgdGhyb3cgXCJUUyBkb2Vzbid0IGtub3cgbW9uaXRvci5UaHJvdyB0aHJvd3NcIjtcbiAgICB9XG4gIFxuICAgIGxldCBwID0gci5iYXNlO1xuICAgIGxldCBzID0gci5wcm9wZXJ0eU5hbWU7XG4gIFxuICAgIGlmIChyLklzVW5yZXNvbHZhYmxlUmVmZXJlbmNlKCkpIHtcbiAgICAgIHAudmFsdWUgPSBtb25pdG9yLkdsb2JhbE9iamVjdDtcbiAgICAgIHAuUHV0KHMsIHYpO1xuICAgIH0gZWxzZSBpZiAoci5Jc1Byb3BlcnR5UmVmZXJlbmNlKCkpIHtcbiAgICAgIGlmIChyLkhhc1ByaW1pdGl2ZUJhc2UoKSkge1xuICAgICAgICBsZXQgbyA9IFRvT2JqZWN0KHApO1xuICAgICAgICBpZiAoIW8uQ2FuUHV0KHMpLnZhbHVlKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gIFxuICAgICAgICBsZXQgb3duRGVzYyA9IG8uR2V0T3duUHJvcGVydHkocyk7XG4gICAgICAgIGlmIChvd25EZXNjLnZhbHVlICYmIElzRGF0YURlc2NyaXB0b3Iob3duRGVzYy52YWx1ZSkpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgXG4gICAgICAgIC8vIFRPRE86IHRoaXMgbXVzdCBiZSB3cm9uZzsgcGFydCBvZiBvbGQgaGFuZGxpbmcgb2YgZ2V0dGVyL3NldHRlcnM/XG4gICAgICAgIGxldCBkZXNjID0gby5HZXRQcm9wZXJ0eShzKTtcbiAgICAgICAgaWYgKGRlc2MudmFsdWUgJiYgSXNBY2Nlc3NvckRlc2NyaXB0b3IoZGVzYy52YWx1ZSkpIHtcbiAgICAgICAgICBtb25pdG9yLmNvbnRleHQucHVzaFBDKGx1Yihvd25EZXNjLmxhYmVsLCBkZXNjLmxhYmVsKSk7IC8vIGNvbnRhaW5zIG8ubGFiZWxcbiAgICAgICAgICAvL0B0cy1pZ25vcmUgVFlQRVNcbiAgICAgICAgICBkZXNjLnZhbHVlLlNldC5DYWxsKHAsIFt2XSk7XG4gICAgICAgICAgbW9uaXRvci5jb250ZXh0LnBvcFBDKCk7XG4gICAgICAgIH1cbiAgXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwLlB1dChzLCB2KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcC5TZXRNdXRhYmxlQmluZGluZyhzLCB2KTtcbiAgICB9XG4gIH0iLCJpbXBvcnQgeyBWYWx1ZSB9IGZyb20gXCIuL1ZhbHVlXCI7XG5pbXBvcnQgeyBFY21hT2JqZWN0IH0gZnJvbSAnLi9PYmplY3RzL0VjbWFPYmplY3QnO1xuaW1wb3J0IHsgRGVjbGFyYXRpdmVFbnZpcm9ubWVudFJlY29yZCB9IGZyb20gXCIuL0RlY2xhcmF0aXZlRW52aXJvbm1lbnRSZWNvcmRcIjtcbmltcG9ydCB7IE9iamVjdEVudmlyb25tZW50UmVjb3JkIH0gZnJvbSBcIi4vT2JqZWN0RW52aXJvbm1lbnRSZWNvcmRcIjtcblxuZXhwb3J0IHR5cGUgUmVmZXJlbmNlVHlwZSA9IHVuZGVmaW5lZCB8IGJvb2xlYW4gfCBzdHJpbmcgfCBudW1iZXIgfCBFY21hT2JqZWN0IHwgRGVjbGFyYXRpdmVFbnZpcm9ubWVudFJlY29yZCB8IE9iamVjdEVudmlyb25tZW50UmVjb3JkO1xuXG5leHBvcnQgY2xhc3MgUmVmZXJlbmNlIHtcblxuICAgIGJhc2U6IFZhbHVlPFJlZmVyZW5jZVR5cGU+O1xuICAgIHByb3BlcnR5TmFtZTogVmFsdWU8c3RyaW5nPjtcblxuICAgIGNvbnN0cnVjdG9yKGJhc2UgOiBWYWx1ZTxSZWZlcmVuY2VUeXBlPiwgcHJvcGVydHlOYW1lIDogVmFsdWU8c3RyaW5nPikge1xuICAgICAgICB0aGlzLmJhc2UgPSBiYXNlO1xuICAgICAgICB0aGlzLnByb3BlcnR5TmFtZSA9IHByb3BlcnR5TmFtZTtcbiAgICB9XG5cbiAgICBHZXRCYXNlKCk6IFZhbHVlPFJlZmVyZW5jZVR5cGU+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYmFzZTtcbiAgICB9XG5cbiAgICBHZXRSZWZlcmVuY2VkTmFtZSgpOiBWYWx1ZTxzdHJpbmc+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvcGVydHlOYW1lO1xuICAgIH1cblxuICAgIEhhc1ByaW1pdGl2ZUJhc2UoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICB0eXBlb2YgdGhpcy5iYXNlLnZhbHVlID09PSAnYm9vbGVhbicgfHxcbiAgICAgICAgICAgIHR5cGVvZiB0aGlzLmJhc2UudmFsdWUgPT09ICdzdHJpbmcnIHx8XG4gICAgICAgICAgICB0eXBlb2YgdGhpcy5iYXNlLnZhbHVlID09PSAnbnVtYmVyJ1xuICAgICAgICApO1xuICAgIH1cblxuICAgIElzUHJvcGVydHlSZWZlcmVuY2UoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICB0eXBlb2YgdGhpcy5iYXNlLnZhbHVlID09PSAnYm9vbGVhbicgfHxcbiAgICAgICAgICAgIHR5cGVvZiB0aGlzLmJhc2UudmFsdWUgPT09ICdzdHJpbmcnIHx8XG4gICAgICAgICAgICB0eXBlb2YgdGhpcy5iYXNlLnZhbHVlID09PSAnbnVtYmVyJyB8fFxuICAgICAgICAgICAgdGhpcy5iYXNlLnZhbHVlICE9PSB1bmRlZmluZWQgJiYgXCJDbGFzc1wiIGluIHRoaXMuYmFzZS52YWx1ZVxuICAgICAgICApO1xuICAgIH1cblxuICAgIElzVW5yZXNvbHZhYmxlUmVmZXJlbmNlKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gKHRoaXMuYmFzZS52YWx1ZSA9PT0gdW5kZWZpbmVkKTtcbiAgICB9XG5cbiAgICB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gKCdAKCcgKyB0aGlzLmJhc2UgKyAnLCcgKyB0aGlzLnByb3BlcnR5TmFtZSArICcpJyk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgVmFsdWUgfSBmcm9tIFwiLi9WYWx1ZVwiO1xuaW1wb3J0IHsgVmFsdWVUeXBlcyB9IGZyb20gXCIuL0ludGVyZmFjZXNcIjtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBUaGUgQ29tcGxldGlvbiBTcGVjaWZpY2F0aW9uIFR5cGUsIDguOVxuXG5leHBvcnQgdHlwZSBSZXN1bHRUeXBlID0gJ25vcm1hbCcgfCAnYnJlYWsnIHwgJ2NvbnRpbnVlJyB8ICdyZXR1cm4nIHwgJ3Rocm93J1xuXG5leHBvcnQgY2xhc3MgUmVzdWx0IHtcbiAgdHlwZTogUmVzdWx0VHlwZSA9ICdub3JtYWwnO1xuICB2YWx1ZTogVmFsdWU8VmFsdWVUeXBlcz4gfCBudWxsO1xuICB0YXJnZXQ6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuXG4gIGNvbnN0cnVjdG9yKHZhbHVlPzogVmFsdWU8VmFsdWVUeXBlcz4pIHtcbiAgICB0aGlzLnZhbHVlID0gdmFsdWUgfHwgbnVsbDtcbiAgfVxufVxuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpc1xuICogZmlsZSwgWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuXG5leHBvcnQgdHlwZSBTdGFja01hcmtlciA9IHsgbGVuZ3RoIDogbnVtYmVyIH07XG5cbiBleHBvcnQgY2xhc3MgU3RhY2s8VD4ge1xuXG4gIGNvbnRlbnQgOiBUW107XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5jb250ZW50ID0gW107XG4gIH1cblxuICBwdXNoKHYgOiBUKSA6IHZvaWQge1xuXG4gICAgdGhpcy5jb250ZW50LnB1c2godik7XG4gIH1cblxuICBwb3AoKSA6IFQge1xuICAgIGlmICh0aGlzLmNvbnRlbnQubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0VtcHR5IFN0YWNrJyk7XG4gICAgfVxuXG4gICAgLy9AdHMtaWdub3JlXG4gICAgcmV0dXJuIHRoaXMuY29udGVudC5wb3AoKTtcbiAgfVxuXG4gIHBlZWsoKSB7XG4gICAgaWYgKHRoaXMuY29udGVudC5sZW5ndGggPT09IDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignRW1wdHkgU3RhY2snKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuY29udGVudFt0aGlzLmNvbnRlbnQubGVuZ3RoIC0gMV07XG4gIH1cblxuICBkdXAoKSB7XG4gICAgdGhpcy5wdXNoKHRoaXMucGVlaygpKTtcbiAgfVxuXG4gIG1hcmtlcigpIDogU3RhY2tNYXJrZXIge1xuICAgIHJldHVybiB7IGxlbmd0aDogdGhpcy5jb250ZW50Lmxlbmd0aCB9O1xuICB9XG5cbiAgcmVzZXQobSA6IFN0YWNrTWFya2VyKSA6IHZvaWQge1xuICAgIHRoaXMuY29udGVudC5sZW5ndGggPSBtLmxlbmd0aDtcbiAgfVxuXG4gIGl0ZXIoZjogKHg6IFQpID0+IHZvaWQgKTogdm9pZCB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHRoaXMuY29udGVudC5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgZih0aGlzLmNvbnRlbnRbaV0pO1xuICAgIH1cbiAgfVxuXG4gIG1hcChmOiAoeCA6IFQpID0+IFQsIG0gOiBTdGFja01hcmtlcikgOiB2b2lkIHtcbiAgICBmb3IgKHZhciBpID0gbS5sZW5ndGgsIGxlbiA9IHRoaXMuY29udGVudC5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgdGhpcy5jb250ZW50W2ldID0gZih0aGlzLmNvbnRlbnRbaV0pO1xuICAgIH1cbiAgfVxuXG4gIHNpemUoKSA6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuY29udGVudC5sZW5ndGg7XG4gIH1cblxuICBlbXB0eSgpIDogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuY29udGVudC5sZW5ndGggPT09IDA7XG4gIH1cblxuICB0b0FycmF5KCkgOiBUW10ge1xuICAgIHJldHVybiB0aGlzLmNvbnRlbnQuc2xpY2UoMCk7XG4gIH1cbn1cbiIsImltcG9ydCAqIGFzIGVzY29kZWdlbiBmcm9tICdlc2NvZGVnZW4nO1xuaW1wb3J0IHsgQ29udGV4dCB9IGZyb20gJy4vQ29udGV4dCc7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBcblxuZXhwb3J0IGNsYXNzIFN0YWNrVHJhY2Uge1xuXG4gICAgLy8gVE9ETzogZml4XG4gICAgdHJhY2UgOiBhbnlbXTtcblxuICAgIGNvbnN0cnVjdG9yKHN0YWNrIDogQ29udGV4dFtdKSB7XG4gICAgICAgIHRoaXMudHJhY2UgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHN0YWNrLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgY29udGV4dCA9IHN0YWNrW2ldO1xuXG4gICAgICAgICAgICBsZXQgc3RtdCA9IGNvbnRleHQuY29kZVN0YWNrLnNpemUoKSA+IDAgPyBjb250ZXh0LmNvZGVTdGFjay5wZWVrKCkgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICBpZiAoc3RtdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgbG9jID0gc3RtdC5sb2M7XG4gICAgICAgICAgICBsZXQgc291cmNlID0gbG9jLnNvdXJjZTtcbiAgICAgICAgICAgIHRoaXMudHJhY2UucHVzaCh7IG93bmVyOiBjb250ZXh0Lm93bmVyLCBzb3VyY2U6IHNvdXJjZSwgbG9jOiBsb2Muc3RhcnQsIHN0bXQ6IHN0bXQgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB0b1N0cmluZygpIHtcblxuICAgICAgICBpZiAodGhpcy50cmFjZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCByZXN1bHQgOiBzdHJpbmc7XG5cbiAgICAgICAgbGV0IGxlbiA9IHRoaXMudHJhY2UubGVuZ3RoO1xuICAgICAgICAvLyBsYXN0IGVudHJ5IGNvbnRhaW5zIG9mZmVuZGluZyBjb21tYW5kXG4gICAgICAgIGxldCBsYXN0ID0gdGhpcy50cmFjZVtsZW4gLSAxXTtcblxuICAgICAgICByZXN1bHQgPSBsYXN0LnNvdXJjZSArICc6JyArIGxhc3QubG9jLmxpbmUgKyAnOicgKyBsYXN0LmxvYy5jb2x1bW4gKyAnXFxuJztcbiAgICAgICAgcmVzdWx0ID0gcmVzdWx0ICsgJyAgICAnICsgZXNjb2RlZ2VuLmdlbmVyYXRlKGxhc3Quc3RtdCkgKyAnXFxuXFxuJztcblxuICAgICAgICBmb3IgKGxldCBpID0gbGVuIC0gMjsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIGxldCB0ciA9IHRoaXMudHJhY2VbaV07XG4gICAgICAgICAgICBpZiAodHIub3duZXIpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSByZXN1bHQgKyAnYXQgJyArIHRyLm93bmVyICsgJyAnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzdWx0ID0gcmVzdWx0ICsgJygnICsgdHIuc291cmNlICsgJzonICsgdHIubG9jLmxpbmUgKyAnOicgKyB0ci5sb2MuY29sdW1uICsgJylcXG4nO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgRnVuY3Rpb25PYmplY3QgfSBmcm9tIFwiLi9PYmplY3RzL0Z1bmN0aW9uT2JqZWN0XCI7XG5pbXBvcnQgeyBWYWx1ZSB9IGZyb20gXCIuL1ZhbHVlXCI7XG5pbXBvcnQgeyBib3QgfSBmcm9tIFwiLi9MYWJlbFwiO1xuaW1wb3J0IHsgRGVmaW5lRkZGIH0gZnJvbSBcIi4vRGVmaW5lXCI7XG5pbXBvcnQgKiBhcyBlc3ByaW1hIGZyb20gJ2VzcHJpbWEnO1xuaW1wb3J0ICogYXMgY29uc3RhbnRzIGZyb20gJy4vQ29uc3RhbnRzJztcblxuaW1wb3J0IHsgTW9uaXRvckJhc2UgfSBmcm9tIFwiLi9Nb25pdG9yQmFzZVwiO1xuXG5kZWNsYXJlIHZhciBtb25pdG9yOiBNb25pdG9yQmFzZTtcblxuXG4gIC8vIDEzLjIuM1xuICBleHBvcnQgY2xhc3MgVGhyb3dUeXBlRXJyb3IgZXh0ZW5kcyBGdW5jdGlvbk9iamVjdCB7XG5cbiAgICBzdGF0aWMgaW5zdGFuY2UgOiBUaHJvd1R5cGVFcnJvcjtcbiAgICBzdGF0aWMgZ2V0IEluc3RhbmNlKCk6IFRocm93VHlwZUVycm9yIHtcbiAgICAgICAgaWYgKFRocm93VHlwZUVycm9yLmluc3RhbmNlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIFRocm93VHlwZUVycm9yLmluc3RhbmNlID0gbmV3IFRocm93VHlwZUVycm9yKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFRocm93VHlwZUVycm9yLmluc3RhbmNlO1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgc3VwZXIoXG4gICAgICAgIFtdLFxuICAgICAgICAvL0B0cy1pZ25vcmVcbiAgICAgICAgZXNwcmltYS5wYXJzZShcIihmdW5jdGlvbigpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigpOyB9KVwiKS5ib2R5WzBdLmV4cHJlc3Npb24sXG4gICAgICAgIG5ldyBWYWx1ZShtb25pdG9yLkdsb2JhbEVudmlyb25tZW50LCBib3QpXG4gICAgICApO1xuICBcbiAgICAgIERlZmluZUZGRih0aGlzLCBjb25zdGFudHMubGVuZ3RoLCAwKTtcbiAgICAgIHRoaXMuRXh0ZW5zaWJsZSA9IGZhbHNlO1xuICAgIH1cbiAgfSIsImltcG9ydCB7IE1vbml0b3JCYXNlIH0gZnJvbSBcIi4uLy4uL01vbml0b3JCYXNlXCI7XG5pbXBvcnQgeyBDcmF3bGVyTW9uaXRvciB9IGZyb20gXCIuL0NyYXdsZXJNb25pdG9yXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBJc0NyYXdsZXIobW9uaXRvciA6IE1vbml0b3JCYXNlKSA6IG1vbml0b3IgaXMgQ3Jhd2xlck1vbml0b3Ige1xuICAgIC8vQHRzLWlnbm9yZSBtb25pdG9yLmNyYXdsZXIgaXMgYSBib29sZWFuIG9wdGlvblxuICAgIHJldHVybiBtb25pdG9yLm9wdGlvbnMuZ2V0KFwibW9uaXRvci5jcmF3bGVyXCIpO1xufSIsImltcG9ydCB7IEpTRmxvd01vbml0b3IgfSBmcm9tICcuL0pTRmxvd01vbml0b3InO1xuaW1wb3J0ICogYXMgc21zIGZyb20gJ3NvdXJjZS1tYXAtc3VwcG9ydCc7XG5cblxubGV0IHNtcyA9IHJlcXVpcmUoJ3NvdXJjZS1tYXAtc3VwcG9ydCcpO1xuc21zLmluc3RhbGwoKTtcbi8vQHRzLWlnbm9yZSBUWVBFU1xuanNmbG93Lm1vbml0b3IgPSBuZXcgSlNGbG93TW9uaXRvcih3aW5kb3cpO1xuLy9AdHMtaWdub3JlIFRZUEVTXG5qc2Zsb3cudmVyc2lvbiA9IFwiMS4yXCI7XG4iLCJpbXBvcnQgeyBNb25pdG9yQmFzZSB9IGZyb20gXCIuLi8uLi9Nb25pdG9yQmFzZVwiO1xuaW1wb3J0IHsgR2xvYmFsT2JqZWN0IH0gZnJvbSBcIi4uLy4uL09iamVjdHMvR2xvYmFsT2JqZWN0XCI7XG5pbXBvcnQgeyBJbnN0YW5jZXMgfSBmcm9tIFwiLi4vLi4vSW5zdGFuY2VzXCI7XG5pbXBvcnQgeyBWYWx1ZSB9IGZyb20gXCIuLi8uLi9WYWx1ZVwiO1xuaW1wb3J0IHsgYm90LCBMYWJlbCB9IGZyb20gXCIuLi8uLi9MYWJlbFwiO1xuaW1wb3J0IHsgTmV3T2JqZWN0RW52aXJvbm1lbnQgfSBmcm9tIFwiLi4vLi4vT2JqZWN0RW52aXJvbm1lbnRSZWNvcmRcIjtcbmltcG9ydCB7IExleGljYWxFbnZpcm9ubWVudCB9IGZyb20gXCIuLi8uLi9MZXhpY2FsRW52aXJvbm1lbnRcIjtcbmltcG9ydCB7IENvbW1vbkpTTW9kdWxlIH0gZnJvbSBcIi4uLy4uL01vZHVsZS9Db21tb25KUy9Nb2R1bGVcIjtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZXhwb3J0IGNsYXNzIEpTRmxvd01vbml0b3IgZXh0ZW5kcyBNb25pdG9yQmFzZSB7XG5cbiAgICBpbnN0YW5jZXM6IEluc3RhbmNlcztcbiAgICBHbG9iYWxPYmplY3Q6IEdsb2JhbE9iamVjdDtcbiAgICBHbG9iYWxFbnZpcm9ubWVudDogTGV4aWNhbEVudmlyb25tZW50O1xuXG4gICAgbW9kdWxlIDogQ29tbW9uSlNNb2R1bGU7XG5cbiAgICBsYWJlbEJvdDogTGFiZWw7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgZ2xvYmFsOiBhbnksXG4gICAgICAgIHByaW50OiAoLi4ucmVzdDogYW55W10pID0+IHZvaWQsXG4gICAgICAgIGxvZzogKC4uLnJlc3Q6IGFueVtdKSA9PiB2b2lkLFxuICAgICAgICBpbmZvOiAoLi4ucmVzdDogYW55W10pID0+IHZvaWQsXG4gICAgICAgIHdhcm46ICguLi5yZXN0OiBhbnlbXSkgPT4gdm9pZCxcbiAgICAgICAgZXJyb3I6ICguLi5yZXN0OiBhbnlbXSkgPT4gdm9pZFxuICAgICkge1xuICAgICAgICBzdXBlcihnbG9iYWwsIHByaW50LCBsb2csIGluZm8sIHdhcm4sIGVycm9yKTtcblxuICAgICAgICB0aGlzLmluc3RhbmNlcyA9IG5ldyBJbnN0YW5jZXMoZ2xvYmFsKTtcbiAgICAgICAgdGhpcy5pbnN0YW5jZXMuU2V0dXAoKTtcblxuICAgICAgICB0aGlzLkdsb2JhbE9iamVjdCA9IG5ldyBHbG9iYWxPYmplY3QoZ2xvYmFsKTtcblxuICAgICAgICB0aGlzLkdsb2JhbEVudmlyb25tZW50ID0gTmV3T2JqZWN0RW52aXJvbm1lbnQobmV3IFZhbHVlKHRoaXMuR2xvYmFsT2JqZWN0LCBib3QpLCBuZXcgVmFsdWUobnVsbCwgYm90KSk7XG4gICAgICAgIHRoaXMuY29udGV4dC50aGlzVmFsdWUgPSBuZXcgVmFsdWUodGhpcy5HbG9iYWxPYmplY3QsIGJvdCk7XG4gICAgICAgIHRoaXMuY29udGV4dC52YXJpYWJsZUVudiA9IG5ldyBWYWx1ZSh0aGlzLkdsb2JhbEVudmlyb25tZW50LCBib3QpO1xuICAgICAgICB0aGlzLmNvbnRleHQubGV4aWNhbEVudiA9IG5ldyBWYWx1ZSh0aGlzLkdsb2JhbEVudmlyb25tZW50LCBib3QpO1xuXG4gICAgICAgIHRoaXMubW9kdWxlID0gbmV3IENvbW1vbkpTTW9kdWxlKCk7XG4gICAgICAgIHRoaXMuR2xvYmFsT2JqZWN0LlB1dChuZXcgVmFsdWUoJ21vZHVsZScsIGJvdCksIG5ldyBWYWx1ZSh0aGlzLm1vZHVsZSwgYm90KSwgZmFsc2UpO1xuICAgICAgICB0aGlzLkdsb2JhbE9iamVjdC5QdXQobmV3IFZhbHVlKCdyZXF1aXJlJywgYm90KSwgbmV3IFZhbHVlKHRoaXMubW9kdWxlLnJlcXVpcmUsIGJvdCksIGZhbHNlKTtcblxuICAgICAgICB0aGlzLmxhYmVsQm90ID0gYm90O1xuICAgIH1cblxuICAgIEV4ZWN1dGVNb2R1bGUocGF0aCA6IHN0cmluZyk6IHZvaWQge1xuICAgICAgICBDb21tb25KU01vZHVsZS5Mb2FkTW9kdWxlKG5ldyBWYWx1ZShwYXRoLCBib3QpKTtcbiAgICB9XG5cbn0iLCJpbXBvcnQgeyBNb25pdG9yQmFzZSB9IGZyb20gJy4uL01vbml0b3JCYXNlJztcbmltcG9ydCB7IFZhbHVlIH0gZnJvbSAnLi4vVmFsdWUnO1xuaW1wb3J0IHsgVmFsdWVUeXBlcywgSUVjbWFPYmplY3QsIElFY21hRnVuY3Rpb24gfSBmcm9tICcuLi9JbnRlcmZhY2VzJztcblxuZGVjbGFyZSB2YXIgbW9uaXRvcjogTW9uaXRvckJhc2U7XG4gXG4gLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyBDaGVja09iamVjdENvZXJjaWJsZSwgOS4xMFxuXG4gIGV4cG9ydCBmdW5jdGlvbiBDaGVja09iamVjdENvZXJjaWJsZSh4IDogVmFsdWU8VmFsdWVUeXBlcz4pICA6IHggaXMgVmFsdWU8Ym9vbGVhbiB8IG51bWJlciB8IHN0cmluZyB8IElFY21hT2JqZWN0IHwgSUVjbWFGdW5jdGlvbj4ge1xuICAgIGlmICh4LnZhbHVlID09PSBudWxsIHx8IHgudmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgXG4gICAgICBtb25pdG9yLmNvbnRleHQucmFpc2VQQyh4LmxhYmVsKTtcblxuICAgICAgbW9uaXRvci5UaHJvdyhcbiAgICAgICAgXCJUeXBlRXJyb3JcIixcbiAgICAgICAgU3RyaW5nKHgudmFsdWUpICsgJyBpcyBub3QgY29lcmNpYmxlJyxcbiAgICAgICAgeC5sYWJlbFxuICAgICAgKTtcblxuICAgICAgdGhyb3cgJ1R5cGVTY3JpcHQnO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9IiwiaW1wb3J0IHsgVmFsdWUgfSBmcm9tIFwiLi4vVmFsdWVcIjtcbmltcG9ydCB7IFZhbHVlVHlwZXMsIElFY21hRnVuY3Rpb24gfSBmcm9tIFwiLi4vSW50ZXJmYWNlc1wiO1xuaW1wb3J0IHsgRWNtYU9iamVjdCB9IGZyb20gXCIuLi9PYmplY3RzL0VjbWFPYmplY3RcIjtcblxuIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gSXNDYWxsYWJsZSwgOS4xMVxuXG4gIGV4cG9ydCBmdW5jdGlvbiBJc0NhbGxhYmxlKHggOiBWYWx1ZTxWYWx1ZVR5cGVzPikgOiB4IGlzIFZhbHVlPElFY21hRnVuY3Rpb24+IHtcbiAgICB2YXIgYiA9IGZhbHNlO1xuICAgIGlmICh4LnZhbHVlICE9PSBudWxsICYmIHR5cGVvZiB4LnZhbHVlID09PSAnb2JqZWN0Jykge1xuICAgICAgYiA9ICdDYWxsJyBpbiB4LnZhbHVlO1xuICAgIH1cblxuICAgIHJldHVybiBiO1xuICB9XG4iLCJpbXBvcnQgeyBWYWx1ZSB9IGZyb20gXCIuLi9WYWx1ZVwiO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBFUzY6IElzQ29uc3RydWN0b3IsIDcuMi40XG5cbmV4cG9ydCBmdW5jdGlvbiBJc0NvbnN0cnVjdG9yKGFyZ3VtZW50IDogVmFsdWU8YW55Pik6IGJvb2xlYW4ge1xuICAgIGlmICh0eXBlb2YgYXJndW1lbnQudmFsdWUgIT09ICdvYmplY3QnKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gYXJndW1lbnQudmFsdWUuQ29uc3RydWN0ICE9PSB1bmRlZmluZWQ7XG59IFxuICAiLCJpbXBvcnQgeyBMYWJlbCwgbHViIH0gZnJvbSBcIi4vTGFiZWxcIjtcbmltcG9ydCB7IFZhbHVlVHlwZXMsIFByaW1pdGl2ZVZhbHVlVHlwZXMsIElFY21hRnVuY3Rpb24sIElFbnZpcm9ubWVudFJlY29yZCwgSUVjbWFPYmplY3QgfSBmcm9tIFwiLi9JbnRlcmZhY2VzXCI7XG5pbXBvcnQgeyBMYWJlbGVkUHJvcGVydHlEZXNjcmlwdG9yLCBKU0ZQcm9wZXJ0eURlc2NyaXB0b3IgfSBmcm9tIFwiLi9Qcm9wZXJ0eURlc2NyaXB0b3JcIjtcblxuaW1wb3J0IHsgTW9uaXRvckJhc2UgfSBmcm9tIFwiLi9Nb25pdG9yQmFzZVwiO1xuZGVjbGFyZSB2YXIgbW9uaXRvcjogTW9uaXRvckJhc2U7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gVmFsdWUgLSBsYWJlbGVkIHZhbHVlc1xuXG5leHBvcnQgY2xhc3MgVmFsdWU8VD4ge1xuICBwdWJsaWMgdmFsdWU6IFQ7XG4gIHB1YmxpYyBsYWJlbDogTGFiZWw7XG4gIGNvbnN0cnVjdG9yKHZhbHVlOiBULCBsYWJlbDogTGFiZWwpIHtcbiAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgdGhpcy5sYWJlbCA9IGxhYmVsO1xuICAgIGlmIChsYWJlbCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJWYWx1ZSB3aXRoIHVuZGVmaW5lZCBsYWJlbFwiKTtcbiAgICB9XG4gIH1cblxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICByYWlzZShsOiBMYWJlbCk6IHZvaWQge1xuICAgIHRoaXMubGFiZWwgPSBsdWIodGhpcy5sYWJlbCwgbCk7XG4gIH1cblxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICBjbG9uZSgpOiBWYWx1ZTxUPiB7XG4gICAgcmV0dXJuIG5ldyBWYWx1ZSh0aGlzLnZhbHVlLCB0aGlzLmxhYmVsKTtcbiAgfVxuXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gIHRvU3RyaW5nKCkge1xuICAgIGlmICh0eXBlb2YgdGhpcy52YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHJldHVybiBcIidcIiArIHRoaXMudmFsdWUgKyBcIidfXCIgKyB0aGlzLmxhYmVsO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLnZhbHVlICsgXCJfXCIgKyB0aGlzLmxhYmVsO1xuICAgIH1cbiAgfVxuXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyBFY21hXG4gIEdldE93blByb3BlcnR5KHM6IFZhbHVlPHN0cmluZyB8IG51bWJlcj4pOiBWYWx1ZTxMYWJlbGVkUHJvcGVydHlEZXNjcmlwdG9yIHwgdW5kZWZpbmVkPiB7XG4gICAgbGV0IHZhbHVlID0gPElFY21hT2JqZWN0Pjx1bmtub3duPnRoaXMudmFsdWU7XG4gICAgcmV0dXJuIEluQ29udGV4dCh0aGlzLmxhYmVsLCAoKSA9PiB7IHJldHVybiB2YWx1ZS5HZXRPd25Qcm9wZXJ0eShzKTsgfSk7XG4gIH1cbiAgR2V0UHJvcGVydHkoczogVmFsdWU8c3RyaW5nIHwgbnVtYmVyPik6IFZhbHVlPExhYmVsZWRQcm9wZXJ0eURlc2NyaXB0b3IgfCB1bmRlZmluZWQ+IHtcbiAgICBsZXQgdmFsdWUgPSA8SUVjbWFPYmplY3Q+PHVua25vd24+dGhpcy52YWx1ZTtcbiAgICByZXR1cm4gSW5Db250ZXh0KHRoaXMubGFiZWwsICgpID0+IHsgcmV0dXJuIHZhbHVlLkdldFByb3BlcnR5KHMpOyB9KTtcbiAgfVxuICBHZXQoczogVmFsdWU8c3RyaW5nIHwgbnVtYmVyPik6IFZhbHVlPFZhbHVlVHlwZXM+IHtcbiAgICBsZXQgdmFsdWUgPSA8SUVjbWFPYmplY3Q+PHVua25vd24+dGhpcy52YWx1ZTtcbiAgICByZXR1cm4gSW5Db250ZXh0KHRoaXMubGFiZWwsICgpID0+IHsgcmV0dXJuIHZhbHVlLkdldChzKTsgfSk7XG4gIH1cbiAgQ2FuUHV0KHA6IFZhbHVlPHN0cmluZyB8IG51bWJlcj4pOiBWYWx1ZTxib29sZWFuPiB7XG4gICAgbGV0IHZhbHVlID0gPElFY21hT2JqZWN0Pjx1bmtub3duPnRoaXMudmFsdWU7XG4gICAgcmV0dXJuIEluQ29udGV4dCh0aGlzLmxhYmVsLCAoKSA9PiB7IHJldHVybiB2YWx1ZS5DYW5QdXQocCk7IH0pO1xuICB9XG4gIFB1dChzOiBWYWx1ZTxzdHJpbmcgfCBudW1iZXI+LCB2OiBWYWx1ZTxWYWx1ZVR5cGVzPiwgVGhyb3c/OiBib29sZWFuKTogdm9pZCB7XG4gICAgbGV0IHZhbHVlID0gPElFY21hT2JqZWN0Pjx1bmtub3duPnRoaXMudmFsdWU7XG4gICAgcmV0dXJuIEluQ29udGV4dCh0aGlzLmxhYmVsLCAoKSA9PiB7IHJldHVybiB2YWx1ZS5QdXQocywgdiwgVGhyb3cpOyB9KTtcbiAgfVxuICBIYXNQcm9wZXJ0eShzOiBWYWx1ZTxzdHJpbmcgfCBudW1iZXI+KTogVmFsdWU8Ym9vbGVhbj4ge1xuICAgIGxldCB2YWx1ZSA9IDxJRWNtYU9iamVjdD48dW5rbm93bj50aGlzLnZhbHVlO1xuICAgIHJldHVybiBJbkNvbnRleHQodGhpcy5sYWJlbCwgKCkgPT4geyByZXR1cm4gdmFsdWUuSGFzUHJvcGVydHkocyk7IH0pO1xuICB9XG4gIERlbGV0ZShzOiBWYWx1ZTxzdHJpbmcgfCBudW1iZXI+LCBUaHJvdz86IGJvb2xlYW4pOiBWYWx1ZTxib29sZWFuPiB7XG4gICAgbGV0IHZhbHVlID0gPElFY21hT2JqZWN0Pjx1bmtub3duPnRoaXMudmFsdWU7XG4gICAgcmV0dXJuIEluQ29udGV4dCh0aGlzLmxhYmVsLCAoKSA9PiB7IHJldHVybiB2YWx1ZS5EZWxldGUocywgVGhyb3cpOyB9KTtcbiAgfVxuICBEZWZhdWx0VmFsdWUoaGludD86IFwic3RyaW5nXCIgfCBcIm51bWJlclwiKTogVmFsdWU8UHJpbWl0aXZlVmFsdWVUeXBlcz4ge1xuICAgIGxldCB2YWx1ZSA9IDxJRWNtYU9iamVjdD48dW5rbm93bj50aGlzLnZhbHVlO1xuICAgIHJldHVybiBJbkNvbnRleHQodGhpcy5sYWJlbCwgKCkgPT4geyByZXR1cm4gdmFsdWUuRGVmYXVsdFZhbHVlKGhpbnQpOyB9KTtcbiAgfVxuICBEZWZpbmVPd25Qcm9wZXJ0eShzOiBWYWx1ZTxzdHJpbmc+LCBkZXNjOiBKU0ZQcm9wZXJ0eURlc2NyaXB0b3IsIFRocm93PzogQm9vbGVhbik6IFZhbHVlPGJvb2xlYW4+IHtcbiAgICBsZXQgdmFsdWUgPSA8SUVjbWFPYmplY3Q+PHVua25vd24+dGhpcy52YWx1ZTtcbiAgICByZXR1cm4gSW5Db250ZXh0KHRoaXMubGFiZWwsICgpID0+IHsgcmV0dXJuIHZhbHVlLkRlZmluZU93blByb3BlcnR5KHMsIGRlc2MsIFRocm93KTsgfSk7XG4gIH1cblxuICAvLyAtLS1cbiAgLy8gRnVuY3Rpb25cbiAgSGFzSW5zdGFuY2UoVjogVmFsdWU8VmFsdWVUeXBlcz4pOiBWYWx1ZTxib29sZWFuPiB7XG4gICAgbGV0IHZhbHVlID0gPElFY21hRnVuY3Rpb24+PHVua25vd24+dGhpcy52YWx1ZTtcbiAgICByZXR1cm4gSW5Db250ZXh0KHRoaXMubGFiZWwsICgpID0+IHsgcmV0dXJuIHZhbHVlLkhhc0luc3RhbmNlKFYpOyB9KTtcbiAgfVxuICBDYWxsKHRoaXNBcmc6IFZhbHVlPFZhbHVlVHlwZXM+LCBhcmdzOiBWYWx1ZTxWYWx1ZVR5cGVzPltdKTogVmFsdWU8VmFsdWVUeXBlcz4ge1xuICAgIGxldCB2YWx1ZSA9IDxJRWNtYUZ1bmN0aW9uPjx1bmtub3duPnRoaXMudmFsdWU7XG4gICAgcmV0dXJuIEluQ29udGV4dCh0aGlzLmxhYmVsLCAoKSA9PiB7IHJldHVybiB2YWx1ZS5DYWxsKHRoaXNBcmcsIGFyZ3MpOyB9KTtcbiAgfVxuICBDb25zdHJ1Y3QoYXJnczogVmFsdWU8VmFsdWVUeXBlcz5bXSk6IFZhbHVlPElFY21hT2JqZWN0IHwgdW5kZWZpbmVkPiB7XG4gICAgbGV0IHZhbHVlID0gPElFY21hRnVuY3Rpb24+PHVua25vd24+dGhpcy52YWx1ZTtcbiAgICByZXR1cm4gSW5Db250ZXh0KHRoaXMubGFiZWwsICgpID0+IHsgcmV0dXJuIHZhbHVlLkNvbnN0cnVjdChhcmdzKTsgfSk7XG4gIH1cbiAgLy8gLS0tXG4gIC8vIE9iamVjdEVudmlyb25tZW50UmVjb3JkLCBEZWNsYXJhdGl2ZUVudmlyb25tZW50UmVjb3JkXG4gIEhhc0JpbmRpbmcocDogVmFsdWU8c3RyaW5nPik6IFZhbHVlPGJvb2xlYW4+IHtcbiAgICBsZXQgdmFsdWUgPSA8SUVudmlyb25tZW50UmVjb3JkPjx1bmtub3duPnRoaXMudmFsdWU7XG4gICAgcmV0dXJuIEluQ29udGV4dCh0aGlzLmxhYmVsLCAoKSA9PiB7IHJldHVybiB2YWx1ZS5IYXNCaW5kaW5nKHApOyB9KTtcbiAgfVxuICBDcmVhdGVNdXRhYmxlQmluZGluZyhwOiBWYWx1ZTxzdHJpbmc+LCBkOiBib29sZWFuKTogdm9pZCB7XG4gICAgbGV0IHZhbHVlID0gPElFbnZpcm9ubWVudFJlY29yZD48dW5rbm93bj50aGlzLnZhbHVlO1xuICAgIHJldHVybiBJbkNvbnRleHQodGhpcy5sYWJlbCwgKCkgPT4geyByZXR1cm4gdmFsdWUuQ3JlYXRlTXV0YWJsZUJpbmRpbmcocCwgZCk7IH0pO1xuICB9XG4gIEdldEJpbmRpbmdWYWx1ZShwOiBWYWx1ZTxzdHJpbmc+LCBzPzogYm9vbGVhbik6IFZhbHVlPFZhbHVlVHlwZXM+IHtcbiAgICBsZXQgdmFsdWUgPSA8SUVudmlyb25tZW50UmVjb3JkPjx1bmtub3duPnRoaXMudmFsdWU7XG4gICAgcmV0dXJuIEluQ29udGV4dCh0aGlzLmxhYmVsLCAoKSA9PiB7IHJldHVybiB2YWx1ZS5HZXRCaW5kaW5nVmFsdWUocCwgcyk7IH0pO1xuICB9XG4gIFNldE11dGFibGVCaW5kaW5nKHA6IFZhbHVlPHN0cmluZz4sIHY6IFZhbHVlPFZhbHVlVHlwZXM+LCBzPzogYm9vbGVhbik6IHZvaWQge1xuICAgIGxldCB2YWx1ZSA9IDxJRW52aXJvbm1lbnRSZWNvcmQ+PHVua25vd24+dGhpcy52YWx1ZTtcbiAgICByZXR1cm4gSW5Db250ZXh0KHRoaXMubGFiZWwsICgpID0+IHsgcmV0dXJuIHZhbHVlLlNldE11dGFibGVCaW5kaW5nKHAsIHYsIHMpOyB9KTtcbiAgfVxuICBEZWxldGVCaW5kaW5nKHA6IFZhbHVlPHN0cmluZz4pOiBWYWx1ZTxib29sZWFuPiB7XG4gICAgbGV0IHZhbHVlID0gPElFbnZpcm9ubWVudFJlY29yZD48dW5rbm93bj50aGlzLnZhbHVlO1xuICAgIHJldHVybiBJbkNvbnRleHQodGhpcy5sYWJlbCwgKCkgPT4geyByZXR1cm4gdmFsdWUuRGVsZXRlQmluZGluZyhwKTsgfSk7XG4gIH1cbiAgSW1wbGljaXRUaGlzVmFsdWUoKTogVmFsdWU8SUVjbWFPYmplY3QgfCB1bmRlZmluZWQ+IHtcbiAgICBsZXQgdmFsdWUgPSA8SUVudmlyb25tZW50UmVjb3JkPjx1bmtub3duPnRoaXMudmFsdWU7XG4gICAgcmV0dXJuIEluQ29udGV4dCh0aGlzLmxhYmVsLCAoKSA9PiB7IHJldHVybiB2YWx1ZS5JbXBsaWNpdFRoaXNWYWx1ZSgpOyB9KTtcbiAgfVxuICAvLyBEZWNsYXJhdGl2ZUVudmlyb25tZW50UmVjb3JkXG4gIENyZWF0ZUltbXV0YWJsZUJpbmRpbmcocDogVmFsdWU8c3RyaW5nPik6IHZvaWQge1xuICAgIGxldCB2YWx1ZSA9IDxhbnk+dGhpcy52YWx1ZTtcbiAgICByZXR1cm4gSW5Db250ZXh0KHRoaXMubGFiZWwsICgpID0+IHsgcmV0dXJuIHZhbHVlLkNyZWF0ZUltbXV0YWJsZUJpbmRpbmcocCk7IH0pO1xuICB9XG4gIEluaXRpYWxpemVJbW11dGFibGVCaW5kaW5nKHA6IFZhbHVlPHN0cmluZz4sIHY6IFZhbHVlPFZhbHVlVHlwZXM+KTogdm9pZCB7XG4gICAgbGV0IHZhbHVlID0gPGFueT50aGlzLnZhbHVlO1xuICAgIHJldHVybiBJbkNvbnRleHQodGhpcy5sYWJlbCwgKCkgPT4geyByZXR1cm4gdmFsdWUuSW5pdGlhbGl6ZUltbXV0YWJsZUJpbmRpbmcocCwgdik7IH0pO1xuICB9XG59XG5cbmZ1bmN0aW9uIEluQ29udGV4dDxUPihsOiBMYWJlbCwgZjogKCkgPT4gVCk6IFQge1xuICBtb25pdG9yLmNvbnRleHQucHVzaFBDKGwpO1xuICBsZXQgcmVzID0gZigpO1xuICBtb25pdG9yLmNvbnRleHQucG9wUEMoKTtcblxuICBpZiAocmVzIGluc3RhbmNlb2YgVmFsdWUpIHtcbiAgICByZXMucmFpc2UobCk7XG4gIH1cblxuICByZXR1cm4gcmVzO1xufVxuIl19
